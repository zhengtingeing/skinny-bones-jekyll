/*! BEGIN Core */
/*! BEGIN Underscore */
(function(){var n=this,t=n._,r={},e=Array.prototype,u=Object.prototype,i=Function.prototype,a=e.push,o=e.slice,c=e.concat,l=u.toString,f=u.hasOwnProperty,s=e.forEach,p=e.map,h=e.reduce,v=e.reduceRight,g=e.filter,d=e.every,m=e.some,y=e.indexOf,b=e.lastIndexOf,x=Array.isArray,w=Object.keys,_=i.bind,j=function(n){return n instanceof j?n:this instanceof j?void(this._wrapped=n):new j(n)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=j),exports._=j):n._=j,j.VERSION="1.6.0";var A=j.each=j.forEach=function(n,t,e){if(null==n)return n;if(s&&n.forEach===s)n.forEach(t,e);else if(n.length===+n.length){for(var u=0,i=n.length;i>u;u++)if(t.call(e,n[u],u,n)===r)return}else for(var a=j.keys(n),u=0,i=a.length;i>u;u++)if(t.call(e,n[a[u]],a[u],n)===r)return;return n};j.map=j.collect=function(n,t,r){var e=[];return null==n?e:p&&n.map===p?n.map(t,r):(A(n,function(n,u,i){e.push(t.call(r,n,u,i))}),e)};var O="Reduce of empty array with no initial value";j.reduce=j.foldl=j.inject=function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),h&&n.reduce===h)return e&&(t=j.bind(t,e)),u?n.reduce(t,r):n.reduce(t);if(A(n,function(n,i,a){u?r=t.call(e,r,n,i,a):(r=n,u=!0)}),!u)throw new TypeError(O);return r},j.reduceRight=j.foldr=function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),v&&n.reduceRight===v)return e&&(t=j.bind(t,e)),u?n.reduceRight(t,r):n.reduceRight(t);var i=n.length;if(i!==+i){var a=j.keys(n);i=a.length}if(A(n,function(o,c,l){c=a?a[--i]:--i,u?r=t.call(e,r,n[c],c,l):(r=n[c],u=!0)}),!u)throw new TypeError(O);return r},j.find=j.detect=function(n,t,r){var e;return k(n,function(n,u,i){return t.call(r,n,u,i)?(e=n,!0):void 0}),e},j.filter=j.select=function(n,t,r){var e=[];return null==n?e:g&&n.filter===g?n.filter(t,r):(A(n,function(n,u,i){t.call(r,n,u,i)&&e.push(n)}),e)},j.reject=function(n,t,r){return j.filter(n,function(n,e,u){return!t.call(r,n,e,u)},r)},j.every=j.all=function(n,t,e){t||(t=j.identity);var u=!0;return null==n?u:d&&n.every===d?n.every(t,e):(A(n,function(n,i,a){return(u=u&&t.call(e,n,i,a))?void 0:r}),!!u)};var k=j.some=j.any=function(n,t,e){t||(t=j.identity);var u=!1;return null==n?u:m&&n.some===m?n.some(t,e):(A(n,function(n,i,a){return u||(u=t.call(e,n,i,a))?r:void 0}),!!u)};j.contains=j.include=function(n,t){return null==n?!1:y&&n.indexOf===y?n.indexOf(t)!=-1:k(n,function(n){return n===t})},j.invoke=function(n,t){var r=o.call(arguments,2),e=j.isFunction(t);return j.map(n,function(n){return(e?t:n[t]).apply(n,r)})},j.pluck=function(n,t){return j.map(n,j.property(t))},j.where=function(n,t){return j.filter(n,j.matches(t))},j.findWhere=function(n,t){return j.find(n,j.matches(t))},j.max=function(n,t,r){if(!t&&j.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.max.apply(Math,n);var e=-1/0,u=-1/0;return A(n,function(n,i,a){var o=t?t.call(r,n,i,a):n;o>u&&(e=n,u=o)}),e},j.min=function(n,t,r){if(!t&&j.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.min.apply(Math,n);var e=1/0,u=1/0;return A(n,function(n,i,a){var o=t?t.call(r,n,i,a):n;u>o&&(e=n,u=o)}),e},j.shuffle=function(n){var t,r=0,e=[];return A(n,function(n){t=j.random(r++),e[r-1]=e[t],e[t]=n}),e},j.sample=function(n,t,r){return null==t||r?(n.length!==+n.length&&(n=j.values(n)),n[j.random(n.length-1)]):j.shuffle(n).slice(0,Math.max(0,t))};var E=function(n){return null==n?j.identity:j.isFunction(n)?n:j.property(n)};j.sortBy=function(n,t,r){return t=E(t),j.pluck(j.map(n,function(n,e,u){return{value:n,index:e,criteria:t.call(r,n,e,u)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||r===void 0)return 1;if(e>r||e===void 0)return-1}return n.index-t.index}),"value")};var F=function(n){return function(t,r,e){var u={};return r=E(r),A(t,function(i,a){var o=r.call(e,i,a,t);n(u,o,i)}),u}};j.groupBy=F(function(n,t,r){j.has(n,t)?n[t].push(r):n[t]=[r]}),j.indexBy=F(function(n,t,r){n[t]=r}),j.countBy=F(function(n,t){j.has(n,t)?n[t]++:n[t]=1}),j.sortedIndex=function(n,t,r,e){r=E(r);for(var u=r.call(e,t),i=0,a=n.length;a>i;){var o=i+a>>>1;r.call(e,n[o])<u?i=o+1:a=o}return i},j.toArray=function(n){return n?j.isArray(n)?o.call(n):n.length===+n.length?j.map(n,j.identity):j.values(n):[]},j.size=function(n){return null==n?0:n.length===+n.length?n.length:j.keys(n).length},j.first=j.head=j.take=function(n,t,r){return null==n?void 0:null==t||r?n[0]:0>t?[]:o.call(n,0,t)},j.initial=function(n,t,r){return o.call(n,0,n.length-(null==t||r?1:t))},j.last=function(n,t,r){return null==n?void 0:null==t||r?n[n.length-1]:o.call(n,Math.max(n.length-t,0))},j.rest=j.tail=j.drop=function(n,t,r){return o.call(n,null==t||r?1:t)},j.compact=function(n){return j.filter(n,j.identity)};var M=function(n,t,r){return t&&j.every(n,j.isArray)?c.apply(r,n):(A(n,function(n){j.isArray(n)||j.isArguments(n)?t?a.apply(r,n):M(n,t,r):r.push(n)}),r)};j.flatten=function(n,t){return M(n,t,[])},j.without=function(n){return j.difference(n,o.call(arguments,1))},j.partition=function(n,t){var r=[],e=[];return A(n,function(n){(t(n)?r:e).push(n)}),[r,e]},j.uniq=j.unique=function(n,t,r,e){j.isFunction(t)&&(e=r,r=t,t=!1);var u=r?j.map(n,r,e):n,i=[],a=[];return A(u,function(r,e){(t?e&&a[a.length-1]===r:j.contains(a,r))||(a.push(r),i.push(n[e]))}),i},j.union=function(){return j.uniq(j.flatten(arguments,!0))},j.intersection=function(n){var t=o.call(arguments,1);return j.filter(j.uniq(n),function(n){return j.every(t,function(t){return j.contains(t,n)})})},j.difference=function(n){var t=c.apply(e,o.call(arguments,1));return j.filter(n,function(n){return!j.contains(t,n)})},j.zip=function(){for(var n=j.max(j.pluck(arguments,"length").concat(0)),t=new Array(n),r=0;n>r;r++)t[r]=j.pluck(arguments,""+r);return t},j.object=function(n,t){if(null==n)return{};for(var r={},e=0,u=n.length;u>e;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},j.indexOf=function(n,t,r){if(null==n)return-1;var e=0,u=n.length;if(r){if("number"!=typeof r)return e=j.sortedIndex(n,t),n[e]===t?e:-1;e=0>r?Math.max(0,u+r):r}if(y&&n.indexOf===y)return n.indexOf(t,r);for(;u>e;e++)if(n[e]===t)return e;return-1},j.lastIndexOf=function(n,t,r){if(null==n)return-1;var e=null!=r;if(b&&n.lastIndexOf===b)return e?n.lastIndexOf(t,r):n.lastIndexOf(t);for(var u=e?r:n.length;u--;)if(n[u]===t)return u;return-1},j.range=function(n,t,r){arguments.length<=1&&(t=n||0,n=0),r=arguments[2]||1;for(var e=Math.max(Math.ceil((t-n)/r),0),u=0,i=new Array(e);e>u;)i[u++]=n,n+=r;return i};var R=function(){};j.bind=function(n,t){var r,e;if(_&&n.bind===_)return _.apply(n,o.call(arguments,1));if(!j.isFunction(n))throw new TypeError;return r=o.call(arguments,2),e=function(){if(!(this instanceof e))return n.apply(t,r.concat(o.call(arguments)));R.prototype=n.prototype;var u=new R;R.prototype=null;var i=n.apply(u,r.concat(o.call(arguments)));return Object(i)===i?i:u}},j.partial=function(n){var t=o.call(arguments,1);return function(){for(var r=0,e=t.slice(),u=0,i=e.length;i>u;u++)e[u]===j&&(e[u]=arguments[r++]);for(;r<arguments.length;)e.push(arguments[r++]);return n.apply(this,e)}},j.bindAll=function(n){var t=o.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return A(t,function(t){n[t]=j.bind(n[t],n)}),n},j.memoize=function(n,t){var r={};return t||(t=j.identity),function(){var e=t.apply(this,arguments);return j.has(r,e)?r[e]:r[e]=n.apply(this,arguments)}},j.delay=function(n,t){var r=o.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},j.defer=function(n){return j.delay.apply(j,[n,1].concat(o.call(arguments,1)))},j.throttle=function(n,t,r){var e,u,i,a=null,o=0;r||(r={});var c=function(){o=r.leading===!1?0:j.now(),a=null,i=n.apply(e,u),e=u=null};return function(){var l=j.now();o||r.leading!==!1||(o=l);var f=t-(l-o);return e=this,u=arguments,0>=f?(clearTimeout(a),a=null,o=l,i=n.apply(e,u),e=u=null):a||r.trailing===!1||(a=setTimeout(c,f)),i}},j.debounce=function(n,t,r){var e,u,i,a,o,c=function(){var l=j.now()-a;t>l?e=setTimeout(c,t-l):(e=null,r||(o=n.apply(i,u),i=u=null))};return function(){i=this,u=arguments,a=j.now();var l=r&&!e;return e||(e=setTimeout(c,t)),l&&(o=n.apply(i,u),i=u=null),o}},j.once=function(n){var t,r=!1;return function(){return r?t:(r=!0,t=n.apply(this,arguments),n=null,t)}},j.wrap=function(n,t){return j.partial(t,n)},j.compose=function(){var n=arguments;return function(){for(var t=arguments,r=n.length-1;r>=0;r--)t=[n[r].apply(this,t)];return t[0]}},j.after=function(n,t){return function(){return--n<1?t.apply(this,arguments):void 0}},j.keys=function(n){if(!j.isObject(n))return[];if(w)return w(n);var t=[];for(var r in n)j.has(n,r)&&t.push(r);return t},j.values=function(n){for(var t=j.keys(n),r=t.length,e=new Array(r),u=0;r>u;u++)e[u]=n[t[u]];return e},j.pairs=function(n){for(var t=j.keys(n),r=t.length,e=new Array(r),u=0;r>u;u++)e[u]=[t[u],n[t[u]]];return e},j.invert=function(n){for(var t={},r=j.keys(n),e=0,u=r.length;u>e;e++)t[n[r[e]]]=r[e];return t},j.functions=j.methods=function(n){var t=[];for(var r in n)j.isFunction(n[r])&&t.push(r);return t.sort()},j.extend=function(n){return A(o.call(arguments,1),function(t){if(t)for(var r in t)n[r]=t[r]}),n},j.pick=function(n){var t={},r=c.apply(e,o.call(arguments,1));return A(r,function(r){r in n&&(t[r]=n[r])}),t},j.omit=function(n){var t={},r=c.apply(e,o.call(arguments,1));for(var u in n)j.contains(r,u)||(t[u]=n[u]);return t},j.defaults=function(n){return A(o.call(arguments,1),function(t){if(t)for(var r in t)n[r]===void 0&&(n[r]=t[r])}),n},j.clone=function(n){return j.isObject(n)?j.isArray(n)?n.slice():j.extend({},n):n},j.tap=function(n,t){return t(n),n};var S=function(n,t,r,e){if(n===t)return 0!==n||1/n==1/t;if(null==n||null==t)return n===t;n instanceof j&&(n=n._wrapped),t instanceof j&&(t=t._wrapped);var u=l.call(n);if(u!=l.call(t))return!1;switch(u){case"[object String]":return n==String(t);case"[object Number]":return n!=+n?t!=+t:0==n?1/n==1/t:n==+t;case"[object Date]":case"[object Boolean]":return+n==+t;case"[object RegExp]":return n.source==t.source&&n.global==t.global&&n.multiline==t.multiline&&n.ignoreCase==t.ignoreCase}if("object"!=typeof n||"object"!=typeof t)return!1;for(var i=r.length;i--;)if(r[i]==n)return e[i]==t;var a=n.constructor,o=t.constructor;if(a!==o&&!(j.isFunction(a)&&a instanceof a&&j.isFunction(o)&&o instanceof o)&&"constructor"in n&&"constructor"in t)return!1;r.push(n),e.push(t);var c=0,f=!0;if("[object Array]"==u){if(c=n.length,f=c==t.length)for(;c--&&(f=S(n[c],t[c],r,e)););}else{for(var s in n)if(j.has(n,s)&&(c++,!(f=j.has(t,s)&&S(n[s],t[s],r,e))))break;if(f){for(s in t)if(j.has(t,s)&&!c--)break;f=!c}}return r.pop(),e.pop(),f};j.isEqual=function(n,t){return S(n,t,[],[])},j.isEmpty=function(n){if(null==n)return!0;if(j.isArray(n)||j.isString(n))return 0===n.length;for(var t in n)if(j.has(n,t))return!1;return!0},j.isElement=function(n){return!(!n||1!==n.nodeType)},j.isArray=x||function(n){return"[object Array]"==l.call(n)},j.isObject=function(n){return n===Object(n)},A(["Arguments","Function","String","Number","Date","RegExp"],function(n){j["is"+n]=function(t){return l.call(t)=="[object "+n+"]"}}),j.isArguments(arguments)||(j.isArguments=function(n){return!(!n||!j.has(n,"callee"))}),"function"!=typeof/./&&(j.isFunction=function(n){return"function"==typeof n}),j.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},j.isNaN=function(n){return j.isNumber(n)&&n!=+n},j.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"==l.call(n)},j.isNull=function(n){return null===n},j.isUndefined=function(n){return n===void 0},j.has=function(n,t){return f.call(n,t)},j.noConflict=function(){return n._=t,this},j.identity=function(n){return n},j.constant=function(n){return function(){return n}},j.property=function(n){return function(t){return t[n]}},j.matches=function(n){return function(t){if(t===n)return!0;for(var r in n)if(n[r]!==t[r])return!1;return!0}},j.times=function(n,t,r){for(var e=Array(Math.max(0,n)),u=0;n>u;u++)e[u]=t.call(r,u);return e},j.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))},j.now=Date.now||function(){return(new Date).getTime()};var T={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};T.unescape=j.invert(T.escape);var I={escape:new RegExp("["+j.keys(T.escape).join("")+"]","g"),unescape:new RegExp("("+j.keys(T.unescape).join("|")+")","g")};j.each(["escape","unescape"],function(n){j[n]=function(t){return null==t?"":(""+t).replace(I[n],function(t){return T[n][t]})}}),j.result=function(n,t){if(null==n)return void 0;var r=n[t];return j.isFunction(r)?r.call(n):r},j.mixin=function(n){A(j.functions(n),function(t){var r=j[t]=n[t];j.prototype[t]=function(){var n=[this._wrapped];return a.apply(n,arguments),z.call(this,r.apply(j,n))}})};var N=0;j.uniqueId=function(n){var t=++N+"";return n?n+t:t},j.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var q=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},D=/\\|'|\r|\n|\t|\u2028|\u2029/g;j.template=function(n,t,r){var e;r=j.defaults({},r,j.templateSettings);var u=new RegExp([(r.escape||q).source,(r.interpolate||q).source,(r.evaluate||q).source].join("|")+"|$","g"),i=0,a="__p+='";n.replace(u,function(t,r,e,u,o){return a+=n.slice(i,o).replace(D,function(n){return"\\"+B[n]}),r&&(a+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'"),e&&(a+="'+\n((__t=("+e+"))==null?'':__t)+\n'"),u&&(a+="';\n"+u+"\n__p+='"),i=o+t.length,t}),a+="';\n",r.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,"+"print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{e=new Function(r.variable||"obj","_",a)}catch(o){throw o.source=a,o}if(t)return e(t,j);var c=function(n){return e.call(this,n,j)};return c.source="function("+(r.variable||"obj")+"){\n"+a+"}",c},j.chain=function(n){return j(n).chain()};var z=function(n){return this._chain?j(n).chain():n};j.mixin(j),A(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=e[n];j.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!=n&&"splice"!=n||0!==r.length||delete r[0],z.call(this,r)}}),A(["concat","join","slice"],function(n){var t=e[n];j.prototype[n]=function(){return z.call(this,t.apply(this._wrapped,arguments))}}),j.extend(j.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof define&&define.amd&&define("underscore",[],function(){return j})}).call(this);(function(){
/*! BEGIN CoreSlim */
(function(){'dont use strict';var a={};global.tab=global.tab||{};ss.initAssembly(a,'tabcoreslim');var b=function(){};b.__typeName='tab.CookieHelper';b.getCookie=function(){return document.cookie};b.setCookie=function(f){document.cookie=f};global.tab.CookieHelper=b;var c=function(){};c.__typeName='tab.EscapingUtil';c.escapeHtml=function(f){var g=ss.coalesce(f,'');g=g.replace(new RegExp('&','g'),'&amp;');g=g.replace(new RegExp('<','g'),'&lt;');g=g.replace(new RegExp('>','g'),'&gt;');g=g.replace(new RegExp('"','g'),'&quot;');g=g.replace(new RegExp("'",'g'),'&#39;');g=g.replace(new RegExp('/','g'),'&#47;');return g};global.tab.EscapingUtil=c;var d=function(){};d.__typeName='tab.ScriptEx';global.tab.ScriptEx=d;var e=function(f){this.$0=null;this.$0=f};e.__typeName='tab.WindowHelper';e.get_windowSelf=function(){return window.self};e.get_selection=function(){if(typeof(window['getSelection'])==='function'){return window.getSelection()}else if(typeof(document['getSelection'])==='function'){return document.getSelection()}return null};e.close=function(f){f.close()};e.getOpener=function(f){return f.opener};e.getLocation=function(f){return f.location};e.getPathAndSearch=function(f){return f.location.pathname+f.location.search};e.setLocationHref=function(f,g){f.location.href=g};e.locationReplace=function(f,g){f.location.replace(g)};e.open=function(f,g,h){return window.open(f,g,h)};e.reload=function(f,g){f.location.reload(g)};e.requestAnimationFrame=function(f){return e.$c(f)};e.cancelAnimationFrame=function(f){if(ss.isValue(f)){e.$b(f)}};e.setTimeout=function(f,g){return window.setTimeout(f,g)};e.setInterval=function(f,g){return window.setInterval(f,g)};e.addListener=function(f,g,h){if('addEventListener'in f){f.addEventListener(g,h,false)}else{f.attachEvent('on'+g,h)}};e.removeListener=function(f,g,h){if('removeEventListener'in f){f.removeEventListener(g,h,false)}else{f.detachEvent('on'+g,h)}};e.$0=function(){var f=0;e.$c=function(g){var h=(new Date).getTime();var i=Math.max(0,16-(h-f));f=h+i;var j=window.setTimeout(g,i);return j}};e.clearSelection=function(){var f=e.get_selection();if(ss.isValue(f)){if(typeof(f['removeAllRanges'])==='function'){f.removeAllRanges()}else if(typeof(f['empty'])==='function'){f['empty']()}}};global.tab.WindowHelper=e;ss.initClass(b,a,{});ss.initClass(c,a,{});ss.initClass(d,a,{});ss.initClass(e,a,{get_pageXOffset:function(){return e.$7(this.$0)},get_pageYOffset:function(){return e.$8(this.$0)},get_clientWidth:function(){return e.$2(this.$0)},get_clientHeight:function(){return e.$1(this.$0)},get_innerWidth:function(){return e.$4(this.$0)},get_outerWidth:function(){return e.$6(this.$0)},get_innerHeight:function(){return e.$3(this.$0)},get_outerHeight:function(){return e.$5(this.$0)},get_screenLeft:function(){return e.$9(this.$0)},get_screenTop:function(){return e.$a(this.$0)},isQuirksMode:function(){return document.compatMode==='BackCompat'}});(function(){e.$4=null;e.$3=null;e.$2=null;e.$1=null;e.$7=null;e.$8=null;e.$9=null;e.$a=null;e.$6=null;e.$5=null;e.$c=null;e.$b=null;if('innerWidth'in window){e.$4=function(n){return n.innerWidth}}else{e.$4=function(n){return n.document.documentElement.offsetWidth}}if('outerWidth'in window){e.$6=function(n){return n.outerWidth}}else{e.$6=e.$4}if('innerHeight'in window){e.$3=function(n){return n.innerHeight}}else{e.$3=function(n){return n.document.documentElement.offsetHeight}}if('outerHeight'in window){e.$5=function(n){return n.outerHeight}}else{e.$5=e.$3}if('clientWidth'in window){e.$2=function(n){return n['clientWidth']}}else{e.$2=function(n){return n.document.documentElement.clientWidth}}if('clientHeight'in window){e.$1=function(n){return n['clientHeight']}}else{e.$1=function(n){return n.document.documentElement.clientHeight}}if(ss.isValue(window.self.pageXOffset)){e.$7=function(n){return n.pageXOffset}}else{e.$7=function(n){return n.document.documentElement.scrollLeft}}if(ss.isValue(window.self.pageYOffset)){e.$8=function(n){return n.pageYOffset}}else{e.$8=function(n){return n.document.documentElement.scrollTop}}if('screenLeft'in window){e.$9=function(n){return n.screenLeft}}else{e.$9=function(n){return n.screenX}}if('screenTop'in window){e.$a=function(n){return n.screenTop}}else{e.$a=function(n){return n.screenY}}{var f='requestAnimationFrame';var g='cancelAnimationFrame';var h=['ms','moz','webkit','o'];var i=null;var j=null;if(f in window){i=f}if(g in window){j=g}for(var k=0;k<h.length&&(ss.isNullOrUndefined(i)||ss.isNullOrUndefined(j));++k){var l=h[k];var m=l+'RequestAnimationFrame';if(ss.isNullOrUndefined(i)&&m in window){i=m}if(ss.isNullOrUndefined(j)){m=l+'CancelAnimationFrame';if(m in window){j=m}m=l+'CancelRequestAnimationFrame';if(m in window){j=m}}}if(ss.isValue(i)){e.$c=function(n){return window[i](n)}}else{e.$0()}if(ss.isValue(j)){e.$b=function(n){window[j](n)}}else{e.$b=function(n){window.clearTimeout(n)}}}})()})();(function(){'dont use strict';var a={};global.tab=global.tab||{};global.tableau=global.tableau||{};global.tableau.types=global.tableau.types||{};global.tableau.util=global.tableau.util||{};ss.initAssembly(a,'vqlcore');var b=function(){};b.__typeName='ColumnClass';global.ColumnClass=b;var c=function(){};c.__typeName='DrillState';global.DrillState=c;var d=function(){};d.__typeName='SelectAction';global.SelectAction=d;$.fn.focusDelayed=function(e,bI){this.each(function(bJ,bK){window.setTimeout(function(){$(bK).focus();if(ss.isValue(bI)){bI.call(bK)}},e)})};$.expr.pseudos.focusable=function(e){return f.$0(e,!isNaN(parseInt($(e).attr('tabindex'),10)))};$.expr.pseudos.tabbable=function(e){var bI=parseInt($(e).attr('tabindex'),10);var bJ=isNaN(bI);return(bJ||bI>=0)&&f.$0(e,!bJ)};var f=function(){};f.__typeName='tab.$0';f.$0=function(e,bI){var bJ=e.nodeName.toLowerCase();if(bJ==='area'){return false}var bK=bI;var bL=new RegExp('input|select|textarea|button|object');if(bL.test(bJ)){bK=!e.disabled}else if(bJ==='a'){bK=!ss.isNullOrEmptyString(e.href)||bI}return bK&&f.$1(e)};f.$1=function(e){for(var bI='';ss.isValue(e);e=e.parentElement){if(e.style.display==='none'){return false}else if(bI==='visible'){continue}else if(bI.length===0||bI==='inherit'){bI=e.style.visibility}if(bI==='hidden'){return false}}return true};var g=function(e){var bI=function(){};ss.registerGenericClassInstance(bI,g,[e],{current:null,reset:null,moveNext:null,dispose:function(){}},function(){return null},function(){return[ss.IDisposable,ss.IEnumerator,ss.IEnumerator]});return bI};g.__typeName='tab.AbstractEnumerator$1';ss.initGenericClass(g,a,1);global.tab.AbstractEnumerator$1=g;var h=function(){this.$0=null;this.$0=[]};h.__typeName='tab.BaseLogAppender';global.tab.BaseLogAppender=h;var i=function(){};i.__typeName='tab.BrowserSupport';i.get_getComputedStyle=function(){return'getComputedStyle'in window};i.get_addEventListener=function(){return'addEventListener'in document};i.get_selectStart=function(){return i.$H};i.get_fontLoaderApi=function(){return i.$n};i.get_postMessage=function(){return i.$F};i.get_historyApi=function(){return i.$p};i.get_consoleLogFormating=function(){return i.$g};i.get_isMobile=function(){return i.$s||i.$x};i.get_isIos=function(){return i.$x};i.get_isAndroid=function(){return i.$s};i.get_isChrome=function(){return i.$t};i.get_isMac=function(){return i.$z};i.get_isIE=function(){return i.$w};i.get_isEdge=function(){return i.$u};i.get_isFF=function(){return i.$v};i.get_isOpera=function(){return i.$B};i.get_isSafari=function(){return i.$C};i.get_isWindows=function(){return i.$E};i.get_isHighDpi=function(){return window.matchMedia('(-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi)').matches};i.get_browserVersion=function(){return i.$q};i.get_safariVersion=function(){return i.$G};i.get_googleChromeVersion=function(){return i.$o};i.get_iosVersion=function(){return i.$r};i.get_raisesEventOnImageReassignment=function(){return!i.$C};i.get_imageLoadIsSynchronous=function(){return i.$w};i.get_useAlternateHitStrategy=function(){return i.$J};i.get_cssTransformName=function(){return i.$h};i.get_cssTransitionName=function(){return i.$i};i.get_backingStoragePixelRatio=function(){return i.$e};i.get_devicePixelRatio=function(){return i.$m};i.get_canvasLinePattern=function(){return i.$f};i.get_dateInput=function(){return i.$j};i.get_dateTimeInput=function(){return i.$k};i.get_dateTimeLocalInput=function(){return i.$l};i.get_timeInput=function(){return i.$K};i.get_setSelectionRange=function(){return i.$I};i.get_mouseWheelEvent=function(){if('onwheel'in window.document.documentElement){return'wheel'}if('onmousewheel'in window.document.documentElement){return'mousewheel'}return'MozMousePixelScroll'};i.get_mouseCapture=function(){return'releaseCapture'in document};i.get_orientationChange=function(){return'onorientationchange'in window};i.get_isGeolocationSupported=function(){return ss.isValue(window.navigator.geolocation)};i.get_isIpad=function(){return window.navigator.userAgent.indexOf('iPad')!==-1};i.detectBrowserSupport=function(){var e=document.body;var bI=document.createElement('div');e.appendChild(bI);i.$H='onselectstart'in bI;e.removeChild(bI).style.display='none';i.$F='postMessage'in window;i.$p=typeof(window.history['pushState'])==='function'&&typeof(window.history['replaceState'])==='function';i.$3();i.$1();i.$b();i.$a();i.$8();i.$7();i.$0();i.$6();i.$2();i.$9()};i.getOrigin=function(e){var bI=e.origin;if(ss.isNullOrUndefined(bI)){bI=e.protocol+'//'+e.host}return bI};i.doPostMessageWithContext=function(e){var bI=tabBootstrap.Utility.doPostMessageWithContext(e);if(!bI){}};i.$8=function(){var e=window.document.body;if(i.$D&&i.get_isMobile()){var bI=$('<div></div>');bI.css(ss.mkdict(['position','absolute','top','300px','left','300px','width','25px','height','25px','z-index','10000']));var bJ=bI.get(0);try{e.appendChild(bJ);i.$J=!ss.referenceEquals(document.elementFromPoint(310,310),bJ)}catch(bK){}finally{bI.remove()}}};i.$3=function(){try{if(ss.isValue(window.console&&ss.isValue(window.console.log))){i.$g=window.navigator.userAgent.indexOf('iPad')<0}else{i.$g=false}}catch(e){i.$g=false}};i.$1=function(){var e=i.$c();i.$y=e.indexOf('Konqueror')>=0;i.$D=e.indexOf('WebKit')>=0;i.$t=e.indexOf('Chrome')>=0;i.$C=e.indexOf('Safari')>=0&&!i.$t;i.$B=e.indexOf('Opera')>=0;if(i.$C){var bI=e.match(new RegExp('\\bVersion\\/(\\d+\\.\\d+)'));if(ss.isValue(bI)){i.$G=parseFloat(bI[1])}}if(i.$t){var bJ=e.match(new RegExp('\\bChrome/(\\d+\\.\\d+)'));if(ss.isValue(bJ)){i.$o=parseFloat(bJ[1])}}i.$q=0;i.$w=false;var bK=e.match(new RegExp('\\bMSIE (\\d+\\.\\d+)'));if(ss.isValue(bK)){i.$w=true;i.$q=parseFloat(bK[1])}if(!i.$w&&!i.$B&&(e.indexOf('Trident')>=0||e.indexOf('Edge/')>=0)){var bL=e.match(new RegExp('\\brv:(\\d+\\.\\d+)'));var bM=e.match(new RegExp('Edge/(\\d+\\.\\d+)'));if(ss.isValue(bL)){i.$w=true;i.$u=false;i.$q=parseFloat(bL[1])}else if(ss.isValue(bM)){i.$w=true;i.$u=true;i.$t=false;i.$C=false;i.$q=parseFloat(bM[1])}}i.$A=!i.$y&&!i.$D&&!i.$w&&e.indexOf('Gecko')>=0;i.$v=i.$A||e.indexOf('Firefox')>=0||e.indexOf('Minefield')>=0;var bN=new RegExp('iPhone|iPod|iPad');i.$x=bN.test(e);if(i.$x){var bO=e.match(new RegExp('\\bOS ([\\d+_?]+) like Mac OS X'));if(ss.isValue(bO)){i.$r=parseFloat(ss.replaceAllString(bO[1].replace('_','.'),'_',''))}}i.$s=e.indexOf('Android')>=0&&!i.$w;i.$z=e.indexOf('Mac')>=0;i.$E=e.indexOf('Windows')>=0};i.$c=function(){return window.navigator.userAgent};i.$b=function(){var e=ss.mkdict(['transition','transition','webkitTransition','-webkit-transition','msTransition','-ms-transition','mozTransition','-moz-transition','oTransition','-o-transition']);var bI=i.$4(e);if(ss.isNullOrUndefined(bI)){bI=i.$i}i.$i=bI};i.$a=function(){var e=ss.mkdict(['transform','transform','webkitTransform','-webkit-transform','msTransform','-ms-transform','mozTransform','-moz-transform','oTransform','-o-transform']);var bI=i.$4(e);if(ss.isNullOrUndefined(bI)){bI=i.$h}i.$h=bI};i.$4=function(e){var bI=new ss.ObjectEnumerator(e);try{while(bI.moveNext()){var bJ=bI.current();var bK=document.body.style;if(!(bJ.key in bK)){continue}return bJ.value}}finally{bI.dispose()}return null};i.$7=function(){i.$m=ss.coalesce(window.self['devicePixelRatio'],1)};i.$0=function(){var e=document.createElement('canvas');if(ss.isNullOrUndefined(e)){i.$e=1;return}var bI=null;if(typeof(ss.getInstanceType(e)['getContext'])==='function'){bI=e.getContext('2d')}if(ss.isNullOrUndefined(bI)){i.$e=1;return}var bJ=bI;i.$e=bJ.webkitBackingStorePixelRatio||bJ.mozBackingStorePixelRatio||bJ.msBackingStorePixelRatio||bJ.oBackingStorePixelRatio||1};i.$2=function(){var e=document.createElement('canvas');if(ss.isNullOrUndefined(e)){return}var bI=null;if(typeof(e['getContext'])==='function'){bI=e.getContext('2d')}if(ss.isNullOrUndefined(bI)){return}i.$f=typeof(bI['setLineDash'])==='function'||'mozDash'in bI||'webkitLineDash'in bI};i.$9=function(){var e=$('<input>');i.$I=typeof(e.get(0)['setSelectionRange'])==='function'};i.$6=function(){i.$j=i.$5('date');i.$k=i.$5('datetime');i.$l=i.$5('datetime-local');i.$K=i.$5('time')};i.$5=function(e){var bI=$("<input type='"+e+"'>").css({position:'absolute',visibility:'hidden'}).appendTo($(document.body));var bJ=bI.get(0);var bK=bJ.getAttribute('type');var bL='@inva/1d:)';bJ.value=bL;var bM=ss.referenceEquals(bK,e)&&!ss.referenceEquals(bJ.value,bL);bI.remove();return bM};i.$d=function(e){return function(bI){var bJ=bI in window;if(!bJ){var bK=function(){return ss.createInstance(e)};var bL=window;bL[bI]=bK}}};global.tab.BrowserSupport=i;var j=function(){this.startOfWeek=1;this.fiscalYearStart=1;this.minDaysInFirstWeek=1;this.brokenWeeks=true};j.__typeName='tab.CalendarOptions';global.tab.CalendarOptions=j;var k=function(e){this.$0=null;this.$0=e};k.__typeName='tab.CallOnDispose';global.tab.CallOnDispose=k;var l=function(){};l.__typeName='tab.CircleUtil';l.isEmpty=function(e){return u.isApproximatelyZero(e.radius)};l.isEqual=function(e,bI){return u.isApproximatelyEqual(e.radius,bI.radius)&&l.hasTheSameCenter(e,bI)};l.hasTheSameCenter=function(e,bI){return u.isApproximatelyEqual(e.center.x,bI.center.x)&&u.isApproximatelyEqual(e.center.y,bI.center.y)};l.intersectsWith=function(e,bI){var bJ=Math.pow(e.center.x-bI.center.x,2)+Math.pow(e.center.y-bI.center.y,2);return Math.pow(e.radius+bI.radius,2)>bJ};l.offsetCircle=function(e,bI){var bJ={x:e.center.x+bI.x,y:e.center.y+bI.y};return{center:bJ,radius:e.radius}};l.clone=function(e){return{center:{x:e.center.x,y:e.center.y},radius:e.radius}};l.boundingBox=function(e){var bI=Math.ceil(e.radius);var bJ=Math.floor(e.center.x-bI);var bK=Math.ceil(e.center.x+bI);var bL=Math.floor(e.center.y-bI);var bM=Math.ceil(e.center.y+bI);return{x:bJ,y:bL,w:bK-bJ,h:bM-bL}};l.containmentBox=function(e){var bI=Math.abs(ss.round(e.center.x)-e.center.x);var bJ=Math.abs(ss.round(e.center.y)-e.center.y);var bK=Math.sqrt(2)/2*e.radius-Math.max(bI,bJ);var bL=Math.ceil(e.center.x-bK);var bM=Math.ceil(e.center.y-bK);var bN=Math.floor(e.center.x+bK);var bO=Math.floor(e.center.y+bK);return{x:bL,y:bM,w:bN-bL,h:bO-bM}};l.getChangedRects=function(e,bI){if(!l.hasTheSameCenter(e,bI)){return[]}var bJ=((e.radius>bI.radius)?l.boundingBox(e):l.boundingBox(bI));var bK=((e.radius>bI.radius)?l.containmentBox(bI):l.containmentBox(e));var bL=new Array(4);var bM=ss.Int32.div(bJ.h-bK.h,2);var bN=ss.Int32.div(bJ.w-bK.w,2);bL[0]={x:bJ.x,y:bJ.y,w:bJ.w,h:bM};bL[1]={x:bJ.x,y:bJ.y+bM+bK.h,w:bJ.w,h:bM};bL[2]={x:bJ.x,y:bJ.y+bM,w:bN,h:bK.h};bL[3]={x:bJ.x+bN+bK.w,y:bJ.y+bM,w:bN,h:bK.h};return bL};global.tab.CircleUtil=l;var m=function(){this.$2=null;h.call(this)};m.__typeName='tab.ConsoleLogAppender';m.enableLogging=function(e){if(ss.isNullOrUndefined(m.$0)){m.$0=new m;N.addAppender(m.$0)}m.$0.addFilter(e||function(){return true})};m.disableLogging=function(){if(ss.isNullOrUndefined(m.$0)){return}N.removeAppender(m.$0);m.$0=null};global.tab.ConsoleLogAppender=m;var n=function(){this.ErrorType=null;this.RedirectUrl=null;this.ErrorMessage=null};n.__typeName='tab.DataSourceConnectionAttemptErrorResponse';n.tryDeserialize=function(e){try{var bI=JSON.parse(e);return bI}catch(bJ){return null}};global.tab.DataSourceConnectionAttemptErrorResponse=n;var o=function(){};o.__typeName='tab.DateTimeAutoFormatMode';global.tab.DateTimeAutoFormatMode=o;var p=function(){};p.__typeName='tab.DateUtil';p.$4=function(){return N.lazyGetLogger(p)};p.get_nowAsTime=function(){return(new Date).getTime()};p.adjustDateByPeriod=function(e,bI,bJ){var bK=new Date;switch(bI){case'year':{bK=new Date(e.getFullYear()+bJ,e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds());break}case'quarter':{bK=p.adjustByMonths(e,bJ*3);break}case'month':{bK=p.adjustByMonths(e,bJ);break}case'week':{bK=p.$0(e,bJ*7);break}case'day':{bK=p.$0(e,bJ);break}case'hour':{bK=new Date(e.getTime()+bJ*p.oneHour);break}case'minute':{bK=new Date(e.getTime()+bJ*p.oneMinute);break}case'second':{bK=new Date(e.getTime()+bJ*p.oneSecond);break}}return bK};p.$0=function(e,bI){var bJ=new Date(e.getFullYear(),e.getMonth(),e.getDate(),12);var bK=new Date(bJ.getTime()+p.oneDay*bI);return new Date(bK.getFullYear(),bK.getMonth(),bK.getDate(),e.getHours(),e.getMinutes(),e.getSeconds())};p.adjustByMonths=function(e,bI){var bJ=e.getMonth();var bK;var bL;if(bI<0){bK=-((12-(bJ-1)-1-bI)/12)|0}else{bK=(bJ-1+bI)/12|0}bL=bJ+(bI-bK*12);return new Date(e.getFullYear()+bK,bL,e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds())};p.adjustDateByPeriodInUTC=function(e,bI,bJ){var bK=new Date;switch(bI){case'year':{bK=new Date(e.getUTCFullYear()+bJ,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds());break}case'quarter':{bK=p.adjustByMonthsInUTC(e,bJ*3);break}case'month':{bK=p.adjustByMonthsInUTC(e,bJ);break}case'week':{bK=new Date(e.getTime()+bJ*p.oneWeek);break}case'day':{bK=new Date(e.getTime()+bJ*p.oneDay);break}case'hour':{bK=new Date(e.getTime()+bJ*p.oneHour);break}case'minute':{bK=new Date(e.getTime()+bJ*p.oneMinute);break}case'second':{bK=new Date(e.getTime()+bJ*p.oneSecond);break}}return bK};p.adjustByMonthsInUTC=function(e,bI){var bJ=e.getUTCMonth(),bK,bL;if(bI<0){bK=-((12-(bJ-1)-1-bI)/12)|0}else{bK=(bJ-1+bI)/12|0}bL=bJ+(bI-bK*12);return new Date(Date.UTC(e.getUTCFullYear()+bK,bL,e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds()))};p.parsePresModelDate=function(e){if(ss.isNullOrUndefined(e)){return null}var bI=(new RegExp('(\\d\\d\\d\\d)-(\\d\\d)-(\\d\\d)( (\\d\\d):(\\d\\d):(\\d\\d))?')).exec(e);if(ss.isNullOrUndefined(bI)){return null}var bJ=parseInt(bI[1],10);var bK=parseInt(bI[2],10)-1;var bL=parseInt(bI[3],10);if(ss.isNullOrEmptyString(bI[4])){return new Date(Date.UTC(bJ,bK,bL))}else{var bM=parseInt(bI[5],10);var bN=parseInt(bI[6],10);var bO=parseInt(bI[7],10);return new Date(Date.UTC(bJ,bK,bL,bM,bN,bO))}};p.dateAsYear=function(e){return e.getUTCFullYear()};p.dateAsQuarter=function(e){var bI=p.$3(e);return parseInt(1+ss.Int32.div(bI-1,3))};p.dateAsMonth=function(e){return p.$3(e)};p.dateAsWeek=function(e){var bI=new Date(e.getUTCFullYear(),0,1);var bJ=p.$2(e);var bK=parseInt(1+(bJ+p.$1(bI)-2)/7);return bK};p.dateAsDay=function(e){return e.getUTCDate()};p.dateAsDayOfYear=function(e){return p.$2(e)};p.dateAsDayOfWeek=function(e){return p.$1(e)};p.dateAsMonthYear=function(e){var bI=p.$3(e)*10000+e.getUTCFullYear();return bI};p.dateAsMonthDayYear=function(e){var bI=p.$3(e)*1000000+e.getUTCDate()*10000+e.getUTCFullYear();return bI};p.dateTimeAsHour=function(e){return e.getUTCHours()};p.dateTimeAsMinute=function(e){return e.getUTCMinutes()};p.dateTimeAsSecond=function(e){return e.getUTCSeconds()};p.dateTimeAsOleDate=function(e){return bu.OleDateFromJsDate(e.getTime())};p.$2=function(e){var bI=e.getUTCFullYear();var bJ=e.getUTCMonth();var bK=e.getUTCDate();var bL=new Date(bI,0,1,12,0,0);var bM=new Date(bI,bJ,bK,12,0,0);var bN=Math.round((bM-bL)/86400000);return bN+1};p.$3=function(e){return e.getUTCMonth()+1};p.$1=function(e){return e.getUTCDay()+1};p.daysSinceEpoch=function(e){return Math.floor(e.getTime()/86400000)};global.tab.DateUtil=p;var q=function(e,bI){this.$2=null;this.$1=0;this.$0=null;Y.verifyValue(e,'action');this.$0=e;this.$1=bI};q.__typeName='tab.Debouncer';global.tab.Debouncer=q;var r=function(){this.$0=[]};r.__typeName='tab.DisposableHolder';global.tab.DisposableHolder=r;var s=function(){};s.__typeName='tab.DomUtil';s.$5=function(){return N.lazyGetLogger(s)};s.get_documentBody=function(){return document.body};s.getComputedStyle=function(e){if(i.get_getComputedStyle()){var bI=window.getComputedStyle(e);if(ss.isValue(bI)){return bI}}return e.style};s.getComputedZIndex=function(e){Y.verifyValue(e,'child');var bI=$(e);var bJ=bI;var bK=document.documentElement;var bL=document.body;while(bI.length!==0&&!ss.referenceEquals(bI[0],bL)&&!ss.referenceEquals(bI[0],bK)){var bM=bI.css('position');if(bM==='absolute'||bM==='fixed'){bJ=bI}bI=bI.offsetParent()}return s.$1(bJ)};s.resize=function(e,bI){if(typeof(e['resize'])==='function'){e.resize(bI)}else{s.setMarginBox(e.domNode||e,bI)}};s.getContentBox=function(e){var bI=$(e);return{l:parseInt(bI.css('padding-left'),10)||0,t:parseInt(bI.css('padding-top'),10)||0,w:u.roundToInt(bI.width()),h:u.roundToInt(bI.height())}};s.setContentBox=function(e,bI){$(e).width(bI.w).height(bI.h)};s.setMarginBox=function(e,bI){s.setMarginBoxJQ($(e),bI)};s.setMarginBoxJQ=function(e,bI){var bJ=e[0];var bK=bJ.style;var bL=window.getComputedStyle(bJ);s.$2(bL,bI,bJ);if(!isNaN(bI.t)){bK.top=bI.t+'px'}if(!isNaN(bI.l)){bK.left=bI.l+'px'}};s.setAbsolutePositionBox=function(e,bI){e.css({left:(bI.l||0)+'px',top:(bI.t||0)+'px',width:(bI.w||0)+'px',height:(bI.h||0)+'px'})};s.getMarginBox=function(e){return s.getMarginBoxJQ($(e))};s.getMarginBoxJQ=function(e){var bI=e.position();return{l:u.roundToInt(bI.left),t:u.roundToInt(bI.top),w:u.roundToInt(e.outerWidth(true)),h:u.roundToInt(e.outerHeight(true))}};s.getRectXY=function(e){var bI=u.roundToInt(s.getPageOffset(e).left);var bJ=u.roundToInt(s.getPageOffset(e).top);var bK=u.roundToInt(e.outerWidth(true));var bL=u.roundToInt(e.outerHeight(true));return{x:bI,y:bJ,w:bK,h:bL}};s.getRectXY$1=function(e,bI){var bJ=s.getRectXY(e);if(bI){var bK=s.docScroll();bJ.x+=bK.x;bJ.y+=bK.y}return bJ};s.docScroll=function(){var e=ss.coalesce(window.pageXOffset,ss.coalesce(document.documentElement.scrollLeft,ss.coalesce(s.get_documentBody().scrollLeft,0)));var bI=ss.coalesce(window.pageYOffset,ss.coalesce(document.documentElement.scrollTop,ss.coalesce(s.get_documentBody().scrollTop,0)));return{x:e,y:bI}};s.isAncestorOf=function(e,bI){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(bI)){return false}return $(bI).parents().index(e)>=0};s.isEqualOrAncestorOf=function(e,bI){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(bI)){return false}return ss.referenceEquals(e,bI)||s.isAncestorOf(e,bI)};s.setElementPosition=function(e,bI,bJ,bK,bL){if(!ss.isValue(bL)||ss.unbox(bL)){var bM=ss.mkdict(['top','0px','left','0px']);var bN=(new ss.StringBuilder('translate3d(')).append(bI).append('px,').append(bJ).append('px,').append('0px)').toString();bM[i.get_cssTransformName()]=bN;if(ss.isValue(bK)){bM[i.get_cssTransitionName()+'-duration']=bK}e.css(bM);return}var bO=ss.mkdict(['position','absolute','top',bJ+'px','left',bI+'px']);bO[i.get_cssTransformName()]='';e.css(bO)};s.getElementPosition=function(e){return bb.fromPosition(e.offset())};s.getElementClientPosition=function(e){var bI=s.getElementPosition(e);bI.x-=$(document.documentElement).scrollLeft();bI.y-=u.roundToInt($(document.documentElement).scrollTop());return bI};s.getTransformOffset=function(e){if(ss.isNullOrUndefined(e)){return{left:0,top:0}}var bI=e.css('transform');if(ss.isNullOrEmptyString(bI)){return{left:0,top:0}}var bJ=bI.split('(');var bK=s.$7[bJ[0]];if(ss.isNullOrUndefined(bK)){return{left:0,top:0}}var bL=bJ[1].split(',');return{left:ss.coalesce(u.parseDouble(bL[ss.unbox(bK)]),0),top:ss.coalesce(u.parseDouble(bL[ss.unbox(bK)+1]),0)}};s.getTransformScale=function(e){if(ss.isNullOrUndefined(e)){return 1}var bI=e.css('transform');if(ss.isNullOrEmptyString(bI)){return 1}var bJ=bI.split('(');if(bJ[0]==='scale'||bJ[0]==='matrix'||bJ[0]==='matrix3d'){return ss.coalesce(u.parseDouble(bJ[1]),1)}else{return 1}};s.getPageOffset=function(e){var bI=e[0].getBoundingClientRect();var bJ=document.documentElement.getBoundingClientRect();return{left:bI.left-bJ.left,top:bI.top-bJ.top}};s.getScrollPosition=function(e){return{left:e[0].scrollLeft,top:e[0].scrollTop}};s.scrollPosition=function(e,bI){e[0].scrollLeft=bI.left;e[0].scrollTop=bI.top};s.focusWithoutScrolling=function(e,bI){if(ss.isNullOrUndefined(bI)||bI.length===0){e()}else{bI.attr('data-tab-test-wait','');window.setTimeout(function(){var bJ=s.getScrollPosition(bI);e();s.scrollPosition(bI,bJ);bI.removeAttr('data-tab-test-wait')},200)}};s.roomAroundPosition=function(e){var bI=e.top-window.pageYOffset;var bJ=window.pageYOffset+window.innerHeight-e.top;var bK=e.left-window.pageXOffset;var bL=window.pageXOffset+window.innerWidth-e.left;return{roomAbove:bI,roomBelow:bJ,roomLeft:bK,roomRight:bL}};s.getElementRelativePosition=function(e,bI){if(ss.isNullOrUndefined(bI)){bI=e.parent()}var bJ=e.offset();var bK=bI.offset();return{x:u.roundToInt(bJ.left)-u.roundToInt(bK.left),y:u.roundToInt(bJ.top)-u.roundToInt(bK.top)}};s.parseWidthFromStyle=function(e){if(ss.isValue(e)&&!T.isNullOrEmpty$1(e.width)){return parseInt(e.width)}return Number.NaN};s.parseHeightFromStyle=function(e){if(ss.isValue(e)&&!T.isNullOrEmpty$1(e.height)){return parseInt(e.height)}return Number.NaN};s.createNamespacedEventName=function(e,bI){if(ss.isValue(bI)){return e+bI}return e.toString()};s.stopPropagationOfInputEvents=function(e,bI){var bJ=function(bK){bK.stopPropagation()};s.handleInputEvents(e,bI,bJ)};s.handleInputEvents=function(e,bI,bJ){e.on(s.createNamespacedEventName('touchstart',bI),bJ).on(s.createNamespacedEventName('touchcancel',bI),bJ).on(s.createNamespacedEventName('touchend',bI),bJ).on(s.createNamespacedEventName('touchmove',bI),bJ).on(s.createNamespacedEventName('click',bI),bJ).on(s.createNamespacedEventName('mousedown',bI),bJ).on(s.createNamespacedEventName('mousemove',bI),bJ).on(s.createNamespacedEventName('mouseup',bI),bJ)};s.isFocusableTextElement=function(e){if(ss.isValue(e)&&ss.isValue(e.tagName)){var bI=e.tagName.toLowerCase();if(bI==='textarea'||bI==='input'||bI==='select'){return true}}return false};s.isCheckboxElement=function(e){if(ss.isValue(e)&&ss.isValue(e.tagName)){var bI=e.tagName.toLowerCase();var bJ=$(e).attr('type');if(bI==='input'&&bJ==='checkbox'){return true}}return false};s.handleTouchEvents=function(e){if(s.isCheckboxElement(e)){return false}if(s.isFocusableTextElement(e)){return false}return true};s.setCapture=function(e,bI){if(!i.get_mouseCapture()){return}e.setCapture(bI)};s.releaseCapture=function(){if(!i.get_mouseCapture()){return}document.releaseCapture()};s.blur=function(){var e=document.activeElement;if(ss.isValue(e)&&!ss.referenceEquals(e,s.get_documentBody())&&typeof(e['blur'])==='function'){e.blur()}};s.$0=function(e,bI){var bJ=parseInt(e,10);return(isNaN(bJ)?bI:bJ)};s.getSizeFromCssPixelProperty=function(e,bI){var bJ=e.css(bI);return s.$0(bJ,0)};s.$4=function(e,bI,bJ){var bK=s.$0(e.marginLeft,0);var bL=s.$0(e.borderLeftWidth,0);var bM=s.$0(e.paddingLeft,0);var bN=s.$0(e.paddingRight,0);var bO=s.$0(e.borderRightWidth,0);var bP=s.$0(e.marginRight,0);var bQ=Math.max(bI-bK-bL-bM-bN-bO-bP,0);bJ.style.width=bQ+'px'};s.$3=function(e,bI,bJ){var bK=s.$0(e.marginTop,0);var bL=s.$0(e.borderTopWidth,0);var bM=s.$0(e.paddingTop,0);var bN=s.$0(e.paddingBottom,0);var bO=s.$0(e.borderBottomWidth,0);var bP=s.$0(e.marginBottom,0);var bQ=Math.max(bI-bK-bL-bM-bN-bO-bP,0);bJ.style.height=bQ+'px'};s.$2=function(e,bI,bJ){if(bI.w>=0){s.$4(e,bI.w,bJ)}if(bI.h>=0){s.$3(e,bI.h,bJ)}};s.$1=function(e){Y.verifyValue(e,'o');var bI=e.css('z-index');if(_.isNumber(bI)){return bI}if(_.isString(bI)){if(!ss.isNullOrEmptyString(bI)&&bI!=='auto'&&bI!=='inherits'){return parseInt(bI,10)}}return 0};s.makeHtmlSafeId=function(e){return ss.replaceAllString(encodeURIComponent(e),'.','dot')};s.setSelectionRangeOnInput=function(e,bI,bJ){if(i.get_setSelectionRange()){try{e.setSelectionRange(bI,bJ)}catch(bK){}}};s.selectAllInputText=function(e){try{if(i.get_setSelectionRange()){e.get(0).setSelectionRange(0,e.val().length)}else{e.select()}}catch(bI){}};s.setCursorPosition=function(e,bI){if(typeof(e['createTextRange'])==='function'){var bJ=(e.createTextRange?e.createTextRange():null);bJ.move('character',bI);bJ.select();bJ.scrollIntoView();e.focus()}else if(i.get_isSafari()&&i.get_setSelectionRange()){e.focus();e.setSelectionRange(bI,bI)}else{e.blur();e.selectionStart=e.selectionEnd=bI;e.focus()}};s.replaceSelection=function(e,bI){var bJ=e.value;var bK=bJ.substr(0,e.selectionStart);var bL=bJ.substring(e.selectionEnd);var bM=e.selectionStart+bI.length;e.value=bK+bI+bL;s.setCursorPosition(e,bM)};s.setNativeTooltip=function(e,bI){var bJ=ss.isNullOrEmptyString(bI);if(bJ){e.removeAttr('title')}else{e.attr('title',bI)}if(tsConfig.is_mobile){e.children('.tab-mobileTooltip').remove();if(!bJ){var bK=$("<div class='tab-mobileTooltip'/>").text(bI);e.append(bK)}}};s.nodeHasTextSelection=function(e){var bI=window.getSelection();for(var bJ=bI.rangeCount-1;bJ>=0;--bJ){var bK=bI.getRangeAt(bJ);if(ss.referenceEquals(e,bK.startContainer)||e.contains(bK.startContainer)||ss.referenceEquals(e,bK.endContainer)||e.contains(bK.endContainer)){return true}}return false};s.generateUniqueId=function(){return'tab-ui-id-'+s.$8++};s.getIds=function(e){if(ss.isNullOrUndefined(e)){return[]}return e.map(function(bI,bJ){return bJ.id}).get()};s.asID=function(e){return'#'+e};s.asClass=function(e){return'.'+e};global.tab.DomUtil=s;var t=function(){};t.__typeName='tab.DoubleRectXYUtil';t.isEmpty=function(e){if(!ss.isValue(e)){return true}return e.w===0||e.h===0};t.isEqual=function(e,bI){return e.x===bI.x&&e.y===bI.y&&e.w===bI.w&&e.h===bI.h};t.isNull=function(e){return e.x===0&&e.y===0&&e.w===0&&e.h===0};t.inRect=function(e,bI){return bI.x>=e.x&&bI.x<e.x+e.w&&bI.y>=e.y&&bI.y<e.y+e.h};t.inRect$1=function(e,bI,bJ,bK,bL,bM){return bL>=e&&bL<e+bJ&&bM>=bI&&bM<bI+bK};t.intersectsWith=function(e,bI){return!(bI.x+bI.w<e.x||bI.y+bI.h<e.y||bI.x>e.x+e.w||bI.y>e.y+e.h)};t.outsetRect=function(e,bI,bJ){return{x:e.x-bI,y:e.y-bJ,w:e.w+bI+bI,h:e.h+bJ+bJ}};t.outsetRectInPlace=function(e,bI,bJ){e.x-=bI;e.y-=bJ;e.w+=2*bI;e.h+=2*bJ};t.toEncompassingRectXY=function(e){var bI=Math.floor(e.x);var bJ=Math.floor(e.y);var bK=Math.ceil(e.x+e.w);var bL=Math.ceil(e.y+e.h);return{x:bI,y:bJ,w:bK-bI,h:bL-bJ}};global.tab.DoubleRectXYUtil=t;var u=function(){};u.__typeName='tab.DoubleUtil';u.$0=function(){return N.lazyGetLogger(u)};u.isApproximatelyEqual=function(e,bI){if(Math.abs(e-bI)<u.epsilon){return true}if(e===0){return false}var bJ=bI/e;if(u.$3<=bJ&&bJ<=u.$5){return true}return false};u.isApproximatelyZero=function(e){return u.isApproximatelyEqual(0,e)};u.isLessThanAndNotApproximatelyEqual=function(e,bI){return e<bI&&!u.isApproximatelyEqual(e,bI)};u.isLessThanOrApproximatelyEqual=function(e,bI){return e<bI||u.isApproximatelyEqual(e,bI)};u.isGreaterThanAndNotApproximatelyEqual=function(e,bI){return e>bI&&!u.isApproximatelyEqual(e,bI)};u.isGreaterThanOrApproximatelyEqual=function(e,bI){return e>bI||u.isApproximatelyEqual(e,bI)};u.sigFigs=function(e,bI){if(e===0||bI===0){return e}var bJ=Math.pow(10,bI-Math.floor(Math.log(Math.abs(e))/Math.LN10)-1);return ss.round(e*bJ)/bJ};u.roundToInt=function(e){return ss.round(e)};u.parseDouble=function(e){var bI=parseFloat(e);return(isFinite(bI)?bI:null)};u.isValidDouble=function(e){if(ss.isNullOrEmptyString(e)){return false}return $.isNumeric(e)};u.parse64BitInteger=function(e){var bI={};if(!ss.Int32.tryParse(e,bI)){return null}var bJ=u.parseValidDouble(e);if(ss.Nullable$1.gt(bJ,9.22337203685477E+18)||ss.Nullable$1.lt(bJ,-9.22337203685477E+18)){return null}return bI.$};u.isValid32BitInteger=function(e){if(ss.isNullOrEmptyString(e)){return false}var bI=u.parse64BitInteger(e);if(ss.isNullOrUndefined(bI)){return false}return ss.Nullable$1.le(bI,2147483647)&&ss.Nullable$1.ge(bI,-2147483648)};u.isValid64BitInteger=function(e){if(ss.isNullOrEmptyString(e)){return false}var bI=u.parse64BitInteger(e);if(ss.isNullOrUndefined(bI)){return false}return true};u.parseValidDouble=function(e){if(ss.isNullOrEmptyString(e)){return Number.NaN}if(!u.isValidDouble(e)){return Number.NaN}return parseFloat(e)};u.multiplyBy100=function(e){return e*1000/10};u.truncateTwoDecimalPlaces=function(e){return ss.Int32.trunc(u.multiplyBy100(e))/100};u.roundTwoDecimalPlaces=function(e){return ss.round(u.multiplyBy100(e))/100};global.tab.DoubleUtil=u;var v=function(){};v.__typeName='tab.ErrorTrace';v.install=function(){var e=tsConfig.clientErrorReportingLevel;if(!ss.isNullOrEmptyString(e)){if(e==='debug'){v.$m=true}}v.$3('setTimeout');v.$3('setInterval');v.installGlobalHandler()};v.wrap=function(bI){return function(){try{return bI.apply(this,Array.prototype.slice.call(arguments))}catch(bJ){var e=ss.Exception.wrap(bJ);v.report(e,false);throw bJ}}};v.$3=function(e){var bI=window[e];var bJ=function(){var bK=ss.arrayClone(Array.prototype.slice.call(arguments));var bL=bK[0];if(ss.isInstanceOfType(bL,Function)){bK[0]=v.wrap(bL)}return bI.apply(this,bK)};window[e]=bJ};v.windowOnError=function(e,bI,bJ,bK,bL){var bM;if(ss.isValue(v.$o)){v.$0(v.$o,bI,bJ,e);bM=v.$o;v.$o=null;v.$n=null}else{var bN=new bj(bI,bJ);bN.functionName=v.$9(bN);bN.context=v.$6(bN);bM=new bk('onError',e);bM.name='window.onError';bM.locations=[bN]}v.$r.push(bM);if(ss.isValue(v.$p)){v.$p.apply(this,Array.prototype.slice.call(arguments))}return false};v.$0=function(e,bI,bJ,bK){var bL=new bj(bI,bJ);if(ss.isValue(bL.url)&&ss.isValue(bL.lineNo)){e.isIncomplete=false;if(ss.isNullOrUndefined(bL.functionName)){bL.functionName=v.$9(bL)}if(ss.isNullOrUndefined(bL.context)){bL.context=v.$6(bL)}var bM=bK.match(new RegExp(" '([^']+)' "));if(ss.isValue(bM)&&bM.length>1){bL.columnNo=v.$5(bM[1],bL)}if(ss.isValue(e.locations)&&e.locations.length>0){var bN=e.locations[0];if(ss.referenceEquals(bN.url,bL.url)){if(bN.lineNo===bL.lineNo){return}else if(ss.isNullOrUndefined(bN.lineNo)&&ss.referenceEquals(bN.functionName,bL.functionName)){bN.lineNo=bL.lineNo;bN.context=bL.context;return}}}e.locations.unshift(bL);e.isPartial=true;return}else{e.isIncomplete=true}return};v.$a=function(e){if(!v.$s){return''}try{var bI=new XMLHttpRequest;bI.open('GET',e,false);bI.send('');return bI.responseText}catch(bJ){return''}};v.$7=function(e){if(ss.isNullOrUndefined(e)){return[]}if(!ss.keyExists(v.$i,e)){var bI='';if(e.indexOf(document.domain)>-1){bI=v.$a(e)}v.$i[e]=(ss.isNullOrEmptyString(bI)?[]:bI.split('\n'))}return v.$i[e]};v.$5=function(e,bI){var bJ=v.$7(bI.url);var bK=new RegExp('\\b'+v.$2(e)+'\\b');if(ss.isValue(bJ)&&bJ.length>bI.lineNo){var bL=bK.exec(bJ[bI.lineNo]);if(ss.isValue(bL)){return bL.index}}return-1};v.$9=function(e){var bI=new RegExp('function ([^(]*)\\(([^)]*)\\)');var bJ=new RegExp('[\'"]?([0-9A-Za-z$_]+)[\'"]?\\s*[:=]\\s*(function|eval|new Function)');var bK='';var bL=10;var bM=v.$7(e.url);if(bM.length===0){return'?'}for(var bN=0;bN<bL;bN++){bK=bM[e.lineNo-1]+bK;if(!ss.isNullOrEmptyString(bK)){var bO=bJ.exec(bK);if(ss.isValue(bO)&&bO.length>0){return bO[1]}bO=bI.exec(bK);if(ss.isValue(bO)&&bO.length>0){return bO[1]}}}return'?'};v.$6=function(e){var bI=v.$7(e.url);if(ss.isNullOrUndefined(bI)||bI.length===0){return null}var bJ=[];var bK=60;var bL=e.columnNo;var bM=bI[e.lineNo-1];var bN=Math.max(0,bL-bK);var bO=Math.min(bL+bK,bM.length);bJ.push(bM.substr(bN,bO-bN));return bJ};v.$2=function(e){return e.replace(new RegExp('[\\-\\[\\]{}()*+?.,\\\\\\^$|#]','g'),'\\\\$&')};v.$8=function(e){var bI=new bk('stack',e.get_message());bI.name=e.name;if(v.$m){var bJ=null;try{bJ=v.$1(e)}catch(bK){var inner=ss.Exception.wrap(bK);if(v.$t){throw inner}}if(ss.isValue(bJ)){return bJ}}else{return bI}bI.traceMode='failed';return bI};v.$1=function(e){var bI=v.$c(e);var bJ=new bk('stack',e.get_message());bJ.name=e.name;bJ.locations=bI;return bJ};v.$c=function(e){var bI;if(ss.isValue(e.get_innerException())){bI=e.get_innerException().error}else{bI=e._error}if(ss.isValue(bI.stack)&&ss.isValue(bI.stack.match(v.$e))){return v.$b(bI)}if(ss.isValue(bI.stack)){return v.$d(bI)}return null};v.$b=function(e){var bI=e.stack.split(String.fromCharCode(10)).filter(function(bJ){return ss.isValue(bJ.match(v.$e))});return bI.map(function(bJ){if(bJ.indexOf('(eval ')>-1){bJ=ss.replaceAllString(bJ,'eval code','eval').replace(v.$j,'')}var bK=bJ.replace(new RegExp('^\\s+'),'').replace(new RegExp('\\(eval code'),'(').split(new RegExp('\\s+')).slice(1);var bL=v.$4(bK.pop());var bM=ss.coalesce(bK.join(' '),'undefined');var bN=((ss.indexOf(['eval','<anonymous>'],bL[0])>-1)?'undefined':bL[0]);var bO=parseInt(bL[1]);var bP=parseInt(bL[2]);var bQ=new bj(bN,bO);bQ.functionName=bM;bQ.columnNo=bP;bQ.context=[bJ];var bR=bQ;bR.context=v.$6(bR);return bR})};v.$d=function(e){var bI=e.stack.split(String.fromCharCode(10)).filter(function(bJ){return ss.isNullOrUndefined(bJ.match(v.$h))});return bI.map(function(bJ){if(bJ.indexOf(' > eval')>-1){bJ=bJ.replace(new RegExp(' line (\\d+)(?: > eval line \\d+)* > eval\\:\\d+\\:\\d+','g'),':$1')}if(bJ.indexOf('@')===-1&&bJ.indexOf(':')===-1){return new bj(bJ,-1)}else{var bK=bJ.split('@');var bL=v.$4(bK.pop());var bM=ss.coalesce(bK.join('@'),'undefined');var bN=bL[0];var bO=parseInt(bL[1]);var bP=parseInt(bL[2]);var bQ=new bj(bN,bO);bQ.functionName=bM;bQ.columnNo=bP;bQ.context=[bJ];var bR=bQ;bR.context=v.$6(bR);return bR}})};v.$4=function(e){if(e.indexOf(String.fromCharCode(58))===-1){return[e]}var bI=v.$f.exec(e.replace(v.$g,''));return[bI[1],ss.coalesce(bI[2],'undefined'),ss.coalesce(bI[3],'undefined')]};v.hasTraces=function(){return v.$r.length>0};v.dequeueTraces=function(){var e=v.$r;v.$r=[];return e};v.installGlobalHandler=function(){if(v.$q||!v.$l){return}v.$p=window.onerror;window.onerror=v.windowOnError;v.$q=true};v.report=function(e,bI){if(ss.isNullOrUndefined(bI)){bI=true}if(ss.isValue(v.$o)){if(ss.referenceEquals(v.$n,e)){return}else{var bJ=v.$o;v.$o=null;v.$n=null;v.$r.push(bJ)}}var bK=v.$8(e);v.$o=bK;v.$n=e;window.setTimeout(function(){if(ss.referenceEquals(v.$n,e)){v.$o=null;v.$n=null;v.$r.push(bK)}},(bK.isIncomplete?2000:0));if(bI){throw e}};global.tab.ErrorTrace=v;var w=function(){};w.__typeName='tab.FeatureFlags';w.isEnabled=function(e){if(ss.isValue(tsConfig.features)&&ss.keyExists(tsConfig.features,e)){return tsConfig.features[e]}if(ss.isValue(w.$0)&&ss.keyExists(w.$0,e)){return w.$0[e]}return false};w.setDefaults=function(e){w.$0=e};global.tab.FeatureFlags=w;var x=function(){};x.__typeName='tab.FeatureParam';global.tab.FeatureParam=x;var y=function(){};y.__typeName='tab.FeatureParamsLookup';y.getBool=function(e){if(ss.keyExists(y.$4,e)){return y.$4[e]||false}return false};y.getFloat=function(e){if(ss.keyExists(y.$6,e)){return y.$6[e]}return null};y.getInt=function(e){if(ss.keyExists(y.$8,e)){return y.$8[e]}return null};y.getString=function(e){if(ss.keyExists(y.$b,e)){return y.$b[e]}return null};y.$1=function(e,bI,bJ){y.$5.push(bI);y.$d[e]=bI;y.$4[bI]=bJ};y.$2=function(e,bI){y.$9.push(bI);y.$d[e]=bI;y.$8[bI]=null};y.$3=function(e,bI){y.$c.push(bI);y.$d[e]=bI;y.$b[bI]=null};y.$0=function(){var e=T.getUriQueryParameters(window.self.location.search);var bI=new ss.ObjectEnumerator(e);try{while(bI.moveNext()){var bJ=bI.current();var bK=bJ.key.toLowerCase();var bL=0;if(ss.keyExists(y.$d,bK)){bL=y.$d[bK]}else{continue}if(bJ.value.length>0){var bM=bJ.value[0];if(ss.contains(y.$5,bL)){var bN=bM.toLowerCase()==='true';y.$4[bL]=bN}else if(ss.contains(y.$7,bL)){var bO=parseFloat(bM);y.$6[bL]=bO}else if(ss.contains(y.$9,bL)){var bP=parseInt(bM);y.$8[bL]=bP}else if(ss.contains(y.$c,bL)){y.$b[bL]=bM}else{continue}}else{continue}}}finally{bI.dispose()}};global.tab.FeatureParamsLookup=y;var z=function(){};z.__typeName='tab.FullscreenUtil';z.add_fullscreenStateChanged=function(e){z.$1$1=ss.delegateCombine(z.$1$1,e)};z.remove_fullscreenStateChanged=function(e){z.$1$1=ss.delegateRemove(z.$1$1,e)};z.$2=function(){return z.$7.substring(2)};z.get_fullscreenEnabled=function(){if(ss.isNullOrUndefined(z.$6)){return false}return document[z.$6]};z.get_fullscreenElement=function(){if(ss.isNullOrUndefined(z.$5)){return null}return document[z.$5]};z.get_inFullscreenMode=function(){return ss.isValue(z.get_fullscreenElement())};z.$0=function(e,bI){for(var bJ=0;bJ<bI.length;bJ++){var bK=bI[bJ];if(bK in e||bK.toLowerCase()in e){return bK}}return null};z.exitFullscreen=function(){if(ss.isNullOrUndefined(z.$4)){return}document[z.$4]()};z.requestFullscreen=function(e){if(ss.isNullOrUndefined(z.$8)){return}e[z.$8]()};z.$1=function(e){document.documentElement.classList.toggle('fullscreen',z.get_inFullscreenMode());window.setTimeout(function(){if(!ss.staticEquals(z.$1$1,null)){z.$1$1()}})};z.centeringContainerOffset=function(){if(!z.get_inFullscreenMode()){return 0}var e=$('#centeringContainer');return e.offset().top};global.tab.FullscreenUtil=z;var A=function(){};A.__typeName='tab.HistoryUtil';A.pushState=function(e,bI,bJ,bK){if(i.get_historyApi()){try{e.history.pushState(bI,bJ,bK)}catch(bL){var e=ss.Exception.wrap(bL)}}};A.replaceState=function(e,bI,bJ,bK){if(i.get_historyApi()){try{e.history.replaceState(bI,bJ,bK)}catch(bL){var e=ss.Exception.wrap(bL)}}};global.tab.HistoryUtil=A;var B=function(){};B.__typeName='tab.HttpResponseCodes';global.tab.HttpResponseCodes=B;var C=function(){};C.__typeName='tab.IAppendableView';global.tab.IAppendableView=C;var D=function(){};D.__typeName='tab.IBrowserViewport';global.tab.IBrowserViewport=D;var E=function(){};E.__typeName='tab.ICommonDialogProvider';global.tab.ICommonDialogProvider=E;var F=function(){};F.__typeName='tab.ILogAppender';global.tab.ILogAppender=F;var G=function(e,bI){this.$0=0;this.$1=0;this.$0=e;this.$1=bI};G.__typeName='tab.IntegerRange';G.itemToTileRange=function(e,bI){var bJ=new G(0,0);bJ.set_from(Math.floor(e.get_from()/bI));bJ.set_to(Math.floor(e.get_to()/bI));return bJ};G.pixelToItemRange=function(e,bI){var bJ=new G(0,0);bJ.set_from(Math.floor(e.get_from()/bI));bJ.set_to(Math.floor(e.get_to()/bI));return bJ};G.pixelToTileRange=function(e,bI,bJ){return G.itemToTileRange(G.pixelToItemRange(e,bI),bJ)};G.isEqual=function(e,bI){return ss.isValue(e)&&ss.isValue(bI)&&e.get_to()===bI.get_to()&&e.get_from()===bI.get_from()};G.union=function(e,bI){if(ss.isNullOrUndefined(e)){return bI}if(ss.isNullOrUndefined(bI)){return e}var bJ=new G(0,0);bJ.set_from(Math.min(e.get_from(),bI.get_from()));bJ.set_to(Math.max(e.get_to(),bI.get_to()));return bJ};global.tab.IntegerRange=G;var H=function(e){var bI=function(){};ss.registerGenericInterfaceInstance(bI,H,[e],{get_viewModel:null,get_rootElement:null},function(){return[ss.IDisposable,C]});ss.setMetadata(bI,{variance:[1]});return bI};H.__typeName='tab.IView$1';ss.initGenericInterface(H,a,1);global.tab.IView$1=H;var I=function(){};I.__typeName='tab.IViewModel';global.tab.IViewModel=I;var J=function(){};J.__typeName='tab.IWidget';global.tab.IWidget=J;var K=function(){L.call(this)};K.__typeName='tab.JsMapPolyfill';global.tab.JsMapPolyfill=K;var L=function(){this.store={};this.size=0};L.__typeName='tab.JsSetPolyfillImpl';global.tab.JsSetPolyfillImpl=L;var M=function(){};M.__typeName='tab.Log';M.get=function(e){return N.lazyGetLogger(ss.getInstanceType(e))};global.tab.Log=M;var N=function(e){this.$1=null;this.$1=e};N.__typeName='tab.Logger';N.get_globalLog=function(){return N.global};N.$2=function(){return T.lazyInitStaticField(N,'appenders',function(){return[]})};N.$3=function(){return T.lazyInitStaticField(N,'filters',function(){return[]})};N.$4=function(){return T.lazyInitStaticField(N,'nullLog',function(){return new N('')})};N.clearFilters=function(){var e=N.$2();for(var bI=0;bI<e.length;bI++){var bJ=e[bI];bJ.clearFilters()}ss.clear(N.$3())};N.filterByLogger=function(e,bI){bI=bI||0;N.$0(function(bJ,bK){return ss.referenceEquals(bJ,e)&&bK>=bI})};N.filterByType=function(e,bI){bI=bI||0;N.$0(function(bJ,bK){return bK>=bI&&ss.referenceEquals(bJ.get_name(),ss.getTypeName(e))})};N.filterByName=function(e,bI){bI=bI||0;var bJ=new RegExp(e,'i');N.$0(function(bK,bL){return bL>=bI&&ss.isValue(bK.get_name().match(bJ))})};N.clearAppenders=function(){ss.clear(N.$2())};N.addAppender=function(e){var bI=N.$3();for(var bJ=0;bJ<bI.length;bJ++){var bK=bI[bJ];e.addFilter(bK)}N.$2().push(e)};N.removeAppender=function(e){ss.remove(N.$2(),e)};N.lazyGetLogger=function(e){return T.lazyInitStaticField(e,'_logger',function(){return N.getLogger(e)})};N.getLogger=function(e,bI){var bJ=N.getLoggerWithName(ss.getTypeName(e));if(ss.isValue(bI)){}return bJ};N.getLoggerWithName=function(e){return N.$4()};N.$1=function(){var e=T.getUriQueryParameters(window.self.location.search);if(!ss.keyExists(e,':log')){return}var bI=e[':log'];if(bI.length===0){}for(var bJ=0;bJ<bI.length;bJ++){var bK=bI[bJ];var bL=bK.split(String.fromCharCode(58));var bM=1;if(bL.length>0&&ss.isValue(bL[1])){var bN=bL[1].toLowerCase();var bO=ss.indexOf(N.loggerLevelNames,bN);if(bO>=0){bM=bO}}}};N.$0=function(e){N.$3().push(e);var bI=N.$2();for(var bJ=0;bJ<bI.length;bJ++){var bK=bI[bJ];bK.addFilter(e)}};global.tab.Logger=N;var O=function(){};O.__typeName='tab.LoggerLevel';global.tab.LoggerLevel=O;var P=function(){ss.Exception.call(this)};P.__typeName='tab.LoopBreakException';P.$ctor1=function(e){ss.Exception.call(this,e)};P.$ctor2=function(e,bI){ss.Exception.call(this,e,bI)};global.tab.LoopBreakException=P;var Q=function(){};Q.__typeName='tab.MapUtil';Q.getZoomFactorForDesiredZoomLevel=function(e,bI){return Math.exp(-(Math.LN2*(bI-e)))};Q.allowZoomAtCurrentLevel=function(e,bI){return e+Math.log(1/bI)/Math.LN2>=0};Q.allowZoomAtCurrentLevelLeaflet=function(e,bI){return e-bI>=0};Q.getVisiblePixelWidth=function(e,bI,bJ){var bK=Math.pow(2,e)*bJ;var bL=Math.floor(bI*bK);return bL};Q.getScrollDeltaForZoomFactor=function(e){return Math.floor(Q.$1*(Math.log(e)/Math.log(2)))};Q.getLeafletZoomOffsetForTileSize=function(e){return((e===Q.$0)?-1:0)};Q.calculateZoomFactor=function(e){var bI=ss.Int32.div(e,8);var bJ=ss.Int32.div(bI,15);var bK=1;var bL=Math.log(bK)/Math.log(2)+bJ/4;bK=Math.pow(2,bL);return ss.round(bK,2)};global.tab.MapUtil=Q;var R=function(){};R.__typeName='tab.MapUtility';R.forEachWithInterrupt=function(e,bI){return function(bJ,bK){try{bJ.forEach(bK)}catch(bL){bL=ss.Exception.wrap(bL);if(ss.isInstanceOfType(bL,P)){}else{throw bL}}}};R.forEachWithInterrupt$1=function(e,bI){return function(bJ,bK){try{bJ.forEach(function(bL,bM){bK(bL,bM)})}catch(bL){bL=ss.Exception.wrap(bL);if(ss.isInstanceOfType(bL,P)){}else{throw bL}}}};R.createCopy=function(e,bI){return function(bJ){var bK=new Map;bJ.forEach(function(bL,bM){bK.set(bM,bL)});return bK}};global.tab.MapUtility=R;var S=function(){this.$a=null;this.$b=null;this.$8=null;this.$7=null;this.$9=null;this.$a=[];this.$8=[];this.$9=null;this.$7=null};S.__typeName='tab.MetricsLogger';S.get_instance=function(){if(!ss.isValue(S.$d)){S.$d=new S}return S.$d};S.$3=function(e){return e+tabBootstrap.MetricsController.recordingStart};S.$1=function(e,bI){var bJ=(bI?', ':',');var bK=new ss.StringBuilder;bK.append((bI?S.$b[e.eventType]:e.eventType.toString()));var bL=ss.getKeyCount(e.parameters);if(bL>0){bK.append('=');bK.append('{');var bM=0;var bN=(bI?': ':':');var bO=ss.getEnumerator(Object.keys(e.parameters));try{while(bO.moveNext()){var bP=bO.current();if(bP==='id'&&e.eventType!=='init'){continue}if(bM++>0){bK.append(bJ)}bK.append((bI?S.$c[bP]:bP.toString()));bK.append(bN);var bQ=e.parameters[bP];S.$2(bK,bQ,bI)}}finally{bO.dispose()}bK.append('}')}return bK.toString()};S.$0=function(e,bI,bJ){var bK=(bJ?', ':',');var bL=(bJ?': ':':');var bM=ss.getKeyCount(bI);var bN=0;var bO=ss.getEnumerator(Object.keys(bI));try{while(bO.moveNext()){var bP=bO.current();if(bI.hasOwnProperty(bP)){var bQ=bI[bP];e.append(bP);e.append(bL);S.$2(e,bQ,bJ);if(++bN<bM){e.append(bK)}}}}finally{bO.dispose()}};S.$2=function(e,bI,bJ){var bK=typeof(bI);if(bK==='number'&&Math.floor(bI)!==bI){e.append(bI.toFixed(1))}else if(bK==='string'){if(bJ){e.append('"');e.append(bI);e.append('"')}else{e.append(encodeURIComponent(bI))}}else if($.isArray(bI)){e.append('[');e.append(bI);e.append(']')}else if(bK==='object'){e.append('{');var bL=bI;S.$0(e,bL,bJ);e.append('}')}else{e.append(bI)}};global.tab.MetricsLogger=S;var T=function(){};T.__typeName='tab.MiscUtil';T.get_pathName=function(){var e=tabBootstrap.Utility.get_locationWindow();return tab.WindowHelper.getLocation(e).pathname};T.get_urlPathnameParts=function(){var e=T.get_pathName();var bI=tsConfig.site_root;var bJ=e.indexOf(bI,0);var bK=e.substr(bJ+bI.length);var bL=bK.split('/');var bM={};bM[2]=bL[2];bM[3]=bL[3];bM[4]=bL[4];return bM};T.lazyInitStaticField=function(e,bI,bJ){var bK=e[bI];if(ss.isNullOrUndefined(bK)){bK=bJ();e[bI]=bK}return bK};T.shallowEquals=function(e,bI){if(ss.referenceEquals(e,bI)){return true}if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(bI)){return false}var bJ=Object.keys(e);var bK=Object.keys(bI);if(bJ.length!==bK.length){return false}for(var bL=0;bL<bJ.length;bL++){var bM=bJ[bL];if(!bI.hasOwnProperty(bM)||!ss.referenceEquals(e[bM],bI[bM])){return false}}return true};T.percentEncode=function(e,bI){e=encodeURIComponent(e);if(ss.isNullOrUndefined(bI)){return e}var bJ=new ss.StringBuilder;var bK=0;while(bK<e.length){var bL=e.substr(bK,1);if(bL==='%'){bJ.append(e.substr(bK,3));bK+=2}else if(!ss.keyExists(bI,bL)){bJ.append('%').append(bL.charCodeAt(0).toString(16).toUpperCase())}else{bJ.append(bL)}bK++}return bJ.toString()};T.encodeForWG=function(e){var bI={};var bJ=function(bK,bL){for(var bM=bK;bM<=bL;bM++){var bN=String.fromCharCode(bM);bI[bN]=bN}};bJ(97,122);bJ(65,90);bJ(48,57);bJ(95,95);bJ(45,45);e=T.percentEncode(e,bI);e=T.percentEncode(e,null);return e};T.isNullOrUndefined=function(e){if(ss.isNullOrUndefined(e)){return true}for(var bI=0;bI<e.length;bI++){if(ss.isNullOrUndefined(e[bI])){return true}}return false};T.isNullOrEmpty=function(e){if(ss.isNullOrUndefined(e)){return true}var bI=e;if(ss.isValue(bI['length'])&&bI['length']===0){return true}return false};T.isNullOrEmpty$1=function(e){return ss.isNullOrEmptyString(e)};T.isValidIndex=function(e,bI){return e>=0&&e<bI.length};T.toBoolean=function(e,bI){var bJ=new RegExp('^(yes|y|true|t|1)$','i');if(T.isNullOrEmpty$1(e)){return bI}var bK=e.match(bJ);return!T.isNullOrEmpty(bK)};T.getUriQueryParameters=function(e){var bI={};if(ss.isNullOrUndefined(e)){return bI}var bJ=e.indexOf('?');if(bJ<0){return bI}var bK=e.substr(bJ+1);var bL=bK.indexOf('#');if(bL>=0){bK=bK.substr(0,bL)}if(ss.isNullOrEmptyString(bK)){return bI}var bM=bK.split('&');for(var bN=0;bN<bM.length;bN++){var bO=bM[bN];var bP=bO.split('=');var bQ=decodeURIComponent(bP[0]);var bR;if(ss.keyExists(bI,bQ)){bR=bI[bQ]}else{bR=[];bI[bQ]=bR}if(bP.length>1){bR.push(decodeURIComponent(bP[1]))}}return bI};T.replaceUriQueryParameters=function(e,bI){if(ss.getKeyCount(bI)===0){return e}var bJ=new ss.StringBuilder;var bK=true;var bL=function(){bJ.append((bK?'?':'&'));bK=false};var bM=_.keys(bI);for(var bN=0;bN<bM.length;bN++){var bO=bM[bN];var bP=bI[bO];var bQ=encodeURIComponent(bO);if(ss.isNullOrUndefined(bP)||bP.length===0){bL();bJ.append(bQ)}else{for(var bR=0;bR<bP.length;bR++){var bS=bP[bR];bL();bJ.append(bQ).append('=').append(encodeURIComponent(bS))}}}var bT='';var bU='';if(e.length>0){var bV=e.indexOf('?');var bW=e.indexOf('#');var bX=Math.min(((bV<0)?e.length:bV),((bW<0)?e.length:bW));bU=e.substr(0,bX);bT=((bW<0)?'':e.substr(bW))}return bU+bJ+bT};T.sanatizeBoolean=function(e){if(ss.isNullOrUndefined(e)){return e}return e.toString().toLowerCase()==='true'};T.dispose$1=function(e){if(ss.isValue(e)){e.dispose()}return null};T.dispose=function(e){if(ss.isValue(e)){for(var bI=0;bI<e.length;bI++){var bJ=e[bI];if(ss.isValue(bJ)){bJ.dispose()}}ss.clear(e)}return null};T.clearTimeout=function(e){if(ss.isValue(e)){window.clearTimeout(ss.unbox(e))}return null};T.clearInterval=function(e){if(ss.isValue(e)){window.clearInterval(ss.unbox(e))}return null};T.cloneObject=function(e){var bI=JSON.stringify(e,function(bJ,bK){if(ss.isInstanceOfType(bK,Uint32Array)||ss.isInstanceOfType(bK,Float64Array)||ss.isInstanceOfType(bK,Float32Array)){return eval('Array.prototype.slice.call(v);')}return bK});return JSON.parse(bI)};global.tab.MiscUtil=T;var U=function(){};U.__typeName='tab.NavigationMetricsCollector';U.collectMetrics=function(){if(typeof(window)!=='undefined'&&typeof(window.performance)!=='undefined'&&typeof(window.performance.timing)!=='undefined'&&typeof(tabBootstrap.MetricsEvent)!=='undefined'){U.$0=window.performance.timing;if('navigationStart'in U.$0){var e=U.$0[U.$1[0]];var bI=[];for(var bJ=0;bJ<U.$1.length;bJ++){var bK=U.$1[bJ];var bL=U.$0[bK];bL=((bL===0)?0:(bL-e));bI.push(bL)}var bM={};bM['v']=bI;var bN=new tabBootstrap.MetricsEvent('nav',1,bM);tabBootstrap.MetricsController.logEvent(bN)}}};global.tab.NavigationMetricsCollector=U;var V=function(e,bI){this.$1=null;this.$0=null;this.$1=e;this.$0=bI};V.__typeName='tab.ObjectAccessTracker';V.$0=function(e){return typeof(e)==='symbol'};global.tab.ObjectAccessTracker=V;var W=function(e){this.$2={};this.$1=null;this.$0=null;this.$0=e;W.trackedObjects[e]=this};W.__typeName='tab.ObjectCoverage';W.$1=function(e){return typeof(e)==='object'&&!ss.isInstanceOfType(e,Array)};W.$0=function(e){return ss.isInstanceOfType(e,Array)};W.shouldTrack=function(e){if(ss.isNullOrUndefined(W.$2)){W.$2={};var bI=y.getString(47);if(!ss.isNullOrUndefined(bI)){var bJ=bI.split(',');for(var bK=0;bK<bJ.length;bK++){var bL=bJ[bK];W.$2[bL]=true}}}return ss.keyExists(W.$2,e)&&W.$2[e]};global.tab.ObjectCoverage=W;var X=function(){};X.__typeName='tab.ObjectRegistry';X.registerType=function(e,bI){return function(){if(ss.isNullOrUndefined(X.$2)){X.$2={}}X.$2[ss.getTypeFullName(e)]=bI}};X.newView$1=function(e){return function(bI,bJ){return X.$1(e).call(null,bI,bJ)}};X.newView=function(e){return function(bI){return X.$1(e).call(null,e,bI)}};X.newWidget$2=function(e){return function(bI,bJ){return X.$1(e).call(null,bI,bJ)}};X.newWidget=function(e){return function(){return X.$1(e).call(null,e,[])}};X.newWidget$1=function(e){return function(bI){return X.$1(e).call(null,e,bI)}};X.$1=function(e){return function(bI,bJ){if(ss.isNullOrUndefined(X.$2)){throw new ss.Exception('No types registered')}var bK=X.$2[ss.getTypeFullName(bI)];if(ss.isNullOrUndefined(bK)){throw new ss.Exception('Unknown view type: '+ss.getTypeFullName(bI))}var bL=((bJ.length===0)?ss.createInstance(bK):ss.applyConstructor(bK,bJ));return(X.$0(bK,e)?bL:bL)}};X.newLegacyTooltip=function(e){return function(bI,bJ,bK){if(ss.isNullOrUndefined(X.$2)){throw new ss.Exception('No types registered')}var bL=X.$2[ss.getTypeFullName(bI)];if(ss.isNullOrUndefined(bL)){throw new ss.Exception('Unknown tooltip type: '+ss.getTypeFullName(bI))}var bM=new bL(bJ,bK);return bM}};X.newLegacyTooltipBehavior=function(e){return function(bI,bJ){if(ss.isNullOrUndefined(X.$2)){throw new ss.Exception('No types registered')}var bK=X.$2[ss.getTypeFullName(bI)];if(ss.isNullOrUndefined(bK)){throw new ss.Exception('Unknown tooltip type: '+ss.getTypeFullName(bI))}var bL=new bK(bJ);return bL}};X.resolve=function(e){return function(bI){var bJ=e;if(ss.isNullOrUndefined(X.$2)){throw new ss.Exception('No types registered')}var bK=X.$2[ss.getTypeFullName(bJ)];if(ss.isNullOrUndefined(bK)){throw new ss.Exception('Unknown type: '+ss.getTypeFullName(bJ))}return ss.applyConstructor(bK,bI)}};X.$0=function(e,bI){return ss.isNullOrUndefined(ss.getGenericTypeDefinition(bI))||ss.isValue(ss.getGenericTypeDefinition(e))};global.tab.ObjectRegistry=X;var Y=function(){};Y.__typeName='tab.Param';Y.createArgumentNullOrUndefinedException=function(e){var bI=new ss.Exception(e+' is null or undefined.');bI.paramName=e;return bI};Y.verifyString=function(e,bI){Y.verifyValue(e,bI);if(e.trim().length===0){var bJ=new ss.Exception(bI+' contains only white space');bJ.paramName=bI;Y.$1(bJ);throw bJ}};Y.verifyValue=function(e,bI){if(ss.isNullOrUndefined(e)){var bJ=Y.createArgumentNullOrUndefinedException(bI);Y.$1(bJ);throw bJ}};Y.$1=function(e){if(Y.suppressAlerts){return}try{throw e}catch(bI){var exceptionWithStack=ss.Exception.wrap(bI);window.alert(Y.$0(exceptionWithStack))}};Y.$0=function(e){var bI;if(ss.isValue(e.stack)){bI=e.stack}else{bI=e.get_message()}return bI};global.tab.Param=Y;var Z=function(){};Z.__typeName='tab.PathnameKey';global.tab.PathnameKey=Z;var ba=function(){};ba.__typeName='tab.PointFUtil';ba.subtract=function(e,bI){return{x:e.x-bI.x,y:e.y-bI.y}};ba.timesScalar=function(e,bI){return{x:e.x*bI,y:e.y*bI}};ba.round=function(e){return{x:Math.round(e.x),y:Math.round(e.y)}};global.tab.PointFUtil=ba;var bb=function(){};bb.__typeName='tab.PointUtil';bb.fromPresModel=function(e){if(ss.isNullOrUndefined(e)){return null}return{x:e.x,y:e.y}};bb.toPresModel=function(e){if(ss.isNullOrUndefined(e)){return null}var bI={x:ss.round(e.x),y:ss.round(e.y)};return bI};bb.fromPosition=function(e){return{x:u.roundToInt(e.left),y:u.roundToInt(e.top)}};bb.add=function(e,bI){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(bI)){return e}return{x:e.x+bI.x,y:e.y+bI.y}};bb.subtract=function(e,bI){return{x:e.x-bI.x,y:e.y-bI.y}};bb.distance=function(e,bI){Y.verifyValue(e,'first');Y.verifyValue(bI,'second');var bJ=e.x-bI.x;var bK=e.y-bI.y;return Math.sqrt(bJ*bJ+bK*bK)};bb.isWithinDistance=function(e,bI,bJ){var bK=e.x-bI.x;var bL=e.y-bI.y;return bK*bK+bL*bL<=bJ*bJ};bb.equals=function(e,bI){return ss.isValue(e)&&ss.isValue(bI)&&bI.x===e.x&&bI.y===e.y};global.tab.PointUtil=bb;var bc=function(e){this.$0=null;ss.EventArgs.call(this);this.$0=e};bc.__typeName='tab.PropertyChangedEventArgs';global.tab.PropertyChangedEventArgs=bc;var bd=function(){};bd.__typeName='tab.RecordCast';bd.rectAsSize=function(e){return e};bd.regionRectAsSize=function(e){return e};bd.rectPresModelAsRectXY=function(e){if(ss.isNullOrUndefined(e)){return null}return{x:e.x,y:e.y,w:e.w,h:e.h}};bd.doubleRectPresModelAsDoubleRectXY=function(e){if(ss.isNullOrUndefined(e)){return null}return{x:e.doubleLeft,y:e.doubleTop,w:e.width,h:e.height}};bd.sizeAsSizePresModel=function(e){if(ss.isNullOrUndefined(e)){return null}var bI={};bI.w=e.w;bI.h=e.h;return bI};global.tab.RecordCast=bd;var be=function(){};be.__typeName='tab.RectUtil';be.isEmpty=function(e){return e.w===0||e.h===0};be.isEqual=function(e,bI){return e.t===bI.t&&e.l===bI.l&&e.w===bI.w&&e.h===bI.h};be.inRect=function(e,bI){return bI.x>=e.l&&bI.x<e.l+e.w&&bI.y>=e.t&&bI.y<e.t+e.h};global.tab.RectUtil=be;var bf=function(){};bf.__typeName='tab.RectXYUtil';bf.set=function(e,bI){e.x=bI.x;e.y=bI.y;e.w=bI.w;e.h=bI.h};bf.set$1=function(e,bI,bJ,bK,bL){e.x=bI;e.y=bJ;e.w=bK;e.h=bL};bf.isEmpty=function(e){if(!ss.isValue(e)){return true}return e.w===0||e.h===0};bf.isEqual=function(e,bI){return e.x===bI.x&&e.y===bI.y&&e.w===bI.w&&e.h===bI.h};bf.isNull=function(e){return e.x===0&&e.y===0&&e.w===0&&e.h===0};bf.inRect=function(e,bI){return bI.x>=e.x&&bI.x<e.x+e.w&&bI.y>=e.y&&bI.y<e.y+e.h};bf.inRect$1=function(e,bI,bJ){return bI>=e.x&&bI<e.x+e.w&&bJ>=e.y&&bJ<e.y+e.h};bf.inRectPointF=function(e,bI){return bI.x>=e.x&&bI.x<e.x+e.w&&bI.y>=e.y&&bI.y<e.y+e.h};bf.inRectPointF$1=function(e,bI,bJ){return bI>=e.x&&bI<e.x+e.w&&bJ>=e.y&&bJ<e.y+e.h};bf.intersectsWith=function(e,bI){return!(bI.x+bI.w<e.x||bI.y+bI.h<e.y||bI.x>e.x+e.w||bI.y>e.y+e.h)};bf.intersectsWith$1=function(e,bI,bJ,bK,bL){return!(bI+bK<e.x||bJ+bL<e.y||bI>e.x+e.w||bJ>e.y+e.h)};bf.intersectsWithMoreThanSharedEdge=function(e,bI){return!(bI.x+bI.w<=e.x||bI.y+bI.h<=e.y||bI.x>=e.x+e.w||bI.y>=e.y+e.h)};bf.clone=function(e){return{x:e.x,y:e.y,w:e.w,h:e.h}};bf.nonemptyify=function(e){return{x:e.x,y:e.y,w:Math.max(1,e.w),h:Math.max(1,e.h)}};bf.intersectsWithAny=function(e,bI){var bJ=false;for(var bK=0;bK<bI.length;bK++){var bL=bI[bK];if(ss.isNullOrUndefined(bL)){continue}if(bf.intersectsWith(e,bL)){bJ=true;break}}return bJ};bf.intersectsWithAny$1=function(e,bI,bJ){if(bI.y+bI.h<e.y||bI.y>e.y+e.h){return false}var bK=e.x;var bL=e.x+e.w;for(var bM=0;bM<bJ.length;bM++){var bN=bJ[bM];var bO=bI.x+bN;var bP=bO+bI.w;if(!(bP<bK||bO>bL)){return true}}return false};bf.completelyContains=function(e,bI){return bf.inRect(e,{x:bI.x,y:bI.y})&&bf.inRect(e,{x:bI.x+bI.w-1,y:bI.y+bI.h-1})};bf.completelyContains$1=function(e,bI,bJ,bK,bL){return bf.inRect$1(e,bI,bJ)&&bf.inRect$1(e,bI+bK-1,bJ+bL-1)};bf.toRect=function(e){return{l:e.x,t:e.y,w:e.w,h:e.h}};bf.offsetRect=function(e,bI){return{x:e.x+bI.x,y:e.y+bI.y,w:e.w,h:e.h}};bf.offsetRectXY=function(e,bI,bJ){return{x:e.x+bI,y:e.y+bJ,w:e.w,h:e.h}};bf.offsetRectXYInPlace=function(e,bI,bJ){e.x+=bI;e.y+=bJ};bf.offsetRectF=function(e,bI){return{x:e.x+Math.round(bI.x),y:e.y+Math.round(bI.y),w:e.w,h:e.h}};bf.outsetRect=function(e,bI,bJ){return{x:e.x-bI,y:e.y-bJ,w:e.w+bI+bI,h:e.h+bJ+bJ}};bf.outsetRectInPlace=function(e,bI,bJ){e.x-=bI;e.y-=bJ;e.w+=2*bI;e.h+=2*bJ};bf.outsetRectSizeF=function(e,bI){return bf.outsetRect(e,Math.ceil(bI.w),Math.ceil(bI.h))};bf.encompassCircleInPlace=function(e,bI,bJ,bK){var bL=bK*2;var bM=Math.floor(bI-bK+0.5);var bN=Math.floor(bJ-bK+0.5);var bO=Math.floor(bL+0.5);bf.unionInPlace$1(e,bM,bN,bO,bO)};bf.union=function(e,bI){if(bf.isEmpty(e)){return bf.clone(bI)}if(bf.isEmpty(bI)){return bf.clone(e)}var bJ=Math.min(e.x,bI.x);var bK=Math.min(e.y,bI.y);var bL=Math.max(e.x+e.w,bI.x+bI.w);var bM=Math.max(e.y+e.h,bI.y+bI.h);return{x:bJ,y:bK,w:bL-bJ,h:bM-bK}};bf.unionInPlace$1=function(e,bI,bJ,bK,bL){if(bf.isEmpty(e)){bf.set$1(e,bI,bJ,bK,bL);return}if(bK===0||bL===0){return}var bM=Math.min(e.x,bI);var bN=Math.min(e.y,bJ);var bO=Math.max(e.x+e.w,bI+bK);var bP=Math.max(e.y+e.h,bJ+bL);bf.set$1(e,bM,bN,bO-bM,bP-bN)};bf.unionInPlace=function(e,bI){bf.unionInPlace$1(e,bI.x,bI.y,bI.w,bI.h)};bf.unionAll=function(e){var bI=e.length;if(bI===0){return{x:0,y:0,w:0,h:0}}var bJ=e[0];var bK=bJ.x;var bL=bJ.y;var bM=bJ.x+bJ.w;var bN=bJ.y+bJ.h;for(var bO=1;bO<bI;bO++){bJ=e[bO];bK=Math.min(bK,bJ.x);bL=Math.min(bL,bJ.y);bM=Math.max(bM,bJ.x+bJ.w);bN=Math.max(bN,bJ.y+bJ.h)}return{x:bK,y:bL,w:bM-bK,h:bN-bL}};bf.rectXYFromCorners=function(e,bI){var bJ=Math.round(Math.min(e.x,bI.x));var bK=Math.round(Math.min(e.y,bI.y));var bL=Math.abs(Math.round(e.x-bI.x));var bM=Math.abs(Math.round(e.y-bI.y));return{x:bJ,y:bK,w:bL,h:bM}};bf.rectXYFromCorners$1=function(e,bI,bJ,bK){var bL=Math.round(Math.min(e,bJ));var bM=Math.round(Math.min(bI,bK));var bN=Math.abs(Math.round(e-bJ));var bO=Math.abs(Math.round(bI-bK));return{x:bL,y:bM,w:bN,h:bO}};bf.rectXYFromBBoxRectF=function(e){return bf.rectXYFromMinAndMax(e.minX,e.minY,e.maxX,e.maxY)};bf.rectXYFromMinAndMax=function(e,bI,bJ,bK){var bL=Math.floor(e);var bM=Math.floor(bI);var bN=Math.ceil(bJ);var bO=Math.ceil(bK);return{x:bL,y:bM,w:bN-bL,h:bO-bM}};bf.dialate=function(e,bI){var bJ=e.x-bI;var bK=e.y-bI;var bL=e.w+2*bI;var bM=e.h+2*bI;return{x:bJ,y:bK,w:bL,h:bM}};bf.intersect=function(e,bI){if(!bf.intersectsWith(e,bI)||bf.isEmpty(bI)||bf.isEmpty(e)){return{x:0,y:0,w:0,h:0}}var bJ=Math.max(e.x,bI.x);var bK=Math.max(e.y,bI.y);var bL=Math.min(e.x+e.w,bI.x+bI.w);var bM=Math.min(e.y+e.h,bI.y+bI.h);return{x:bJ,y:bK,w:bL-bJ,h:bM-bK}};bf.intersectInPlace=function(e,bI){if(!bf.intersectsWith(e,bI)||bf.isEmpty(e)||bf.isEmpty(bI)){bf.set$1(e,0,0,0,0);return}var bJ=Math.max(e.x,bI.x);var bK=Math.max(e.y,bI.y);var bL=Math.min(e.x+e.w,bI.x+bI.w);var bM=Math.min(e.y+e.h,bI.y+bI.h);bf.set$1(e,bJ,bK,bL-bJ,bM-bK)};bf.shiftCoordsTowardsCenter=function(e,bI,bJ){if(ss.isNullOrUndefined(bI)){return e}var bK={x:e.x,y:e.y};bK=bf.horizontalShiftCoordsTowardsCenter(bK,bI,bJ);return bf.verticalShiftCoordsTowardsCenter(bK,bI,bJ)};bf.horizontalShiftCoordsTowardsCenter=function(e,bI,bJ){if(ss.isNullOrUndefined(bI)){return e}var bK={x:e.x,y:e.y};if(bK.x<=bI.x+bJ){bK.x+=bJ}else if(bK.x>=bI.x+bI.w-2*bJ){bK.x-=bJ}return bK};bf.verticalShiftCoordsTowardsCenter=function(e,bI,bJ){if(ss.isNullOrUndefined(bI)){return e}var bK={x:e.x,y:e.y};if(bK.y<=bI.y+bJ){bK.y+=bJ}else if(bK.y>=bI.y+bI.h-2*bJ){bK.y-=bJ}return bK};bf.clampCoords=function(e,bI){var bJ=Math.min(Math.max(bI.x,e.x),bI.x+bI.w);var bK=Math.min(Math.max(bI.y,e.y),bI.y+bI.h);return{x:bJ,y:bK}};bf.getChangedRects=function(e,bI){var bJ=[];if(!ss.isValue(e)||!ss.isValue(bI)||!bf.intersectsWith(e,bI)){return bJ}var bK=e.x+e.w;var bL=e.y+e.h;var bM=bI.x+bI.w;var bN=bI.y+bI.h;var bO=Math.min(e.x,bI.x);var bP=Math.max(e.x,bI.x);var bQ=Math.min(bK,bM);var bR=Math.max(bK,bM);var bS=Math.min(e.y,bI.y);var bT=Math.max(e.y,bI.y);var bU=Math.min(bL,bN);var bV=Math.max(bL,bN);var bW={x:bO,y:bS,w:bR-bO,h:bT-bS};var bX={x:bO,y:bT,w:bP-bO,h:bU-bT};var bY={x:bQ,y:bT,w:bR-bQ,h:bU-bT};var bZ={x:bO,y:bU,w:bR-bO,h:bV-bU};if(!bf.isEmpty(bW)){bJ.push(bW)}if(!bf.isEmpty(bX)){bJ.push(bX)}if(!bf.isEmpty(bY)){bJ.push(bY)}if(!bf.isEmpty(bZ)){bJ.push(bZ)}return bJ};bf.reduceRectangles=function(e){if(ss.isNullOrUndefined(e)){return null}var bI=e.length;if(bI===1){return e}var bJ=new Array(bI);for(var bK=0;bK<bI;bK++){var bL=bJ[bK]||e[bK];bJ[bK]=bL;if(bf.isEmpty(bL)){continue}for(var bM=bK+1;bM<bI;bM++){var bN=bJ[bM]||e[bM];if(bf.isEmpty(bN)){continue}var bO=bf.intersect(bL,bN);if(bf.isEmpty(bO)){continue}var bP=bf.$0(bL,bO);if(ss.referenceEquals(bP,bL)){bN=bf.$0(bN,bO)}bJ[bK]=bP;bJ[bM]=bN}}for(var bQ=bJ.length-1;bQ>=0;bQ--){if(bf.isEmpty(bJ[bQ])){bJ.splice(bQ,1)}}return bJ};bf.$0=function(e,bI){if(bI.x===e.x&&bI.w===e.w){if(bI.y>e.y){return{x:e.x,y:e.y,w:e.w,h:e.h-bI.h}}else{return{x:e.x,y:e.y+bI.h,w:e.w,h:e.h-bI.h}}}else if(bI.y===e.y&&bI.h===e.h){if(bI.x>e.x){return{x:e.x,y:e.y,w:e.w-bI.w,h:e.h}}else{return{x:e.x+bI.w,y:e.y,w:e.w-bI.w,h:e.h}}}return e};global.tab.RectXYUtil=bf;var bg=function(){};bg.__typeName='tab.RleDecoder';bg.decode=function(e){if(ss.isNullOrUndefined(e)){return e}return bg.$2(e)};bg.$2=function(e){if(typeof(e)!=='object'||!ss.isValue(e)){return e}if($.isArray(e)){var bI=e;for(var bJ=0,bK=bI.length;bJ<bK;bJ++){var bL=bI[bJ];if(typeof(bL)!=='object'){break}bI[bJ]=bg.$2(bL)}return bg.$1(bI)}else{var bM=e;var bN=Object.keys(bM);for(var bO=0,bP=bN.length;bO<bP;bO++){var bQ=bN[bO];if(typeof(bM[bQ])!=='object'){continue}if(bM.hasOwnProperty(bQ)){bM[bQ]=bg.$2(bM[bQ])}}}return e};bg.$0=function(e){if(e.length===0){return false}var bI=e[e.length-1];if(!$.isArray(bI)){return false}return bI.length===0};bg.$4=function(e){var bI=e.length;return bI===2||bI===3};bg.$3=function(e,bI){var bJ=bI[0];var bK=bI[1];var bL=((bI.length===3)?bI[2]:0);for(var bM=0,bN=bJ;bM<bK;bM++,bN+=bL){e.push(bN)}};bg.$1=function(e){if(!bg.$0(e)){return e}e.pop();var bI=null;var bJ=0;var bK=e.length;for(var bL=0;bL<bK;bL++){var bM=e[bL];var bN=typeof(bM);if(bN==='number'){continue}if(ss.isNullOrUndefined(bM)){continue}if(bN!=='object'||!$.isArray(bM)){return e}var bO=bM;if(!bg.$4(bO)){return e}bI=bI||[];for(var bP=bJ;bP<bL;bP++){bI.push(e[bP])}bg.$3(bI,bO);bJ=bL+1}if(ss.isValue(bI)){for(var bQ=bJ;bQ<bK;bQ++){bI.push(e[bQ])}e=bI}return e};global.tab.RleDecoder=bg;var bh=function(){};bh.__typeName='tab.SetUtilities';bh.interserctWith=function(e){return function(bI,bJ){var bK=new Set;for(var bL=0;bL<bJ.length;bL++){var bM=bJ[bL];if(bI.has(bM)){bK.add(bM)}}bI.forEach(function(bN){if(!bK.has(bN)&&_.contains(bJ,bN)){bK.add(bN)}});return bK}};bh.getValues=function(e){return function(bI){var bJ=[];bI.forEach(function(bK){bJ.push(bK)});return bJ}};bh.addAll=function(e){return function(bI,bJ){for(var bK=0;bK<bJ.length;bK++){var bL=bJ[bK];bI.add(bL)}}};bh.symmetricDifferenceWith=function(e){return function(bI,bJ){var bK=new Set;bI.forEach(function(bL){if(!bJ.has(bL)){bK.add(bL)}});bJ.forEach(function(bL){if(!bI.has(bL)){bK.add(bL)}});return bK}};global.tab.SetUtilities=bh;var bi=function(){};bi.__typeName='tab.SizeUtil';bi.isEmpty=function(e){return e.w===0&&e.h===0};bi.union=function(e,bI){return{w:Math.max(e.w,bI.w),h:Math.max(e.h,bI.h)}};bi.unionPresModels=function(e,bI){var bJ={};bJ.w=Math.max(e.w,bI.w);bJ.h=Math.max(e.h,bI.h);return bJ};bi.add=function(e,bI){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(bI)){return e}return{w:e.w+bI.w,h:e.h+bI.h}};bi.subtract=function(e,bI){return{w:e.w-bI.w,h:e.h-bI.h}};bi.equals=function(e,bI){return ss.isValue(e)&&ss.isValue(bI)&&bI.w===e.w&&bI.h===e.h};global.tab.SizeUtil=bi;var bj=function(e,bI){this.url=null;this.lineNo=0;this.columnNo=0;this.functionName='?';this.context=null;this.url=e;this.lineNo=bI};bj.__typeName='tab.StackLocation';global.tab.StackLocation=bj;var bk=function(e,bI){this.userAgent=window.navigator.userAgent;this.traceMode='onError';this.message=null;this.url=null;this.locations=null;this.isIncomplete=false;this.isPartial=false;this.name=null;this.traceMode=e;this.message=bI;this.url=document.URL;this.locations=[]};bk.__typeName='tab.StackTrace';global.tab.StackTrace=bk;var bl=function(){h.call(this)};bl.__typeName='tab.StackTraceAppender';bl.enableLogging=function(e){if(ss.isNullOrUndefined(bl.$0)){bl.$0=new bl;N.addAppender(bl.$0)}bl.$0.addFilter(e||function(){return true})};bl.disableLogging=function(){if(ss.isValue(bl.$0)){N.removeAppender(bl.$0);bl.$0=null}};global.tab.StackTraceAppender=bl;var bm=function(e,bI){this.$0=null;this.$1=null;this.$0=e;this.$1=bI};bm.__typeName='tab.StringTuple';global.tab.StringTuple=bm;var bn=function(){};bn.__typeName='tab.StyleUtil';bn.appendCSSRule=function(e,bI){bn.appendCSSRuleToStyleSheet$1('tab-appendedCustomStyle',e,bI)};bn.appendCSSRuleToStyleSheet=function(e,bI,bJ){var bK=bI+' {\n'+bn.createCSSRules(bJ)+'}\n';var bL=e.cssRules.length;e.insertRule(bK,bL)};bn.appendCSSRuleToStyleSheet$1=function(e,bI,bJ){if(!ss.keyExists(bn.$3,e)){bn.$0(e)}var bK=bn.$3[e]||bn.$1(e);bn.appendCSSRuleToStyleSheet(bK,bI,bJ)};bn.createCSSRules=function(e){var bI='';var bJ=_.keys(e);for(var bK=0;bK<bJ.length;bK++){var bL=bJ[bK];var bM=e[bL];if(!ss.isNullOrEmptyString(bM)){bI+=bL+':'+bM+';\n'}}return bI};bn.clearDefaultStyleSheet=function(){bn.clearStyleSheet('tab-appendedCustomStyle')};bn.clearStyleSheet=function(e){var bI=bn.$3[e];if(ss.isNullOrUndefined(bI)){return}var bJ=bI.ownerNode;if(ss.isValue(bJ)&&ss.isValue(bJ.parentNode)){bJ.parentNode.removeChild(bJ);delete bn.$3[e]}};bn.isValidCssClassName=function(e){var bI=e.match(bn.$2);return ss.isValue(bI)};bn.$0=function(e){var bI=document.createElement('style');bI.setAttribute('type','text/css');bI.id=e;bI.appendChild(document.createTextNode(''));document.head.appendChild(bI);bn.$3[e]=bn.$1(e);return bI};bn.$1=function(e){var bI=document.getElementById(e);return bI.sheet};global.tab.StyleUtil=bn;var bo=function(e,bI,bJ,bK){this.$3=null;this.$1=0;this.$0=0;this.$2=0;this.$3={x:e,y:bI};this.$1=bJ;this.$0=1/bJ;this.$2=bK};bo.__typeName='tab.Transform';bo.none=function(){return bo.$0};bo.offset=function(e,bI){return((e===0&&bI===0)?bo.$0:new bo(e,bI,1,3))};bo.pixelToDomain=function(e,bI,bJ){if(u.isApproximatelyZero(e)&&u.isApproximatelyZero(bI)&&u.isApproximatelyEqual(1,bJ)){return bo.$0}return new bo(e,bI,bJ,1)};bo.domainToPixel=function(e,bI,bJ){if(u.isApproximatelyZero(e)&&u.isApproximatelyZero(bI)&&u.isApproximatelyEqual(1,bJ)){return bo.$0}return new bo(e,bI,bJ,2)};global.tab.Transform=bo;var bp=function(){this.$0=null;this.reset()};bp.__typeName='tab.TransformationMatrix';global.tab.TransformationMatrix=bp;var bq=function(){};bq.__typeName='tab.TransformationType';global.tab.TransformationType=bq;var br=function(){};br.__typeName='tab.UriUtil';br.$2=function(){var e=new RegExp('^(\\d+\\.\\d+)');var bI=e.exec(tsConfig.version);return(ss.isValue(bI)?bI[1]:'0.0')};br.$0=function(){return(tsConfig.is_saas?'online':'server')};br.$1=function(){if(ss.isNullOrUndefined(tsConfig.language)){return'en-us'}switch(tsConfig.language){case'de':{return'de-de'}case'en':{return'en-us'}case'es':{return'es-es'}case'fr':{return'fr-fr'}case'ja':{return'ja-jp'}case'ko':{return'ko-kr'}case'pt':{return'pt-br'}case'zh':{return'zh-cn'}default:{return'en-us'}}};br.makeHelpUri=function(e,bI){var bJ;if(tsConfig.useOfflineHelp){bJ=br.getOfflineHelpHref(bI)}else{var bK=(!ss.isNullOrEmptyString(tsConfig.serverPlatform)?ss.formatString('platform={0}&',tsConfig.serverPlatform.toLowerCase()):'');bJ=ss.formatString('{0}/{1}/app/{2}?edition={3}&lang={1}&{5}version={4}','http://www.tableau.com',br.$1(),e,br.$0(),br.$2(),bK)}return bJ};br.getOfflineHelpHref=function(e){var bI=ss.replaceAllString(br.$1(),'-','_');return ss.formatString('/offline_help/{0}/help.htm#{1}',bI,e)};br.makeHelpSearchUri=function(e){var bI=encodeURIComponent(e);if(tsConfig.useOfflineHelp){return br.getOfflineHelpHref(ss.formatString('search-{0}',bI))}return((br.$1()==='en-us')?ss.formatString('{0}/search/support/{1}','http://www.tableau.com',bI):ss.formatString('{0}/{1}/search/support/{2}','http://www.tableau.com',br.$1(),bI))};br.makeSupportUri=function(){return(tsConfig.useOfflineHelp?br.getOfflineHelpHref('support'):'http://www.tableau.com')+'/support'};global.tab.UriUtil=br;var bs=function(){this.$2=null;h.call(this)};bs.__typeName='tab.WindowAppender';bs.enableLogging=function(e){if(ss.isNullOrUndefined(bs.$0)){bs.$0=new bs;N.addAppender(bs.$0)}bs.$0.addFilter(e||function(){return true})};bs.disableLogging=function(){if(ss.isNullOrUndefined(bs.$0)){return}N.removeAppender(bs.$0);bs.$0=null};global.tab.WindowAppender=bs;var bt=function(){};bt.__typeName='tableau.format';bt.get_isO8601DateFormat=function(){return bt.$Z};bt.get_isO8601DateTimeFormat=function(){return bt.$10};bt.get_isO8601TimeFormat=function(){return bt.$11};bt.get_defaultLocaleStrings=function(){return bt.$W};bt.get_baseTimestamp=function(){return bt.$S};bt.convertFullwidthNumberToAscii=function(e){var bI=ss.getEnumerator(Object.keys(bt.$X));try{while(bI.moveNext()){var bJ=bI.current();e=ss.replaceAllString(e,bJ,bt.$X[bJ])}}finally{bI.dispose()}return e};bt.formatDataValue=function(e,bI,bJ,bK,bL){var bM=e.s;if(ss.isNullOrUndefined(bM)||ss.isNullOrUndefined(bM)){var bN=(('t'in e)?e.t:'');var bO=e.v;switch(bN){case's':{return bO}case'b':{return bO.toString()}case'i':{if(typeof(bO)!=='number'){bO=parseInt(bO,10)}return((bI==='d')?bt.$i(bO).toString():bt.$d(bO,bJ))}case'r':{if(typeof(bO)!=='number'){bO=parseFloat(bO)}return bt.$j(bO,bN,bJ,bK,bI)}case't':{return(_.isDate(bO)?bt.formatJsDateTime(bO,bJ,bL,bN):bt.$g((_.isNumber(e.v)?e.v:parseFloat(e.v)),bJ,bL,bN))}case'd':{return(_.isDate(bO)?bt.formatJsDateTime(bO,bJ,0,bN):bt.$g((_.isNumber(e.v)?e.v:parseFloat(e.v)),bJ,0,bN))}}throw new ss.Exception('Invalid Tableau Format Type')}if(bM==='n'){return'null'}if(bM==='m'){return tab.Strings.SpecialMissing}return'#special:'+bM+'#'};bt.parseQuantitativeDataValue=function(e,bI,bJ,bK,bL){switch(bI){case'i':{return parseInt(bt.reformatNumberToJsFormat(e,bJ),10)}case'r':{return parseFloat(bt.reformatNumberToJsFormat(e,bJ))}case'd':case't':{var bM=bt.formatToJSCompliantFormat(e,bJ,bK,bL);return bu.OleDateFromJsDate((new Date(Date.parse(bM+' GMT'))).getTime())}}return(ss.isValue(bL)?parseFloat(bL.v):0)};bt.reformatNumberToJsFormat=function(e,bI){var bJ=bI[8].replace(bt.$17,'\\$1');if(bJ.indexOf(' ')!==-1){bJ+=' '}var bK=bI[7].replace(bt.$17,'\\$1');if(bJ.indexOf('.')===-1&&bK.indexOf('.')===-1){e=e.replace(new RegExp('\\.','g'),'?')}return e.replace(new RegExp('['+bJ+']','g'),'').replace(new RegExp('['+bK+']','g'),'.')};bt.formatToJSCompliantFormat=function(e,bI,bJ,bK){var bL=bt.normalizeDateTimeFormat(bI,bJ,bK.t);var bM=bt.tokenizeDateTime(e,bL,bJ);if(ss.isValue(bM)){return bt.$3(bM,bK)}else{return''}};bt.normalizeDateTimeFormat=function(e,bI,bJ){var bK=e.format;var bL=e.timeFormat;if(bK.charCodeAt(0)===42){bK=bK.substr(1)}if(bI!==0&&ss.isValue(bL)&&(ss.isNullOrUndefined(e.originalFormat)||e.originalFormat.length===0||e.originalFormat==='S')&&bJ==='t'){if(bL.charCodeAt(0)===42){bL=bL.substr(1)}bK=bK+' '+bL}bK=bK.replace(new RegExp('ampm','g'),'tt');bK=ss.replaceAllString(bK,'H','h');bK=bK.replace(bt.$T,function(bM){return bM.replace(new RegExp('m','gi'),'m')});bK=bK.replace(bt.$U,function(bM){return bM.replace(new RegExp('m','gi'),'n')});return bK};bt.tokenizeDateTime=function(e,bI,bJ){var bK=bI;bK=bK.replace(bt.$17,'\\$1');bK=bK.replace(bt.$1b,'($1)');bK=bK.replace(bt.$13,'($1)');var bL=bI.match(new RegExp(bK));var bM=bI;bM=bM.replace(bt.$17,'\\$1');if(bJ===1){bM=bM.replace(bt.$V,'(?:$1 )?$2')}else{bM=bM.replace(bt.$V,'$1(?: $2)?')}bM=bM.replace(bt.$18,'(?:$1)?');bM=bM.replace(bt.$13,'(\\d+)');bM=bM.replace(bt.$1b,'([^0-9\\s]+)?');bM=bM.replace(bt.$19,function(bQ){return bQ.replace(new RegExp('\\s+','g'),'\\s+')});bM=bM.replace(bt.$14,'\\s*');var bN=e.match(new RegExp(bM));if(ss.isNullOrUndefined(bN)){return null}var bO={};for(var bP=1;bP<bN.length;++bP){if(ss.isValue(bN[bP])&&bN[bP].length>0){bO[bL[bP].substr(0,1).toLowerCase()]=bN[bP]}}return bO};bt.$3=function(e,bI){if(!ss.keyExists(e,'y')&&!ss.keyExists(e,'m')&&!ss.keyExists(e,'d')){var bJ=(bI.v?new Date(bu.JsDateFromOleDate(bI.v)):new Date(bu.javaScriptOLEEpoch()));e['y']=bJ.getUTCFullYear().toString();e['m']=(bJ.getUTCMonth()+1).toString();e['d']=bJ.getUTCDate().toString()}var bK=e['y'].replace(new RegExp('^(\\d{2})$'),function(bM){var bN=parseInt(bM,10);return((bN<30)?('20'+bM):('19'+bM))});var bL=e['m']+'/'+e['d']+'/'+bK;if(ss.keyExists(e,'h')&&ss.keyExists(e,'n')){bL+=' '+e['h']+':'+e['n']+':';bL+=(ss.keyExists(e,'s')?e['s']:'00');if(ss.keyExists(e,'t')){if(ss.isValue(e['t'].match(bt.$R))){bL+=' am'}else if(ss.isValue(e['t'].match(bt.$15))){bL+=' pm'}}}return bL};bt.formatCustomJSDateTime=function(e,bI,bJ,bK,bL,bM,bN,bO,bP){var bQ=0,bR=0,bS;if(ss.isNullOrUndefined(bP)){bP=new j}var bT=ss.isValue(bN);var bU=ss.isNullOrUndefined(bM)||bM.length===0||bM==='S';var bV=bK==='t';if(ss.isValue(bJ)&&bJ!==0&&bT&&bU&&bV){if(bN.charCodeAt(0)===42){bN=bN.substr(1)}if(bJ===2){bI=bI+' '+bN}else{bI=bN}}if(bI==='L'){bI='*dddd, mmmm dd, yyyy'}if(bI.charCodeAt(0)===42){bI=bI.substr(1)}bS=bI.length;var bW,bX;if(bP.fiscalYearStart>1){bW=bX=bt.dtGetFiscalYear(e,bP.fiscalYearStart)}else{bW=e.getUTCFullYear();bX=(bP.brokenWeeks?bW:bt.$a(e,bP.startOfWeek,bP.minDaysInFirstWeek))}var bY=bX.toString();var bZ=bY.substr(bY.length-2);var ca=bW.toString();var cb=ca.substr(ca.length-2);var cc=[];cc.push(new bm('ampm',bt.$5(e)));cc.push(new bm('tt',bt.$5(e)));cc.push(new bm('yyyy',ca));cc.push(new bm('yy',cb));cc.push(new bm('mmmm',bt.$w(e,bO)));cc.push(new bm('mmm',bt.$y(e,bO)));cc.push(new bm('dddd',bt.$v(e,bO)));cc.push(new bm('ddd',bt.$x(e,bO)));cc.push(new bm('mm',bt.$q(e.getUTCMonth()+1,2)));cc.push(new bm('m',(e.getUTCMonth()+1).toString()));cc.push(new bm('dd',bt.$q(e.getUTCDate(),2)));cc.push(new bm('d',e.getUTCDate().toString()));cc.push(new bm('hh',bt.$q(bt.$8(e),2)));cc.push(new bm('h',bt.$8(e).toString()));cc.push(new bm('nn',bt.$q(e.getUTCMinutes(),2)));cc.push(new bm('n',e.getUTCMinutes().toString()));cc.push(new bm('ss',bt.$q(e.getUTCSeconds(),2)));cc.push(new bm('s',e.getUTCSeconds().toString()));cc.push(new bm('ww',bt.$9(e,bP).toString()));cc.push(new bm('y',bt.$6(e).toString()));cc.push(new bm('w',(e.getUTCDay()+1).toString()));cc.push(new bm('q',bt.dtGetFiscalQuarter(e,bP.fiscalYearStart).toString()));var cd=[];var ce=null;var cf=false;var cg=false;var ch=-1;var ci=false;var cj=false;var ck=false;while(bQ<bS){var cl=false;var cm=false;for(var cn=0;cn<cc.length;cn++){var co=cc[cn];var cp=co.get_first();var cq=co.get_second();if(ss.referenceEquals(cp,bI.substr(bQ,cp.length).toLowerCase())){cl=true;cd.push(cq);bQ+=cp.length;if(ss.isValue(ce)&&cp==='mm'){cd[cd.length-1]=bt.$q(e.getUTCMinutes(),2)}if(ss.isValue(ce)&&cp==='m'){cd[cd.length-1]=e.getUTCMinutes().toString()}if(cp.charCodeAt(0)===100){ce=null}if(cp.charCodeAt(0)===104){ce=cp;bR=cd.length-1}if(ss.isValue(ce)&&(cp==='ampm'||cp==='tt')){cd[bR]=((ce==='hh')?bt.$q(bt.$7(e),2):bt.$7(e).toString())}switch(cp.charCodeAt(0)){case 121:{if(cp.length>1){cm=true;ch=cd.length-1;ci=cp.length===4;ck=true;if(cf){if(!bP.brokenWeeks){cd[ch]=(ci?bY:bZ);ck=false}cf=false}}break}case 119:{if(cp.length!==2){break}var cr=cf;cf=true;if(!cr&&!cg&&ck){if(!bP.brokenWeeks){cd[ch]=(ci?bY:bZ);ck=false}cf=false}cg=false;break}case 109:case 100:case 113:{if((cp==='mm'||cp==='m')&&ss.isValue(ce)){break}cf=false;cg=true;break}}break}}if(cl){cj=cm;continue}if(bI.charCodeAt(bQ)===92){cd.push(bI.substr(bQ+1,1));bQ+=2}else if(bI.charCodeAt(bQ)===34){var cs=bI.charCodeAt(bQ);var ct=++bQ;while(bQ<bS&&bI.charCodeAt(bQ)!==cs){bQ+=1}if(ct<bS&&bQ>ct){cd.push(bI.substr(ct,bQ-ct))}if(bQ<bS){bQ+=1}}else if(bI.charCodeAt(bQ)===91){var cu=++bQ;while(cu<bI.length&&bI.charCodeAt(cu)!==93){cu++}var cv=bI.substring(bQ,cu);if((cv==='y'||cv==='Y')&&cj){cd[ch]=((cv==='y')?(ci?ca:cb):(ci?bY:bZ));ck=false}bQ=cu+1}else{cd.push(String.fromCharCode(bI.charCodeAt(bQ)));bQ+=1}cj=cm}bI=cd.join('');return bI};bt.mapIcuToOleFormat=function(e){return bt.$o(bt.$Y,e)};bt.$o=function(e,bI){if(ss.isNullOrUndefined(e)||ss.isNullOrEmptyString(bI)){return bI}var bJ=new ss.StringBuilder;var bK=0;var bL=0;var bM=null;while(++bL<=bI.length){var bN=e[bI.substring(bK,bL)];if(ss.isValue(bN)){bM=bN}else{if(ss.isValue(bM)){bJ.append(bM);--bL}else{bJ.append(bI.substring(bK,bK+1))}bK=bL;bM=null}}if(ss.isValue(bM)){bJ.append(bM)}return bJ.toString()};bt.escapeHTML=function(e){return tab.EscapingUtil.escapeHtml(e)};bt.formatColumnDisplayName=function(e,bI,bJ){var bK=e.caption;var bL;if(!(typeof(bK)==='undefined')){bL=bK}else{var bM=e.name;bL=(bI?ss.arrayExtract(bM,1).join('.'):bt.formatQualifiedName(bM))}return(bJ?bL:tab.EscapingUtil.escapeHtml(bL))};bt.formatTupleDisplayName=function(e,bI,bJ){if(ss.isNullOrUndefined(e)){return' '}var bK=e.d;var bL=(ss.isValue(bK)?bK:bt.formatTupleUniqueName(e,bJ));var bM=(bI?bL:bt.escapeHTML(bL));return ss.coalesce(bM,' ')};bt.formatTupleUniqueName=function(e,bI){var bJ='';if(ss.isValue(e)){var bK=e.t;if(ss.isValue(bK)){for(var bL=0;bL<bK.length;bL++){var bM=bK[bL];if(bJ.length!==0){bJ+=','}bJ+=bt.formatDataValue(bM,bI)}}}return bJ};bt.formatTupleDisplayFacet=function(e,bI,bJ){var bK=bt.formatTupleFacet(e,bJ);return(bI?bK:bt.escapeHTML(bK))};bt.formatTupleFacet=function(e,bI){var bJ='';if(ss.isValue(e)){var bK=e.f;if(ss.isValue(bK)){for(var bL=0;bL<bK.length;bL++){var bM=bK[bL];if(bJ.length!==0){bJ+=','}bJ+=bt.formatDataValue(bM,bI)}}}return bJ};bt.formatQualifiedName=function(e){var bI='';for(var bJ=0;bJ<e.length;bJ++){var bK=e[bJ];if(bI.length!==0){bI+='.'}bI+='['+bK.replace(new RegExp('\\]','g'),']]')+']'}return bI};bt.formatIntAuto=function(e,bI,bJ,bK){var bL=bt.$1(e,bI,bJ,bK);return((bt.$u(e)>=0)?bL:('-'+bL))};bt.isDateTimeWithNonMidnightTime=function(e){return ss.isValue(e)&&(ss.isNullOrEmptyString(e.s)||ss.isNullOrUndefined(e.s))&&e.t==='t'&&!bt.$n(new Date(bu.JsDateFromOleDate(parseFloat(e.v))))};bt.applyDecimalPlaces=function(e,bI,bJ){if(bI>=0){var bK=e-bt.$u(e);var bL=bt.$s(bK,bI);var bM=parseInt(bL,10);if(Math.abs(bM)===1){return bM}if(bI===0){return''}bL=bL.replace(new RegExp('^-?0\\.'),bJ);return bL}return''};bt.formatString=function(e,bI){var bJ=bI.dataType;var bK=bI.formatStrings;var bL=bI.fieldRole;var bM=bK;var bN='';var bO=e.toString();switch(bJ){case'cstring':{bN='s';break}case'date':{bN='d';bO=p.parsePresModelDate(e);bM=bt._convertFormatStringsToFormattingInfo(bK);break}case'datetime':{bN='t';bO=p.parsePresModelDate(e);bM=bt._convertFormatStringsToFormattingInfo(bK);break}case'integer':{bN='i';bO=parseInt(e);break}case'real':{bN='r';bO=parseFloat(e);break}case'tuple':{bN='s';bO=bt.$l(e);break}case'unknown':default:{bN=null;break}}var bP={t:bN,v:bO};var bQ;switch(bL){case'dimension':{bQ='d';break}case'measure':{bQ='m';break}case'unknown':default:{bQ=null;break}}return bt.formatDataValue(bP,bQ,bM,null,0)};bt.formatSpecial=function(e,bI){if(ss.isValue(bI)){return bI}switch(e){case'%many-values%':{return tab.Strings.SpecialManyValues}case'%null%':{return''}case'%error%':{return tab.Strings.SpecialError}case'%ragged%':{return tab.Strings.SpecialRagged}case'%skipped%':{return tab.Strings.SpecialSkipped}case'%missing%':{return''}case'%all%':{return tab.Strings.SpecialAll}case'%no-access%':{return tab.Strings.SpecialNoAccess}case'%wildcard%':{return tab.Strings.SpecialWildcard}default:{return'#Special'}}};bt.isSpecialValue=function(e){return bt.$1a[e]===true};bt.stripFormattedText=function(e){if(ss.isNullOrUndefined(e)){return null}return $(e).find('run').text()};bt.deriveNumberEditingFormat=function(e){if(ss.isNullOrUndefined(e)){return null}return['','-1',e[2],'','','','',e[7],e[8],e[9]]};bt.$q=function(e,bI){var bJ=e.toString();while(bJ.length<bI){bJ='0'+bJ}return bJ};bt.$n=function(e){return ss.isValue(e)&&(e.getUTCHours()===0&&e.getUTCMinutes()===0&&e.getUTCSeconds()===0||e.getUTCHours()===23&&e.getUTCMinutes()===59&&e.getUTCSeconds()===59)};bt.$5=function(e){return((e.getUTCHours()<12)?'AM':'PM')};bt.$7=function(e){var bI=e.getUTCHours();if(bI<12){if(bI===0){bI=12}}else if(bI>12){bI-=12}return bI};bt.$8=function(e){return e.getUTCHours()};bt.$6=function(e){var bI=new Date(e.getUTCFullYear(),0,1,12);var bJ=new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),12);return Math.round((bJ-bI)/86400000)+1};bt.$4=function(e,bI){return e.getUTCFullYear()+((e.getUTCMonth()+1<bI)?-1:0)};bt.$a=function(e,bI,bJ){var bK=(e.getUTCDay()+7-(bI-1))%7;var bL=-bK+(7-bJ);var bM=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()+bL));return bM.getUTCFullYear()};bt.$9=function(e,bI){var bJ;if(bI.fiscalYearStart<=1){var bK=(bI.brokenWeeks?e.getUTCFullYear():bt.$a(e,bI.startOfWeek,bI.minDaysInFirstWeek));bJ=new Date(Date.UTC(bK,0,1))}else{bJ=new Date(Date.UTC(bt.$4(e,bI.fiscalYearStart),bI.fiscalYearStart-1,1))}var bL=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()));var bM=(bJ.getUTCDay()+7-(bI.startOfWeek-1))%7;var bN=ss.Int32.div(bL-bJ,86400000)+bM;if(bI.fiscalYearStart<=1&&7-bM<bI.minDaysInFirstWeek){bN-=7}return Math.floor(bN/7)+1};bt.dtGetFiscalYear=function(e,bI){var bJ=e.getUTCFullYear();var bK=e.getUTCMonth()+1;return((bK<bI||bI===1)?0:1)+bJ};bt.dtGetFiscalQuarter=function(e,bI){if(bI<1){bI=1}return Math.floor((e.getUTCMonth()+1-bI+12)%12/3)+1};bt.$v=function(e,bI){if(ss.isNullOrUndefined(bI)){return null}return bI.day[e.getUTCDay()+1]};bt.$x=function(e,bI){if(ss.isNullOrUndefined(bI)){return null}return bI.shortDay[e.getUTCDay()+1]};bt.$w=function(e,bI){if(ss.isNullOrUndefined(bI)){return null}return bI.month[e.getUTCMonth()]};bt.$y=function(e,bI){if(ss.isNullOrUndefined(bI)){return null}return bI.shortMonth[e.getUTCMonth()]};bt.formatJsDateTime=function(e,bI,bJ,bK){if(ss.isNullOrUndefined(bI)){if(bJ===2&&bt.$n(e)){bJ=0}return bt.formatCustomJSDateTime(e,'*M/d/yyyy',bJ,bK,'en_US','','h:nn:ss tt',null)}return bt.formatCustomJSDateTime(e,bI.format,bJ,bK,bI.locale,bI.originalFormat,bI.timeFormat,bI.locale_formatting_strings,bI.calOpts)};bt.$g=function(e,bI,bJ,bK){var bL=new Date(bu.JsDateFromOleDate(e));return bt.formatJsDateTime(bL,bI,bJ,bK)};bt.$u=function(e){return((e<0)?Math.ceil(e):Math.floor(e))};bt.$1=function(e,bI,bJ,bK){var bL=Math.abs(bt.$u(e));var bM='';var bN=parseInt(String.fromCharCode(bK.charCodeAt(0)),10)||3;var bO;if(bL<1E+15){bO=bt.$s(bL,0)}else{bO=bt.$r(bL,14);var bP=bO.match(bt.$16);if(ss.isValue(bP)){var bQ=ss.coalesce(bP[2],'');var bR=parseInt(bP[3],10)-bQ.length;var bS='';for(var bT=0;bT<bR;bT++){bS+='0'}bO=bP[1]+bQ+bS}}if(bI!=='t'){return bO}for(var bU=bO.length-1,bV=0;bU>=0;bU--,bV++){if(bV>=bN){bM=bJ+bM;bV=0}bM=String.fromCharCode(bO.charCodeAt(bU))+bM}return bM};bt.$2=function(e,bI){switch(bI){case'B':case'G':{return e/1000000000}case'M':{return e/1000000}case'K':{return e/1000}default:{return e}}};bt.$0=function(e,bI,bJ,bK,bL){bI=bI.replace(new RegExp('^-'),'');if(e>=0||(new RegExp('^[.0]*$')).test(bI)){return bJ+bI+bK}switch(bt.$m(bL)){case'parenthesis':{return'('+bJ+bI+bK+')'}case'outerSuffix':{return bJ+bI+bK+'-'}case'innerPrefix':{return bJ+'-'+bI+bK}case'innerSuffix':{return bJ+bI+'-'+bK}case'outerPrefix':case'automatic':default:{return'-'+bJ+bI+bK}}};bt.$m=function(e){var bI=parseInt(e,10);var bJ=bI<0||bI>=bt.$12.length;return(bJ?'automatic':bt.$12[bI])};bt.$i=function(e){return bt.$u(e)};bt.$e=function(e,bI,bJ,bK,bL,bM,bN){if(bI==='i'){return bt.$b(e,bI,bJ,bK,bL,bM,bN,null,null)}else{return bt.$b(e,bI,bJ,bK,bL,bM,bN,0.0001,1E+15)}};bt.$f=function(e,bI,bJ,bK,bL,bM){if(bI==='i'){return bt.$b(e,bI,null,bJ,bK,bL,bM,null,1000000)}else{return bt.$b(e,bI,null,bJ,bK,bL,bM,0.0001,1E+15)}};bt.$b=function(e,bI,bJ,bK,bL,bM,bN,bO,bP){var bQ;var bR;var bS;if(ss.isValue(bJ)&&ss.unbox(bJ)<=0){bQ=-ss.unbox(bJ);bS=bR=false}else{bQ=bt.$p(e,bI,true);bS=bR=true}var bT=Math.abs(e);if(bS&&bT!==0&&(ss.isValue(bP)&&ss.Nullable$1.ge(bT,bP)||ss.isValue(bO)&&ss.Nullable$1.lt(bT,bO))){var bU=bt.$p(1,bI,true);var bV=bt.$c(e,bU,bK);if(bR){return bV.replace(new RegExp('['+bK+']?0+e'),'e')}}var bW=e-bt.$u(e);var bX=bt.formatIntAuto(e,bL,bM,bN);var bY='';bY=bt.$s(bW,bQ);if(Math.abs(parseFloat(bY))>=1){bX=bt.formatIntAuto(bt.$u(e+parseFloat(bY)),bL,bM,bN);bY=bY.replace(new RegExp('1'),'0')}if(!(bY.indexOf('.')!==-1)){return bX}if(bR){bY=bY.replace(new RegExp('0+$'),'');if(ss.endsWithString(bY,'.')){return bX}}bY=bY.replace(new RegExp('^-?0\\.'),bK);if(e<0&&bX==='0'&&!(new RegExp('^\\.0+$')).test(bY)){bX='-0'}return bX+bY};bt.$p=function(e,bI,bJ){var bK=((bI==='i')?6:15);var bL=Math.max(0,bK-Math.abs(bt.$u(e)).toString().length);if(bJ){return Math.min(bL,9)}else{return bL}};bt.$c=function(e,bI,bJ){if(isNaN(e)||!isFinite(e)){return e.toString()}if(bI<0||isNaN(bI)){bI=0}if(bI>15){bI=15}var bK=bt.$r(e,bI);var bL=bK.indexOf(String.fromCharCode(101));var bM=bK.substr(bL);if(bM.length<4){bK=bK.substr(0,bL+2)+'0'+bK.substr(bL+2)}bK=bK.replace(new RegExp('\\.'),bJ);return bK};bt.$r=function(e,bI){return bt.$t(e,bI,15,function(bJ,bK){return bJ.toExponential(bK)})};bt.$s=function(e,bI){return bt.$t(e,bI,bt.$p(e,'r',false),function(bJ,bK){return bJ.toFixed(bK)})};bt.$t=function(e,bI,bJ,bK){bJ=Math.max(bJ-1,bI);var bL=bK(e,bJ);var bM=bL.indexOf(String.fromCharCode(101));if(bM===-1){bM=bL.length}var bN=bM-(bJ-bI);var bO=bL.charCodeAt(bN);if(bL.charCodeAt(bN-1)===46){bN--}bL=bL.substr(0,bN)+bL.substr(bM,bL.length);if(bO>=53&&bO<=57){var bP;do{bN--;bP=bL.charCodeAt(bN);if(bP===46||bP===45){bP=48;continue}bP++;if(bP>57){bP=48}bL=bL.substr(0,bN)+String.fromCharCode(bP)+bL.substr(bN+1,bL.length)}while(bP===48&&bN>0);if(bP===48&&bN===0){bL=bK(e,bI)}}return bL};bt.$h=function(e,bI,bJ,bK){if(bJ===-1){return bt.$b(e*100,bI,null,bK[7],bK[2],bK[8],bK[9],null,null)+'%'}else{return bt.$k(e*100,bJ,bK)+'%'}};bt.$j=function(e,bI,bJ,bK,bL){if(ss.isNullOrUndefined(bJ)||bJ.length!==10){return bt.$e(e,bI,bK,'.',((bL==='d')?null:'t'),',','3;0')}var bM=parseInt(bJ[1],10);switch(bJ[0]){case'':{if(bM===-1){return bt.$e(e,bI,null,bJ[7],bJ[2],bJ[8],bJ[9])}else{return bt.$e(e,bI,-bM,bJ[7],bJ[2],bJ[8],bJ[9])}}case'N':{return bt.$f(e,bI,bJ[7],bJ[2],bJ[8],bJ[9])}case'e':{return bt.$c(e,bM,bJ[7])}case'p':{return bt.$h(e,bI,bM,bJ)}default:{return bt.$k(e,bM,bJ)}}};bt.$k=function(e,bI,bJ){e=bt.$2(e,bJ[5]);var bK=bJ[5]+bJ[4];var bL=bt.applyDecimalPlaces(e,bI,bJ[7]);if(typeof(bL)==='number'){e+=bL;bL=bt.applyDecimalPlaces(0,bI,bJ[7])}var bM=bt.$1(e,bJ[2],bJ[8],bJ[9])+bL;return bt.$0(e,bM,bJ[3],bK,bJ[6])};bt.$d=function(e,bI){return bt.$j(bt.$u(e),'i',bI,null,null)};bt._convertFormatStringsToFormattingInfo=function(e){var bI={};bI.format=e[0];bI.locale=e[1];bI.originalFormat=e[2];bI.timeFormat=e[3];bI.calOpts=new j;bI.calOpts.fiscalYearStart=parseInt(e[4]);if(isNaN(bI.calOpts.fiscalYearStart)){bI.calOpts.fiscalYearStart=0}bI.calOpts.startOfWeek=parseInt(e[5]);if(isNaN(bI.calOpts.startOfWeek)){bI.calOpts.startOfWeek=1}bI.calOpts.minDaysInFirstWeek=parseInt(e[6]);if(isNaN(bI.calOpts.minDaysInFirstWeek)){bI.calOpts.minDaysInFirstWeek=1}bI.calOpts.brokenWeeks=e[7]==='1';return bI};bt.$l=function(e){var bI=44;var bJ=40;var bK=41;var bL=39;var bM=92;var bN=[];e=e.trim();if(e.length===0){return''}var bO=e.length;var bP=0;if(bP>=bO||e.charCodeAt(bP)!==40){return''}++bP;while(bP<bO){var bQ=bP;var bR=false;var bS=0;while(bQ<bO&&!bR){var bT=e.charCodeAt(bQ);if(bS===0&&(bT===44||bT===41)){bR=true;break}else if(bT===92){bQ+=2}else{if(bT===39){bS=1-bS}++bQ}}if(!bR){return''}var bU=e.substring(bP+1,bQ-1);bU=ss.replaceAllString(bU,'\\\\','\\');bU=ss.replaceAllString(bU,'\\"','"');bU=ss.replaceAllString(bU,'\\,',',');bU=ss.replaceAllString(bU,'\\(','(');bU=ss.replaceAllString(bU,'\\)',')');bN.push(bU);bP=bQ;++bP}return bN.join(', ')};global.tableau.format=bt;var bu=function(){};bu.__typeName='tableau.types';bu.$0=function(){return T.lazyInitStaticField(bu,'millisecondsPerDay',function(){return 86400000})};bu.javaScriptOLEEpoch=function(){return T.lazyInitStaticField(bu,'javascriptOleEpoch',function(){return Date.UTC(1899,11,30,0,0,0,0)})};bu.JsDateFromOleDate=function(e){var bI=((e<0)?Math.ceil(e):Math.floor(e));var bJ=Math.round(Math.abs(e-bI)*bu.$0())+bI*bu.$0();return bJ+bu.javaScriptOLEEpoch()};bu.OleDateFromJsDate=function(e){var bI=new Date(e);var bJ=Date.UTC(bI.getUTCFullYear(),bI.getUTCMonth(),bI.getUTCDate());var bK=ss.Int32.div(bJ-bu.javaScriptOLEEpoch(),bu.$0());var bL=(e-bJ)/bu.$0();return bK+((bK<0)?-1:1)*bL};bu.isO=function(e){return e.fieldType==='O'||e.fieldType==='N'};bu.isMetadata=function(e){return e.column_class===0};bu.isOm=function(e){return bu.isO(e)&&bu.isMetadata(e)};bu.getRegionType=function(e){switch(e){case'viz':case'bottomaxis':case'topaxis':case'leftaxis':case'rightaxis':case'xheader':case'yheader':{return't'}case'color':case'shape':case'size':case'map':{return'l'}case'filter':{return'f'}case'current-page':{return'p'}case'title':{return'i'}case'text':{return'x'}case'bitmap':{return'b'}case'web':{return'w'}case'paramctrl':{return'a'}case'draw':{return'd'}case'text-block':{return'k'}case'layout-basic':case'layout-flow':{return'c'}default:{return null}}};global.tableau.types=bu;var bv=function(){};bv.__typeName='tableau.util';bv.assetUrl=function(e,bI){var bJ=(bI?tsConfig.local_static_asset_prefix:tsConfig.external_static_asset_prefix);if(e.charCodeAt(0)===47){var bK=bJ.length-1;if(bJ.charCodeAt(bK)===47){return bJ.substring(0,bK-1)+e}else{return bJ+e}}else{return bJ+'/'+e}};bv.isPrintableNonNumericKeyPressed=function(e){return bv.isPrintableNonNumericInput(e.which,e.shiftKey,e.ctrlKey)};bv.isPrintableNonNumericInput=function(e,bI,bJ){var bK=e>=91&&e<=105;var bL=e>=112&&e<=123;var bM=e<47;var bN=!bI&&!bJ&&(e>=48&&e<=57);return!bK&&!bM&&!bN&&!bL};bv.preventNonNumericInput=function(e){if(bv.isPrintableNonNumericKeyPressed(e)){e.preventDefault();e.stopPropagation()}};bv.inputWouldOverflowMaxLength=function(e,bI,bJ){if(ss.isNullOrUndefined(e)){e=''}if(ss.isNullOrUndefined(bI)){bI=''}if(e.length===1){var bK=e.charCodeAt(0);if(bK<=8||bK===127||bK>=14&&bK<=31||bK===11||bK===12){return false}}return e.length+bI.length>bJ};bv.maxLengthEnforcingBeforeInputHandler=function(e){return function(bI){if(bv.inputWouldOverflowMaxLength(bI.data,bI.target.value,e)){bI.preventDefault();bI.stopPropagation()}}};bv.isElementVisible=function(e){return $(e).css('display')!=='none'};bv.findElementByTagName=function(e,bI,bJ){e=e||s.get_documentBody();if(bv.isNodeMatch(e,bI,bJ)){return e}var bK=e.getElementsByTagName(bI);var bL=bK.length;for(var bM=0;bM<bL;bM+=1){if(bv.isNodeMatch(bK[bM],bI,bJ)){return bK[bM]}}return null};bv.findDirectParentByClassName=function(e,bI,bJ){if(ss.isNullOrUndefined(e)||T.isNullOrEmpty$1(bI)){return null}bJ=bJ||document.body;var bK=e.parentNode;while(!ss.isNullOrUndefined(bK)&&!ss.referenceEquals(bK,bJ)){if(!T.isNullOrEmpty$1(bK.className)){if(ss.referenceEquals(bK.className.toLowerCase(),bI.toLowerCase())){return bK}bK=bK.parentNode}}return null};bv.isNodeMatch=function(e,bI,bJ){if(ss.isNullOrUndefined(e)||!ss.referenceEquals(e.tagName.toLowerCase(),bI.toLowerCase())){return false}if(ss.isNullOrUndefined(bJ)){return true}var bK=ss.getEnumerator(Object.keys(bJ));try{while(bK.moveNext()){var bL=bK.current();if(bL in bJ&&!ss.referenceEquals(e[bL],bJ[bL])){return false}}}finally{bK.dispose()}return true};bv.binarySearch=function(e){return function(bI,bJ,bK,bL,bM){var bN=(T.isValidIndex(ss.coalesce(bK,-1),bJ)?ss.unbox(bK):0);var bO=(T.isValidIndex(ss.coalesce(bL,-1),bJ)?ss.unbox(bL):(bJ.length-1));if(ss.isNullOrUndefined(bM)){bM=bv.$0(e)}var bP={};while(bN<=bO){var bQ=Math.floor(bN+(bO-bN)/2);var bR=bM(bJ[bQ],bI);if(bR===0){bP.found=true;bP.index=bQ;return bP}else if(bR<0){bN=bQ+1}else{bO=bQ-1}}bP.found=false;bP.index=bN;return bP}};bv.$0=function(e){return function(bI,bJ){if(bI===bJ){return 0}else if(bI>bJ){return-1}else{return 1}}};bv.transform=function(e,bI){bI=bI||{scale:1,scaleX:1,scaleY:1,translateX:0,translateY:0,transformOrigin:null,time:0};if(ss.isNullOrUndefined(bI.transformOrigin)){bI.transformOrigin={x:ss.Int32.div(e.offsetWidth,2),y:ss.Int32.div(e.offsetHeight,2)}}if(bI.scale!==1){bI.scaleX=bI.scaleY=bI.scale}var bJ;if(window.WebKitCSSMatrix!==undefined&&(new WebKitCSSMatrix).m11!==undefined){bJ=['translate3d(',bI.translateX.toString(),'px,',bI.translateY.toString(),'px, 0px)'].join('')}else{bJ=['translate(',bI.translateX.toString(),'px,',bI.translateY.toString(),'px)'].join('')}bJ+=[' scale(',bI.scaleX.toString(),', ',bI.scaleY.toString(),')'].join('');e.style['transitionProperty']='transform';e.style['transitionTimingFunction']='cubic-bezier(0, 0, 0.25, 1)';e.style['transitionDuration']=bI.time+'ms';e.style['transform']=bJ;e.style['webkitTransitionProperty']='-webkit-transform';e.style['webkitTransitionTimingFunction']='cubic-bezier(0, 0, 0.25, 1)';e.style['webkitTransitionDuration']=bI.time+'ms';e.style['webkitTransform']=bJ;e.style['MozTransitionProperty']='-moz-transform';e.style['MozTransitionTimingFunction']='cubic-bezier(0, 0, 0.25, 1)';e.style['MozTransitionDuration']=bI.time+'ms';e.style['MozTransform']=bJ;if(ss.isValue(bI.transformOrigin)){var bK=bI.transformOrigin.x+'px '+bI.transformOrigin.y+'px';e.style['transformOrigin']=bK;e.style['webkitTransformOrigin']=bK;e.style['MozTransformOrigin']=bK}};bv.parseUri=function(e){var bI=document.createElement('a');var bJ=bI;if(ss.isNullOrUndefined(e)){return null}bI.href=e;var bK=ss.mkdict(['href',e,'host',bJ.host,'hostname',bJ.hostname,'pathname',bJ.pathname,'port',bJ.port,'protocol',bJ.protocol,'search',bJ.search]);return bK};bv.setupTitleEllipsis=function(e){e.find('div').each(function(bI,bJ){var bK=$(bJ);var bL=bK.children('span');var bM=null;var bN=u.roundToInt(bK.width());var bO=10;bN-=bO;for(var bP=0;bP<bL.length;bP++){var bQ=bL[bP];var bR=u.roundToInt($(bQ).width());bM=bQ;if(bR>bN){break}bN-=bR}if(ss.isValue(bM)){bK.css('font-family',bM.style.fontFamily);bK.css('font-size',bM.style.fontSize);bK.css('line-height',bM.style.lineHeight);bK.css('color',bM.style.color);bK.css('font-weight',bM.style.fontWeight);bK.css('font-style',bM.style.fontStyle);bK.css('text-decoration',bM.style.textDecoration)}bK.css('text-overflow','ellipsis');bK.css('overflow','hidden')})};global.tableau.util=bv;var bw=function(){};bw.__typeName='tableau.types.CFStyle';global.tableau.types.CFStyle=bw;var bx=function(){};bx.__typeName='tableau.types.CFType';global.tableau.types.CFType=bx;var by=function(){};by.__typeName='tableau.types.DataSpecial';global.tableau.types.DataSpecial=by;var bz=function(){};bz.__typeName='tableau.types.DataType';global.tableau.types.DataType=bz;var bA=function(){};bA.__typeName='tableau.types.FieldTypeTypes';global.tableau.types.FieldTypeTypes=bA;var bB=function(){};bB.__typeName='tableau.types.HFStyle';global.tableau.types.HFStyle=bB;var bC=function(){};bC.__typeName='tableau.types.QFDomain';global.tableau.types.QFDomain=bC;var bD=function(){};bD.__typeName='tableau.types.QFFixed';global.tableau.types.QFFixed=bD;var bE=function(){};bE.__typeName='tableau.types.QFInclude';bE.isRange=function(e){switch(e){case'include-all':case'include-null':case'include-non-null':{return false}default:{return true}}};global.tableau.types.QFInclude=bE;var bF=function(){};bF.__typeName='tableau.types.RegionType';global.tableau.types.RegionType=bF;var bG=function(){};bG.__typeName='tableau.types.TableauTypesFieldRole';global.tableau.types.TableauTypesFieldRole=bG;var bH=function(e){this.$3=null;this.$4=false;this.$3=e;if(i.isTouch){this.$3.addEventListener('touchstart'.toString(),ss.mkdel(this,this.handleEvent),false)}};bH.__typeName='tableau.util.NoClickDelay';global.tableau.util.NoClickDelay=bH;ss.initEnum(b,a,{CLASS_METADATA:0,CLASS_DATABASE:1,CLASS_NUMERICBIN:2,CLASS_CATEGORICALBIN:3,CLASS_INSTANCE:4,CLASS_MDXCALC:5,CLASS_USERCALC:6,CLASS_DANGLING:7,CLASS_LOCALDATA:8});ss.initEnum(c,a,{DRILLNONE:0,DRILLDOWN:1,DRILLUP:2,DRILLBOTH:3});ss.initEnum(d,a,{simple:'simple',toggle:'toggle',range:'range',menu:'menu'},true);ss.initClass(f,a,{});ss.initInterface(F,a,{addFilter:null,removeFilter:null,clearFilters:null,log:null});ss.initClass(h,a,{clearFilters:function(){ss.clear(this.$0)},addFilter:function(e){this.$0.push(e)},removeFilter:function(e){ss.remove(this.$0,e)},log:function(e,bI,bJ,bK){},logInternal:null,formatMessage:function(e,bI){if(ss.isNullOrUndefined(bI)||bI.length===0){return e}var bJ=new ss.StringBuilder;var bK=0;var bL=false;for(var bM=0;bM<e.length;bM++){var bN=e.charCodeAt(bM);if(bN===37){if(bL){bJ.append('%');bL=false}else{bL=true}}else{if(bL){switch(bN){case 98:case 115:case 100:case 110:case 111:{bJ.append(((bI.length>bK)?bI[bK]:''));bK++;break}}}else{bJ.appendChar(bN)}bL=false}}return bJ.toString()}},null,[F]);ss.initClass(i,a,{});ss.initClass(j,a,{});ss.initClass(k,a,{dispose:function(){if(ss.isNullOrUndefined(this.$0)){return}this.$0();this.$0=null}},null,[ss.IDisposable]);ss.initClass(l,a,{});ss.initClass(m,a,{logInternal:function(e,bI,bJ,bK){if(typeof(window.console)!=='object'){return}bJ=e.get_name()+': '+bJ;var bL=[];if(i.get_consoleLogFormating()){var bM=bL.concat(bJ);bL=bM.concat.apply(bM,bK)}else{bL=bL.concat(this.formatMessage(bJ,bK))}try{Function.prototype.apply.call(this.$1(bI),window.console,bL)}catch(bN){}},$1:function(e){var bI=window.self['console'];if(ss.isNullOrUndefined(this.$2)){this.$2={};this.$2[(1).toString()]=bI.log;this.$2[(4).toString()]=bI.error;this.$2[(2).toString()]=bI.info;this.$2[(3).toString()]=bI.warn}var bJ=this.$2[e.toString()];if(ss.isNullOrUndefined(bJ)){bJ=bI.log}return bJ}},h,[F]);ss.initClass(n,a,{});ss.initEnum(o,a,{showDateOnly:0,showTimeOnly:1,showFullDateTime:2});ss.initClass(p,a,{});ss.initClass(q,a,{get_hasPendingAction:function(){return ss.isValue(this.$2)},invokeActionDelayed:function(){this.cancel();this.$2=window.setTimeout(ss.mkdel(this,function(){this.$2=null;this.$0()}),this.$1)},invokeActionImmediate:function(){this.cancel();this.$0()},cancel:function(){this.$2=T.clearTimeout(this.$2)},dispose:function(){this.cancel();this.$0=null}},null,[ss.IDisposable]);ss.initClass(r,a,{add:function(e){this.$0.push(new k(e))},add$1:function(e){this.$0.push(e)},add$2:function(e){ss.arrayAddRange(this.$0,e)},dispose:function(){for(var e=0;e<this.$0.length;e++){var bI=this.$0[e];T.dispose$1(bI)}ss.clear(this.$0)}},null,[ss.IDisposable]);ss.initClass(s,a,{});ss.initClass(t,a,{});ss.initClass(u,a,{});ss.initClass(v,a,{});ss.initClass(w,a,{});ss.initEnum(x,a,{unknown:0,newFilter:4,fieldTypeConversion:5,newToolbar:9,buttonDelay:11,hoverDelay:12,maxTooltipWhitespace:18,mapsUseLeafletForGeoSearch:19,selectionToolsMobile:23,mapsSearchDebugAlwaysShow:28,analyticsObjectsDragToViz:31,gotoMyLocationButton:32,designTint:33,newQFWorkbookLevelFormatting:35,appearanceOfBlendingIcons:36,outlineStampedShapes:38,progressiveLoadDelay:39,catQFDrowdown:40,offlineMode:41,opaqueCanvasBackground:42,logStoryPointCacheHits:43,dataHLMaxItems:44,javaScriptHighlighting:45,debugTools:46,instrumentObjects:47});ss.initClass(y,a,{});ss.initClass(z,a,{});ss.initClass(A,a,{});ss.initClass(B,a,{});ss.initInterface(C,a,{addToDom:null,onAddedToDom:null});ss.initInterface(D,a,{get_dimensions:null,translatePositionToViewport:null,getVisibleRoom:null,getDocumentViewport:null});ss.initInterface(E,a,{showAlertDialog:null,showConfirmationDialog:null,showErrorDialog:null,showSheetAuthenticationOverlay:null,showGenericDataSourceErrorOverlay:null,showSheetAuthenticationDialog:null,showGenericDataSourceErrorDialog:null,showFileDownloadDialog:null});ss.initClass(G,a,{get_from:function(){return this.$0},set_from:function(e){this.$0=e},get_to:function(){return this.$1},set_to:function(e){this.$1=e}});ss.initInterface(I,a,{add_disposed:null,remove_disposed:null},[ss.IDisposable]);ss.initInterface(J,a,{});ss.initClass(L,a,{add:function(e){this.store[e]=e;this.updateSize();return this},delete:function(e){var bI=this.has(e);delete this.store[e];this.updateSize();return bI},clear:function(){ss.clearKeys(this.store);this.updateSize()},has:function(e){return ss.keyExists(this.store,e)},forEach:function(e){var bI=ss.getEnumerator(Object.keys(this.store));try{while(bI.moveNext()){var bJ=bI.current();e(this.store[bJ])}}finally{bI.dispose()}},updateSize:function(){this.size=ss.getKeyCount(this.store)}});ss.initClass(K,a,{add:function(e){return null},set:function(e,bI){this.store[e]=bI;this.updateSize();return this},get:function(e){return this.store[e]},forEach:function(e){var bI=ss.getEnumerator(Object.keys(this.store));try{while(bI.moveNext()){var bJ=bI.current();e(this.store[bJ],bJ)}}finally{bI.dispose()}}},L);ss.initClass(M,a,{});ss.initClass(N,a,{get_name:function(){return this.$1},debug:function(e,bI){},info:function(e,bI){},warn:function(e,bI){},error:function(e,bI){},log:function(e,bI,bJ){},$0:function(e,bI,bJ){try{var bK=N.$2();for(var bL=0;bL<bK.length;bL++){var bM=bK[bL];bM.log(this,e,bI,bJ)}}catch(bN){}}});ss.initEnum(O,a,{all:0,debug:1,info:2,warn:3,error:4,off:5});ss.initClass(P,a,{},ss.Exception);P.$ctor1.prototype=P.$ctor2.prototype=P.prototype;ss.initClass(Q,a,{});ss.initClass(R,a,{});ss.initClass(S,a,{logEvent:function(e){if(this.$a.length>=400){this.$a.shift()}this.$a.push(e);this.$1(e);this.$6(250)},$1:function(e){if(!('newrelic'in window)){return}var bI=e.parameters['d'];if(ss.isNullOrUndefined(bI)){return}var bJ=new Object;bJ.name=ss.coalesce(S.$5[bI],bI);var bK=S.$3(e.parameters['t']);var bL=e.parameters['e'];if(ss.isValue(bL)){bJ.end=bK;bJ.start=bK-bL}else{bJ.start=bK}newrelic.addToTrace(bJ)},attach:function(){tabBootstrap.MetricsController.setEventLogger(ss.mkdel(this,this.logEvent))},$6:function(e){if(ss.isValue(this.$9)){return}this.$9=window.setTimeout(ss.mkdel(this,this.$4),e)},$4:function(){this.$9=null;var e;if(this.$a.length>20){e=this.$a.slice(0,20);this.$a=this.$a.slice(20);this.$6(5)}else{e=this.$a;this.$a=[]}this.$2(e);if(tsConfig.metricsReportingEnabled){try{this.$3(e)}catch(bI){}}},$2:function(e){this.$b=this.$b||N.lazyGetLogger(S);for(var bI=0;bI<e.length;bI++){var bJ=e[bI]}},$3:function(e){var bI=1500;var bJ=e.length;var bK='';if(bJ===0){return}for(var bL=0;bL<bJ;bL++){var bM=e[bL];if(bM.eventType==='wps'){continue}var bN=S.$1(bM,false);if(bK.length>0&&bK.length+bN.length>bI){this.$5(tsConfig.metricsServerHostname,bK);bK=''}else if(bK.length>0){bK+='&'}bK+=bN}if(bK.length>0){this.$5(tsConfig.metricsServerHostname,bK)}if(ss.isNullOrUndefined(this.$7)){this.$7=window.setTimeout(ss.mkdel(this,this.$0),250)}},$5:function(e,bI){var bJ=1;if(T.isNullOrEmpty$1(e)||T.isNullOrEmpty$1(bI)){return}var bK=document.createElement('img');var bL='v='+bJ.toString();var bM=e;bM+='?'+bL+'&'+bI;bK.src=bM;this.$8.push(bK);if(this.$8.length>100){this.$8.shift()}},$0:function(){try{this.$7=null;var e=0;while(e<this.$8.length){if(this.$8[e].complete){this.$8.splice(e,1)}else{e++}}if(this.$8.length>0){this.$7=window.setTimeout(ss.mkdel(this,this.$0),250)}}catch(bI){}}});ss.initClass(T,a,{});ss.initClass(U,a,{});ss.initClass(V,a,{get:function(e,bI,bJ){if(!V.$0(bI)){var bK=this.$0+'!'+bI;if(ss.keyExists(this.$1,bK)){this.$1[bK]=true}}return e[bI]}});ss.initClass(W,a,{instrument:function(e,bI){if(bI===''){this.$1=JSON.parse(JSON.stringify(e))}if(W.$1(e)){var bJ=e;var bK=new ss.ObjectEnumerator(bJ);try{while(bK.moveNext()){var bL=bK.current();this.$2[bI+'!'+bL.key]=false;if(W.$0(bL.value)||W.$1(bL.value)){bJ[bL.key]=this.instrument(bL.value,bI+'!'+bL.key)}}}finally{bK.dispose()}return new Proxy(e,new V(this.$2,bI))}else if(W.$0(e)){var bM=e;for(var bN=0;bN<bM.length;bN++){this.$2[bI+'!'+bN]=false;if(W.$0(bM[bN])||W.$1(bM[bN])){bM[bN]=this.instrument(bM[bN],bI+'!'+bN)}}return new Proxy(e,new V(this.$2,bI))}return e}});ss.initClass(X,a,{});ss.initClass(Y,a,{});ss.initEnum(Z,a,{workbookName:2,sheetId:3,authoringSheet:4});ss.initClass(ba,a,{});ss.initClass(bb,a,{});ss.initClass(bc,a,{get_propertyName:function(){return this.$0}},ss.EventArgs);ss.initClass(bd,a,{});ss.initClass(be,a,{});ss.initClass(bf,a,{});ss.initClass(bg,a,{});ss.initClass(bh,a,{});ss.initClass(bi,a,{});ss.initClass(bj,a,{});ss.initClass(bk,a,{});ss.initClass(bl,a,{logInternal:function(bI,bJ,bK,bL){bK=this.formatMessage(ss.replaceAllString(bK,'\\n','<br />'),bL);if(bJ>2){try{throw new ss.Exception('Logged('+N.loggerLevelNames[bJ]+', from '+bI.get_name()+'): '+bK)}catch(bM){var e=ss.Exception.wrap(bM);v.report(e,false)}}}},h,[F]);ss.initClass(bm,a,{get_first:function(){return this.$0},get_second:function(){return this.$1}});ss.initClass(bn,a,{});ss.initClass(bo,a,{get_translateX:function(){return this.$3.x},get_translateY:function(){return this.$3.y},get_transformType:function(){return this.$2},get_isNull:function(){return this.$2===0},transformBounds:function(e){switch(this.$2){case 0:{return{x:e.minX,y:e.minY,w:e.maxX-e.minX,h:e.maxY-e.minY}}case 2:{var bI=e.minX*this.$1+this.$3.x;var bJ=e.minY*this.$1+this.$3.y;var bK=e.maxX*this.$1+this.$3.x;var bL=e.maxY*this.$1+this.$3.y;return{x:bI,y:bJ,w:bK-bI,h:bL-bJ}}default:{return null}}},transformPoint:function(e){switch(this.$2){case 0:{return e}case 1:case 3:{return{x:(e.x-this.$3.x)*this.$0,y:(e.y-this.$3.y)*this.$0}}default:{return null}}},transformRect:function(e){switch(this.$2){case 0:{return{x:e.x,y:e.y,w:e.w,h:e.h}}case 1:case 3:{return{x:(e.x-this.$3.x)*this.$0,y:(e.y-this.$3.y)*this.$0,w:e.w*this.$0,h:e.h*this.$0}}default:{return null}}},transformCircle:function(e){switch(this.$2){case 0:{return e}case 1:case 3:{var bI=(e.center.x-this.$3.x)*this.$0;var bJ=(e.center.y-this.$3.y)*this.$0;return{center:{x:bI,y:bJ},radius:e.radius*this.$0}}default:{return null}}},transformPolygon:function(e){switch(this.$2){case 0:{return e}case 1:case 3:{var bI=e.length;var bJ=new Array(bI);for(var bK=0;bK<bI;bK=bK+2){bJ[bK]=(e[bK]-this.$3.x)*this.$0;bJ[bK+1]=(e[bK+1]-this.$3.y)*this.$0}return bJ}default:{return null}}}});ss.initClass(bp,a,{get_matrix:function(){return this.$0},reset:function(){this.$0=[1,0,0,1,0,0]},rotate:function(e){var bI=Math.cos(e);var bJ=Math.sin(e);var bK=this.$0[0]*bI+this.$0[2]*bJ;var bL=this.$0[1]*bI+this.$0[3]*bJ;var bM=this.$0[0]*-bJ+this.$0[2]*bI;var bN=this.$0[1]*-bJ+this.$0[3]*bI;this.$0[0]=bK;this.$0[1]=bL;this.$0[2]=bM;this.$0[3]=bN},translate:function(e,bI){this.$0[4]=this.$0[4]+this.$0[0]*e+this.$0[2]*bI;this.$0[5]=this.$0[5]+this.$0[1]*e+this.$0[3]*bI},scale:function(e,bI){this.$0[0]=this.$0[0]*e;this.$0[1]=this.$0[1]*e;this.$0[2]=this.$0[2]*bI;this.$0[3]=this.$0[3]*bI},setTransform:function(e){this.$0[0]=e.get_matrix()[0];this.$0[1]=e.get_matrix()[1];this.$0[2]=e.get_matrix()[2];this.$0[3]=e.get_matrix()[3];this.$0[4]=e.get_matrix()[4];this.$0[5]=e.get_matrix()[5]},isEqual:function(e){return this.$0[0]===e.get_matrix()[0]&&this.$0[1]===e.get_matrix()[1]&&this.$0[2]===e.get_matrix()[2]&&this.$0[3]===e.get_matrix()[3]&&this.$0[4]===e.get_matrix()[4]&&this.$0[5]===e.get_matrix()[5]},clone:function(){var e=new bp;e.setTransform(this);return e}});ss.initEnum(bq,a,{none:0,pixelToDomain:1,domainToPixel:2,offset:3});ss.initClass(br,a,{});ss.initClass(bs,a,{logInternal:function(e,bI,bJ,bK){if(ss.isNullOrUndefined(this.$2)){this.$1()}bJ=this.formatMessage(ss.replaceAllString(bJ,'\\n','<br />'),bK);this.$2.html(bJ)},$1:function(){this.$2=$("<div class='log-window-appender'>Debug mode ON</div>");this.$2.css(ss.mkdict(['position','absolute','bottom','0px','right','0px','backgroundColor','white','opacity','.8','border','1px solid black','minWidth','5px','minHeight','5px','z-index','100']));$('body').append(this.$2)}},h,[F]);ss.initClass(bt,a,{});ss.initClass(bu,a,{});ss.initClass(bv,a,{});ss.initClass(bw,a,{});ss.initClass(bx,a,{});ss.initClass(by,a,{});ss.initClass(bz,a,{});ss.initClass(bA,a,{});ss.initClass(bB,a,{});ss.initClass(bC,a,{});ss.initClass(bD,a,{});ss.initClass(bE,a,{});ss.initClass(bF,a,{});ss.initClass(bG,a,{});ss.initClass(bH,a,{handleEvent:function(e){var bI=e;switch(e.type){case'touchstart':{this.$2(bI);break}case'touchmove':{this.$1(bI);break}case'touchend':{this.$0(bI);break}}},$2:function(e){e.preventDefault();this.$4=false;this.$3.addEventListener('touchmove'.toString(),ss.mkdel(this,this.handleEvent),false);this.$3.addEventListener('touchend'.toString(),ss.mkdel(this,this.handleEvent),false)},$1:function(e){this.$4=true},$0:function(e){this.$3.removeEventListener('touchmove',ss.mkdel(this,this.handleEvent),false);this.$3.removeEventListener('touchend',ss.mkdel(this,this.handleEvent),false);if(!this.$4){var bI=document.elementFromPoint(e.changedTouches[0].clientX,e.changedTouches[0].clientY);if(bI.nodeType===3){bI=bI.parentNode}var bJ=document.createEvent('MouseEvents');bJ['initEvent']('click',true,true);bI.dispatchEvent(bJ)}}});ss.setMetadata(H,{variance:[1]});(function(){i.$H=false;i.$n='fonts'in document;i.$F=false;i.$p=false;i.$g=false;i.$h='transform';i.$i='transition';i.$J=false;i.$f=false;i.$C=false;i.$t=false;i.$w=false;i.$u=false;i.$q=0;i.$o=0;i.$G=0;i.$r=0;i.$v=false;i.$B=false;i.$y=false;i.$D=false;i.$A=false;i.$x=false;i.$s=false;i.$z=false;i.$E=false;i.$m=1;i.$e=1;i.$j=false;i.$k=false;i.$l=false;i.$K=false;i.$I=false;i.isTouch=false;i.$1();$(i.detectBrowserSupport);i.$d(L).call(null,'Set');i.$d(K).call(null,'Map');i.isTouch='ontouchend'in document})();(function(){N.global=N.getLoggerWithName('global');N.loggerLevelNames=[];N.$5=':log';N.loggerLevelNames[0]='all';N.loggerLevelNames[1]='debug';N.loggerLevelNames[2]='info';N.loggerLevelNames[3]='warn';N.loggerLevelNames[4]='error';N.loggerLevelNames[5]='off'})();(function(){u.epsilon=Math.pow(2,-52);u.$4=1+u.epsilon;u.$5=u.$4;u.$3=1/u.$4;u.$1=9.22337203685477E+18;u.$2=-9.22337203685477E+18})();(function(){m.$0=null})();(function(){bu.ExportDialogType=null;var e={};e['ExportImage']=ss.mkdict(['title',tab.Strings.ExportImageDialogTitle,'mimeType','image/png','message',tab.Strings.ExportImageDialogMessage]);e['ExportData']=ss.mkdict(['title',tab.Strings.ExportDataDialogTitle,'mimeType','text/csv','message',tab.Strings.ExportDataDialogMessage]);e['ExportCrosstab']=ss.mkdict(['title',tab.Strings.ExportCrosstabDialogTitle,'message',tab.Strings.ExportCrosstabDialogMessage]);e['PrintPDF']=ss.mkdict(['title',tab.Strings.PrintPdfDialogTitle,'mimeType','application/pdf','message',tab.Strings.PrintPdfDialogMessage,'noping',true]);bu.ExportDialogType=e})();(function(){p.oneSecond=(new Date(2008,11,21,1,1,2)).getTime()-(new Date(2008,11,21,1,1,1)).getTime();p.oneMinute=(new Date(2008,11,21,1,2)).getTime()-(new Date(2008,11,21,1,1)).getTime();p.oneHour=(new Date(2008,11,21,2)).getTime()-(new Date(2008,11,21,1)).getTime();p.oneDay=(new Date(2008,11,21)).getTime()-(new Date(2008,11,20)).getTime();p.oneWeek=(new Date(2008,11,21)).getTime()-(new Date(2008,11,14)).getTime();p.$5=86400000})();(function(){Y.suppressAlerts=false})();(function(){s.$6='data-tab-test-wait';s.$7=ss.mkdict(['matrix',4,'matrix3d',12,'translate',0,'translate3d',0,'translateX',0,'translateY',-1]);s.$8=1})();(function(){v.$k='?';v.$t=false;v.$s=true;v.$l=true;v.$m=false;v.$o=null;v.$n=null;v.$i={};v.$r=[];v.$q=false;v.$p=null;v.$h=new RegExp('^(eval@)?(\\[native code\\])?$');v.$e=new RegExp('^\\s*at .*(\\S+\\:\\d+|\\(native\\))','m');v.$j=new RegExp('(\\(eval at [^\\()]*)|(\\)\\,.*$)');v.$f=new RegExp('(.+?)(?:\\:(\\d+))?(?:\\:(\\d+))?$');v.$g=new RegExp('[\\(\\)]','g')})();(function(){w.$0=null})();(function(){y.$a=null;y.$5=null;y.$7=null;y.$9=null;y.$c=null;y.$d=null;y.$4=null;y.$6=null;y.$8=null;y.$b=null;{y.$a=N.lazyGetLogger(y);y.$5=[];y.$7=[];y.$9=[];y.$c=[];y.$d={};y.$4={};y.$6={};y.$8={};y.$b={}}y.$1(':newfilter',4,false);y.$1(':fieldconversion',5,true);y.$1(':newtoolbar',9,false);y.$1(':selectiontoolsmobile',23,true);y.$1(':mapssearchdebugalwaysshow',28,false);y.$1(':useleafletforgeosearch',19,false);y.$1(':aodragtoviz',31,false);y.$1(':gotomylocationbutton',32,true);y.$1(':designtint',33,false);y.$1(':newqfwolf',35,false);y.$1(':appearanceofblendingicons',36,true);y.$1(':outlinestampedshapes',38,false);y.$1(':catqfdropdown',40,false);y.$1(':offlinemode',41,false);y.$1(':opaquecanvas',42,true);y.$1(':logstorypointcachehits',43,false);y.$1(':debugtools',46,false);y.$1(':JavaScriptHighlighting',45,false);y.$2(':buttondelay',11);y.$2(':hoverdelay',12);y.$2(':maxtooltipwhitespace',18);y.$2(':datahlmaxitems',44);y.$2(':progloaddelay',39);y.$3(':instrumentobjects',47);y.$0()})();(function(){z.$6=null;z.$5=null;z.$4=null;z.$8=null;z.$7=null;z.$3='#centeringContainer';z.$1$1=null;z.$6=z.$0(document,['fullscreenEnabled','webkitFullscreenEnabled','msFullscreenEnabled','mozFullScreenEnabled']);z.$5=z.$0(document,['fullscreenElement','webkitFullscreenElement','msFullscreenElement','mozFullScreenElement']);z.$4=z.$0(document,['exitFullscreen','webkitExitFullscreen','msExitFullscreen','mozCancelFullScreen']);z.$8=z.$0(document.documentElement,['requestFullscreen','webkitRequestFullscreen','msRequestFullscreen','mozRequestFullScreen']);z.$7=z.$0(document,['onfullscreenchange','onwebkitfullscreenchange','onMSFullscreenChange','onmozfullscreenchange']);if(ss.isValue(z.$7)&&z.get_fullscreenEnabled()){document.addEventListener(z.$2().toString(),z.$1)}})();(function(){B.httpUnauthorizedCode=401;B.httpServiceUnavailable=503;B.httpInternalServerError=500})();(function(){Q.touchEventSamplingRate=6;Q.defaultWheelDeltaIncrement=120;Q.minimumZoomLevelIncrement=0.25;Q.maxWheelDelta=360;Q.$1=480;Q.$0=512})();(function(){S.$7=100;S.$8=400;S.$9=20;S.$6=250;S.$a=5;S.$4=250;S.$c=null;S.$b=null;S.$5=null;S.$d=null;S.$c={};S.$c['d']='DESC';S.$c['t']='TIME';S.$c['id']='ID';S.$c['sid']='SESSION_ID';S.$c['e']='ELAPSED';S.$c['v']='VALS';S.$c['wb']='WORKBOOK';S.$c['s']='SHEET_NAME';S.$c['p']='PROPS';S.$c['m']='MOBILE';S.$b={};S.$b['nav']='Navigation';S.$b['wps']='ProfileStart';S.$b['wp']='ProfileEnd';S.$b['gen']='Generic';S.$b['init']='SessionInit';S.$5=ss.mkdict(['BTSTRP','Bootstrap Request','PROPRI','Process Primary Payload','PROSEC','Process Secondary Payload','MDLINI','Initialize Models','MDLEVT','Handle Model Events','EXELOC','Execute Local Command','EXEREM','Execute Remote Command','PROLOC','Process Local Command Response','PROREM','Process Remote Command Response','RNDRPT','Render Panetable','RNDRRG','Render Region','RTCONV','Runtime model presmodel conversion','CLNTLD','Client Loaded','APPSTR','Application Startup','APPINT','Application Interactive','ALLZNS','All Zones Loaded','TBRLAY','Toolbar Layout','TBRHNT','Toolbar HandleNewToolbar','TBRADD','Toolbar AddToolbar','TBRHRE','Toolbar HandleResize','MDLOAD','JavaScript Module loaded asynchronously'])})();(function(){U.$1=['navigationStart','unloadEventStart','unloadEventEnd','redirectStart','redirectEnd','fetchStart','domainLookupStart','domainLookupEnd','connectStart','connectEnd','secureConnectionStart','requestStart','responseStart','responseEnd','domLoading','domInteractive','domContentLoadedEventStart','domContentLoadedEventEnd','domComplete','loadEventStart','loadEventEnd'];U.$0=null;var e=window;var bI=function(bJ){_.defer(U.collectMetrics)};if(ss.isValue(e.addEventListener)){window.addEventListener('load',bI,false)}else if(ss.isValue(e.attachEvent)){e.attachEvent('load',bI)}})();(function(){W.trackedObjects={};W.$2=null})();(function(){X.$2=null})();(function(){bl.$0=null})();(function(){bn.defaultCustomStyleElementId='tab-appendedCustomStyle';bn.$2=new RegExp('-?[_a-zA-Z]+[_a-zA-Z0-9-]*');bn.$3={}})();(function(){bo.$0=null;bo.$0=new bo(0,0,1,0)})();(function(){br.onlineHelpOrigin='http://www.tableau.com';br.$3='/offline_help/{0}/help.htm#{1}'})();(function(){bs.$0=null})();(function(){bt.specialManyValues='%many-values%';bt.specialNull='%null%';bt.specialError='%error%';bt.specialRagged='%ragged%';bt.specialSkipped='%skipped%';bt.specialMissing='%missing%';bt.specialAll='%all%';bt.specialNoAccess='%no-access%';bt.specialWildcard='%wildcard%';bt.millisPerDay=86400000;bt.$C=15;bt.$B=6;bt.$E=1E+15;bt.$D=1000000;bt.$F=0.0001;bt.$P=9;bt.$z=46;bt.$G=45;bt.$Q=48;bt.$A=53;bt.$O=57;bt.$M=0;bt.$H=1;bt.nfUseSeparators=2;bt.$K=3;bt.$L=4;bt.$N=5;bt.$J=6;bt.$I=7;bt.nfGroupSeparatorChars=8;bt.nfGroupingSpec=9;bt.$12=['automatic','parenthesis','outerPrefix','outerSuffix','innerPrefix','innerSuffix'];bt.$Z={};bt.$10={};bt.$11={};bt.$17=new RegExp('(\\\\|\\^|\\$|\\*|\\+|\\?|\\.|\\:|\\,|\\(|\\)|\\[|\\]|\\{|\\}|\\|)','g');bt.$V=new RegExp('^([yYmMdD\\W]+)\\s+([hnst\\W]+)$');bt.$18=new RegExp('(\\\\[:.]s+)');bt.$1b=new RegExp('(t+)','g');bt.$13=new RegExp('([yYmMdDhnswq]+)','g');bt.$19=new RegExp('\\(\\\\d\\+\\)(?:\\(\\?\\:)?\\s+\\(\\\\d\\+\\)','g');bt.$14=new RegExp('\\s','g');bt.$T=new RegExp('(^|d)([^h]*)(h|$)','gi');bt.$U=new RegExp('h([^d]*)(d|$)','gi');bt.$R=new RegExp('^(a|a\\.?m\\.?|㏂|π\\.?µ\\.?|午前)$','i');bt.$15=new RegExp('^(p|p\\.?m\\.?|㏘|µ\\.?µ\\.?|午後)$','i');bt.$16=new RegExp('(\\d)(?:\\.(\\d+))?e\\+(\\d+)');bt.$Y=ss.mkdict(['yyyyy','yyyyy','yyyy','yyyy','yyy','yyyy','yy','yy','y','yyyy','L','m','LL','mm','LLL','mmm','LLLL','mmmm']);bt.$W={day:['',tab.Strings.Sunday,tab.Strings.Monday,tab.Strings.Tuesday,tab.Strings.Wednesday,tab.Strings.Thursday,tab.Strings.Friday,tab.Strings.Saturday,tab.Strings.Sunday],shortDay:['',tab.Strings.SundayShort,tab.Strings.MondayShort,tab.Strings.TuesdayShort,tab.Strings.WednesdayShort,tab.Strings.ThursdayShort,tab.Strings.FridayShort,tab.Strings.SaturdayShort,tab.Strings.SundayShort],shortMonth:[tab.Strings.JanuaryShort,tab.Strings.FebruaryShort,tab.Strings.MarchShort,tab.Strings.AprilShort,tab.Strings.MayShort,tab.Strings.JuneShort,tab.Strings.JulyShort,tab.Strings.AugustShort,tab.Strings.SeptemberShort,tab.Strings.OctoberShort,tab.Strings.NovemberShort,tab.Strings.DecemberShort],month:[tab.Strings.January,tab.Strings.February,tab.Strings.March,tab.Strings.April,tab.Strings.May,tab.Strings.June,tab.Strings.July,tab.Strings.August,tab.Strings.September,tab.Strings.October,tab.Strings.November,tab.Strings.December]};bt.$S=ss.mkdict(['t','t','v',bu.OleDateFromJsDate(Date.UTC(1918,10,11,11,11,0))]);bt.$1a=null;bt.$X=ss.mkdict(['０','0','１','1','２','2','３','3','４','4','５','5','６','6','７','7','８','8','９','9','－','-','．','.','。','.']);bt.$Z.format='yyyy-mm-dd';bt.$Z.timeFormat='hh:nn';bt.$10.format='yyyy-mm-ddThh:nn';bt.$11.format='hh:nn';bt.$1a=ss.mkdict(['%many-values%',true,'%null%',true,'%error%',true,'%ragged%',true,'%skipped%',true,'%missing%',true,'%all%',true,'%no-access%',true,'%wildcard%',true])})();(function(){if(i.get_isMac()){$(document).addClass('tb_mac')}})();(function(){bw.CFS_ALL='all';bw.CFS_SINGLE='single-select';bw.CFS_MULTIPLE='multi-select'})();(function(){bx.CFT_INCLUSIVE='include';bx.CFT_EXCLUSIVE='exclude'})();(function(){by.DS_NORMAL=null;by.DS_NULL='n';by.DS_ALL='a';by.DS_WILDCARD='w';by.DS_SKIPPED='s';by.DS_NOACCESS='p';by.DS_RAGGED='r';by.DS_ERROR='e';by.DS_MISSING='m'})();(function(){bA.FT_QUANTITATIVE='Q';bA.FT_ORDINAL='O';bA.FT_NOMINAL='N';bA.FT_UNKNOWN=null})();(function(){bB.HFS_SINGLE='single-select';bB.HFS_MULTIPLE='multi-select'})();(function(){bC.QFD_ALL='all';bC.QFD_CONTEXT='context';bC.QFD_RELEVANT='relevant'})();(function(){bD.QFF_FIXED_START='start';bD.QFF_FIXED_END='end'})();(function(){bE.QFI_ALL='include-all';bE.QFI_NON_NULL='include-non-null';bE.QFI_NULL_ONLY='include-null';bE.QFI_RANGE='include-range';bE.QFI_RANGE_OR_NULL='include-range-or-null'})();(function(){bF.table='t';bF.legend='l';bF.filter='f';bF.currentPage='p';bF.title='i';bF.text='x';bF.bitmap='b';bF.web='w';bF.draw='d';bF.textBlock='k';bF.layoutContainer='c';bF.parameter='a'})()})()}());;
/*! BEGIN Domain */
(function(){'dont use strict';var a={};global.tab=global.tab||{};ss.initAssembly(a,'vqldomain');var b=function(e,hM,hN,hO){bo.call(this,'none',e,hM,hN,hO)};b.__typeName='tab.$0';var c=function(e){this.$7=null;this.$5=0;this.$6=null;this.$1$1=null;this.$1$2=null;this.$7=e;this.$5=0;this.$6=[]};c.__typeName='tab.$1';var d=function(){};d.__typeName='tab.$10';d.isInstanceOfType=function(){return true};var f=function(){this.$5=null;this.$4=null;this.$3=null;this.$6=null;this.$5={startIndex:0};this.$4=[{field:'name',ascending:true}]};f.__typeName='tab.$11';f.$1=function(e,hM){this.$5=null;this.$4=null;this.$3=null;this.$6=null;this.$5={startIndex:0};this.$4=[e];this.$3=hM};f.$0=function(e,hM){this.$5=null;this.$4=null;this.$3=null;this.$6=null;this.$5={startIndex:0};this.$4=(!tab.MiscUtil.isNullOrEmpty(e)?e:[{field:'name',ascending:true}]);this.$3=hM};var g=function(e,hM){var hN=function(hO,hP){this.$0=ss.getDefaultValue(e);this.$1=ss.getDefaultValue(hM);this.$0=hO;this.$1=hP};ss.registerGenericClassInstance(hN,g,[e,hM],{},function(){return null},function(){return[]});return hN};g.__typeName='tab.$12';ss.initGenericClass(g,a,2);var h=function(e){var hM=function(hN){this.$0=ss.getDefaultValue(e);this.$1=null;this.$2=null;this.$0=hN};ss.registerGenericClassInstance(hM,h,[e],{},function(){return null},function(){return[]});return hM};h.__typeName='tab.$13';ss.initGenericClass(h,a,1);var i=function(e){var hM=function(){this.$2=null;this.$3=null};ss.registerGenericClassInstance(hM,i,[e],{$0:function(hN){var hO=this.$2;this.$2=hN;hN.$1=hO;hN.$2=null;if(ss.isValue(hO)){hO.$2=hN}if(ss.isNullOrUndefined(this.$3)){this.$3=hN}},$1:function(hN){if(ss.referenceEquals(this.$2,hN)){this.$2=hN.$1}if(ss.referenceEquals(this.$3,hN)){this.$3=hN.$2}if(ss.isValue(hN.$2)){hN.$2.$1=hN.$1}if(ss.isValue(hN.$1)){hN.$1.$2=hN.$2}}},function(){return null},function(){return[]});return hM};i.__typeName='tab.$14';ss.initGenericClass(i,a,1);var j=function(e){ey.call(this,e,new fd('sizeItemList'.toString()))};j.__typeName='tab.$15';var k=function(e){ey.call(this,e,new fd('sizeItems'.toString(),1))};k.__typeName='tab.$16';var l=function(e){ey.call(this,e,new fd('sheetListItems'.toString(),1))};l.__typeName='tab.$17';var m=function(){};m.__typeName='tab.$18';var n=function(){this.$4=null;this.$4=[]};n.__typeName='tab.$19';var o=function(){};o.__typeName='tab.$2';var p=function(e,hM){this.$3=null;this.$2=null;this.$3=e;this.$2=hM};p.__typeName='tab.$20';var q=function(){};q.__typeName='tab.$21';q.$0=function(e,hM,hN){var hO=new Set;for(var hP=0;hP<hM.length;hP++){var hQ=hM[hP];if(ss.contains(hQ.sourceWorksheets,e)&&q.$1(hQ,hN)){tab.SetUtilities.addAll(Object).call(null,hO,hQ.targetWorksheets)}}return hO};q.$1=function(e,hM){var hN=bG.deserialize(gq.create(e.simpleCommandModel).get_simpleCommand(),true);if(ss.isNullOrUndefined(hM)||S.isSpecialDateTimeHighlighting(hN)){return true}var hO=S.getHighlightFieldCaptions(hN,hM.get_highlightCaptions(),hM.get_fieldCaptions());return!tab.MiscUtil.isNullOrEmpty(hO)};var r=function(){};r.__typeName='tab.$22';var s=function(){};s.__typeName='tab.$23';var t=function(e){this.$9=null;this.$a=new Map;this.$8=[];this.$7=false;this.$9=e};t.__typeName='tab.$24';t.$0=function(e,hM){var hN=new Array(e.length);for(var hO=0;hO<e.length;++hO){hN[hO]={item1:e[hO],item2:hM[hO]}}hN.sort(function(hP,hQ){return hP.item1-hQ.item1});return hN};t.$1=function(e,hM){var hN;if(hM.length===1||ss.isNullOrUndefined(e)){hN=hM}else{hN=_.sortBy(hM,function(hO,hP){return e[hP]})}return hN};var u=function(){};u.__typeName='tab.$25';var v=function(){};v.__typeName='tab.$26';v.$e=function(){return tab.Logger.lazyGetLogger(fG)};v.$2=function(e,hM,hN,hO,hP){var hQ=v.$4(hO,hP);var hR=new t(hP);if(ss.isNullOrUndefined(hQ)){return hR}var hS=new Array(hP.length);for(var hT=0;hT<hS.length;++hT){var hU=hO.getColumnIndex(hP[hT]);hS[hT]=hU}var hV={};for(var hW=0;hW<hN.length;hW++){var hX=hN[hW];var hY=e.getItemNamesFromObjectId(hX);if(ss.isNullOrUndefined(hY)){continue}var hZ=true;var ia=[];for(var ib=0;ib<hY.length;ib++){var ic=hM[ib];var id=hQ[ic];if(ss.isNullOrUndefined(id)){continue}hV[ic]=hV[ic]||hi.buildAliasReverseLookup(hO,id,N.get_instance().get_dataDictionary());var ie=hV[ic];var ig=ie[hY[ib]];if(!ss.isValue(ig)){hZ=false;break}ia.push(ig)}if(hZ){hR.$0(ia,hS)}}return hR};v.$1=function(e,hM){var hN={};for(var hO=0;hO<hM.length;hO++){var hP=hM[hO];var hQ=new Array(hP.columnIndices.length);for(var hR=0;hR<hQ.length;hR++){var hS=e.getVizDataFieldByIndex(hP.columnIndices[hR]);hQ[hR]=hS.get_fieldName()}var hT=hQ.join(';');var hU;if(ss.keyExists(hN,hT)){hU=hN[hT]}else{hU=new t(hQ);hN[hT]=hU}hU.$0(hP.aliasIndices,hP.columnIndices)}return _.map(hN,function(hV,hW){return hV})};v.$c=function(e,hM){var hN=[];for(var hO=0;hO<hM.length;hO++){var hP=hM[hO];if(ss.isNullOrUndefined(hP.node)){continue}var hQ=hP.node;if(ss.isValue(hQ.columnIndices)){for(var hR=0;hR<hQ.columnIndices.length;hR++){var hS=hQ.columnIndices[hR];var hT=e.get_vizDataModel().getVizDataFieldByIndex(hS);var hU=hT.get_fieldCaption();if(!ss.contains(hN,hU)){hN.push(hU)}}}if(ss.isValue(hQ.fn)){var hV=e.get_vizDataModel().getVizDataField(hQ.fn);var hW=hV.get_fieldCaption();if(!ss.contains(hN,hW)){hN.push(hW)}}}return Array.prototype.slice.call(hN)};v.$3=function(e,hM,hN){var hO=new t(hN);var hP=v.$4(e,hN);if(ss.isNullOrUndefined(hP)){return hO}for(var hQ=0;hQ<hM.length;hQ++){var hR=hM[hQ];var hS=[];var hT=[];for(var hU=0;hU<hN.length;hU++){var hV=hN[hU];var hW=hP[hV];var hX=hW.getAliasIndex(hR);hS.push(hX);hT.push(e.getColumnIndex(hV))}if(hS.length!==hN.length){}hO.$0(hS,hT)}return hO};v.$0=function(e,hM,hN,hO){var hP=[];var hQ={};var hR=false;e.forEachVizDataField(function(il,im){if(v.$d(il)){var io=il.get_aggType()||'none';hQ[io]=im;if(io==='none'){hR=true}}return true});var hS=true;var hT=null;hM.forEachVizDataField(function(il,im){if(v.$d(il)){if(ss.isNullOrUndefined(hT)){hT=il.get_baseColumnName()}else if(!ss.referenceEquals(hT,il.get_baseColumnName())){hS=false}}return true});var hU=[];if(hS){var hV=[];hM.forEachVizDataField(function(il,im){if(v.$d(il)){var io=il.get_aggType()||'none';if(!hR&&io==='none'){var ip=ss.getEnumerator(Object.keys(hQ));try{while(ip.moveNext()){var iq=ip.current();if(!ss.contains(hV,iq)){hV.push(iq);var ir=hQ[iq];hP.push(new w(ir,im,iq,'none'));var it=e.getVizDataFieldByIndex(ir);hU.push(it)}}}finally{ip.dispose()}}else if(ss.keyExists(hQ,io)){if(!ss.contains(hV,io)){hV.push(io);var iu=hQ[io];hP.push(new w(iu,im,'none','none'));hU.push(il)}}else if(hR){var iv=hQ['none'];hP.push(new w(iv,im,'none',io));hU.push(il)}}return true})}var hW=new Array(hU.length);for(var hX=0;hX<hU.length;hX++){var hY=hU[hX];hW.push(hY.get_fieldCaption())}var hZ=new t(hW);for(var ia=0;ia<hO.length;ia++){var ib=hO[ia];var ic=[];var id=[];for(var ie=0;ie<hP.length;ie++){var ig=hP[ie];var ih=e.getVizDataFieldByIndex(ig.$3);var ii=ih.getDataValueIndex(ib);if(ss.isValue(ii)){var ij=hN.getRawValue(ih.get_dataType(),ss.unbox(ii));var ik=v.$5(ij,ig.$2,ig.$0,ss.unbox(ii));ic.push(ik);id.push(ig.$3)}}hZ.$0(ic,id)}return{item1:hZ,item2:hP}};v.$b=function(e,hM,hN,hO){var hP=[];if(ss.isNullOrUndefined(hN)||e.$5()){return hP}hN.forEachTupleId(function(hQ){var hR=[];var hS=[];for(var hT=0;hT<hM.length;hT++){var hU=hM[hT];var hV=hN.getVizDataFieldByIndex(hU.$1);var hW=hV.getDataValueIndex(hQ);if(ss.isValue(hW)){var hX=hO.getRawValue(hV.get_dataType(),ss.unbox(hW));var hY=v.$5(hX,hU.$0,hU.$2,ss.unbox(hW));hR.push(hY);hS.push(hU.$1)}}if(e.$1(hS,hR)){hP.push(hQ)}return true});return hP};v.$a=function(e,hM){var hN=[];if(ss.isNullOrUndefined(hM)||e.$5()){return hN}var hO=e.$4();var hP=v.$4(hM,hO);if(ss.isNullOrUndefined(hP)){return hN}if(!hM.get_hasTupleIdColumn()){return hN}var hQ=new Array(hO.length);for(var hR=0;hR<hO.length;hR++){hQ[hR]=hM.getColumnIndex(hO[hR])}hM.forEachTupleId(function(hS){var hT=new Array(hO.length);for(var hU=0;hU<hO.length;hU++){var hV=hO[hU];var hW=hP[hV];var hX=hW.getAliasIndex(hS);hT[hU]=hX}if(e.$1(hQ,hT)){hN.push(hS)}return true});return hN};v.$9=function(e,hM,hN){var hO=[];if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(hN)||hM.$5()){return hO}var hP=hM.$4();var hQ=null;for(var hR=0;hR<e.panes.length;hR++){var hS=e.panes[hR];for(var hT=0;hT<hS.drawPane.length;hT++){var hU=hS.drawPane[hT];if(hU.visualPart==='trend-lines'){for(var hV=0;hV<hU.drawItems.length;hV++){var hW=hU.drawItems[hV];if(hW.type==='draw-group'){hQ=new Array(hP.length);for(var hX=0;hX<hP.length;hX++){hQ[hX]=hN.getColumnIndex(hP[hX])}var hY=hW;var hZ={};if(ss.isValue(hY.columnIndices)){for(var ia=0;ia<hY.columnIndices.length;ia++){hZ[hY.columnIndices[ia]]=hY.aliasIndices[ia]}}var ib=new Array(hP.length);for(var ic=0;ic<hP.length;ic++){if(ss.keyExists(hZ,hQ[ic])){ib[ic]=hZ[hQ[ic]]}else{ib[ic]=null}}if(hM.$1(hQ,ib)){hO.push(hY.objectId)}}}}}}return hO};v.$4=function(e,hM){var hN={};for(var hO=0;hO<hM.length;hO++){var hP=hM[hO];var hQ=e.getVizDataField(hP);if(ss.isNullOrUndefined(hQ)){return null}hN[hP]=hQ}return hN};v.$6=function(e,hM,hN){var hO=[];if(ss.isNullOrUndefined(hM)||hN.get_fieldCaptions().length!==e.$4().length){return hO}var hP=e.$4();var hQ=hN.get_fieldCaptions();var hR=[];for(var hS=0;hS<hQ.length;hS++){var hT=hQ[hS];var hU=ss.indexOf(hP,hT);if(hU===-1){return hO}hR.push(hU)}var hV=N.get_instance().get_dataDictionary();var hW={};var hX={};var hY=[];var hZ=e.$6();for(var ia=0;ia<hZ.length;ia++){var ib=hZ[ia];var ic=true;hY.length=ib.length;for(var id=0;id<hY.length;id++){var ie=hR[id];var ig=ib[ie];if(!ss.isValue(ig)){ic=false;break}var ih=hQ[id];hW[ih]=hW[ih]||hM.getVizDataField(ih);var ii=hW[ih];hY[id]=hi.lookupAliasFromIndex(ig,ii,hV)}if(ic){hX[hY.join(',')]=true}}var ij=hN.get_items();for(var ik=0;ik<ij.length;ik++){var il=ij[ik];if(hX[il.itemValues.join(',')]===true){hO.push(il.objectId)}}return hO};v.$7=function(e,hM,hN){var hO=[];if(ss.isNullOrUndefined(hM.get_vizDataModel())){return hO}var hP=e.$4();for(var hQ=0;hQ<hN.length;hQ++){var hR=hN[hQ];if(ss.isNullOrUndefined(hR.node.columnIndices)||ss.isNullOrUndefined(hR.node.aliasIndices)||hR.node.aliasIndices.length<hP.length){continue}var hS=[];var hT=[];var hU=false;for(var hV=0;hV<hR.node.columnIndices.length;++hV){var hW=hR.node.columnIndices[hV];var hX=hM.get_vizDataModel().getVizDataFieldByIndex(hW).get_fieldCaption();if(ss.isValue(hX)&&ss.contains(hP,hX)){hS.push(hW);hT.push(hR.node.aliasIndices[hV]);if(hV===0){hU=true}}}if(hU&&e.$1(hS,hT)){var hY=fM.nodeSelectionFromDrawGroup(hR);hO.push(hY)}}return hO};v.$8=function(e,hM,hN,hO){var hP=[];if(ss.isNullOrUndefined(hN.get_vizDataModel())){return hP}var hQ=new ss.ObjectEnumerator(hN.get_sceneModel().get_visualListModels());try{while(hQ.moveNext()){var hR=hQ.current();var hS=hR.value.get_groupItemNodes();for(var hT=0;hT<hS.length;hT++){var hU=hS[hT];if(ss.isNullOrUndefined(hU.node.columnIndices)||ss.isNullOrUndefined(hU.node.aliasIndices)||!tab.MiscUtil.isNullOrEmpty$1(hU.node.fn)){continue}var hV=[];for(var hW=0;hW<hU.node.columnIndices.length;++hW){var hX={$:hU.node.columnIndices[hW]};var hY=_.find(hM,ss.mkdel({nodeColIndex:hX},function(id){return id.$1===this.nodeColIndex.$}));if(ss.isValue(hY)){var hZ=hU.node.aliasIndices[hW];var ia=hN.get_vizDataModel().getVizDataFieldByIndex(hY.$1);var ib=hO.getRawValue(ia.get_dataType(),hZ);if(ss.isValue(ib)){var ic=v.$5(ib,hY.$0,hY.$2,hZ);hV.push(ic)}}}if(hV.length===hU.node.aliasIndices.length){if(e.$1(hU.node.columnIndices,hV)){hP.push(fM.nodeSelectionFromDrawGroup(hU))}}}}}finally{hQ.dispose()}return hP};v.$d=function(e){if(ss.isNullOrUndefined(e)){return false}var hM=e.get_dataType();if(hM==='datetime'||hM==='date'){return true}var hN=['day','hour','mdy','minute','month','month-year','qtr','trunc-day','trunc-hour','trunc-minute','trunc-month','trunc-qtr','trunc-second','trunc-week','trunc-year','week','weekday','year'];return ss.contains(hN,e.get_aggType())};v.$5=function(e,hM,hN,hO){if(_.isNumber(e)){return e}var hP=(_.isDate(e)?e:tab.DateUtil.parsePresModelDate(e));var hQ=hO;if(hM==='none'&&hN!=='none'){switch(hN){case'year':{hQ=tab.DateUtil.dateAsYear(hP);break}case'qtr':{hQ=tab.DateUtil.dateAsQuarter(hP);break}case'month':{hQ=tab.DateUtil.dateAsMonth(hP);break}case'day':{hQ=tab.DateUtil.dateAsDay(hP);break}case'hour':{hQ=tab.DateUtil.dateTimeAsHour(hP);break}case'minute':{hQ=tab.DateUtil.dateTimeAsMinute(hP);break}case'second':{hQ=tab.DateUtil.dateTimeAsSecond(hP);break}case'week':{hQ=tab.DateUtil.dateAsWeek(hP);break}case'weekday':{hQ=tab.DateUtil.dateAsDayOfWeek(hP);break}case'month-year':{hQ=tab.DateUtil.dateAsMonthYear(hP);break}case'mdy':{hQ=tab.DateUtil.dateAsMonthDayYear(hP);break}}if(ss.isNullOrUndefined(hQ)){}}return hQ};var w=function(e,hM,hN,hO){this.$3=0;this.$1=0;this.$2=null;this.$0=null;this.$3=e;this.$1=hM;this.$2=hN||'none';this.$0=hO||'none'};w.__typeName='tab.$27';var x=function(e){this.$2=null;this.$1=null;this.$2=e;if(ss.isNullOrUndefined(this.$2.dashboardPresModel)){return}var hM={};var hN=this.$2.dashboardPresModel.zones;var hO=_.keys(this.$2.dashboardPresModel.zones);for(var hP=0,hQ=hO.length;hP<hQ;hP++){var hR=hO[hP];var hS=hN[hR];if(ss.isNullOrUndefined(hS)||ss.isValue(hK.getContent(hS,'imageZone'))){hM[hR]=null}else{hM[hR]=hS.presModelHolder}}this.$1=hM};x.__typeName='tab.$28';var y=function(e,hM,hN,hO,hP){this.$4=null;this.$5=null;this.$e=0;this.$9=0;this.$a=0;this.$b=null;this.$d=null;this.$c=null;this.$7=0;this.$f=null;this.$8=0;this.$6=false;this.$1$1=null;this.$4=e;this.$5=hM;this.$e=hN;this.$a=ss.coalesce(hO,1);this.$9=ss.coalesce(hP,35)};y.__typeName='tab.$3';var z=function(e){bo.call(this,'none',e,null)};z.__typeName='tab.$4';var A=function(e){hd.call(this,e);this.c=true};A.__typeName='tab.$5';var B=function(e){this.$5=null;this.$1$1=0;this.$5=e};B.__typeName='tab.$6';var C=function(){this.$1$1=false;this.$1$2=0;this.$1$3=null;var e=N.get_instance().get_workbook();this.$1(e.get_isCurrentSheetStoryboard()&&ss.isValue(e.get_storyboard().get_flipboard()));if(this.$0()){this.$3(e.get_storyboard().get_sheetName());this.$5(e.get_storyboard().get_flipboard().get_currentStoryPointId())}};C.__typeName='tab.$7';var D=function(e,hM,hN){this.$2=null;this.$0=null;this.$1=null;this.$2=e;this.$0=hM;this.$1=hN};D.__typeName='tab.$8';var E=function(){};E.__typeName='tab.$9';E.$2=function(e){return function(hM,hN,hO){var hP=$.Deferred();var hQ=hl.createRequest(hM,hN.$2(),function(){},function(){});hQ.success=function(hR,hS,hT){fS.onVizportalPinged();var hU=hl.$3(hR);if(hl.$5(hU)){hP.reject();return}var hV=hO(hU);hP.resolve(hV)};hH.helper(hQ);return hP.promise()}};E.$3=function(e){return function(hM,hN){var hO=hN(hM);var hP=hM['moreItems'].toString().toLowerCase()==='true';return{items:hO,moreItems:hP}}};E.$0=function(e){return function(hM,hN,hO,hP){var hQ=E.$2(e).call(null,hM,hN,hO);hQ.done(function(hR){if(!hR.moreItems){hP();return}hN.$1(hN.$0()+hR.items.length);E.$0(e).call(null,hM,hN,hO,hP)});hQ.fail(hP)}};E.$1=function(e){return function(hM,hN,hO,hP,hQ){var hR=E.$2(e).call(null,hM,hN,hO);hR.done(function(hS){if(!hS.moreItems){hP();return}hN.$1(hN.$0()+hS.items.length);E.$1(e).call(null,hM,hN,hO,hP,hQ)});hR.fail(hQ)}};var F=function(e,hM,hN,hO,hP,hQ){this.$7=0;this.$3=0;this.$5=0;this.$4=0;this.$6=0;this.$0=0;this.$1=0;this.$2=0;fm.call(this);if(ss.isNullOrUndefined(hP)&&ss.isValue(hQ)){hP=hN;hQ=hO}this.$7=e;this.$3=hN;this.$5=hO;this.$4=hP;this.$6=hQ;var hR=hM;var hS=hP;var hT=hQ;var hU=hQ/hP;this.$0=(hT-hU*hS-hR+hU)/(-(hS*hS)+2*hS-1);this.$1=hU-2*this.$0*hS;this.$2=hR-hU+this.$0*(2*hS-1)};F.__typeName='tab.AcceleratingRangeTransform';global.tab.AcceleratingRangeTransform=F;var G=function(){this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$1$4=null};G.__typeName='tab.AckbarEventsHelper';G.get=function(){if(ss.isNullOrUndefined(G.instance)){G.instance=new G}return G.instance};global.tab.AckbarEventsHelper=G;var H=function(){};H.__typeName='tab.ActionType';global.tab.ActionType=H;var I=function(){};I.__typeName='tab.ActionUtils';I.$c=function(){return tab.Logger.lazyGetLogger(I)};I.isVizSourceOfAction=function(e,hM){return _.any(e.sourceWorksheets,function(hN){return ss.referenceEquals(hN,hM)})};I.isTargetOfActionLocal=function(e){var hM=eB.getVisualModels(N.get_instance());for(var hN=0;hN<e.targetWorksheets.length;hN++){var hO=e.targetWorksheets[hN];if(ss.keyExists(hM,hO)){return true}}return false};I.isFilterAction=function(e){return ss.isValue(e.simpleCommandModel)&&ss.startsWithString(e.simpleCommandModel['simpleCommand'.toString()],'tabdoc:filter-targets')};I.isHighlightAction=function(e){return ss.isValue(e.simpleCommandModel)&&ss.startsWithString(e.simpleCommandModel['simpleCommand'.toString()],'tabdoc:highlight')};I.isFilterSource=function(e,hM){var hN=e.pm;var hO=hN.userActions;for(var hP=0;hP<hO.length;hP++){var hQ=hO[hP];if(!I.isVizSourceOfAction(hQ,hM)){continue}if(hQ.activation!=='on-select'){continue}if(ss.isNullOrUndefined(hQ.simpleCommandModel)){continue}var hR=ss.replaceAllString(hQ.simpleCommandModel['simpleCommand'.toString()],'simpleCommand=','');var hS=bG.deserialize(hR,true);if(!ss.referenceEquals(hS.commandName,'filter-targets'.toString())){continue}var hT=hQ.targetWorksheets;if(hT.length===0){continue}return true}return false};I.getApplicableActions=function(e,hM,hN){var hO=N.get_instance().get_workbook().findContentDashboard().get_actionPresModels();var hP=I.$7(hO,e,hM);if(ss.isValue(hN)){hP=_.filter(hP,I.$4(ss.unbox(hN)))}hP=_.filter(hP,I.$6());return hP};I.$4=function(e){return function(hM){return I.getActionType(hM)===e}};I.$6=function(){return function(e){return I.getActionType(e)==='url'||ss.isValue(e.targetUrl)||e.targetWorksheets.length>0}};I.couldSheetFilterActionsModifyItself=function(e){var hM=I.getApplicableActions(e,'on-select','filter');var hN=I.$b(hM);var hO=hN&&I.$5(hM,e);return hO};I.shouldFilterOnSelection=function(e){var hM=I.getApplicableActions(e,'on-select','filter');return I.$b(hM)};I.$b=function(e){return e.length>0&&!N.get_instance().get_isOffline()};I.$5=function(e,hM){for(var hN=0;hN<e.length;hN++){var hO=e[hN];for(var hP=0;hP<hO.targetWorksheets.length;hP++){var hQ=hO.targetWorksheets[hP];if(ss.referenceEquals(hQ,hM)){return true}}}return false};I.executeActions=function(e,hM,hN,hO,hP){var hQ=I.getApplicableActions(e,hM,'filter');var hR=I.getApplicableActions(e,hM,'highlight');var hS=I.getApplicableActions(e,hM,'url');var hT=eB.getVisualModel(N.get_instance(),e);if(ss.isValue(hN)){if(hS.length>0&&hN.length>0){I.$3(hS,hN,hT)}if(hR.length>0){if(hN.length>0){I.$2(hR,hN,hT,hO)}else{I.$a(hO)}}else if(ss.isValue(hP)&&hP){I.$2(hR,hN,hT,hO)}}if(hQ.length>0){I.$1(e,hQ,hN,hO,hT)}};I.executeAction=function(e,hM,hN,hO){if(!ss.isValue(e)){return}var hP=[e];if(!ss.isNullOrUndefined(e.linkSpec)){I.$3(hP,hM,hN)}else if(true){I.$2(hP,hM,hN,hO)}else{}};I.getActionType=function(e){if(ss.isValue(e.simpleCommandModel)){var hM=bG.deserialize(e.simpleCommandModel['simpleCommand'.toString()],true);if(ss.referenceEquals(hM.commandName,'highlight'.toString())){return'highlight'}if(ss.referenceEquals(hM.commandName,'filter-targets'.toString())){return'filter'}return null}if(ss.isValue(e.linkSpec)){return'url'}return null};I.willActionCauseTabChange=function(e,hM){if(N.get_instance().get_isOffline()){return false}var hN=I.getApplicableActions(e,hM,'filter');for(var hO=0;hO<hN.length;hO++){var hP=hN[hO];if(ss.isValue(hP.simpleCommandModel)){var hQ=bG.deserialize(hP.simpleCommandModel['simpleCommand'.toString()],true);var hR=hQ.commandParams['targetSheet'];if(ss.isValue(hR)&&!_.isEqual(hR,tsConfig.current_sheet_name)){return true}}}return false};I.getUrlActionPm=function(e,hM,hN){if(ss.isValue(hN)&&!ss.isNullOrUndefined(e.linkSpec)){var hO=hM.get_vizDataModel();var hP=N.get_instance().get_dataDictionary();var hQ=hk.constructUrl(hP,e.linkSpec,hO,hN,hM.get_worksheetName());return{item1:I.$0(hQ),item2:hQ.item2}}return{item1:null,item2:'urlConstructionFail'}};I.$0=function(e){if(e.item2!=='success'){return null}var hM={url:e.item1};var hN=eB.getFirstAvailableWebZoneName(N.get_instance());if(ss.isValue(hN)){hM.target=hN}return hM};I.$2=function(e,hM,hN,hO){var hP=S.computeFromTuples(hN,hM,e);fG.$f(hP,hO)};I.$a=function(e){fG.$2(e)};I.$3=function(e,hM,hN){if(ss.isValue(hM)&&hM.length>0){var hO=[];for(var hP=0;hP<e.length;hP++){var hQ=e[hP];var hR=I.getUrlActionPm(hQ,hN,hM).item1;if(ss.isValue(hR)){hO.push(hR)}else{bu.fireDeferredUrlActions=true;return}}if(hO.length>0){bu.get().delayLocalUrlActions(hO)}}};I.$1=function(e,hM,hN,hO,hP){if(N.get_instance().get_isOffline()){return}if(ss.isValue(hM)){var hQ=I.$8(hM);if(hQ.length>0){var hR=eB.getSheetInfoPresModel(N.get_instance(),tsConfig.current_sheet_name);if(ss.isValue(hR)&&!(hR.isDashboard&&ss.isNullOrUndefined(hR.namesOfSubsheets))){var hS=!hR.isDashboard||hR.namesOfSubsheets.length===1;for(var hT=0;hT<hQ.length;hT++){var hU=hQ[hT];if(hS||!ss.referenceEquals(hU.get_worksheetName(),e)){eB.setVisualValidStateOnPresModel(hO,hU)}}}}if(hN.length>0){var hV=[];for(var hW=0;hW<hM.length;hW++){var hX=hM[hW];if((hN.length===1||!hX.singleSelectOnly)&&ss.isValue(hX.targetUrl)){var hY={};var hZ=hX.targetUrl+'&:exclude='+bu.get().get_legacySession().railsEncode(e);var ia=hP.get_vizDataModel();var ib=N.get_instance().get_dataDictionary();hY.url=hk.constructUrlForFilterActionFromTargetURL(ib,hZ,hX.linkSpec,ia,hN);hV.push(hY)}}if(hV.length>0){bu.get().delayLocalUrlActions(hV)}}}};I.$8=function(e){var hM={};if(ss.isValue(e)){for(var hN=0;hN<e.length;hN++){var hO=e[hN];for(var hP=0;hP<hO.targetWorksheets.length;hP++){var hQ=hO.targetWorksheets[hP];var hR=eB.getVisualModel(N.get_instance(),hQ);if(ss.isValue(hR)){hM[hQ]=hR}}}}var hS=[];var hT=new ss.ObjectEnumerator(hM);try{while(hT.moveNext()){var hU=hT.current();hS.push(hU.value)}}finally{hT.dispose()}return hS};I.$9=function(e){if(!I.$e){I.$e=true;var hM=tsConfig.schemeWhitelist.split(',');for(var hN=0;hN<hM.length;hN++){var hO=hM[hN];var hP=hO.toLowerCase().trim();if(!ss.endsWithString(hP,':')){hP+=':'}if(hP.length>1){I.$f.push(hP)}}}var hQ=new RegExp('(^[A-Za-z][A-Za-z0-9+\\-.]*:)');var hR=hQ.exec(e);if(!ss.isValue(hR)){return true}var hS=hR[0].toLowerCase();return ss.contains(I.$f,hS)};I.$7=function(e,hM,hN){var hO=_.filter(e,function(hP){var hQ=ss.contains(hP.sourceWorksheets,hM);var hR=!ss.isValue(hN)||ss.unbox(hN)===hP.activation;return hQ&&hR});return hO};I.launchActionUrls=function(e,hM){var hN=[];var hO={};if(ss.isNullOrUndefined(e)||e.length===0){return}if(ss.isValue(P.linkTarget)&&P.linkTarget.length>0){var hP=P.linkTarget;hN.push({item1:hP,item2:false});hO[hP]=e[e.length-1].url}else{var hQ=0;for(var hR=0;hR<e.length;hR++){var hS=e[hR];if(!I.$9(hS.url)){if(!I.$d){I.$d=true;hM.showAlertDialog(tab.Strings.SecurityBlockedURLActionMessage,tab.Strings.SecurityBlockedURLActionHeader,true,null)}continue}if(ss.isNullOrUndefined(hS.target)||'t'in hS){hS.target=hS['t']}var hT;if(ss.isValue(hS.target)){hT={item1:hS.target,item2:true}}else{var hU='_'+tsConfig.layoutid.toString().replace(new RegExp('[^\\w]','g'),'');if(hQ>0){hU+='_'+hQ.toString()}hT={item1:hU,item2:false}}if(!ss.keyExists(hO,hT.item1)){hN.push(hT)}hO[hT.item1]=hS.url;hQ++}}for(var hV=0;hV<hN.length;hV++){var hW=hN[hV];var hX=hW.item1;if(hW.item2){try{$('[name='+hX+']').prop('src',hO[hX])}catch(hY){}}else{window.open(hO[hX],hX)}}};global.tab.ActionUtils=I;var J=function(){ss.makeGenericType(O,[Object,K]).call(this)};J.__typeName='tab.AddDataServerDataSourceCmd';global.tab.AddDataServerDataSourceCmd=J;var K=function(e){this.$$c=null;this.$$c=e};K.__typeName='tab.AddDataServerDataSourceCmd$Response';global.tab.AddDataServerDataSourceCmd$Response=K;var L=function(e){this.$2$1=null;ey.call(this,e,new fd('analyticsPane'.toString()))};L.__typeName='tab.AnalyticsPaneModel';global.tab.AnalyticsPaneModel=L;var M=function(){};M.__typeName='tab.ApiClientCommands';M.doApiCommand=function(e,hM,hN){bu.SendCommand(fp.create(e,'immediately',hM,hN))};global.tab.ApiClientCommands=M;var N=function(){this.$a=null;this.$9={};this.$8={};this.$b=null;this.$d=null;this.$4=null;this.$7=null;this.$3=null;this.$c=null;this.$2=null;this.$5=null;this.$6=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;ey.call(this,null,null);this.presModelKey=new fd('applicationPresModel'.toString());this.$b=new gM(this);this.$d=new hx(this);this.$4=new bt(this);this.$7=new cr(this);this.$3=new bi(this,false);this.$c=new bi(this,true);this.$2=new bh(this);this.$5=new bM(this);this.$a=new gc;this.$6=new ci(this);this.set_serverFonts(null)};N.__typeName='tab.ApplicationModel';N.get_instance=function(){if(ss.isNullOrUndefined(N._instance)){N._instance=new N}return N._instance};N.resetInstance=function(){N._instance=null};global.tab.ApplicationModel=N;var O=function(e,hM){var hN=function(){this.c={};this.$1$1=null;this.$1$2=false;this.$1$3=false;this.$1$4=null;this.$1$5=false;this.set_uiBlocking('none')};ss.registerGenericClassInstance(hN,O,[e,hM],{get_uiBlocking:function(){return this.$1$1},set_uiBlocking:function(hO){this.$1$1=hO},get_deferSuccess:function(){return this.$1$2},set_deferSuccess:function(hO){this.$1$2=hO},get_deferFailure:function(){return this.$1$3},set_deferFailure:function(hO){this.$1$3=hO},get_localWork:function(){return this.$1$4},set_localWork:function(hO){this.$1$4=hO},get_noExceptionDialog:function(){return this.$1$5},set_noExceptionDialog:function(hO){this.$1$5=hO},invoke:null,invoke$1:function(hO){hO.noExceptionDialog=this.get_noExceptionDialog();hO.preserveRootResult=true;var hP=$.Deferred();var hQ=function(hS){hP.resolve(new hM(hS))};var hR=function(hS){hP.reject()};bu.SendCommand(new bo(this.get_uiBlocking(),this.get_localWork(),hO,(this.get_deferSuccess()?bu.deferredSuccessHandler(Object).call(null,$.Deferred().done(hQ)):hQ),(this.get_deferFailure()?bu.$1($.Deferred().fail(hR)):hR)));return hP.promise()}},function(){return null},function(){return[]});return hN};O.__typeName='tab.BaseCmd$2';ss.initGenericClass(O,a,2);global.tab.BaseCmd$2=O;var P=function(e,hM){this.defaultSessionErrorHandler=null;this.$f=null;this.$g=null;this.$j=null;this.$i=null;this.$e=0;this.$h=null;this.fileDownloadHelper=null;tab.Param.verifyValue(hM,'commonDialogProvider');this.$f=hM;var hN=tabBootstrap.BaseUrlFormatter.formatBaseUrl();if(ss.isValue(e)){this.$j=e}else{this.$j=tabBootstrap.BaseUrlFormatter.formatUrlRoot(hN)}if(ss.isValue(tsConfig.site_root)){this.$i=tsConfig.site_root}else{this.$i=hN}this.defaultSessionErrorHandler=new cx(hM,e);if(tab.FeatureFlags.isEnabled('SkipConnectionsDuringLoad')){this.$g=new cM([new cA,this.defaultSessionErrorHandler])}else{this.$g=new cM([this.defaultSessionErrorHandler])}this.$e=0;this.$h={};this.fileDownloadHelper=new cV(hM,this)};P.__typeName='tab.BaseSession';P.add_stateChanged=function(e){P.$1$1=ss.delegateCombine(P.$1$1,e)};P.remove_stateChanged=function(e){P.$1$1=ss.delegateRemove(P.$1$1,e)};P.fireStateChanged=function(e){if(ss.isValue(P.$1$1)){P.$1$1(e)}};global.tab.BaseSession=P;var Q=function(e,hM,hN,hO){this.width=0;this.style=null;this.color=null;this.side=0;this.width=e;this.style=hM;this.color=hN;this.side=hO};Q.__typeName='tab.BorderDefinition';Q.borderStyleToCss=function(e){return ss.coalesce(Q.$1[e],'none')};Q.$0=function(){var e={};e['bs-none']='none';e['bs-hidden']='hidden';e['bs-dotted']='dotted';e['bs-dashed']='dashed';e['bs-solid']='solid';e['bs-double']='double';e['bs-groove']='groove';e['bs-ridge']='ridge';e['bs-inset']='inset';e['bs-outset']='outset';return e};global.tab.BorderDefinition=Q;var R=function(){};R.__typeName='tab.BorderDefinition$BorderSide';global.tab.BorderDefinition$BorderSide=R;var S=function(){this.$5={};this.$4={};this.$2={};this.$3={};this.$1=true};S.__typeName='tab.BrushingComputer';S.$3=function(){return tab.Logger.lazyGetLogger(S)};S.createBrushingComputer=function(e,hM,hN,hO,hP){var hQ=new S;var hR=hM.get_vizDataModel();var hS=v.$2(e,hO,hN,hR,hO);for(var hT=0;hT<hO.length;hT++){var hU=hO[hT];if(hM.vizDataContainsDuplicateCaption(hU)){hQ.$1=false;return hQ}}var hV;if(hP){hV=eB.getVisualModels(N.get_instance())}else{hV={};var hW=I.getApplicableActions(hM.get_worksheetName(),'on-select','highlight');for(var hX=0;hX<hW.length;hX++){var hY=hW[hX];if(ss.isNullOrUndefined(hY.targetWorksheets)){continue}for(var hZ=0;hZ<hY.targetWorksheets.length;hZ++){var ia=hY.targetWorksheets[hZ];var ib=eB.getVisualModel(N.get_instance(),ia);hV[ia]=ib}}}var ic=eB.findContentDashboard();var id=_.keys(hV);for(var ie=0;ie<id.length;ie++){var ig=id[ie];var ih=hV[ig];if(ss.isNullOrUndefined(ih)){continue}var ii=ih.get_vizDataModel();hQ.$5[ig]=v.$a(hS,ii);hQ.$4[ig]=v.$9(ih.get_scenePresModel(),hS,ii);var ij=[];var ik=new ss.ObjectEnumerator(S.$2(ih));try{while(ik.moveNext()){var il=ik.current();var im=il.value;var io=v.$c(ih,im);var ip=_.intersection(io,hO);if(ip.length>0){var iq=v.$2(e,hO,hN,hR,ip);ij=ij.concat.apply(ij,v.$7(iq,ih,im))}}}finally{ik.dispose()}hQ.$3[ig]=ij;var ir=eB.getModelsForViz(bk).call(null,ic,ih);for(var it=0;it<ir.length;it++){var iu=ir[it];if(!iu.get_isHighlightEnabled()){continue}var iv=v.$6(hS,ii,iu);if(!ss.keyExists(hQ.$2,ih.get_worksheetName())){hQ.$2[ih.get_worksheetName()]={}}hQ.$2[ih.get_worksheetName()][S.$0(iu.get_legendTypeEnum(),iu.get_legendNames())]=iv}}return hQ};S.getTuplesAssociatedWithSelectedNodes=function(e,hM){if(ss.isNullOrUndefined(e.get_vizDataModel())||ss.isNullOrUndefined(N.get_instance().get_dataDictionary())){return[]}var hN=[];for(var hO=0;hO<hM.length;hO++){var hP=hM[hO];if(fM.isCategoricalAndTupleAssociatedHeader(hP)){hN.push(hP)}}if(hN.length===0){return[]}var hQ=v.$1(e.get_vizDataModel(),hN);var hR=S.$1(hQ,e);return hR};S.computeFromTuples=function(e,hM,hN){var hO=new S;for(var hP=0;hP<hN.length;hP++){var hQ=hN[hP];if(ss.isNullOrUndefined(hQ.targetWorksheets)){continue}var hR=bG.deserialize(hQ.simpleCommandModel['simpleCommand'.toString()],true);for(var hS=0;hS<hQ.targetWorksheets.length;hS++){var hT=hQ.targetWorksheets[hS];var hU=eB.getVisualModel(N.get_instance(),hT);if(ss.isNullOrUndefined(hU)){continue}var hV=hU.get_vizDataModel();if(ss.isNullOrUndefined(hV)){continue}if(S.isSpecialDateTimeHighlighting(hR)){var hW=N.get_instance().get_dataDictionary();var hX=v.$0(e.get_vizDataModel(),hV,hW,hM);var hY=hX.item1;var hZ=hX.item2;hO.$5[hT]=v.$b(hY,hZ,hV,hW);hO.$3[hT]=v.$8(hY,hZ,hU,hW);hO.$0(hU,e,hM,hR,hQ.name)}else{var ia=S.getHighlightFieldCaptions(hR,e.get_vizDataModel().get_highlightCaptions(),e.get_vizDataModel().get_fieldCaptions());if(!ss.referenceEquals(e,hU)){ia=_.intersection(ia,hV.get_fieldCaptions())}if(tab.MiscUtil.isNullOrEmpty(ia)){continue}for(var ib=0;ib<ia.length;ib++){var ic=ia[ib];if(e.vizDataContainsDuplicateCaption(ic)){hO.$1=false;return hO}}var id=v.$3(e.get_vizDataModel(),hM,ia);hO.$5[hT]=v.$a(id,hV);var ie=[];var ig=S.$2(hU);var ih=_.keys(ig);for(var ii=0;ii<ih.length;ii++){var ij=ih[ii];var ik=ig[ij];var il=v.$c(hU,ik);var im=_.intersection(il,ia);if(im.length>0){var io=v.$3(e.get_vizDataModel(),hM,im);ie=ie.concat.apply(ie,v.$7(io,hU,ik))}}hO.$3[hT]=ie;hO.$0(hU,e,hM,hR,hQ.name)}}}return hO};S.$2=function(e){var hM={};var hN=e.get_sceneModel().get_visualListModels();var hO=new ss.ObjectEnumerator(hN);try{while(hO.moveNext()){var hP=hO.current();hM[hP.key]=hP.value.get_groupItemNodes()}}finally{hO.dispose()}var hQ=hM['x-labels']||[];ss.arrayAddRange(hQ,hM['bottom-axis']||[]);hM['x-labels']=hQ;delete hM['bottom-axis'];return hM};S.isSpecialDateTimeHighlighting=function(e){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.commandParams)){return false}var hM=e.commandParams['specialFields'];return ss.isValue(hM)&&hM==='date-time'};S.getHighlightFieldCaptions=function(e,hM,hN){var hO=[];if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.commandParams)){return hO}var hP=e.commandParams['fieldCaptions'];if(!ss.isNullOrUndefined(hP)){hO=JSON.parse(hP)}else{var hQ=e.commandParams['specialFields'];if(ss.isNullOrUndefined(hQ)||hQ!=='all'){}hO=hM}if(ss.isValue(hN)){hO=_.intersection(hN,hO)}return hO};S.$0=function(e,hM){return'LegendType:'+e.toString()+' LegendNames:'+hM.join(';')};S.$1=function(e,hM){var hN=[];if(ss.isNullOrUndefined(hM.get_vizDataModel())){return hN}for(var hO=0;hO<e.length;hO++){var hP=e[hO];hN=_.union(hN,v.$a(hP,hM.get_vizDataModel()))}return hN};global.tab.BrushingComputer=S;var T=function(){ss.makeGenericType(O,[Object,U]).call(this)};T.__typeName='tab.BuildCaptionContextMenuCmd';global.tab.BuildCaptionContextMenuCmd=T;var U=function(e){this.$$c=null;this.$$c=e};U.__typeName='tab.BuildCaptionContextMenuCmd$Response';global.tab.BuildCaptionContextMenuCmd$Response=U;var V=function(){ss.makeGenericType(O,[Object,W]).call(this)};V.__typeName='tab.BuildDataTabFieldContextMenuCmd';global.tab.BuildDataTabFieldContextMenuCmd=V;var W=function(e){this.$$c=null;this.$$c=e};W.__typeName='tab.BuildDataTabFieldContextMenuCmd$Response';global.tab.BuildDataTabFieldContextMenuCmd$Response=W;var X=function(){ss.makeGenericType(O,[Object,Y]).call(this)};X.__typeName='tab.BuildLayoutTreeContextMenuCmd';global.tab.BuildLayoutTreeContextMenuCmd=X;var Y=function(e){this.$$c=null;this.$$c=e};Y.__typeName='tab.BuildLayoutTreeContextMenuCmd$Response';global.tab.BuildLayoutTreeContextMenuCmd$Response=Y;var Z=function(){ss.makeGenericType(O,[Object,ba]).call(this)};Z.__typeName='tab.BuildSchemaChangeDataTypeMenuCmd';global.tab.BuildSchemaChangeDataTypeMenuCmd=Z;var ba=function(e){this.$$c=null;this.$$c=e};ba.__typeName='tab.BuildSchemaChangeDataTypeMenuCmd$Response';global.tab.BuildSchemaChangeDataTypeMenuCmd$Response=ba;var bb=function(){ss.makeGenericType(O,[Object,bc]).call(this)};bb.__typeName='tab.BuildSheetListContextMenuCmd';global.tab.BuildSheetListContextMenuCmd=bb;var bc=function(e){this.$$c=null;this.$$c=e};bc.__typeName='tab.BuildSheetListContextMenuCmd$Response';global.tab.BuildSheetListContextMenuCmd$Response=bc;var bd=function(){ss.makeGenericType(O,[Object,be]).call(this)};bd.__typeName='tab.BuildTitleContextMenuCmd';global.tab.BuildTitleContextMenuCmd=bd;var be=function(e){this.$$c=null;this.$$c=e};be.__typeName='tab.BuildTitleContextMenuCmd$Response';global.tab.BuildTitleContextMenuCmd$Response=be;var bf=function(){ss.makeGenericType(O,[Object,bg]).call(this)};bf.__typeName='tab.CalculationAutoCompleteCmd';global.tab.CalculationAutoCompleteCmd=bf;var bg=function(e){this.$$c=null;this.$$c=e};bg.__typeName='tab.CalculationAutoCompleteCmd$Response';global.tab.CalculationAutoCompleteCmd$Response=bg;var bh=function(e){this.$2$1=null;ey.call(this,e,new fd('expressionFuncPm'.toString()));this.pm={}};bh.__typeName='tab.CalculationFunctionListModel';global.tab.CalculationFunctionListModel=bh;var bi=function(e,hM){this.$2=false;this.$2$1=null;ey.call(this,e,new fd((hM?'typeInPill':'calculation').toString()));this.pm={};this.$2=hM};bi.__typeName='tab.CalculationModel';global.tab.CalculationModel=bi;var bj=function(e){ey.call(this,e,new fd('categoricalFilter'.toString()))};bj.__typeName='tab.CategoricalFilterModel';global.tab.CategoricalFilterModel=bj;var bk=function(e,hM,hN){this.$2=null;this.$2$1=null;this.$2$2=null;ey.call(this,e,new fd(hM));this.$2=hN};bk.__typeName='tab.CategoricalLegendModel';bk.$0=function(e,hM){var hN;switch(e){case'color':case'map':{hN=hM.colorLegendItems;break}case'size':{hN=hM.sizeLegendItems;break}case'shape':{hN=hM.shapeLegendItems;break}default:{return null}}return hN};global.tab.CategoricalLegendModel=bk;var bl=function(e){this.$1=null;this.$3$1=null;fk.call(this,e,new fd('categoricalQuickFilter'.toString()));this.set_categoricalFilter(new bj(this))};bl.__typeName='tab.CategoricalQuickFilterModel';global.tab.CategoricalQuickFilterModel=bl;var bm=function(){ss.makeGenericType(O,[Object,bn]).call(this)};bm.__typeName='tab.ChangeWorkbookUIModeCmd';global.tab.ChangeWorkbookUIModeCmd=bm;var bn=function(e){this.$$c=null;this.$$c=e};bn.__typeName='tab.ChangeWorkbookUIModeCmd$Response';global.tab.ChangeWorkbookUIModeCmd$Response=bn;var bo=function(e,hM,hN,hO,hP){this.doRemoteWork=null;this.doLocalWork=null;this.$5=null;this.$4=null;this.$2=null;this.$3=null;this.$1='Unknown';this.hasLocalComponent=false;this.hasRemoteComponent=false;this.$5=e;this.$4='remoteFirst';this.hasLocalComponent=ss.isValue(hM);this.hasRemoteComponent=ss.isValue(hN)&&!N.get_instance().get_isOffline();this.doLocalWork=hM;this.$2=new Array;if(this.hasRemoteComponent){this.$2.push(new bD(hN,hO,hP));this.$1=hN.commandName}this.doRemoteWork=ss.mkdel(this,this.$0)};bo.__typeName='tab.ClientCommand';global.tab.ClientCommand=bo;var bp=function(){};bp.__typeName='tab.ClipCase';global.tab.ClipCase=bp;var bq=function(){ss.makeGenericType(O,[Object,br]).call(this)};bq.__typeName='tab.CloseDataAlertDialogCmd';global.tab.CloseDataAlertDialogCmd=bq;var br=function(e){this.$$c=null;this.$$c=e};br.__typeName='tab.CloseDataAlertDialogCmd$Response';global.tab.CloseDataAlertDialogCmd$Response=br;var bs=function(e,hM,hN,hO){this.$7=0;this.$6=0;this.$4=0;this.$3=0;this.$8='';this.$5='';this.$7=e;this.$6=hM;this.$4=hN;this.$3=hO};bs.__typeName='tab.ColorModel';bs.fromArgbInt=function(e){var hM=(e&16711680)>>>16;var hN=(e&65280)>>>8;var hO=e&255;var hP=(e&4278190080)>>>24;return new bs(hM,hN,hO,hP/255)};bs.fromColorCode=function(e){var hM=bs.$d.cl[e];if(ss.isValue(hM)){return hM}var hN=function(hW){return Math.min(Math.max(hW,0),255)};var hO;var hP;var hQ;var hR=1;var hS=bs.$9.exec(e);if(ss.isValue(hS)){hO=hN(parseInt(hS[1],16));hP=hN(parseInt(hS[2],16));hQ=hN(parseInt(hS[3],16));var hT=new bs(hO,hP,hQ,hR);bs.$d.add(e,hT);return hT}hS=bs.$a.exec(e);if(ss.isValue(hS)){hO=hN(parseInt(hS[1],10));hP=hN(parseInt(hS[2],10));hQ=hN(parseInt(hS[3],10));var hU=new bs(hO,hP,hQ,hR);hU.setRGBStr(e);bs.$d.add(e,hU);return hU}hS=bs.$b.exec(e);if(ss.isValue(hS)){hO=hN(parseInt(hS[1],10));hP=hN(parseInt(hS[2],10));hQ=hN(parseInt(hS[3],10));hR=parseFloat(hS[4]);if(hR<=1){hR=hR*255}if(hR>255){hR=255}if(hR<0){hR=0}hR=bs.alpha255ToFraction(hR);var hV=new bs(hO,hP,hQ,hR);bs.$d.add(e,hV);return hV}throw new ss.Exception('Unknown color format: '+e)};bs.alpha255ToFraction=function(e){return tab.DoubleUtil.truncateTwoDecimalPlaces(bs.$7(e))};bs.$7=function(e){return(e+1)/256};bs.alphaFractionTo255=function(e){var hM=ss.Int32.trunc(tab.DoubleUtil.multiplyBy100(e));for(var hN=0;hN<256;hN++){var hO=ss.Int32.trunc(tab.DoubleUtil.multiplyBy100(bs.alpha255ToFraction(hN)));if(hO===hM){return hN}}return 255};bs.fromColorModelPlusAlpha=function(e,hM){return new bs(e.get_r(),e.get_g(),e.get_b(),hM)};bs.convertColorForCanvas=function(e){if(e.charCodeAt(3)===40){return e}bs.$3();var hM=bs.$c[e];if(ss.isValue(hM)){return hM}var hN=bs.fromColorCode(e);hM=hN.toString();return hM};bs.isEqual=function(e,hM,hN){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(hM)){return false}if(hN&&e.$3!==hM.$3){return false}return e.$7===hM.$7&&e.$6===hM.$6&&e.$4===hM.$4};bs.alphaBlend=function(e,hM){if(e.get_a()<1){var hN=bs.alphaToTransparency(e.get_a());var hO=hM.get_r()*hN+e.get_r()*e.get_a();var hP=hM.get_g()*hN+e.get_g()*e.get_a();var hQ=hM.get_b()*hN+e.get_b()*e.get_a();return new bs(ss.Int32.trunc(hO),ss.Int32.trunc(hP),ss.Int32.trunc(hQ),1)}else{return e}};bs.isFullyTransparent=function(e){return e.get_a()===0};bs.alphaComposite=function(e,hM){if(hM.get_a()>=0.999989986419678){return bs.alphaCompositeSolidDest(e,hM)}var hN=bs.alphaToTransparency(e.get_a());var hO=e.get_a()+hM.get_a()*hN;return new bs(bs.$0(e.get_r(),e.get_a(),hM.get_r(),hM.get_a(),hO),bs.$0(e.get_g(),e.get_a(),hM.get_g(),hM.get_a(),hO),bs.$0(e.get_b(),e.get_a(),hM.get_b(),hM.get_a(),hO),hO)};bs.alphaCompositeSolidDest=function(e,hM){return new bs(bs.$1(e.get_r(),e.get_a(),hM.get_r()),bs.$1(e.get_g(),e.get_a(),hM.get_g()),bs.$1(e.get_b(),e.get_a(),hM.get_b()),1)};bs.$5=function(e,hM,hN){return 0.2126*bs.$e[e]+0.7152*bs.$e[hM]+0.0722*bs.$e[hN]};bs.$2=function(e){return Math.min(1,(255-e)/255*1.5)};bs.$6=function(e,hM){var hN=e.toString(16);while(hN.length<hM){hN='0'+hN}return hN};bs.$0=function(e,hM,hN,hO,hP){return Math.round((e*hM+hN*hO*bs.alphaToTransparency(hM))/hP)};bs.$1=function(e,hM,hN){return Math.round(e*hM+hN*bs.alphaToTransparency(hM))};bs.$4=function(e){if(e>0.00885639991611242){return Math.pow(e,0.333333313465118)}else{return 7.78703689575195*e+0.137931004166603}};bs.$3=function(){if(ss.isValue(bs.$c)){return}bs.$c={};bs.$c['rgba(0,0,0,255)']='rgba(0,0,0,1)';bs.$c['rgba(0,0,0,0)']='rgba(0,0,0,0)';bs.$c['rgba(255,255,255,255)']='rgba(255,255,255,1)';bs.$c['rgba(255,255,255,0)']='rgba(255,255,255,0)'};bs.transparencyToAlpha=function(e){return Math.min(Math.max(1-e,0),1)};bs.alphaToTransparency=function(e){return bs.transparencyToAlpha(e)};global.tab.ColorModel=bs;var bt=function(e){ey.call(this,e,new fd('colorPalettes'.toString()))};bt.__typeName='tab.ColorPaletteCollectionModel';global.tab.ColorPaletteCollectionModel=bt;var bu=function(e,hM){this.$J=null;this.$K=null;this.$P=[];this.$Y=new n;this.$W=new gP;this.$N={};this.$R=[];this.$M=null;this.$X=null;this.$Z=null;this.$V=false;this.$U=null;this.$T=null;this.$Q=null;this.$H=null;this.$S=[];this.$L=null;this.$G=false;this.$O=[];this.$F=false;this.$I=false;this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$1$4=null;this.$1$5=null;this.$1$6=null;this.$1$8=null;this.$1$9=null;this.$1$10=null;this.$1$11=null;this.$1$12=null;this.$1$13=null;this.e2eAutomationTestHooks=null;this.processingRenderModeChange=false;this.processingStoryPointChange=false;this.$U=e;this.$K=hM;window.window.onerror=ss.mkdel(this,this.$l);this.$Z=new hE(this.$K);this.$X=new B(this.$U);var hN=new c(e);hN.$3('tabsrv'.toString(),'render-tooltip-server'.toString(),135);var hO=new bJ;hO.commandNamespace='tabdoc'.toString();hO.commandName='highlight-items'.toString();var hP=new bJ;hP.commandNamespace='tabdoc'.toString();hP.commandName='clear-highlighting'.toString();var hQ=new bJ;hQ.commandNamespace='tabdoc'.toString();hQ.commandName='highlight-items-by-pattern-match'.toString();var hR=[hO,hP,hQ];hN.$2(hR,135);this.$J=hN;this.$J.add_commmandSucceeded(ss.mkdel(this,this.$d));this.$J.add_commandFailed(ss.mkdel(this,this.$c));this.$L=new cz(hM);this.$g();this.e2eAutomationTestHooks=new D(this.$Z,ss.mkdel(this,function(){return ss.getKeyCount(this.$N)}),ss.mkdel(this,this.$h));this.$F=false};bu.__typeName='tab.CommandController';bu.add_switchedViz=function(e){bu.$1$7=ss.delegateCombine(bu.$1$7,e)};bu.remove_switchedViz=function(e){bu.$1$7=ss.delegateRemove(bu.$1$7,e)};bu.add_sheetNameChanged=function(e){bu.$1$14=ss.delegateCombine(bu.$1$14,e)};bu.remove_sheetNameChanged=function(e){bu.$1$14=ss.delegateRemove(bu.$1$14,e)};bu.get_hasInstance=function(){return ss.isValue(bu._instance)};bu.$7=function(){return tab.Logger.lazyGetLogger(bu)};bu.isAllContentReady=function(){return(ss.isNullOrUndefined(bu._instance)?false:bu._instance.$F)};bu.create=function(e,hM){if(ss.isNullOrUndefined(bu._instance)){bu._instance=new bu(e,hM)}return bu._instance};bu.clearInstance=function(){bu._instance=null;window.window.onerror=null};bu.get=function(){if(!ss.isValue(bu._instance)){throw new ss.Exception('Attempted to use CommandController before creating it.')}return bu._instance};bu.handleBootstrapException=function(e,hM){if(bu.$9){return}var hN=new ss.StringBuilder;if(ss.isValue(e['name'])){hN.append(e['name']).append(': ')}hN.append(e.get_message());hM.showAlertDialog(tab.Strings.UnhandledExceptionMessage(tsConfig.sessionid,hN.toString()),tab.Strings.UnhandledExceptionTitle,true,null);bu.sendParentCompletedMessage();bu.$9=true};bu.sendParentCompletedMessage=function(){if(bu.$a){return}bu.$a=true;tab.BrowserSupport.doPostMessageWithContext('tableau.completed'.toString())};bu.$5=function(e){return e.get_isBlocking()};bu.SendCommand=function(e){var hM=bu.get();if(hM.$I&&tab.FeatureFlags.isEnabled('CommandCancellation')){return}if(ff.get_progressiveLoadEnabled()){hM.$0(e)}hM.$Y.$1(e);hM.$i()};bu.SendCommandWithDeferredReturn=function(e,hM){var hN=$.Deferred();var hO=bu.deferredSuccessHandler(Object).call(null,$.Deferred().done(function(hQ){hN.resolve(hQ)}));var hP=bu.$1($.Deferred().fail(function(hQ){hN.reject()}));bu.SendCommand(fp.create(e,hM,hO,hP));return hN.promise()};bu.deferredSuccessHandler=function(e){return function(hM){return bu.DeferredSuccessHandler(hM)}};bu.DeferredSuccessHandler=function(e){return function(hM){var hN=bu.get();var hO=null;hO=function(){hN.remove_commandQueueComplete(hO);e.resolve(hM)};hN.add_commandQueueComplete(hO)}};bu.$1=function(e){return bu.deferredFailureHandler(e)};bu.deferredFailureHandler=function(e){return function(hM){var hN=bu.get();var hO=null;hO=function(){hN.remove_commandQueueComplete(hO);e.reject(hM)};hN.add_commandQueueComplete(hO)}};bu.$2=function(e,hM){return tabBootstrap.BaseUrlFormatter.formatSessionMethod(e,hM.get_id(),hM.get_urlRoot())};bu.$0=function(e,hM,hN){var hO=[];if(!tab.MiscUtil.isNullOrEmpty$1(tsConfig.clientOpenBugUrl)){var hP=tsConfig.clientCheckBugText;var hQ=tsConfig.clientCheckBugUrl;var hR=tsConfig.clientOpenBugText;var hS=tsConfig.clientOpenBugUrl;var hT=encodeURIComponent('{errorMessage}');var hU=encodeURIComponent('{sessionId}');var hV=encodeURIComponent('{stack}');var hW=encodeURIComponent('{url}');if(!ss.isNullOrEmptyString(hP)&&!ss.isNullOrEmptyString(hQ)){var hX=ss.replaceAllString(ss.replaceAllString(ss.replaceAllString(hM,'"',''),"'",''),':','');hQ=ss.replaceAllString(hQ,hT,encodeURIComponent(hX));hO.push({url:hQ,displayText:hP})}if(!ss.isNullOrEmptyString(hR)&&!ss.isNullOrEmptyString(hS)){var hY='search splunk for stack.';try{hY=hN.stack;hY=hY.substr(0,400)}catch(ia){}hS=ss.replaceAllString(hS,hT,encodeURIComponent(ss.replaceAllString(hM,':','')));hS=ss.replaceAllString(hS,hU,encodeURIComponent(e));hS=ss.replaceAllString(hS,hV,encodeURIComponent(hY));var hZ=((ss.isValue(window.parent)&&ss.isValue(window.parent.location))?window.parent.location:window.location);hS=ss.replaceAllString(hS,hW,encodeURIComponent(hZ.href));hS=ss.replaceAllString(ss.replaceAllString(hS,'"',''),"'",'');hO.push({url:hS,displayText:hR})}}return hO};bu.$6=function(){var e={};e['t']=tabBootstrap.MetricsController.getTiming();e['d']='CLNTLD'.toString();var hM=new tabBootstrap.MetricsEvent('gen',2,e);tabBootstrap.MetricsController.logEvent(hM)};bu.$4=function(e){var hM=0;if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.workbookPresModel)||ss.isNullOrUndefined(e.workbookPresModel.dashboardPresModel)){return null}if(!e.workbookPresModel.dashboardPresModel.isStory){return hM}var hN=e.workbookPresModel.dashboardPresModel.zones;var hO=_.keys(hN);for(var hP=0;hP<hO.length;hP++){var hQ=hO[hP];var hR=hN[hQ];if(ss.isNullOrUndefined(hR)){continue}var hS=hK.getContent(hR,'flipboard');if(ss.isValue(hS)){return hS.activeStoryPointId}}return null};bu.$3=function(e){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.workbookPresModel)||ss.isNullOrUndefined(e.workbookPresModel.dashboardPresModel)||ss.isNullOrUndefined(e.workbookPresModel.dashboardPresModel.sheetPath)){return''}return e.workbookPresModel.dashboardPresModel.sheetPath.sheetName};global.tab.CommandController=bu;var bv=function(){};bv.__typeName='tab.CommandControllerTelemetry';bv.$0=function(){if(eH.get_telemetryEnabled()&&tab.FeatureFlags.isEnabled('WebAuthoringOnlineTelemetry')){_.defer(function(){var e=window.screen;var hM=eB.getSheetInfoPresModel(N.get_instance(),tsConfig.current_sheet_name);var hN=['Authoring',tsConfig.is_authoring,'Embedded',tsConfig.embedded,'HighDpi',tsConfig.highDpi,'Mobile',tsConfig.is_mobile,'MobileApp',tsConfig.is_mobile_app,'MobileDevice',tsConfig.is_mobile_device,'Version',tsConfig.version,'LocalRender',N.get_instance().get_isLocalRenderMode(),'Android',tab.BrowserSupport.get_isAndroid(),'Chrome',tab.BrowserSupport.get_isChrome(),'ChromeVersion',tab.BrowserSupport.get_googleChromeVersion(),'DevicePixelRatio',tab.BrowserSupport.get_devicePixelRatio(),'Edge',tab.BrowserSupport.get_isEdge(),'Firefox',tab.BrowserSupport.get_isFF(),'Geolocation',tab.BrowserSupport.get_isGeolocationSupported(),'IE',tab.BrowserSupport.get_isIE(),'IEVersion',tab.BrowserSupport.get_browserVersion(),'IOS',tab.BrowserSupport.get_isIos(),'IOSVersion',tab.BrowserSupport.get_iosVersion(),'Ipad',tab.BrowserSupport.get_isIpad(),'Mac',tab.BrowserSupport.get_isMac(),'Opera',tab.BrowserSupport.get_isOpera(),'Safari',tab.BrowserSupport.get_isSafari(),'SafariVersion',tab.BrowserSupport.get_safariVersion(),'Touch',tab.BrowserSupport.isTouch,'Windows',tab.BrowserSupport.get_isWindows(),'EmbedMode',tabBootstrap.Utility.get_embedMode(),'ScreenWidth',e.width,'ScreenHeight',e.height,'Dashboard',hM.isDashboard,'Published',hM.isPublished,'Story',ss.isValue(hM.isStory)&&hM.isStory,'Worksheets',(ss.isValue(hM.namesOfSubsheets)?hM.namesOfSubsheets.length:0),'Tabs',(_.isArray(tsConfig.visible_sheets)?tsConfig.visible_sheets.length:0)];eH.logEvent('Bootstrap',hN)})}};global.tab.CommandControllerTelemetry=bv;var bw=function(e,hM){this.succeeded=false;this.error=null;this.succeeded=e;this.error=hM};bw.__typeName='tab.CommandExecutionResult';global.tab.CommandExecutionResult=bw;var bx=function(){};bx.__typeName='tab.CommandInterceptorResult';global.tab.CommandInterceptorResult=bx;var by=function(){gS.call(this)};by.__typeName='tab.CommandItemBasedUbertipButtonModel';global.tab.CommandItemBasedUbertipButtonModel=by;var bz=function(e){this.$0=null;if(ss.isValue(e)){this.$0=e}else{this.$0={};this.set_commandsType('item')}};bz.__typeName='tab.CommandItemWrapper';bz.create=function(e){if(!ss.isValue(e)){return null}var hM=e['command'.toString()];var hN=bG.deserialize(hM);if(ss.isValue(hN)&&hu.hasCommand(hN.commandName)){return new ht.$ctor1(e)}return new bz(e)};global.tab.CommandItemWrapper=bz;var bA=function(){this.command=null;this.description=null;this.imageRes=null;this.status='enabled';this.$1$1=0;this.$1$2=null};bA.__typeName='tab.CommandModel';global.tab.CommandModel=bA;var bB=function(){gS.call(this)};bB.__typeName='tab.CommandModelBasedUbertipButtonModel';global.tab.CommandModelBasedUbertipButtonModel=bB;var bC=function(e){this.$0=null;this.$0={};var hM=ss.getEnumerator(e);try{while(hM.moveNext()){var hN=hM.current();this.$0[hN]='granted'}}finally{hM.dispose()}};bC.__typeName='tab.CommandPermission';global.tab.CommandPermission=bC;var bD=function(e,hM,hN){this.$0=null;this.$2=null;this.$1=null;this.$0=e;this.$2=hM;this.$1=hN};bD.__typeName='tab.CommandRecord';global.tab.CommandRecord=bD;var bE=function(){};bE.__typeName='tab.CommandRedirectRegistry';bE.checkpointRegistry=function(){var e=bE.$0;bE.$0=$.extend(false,{},e);return function(){bE.$0=e}};bE.registerHandler=function(e,hM){tab.Param.verifyValue(e,'commandRedirectType');tab.Param.verifyValue(hM,'handler');if(ss.isNullOrUndefined(bE.$0)){bE.$0={}}bE.$0[e]=hM};bE.handleRedirect=function(e,hM){if(ss.isNullOrUndefined(bE.$0)||!ss.keyExists(bE.$0,e)){throw new ss.Exception('No command redirect registerd for type: '+e)}var hN=bE.$0[e];return hN(hM)};global.tab.CommandRedirectRegistry=bE;var bF=function(){this.$2$1=null;this.$2$2=null;this.$2$3=false;this.$2$4=false;ss.EventArgs.call(this)};bF.__typeName='tab.CommandResponseEventArgs';global.tab.CommandResponseEventArgs=bF;var bG=function(){};bG.__typeName='tab.CommandSerializer';bG.$4=function(){return tab.Logger.lazyGetLogger(bG)};bG.buildDocCommandName=function(e){return bG.buildQualifiedCommandName('tabdoc'.toString(),e.toString())};bG.buildQualifiedCommandName=function(e,hM){return e+':'+hM};bG.deserialize=function(e,hM){var hN;hM=hM||false;if(hM){hN=bG.$6[e];if(ss.isValue(hN)){return hN}}var hO=new RegExp('^(\\w+):([\\w-]+)( ((.|\n)*))?$');var hP=hO.exec(e);if(ss.isNullOrUndefined(hP)||hP.length===0){return null}hN={commandNamespace:hP[1],commandName:hP[2]};bG.$1(hN,hP[4]);if(hM){bG.$0(e,hN)}return hN};bG.getCommandType=function(e){if(ss.keyExists(bG.$8,e.commandName)){return bG.$8[e.commandName]}else{return null}};bG.$0=function(e,hM){if(bG.$7.length>=15){var hN=bG.$7.shift();delete bG.$6[hN]}bG.$6[e]=hM;bG.$7.push(e)};bG.$1=function(e,hM){if(ss.isNullOrEmptyString(hM)){return}var hN=new ss.StringBuilder;var hO=new Array;for(var hP=hM.length-1;hP>=0;hP--){hO.push(hM.substr(hP,1))}while(hO.length>0){var hQ=bG.$2(hO,hN);if(!ss.isValue(hQ)){return}var hR=bG.$3(hO,hN);if(ss.isNullOrUndefined(hR)){return}if(hR==='{}'){continue}if(ss.isNullOrUndefined(e.commandParams)){e.commandParams={}}e.commandParams[ss.unbox(hQ)]=hR}};bG.$2=function(e,hM){hM.clear();var hN=false;while(e.length>0){var hO=e.pop();switch(hO){case'=':{return hM.toString().trim()}case'-':{hN=true;break}default:{if(hN){hM.append(hO.toUpperCase());hN=false}else{hM.append(hO)}break}}}return null};bG.$3=function(e,hM){hM.clear();var hN=new Array;var hO=function(){return((hN.length>0)?ss.arrayPeekBack(hN):'')};var hP=e.length>1&&ss.arrayPeekBack(e)==='"';while(e.length>0){var hQ=e.pop();var hR=true;switch(hQ){case'\\':{if(hP){if(hO()!=='\\'){hN.push('\\');hR=false}else{hN.pop()}}break}case'"':{if(hO()==='\\'){hN.pop()}else if(hO()==='"'){hN.pop();if(hN.length===0){hR=false}}else{if(hN.length===0){hR=false}hN.push('"')}break}case'[':{if(hO()==='"'){}else{hN.push('[')}break}case']':{if(hO()==='"'){}else if(hO()!=='['){}else{hN.pop()}break}case'{':{if(hO()==='"'){}else{hN.push('{')}break}case'}':{if(hO()==='"'){}else if(hO()!=='{'){}else{hN.pop()}break}default:{if(hO()==='\\'){hN.pop()}break}}if(hR){hM.append(hQ)}if(hN.length===0){return hM.toString()}}return null};global.tab.CommandSerializer=bG;var bH=function(e){this.$1=true;this.$2$1=null;ey.call(this,e,new fd('commands'.toString()))};bH.__typeName='tab.CommandsModel';global.tab.CommandsModel=bH;var bI=function(){bI.$ctor1.call(this,{})};bI.__typeName='tab.CommandsPresModelWrapper';bI.$ctor1=function(e){this.$0=null;this.$0=e;if(ss.isNullOrUndefined(this.get_commandItems())){this.set_commandItems([])}};bI.create=function(e){if(!ss.isValue(e)){return null}return new bI.$ctor1(e)};global.tab.CommandsPresModelWrapper=bI;var bJ=function(){this.commandNamespace='';this.commandName=''};bJ.__typeName='tab.CommandThrottlerTarget';global.tab.CommandThrottlerTarget=bJ;var bK=function(){};bK.__typeName='tab.CommandUtils';bK.newCommand=function(e,hM){var hN={commandName:e,commandNamespace:'tabdoc'};if(ss.isValue(hM)){hN.commandParams=hM}return hN};bK.newCommand$1=function(e,hM){var hN={commandName:e,commandNamespace:'tabsrv'};if(ss.isValue(hM)){hN.commandParams=hM}return hN};bK.addVisualIdToCommand=function(e,hM){if(tab.MiscUtil.isNullOrEmpty$1(hM.storyboard)){e['worksheet']=hM.worksheet;if(ss.isValue(hM.dashboard)&&hM.dashboard.toString().length>0){e['dashboard']=hM.dashboard}}else{e['visualIdPresModel']=JSON.stringify(hM)}};bK.addStoryPointToCommand=function(e,hM){if(ss.isValue(hM.storyboard)){e['storyboard']=hM.storyboard;e['flipboardZoneId']=hM.flipboardZoneId.toString();e['storyPointId']=hM.storyPointId.toString()}};bK.duplicateCommand=function(e){var hM={};$.extend(true,hM,e);return hM};bK.createCommandRedirectSuccessHandler=function(e){e=e||$.Deferred();var hM=$.Deferred();hM.promise().pipe(function(hN){if(_.isObject(hN)&&'commandRedirectType'.toString()in hN){var hO=hN['commandRedirectType'.toString()];var hP=bE.handleRedirect(hO,hN);hP.pipe(function(){e.resolve(hN);return hN},function(){e.reject();return hN})}else{e.resolve(hN)}return hN},function(){e.reject();return null});return bu.deferredSuccessHandler(Object).call(null,hM)};bK.executeSimpleCommand$1=function(e){return function(hM,hN){var hO=$.Deferred();var hP=$.Deferred().done([function(hQ){hO.resolve(hQ)}]).fail([function(hQ){hO.reject.apply(hO,null)}]);fO.executeServerCommand(bG.deserialize(gq.create(hM).get_simpleCommand()),hN,bK.createCommandRedirectSuccessHandler(hP),function(hQ){hO.reject.apply(hO,null)});return hO}};bK.executeSimpleCommand=function(e,hM){return bK.executeSimpleCommand$1(Object).call(null,e,hM)};global.tab.CommandUtils=bK;var bL=function(e,hM){this.$3=null;this.$2=null;this.$3=e;this.$2=hM};bL.__typeName='tab.CommentingServer';global.tab.CommentingServer=bL;var bM=function(e){this.$1=null;this.$2=null;this.$2$1=null;ey.call(this,e,new fd('compoundTableCalculationPresModel'.toString()));this.$1=new gD(this);this.$2=new gD(this);this.$2.get_tableCalcIdentifier().update({calcNestingLevel:'secondary',fn:''})};bM.__typeName='tab.CompoundTableCalcModel';bM.$0=function(e,hM){if(ss.isValue(e)&&ss.isValue(e.tableCalculationPresModels)&&e.tableCalculationPresModels.length>hM){return e.tableCalculationPresModels[hM]}return null};global.tab.CompoundTableCalcModel=bM;var bN=function(){ss.makeGenericType(O,[Object,bO]).call(this)};bN.__typeName='tab.CreateDashboardTitleRichTextEditorCmd';global.tab.CreateDashboardTitleRichTextEditorCmd=bN;var bO=function(e){this.$$c=null;this.$$c=e};bO.__typeName='tab.CreateDashboardTitleRichTextEditorCmd$Response';global.tab.CreateDashboardTitleRichTextEditorCmd$Response=bO;var bP=function(){ss.makeGenericType(O,[Object,bQ]).call(this)};bP.__typeName='tab.CreateDataSourceFromFileUploadCmd';global.tab.CreateDataSourceFromFileUploadCmd=bP;var bQ=function(e){this.$$c=null;this.$$c=e};bQ.__typeName='tab.CreateDataSourceFromFileUploadCmd$Response';global.tab.CreateDataSourceFromFileUploadCmd$Response=bQ;var bR=function(){ss.makeGenericType(O,[Object,bS]).call(this)};bR.__typeName='tab.CreateTextObjectRichTextEditorCmd';global.tab.CreateTextObjectRichTextEditorCmd=bR;var bS=function(e){this.$$c=null;this.$$c=e};bS.__typeName='tab.CreateTextObjectRichTextEditorCmd$Response';global.tab.CreateTextObjectRichTextEditorCmd$Response=bS;var bT=function(e){this.$3=null;this.$2=null;this.$1=null;cS.call(this,e)};bT.__typeName='tab.CubeDimensionModel';global.tab.CubeDimensionModel=bT;var bU=function(e){this.$2=null;this.$1=null;cS.call(this,e)};bU.__typeName='tab.CubeFolderModel';global.tab.CubeFolderModel=bU;var bV=function(e){this.$1=null;cS.call(this,e)};bV.__typeName='tab.CubeHierarchyModel';global.tab.CubeHierarchyModel=bV;var bW=function(e){this.$3$1=null;gQ.call(this,e,new fd('cumulativeTableCalcPresModel'.toString()))};bW.__typeName='tab.CumulativeTableCalcModel';global.tab.CumulativeTableCalcModel=bW;var bX=function(e){this.$3=null;this.$3=e};bX.__typeName='tab.CustomizedViewSession';bX.buildUrl=function(e,hM){var hN=ho.createForViewingSheet(tsConfig.repositoryUrl);if(ss.isValue(e)){hN.updateForCustomizedView(e)}else{hN.set_originalView(true)}hN.removeHash();if(hM){hN.removeAllQueryParams()}return hN.get_absoluteUri()};bX.$0=function(e){var hM=function(hN,hO,hP){if(!ss.isValue(e)){return}var hQ=bX.$1(hN);e((ss.isValue(hQ)?hQ:(hP.toString()||'')))};return hM};bX.$1=function(e){if(ss.isValue(e.responseText)){try{var hM=JSON.parse(e.responseText);if('msg'in hM){return hM['msg']}}catch(hN){var e=ss.Exception.wrap(hN)}}return null};global.tab.CustomizedViewSession=bX;var bY=function(e){this.$3$1=null;this.$3$2=null;gQ.call(this,e,new fd('customTableCalcPresModel'.toString()));this.set_referenceModel(new gF(this))};bY.__typeName='tab.CustomTableCalcModel';global.tab.CustomTableCalcModel=bY;var bZ=function(){};bZ.__typeName='tab.DashboardCommands';bZ.dropSheetOnDashboard=function(e,hM,hN){var hO=bK.newCommand('drop-on-dashboard',null);hO.commandParams={};hO.commandParams['worksheet']=e;hO.commandParams['addAsFloating']=ss.coalesce(hN,false);hO.commandParams['dashboard']=tsConfig.current_sheet_name;hO.commandParams['zoneType']='viz';hO.commandParams['dropLocation']={x:hM.x|0,y:hM.y|0};return bu.SendCommandWithDeferredReturn(hO,'immediately')};bZ.dropNewZoneObjectOnDashboard=function(e,hM,hN,hO,hP,hQ){var hR=bK.newCommand('drop-on-dashboard',null);hR.commandParams={};hR.commandParams['addAsFloating']=ss.coalesce(hN,false);hR.commandParams['dashboard']=tsConfig.current_sheet_name;hR.commandParams['zoneType']=e;hR.commandParams['isHorizontal']=hM;hR.commandParams['dropLocation']={x:hO.x|0,y:hO.y|0};if(ss.isValue(hQ)){hR.commandParams['zoneParam']=hQ}if(ss.isValue(hP)){hR.commandParams['formattedText']=hP}return bu.SendCommandWithDeferredReturn(hR,'immediately')};bZ.setDashboardDeviceLayout=function(e){var hM=new fU;hM.c['dashboard']=tsConfig.current_sheet_name;hM.c['dashboardDeviceLayout']=e;hM.c['allowPreviewSizeChange']=true;hM.set_uiBlocking('immediately');hM.invoke()};bZ.getSheetDragDropTargets=function(e){var hM=new dl;hM.c['dashboard']=tsConfig.current_sheet_name;hM.set_uiBlocking('none');var hN=hM;if(ss.isValue(e)){hN.c['zoneId']=ss.unbox(e)|0}return hN.invoke()};bZ.getThumbnailImage=function(e){var hM=new du;hM.c['worksheet']=e;hM.set_uiBlocking('none');var hN=hM;return hN.invoke()};bZ.addNewObjectToDashboard=function(e,hM,hN,hO,hP){var hQ=bK.newCommand('add-object-to-dashboard',null);hQ.commandParams={};hQ.commandParams['dashboard']=tsConfig.current_sheet_name;hQ.commandParams['zoneType']=e;hQ.commandParams['isHorizontal']=hM;hQ.commandParams['addAsFloating']=ss.coalesce(hN,false);if(ss.isValue(hP)){hQ.commandParams['zoneParam']=hP}if(ss.isValue(hO)){hQ.commandParams['formattedText']=hO}bu.SendCommand(fp.create(hQ,'immediately'))};bZ.addSheetToDashboard=function(e,hM){var hN=bK.newCommand('add-sheet-to-dashboard',null);hN.commandParams={};hN.commandParams['worksheet']=e;hN.commandParams['addAsFloating']=ss.coalesce(hM,false);bu.SendCommand(fp.create(hN,'immediately'))};bZ.getCurrentSheetSizeConstraints=function(){var e=$.Deferred();if(tsConfig.current_sheet_type==='worksheet'){e.resolve({sizeMode:'size-mode-auto',dashboardSizingMode:'automatic'})}else{var hM=new dn;hM.c['dashboard']=tsConfig.current_sheet_name;hM.set_uiBlocking('none');hM.invoke().pipe(function(hN){return e.resolve(hN.$$c['dashboardSizePresModel'])},function(hN){return e.reject()})}return e.promise()};bZ.setDashboardSizeFixed=function(e,hM,hN,hO,hP){var hQ=function(hR){var hS=hR.makeMutablePresModel(hP,false);var hT={dashboardSizingMode:'fixed',h:hO,w:hN};hS.dashboardSizePresModel=hT};bZ.$0(e,hM,'fixed',hN,hO,hN,hO,hQ)};bZ.setDashboardSizeAutomatic=function(e,hM){var hN=function(hO){var hP=hO.makeMutablePresModel(hM,false);var hQ={dashboardSizingMode:'automatic'};hP.dashboardSizePresModel=hQ};bZ.$0(e,'no','automatic',0,0,0,0,hN)};bZ.setDashboardSizeRange=function(e,hM,hN,hO,hP,hQ,hR){var hS=function(hT){var hU=hT.makeMutablePresModel(hR,false);var hV={dashboardSizingMode:'range',maxHeight:ss.coalesce(hQ,0),maxWidth:ss.coalesce(hP,0),minHeight:ss.coalesce(hO,0),minWidth:ss.coalesce(hN,0)};hU.dashboardSizePresModel=hV};bZ.$0(e,hM,'range',ss.coalesce(hN,0),ss.coalesce(hO,0),ss.coalesce(hP,0),ss.coalesce(hQ,0),hS)};bZ.$0=function(e,hM,hN,hO,hP,hQ,hR,hS){var hT=new fW;hT.c['dashboardSizingDimension']=hM;hT.c['dashboard']=e;hT.c['minWidth']=hO|0;hT.c['minHeight']=hP|0;hT.c['maxWidth']=hQ|0;hT.c['maxHeight']=hR|0;hT.c['dashboardSizingMode']=hN;hT.set_localWork(hS);hT.set_uiBlocking('immediately');hT.invoke()};bZ.showDashboardTitle=function(e){var hM=new gm;hM.c['dashboard']=e;hM.set_uiBlocking('immediately');var hN=hM;hN.invoke()};bZ.getUrlSubstitutionParameters=function(){var e=new dw;e.c['dashboard']=tsConfig.current_sheet_name;return e.invoke()};bZ.isWebZoneUrlValid=function(e){var hM=new dZ;hM.c['urlString']=e;hM.set_uiBlocking('immediately');return hM.invoke()};global.tab.DashboardCommands=bZ;var ca=function(e){this.$e={};this.$9=null;this.$c=0;this.$a=null;this.$d=null;this.$f=null;this.$b=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.$2$7=null;this.$2$8=null;this.$2$9=null;this.$2$10=null;this.$2$11=null;this.$2$12=null;this.zonesModel=null;this.sheetListModel=null;this.layoutTreeModel=null;this.autoUpdate=false;this.invalid=false;ey.call(this,e,new fd('dashboardPresModel'.toString()));this.invalid=false;this.zonesModel=new hL(this);this.$c=0};ca.__typeName='tab.DashboardModel';ca.add_modifiedSheetsChanged=function(e){ca.$2$1=ss.delegateCombine(ca.$2$1,e)};ca.remove_modifiedSheetsChanged=function(e){ca.$2$1=ss.delegateRemove(ca.$2$1,e)};ca.$1=function(e,hM){var hN=e.length;var hO=new Set;for(var hP=0;hP<e.length;hP++){var hQ=e[hP];var hR=hM[hQ];var hS=[];if(!hR.get_selectionsModel().tupleSelection.isEmpty||hR.get_selectionsModel().get_brushVizForNodeSelection()){ss.arrayAddRange(hS,I.getApplicableActions(hQ,'on-select','highlight'));ss.arrayAddRange(hS,I.getApplicableActions(hQ,'explicitly','highlight'))}if(!hR.get_brushingsModel().tupleSelection.isEmpty){ss.arrayAddRange(hS,I.getApplicableActions(hQ,'on-hover','highlight'))}if(!tab.MiscUtil.isNullOrEmpty(hS)){var hT=q.$0(hQ,hS,hR.get_vizDataModel());tab.SetUtilities.addAll(Object).call(null,hO,tab.SetUtilities.getValues(Object).call(null,hT));if(hO.size===hN){return hO}}}return hO};ca.$0=function(){if(!ss.staticEquals(ca.$2$1,null)){ca.$2$1()}};global.tab.DashboardModel=ca;var cb=function(){this.$1=false;ey.call(this,null,null);this.$1=false};cb.__typeName='tab.DashboardNewObjectsModel';global.tab.DashboardNewObjectsModel=cb;var cc=function(){};cc.__typeName='tab.DashboardSizeCalculator';cc.get_dashboardViewportSize=function(){var e=cc.get_dashboardViewportSizeWithTabs();e.h-=tabBootstrap.VizLayoutConstants.get_tabsHeight();return e};cc.get_dashboardViewportSizeWithTabs=function(){var e=document.getElementById('dashboard-viewport');var hM={w:e.offsetWidth,h:e.offsetHeight};return hM};cc.calculateContainerSize=function(e){var hM=(tabBootstrap.VizLayoutConstants.get_shouldShowTabs()?cc.calculateDashboardSize():e);var hN={w:hM.w,h:hM.h+tabBootstrap.VizLayoutConstants.get_tabsHeight()};return hN};cc.calculateDashboardSize=function(){var e=cc.get_dashboardViewportSize();var hM=tabBootstrap.ViewerBootstrap.get_instance().adjustForMinMaxDashboardSizes(e);return hM};cc.asSizePresModel=function(e){return{w:e.w,h:e.h}};cc.asMetric=function(e){return{w:e.w,h:e.h}};cc.asRect=function(e){return{l:0,t:0,w:e.w,h:e.h}};global.tab.DashboardSizeCalculator=cc;var cd=function(e){this.$2$1=null;this.dashboardSizeModel=null;this.layoutInfoModel=null;ey.call(this,e,new fd('dashboardSizeControl'.toString()))};cd.__typeName='tab.DashboardSizeControlModel';global.tab.DashboardSizeControlModel=cd;var ce=function(e){this.$2$1=null;ey.call(this,e,new fd('dashboardSizePresModel'.toString()))};ce.__typeName='tab.DashboardSizeModel';global.tab.DashboardSizeModel=ce;var cf=function(){var e=[];e.push(gZ.currentUser());cf.$ctor2.call(this,{},{},e)};cf.__typeName='tab.DataAlert';cf.$ctor2=function(e,hM,hN){this.$4=null;this.$5=null;this.$3=1440;this.$2=null;this.$1=null;this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$1$4=null;this.$1$5=null;this.$1$6=null;this.$1$7=null;this.$1$8=false;this.$1$9=false;this.$2=e;this.$1=hM;this.set_recipients(hN)};cf.$ctor1=function(e){this.$4=null;this.$5=null;this.$3=1440;this.$2=null;this.$1=null;this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$1$4=null;this.$1$5=null;this.$1$6=null;this.$1$7=null;this.$1$8=false;this.$1$9=false;this.set_selectionCaption(e.fieldName);this.set_measurePresModel(e.dataAlertMeasure);this.set_conditionPresModel({dataAlertConditionOp:e.dataAlertConditionOp,dataAlertThresholdText:e.dataAlertThresholdText,dataType:e.dataType});this.set_threshold(e.dataAlertThresholdText);this.set_alertConditionMet(e.isDataAlertConditionMet);var hM=[];hM.push(gZ.currentUser());this.set_recipients(hM)};global.tab.DataAlert=cf;var cg=function(){};cg.__typeName='tab.DataAlertCommands';cg.newDataAlert=function(e){(new gv).invoke().fail(function(){e()})};cg.updateDataAlert=function(e){var hM=$.Deferred();if(e.get_thresholdIsValid()){var hN=new gV;hN.c['dataAlertThresholdText']=e.get_conditionPresModel().dataAlertThresholdText;hN.c['dataAlertConditionOp']=e.get_conditionPresModel().dataAlertConditionOp;hN.invoke().done(function(hO){hM.resolve(hO.$$c['isDataAlertConditionMet'])}).fail(function(){throw new ss.Exception('Failed to update reference line position and shading')})}else{hM.resolve(e.get_alertConditionMet())}return hM};cg.closeDataAlertDialog=function(){(new bq).invoke().done(function(e){}).fail(function(){throw new ss.Exception('Failed to close the dialog')})};global.tab.DataAlertCommands=cg;var ch=function(){};ch.__typeName='tab.DataAlertConditionOperation';ch.supportedOperations=function(){var e=[];e.push('greater-than-equal');e.push('greater-than');e.push('less-than-equal');e.push('less-than');e.push('equals');return e};ch.displayString=function(e){switch(e){case'equals':{return tab.Strings.OperatorEqual}case'greater-than':{return tab.Strings.OperatorAbove}case'greater-than-equal':{return tab.Strings.OperatorAboveOrEqual}case'less-than':{return tab.Strings.OperatorBelow}case'less-than-equal':{return tab.Strings.OperatorBelowOrEqual}default:{return''}}};global.tab.DataAlertConditionOperation=ch;var ci=function(e){ey.call(this,e,new fd('dataAlertDialogPresModel'.toString()))};ci.__typeName='tab.DataAlertDialogModel';global.tab.DataAlertDialogModel=ci;var cj=function(){};cj.__typeName='tab.DataAlertNotificationInterval';cj.convertToString=function(e){switch(e){case 0:{return tab.Strings.NotificationIntervalEveryTime}case 2147483647:{return tab.Strings.NotificationIntervalOnlyOnce}case 60:{return tab.Strings.NotificationIntervalHourly}case 1440:{return tab.Strings.NotificationIntervalDaily}case 10080:{return tab.Strings.NotificationIntervalWeekly}default:{return''}}};cj.supportedIntervals=function(){var e=[];e.push(2147483647);e.push(0);e.push(60);e.push(1440);e.push(10080);return e};global.tab.DataAlertNotificationInterval=cj;var ck=function(e){this.$1=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;ey.call(this,e,null);this.$1=[]};ck.__typeName='tab.DataConnectionAreaModel';global.tab.DataConnectionAreaModel=ck;var cl=function(){};cl.__typeName='tab.DataConnectionCommands';cl.acceptConnectionVariables=function(e){var hM=new ga;hM.c['connectionName']=e;hM.set_uiBlocking('immediately');hM.invoke()};cl.editVariableByIndex=function(e,hM,hN,hO,hP,hQ){var hR={};hR['connectionName']=e;hR['variableGuid']=hM;hR['valueIndex']=hN;hR['variableValueOperation']=hO;hR['firstValueIndex']=hP;hR['secondValueIndex']=hQ;bu.SendCommand(fp.create(bK.newCommand('set-variable-value-by-index',hR),'immediately'))};cl.editVariableByInput=function(e,hM,hN,hO,hP){var hQ={};hQ['connectionName']=e;hQ['variableGuid']=hM;hQ['valueIndex']=hN;hQ['variableValueOperation']=hO;hQ['valueString']=hP;bu.SendCommand(fp.create(bK.newCommand('set-variable-value-shim',hQ),'immediately'))};cl.addVariable=function(e,hM){var hN=$.Deferred();var hO={};hO['connectionName']=e;hO['variableGuid']=hM;bu.SendCommand(fp.create(bK.newCommand('add-new-variable-value',hO),'immediately',bu.deferredSuccessHandler(ss.Int32).call(null,hN),function(hP){hN.reject()}));return hN.promise()};cl.deleteVariable=function(e,hM,hN,hO){var hP={};hP['connectionName']=e;hP['variableGuid']=hM;hP['valueIndex']=hN;bu.SendCommand(fp.create(bK.newCommand('delete-variable-value',hP),'immediately',function(hQ){hO()}))};cl.openDataConnectionArea=function(){ey.nonWorldUpdate(function(e){N.get_instance().get_workbook().get_dataConnectionModel().update(e)})};cl.addPublishedDataSourceConnection=function(e,hM,hN){var hO=new J;hO.c['repositoryUrl']=e.get_repositoryUrl();hO.c['datasourceDatabaseName']=e.get_name();hO.set_uiBlocking('immediatelySubtle');hO.invoke().fail(hN).done(function(hP){bu.SendCommand(new z(function(hQ){N.get_instance().get_workbook().get_dataSchema().notifyNewDataSourceAdded(hQ.modelUpdateContext,hP.$$c['datasource'])}));hM()})};cl.setActiveConnectionName=function(e,hM){var hN={};hN['connectionName']=e;var hO='set-active-connection-name';var hP=bK.newCommand(hO,hN);var hQ=null;hQ=function(hR){hM.connectionName=e};bu.SendCommand(new bo('afterDelay',hQ,hP))};cl.connectionAddNewTable=function(e,hM){var hN={};hN['connectionName']=e;hN['tableName']=hM;var hO='connection-add-new-table';var hP=bK.newCommand(hO,hN);bu.SendCommand(new bo('immediatelySubtle',null,hP))};cl.connectionChangeTableProperty=function(e,hM,hN){var hO={};hO['tableAlias']=e;hO['propertyName']=hM;hO['valueString']=hN;var hP='connection-change-table-property';var hQ=bK.newCommand(hP,hO);bu.SendCommand(new bo('immediatelySubtle',null,hQ))};cl.buildFileTableInfoPresModel=function(e){var hM={};hM['tableAlias']=e;var hN='build-file-table-info-pres-model';var hO=bK.newCommand(hN,hM);bu.SendCommand(new bo('immediatelySubtle',null,hO))};cl.getDataSourceDataPresModel=function(e,hM){var hN=new dq;hN.c['datasource']=e;hN.c['cacheOnly']=false;hN.c['useNotificationReturn']=true;hN.invoke().fail(hM)};cl.getConnectionTypeGroupPresModel=function(e,hM,hN){var hO={};hO['connectionTypeGroup']=e;var hP=bK.newCommand$1('get-supported-connection-types',hO);fO.executeServerCommand(hP,'none',function(hQ){hM(hQ)},hN)};cl.setDataSourceDataRowCount=function(e,hM,hN){var hO=new fY;hO.c['datasource']=e;hO.c['rowCount']=hM|0;hO.invoke().fail(hN).done(function(){cl.getDataSourceDataPresModel(e,hN)})};cl.toggleDataInterpreter=function(e){var hM={};hM['connectionName']=e;var hN='connection-toggle-table-cleaning';var hO=bK.newCommand(hN,hM);bu.SendCommand(new bo('immediately',null,hO))};cl.changeJoinType=function(e,hM){var hN={};hN['tableAlias']=e;hN['joinType']=hM;var hO='connection-edit-join-type';var hP=bK.newCommand(hO,hN);bu.SendCommand(new bo('immediately',null,hP))};cl.changeJoinClauses=function(e,hM){var hN={};hN['tableAlias']=e;hN['joinClauses']=hM;var hO='connection-edit-join-clauses';var hP=bK.newCommand(hO,hN);bu.SendCommand(new bo('immediately',null,hP))};global.tab.DataConnectionCommands=cl;var cm=function(e){this.$2=null;ey.call(this,e,new fd('variablePromptDialog'.toString()))};cm.__typeName='tab.DataConnectionPromptModel';global.tab.DataConnectionPromptModel=cm;var cn=function(e){ey.call(this,e,new fd('promptVariables'.toString(),1))};cn.__typeName='tab.DataConnectionVariableArrayModel';global.tab.DataConnectionVariableArrayModel=cn;var co=function(e,hM){this.$3=null;this.$2=null;ey.call(this,e,new fd(hM.toString()))};co.__typeName='tab.DataConnectionVariableModel';global.tab.DataConnectionVariableModel=co;var cp=function(e){ey.call(this,e,new fd('variableValues'.toString(),1))};cp.__typeName='tab.DataConnectionVariableValueArrayModel';global.tab.DataConnectionVariableValueArrayModel=cp;var cq=function(e,hM){ey.call(this,e,new fd(hM.toString()))};cq.__typeName='tab.DataConnectionVariableValueModel';global.tab.DataConnectionVariableValueModel=cq;var cr=function(e){this.$2=null;ey.call(this,e,new fd('dataDictionary'.toString()))};cr.__typeName='tab.DataDictionaryModel';global.tab.DataDictionaryModel=cr;var cs=function(e){this.$3=null;this.$2$1=null;ey.call(this,e,new fd('dataHighlighter'.toString()))};cs.__typeName='tab.DataHighlighterModel';global.tab.DataHighlighterModel=cs;var ct=function(e){this.$2=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.dataSources=null;this.currentBlendingFields=null;this.blendingFieldCandidates=null;ey.call(this,e,new fd('dataSchema'.toString()));this.dataSources=null};ct.__typeName='tab.DataSchemaModel';global.tab.DataSchemaModel=ct;var cu=function(e){this.$2$1=null;this.$2$2=null;this.numRows=0;this.isEmpty=false;this.isExtract=false;this.columnInfoLookup=null;this.dataDictionaryModel=null;ey.call(this,e,new fd('',0));this.numRows=0;this.isEmpty=true;this.isExtract=false;this.columnInfoLookup=null;this.dataDictionaryModel=new cr(this)};cu.__typeName='tab.DataSourceDataModel';global.tab.DataSourceDataModel=cu;var cv=function(e,hM){this.$1=null;this.$2$1=null;this.$2$2=null;this.baseColumnsModel=null;this.$2$3=0;ey.call(this,e,new fd(hM,0));this.baseColumnsModel=new cT('fieldList',this)};cv.__typeName='tab.DataSourceModel';cv.splitGlobalFieldName=function(e){return cv.$0(e).split('].[')};cv.$0=function(e){var hM=e;if(hM.length>=2&&hM.charCodeAt(0)===91&&hM.charCodeAt(hM.length-1)===93){return hM.substr(1,hM.length-2)}return hM};global.tab.DataSourceModel=cv;var cw=function(e){this.$1=null;ey.call(this,e,new fd('dataSources'.toString()));this.$1={}};cw.__typeName='tab.DataSourcesModel';global.tab.DataSourcesModel=cw;var cx=function(e,hM){this.$5=null;this.$6=null;this.$5=e;this.$6=hM};cx.__typeName='tab.DefaultSessionErrorHandler';global.tab.DefaultSessionErrorHandler=cx;var cy=function(){this.$1=false;this.$0=false};cy.__typeName='tab.DeferLayoutImpl';cy.get_instance=function(){if(ss.isNullOrUndefined(cy.$0)){cy.$0=new cy}return cy.$0};global.tab.DeferLayoutImpl=cy;var cz=function(e){this.$2=null;this.$3=tab.FeatureFlags.isEnabled('SkipConnectionsDuringLoad');this.$2=e};cz.__typeName='tab.DeferredConnectionsCommandHandler';cz.shouldHandleWithGivenStatus=function(e){switch(e){case 401:case 503:case 500:{return true}default:{return false}}};cz.$0=function(e){var hM={};hM['exception']='DataSourceException';hM['name']=e.datasourceCaption;hM['message']=e.exceptionMessage;hM['type']=e.exceptionType;hM['authoring']=tsConfig.is_authoring;hM['attributes']=e.exceptionAttrs;var hN=ss.formatString('{0}/{1}/embeddedVizAuthentication.html?',tab.BrowserSupport.getOrigin(document.location),tsConfig.language);hN=ss.formatString('{0}path={1}',hN,encodeURIComponent(tsConfig.requestURI));hN=ss.formatString('{0}&attributes={1}',hN,encodeURIComponent(JSON.stringify(hM)));return hN};cz.$1=function(e){e=e.toLowerCase();var hM=ss.equalsT('badpassword',e)||ss.equalsT('badoauthcredentials',e)||ss.equalsT('NoAssociatedCustomOAuthKey'.toLowerCase(),e);return hM};global.tab.DeferredConnectionsCommandHandler=cz;var cA=function(){this.$0=tab.FeatureFlags.isEnabled('SkipConnectionsDuringLoad')};cA.__typeName='tab.DeferredConnectionsSessionErrorHandler';global.tab.DeferredConnectionsSessionErrorHandler=cA;var cB=function(){this.$0=null;this.exceptionHandler=null};cB.__typeName='tab.DeferredModelEventHandler';global.tab.DeferredModelEventHandler=cB;var cC=function(e){this.$1=null;this.$2=null;this.$2$1=null;ey.call(this,e,new fd('deviceLayoutInfoItem'.toString()));this.$1=[];this.$2=new k(new j(this))};cC.__typeName='tab.DeviceLayoutInfoItemModel';global.tab.DeviceLayoutInfoItemModel=cC;var cD=function(){this.$3=[];this.$2=null};cD.__typeName='tab.DialogLifetimeManager';global.tab.DialogLifetimeManager=cD;var cE=function(){};cE.__typeName='tab.DialogPlugins';cE.$0=function(e,hM){eC.registerRawJsModule(e,e+'.min',e).andLoadOnDemandIf(true).moduleBeingConfigured.addDependency(cE.$1);eG.registerHandlerFromJsModule(e,hM,function(hN){return new eZ(hN,hM,document.body)})};global.tab.DialogPlugins=cE;var cF=function(e){this.$3$1=null;this.$3$2=null;gQ.call(this,e,new fd('differenceTableCalcPresModel'.toString()));this.set_referenceModel(new gF(this))};cF.__typeName='tab.DifferenceTableCalcModel';global.tab.DifferenceTableCalcModel=cF;var cG=function(){ss.makeGenericType(O,[Object,cH]).call(this)};cG.__typeName='tab.DoubleClickRegionNoReturnServerCmd';global.tab.DoubleClickRegionNoReturnServerCmd=cG;var cH=function(e){this.$$c=null;this.$$c=e};cH.__typeName='tab.DoubleClickRegionNoReturnServerCmd$Response';global.tab.DoubleClickRegionNoReturnServerCmd$Response=cH;var cI=function(){};cI.__typeName='tab.DrawItemFontExtractor';global.tab.DrawItemFontExtractor=cI;var cJ=function(e){this.$1=null;cS.call(this,e)};cJ.__typeName='tab.DrillPathModel';global.tab.DrillPathModel=cJ;var cK=function(e){ey.call(this,e,new fd('',0))};cK.__typeName='tab.DSColumnInfoModel';global.tab.DSColumnInfoModel=cK;var cL=function(e,hM){this.$2$1=null;ey.call(this,e,new fd(hM.toString()))};cL.__typeName='tab.EditValueWidgetModel';global.tab.EditValueWidgetModel=cL;var cM=function(e){this.$0=null;this.$0=e.slice(0)};cM.__typeName='tab.ErrorHandlerChain';global.tab.ErrorHandlerChain=cM;var cN=function(){};cN.__typeName='tab.ExportServerCommands';cN.exportImage=function(e,hM,hN,hO,hP){var hQ={};if(ss.isValue(e)){hQ['sheet']=e}hQ['storyPointId']=hM;hQ['scrollOffsetSheets']=JSON.stringify(hO);var hR=hP.length;var hS=new Array(hR);for(var hT=0;hT<hR;hT++){var hU={};hU.x=ss.round(hP[hT].x);hU.y=ss.round(hP[hT].y);hS[hT]=hU}hQ['scrollOffsetPoints']=JSON.stringify(hS);var hV=bK.newCommand$1('png-export-server',hQ);fO.executeServerCommand(hV,'immediately',function(hW){var hX=hW;var hY=bu.get().get_legacySession();hY.fileDownloadHelper.openDownload(hY.formatSessionTempfileReference(hX.tempfileKey,true,true),hN)},null)};global.tab.ExportServerCommands=cN;var cO=function(){};cO.__typeName='tab.ExtraHtmlMarkupRemover';cO.stripOutMarkup=function(e){if(ss.isNullOrEmptyString(e)){return e}var hM=[];hM.push(new RegExp('<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>','gi'));hM.push(new RegExp('<html.*?>.+?</html.*?>','gi'));var hN=hM;for(var hO=0;hO<hN.length;hO++){var hP=hN[hO];e=e.replace(hP,'')}return e};global.tab.ExtraHtmlMarkupRemover=cO;var cP=function(){};cP.__typeName='tab.FailureHandler';cP.reportFailures=function(){if(tab.ErrorTrace.hasTraces()){var e=tab.ErrorTrace.dequeueTraces();var hM={};var hN=e[0].url;var hO=e[0].userAgent;var hP=0;for(var hQ=0;hQ<e.length;hQ++){var hR=e[hQ];hM['Error #'+hP.toString()]=cP.postContentForStackTrace(hR);hP++}bu.get().get_legacySession().$7(hN,hO,hM)}};cP.postContentForStackTrace=function(e){var hM=new ss.StringBuilder;hM.appendLine('name: '+e.name);hM.appendLine('message: '+e.message);hM.appendLine('error-mode: '+e.traceMode.toString());if(ss.isValue(e.locations)){hM.appendLine('stack:');for(var hN=0;hN<e.locations.length;hN++){var hO=e.locations[hN];if(ss.isNullOrUndefined(hO.url)&&ss.isNullOrUndefined(hO.lineNo)&&ss.isNullOrUndefined(hO.functionName)){continue}hM.appendLine();hM.append(hO.url+':'+hO.lineNo+','+hO.columnNo+' '+hO.functionName);if(ss.isValue(hO.context)&&hO.context.length>0){for(var hP=0;hP<hO.context.length;hP++){var hQ=hO.context[hP];var hR=hQ;if(hQ.length>120){if(ss.isValue(hO.functionName)&&hQ.indexOf(hO.functionName)>0){var hS=hQ.indexOf(hO.functionName);var hT=Math.max(0,hS-60);var hU=Math.min(hT+120,hQ.length-1);hR=hQ.substring(hT,hU)}else{hR=hQ.substr(0,120)}}hM.append('    '+hR.trim())}}}}return hM.toString()};cP.dispose=function(){cP.reportFailures();window.clearInterval(cP.$2);cP.$2=-1};global.tab.FailureHandler=cP;var cQ=function(e){cS.call(this,e)};cQ.__typeName='tab.FieldColumnModel';global.tab.FieldColumnModel=cQ;var cR=function(){};cR.__typeName='tab.FieldInstanceType';global.tab.FieldInstanceType=cR;var cS=function(e){ey.call(this,e,new fd('field'.toString()))};cS.__typeName='tab.FieldModel';global.tab.FieldModel=cS;var cT=function(e,hM){this.$9=null;this.$e=null;this.$d=null;this.$c=null;this.$a=null;this.$b=null;this.fieldsChanged=null;this.rootFields=null;ey.call(this,hM,new fd(e,0));this.$b=hM;this.$9={};this.$e={};this.$d={};this.$c={}};cT.__typeName='tab.FieldsModel';global.tab.FieldsModel=cT;var cU=function(e){this.$2=0;this.$0=null;this.cl={};this.$1=0;this.$2=e;this.$0=new Array(e)};cU.__typeName='tab.FifoCache';global.tab.FifoCache=cU;var cV=function(e,hM){this.$2=null;this.$3=null;this.$2=e;this.$3=hM};cV.__typeName='tab.FileDownloadHelper';global.tab.FileDownloadHelper=cV;var cW=function(){};cW.__typeName='tab.FilterClientCommands';cW.setQuantitativeFilterRange=function(e,hM,hN,hO,hP){var hQ=bK.newCommand('range-filter',{});bK.addVisualIdToCommand(hQ.commandParams,e);hQ.commandParams['globalFieldName']=hM;if(ss.isValue(hN)){hQ.commandParams['filterRangeMin']=hN.toString()}if(ss.isValue(hO)){hQ.commandParams['filterRangeMax']=hO.toString()}hQ.commandParams['included']=hP.toString();fO.executeServerCommand(hQ,'immediately')};cW.setCategoricalFilterValues=function(e,hM,hN,hO,hP){var hQ={};bK.addVisualIdToCommand(hQ,e);hQ['globalFieldName']=hM;hQ['filterValues']=JSON.stringify(hO||[]);hQ['filterUpdateType']=hN.toString();hQ['heuristicCommandReinterpretation']=hP;fO.executeServerCommand(bK.newCommand('categorical-filter',hQ),'immediately')};cW.setCategoricalFilterValuesByIndex=function(e,hM,hN,hO){if(!ss.isValue(hN)){hN='filter-replace'}if(!ss.isValue(hO)){hO=[]}var hP={};bK.addVisualIdToCommand(hP,e);hP['globalFieldName']=hM;hP['filterIndices']=JSON.stringify(hO);hP['filterUpdateType']=hN.toString();fO.executeServerCommand(bK.newCommand('categorical-filter-by-index',hP),'immediately')};cW.modifyCategoricalFilterValues=function(e,hM,hN,hO,hP){if((!ss.isValue(hN)||hN.length===0)&&(!ss.isValue(hO)||hO.length===0)){return}var hQ={};bK.addVisualIdToCommand(hQ,e);hQ['globalFieldName']=hM;if(ss.isValue(hN)&&hN.length>0){hQ['filterAdd']=JSON.stringify(hN)}if(ss.isValue(hO)&&hO.length>0){hQ['filterRemove']=JSON.stringify(hO)}hQ['filterUpdateType']='filter-delta'.toString();if(hP){hQ['filterUpdateQualifierType']='filter-update-custom-domain'.toString()}fO.executeServerCommand(bK.newCommand('categorical-filter',hQ),'immediately')};cW.modifyCategoricalFilterValuesByIndex=function(e,hM,hN,hO){if((!ss.isValue(hN)||hN.length===0)&&(!ss.isValue(hO)||hO.length===0)){return}var hP={};bK.addVisualIdToCommand(hP,e);hP['globalFieldName']=hM;if(ss.isValue(hN)){hP['filterAddIndices']=JSON.stringify(hN)}if(ss.isValue(hO)){hP['filterRemoveIndices']=JSON.stringify(hO)}hP['filterUpdateType']='filter-delta'.toString();fO.executeServerCommand(bK.newCommand('categorical-filter-by-index',hP),'immediately')};cW.setCategoricalQuickFilterMode=function(e,hM,hN){var hO={};bK.addVisualIdToCommand(hO,e);hO['categoricalMode']=hN.toString();hO['fn']=hM;fO.executeServerCommand(bK.newCommand('categorical-quick-filter-mode',hO),'immediately')};cW.setCategoricalQuickFilterDomain=function(e,hM,hN){var hO={};bK.addVisualIdToCommand(hO,e);hO['filterDomainType']=hN.toString();hO['fn']=hM;fO.executeServerCommand(bK.newCommand('domain-quick-filter',hO),'immediately')};cW.setPatternFilterState=function(e,hM,hN){var hO={};bK.addVisualIdToCommand(hO,e);hO['patternFilterString']=hN;hO['fn']=hM;fO.executeServerCommand(bK.newCommand('categorical-quick-filter-pattern',hO),'immediately')};cW.addManualFilterItems=function(e,hM,hN){var hO={charsetId:0,name:''};var hP={dataType:'cstring',stringCollation:hO};var hQ=hN['tuples'];var hR=[];for(var hS=0;hS<hQ.length;hS++){var hT=hQ[hS];hR.push(hT['d'])}hP.dataValues=hR;var hU={};bK.addVisualIdToCommand(hU,e);hU['dataColumn']=JSON.stringify(hP);hU['fn']=hM;fO.executeServerCommand(bK.newCommand('add-manual-items-to-filter',hU),'immediately')};cW.levelDrill=function(e,hM,hN,hO){var hP={};bK.addVisualIdToCommand(hP,e);hP['boolAggregateDrillUp']=hO.toString();hP['shelfType']=hN.toString();hP['position']=hM.toString();fO.executeServerCommand(bK.newCommand('level-drill-up-down',hP),'immediately')};cW.updateCategoricalFilter=function(e){if(!N.get_instance().get_isLocalRenderMode()){return}var hM=function(){return true};var hN=function(hO,hP){var hQ=hi.lookupAlias(hP,hO,N.get_instance().get_dataDictionary());return!e.includesValue(hQ)};cW.$5(e.get_filterField(),e.get_targetSheets(),hM,hN,true)};cW.updateQuantitativeFilter=function(e){if(!N.get_instance().get_isLocalRenderMode()){return}var hM=function(){var hO=!ss.isValue(e.get_currentMinVal())||ss.isValue(e.get_previousMinVal())&&tab.DoubleUtil.isGreaterThanOrApproximatelyEqual(ss.unbox(e.get_currentMinVal()),ss.unbox(e.get_previousMinVal()));var hP=!ss.isValue(e.get_currentMaxVal())||ss.isValue(e.get_previousMaxVal())&&tab.DoubleUtil.isLessThanOrApproximatelyEqual(ss.unbox(e.get_currentMaxVal()),ss.unbox(e.get_previousMaxVal()));return hO&&hP};var hN=function(hO,hP){var hQ=hi.lookupRawDataValue(hP,hO,N.get_instance().get_dataDictionary());if(ss.isNullOrUndefined(hQ)||hQ==='%null%'){return false}if(hO.get_dataType()==='date'||hO.get_dataType()==='datetime'){var hR=tab.DateUtil.parsePresModelDate(hQ);return!e.valueInRange(tab.DateUtil.dateTimeAsOleDate(hR))}else{return!e.valueInRange(parseFloat(hQ))}};cW.$5(e.get_filterField(),e.get_targetSheets(),hM,hN,false)};cW.applyFilter=function(e,hM,hN){var hO=e.get_vizDataModel();var hP=hO.getVizDataField(hM);var hQ=function(hR){return hN(hP,hR)};return hP.tupleIdsThatPass(hQ)};cW.doRelativeDateQuickFilter=function(e,hM,hN,hO,hP){var hQ=cW.createDoRelativeDateQuickFilterParams(e,hM,hN,hO,hP);fO.executeServerCommand(bK.newCommand('relative-date-filter',hQ),'immediately')};cW.doLevelHierarchialFilter=function(e,hM,hN,hO,hP){var hQ=cW.$2(e,hM,hN,hO,hP);fO.executeServerCommand(bK.newCommand('hierarchical-filter',hQ),'immediately')};cW.doMemberHierarchialFilter=function(e,hM,hN,hO,hP){var hQ=cW.$3(e,hM,hN,hO,hP);fO.executeServerCommand(bK.newCommand('hierarchical-filter',hQ),'immediately')};cW.doRangeHierarchialFilter=function(e,hM,hN,hO,hP){var hQ=cW.$4(e,hM,hN,hO,hP);fO.executeServerCommand(bK.newCommand('hierarchical-filter',hQ),'immediately')};cW.resetQuantitativeFilter=function(e,hM){for(var hN=0;hN<hM.length;hN++){var hO=hM[hN];var hP=eB.getVisualModel(N.get_instance(),hO);if(ss.isNullOrUndefined(hP)){continue}if(cW.$0(e,hO)){var hQ=[];hP.setFilteredTuples(e,hQ);hP.setHiddenTuples(e,hQ)}hg.validateVisualModel(hP)}};cW.createDoRelativeDateQuickFilterParams=function(e,hM,hN,hO,hP,hQ,hR){var hS={};bK.addVisualIdToCommand(hS,e);hS['globalFieldName']=hM;hS['datePeriodType']=hN;hS['dateRangeType']=hO;if(hO==='lastn'||hO==='nextn'){hS['rangeN']=hP}if(ss.isValue(hQ)){hS['anchorDate']=hQ}if(ss.isValue(hR)){hS['included']=hR}return hS};cW.$2=function(e,hM,hN,hO,hP){var hQ={};bK.addVisualIdToCommand(hQ,e);var hR={};hR['filterLevelAdd']=hN;hR['filterLevelRemove']=hO;hQ['globalFieldName']=hM;hQ['filterOptions']=hR;hQ['filterUpdateType']=hP;return hQ};cW.$3=function(e,hM,hN,hO,hP){var hQ={};bK.addVisualIdToCommand(hQ,e);var hR={};hR['filterAdd']=hN;hR['filterRemove']=hO;hQ['globalFieldName']=hM;hQ['filterOptions']=hR;hQ['filterUpdateType']=hP;return hQ};cW.$4=function(e,hM,hN,hO,hP){var hQ={};bK.addVisualIdToCommand(hQ,e);var hR={};hR['filterRangeAdd']=hN;hR['filterRangeRemove']=hO;hQ['globalFieldName']=hM;hQ['filterOptions']=hR;hQ['filterUpdateType']=hP;return hQ};cW.$0=function(e,hM){var hN=eB.getVisualModel(N.get_instance(),hM);return cW.$1(hN,e)};cW.$1=function(e,hM){if(ss.isValue(e)){return e.get_shouldUpdate()&&e.hasFilterFieldData(hM)}return false};cW.$5=function(e,hM,hN,hO,hP){var hQ=new z(function(hR){for(var hS=0;hS<hM.length;hS++){var hT=hM[hS];var hU=eB.getVisualModel(N.get_instance(),hT);if(ss.isNullOrUndefined(hU)){continue}var hV=cW.$1(hU,e);if(!hV||!hN()||ss.isNullOrUndefined(hU.get_vizDataModel().getVizDataField(e))){if(!hP){eB.setVisualValidStateOnModel(hR,hU,false)}}else{var hW=[];hW=cW.applyFilter(hU,e,hO);hU.setFilteredTuples(e,hW);if(!hP){hU.setHiddenTuples(e,hW)}eB.setVisualValidStateOnModel(hR,hU,true)}}});hQ.set_commandName((hP?'categorical-filter'.toString():'range-filter'.toString()));bu.SendCommand(hQ)};global.tab.FilterClientCommands=cW;var cX=function(e){this.$1=null;this.$2$1=null;ey.call(this,e,new fd('flipboard'.toString()));this.$1=new gz(this);if((!tsConfig.is_authoring||tab.FeatureFlags.isEnabled('StoryPointCache'))&&ss.isNullOrUndefined(cX.presModelCache)){cX.presModelCache=new gA}};cX.__typeName='tab.FlipboardModel';global.tab.FlipboardModel=cX;var cY=function(e){this.$3=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;ey.call(this,e,new fd('flipboardNav'.toString()));this.$3=[]};cY.__typeName='tab.FlipboardNavigatorModel';global.tab.FlipboardNavigatorModel=cY;var cZ=function(){};cZ.__typeName='tab.FloatingToolbarClientCommands';cZ.setDefaultMapToolSelectionCommand=function(e){var hM=bK.newCommand('default-map-tool-selection',null);hM.commandParams={};hM.commandParams['defaultMapToolEnum']=e;bu.SendCommand(new fp(hM,'immediately',null,null))};global.tab.FloatingToolbarClientCommands=cZ;var da=function(e){this.$1=null;cS.call(this,e)};da.__typeName='tab.FolderModel';global.tab.FolderModel=da;var db=function(){};db.__typeName='tab.FontNotificationUtil';db.add_fontPropertiesIdentified=function(e){db.$1$1=ss.delegateCombine(db.$1$1,e)};db.remove_fontPropertiesIdentified=function(e){db.$1$1=ss.delegateRemove(db.$1$1,e)};db.add_allFontsFound=function(e){db.$1$2=ss.delegateCombine(db.$1$2,e)};db.remove_allFontsFound=function(e){db.$1$2=ss.delegateRemove(db.$1$2,e)};db.notifyFontsFromVisualListPresModel=function(e){if(ss.isNullOrUndefined(e)){return}var hM=new dC;var hN={type:'draw-group',drawItems:e.drawItems};db.$6(hM.extractFontFromPresModel(hN))};db.notifyFontsFromTextRegionPresModel=function(e){if(ss.isNullOrUndefined(e)){return}db.$6(db.$3(e.html))};db.getFontsFromUberTipDataPresModel=function(e){if(ss.isNullOrUndefined(e)){return[]}var hM={};for(var hN=0;hN<e.ubertipPaneDatas.length;hN++){var hO=e.ubertipPaneDatas[hN];var hP=db.$3(hO.htmlTooltip);for(var hQ=0;hQ<hP.length;hQ++){var hR=hP[hQ];db.$1(hM,hR)}}return _.values(hM)};db.notifyFontsFromUberTipDataPresModel=function(e){db.$6(db.getFontsFromUberTipDataPresModel(e))};db.notifyFontsFromPagePresModel=function(e){if(ss.isNullOrUndefined(e)){return}db.$6(db.$3(e.titleHtml))};db.notifyFontsFromQuantitativeColorLegendPresModel=function(e){if(ss.isNullOrUndefined(e)){return}var hM={};db.$1(hM,db.$4(e.labelTextStyle));db.$2(hM,e.titleHtml);db.$6(_.values(hM))};db.notifyFontsFromCategoricalLegendPresModel=function(e){if(ss.isNullOrUndefined(e)){return}var hM={};db.$1(hM,db.$4(e.textStyle));db.$1(hM,db.$4(e.titleStyleModel));db.$1(hM,db.$4(e.selectedTextStyleModel));db.$2(hM,e.titleHtml);db.$6(_.values(hM))};db.notifyFontsFromServerRenderedLegendPresModel=function(e){if(ss.isNullOrUndefined(e)){return}var hM={};db.$2(hM,e.titleHtml);db.$6(_.values(hM))};db.notifyFontsFromUberTipPresModel=function(e){if(ss.isNullOrUndefined(e)){return}db.$6(db.$3(e.htmlTooltip))};db.$3=function(e){var hM={};db.$2(hM,e);return _.values(hM)};db.$4=function(e){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.fontName)){return new dc}var hM=new dc;hM.set_fontFamily(e.fontName);hM.set_weight(ss.coalesce(e.fontWeight,''));hM.set_style(ss.coalesce(e.fontStyle,''));return hM};db.notifyFontsFromTextStylePresModel=function(e){var hM=[];var hN=db.$4(e);if(!ss.isNullOrEmptyString(hN.get_fontFamily())){hM.push(hN)}db.$6(hM)};db.notifyFontsFromPDMarksPresModel=function(e){if(ss.isValue(e)&&ss.isValue(e.textStyleColumns)){var hM=e.textStyleColumns;if(ss.keyExists(hM,'font')){var hN=hM['font'];var hO=hN.dataValues.length;var hP={};for(var hQ=0;hQ<hO;hQ++){db.$0(hP,hM,hQ)}if(ss.getKeyCount(hP)>0){db.$6(_.values(hP))}}}};db.$1=function(e,hM){if(ss.isNullOrEmptyString(hM.get_fontFamily())){return}e[hM.get_hash()]=hM};db.$2=function(e,hM){if(ss.isNullOrEmptyString(hM)){return}var hN=$(hM).find('[style]').addBack();for(var hO=0;hO<hN.length;hO++){var hP=hN[hO].style.fontFamily;var hQ=hN[hO].style.fontWeight;if(ss.isNullOrEmptyString(hP)){continue}var hR=new dc;hR.set_fontFamily(hP);hR.set_weight(hQ);db.$1(e,hR)}};db.$0=function(e,hM,hN){var hO='';var hP='';var hQ='';if(ss.keyExists(hM,'font_style')&&parseInt(hM['font_style'].dataValues[hN].toString())===1){hP='italic'}if(ss.keyExists(hM,'font_weight')&&parseInt(hM['font_weight'].dataValues[hN].toString())===1){hO='bold'}if(ss.keyExists(hM,'font')){hQ=hM['font'].dataValues[hN].toString()}if(ss.isNullOrEmptyString(hQ)){return}var hR=new dc;hR.set_fontFamily(hQ);hR.set_weight(hO);hR.set_style(hP);var hS=hR;db.$1(e,hS)};db.$6=function(e){if(!ss.staticEquals(db.$1$1,null)&&!tab.MiscUtil.isNullOrEmpty(e)){db.$1$1(e)}};db.$5=function(){if(!ss.staticEquals(db.$1$2,null)){db.$1$2()}};global.tab.FontNotificationUtil=db;var dc=function(){this.$2='normal';this.$3='normal';this.$1='';this.$0=''};dc.__typeName='tab.FontProperties';global.tab.FontProperties=dc;var dd=function(e){this.$5=null;this.$6=false;this.$4=ss.mkdict(['line-drop',1]);this.$3$1=null;dg.call(this,e)};dd.__typeName='tab.FormatContainerModel';dd.get_formatPaneModel=function(){return N.get_instance().get_workbook().get_formatPaneModel()};global.tab.FormatContainerModel=dd;var de=function(e){dg.call(this,e)};de.__typeName='tab.FormatControlModel';global.tab.FormatControlModel=de;var df=function(){};df.__typeName='tab.FormatItemExtensions';df.hasPreview=function(e){return e==='compositeContainer'||e==='tabGroup'};global.tab.FormatItemExtensions=df;var dg=function(e){this.$2$1=null;ey.call(this,e,new fd('formatItem'.toString()))};dg.__typeName='tab.FormatItemModel';dg.createModel=function(e,hM,hN){switch(hM.typeOfFormatItem){case'formatContainer':{var hO=new dd(e);hO.update(hM,hN);return hO}case'formatControl':{var hP=new de(e);hP.update(hM,hN);return hP}default:{return null}}};global.tab.FormatItemModel=dg;var dh=function(){ss.makeGenericType(O,[Object,di]).call(this)};dh.__typeName='tab.GetAlertMeasuresFromSelectionCmd';global.tab.GetAlertMeasuresFromSelectionCmd=dh;var di=function(e){this.$$c=null;this.$$c=e};di.__typeName='tab.GetAlertMeasuresFromSelectionCmd$Response';global.tab.GetAlertMeasuresFromSelectionCmd$Response=di;var dj=function(){ss.makeGenericType(O,[Object,dk]).call(this)};dj.__typeName='tab.GetCharsetOptionsCmd';global.tab.GetCharsetOptionsCmd=dj;var dk=function(e){this.$$c=null;this.$$c=e};dk.__typeName='tab.GetCharsetOptionsCmd$Response';global.tab.GetCharsetOptionsCmd$Response=dk;var dl=function(){ss.makeGenericType(O,[Object,dm]).call(this)};dl.__typeName='tab.GetDashboardDragDropCmd';global.tab.GetDashboardDragDropCmd=dl;var dm=function(e){this.$$c=null;this.$$c=e};dm.__typeName='tab.GetDashboardDragDropCmd$Response';global.tab.GetDashboardDragDropCmd$Response=dm;var dn=function(){ss.makeGenericType(O,[Object,dp]).call(this)};dn.__typeName='tab.GetDashboardSizingCmd';global.tab.GetDashboardSizingCmd=dn;var dp=function(e){this.$$c=null;this.$$c=e};dp.__typeName='tab.GetDashboardSizingCmd$Response';global.tab.GetDashboardSizingCmd$Response=dp;var dq=function(){ss.makeGenericType(O,[Object,dr]).call(this)};dq.__typeName='tab.GetDataSourceDataPresModelCmd';global.tab.GetDataSourceDataPresModelCmd=dq;var dr=function(e){this.$$c=null;this.$$c=e};dr.__typeName='tab.GetDataSourceDataPresModelCmd$Response';global.tab.GetDataSourceDataPresModelCmd$Response=dr;var ds=function(){ss.makeGenericType(O,[Object,dt]).call(this)};ds.__typeName='tab.GetLocaleOptionsCmd';global.tab.GetLocaleOptionsCmd=ds;var dt=function(e){this.$$c=null;this.$$c=e};dt.__typeName='tab.GetLocaleOptionsCmd$Response';global.tab.GetLocaleOptionsCmd$Response=dt;var du=function(){ss.makeGenericType(O,[Object,dv]).call(this)};du.__typeName='tab.GetThumbnailCmd';global.tab.GetThumbnailCmd=du;var dv=function(e){this.$$c=null;this.$$c=e};dv.__typeName='tab.GetThumbnailCmd$Response';global.tab.GetThumbnailCmd$Response=dv;var dw=function(){ss.makeGenericType(O,[Object,dx]).call(this)};dw.__typeName='tab.GetURLSubstitutionKeywordsCmd';global.tab.GetURLSubstitutionKeywordsCmd=dw;var dx=function(e){this.$$c=null;this.$$c=e};dx.__typeName='tab.GetURLSubstitutionKeywordsCmd$Response';global.tab.GetURLSubstitutionKeywordsCmd$Response=dx;var dy=function(){ss.makeGenericType(O,[Object,dz]).call(this)};dy.__typeName='tab.GetWebCategoricalColorDialogCmd';global.tab.GetWebCategoricalColorDialogCmd=dy;var dz=function(e){this.$$c=null;this.$$c=e};dz.__typeName='tab.GetWebCategoricalColorDialogCmd$Response';global.tab.GetWebCategoricalColorDialogCmd$Response=dz;var dA=function(){ss.makeGenericType(O,[Object,dB]).call(this)};dA.__typeName='tab.GetWebQuantitativeColorDialogCmd';global.tab.GetWebQuantitativeColorDialogCmd=dA;var dB=function(e){this.$$c=null;this.$$c=e};dB.__typeName='tab.GetWebQuantitativeColorDialogCmd$Response';global.tab.GetWebQuantitativeColorDialogCmd$Response=dB;var dC=function(){};dC.__typeName='tab.GroupFontExtractor';global.tab.GroupFontExtractor=dC;var dD=function(e){cQ.call(this,e)};dD.__typeName='tab.GroupModel';global.tab.GroupModel=dD;var dE=function(){ss.makeGenericType(O,[Object,dF]).call(this)};dE.__typeName='tab.HighlightItemsByPatternMatchCmd';global.tab.HighlightItemsByPatternMatchCmd=dE;var dF=function(e){this.$$c=null;this.$$c=e};dF.__typeName='tab.HighlightItemsByPatternMatchCmd$Response';global.tab.HighlightItemsByPatternMatchCmd$Response=dF;var dG=function(){};dG.__typeName='tab.HistoryManager';dG.setInitialState=function(e){var hM=dG.$1(e,null);tab.HistoryUtil.replaceState(window.self,hM.associatedState,null,null)};dG.addToHistory=function(e,hM){var hN=dG.$1(e,hM);tab.HistoryUtil.pushState(window.self,hN.associatedState,null,null);return hN};dG.$1=function(e,hM){dG.$0();var hN={id:dG.$8,key:'_vql_state_'};var hO={onBack:e,onForward:hM,id:dG.$8,associatedState:hN};dG.$8++;dG.$5.set(hO.id,hO);dG.$7=dG.$8;return hO};dG.$0=function(){if(dG.$7<dG.$8){for(var e=dG.$7+1;e<=dG.$8;e++){dG.$5.delete(e)}}};dG.$3=function(e){if(ss.isNullOrUndefined(e)){return}var hM=e;if(ss.isNullOrUndefined(hM.state)||ss.isNullOrUndefined(hM.state.key)||hM.state.key!=='_vql_state_'){return}dG.$4(hM.state)};dG.$4=function(e){var hM=e.id<dG.$7;var hN=dG.$5.get(e.id);if(ss.isNullOrUndefined(hN)){return}dG.$2(hM,hN);dG.$7=e.id};dG.$2=function(e,hM){if(e){if(!ss.staticEquals(hM.onBack,null)){hM.onBack()}}else if(!ss.staticEquals(hM.onForward,null)){hM.onForward()}};global.tab.HistoryManager=dG;var dH=function(){ss.makeGenericType(O,[Object,dI]).call(this)};dH.__typeName='tab.HitTestSceneCmd';global.tab.HitTestSceneCmd=dH;var dI=function(e){this.$$c=null;this.$$c=e};dI.__typeName='tab.HitTestSceneCmd$Response';global.tab.HitTestSceneCmd$Response=dI;var dJ=function(){};dJ.__typeName='tab.HTMLEscape';global.tab.HTMLEscape=dJ;var dK=function(){};dK.__typeName='tab.IBrushingModelInfo';global.tab.IBrushingModelInfo=dK;var dL=function(){};dL.__typeName='tab.ICommandModel';global.tab.ICommandModel=dL;var dM=function(){};dM.__typeName='tab.IContinuousRangeModel';global.tab.IContinuousRangeModel=dM;var dN=function(){};dN.__typeName='tab.IDataSourceDataNotification';global.tab.IDataSourceDataNotification=dN;var dO=function(){};dO.__typeName='tab.IDetachableNotificationHandler';global.tab.IDetachableNotificationHandler=dO;var dP=function(){};dP.__typeName='tab.IDrawItemFontExtractor';global.tab.IDrawItemFontExtractor=dP;var dQ=function(){};dQ.__typeName='tab.IExportImageHelper';global.tab.IExportImageHelper=dQ;var dR=function(){};dR.__typeName='tab.IExportPdfHelper';global.tab.IExportPdfHelper=dR;var dS=function(){};dS.__typeName='tab.IHandleNotifications';global.tab.IHandleNotifications=dS;var dT=function(){this.$1=0;this.$0=null;this.$1=0;this.$0=[]};dT.__typeName='tab.ImageTileTracker';dT.$0=function(){dT.$2=dT.$2||new dT;return dT.$2};dT.$1=function(){return tab.Logger.lazyGetLogger(dT)};dT.incrementPendingCount=function(){dT.$0().$1++};dT.decrementPendingCount=function(){var e=dT.$0();if(e.$1>0){--e.$1;if(e.$1===0){for(var hM=0;hM<e.$0.length;hM++){var hN=e.$0[hM];try{hN()}catch(hO){var e=ss.Exception.wrap(hO)}}dT.reset()}}else{}};dT.callWhenImagesLoaded=function(e){if(dT.$0().$1===0){try{e()}catch(hM){var e=ss.Exception.wrap(hM)}}else{dT.$0().$0.push(e)}};dT.reset=function(){dT.$2=null};global.tab.ImageTileTracker=dT;var dU=function(e){this.$1=null;this.$2$1=null;ey.call(this,e,new fd('imageZone'.toString()));this.$1=e.get_zone()};dU.__typeName='tab.ImageZoneModel';global.tab.ImageZoneModel=dU;var dV=function(){};dV.__typeName='tab.IModelEventHandler';global.tab.IModelEventHandler=dV;var dW=function(){this.primarySheet=null;this.suppressActivation=null;this.layoutStatus=null;this.cmdResult=null};dW.__typeName='tab.InvalidationInfo';global.tab.InvalidationInfo=dW;var dX=function(){};dX.__typeName='tab.IRemoteCommandHandler';global.tab.IRemoteCommandHandler=dX;var dY=function(){};dY.__typeName='tab.ISessionErrorHandler';global.tab.ISessionErrorHandler=dY;var dZ=function(){ss.makeGenericType(O,[Object,ea]).call(this)};dZ.__typeName='tab.IsWebZoneUrlValidCmd';global.tab.IsWebZoneUrlValidCmd=dZ;var ea=function(e){this.$$c=null;this.$$c=e};ea.__typeName='tab.IsWebZoneUrlValidCmd$Response';global.tab.IsWebZoneUrlValidCmd$Response=ea;var eb=function(e){this.moduleBeingConfigured=null;this.moduleBeingConfigured=e};eb.__typeName='tab.JsModuleConfigurationBuilder';global.tab.JsModuleConfigurationBuilder=eb;var ec=function(e,hM){this.moduleName=null;this.assemblyName=null;this.loadingMethod=null;this.isRawJavaScriptModule=false;this.shouldExportResult=false;this.exportResultName=null;this.$0=[];this.$1=[];tab.Param.verifyString(e,'moduleName');this.moduleName=e;this.assemblyName=ss.coalesce(hM,e);this.loadingMethod='asynchronous'};ec.__typeName='tab.JsModuleInfo';global.tab.JsModuleInfo=ec;var ed=function(e,hM){this.$1=null;this.$2$1=null;ey.call(this,e,new fd('layer-encoding['+hM+']'));this.$1=new ex(this)};ed.__typeName='tab.LayerEncodingModel';global.tab.LayerEncodingModel=ed;var ee=function(e,hM,hN){this.layoutid=null;P.call(this,e,hN);this.layoutid=hM};ee.__typeName='tab.LayoutSession';global.tab.LayoutSession=ee;var ef=function(e){this.$1=null;this.parent=null;this.$0=null;this.$0=e;this.$1=[]};ef.__typeName='tab.LayoutTreeItem';global.tab.LayoutTreeItem=ef;var eg=function(e){this.$5=null;this.$4=null;this.$2$1=null;this.rootNodes=null;ey.call(this,e,new fd('dashboardZoneHierarchy'.toString()));this.$5={};this.$4={};this.rootNodes=[]};eg.__typeName='tab.LayoutTreeModel';eg.$0=function(e){var hM={};if(ss.isValue(e)){for(var hN=0;hN<e.length;hN++){var hO=e[hN];hM[hO.zoneId]=new ef(hO)}}return hM};global.tab.LayoutTreeModel=eg;var eh=function(e,hM,hN,hO){this.$3=null;this.$0=null;this.$4=null;this.$1=false;this.$2=false;this.$3=e;this.$0=hM;this.$2=hN;if(ss.isValue(hO)){this.$4=hO}else{this.$4=[]}};eh.__typeName='tab.LegacyCategoricalQuickFilterData';global.tab.LegacyCategoricalQuickFilterData=eh;var ei=function(e,hM){ej.call(this,e,hM)};ei.__typeName='tab.LegacyCategoricalQuickFilterModel';global.tab.LegacyCategoricalQuickFilterModel=ei;var ej=function(e,hM){this.$2$1=null;ey.call(this,e,new fd('filter['+hM.name.join('_')+']'));this.pm=hM};ej.__typeName='tab.LegacyFilterModel';ej.$1=function(e){if(ss.isValue(e)){var hM={t:e.t,v:e.v};tableau.format.isDateTimeWithNonMidnightTime(hM)}return false};ej.isQuantitativeTimestampFilter=function(e,hM,hN){var hO=ej.$1(hM)||ej.$1(hN);if(!hO&&ss.isValue(e)){if(ss.isValue(e.data)){hO=hO||ej.$1(e.data.min)||ej.$1(e.data.max)}if(!hO&&ss.isValue(e.range)){hO=hO||ej.$1(e.range.min)||ej.$1(e.range.max)}}return hO};ej.$0=function(e){return e.t==='t'||e.t==='d'};ej.isQuantitativeDateFilter=function(e,hM,hN){if(ss.isValue(hM)){return ej.$0(hM)}else if(ss.isValue(hN)){return ej.$0(hN)}else if(ss.isValue(e)){if(ss.isValue(e.data)){if(ss.isValue(e.data.min)){return ej.$0(e.data.min)}else if(ss.isValue(e.data.max)){return ej.$0(e.data.max)}}if(ss.isValue(e.range)){if(ss.isValue(e.range.min)){return ej.$0(e.range.min)}else if(ss.isValue(e.range.max)){return ej.$0(e.range.max)}}}return false};ej.isNormalValue=function(e){return ss.isValue(e)&&(ss.isNullOrUndefined(e.s)||ss.isNullOrUndefined(e.s))&&ss.isValue(e.v)};ej.timestampsWithSameDateOrNull=function(e){var hM=null;for(var hN=0;hN<e.length;hN++){var hO=e[hN];if(ss.isNullOrUndefined(hO)||hO.s==='n'||ss.isNullOrUndefined(hO.v)&&hO.t==='t'){continue}if(!ej.isNormalValue(hO)||hO.t!=='t'){return false}var hP=(ss.Nullable$1.ge(hO.v,0)?Math.floor(hO.v):Math.ceil(hO.v));if(ss.isValue(hM)&&hP!==hM){return false}hM=hP}return ss.isValue(hM)};global.tab.LegacyFilterModel=ej;var ek=function(e,hM){ej.call(this,e,hM)};ek.__typeName='tab.LegacyHierarchicalQuickFilterModel';global.tab.LegacyHierarchicalQuickFilterModel=ek;var el=function(e){this.$2$1=null;ey.call(this,e,new fd('serverRenderedLegend'.toString()))};el.__typeName='tab.LegacyLegendModel';global.tab.LegacyLegendModel=el;var em=function(e,hM){ej.call(this,e,hM)};em.__typeName='tab.LegacyQuantitativeQuickFilterModel';global.tab.LegacyQuantitativeQuickFilterModel=em;var en=function(e){this.$2=null;this.$3=null;this.$2$1=null;ey.call(this,e,new fd('quickFilterDisplay'))};en.__typeName='tab.LegacyQuickFilterDisplayModel';global.tab.LegacyQuickFilterDisplayModel=en;var eo=function(e,hM){ej.call(this,e,hM)};eo.__typeName='tab.LegacyRelativeDateQuickFilterModel';global.tab.LegacyRelativeDateQuickFilterModel=eo;var ep=function(e,hM){this.$1=0;this.$0=0;fm.call(this);if(e<=hM){this.$1=e;this.$0=hM}else{this.$1=hM;this.$0=e}};ep.__typeName='tab.LinearRangeTransform';global.tab.LinearRangeTransform=ep;var eq=function(e,hM,hN,hO){this.$1=0;this.$0=null;this.$3=null;this.$2=false;this.$1=e;this.$0=hM;this.$3=hN;this.$2=hO};eq.__typeName='tab.LocalUbertipInfo';global.tab.LocalUbertipInfo=eq;var er=function(e,hM){var hN=function(hO){this.$0={};this.$2=new(ss.makeGenericType(i,[ss.makeGenericType(g,[e,hM])]));this.$1=0;this.$1=hO};ss.registerGenericClassInstance(hN,er,[e,hM],{add:function(hO,hP){var hQ=this.$0[hO];if(ss.isValue(hQ)){this.delete$1(hO)}if(ss.getKeyCount(this.$0)===this.$1){this.delete$1(this.$2.$3.$0.$0)}hQ=new(ss.makeGenericType(h,[ss.makeGenericType(g,[e,hM])]))(new(ss.makeGenericType(g,[e,hM]))(hO,hP));this.$0[hO]=hQ;this.$2.$0(hQ)},get:function(hO){var hP=this.$0[hO];if(ss.isValue(hP)){this.$2.$1(hP);this.$2.$0(hP);return hP.$0.$1}return ss.getDefaultValue(hM)},has:function(hO){return ss.keyExists(this.$0,hO)},delete$1:function(hO){if(!this.has(hO)){return}var hP=this.$0[hO];delete this.$0[hO];this.$2.$1(hP)},clear:function(){var hO=_.keys(this.$0);for(var hP=0,hQ=hO.length;hP<hQ;hP++){this.delete$1(hO[hP])}}},function(){return null},function(){return[]});return hN};er.__typeName='tab.LruCache$2';ss.initGenericClass(er,a,2);global.tab.LruCache$2=er;var es=function(e){this.$2$1=null;this.$2$2=null;ey.call(this,e,new fd('lightweightMapOptions'.toString()));this.pm={}};es.__typeName='tab.MapOptionsInfoModel';global.tab.MapOptionsInfoModel=es;var et=function(e){this.$2$1=null;ey.call(this,e,new fd('mapScaleInfo'.toString()))};et.__typeName='tab.MapScaleInfoModel';global.tab.MapScaleInfoModel=et;var eu=function(e){this.$3=null;this.$2=null;this.$2$1=null;this.$2$2=null;ey.call(this,e,new fd('mapServer'.toString()));this.$3=new fl(this);this.$2=new et(this)};eu.__typeName='tab.MapServerModel';global.tab.MapServerModel=eu;var ev=function(){gu.call(this,null,null,null,null,null)};ev.__typeName='tab.MarginDefinition';ev.$ctor1=function(e){gu.call(this,e.margin,e.marginLeft,e.marginRight,e.marginTop,e.marginBottom)};global.tab.MarginDefinition=ev;var ew=function(e){this.$3=[];this.$2=null;this.$2$1=null;ey.call(this,e,new fd('marksCardPresModel'.toString()))};ew.__typeName='tab.MarksCardModel';global.tab.MarksCardModel=ew;var ex=function(e){this.$2=null;this.$3=null;this.$2$1=null;ey.call(this,e,new fd('markSize'.toString()));this.$2=e};ex.__typeName='tab.MarkSizeModel';global.tab.MarkSizeModel=ex;var ey=function(e,hM){this.pm=null;this.presModelKey=null;this.parent=null;this.parent=e;this.presModelKey=hM};ey.__typeName='tab.Model';ey.nonWorldUpdate=function(e){var hM=new cB;try{e({eventHandler:hM})}finally{if(ss.isValue(hM)){hM.dispose()}}};global.tab.Model=ey;var ez=function(e){var hM=function(){this.$1=null;this.$0=new tab.DisposableHolder;this.$1$1=null;this.$1$2=null;this.$1$3=null};ss.registerGenericClassInstance(hM,ez,[e],{$2:function(hN){this.$1$1=ss.delegateCombine(this.$1$1,hN)},$3:function(hN){this.$1$1=ss.delegateRemove(this.$1$1,hN)},$6:function(hN){this.$1$2=ss.delegateCombine(this.$1$2,hN)},$7:function(hN){this.$1$2=ss.delegateRemove(this.$1$2,hN)},$4:function(hN){this.$1$3=ss.delegateCombine(this.$1$3,hN)},$5:function(hN){this.$1$3=ss.delegateRemove(this.$1$3,hN)},get_model:function(){return this.$1},set_model:function(hN){var hO=this.$1;this.$1=hN;if(!ss.referenceEquals(hO,this.$1)){if(ss.isValue(hO)&&!ss.staticEquals(this.$1$2,null)){this.$1$2(hO)}if(ss.isValue(this.$1)&&!ss.staticEquals(this.$1$1,null)){this.$1$1(this.$1)}if(!ss.staticEquals(this.$1$3,null)){this.$1$3()}}},addModelChangedHandler:function(hN){this.$4(hN);if(ss.isValue(this.$1)){hN()}return this},removeModelChangedHandler:function(hN){this.$5(hN)},addEventBinding:function(hN,hO){this.$2(hN);if(ss.isValue(this.$1)){hN(this.$1)}this.$6(hO);return this},removeEventBinding:function(hN,hO){this.$3(hN);this.$7(hO);if(!ss.staticEquals(hO,null)&&ss.isValue(this.$1)){hO(this.$1)}},createChildModelHolder:function(hN){return function(hO){var hP=new(ss.makeGenericType(ez,[hN]));hP.$0.add$1(this.newDisposableContext().addModelChangedHandler(ss.mkdel(this,function(){var hQ=null;if(ss.isValue(this.get_model())){hQ=hO(this.get_model())}hP.set_model(hQ)})));this.$0.add$1(hP);return hP}},dispose:function(){this.set_model(null);this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$0.dispose()},newDisposableContext:function(){return new(ss.makeGenericType(eA,[e]))(this)}},function(){return null},function(){return[ss.IDisposable]});return hM};ez.__typeName='tab.ModelHolder$1';ss.initGenericClass(ez,a,1);global.tab.ModelHolder$1=ez;var eA=function(e){var hM=function(hN){this.$0=null;this.$1=null;this.$0=new tab.DisposableHolder;this.$1=hN};ss.registerGenericClassInstance(hM,eA,[e],{addModelChangedHandler:function(hN){this.$1.addModelChangedHandler(hN);this.$0.add(ss.mkdel(this,function(){this.$1.removeModelChangedHandler(hN)}));return this},addEventBinding:function(hN,hO){this.$1.addEventBinding(hN,hO);this.$0.add(ss.mkdel(this,function(){this.$1.removeEventBinding(hN,hO)}));return this},dispose:function(){this.$0.dispose()}},function(){return null},function(){return[ss.IDisposable]});return hM};eA.__typeName='tab.ModelHolderContext$1';ss.initGenericClass(eA,a,1);global.tab.ModelHolderContext$1=eA;var eB=function(){};eB.__typeName='tab.ModelUtils';eB.getPendingZoneContentModel=function(e){if(!ff.get_progressiveLoadEnabled()){return null}var hM=(bu.get_hasInstance()?bu.get():null);if(ss.isNullOrUndefined(hM)||ss.isNullOrUndefined(hM.get_loader())){return null}return hM.get_loader().getPendingZoneContentModel(e)};eB.getViewSession=function(e){return eB.findContentDashboard().getViewSession(e)};eB.getModelsForViz=function(e){return function(hM,hN){var hO=[];if(ss.isValue(hM)){var hP=hM.get_zoneModels();for(var hQ=0;hQ<hP.length;hQ++){var hR=hP[hQ];if(ss.isInstanceOfType(hR.get_model(),e)&&ss.referenceEquals(hR.get_worksheetName(),hN.get_worksheetName())){hO.push(hR.get_model())}}}return hO}};eB.getVisualModels=function(e){var hM=eB.findContentDashboard(e);return eB.getVisualModelsFromDashboard(hM)};eB.getVisualModelsFromDashboard=function(e){var hM={};if(ss.isNullOrUndefined(e)){return hM}var hN=e.get_zoneModels();for(var hO=0;hO<hN.length;hO++){var hP=hN[hO];var hQ=hP.get_visualModel();if(ss.isValue(hQ)){hM[hP.get_worksheetName()]=hQ}}if(ff.get_progressiveLoadEnabled()){var hR=(bu.get_hasInstance()?bu.get():null);if(ss.isValue(hR)&&ss.isValue(hR.get_loader())){var hS=hR.get_loader().getPendingVisuals();var hT=_.keys(hS);for(var hU=0;hU<hT.length;hU++){var hV=hT[hU];hM[hV]=hS[hV]}}}return hM};eB.getSheetInfoPresModel=function(e,hM){var hN=e.get_workbook();if(ss.isNullOrUndefined(hN)||ss.isNullOrUndefined(hN.get_sheetsInfo())){return null}var hO=hN.get_sheetsInfo();for(var hP=0;hP<hO.length;hP++){var hQ=hO[hP];if(ss.referenceEquals(hQ.sheet,hM)){return hQ}}return null};eB.getVisualModel=function(e,hM){var hN=null;var hO=eB.findContentDashboard(e);if(ss.isNullOrUndefined(hO)){return hN}var hP=hO.get_zoneModels();for(var hQ=0;hQ<hP.length;hQ++){var hR=hP[hQ];var hS=hR.get_visualModel();if(ss.isValue(hS)){var hT=hR.get_worksheetName();if(ss.referenceEquals(hT,hM)){hN=hS;break}}}if(ff.get_progressiveLoadEnabled()&&ss.isNullOrUndefined(hN)){var hU=(bu.get_hasInstance()?bu.get():null);if(ss.isValue(hU)&&ss.isValue(hU.get_loader())){hN=hU.get_loader().getPendingVisual(hM)}}return hN};eB.getVisualModelFromVisualId=function(e,hM){if(ss.isNullOrUndefined(hM)){hM=N.get_instance()}var hN=null;var hO=eB.findContentDashboard(hM);if(ss.isNullOrUndefined(hO)){return hN}var hP=hO.get_zoneModels();for(var hQ=0;hQ<hP.length;hQ++){var hR=hP[hQ];var hS=hR.get_visualModel();if(ss.isValue(hS)){if(_.isEqual(hS.get_visualId(),e)){hN=hS;break}}}return hN};eB.getVisualId=function(e){return eB.getVisualModel(N.get_instance(),e).get_visualId()};eB.getFirstAvailableWebZoneName=function(e){var hM=null;var hN=eB.findContentDashboard(e);if(ss.isNullOrUndefined(hN)){return hM}var hO=hN.get_zoneModels();for(var hP=0;hP<hO.length;hP++){var hQ=hO[hP];if(hQ.get_zoneType()==='web'){var hR=hQ.get_zoneId();hM='frame_'+hR.toString();break}}return hM};eB.isActiveZone=function(e){switch(tsConfig.current_sheet_type){case'dashboard':case'story':{return e===eB.findContentDashboard().get_activeZoneID()}case'worksheet':default:{return true}}};eB.getZoneIdForSheetName=function(e){var hM=eB.findContentDashboard();var hN=hM.get_zoneModels();for(var hO=0;hO<hN.length;hO++){var hP=hN[hO];if(hP.get_zoneType()==='viz'&&ss.referenceEquals(hP.get_worksheetName(),e)){return hP.get_zoneId()}}return-1};eB.hasBorder=function(e){return e.get_borderStyle()!=='bs-none'&&e.get_borderWidth()!==0};eB.createFilterModel=function(e,hM){switch(hM.type){case'Q':{return new em(e,hM)}case'H':{return new ek(e,hM)}case'C':{return new ei(e,hM)}case'RD':{return new eo(e,hM)}default:{return new ej(e,hM)}}};eB.findMatchingFilterModel=function(e,hM){var hN=hM.get_frame().param;return e.get_filterModels()[hN]};eB.setVisualValidStateOnModel=function(e,hM,hN){if(ss.isNullOrUndefined(hM)){return}hM.setIsVisualValid(hN,e.modelUpdateContext)};eB.invalidateVisuals=function(e){if(ss.isNullOrUndefined(e)){return}for(var hM=0;hM<e.length;hM++){var hN=e[hM];var hO=eB.getVisualModel(N.get_instance(),hN);if(ss.isValue(hO)){hg.invalidateVisualModel(hO)}}};eB.setVisualValidStateOnPresModel=function(e,hM){if(ss.isNullOrUndefined(hM)){return}e.makeMutablePresModel(hM,false).valid=false};eB.findContentDashboard=function(e){if(ss.isNullOrUndefined(e)){e=N.get_instance()}return e.get_workbook().findContentDashboard()};eB.findActiveVisual=function(){var e=eB.findContentDashboard();if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.get_zoneModels())){return null}return e.get_activeVisual()};eB.findActiveOrDefaultVisual=function(){var e=eB.findContentDashboard();if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.get_zoneModels())){return null}var hM=e.get_activeVisual();if(ss.isValue(hM)){return hM}var hN=e.get_zoneModels();for(var hO=0;hO<hN.length;hO++){var hP=hN[hO];if(ss.isValue(hP.get_visualModel())){return hP.get_visualModel()}}return null};eB.reValidateVisualModels=function(e){var hM=eB.getVisualModels(N.get_instance());var hN=_.values(hM);for(var hO=0;hO<hN.length;hO++){var hP=hN[hO];hP.reValidate(e)}};eB.findActivePaneSpecId=function(){var e=eB.findActiveOrDefaultVisual();if(ss.isValue(e)&&ss.isValue(e.get_marksCardModel())){return e.get_marksCardModel().get_activePaneSpecId()}return null};eB.hasAnyImpliedSelection=function(){var e=eB.getVisualModels(N.get_instance());var hM=_.keys(e);for(var hN=0;hN<hM.length;hN++){var hO=hM[hN];var hP=e[hO];if(!hP.get_impliedSelectionModel().isEmpty){return true}}return false};eB.mergeMapPresModelDelta=function(e,hM){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(hM)){return}var hN=_.keys(e);for(var hO=0;hO<hN.length;hO++){var hP=hN[hO];var hQ=hM[hP];if(typeof(hQ)==='undefined'){hM[hP]=e[hP]}else if(hQ===null){delete hM[hP]}}};eB.isLegacyMenuItemEnabled=function(e){var hM=N.get_instance().get_appPresModel().toolbarPresModel.legacyMenus;if(ss.isNullOrUndefined(hM)){return false}var hN=_.find(hM,function(hO){return hO.legacyMenuName===e});return ss.isValue(hN)&&_.every(hN.legacyMenuStates,function(hO){return hO!=='grayed'})};global.tab.ModelUtils=eB;var eC=function(){};eC.__typeName='tab.ModuleManager';eC.$0=function(e,hM){return((hM.length===0)?ss.createInstance(e):ss.applyConstructor(e,hM))};eC.load=function(e){return function(hM){var hN=eC.load$1(ss.getTypeFullName(e),hM);return hN}};eC.load$1=function(e,hM){tab.Param.verifyString(e,'uniqueModuleName');eC.$1();var hN=eC.$4(e);if(ss.keyExists(eC.$h,hN.moduleName)){return eC.$h[hN.moduleName]}var hO=$.Deferred();eC.$h[hN.moduleName]=hO;eC.$a(Object).call(null,hO,hN.moduleName);var hP='tab.'+hN.assemblyName+'Factory';hO.always(function(){eC.$g.moduleLoaded()});eC.$g.loadRequested();eC.$6(hN).done([function(){eC.$9(hM,hN,hP,hO)}]).fail([function(hQ){var hR;var hS='Failed to load dependencies for the module: '+hN.moduleName;if(ss.isNullOrUndefined(hQ)){hR=new ss.Exception(hS)}else{var hT=new ss.Exception(hQ.toString());hR=new ss.Exception(hS,hT)}hO.reject(hR)}]);return hO};eC.$6=function(e){var hM=$.Deferred();if(!e.get_hasDependencies()){hM.resolve()}else{var hN=_.map(e.get_dependencies(),function(hS){return hS.moduleName});var hO=function(){hM.resolve()};var hP=function(hS){hM.reject(hS)};eC.loadModulesSequentially(hO,hP,hN)}if(e.get_hasDependenciesOnStylesheets()){var hQ=ss.getEnumerator(e.get_stylesheetDependencies());try{while(hQ.moveNext()){var hR=hQ.current();eC.loadCss(hR)}}finally{hQ.dispose()}}return hM};eC.$9=function(e,hM,hN,hO){switch(hM.loadingMethod){case'asynchronous':case'synchronous':{eC.$7(Object).call(null,e,hM,hN,hO);break}case'alreadyLoaded':default:{if(hM.isRawJavaScriptModule){hO.resolve.apply(hO,null)}else{var hP='vql'+hM.assemblyName.toLowerCase();var hQ=ss.load(hP);var hR=eC.$0(ss.getType(hN,hQ),e);hO.resolve(hR)}break}}};eC.loadModulesSequentially=function(e,hM,hN){hN=hN||[];var hO=0;eC.load$1(hN[hO],[]).done(function(){eC.$8(hN,e,1)}).fail(function(hP){if(!ss.staticEquals(hM,null)){hM(hP)}})};eC.register=function(e){return function(hM,hN){var hO='vql'+hM.toLowerCase();eC.$f[hO]=(tsConfig.debugMode?(hO+'.debug'):hO);var hP=new ec(hM,hN);eC.$e[ss.getTypeFullName(e)]=hP;return new eb(hP)}};eC.registerDependencyModule=function(e,hM){return eC.registerRawJsModule(hM,e,hM)};eC.registerRawJsModule=function(e,hM,hN){eC.$f[e]=(tsConfig.debugMode?hN:hM);var hO=new ec(e,null);eC.$e[e]=hO;return(new eb(hO)).andMarkAsRawJavaScriptModule()};eC.registerModulesLoadedCallback=function(e){if(ss.staticEquals(e,null)){throw new ss.ArgumentNullException('callback')}eC.$g.registerModulesLoadedCallback(e)};eC.isCssLoaded=function(e){if(eC.$d.has(e)){return true}var hM=document.getElementsByTagName('link');for(var hN=0;hN<hM.length;hN++){var hO=hM[hN];if(ss.referenceEquals(hO.getAttribute('href'),e)&&hO.getAttribute('rel')==='stylesheet'){return true}}return false};eC.isScriptLoaded=function(e){var hM=document.getElementsByTagName('script');for(var hN=0;hN<hM.length;hN++){var hO=hM[hN];if(ss.referenceEquals(hO.getAttribute('src'),e)){return true}}return false};eC.loadCss=function(e){if(eC.$d.has(e)){return}eC.$d.add(e);var hM=document.createElement('link');hM.setAttribute('type','text/css');hM.setAttribute('rel','stylesheet');hM.setAttribute('href',e);document.getElementsByTagName('head')[0].appendChild(hM)};eC.$7=function(e){return function(hM,hN,hO,hP){var hQ=hN.moduleName.toLowerCase();if(!hN.isRawJavaScriptModule){hQ='vql'+hQ}var hR=hN.loadingMethod;if(hR==='synchronous'){bu.get().get_legacySession().get_waitHandler().showAndLock(false)}var hS=function(){if(hR==='synchronous'){bu.get().get_legacySession().get_waitHandler().unlock();bu.get().get_legacySession().get_waitHandler().nudge()}};var hT=eC.$3();var hU={};hU['d']='MDLOAD';hU['p']=hN.moduleName;requirejs([hQ],function(hV){var hW;if(hN.isRawJavaScriptModule){hW=hV}else{var hX=ss.load(hQ);hW=eC.$0(ss.getType(hO,hX),hM)}if(hN.shouldExportResult){if(typeof(window.self[hN.exportResultName])==='function'){throw new ss.Exception('Such function already defined: '+hN.exportResultName)}window.self[hN.exportResultName]=hV}var hY=eC.$3();hU['t']=tabBootstrap.MetricsController.getTiming();hU['e']=hY-hT;var hZ=new tabBootstrap.MetricsEvent('gen',15,hU);tabBootstrap.MetricsController.logEvent(hZ);hS();hP.resolve(hW)},function(hV){hS();eC.$5(e).call(null,hV,hP)})}};eC.$3=function(){var e;try{e=window.performance.now()}catch(hM){e=(new Date).getTime()}return e};eC.$8=function(e,hM,hN){if(hN>=ss.count(e)){hM();return}eC.load$1(ss.getItem(e,hN),[]).done(function(){eC.$8(e,hM,hN+1)})};eC.$1=function(){if(eC.$i){return}eC.$i=true;requirejs.config({baseUrl:tsConfig.external_static_asset_prefix+'/javascripts',map:ss.mkdict(['*',eC.$f]),waitSeconds:60})};eC.$4=function(e){var hM=eC.$e[e];if(ss.isNullOrUndefined(hM)){throw new ss.Exception('Unknown module: '+e)}return hM};eC.$5=function(e){return function(hM,hN){var hO=eC.$2(hM);var hP=new ss.Exception(hO);hN.reject(hP)}};eC.$2=function(e){var hM=e.message;if(ss.isValue(e.requireModules)&&e.requireModules.length>0){var hN=e.requireModules.join(',');hM+='; Modules='+hN}if(!ss.isNullOrEmptyString(e.requireType)){hM+='; RequireType='+e.requireType}return hM};eC.$a=function(e){return function(hM,hN){hM.fail(function(hO){var hP=hO;delete eC.$h[hN];eC.reportException(hP)})}};eC.reportException=function(e){throw e};global.tab.ModuleManager=eC;var eD=function(){this.$3=0;this.$2=[]};eD.__typeName='tab.ModuleTracker';global.tab.ModuleTracker=eD;var eE=function(){cS.call(this,null);var e={};e.fn='';this.swapAndCopyPresModel(e)};eE.__typeName='tab.MultipleFieldsModel';global.tab.MultipleFieldsModel=eE;var eF=function(){};eF.__typeName='tab.NoopModelEventsHandler';eF.get_noopContext=function(){return eF.$0.value()};global.tab.NoopModelEventsHandler=eF;var eG=function(e,hM){this.$2=null;this.$1=null;this.$1$1=null;this.set_notificationId(e);this.$1=hM};eG.__typeName='tab.NotificationHandlerLauncher';eG.registerHandler=function(e,hM){var hN=function(){var hQ=$.Deferred();hQ.resolve(hM());return hQ.promise()};var hO=N.get_instance();var hP=new eG(e,hN);hO.registerNotificationHandler(e,ss.mkdel(hP,hP.onNotify))};eG.registerHandlerFromModule=function(e){return function(hM,hN){var hO=function(){var hR=bu.get().get_legacySession().get_waitHandler();hR.addref(true);var hS=$.Deferred();eC.load(e).call(null,[]).done(function(hT){hS.resolve(hN(hT))}).always(function(){hR.release()});return hS.promise()};var hP=N.get_instance();var hQ=new eG(hM,hO);hP.registerNotificationHandler(hM,ss.mkdel(hQ,hQ.onNotify))}};eG.registerHandlerFromJsModule=function(e,hM,hN){var hO=function(){var hR=$.Deferred();eC.load$1(e,[]).done(function(hS){hR.resolve(hN(hS))});return hR.promise()};var hP=N.get_instance();var hQ=new eG(hM,hO);hP.registerNotificationHandler(hM,ss.mkdel(hQ,hQ.onNotify))};global.tab.NotificationHandlerLauncher=eG;var eH=function(){this.$c=null;this.$4=null;this.$7=null;this.$b=null;this.$5='';this.$9='';this.$d='';this.$e='';this.$f='';this.$g='';this.$a=null;this.$6=null;this.$8=tab.Logger.getLogger(eH,4)};eH.__typeName='tab.OnlineAnalyticsClient';eH.add_onLogEvent=function(e){eH.$1$1=ss.delegateCombine(eH.$1$1,e)};eH.remove_onLogEvent=function(e){eH.$1$1=ss.delegateRemove(eH.$1$1,e)};eH.get_telemetryEnabled=function(){return tab.FeatureFlags.isEnabled('OnlineAnalyticsPipelineEnabled')&&!tsConfig.is_guest};eH.$0=function(){if(ss.isNullOrUndefined(eH.$1)){eC.registerRawJsModule('analytics-client','analytics-client.min','analytics-client').andExportResultAs('AnalyticsClient');eH.$1=new eH}return eH.$1};eH.logEvent=function(e,hM){if(eH.get_telemetryEnabled()){eH.$0().$3(e,ss.mkdict(hM))}};global.tab.OnlineAnalyticsClient=eH;var eI=function(){};eI.__typeName='tab.OrderClause';eI.orderFieldFromString=function(e){try{return e}catch(hM){return'unknown'}};eI.isInstanceOfType=function(){return true};global.tab.OrderClause=eI;var eJ=function(){gu.call(this,null,null,null,null,null)};eJ.__typeName='tab.PaddingDefinition';eJ.$ctor1=function(e){gu.call(this,e.padding,e.paddingLeft,e.paddingRight,e.paddingTop,e.paddingBottom)};global.tab.PaddingDefinition=eJ;var eK=function(e){this.$2=null;this.$1=null;this.$2$1=null;ey.call(this,e,new fd('pageModel'.toString()));this.$2=e.get_zone()};eK.__typeName='tab.PageModel';global.tab.PageModel=eK;var eL=function(e){var hM=function(){};hM.isInstanceOfType=function(){return true};ss.registerGenericClassInstance(hM,eL,[e],{},function(){return null},function(){return[]});return hM};eL.__typeName='tab.PageOfItem$1';ss.initGenericClass(eL,a,1);global.tab.PageOfItem$1=eL;var eM=function(){};eM.__typeName='tab.PageServerCommands';eM.changePage=function(e,hM){var hN=eM.$0(e,hM);fO.executeServerCommand(bK.newCommand('change-page',hN),'immediately')};eM.syncedChangePage=function(e,hM,hN,hO){var hP=eM.$1(hM,hN,hO);var hQ=bK.newCommand$1('synced-change-page-server',hP);var hR=new bo((tab.FeatureFlags.isEnabled('PageCardImprovements')?'none':'immediately'),function(hS){if(tab.FeatureFlags.isEnabled('PageCardImprovements')){var hT=hS.makeMutablePresModel(e,false);hT.currentPage=hO;var hU=eB.getVisualModel(N.get_instance(),hM.worksheet);var hV=hU.get_sceneModel();var hW=hS.makeMutablePresModel(hV,false);hW.currentPage=hO;for(var hX=0;hX<hW.panes.length;hX++){var hY=hW.panes[hX];for(var hZ=0;hZ<hY.drawPane.length;hZ++){var ia=hY.drawPane[hZ];if(ss.isValue(ia.paneMarks)){var ib=ia.paneMarks.pageIndices[hO*2];var ic=ia.paneMarks.pageIndices[hO*2+1];ia.paneMarks.startIndex=ib;ia.paneMarks.endIndex=ic}}}var id=hU.get_labelsModel();if(ss.isValue(id)){var ie=hS.makeMutablePresModel(id,false);ie.currentPage=hO;for(var ig=0;ig<ie.panes.length;ig++){var ih=ie.panes[ig];for(var ii=0;ii<ih.drawPane.length;ii++){var ij=ih.drawPane[ii];if(ss.isValue(ij.paneMarks)){var ik=ij.paneMarks.pageIndices[hO*2];var il=ij.paneMarks.pageIndices[hO*2+1];ij.paneMarks.startIndex=ik;ij.paneMarks.endIndex=il}}}}}},hQ);bu.SendCommand(hR)};eM.toggleTrails=function(e){var hM=eM.$2(e);fO.executeServerCommand(bK.newCommand('page-toggle-trails',hM),'afterDelay')};eM.$0=function(e,hM){var hN={};bK.addVisualIdToCommand(hN,hM);hN['pageNumber']=e;return hN};eM.$1=function(e,hM,hN){var hO={};bK.addVisualIdToCommand(hO,e);hO['zoneId']=hM;hO['pageNumber']=hN;return hO};eM.$2=function(e){var hM={};bK.addVisualIdToCommand(hM,e);return hM};global.tab.PageServerCommands=eM;var eN=function(){};eN.__typeName='tab.PaneClientCommands';eN.setPanePrimitive=function(e,hM){var hN=bK.newCommand('set-primitive',null);hN.commandParams=eN.$0(e);hN.commandParams['primitiveType']=hM.toString();bu.SendCommand(new fp(hN,'immediately',null,null))};eN.getDefaultShapeType=function(e,hM){var hN=bK.newCommand('get-default-shape',null);hN.commandParams=eN.$0(e);bu.SendCommand(new fp(hN,'none',function(hO){hM((_.isString(hO)?gd.fromString(hO.toString()):null))},function(){hM(null)}))};eN.setDefaultShapeType=function(e,hM){var hN=bK.newCommand('set-default-shape',null);hN.commandParams=eN.$0(e);hN.commandParams['shapeName']=eN.$9(hM);var hO=new bo(((N.get_instance().get_renderMode()==='render-mode-client')?'none':'immediately'),function(hP){eN.$4(e,hM,hP)},hN,null,null);bu.SendCommand(hO)};eN.setShowMarkLabels=function(e,hM){var hN=bK.newCommand('toggle-mark-labels',null);hN.commandParams={};hN.commandParams['worksheet']=tsConfig.current_sheet_name;if(ss.isValue(hM)&&hM.get_id()>0){hN.commandParams['paneSpec']=hM.get_id().toString()}var hO=new bo((e?'immediately':'none'),function(hP){eN.$8(e,hP,(ss.isValue(hM)?hM.get_paneDescriptorKeys():null))},hN);bu.SendCommand(hO)};eN.toggleMarkLabels=function(e){if(tab.FeatureFlags.isEnabled('HideMarkLabelsAsLocalAction')){}var hM=bK.newCommand('toggle-mark-labels',null);hM.commandParams={};hM.commandParams['worksheet']=tsConfig.current_sheet_name;if(ss.isValue(e)&&e.get_id()>0){hM.commandParams['paneSpec']=e.get_id().toString()}bu.SendCommand(new fp(hM,'immediately',null,null))};eN.setMarkSize=function(e,hM){var hN=bK.newCommand('set-mark-size',null);hN.commandParams={};hN.commandParams=eN.$0(e);hN.commandParams['markScale']=hM.toString();bu.SendCommand(new fp(hN,'immediately',null,null))};eN.resetTooltip=function(e){var hM=bK.newCommand('reset-tooltip',null);hM.commandParams={};hM.commandParams['worksheet']=tsConfig.current_sheet_name;if(ss.isValue(e)&&e.get_id()>0){hM.commandParams['paneSpec']=e.get_id().toString()}bu.SendCommand(new fp(hM,'immediately',null,null))};eN.getDefaultColor=function(e,hM){var hN=bK.newCommand('get-default-color',null);hN.commandParams=eN.$0(e);bu.SendCommand(new fp(hN,'none',function(hO){hM((_.isString(hO)?bs.fromColorCode(hO.toString()):null))},function(){hM(null)}))};eN.setDefaultColor=function(e,hM){var hN=bK.newCommand('set-default-color',null);hN.commandParams=eN.$0(e);hN.commandParams['defaultColor']=hM.toRgba255();var hO=new bo(((N.get_instance().get_renderMode()==='render-mode-client')?'none':'immediately'),function(hP){eN.$3(e,hM,hP)},hN);bu.SendCommand(hO)};eN.setSteppedColor=function(e,hM){var hN=bK.newCommand('set-quantitative-color',null);hN.commandParams=eN.$0(e);hN.commandParams['steps']=hM.toString();bu.SendCommand(new fp(hN,'immediately',null,null))};eN.reverseColor=function(e,hM){var hN=bK.newCommand('set-quantitative-color',null);hN.commandParams=eN.$0(e);hN.commandParams['isReversed']=hM.toString();bu.SendCommand(new fp(hN,'immediately',null,null))};eN.setTotalsInEncoding=function(e,hM){var hN=bK.newCommand('set-quantitative-color',null);hN.commandParams=eN.$0(e);hN.commandParams['totalsInclusionValue']=hM.toString();bu.SendCommand(new fp(hN,'immediately',null,null))};eN.setQuantColorPalette=function(e,hM){var hN=bK.newCommand('set-quantitative-color',null);hN.commandParams=eN.$0(e);hN.commandParams['colorPaletteId']=hM;bu.SendCommand(new fp(hN,'immediately',null,null))};eN.setCatColorPalette=function(e,hM){var hN=bK.newCommand('set-categorical-color',null);hN.commandParams=eN.$0(e);hN.commandParams['colorPaletteId']=hM;var hO=true;hN.commandParams['isInstance']=hO.toString();bu.SendCommand(new fp(hN,'immediately',null,null))};eN.setColorAlphaLevel=function(e,hM){if(isNaN(hM)){return}var hN=bK.newCommand('change-alpha-level',null);hN.commandParams=eN.$0(e);hN.commandParams['alphaLevel']=hM.toString();var hO=new bo(((N.get_instance().get_renderMode()==='render-mode-client')?'none':'immediately'),function(hP){eN.$2(e,hM,hP)},hN);bu.SendCommand(hO)};eN.setMarksBorderColor=function(e,hM,hN,hO){var hP=bK.newCommand('change-border',null);hP.commandParams={};hP.commandParams['worksheet']=tsConfig.current_sheet_name;hP.commandParams['paneSpec']=e.get_id().toString();hP.commandParams['color']=hM.toString();hP.commandParams['isAuto']=hN.toString();hP.commandParams['isNone']=hO.toString();var hQ=((hO||hN)?new bo('immediately',null,hP):new bo('none',function(hR){eN.$5(e,hM,hR)},hP));bu.SendCommand(hQ)};eN.setMarksHaloColor=function(e,hM,hN,hO){var hP=bK.newCommand('change-halo',null);hP.commandParams={};hP.commandParams['worksheet']=tsConfig.current_sheet_name;hP.commandParams['paneSpec']=e.get_id().toString();hP.commandParams['color']=hM.toString();hP.commandParams['isAuto']=hN.toString();hP.commandParams['isNone']=hO.toString();var hQ=((hO||hN)?new bo('immediately',null,hP):new bo('none',function(hR){eN.$6(e,hM,hR)},hP));bu.SendCommand(hQ)};eN.boundingBoxPan=function(e,hM){var hN=bK.newCommand('bounding-box-pan',null);var hO={};hO['mapLatLongRect']=hM;hN.commandParams=hO;if(ss.isValue(e)){bK.addVisualIdToCommand(hN.commandParams,e)}fO.executeServerCommand(hN,'afterDelay',null,null)};eN.geographicSearchQuery=function(e,hM,hN,hO,hP){var hQ=bK.newCommand('geographic-search-query',null);var hR={};hQ.commandParams=hR;hQ.commandParams['geographicSearchSearchString']=hM;hQ.commandParams['geographicSearchLocale']=hN;hQ.commandParams['geographicSearchMaxResults']=hO.toString();if(ss.isValue(e)){bK.addVisualIdToCommand(hQ.commandParams,e)}fO.executeServerCommand(hQ,'none',function(hS){hP(hS)},null)};eN.setReferenceLineConstantValue=function(e,hM){var hN=bK.newCommand('set-reference-line-constant-value',null);hN.commandParams={};hN.commandParams['constantValue']=e;hN.commandParams['referenceLineId']=hM;bu.SendCommand(new fp(hN,'immediately',null,null))};eN.$0=function(e){var hM={};hM['worksheet']=tsConfig.current_sheet_name;hM['paneSpec']=e.get_id().toString();return hM};eN.$9=function(e){if(ss.isNullOrUndefined(e)){return null}return e.toString()};eN.$4=function(e,hM,hN){if(ss.isValue(hM.get_palette())&&ss.unbox(hM.get_palette())!=='filled'){return}var hO=fy.convertShapeToNumber(hM);eN.$7(e,hO,'shape_id',hN)};eN.$2=function(e,hM,hN){eN.$7(e,hM,'alpha',hN)};eN.$3=function(e,hM,hN){eN.$7(e,hM.toArgbInt(),'color',hN)};eN.$5=function(e,hM,hN){eN.$7(e,hM.toArgbInt(),'border_color',hN)};eN.$6=function(e,hM,hN){eN.$7(e,hM.toArgbInt(),'halo_color',hN)};eN.$8=function(e,hM,hN){if(N.get_instance().get_renderMode()!=='render-mode-client'){return}var hO=eN.$1(hM);if(ss.isNullOrUndefined(hN)){hN=_.keys(hO)||[]}for(var hP=0;hP<hN.length;hP++){var hQ=hN[hP];var hR=hO[hQ];hR.showMarkLabels=e}};eN.$7=function(e,hM,hN,hO){if(N.get_instance().get_renderMode()!=='render-mode-client'){return}var hP=eN.$1(hO);var hQ=e.get_paneDescriptorKeys();for(var hR=0,hS=hQ.length;hR<hS;hR++){var hT=hP[hQ[hR]];hT.intMap[hN]=hM}};eN.$1=function(e){var hM=eB.getVisualModel(N.get_instance(),tsConfig.current_sheet_name);var hN=e.makeMutablePresModel(hM.get_sceneModel(),false);return hN.pdMarksMap};global.tab.PaneClientCommands=eN;var eO=function(e){this.$0=null;this.update(e)};eO.__typeName='tab.PaneIdModel';eO.$ctor1=function(e,hM,hN){this.$0=null;this.$0={};this.$0['columnIndex']=e;this.$0['rowIndex']=hM;if(hN!==0){this.$0['pageIndex']=hN}};global.tab.PaneIdModel=eO;var eP=function(){};eP.__typeName='tab.PanZoomCommands';eP.zoomWithAnchorPoint=function(e,hM,hN,hO,hP){var hQ=new Object;var hR=hn.create(hQ);hR.set_r(e);hR.set_x(hM.x);hR.set_y(hM.y);var hS={};hS['vizRegionRect']=hQ;hS['zoomAnchorPoint']=tab.PointUtil.toPresModel(hM);hS['zoomFactor']=hN;bK.addVisualIdToCommand(hS,eB.getVisualId(hP));var hT=bK.newCommand$1('pane-anchor-zoom-server',hS);var hU=function(){gh.fireSheetDataChanged();hO()};eP.$0(hT,hU,null,hP)};eP.zoom=function(e,hM,hN,hO,hP,hQ){if(!tsConfig.allow_filter){return}var hR={};var hS={};hS.x=e['x'];hS.y=e['y'];hS.x=Math.round(hS.x);hS.y=Math.round(hS.y);if(ss.isValue(e['h'])&&ss.isValue(e['w'])){hS.h=e['h'];hS.w=e['w']}hR['dragRect']=hS;hR['zoomIn']=hN;hR['focus']=false;hR['zoomFactor']=hP;if(ss.isValue(hM)){hM=eP.$1(hM);var hT=tab.PointUtil.toPresModel(hM);hR['paneResolverLocation']=hT}bK.addVisualIdToCommand(hR,eB.getVisualId(hQ));var hU=bK.newCommand('pane-zoom',hR);var hV=function(hW){if(ss.isValue(hO)){hO.setDeferLayoutUpdates(false)}gh.fireSheetDataChanged()};eP.$0(hU,hV,null,hQ)};eP.pan=function(e,hM,hN,hO,hP){if(!tsConfig.allow_filter){return}var hQ={};hQ['r']=e;hQ['panLocation']=tab.PointUtil.toPresModel(eP.$1(hM));hQ['panAmount']=tab.PointUtil.toPresModel(eP.$1(hN));bK.addVisualIdToCommand(hQ,eB.getVisualId(hP));var hR=bK.newCommand$1('pane-pan-server',hQ);var hS=function(){gh.fireSheetDataChanged()};var hT=function(hU){hO()};eP.$0(hR,hS,hT,hP)};eP.$0=function(e,hM,hN,hO){var hP=new bo('none',function(hQ){var hR=eB.getVisualModel(N.get_instance(),hO);eB.setVisualValidStateOnModel(hQ,hR,false)},e,hM,hN);bu.SendCommand(hP)};eP.$1=function(e){var hM=e;if(ss.isValue(e)){hM={x:Math.round(e.x),y:Math.round(e.y)}}return hM};eP.zoomDoubleClick=function(e,hM,hN,hO,hP,hQ){hO.set_isZoomin(hN);eP.zoom(e,hM,hN,hO,hP,hQ)};eP.zoomIn=function(e,hM,hN,hO){eP.zoom(e,hM,true,null,hN,hO)};eP.zoomOut=function(e,hM,hN,hO){eP.zoom(e,hM,false,null,hN,hO)};eP.requestRestoreFixedAxes=function(e){if(!tsConfig.allow_filter){return}var hM=function(hP){P.fireStateChanged(hP)};var hN={};bK.addVisualIdToCommand(hN,e);var hO=bK.newCommand$1('restore-fixed-axes',hN);bu.SendCommand(new fp(hO,'immediately',hM,function(){}))};global.tab.PanZoomCommands=eP;var eQ=function(e){this.$1=null;this.$2$1=null;ey.call(this,e,new fd('parameterControl'.toString()))};eQ.__typeName='tab.ParameterCtrlModel';global.tab.ParameterCtrlModel=eQ;var eR=function(e){this.$2$1=null;ey.call(this,e,new fd('parameterControl'.toString()))};eR.__typeName='tab.ParameterFilterDisplayModel';eR.supportsParameterType=function(e){switch(e.paramDisplayMode){case'compact':case'list':{return true}case'type_in':case'slider':case'datetime':default:{return false}}};global.tab.ParameterFilterDisplayModel=eR;var eS=function(e,hM){this.formattedValue=null;this.domainValue=null;this.formattedValue=e;this.domainValue=hM};eS.__typeName='tab.ParameterFilterItem';global.tab.ParameterFilterItem=eS;var eT=function(){};eT.__typeName='tab.ParameterServerCommands';eT.setParameterValue=function(e,hM,hN){eT.setParameterValue$1(e,hM,hN,null,null)};eT.setParameterValue$1=function(e,hM,hN,hO,hP){var hQ=eT.$0(e,hM,ss.coalesce(hN,false));var hR=bK.newCommand('set-parameter-value',hQ);fO.executeServerCommand(hR,'immediately',hO,hP)};eT.$0=function(e,hM,hN){var hO={};hO['globalFieldName']=e;hO['valueString']=hM;hO['useUsLocale']=hN;return hO};global.tab.ParameterServerCommands=eT;var eU=function(e){this.$3$1=null;gQ.call(this,e,new fd('percentTotalTableCalcPresModel'.toString()))};eU.__typeName='tab.PercentTotalTableCalcModel';global.tab.PercentTotalTableCalcModel=eU;var eV=function(){};eV.__typeName='tab.PermissionManager';eV.buildCommandPermission=function(){var e=[];if(tsConfig.allow_filter){e.push(11);e.push(12);e.push(10);e.push(2);e.push(13);e.push(4);e.push(6)}if(tsConfig.allow_select){e.push(1);e.push(9);e.push(23)}if(tsConfig.allow_sheetlink){e.push(8)}if(tsConfig.allow_view_underlying||tsConfig.allow_summary){e.push(7)}if(tsConfig.is_authoring){e.push(15);e.push(17);e.push(18);e.push(19);e.push(20);if(!tsConfig.is_mobile){e.push(21)}if(tab.FeatureFlags.isEnabled('ReferenceLineNonModal')){e.push(22)}if(tab.FeatureFlags.isEnabled('TrendLineDialogMttw')){e.push(16)}}return new bC(e)};eV.filterCommands=function(e,hM){for(var hN=e.length-1;hN>=0;hN--){if(!hM.test(e[hN])){ss.removeAt(e,hN)}}};global.tab.PermissionManager=eV;var eW=function(e,hM){this.$1=null;ey.call(this,e,new fd(hM.toString()))};eW.__typeName='tab.PillModel';global.tab.PillModel=eW;var eX=function(){ss.makeGenericType(O,[Object,eY]).call(this)};eX.__typeName='tab.PingSessionCmd';global.tab.PingSessionCmd=eX;var eY=function(e){this.$$c=null;this.$$c=e};eY.__typeName='tab.PingSessionCmd$Response';global.tab.PingSessionCmd$Response=eY;var eZ=function(e,hM,hN){this.$3=null;this.$1=null;this.$2=null;this.$4=null;this.$1$1=null;this.$1$2=null;this.$3=e;this.set_notificationId(hM);this.$1=hN};eZ.__typeName='tab.PluginDialogNotificationHandler';global.tab.PluginDialogNotificationHandler=eZ;var fa=function(){this.$0=new tab.DisposableHolder};fa.__typeName='tab.PluginPresentationLayer';fa.get_instance=function(){fa.$0=fa.$0||new fa;return fa.$0};fa.set_instance=function(e){fa.$0=e};global.tab.PluginPresentationLayer=fa;var fb=function(){};fb.__typeName='tab.PresentationModel';fb.commandResultByName=function(e,hM){var hN=bG.buildQualifiedCommandName(hM.commandNamespace,hM.commandName);var hO=e['vqlCmdResponse'.toString()];var hP=hO.cmdResultList;for(var hQ=0;hQ<hP.length;hQ++){var hR=hP[hQ];if(ss.referenceEquals(hR.commandName,hN)){return hR.commandReturn}}return null};fb.fromCommand=function(e,hM){var hN=fb.commandResultByName(e,hM);if(!hM.preserveRootResult&&ss.isValue(hN)&&ss.getKeyCount(hN)===1&&!ss.keyExists(hN,'commandRedirectType'.toString())){var hO=new ss.ObjectEnumerator(hN);try{while(hO.moveNext()){var hP=hO.current();return hP.value}}finally{hO.dispose()}}else{return hN}return null};fb.ensurePath=function(e,hM,hN){var hO=hM;var hP=e;var hQ;var hR;var hS=hN.get_pathList();for(var hT=0,hU=hS.length;hT<hU;hT++){var hV=hS[hT];var hW=hV.name;hQ=hO[hW];hR=(ss.isValue(hP)?hP[hW]:null);if(!ss.isValue(hQ)){var hX=hT===hU-1;var hY=null;if(hV.type===1&&ss.isValue(hR)){var hZ=hR;var ia=[];for(var ib=0;ib<hZ.length;ib++){ia[ib]=tab.MiscUtil.cloneObject(hZ[ib])}hY=ia}else if(!hX&&ss.isValue(hR)){hY=fb.cloneObjWithScalarsOnly(hR)}else if(tab.FeatureFlags.isEnabled('ProgressiveDashboardLoad')&&hV.type===1){hY=[]}else{hY=new Object}hO[hW]=hY}hO=hO[hW];hP=hR}return hO};fb.insertAtPath=function(e,hM,hN,hO){fb.ensurePath(e,hM,hN);fb.$0(hM,hN,hO)};fb.cloneObjWithScalarsOnly=function(e){if(!_.isObject(e)){return e}var hM=new Object;var hN=e;var hO=Object.keys(hN);for(var hP=0;hP<hO.length;hP++){var hQ=hO[hP];var hR=hN[hQ];if(!_.isObject(hR)){hM[hQ]=hR}}return hM};fb.$0=function(e,hM,hN){if(hM.get_pathList().length===0){var hO=hN;var hP=new ss.ObjectEnumerator(hO);try{while(hP.moveNext()){var hQ=hP.current();e[hQ.key]=hQ.value}}finally{hP.dispose()}}else{var hR,hS;var hT=e;var hU=hM.get_pathList();for(hR=0,hS=hU.length;hR<hS-1;hR++){hT=hT[hU[hR].name]}hT[hU[hS-1].name]=hN}};global.tab.PresentationModel=fb;var fc=function(){this.$1=null;this.$0=[]};fc.__typeName='tab.PresModelPath';global.tab.PresModelPath=fc;var fd=function(e,hM){this.name=null;this.type=0;this.name=e;this.type=(ss.isValue(hM)?hM:0)};fd.__typeName='tab.PresModelPathItem';global.tab.PresModelPathItem=fd;var fe=function(){};fe.__typeName='tab.PresModelPathItemType';global.tab.PresModelPathItemType=fe;var ff=function(){this.$j=null;this.$p=null;this.$m=null;this.$o=null;this.$k=null;this.$i=false;this.$q=null;this.$l=null;this.$r={};this.$n=null;this.$1$1=null;this.$1$2=null};ff.__typeName='tab.ProgressiveLoader';ff.get_progressiveLoadEnabled=function(){return tab.FeatureFlags.isEnabled('ProgressiveDashboardLoad')&&!tsConfig.is_authoring&&!tsConfig.isPublic};ff.cloneZone=function(e){if(ss.isNullOrUndefined(e)){return e}var hM=e.presModelHolder;e.presModelHolder=null;var hN=tab.MiscUtil.cloneObject(e);hN.presModelHolder=hM;e.presModelHolder=hM;return hN};ff.removeZoneContent=function(e){if(ss.isValue(e)){var hM=e;delete hM['presModelHolder']}return e};ff.getZoneRoot=function(e){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.workbookPresModel)||ss.isNullOrUndefined(e.workbookPresModel.dashboardPresModel)){return null}var hM=e.workbookPresModel.dashboardPresModel;if(hM.isStory){var hN=hM.zones;hM=null;var hO=_.keys(hN);for(var hP=0;hP<hO.length;hP++){var hQ=hO[hP];var hR=hN[hQ];if(ss.isValue(hR.zoneCommon)&&hR.zoneCommon.zoneType!=='flipboard'){continue}var hS=hK.getContent(hR,'flipboard');if(ss.isNullOrUndefined(hS)||ss.isNullOrUndefined(hS.storyPoints)){return null}var hT=hS.storyPoints[hS.activeStoryPointId.toString()];if(ss.isNullOrUndefined(hT)){return null}hM=hT.dashboardPresModel;break}}return hM};ff.$0=function(e){var hM={};if(ss.isValue(e)&&ss.isValue(e.zones)){var hN=_.values(e.zones);for(var hO=0;hO<hN.length;hO++){var hP=hN[hO];if(ss.isValue(hP)&&ss.isValue(hP.zoneCommon)){hM[hP.zoneId]=hP.zoneCommon.zoneType}}}return hM};ff.$4=function(e){if(ss.isNullOrUndefined(e)){return false}var hM=e.workbookPresModel;if(ss.isNullOrUndefined(hM)){return false}var hN=hM.dashboardPresModel;if(ss.isNullOrUndefined(hN)){return false}var hO=hN.zones;if(ss.isNullOrUndefined(hO)){return false}return true};ff.$2=function(){if(ss.isValue(ff.$8)){return}ff.$8={};ff.$8['flipboard-nav']=1;ff.$8['flipboard']=1;ff.$8['viz']=2;ff.$8['color']=3;ff.$8['shape']=3;ff.$8['size']=3;ff.$8['map']=3;ff.$8['filter']=4;ff.$8['highlighter']=4;ff.$8['paramctrl']=4;ff.$8['current-page']=4;ff.$8['web']=5;ff.$8['bitmap']=5;ff.$6={};ff.$6[1]={item1:-1,item2:1};ff.$6[2]={item1:1,item2:0.33};ff.$6[3]={item1:3,item2:0.33};ff.$6[4]={item1:3,item2:0.33};ff.$6[5]={item1:-1,item2:1};ff.$6[6]={item1:-1,item2:1}};ff.$3=function(e){switch(e){case'color':case'size':case'shape':case'filter':{return true}}return false};ff.$1=function(e,hM){if(ss.isNullOrUndefined(e)){return hM}return fb.cloneObjWithScalarsOnly(e)};global.tab.ProgressiveLoader=ff;var fg=function(e,hM){this.$2$1=null;ey.call(this,e,new fd(hM))};fg.__typeName='tab.QuantitativeColorLegendModel';global.tab.QuantitativeColorLegendModel=fg;var fh=function(e,hM,hN,hO,hP,hQ){this.$5=null;this.$2=null;this.$1=null;this.$0=null;this.$4=null;this.$3=null;this.$5=e;this.$2=hM;this.$1=hN;this.$0=hO;this.$4=hP;this.$3=hQ};fh.__typeName='tab.QuantitativeFilterData';global.tab.QuantitativeFilterData=fh;var fi=function(){};fi.__typeName='tab.QuickFilterDateFormatUtil';fi.$0=function(e){return e==='trunc-day'||e==='trunc-week'||e==='trunc-month'||e==='trunc-qtr'||e==='trunc-year'};fi.getDateTimeFormatMode=function(e,hM,hN,hO){if(ss.isNullOrUndefined(hN)||ss.isNullOrUndefined(hN.isAutoFormat)||!hN.isAutoFormat){return 0}if(fi.$0(hM)){return 0}if(fi.isPureTime(e,hM)){return 1}if(hO===2){return 2}for(var hP=0;hP<e.length;hP++){var hQ=e[hP];if(ss.isNullOrUndefined(hQ)||!ss.isValue(hQ.v)){continue}var hR={t:hQ.t,v:ss.unbox(hQ.v)};if(tableau.format.isDateTimeWithNonMidnightTime(hR)){return 2}}return 0};fi.isPureTime=function(e,hM){var hN=ej.timestampsWithSameDateOrNull(e);return hN&&!fi.$0(hM)};global.tab.QuickFilterDateFormatUtil=fi;var fj=function(e){this.$2$1=null;this.$2$2=null;this.$2$3=null;ey.call(this,e,new fd('quickFilterDisplay'.toString()));this.set_quickFilterType('unknown')};fj.__typeName='tab.QuickFilterDisplayModel';fj.supportsQuickFilterType=function(e){if(e.quickFilter.quickFilterType==='categorical'){var hM=e.quickFilter;switch(hM.categoricalMode){case'check-list':case'radio-list':{return true}case'check-dropdown':case'dropdown':{return tab.FeatureParamsLookup.getBool(40)}case'slider':case'pattern':case'type-in-list':default:{return false}}}return false};global.tab.QuickFilterDisplayModel=fj;var fk=function(e,hM){ey.call(this,e,hM)};fk.__typeName='tab.QuickFilterModel';global.tab.QuickFilterModel=fk;var fl=function(e){ey.call(this,e,new fd('radialSelectionDistanceInfo'.toString()))};fl.__typeName='tab.RadialSelectionDistanceInfoModel';global.tab.RadialSelectionDistanceInfoModel=fl;var fm=function(){};fm.__typeName='tab.RangeTransform';global.tab.RangeTransform=fm;var fn=function(e){this.$3$1=null;gQ.call(this,e,new fd('rankTableCalcPresModel'.toString()))};fn.__typeName='tab.RankTableCalcModel';global.tab.RankTableCalcModel=fn;var fo=function(e){this.$1=null;cS.call(this,e)};fo.__typeName='tab.RelationalTableModel';global.tab.RelationalTableModel=fo;var fp=function(e,hM,hN,hO){bo.call(this,hM,null,e,hN,hO)};fp.__typeName='tab.RemoteClientCommand';fp.create=function(e,hM,hN,hO){return new fp(e,hM,hN,hO)};global.tab.RemoteClientCommand=fp;var fq=function(){ss.makeGenericType(O,[Object,fr]).call(this)};fq.__typeName='tab.ReplaceFileConnectionFromFileUploadCmd';global.tab.ReplaceFileConnectionFromFileUploadCmd=fq;var fr=function(e){this.$$c=null;this.$$c=e};fr.__typeName='tab.ReplaceFileConnectionFromFileUploadCmd$Response';global.tab.ReplaceFileConnectionFromFileUploadCmd$Response=fr;var fs=function(e){this.$2=null;this.$1=null;this.$0=null;var hM=e.split('/');this.$2=hM[0].replace(new RegExp('^ds:'),'');this.$1=hM[1];if(hM.length>2){if(hM.length===3){throw new ss.Exception("new RepoPathObject() encountered repo path'"+e+"' with a badly formed customized view")}this.$0=hM[2]+'/'+hM[3]}else{this.$0=''}};fs.__typeName='tab.RepoPathObject';global.tab.RepoPathObject=fs;var ft=function(){ss.makeGenericType(O,[Object,fu]).call(this)};ft.__typeName='tab.ResizeAxisRegionCmd';global.tab.ResizeAxisRegionCmd=ft;var fu=function(e){this.$$c=null;this.$$c=e};fu.__typeName='tab.ResizeAxisRegionCmd$Response';global.tab.ResizeAxisRegionCmd$Response=fu;var fv=function(){ss.makeGenericType(O,[Object,fw]).call(this)};fv.__typeName='tab.ResizeHeaderRegionCmd';global.tab.ResizeHeaderRegionCmd=fv;var fw=function(e){this.$$c=null;this.$$c=e};fw.__typeName='tab.ResizeHeaderRegionCmd$Response';global.tab.ResizeHeaderRegionCmd$Response=fw;var fx=function(){};fx.__typeName='tab.SaveServerCommands';fx.$2=function(){return tab.Logger.lazyGetLogger(fx)};fx.saveWorkbook=function(e){var hM=function(hN){hG.getWorldUpdate(function(){if(ss.isValue(e)){e(hN)}})};fx.$0('publish',tsConfig.workbookName,tsConfig.current_project_id.toString(),tsConfig.showTabsWorkbook,null,null,hM,null,bu.get().get_legacySession())};fx.saveWorkbookAs=function(e,hM,hN,hO,hP,hQ,hR){fx.$0('publish_as',e,hM,hN,hO,hP,hQ,hR,bu.get().get_legacySession())};fx.SaveWorkbookAs=function(e,hM,hN,hO,hP,hQ,hR){fx.saveWorkbookAs(e,hM.id,hN,hO,hP,hQ,hR)};fx.SaveDatasource=function(e,hM,hN,hO,hP,hQ){var hR=bu.get().get_legacySession();var hS=function(hY,hZ,ia){var ib=fx.$1(Object).call(null,ia.responseText);hP(ib)};var hT=function(hY,hZ,ia){var ib=fx.$1(Object).call(null,hY.responseText);if(ss.isValue(hQ)&&ss.isValue(ib)){hQ(ib)}else{hR.$6(ia,hY,false,null)}};var hU={};hU.type='POST';hU.dataType='json';hU.url=bu.$2('publish_ds',hR);var hV=ss.mkdict(['project',hO.toString(),'datasource',e,'name',hM]);if(ss.isValue(hN)){hV['no_overwrite']=ss.unbox(hN)}var hW=hH.getMultipartData(null,hV);hU.contentType='multipart/form-data; boundary='+hW.header;hU.data=hW.body;var hX=new fP(hR,null,hS,hT,true,true);hH.helper(hU,hX)};fx.$1=function(e){return function(hM){var hN;try{hN=JSON.parse(hM)}catch(hO){hN=null}return hN}};fx.$0=function(e,hM,hN,hO,hP,hQ,hR,hS,hT){var hU=function(ia,ib,ic){var id=ia;if(ss.keyExists(id,'workbook')){var ie=id['workbook'];hR(ie)}else{hR(null)}};var hV=function(ia,ib,ic){var id=fx.$1(Object).call(null,ia.responseText);var ie=fx.$1(Object).call(null,ia.responseText);if(ss.isValue(hS)&&ss.isValue(id)){hS(id)}else if(ia.status===403&&ss.isValue(ie)&&ie.code===60011){hT.get_sessionErrorHandler().handleSessionForbiddenAction(ie.code,ie.message)}else{hT.$6(ic,ia,false,null)}};var hW={};hW.type='POST';hW.dataType='json';hW.url=bu.$2(e,hT);var hX=ss.mkdict(['project',hN,'name',hM,'display_tabs',hO]);if(ss.isValue(hP)){hX['save_db_passwords']=ss.unbox(hP)}if(ss.isValue(hQ)){hX['no_overwrite']=ss.unbox(hQ)}var hY=hH.getMultipartData(null,hX);hW.contentType='multipart/form-data; boundary='+hY.header;hW.data=hY.body;var hZ=new fP(hT,null,hU,hV,true,true);hH.helper(hW,hZ)};fx.transitionSessionAfterLogon=function(e){bu.get().$z(e)};global.tab.SaveServerCommands=fx;var fy=function(){};fy.__typeName='tab.SceneDataUtil';fy.isPaneFlagSet=function(e,hM){return(e&fy.$1[hM])!==0};fy.isMarkFlagSet=function(e,hM){return(e&fy.$0[hM])!==0};fy.isCustomShape=function(e){return!ss.keyExists(fy.shapeMapping,e.toString())};fy.getFogBlendFactor=function(e){var hM=0.185000002384186;var hN=0.275000005960464;var hO=75;var hP=e.get_r()<=hO&&e.get_g()<=hO&&e.get_b()<=hO;return(hP?hN:hM)};fy.fogColorTransform=function(e,hM,hN){var hO=ss.Int32.trunc(hM.get_r()+e.get_r()*hN);var hP=ss.Int32.trunc(hM.get_g()+e.get_g()*hN);var hQ=ss.Int32.trunc(hM.get_b()+e.get_b()*hN);return new bs(hO,hP,hQ,e.get_a())};fy.applyFogToBackgroundColor=function(e,hM){var hN=245;if(e.get_r()>=hN&&e.get_g()>=hN&&e.get_b()>=hN){e=new bs(hN,hN,hN,e.get_a())}var hO=ss.Int32.trunc((1-hM)*e.get_r());var hP=ss.Int32.trunc((1-hM)*e.get_g());var hQ=ss.Int32.trunc((1-hM)*e.get_b());return new bs(hO,hP,hQ,e.get_a())};fy.createColorCollection=function(e,hM,hN){var hO={};hO['colorOverrideOpaque']=e.toRgb();hO['colorOverrideNone']=e.toRgba();hO['colorOverrideFog']=fy.fogColorTransform(e,hM,hN).toRgba();return hO};fy.createOpaqueColorCollection=function(e){var hM={};var hN=bs.fromColorCode(e['colorOverrideNone']);hM['colorOverrideNone']=hN.toRgb();hN=bs.fromColorCode(e['colorOverrideFog']);hM['colorOverrideFog']=hN.toRgb();hN=bs.fromColorCode(e['colorOverrideOpaque']);hM['colorOverrideOpaque']=hN.toRgb();return hM};fy.applyFoggingToColor=function(e,hM){var hN=fy.getFogBlendFactor(hM);var hO=fy.applyFogToBackgroundColor(hM,hN);return fy.fogColorTransform(e,hO,hN)};fy.convertShapeToNumber=function(e){var hM;var hN=ss.isValue(e.get_palette())&&ss.unbox(e.get_palette())==='filled';switch(e.get_shapeType()){case'circle':{hM=(hN?'shapeIDFilledCircle':'shapeIDCircle');break}case'square':{hM=(hN?'shapeIDFilledSquare':'shapeIDSquare');break}case'plus':{hM=(hN?'shapeIDFilledPlus':'shapeIDPlus');break}case'times':{hM=(hN?'shapeIDFilledTimes':'shapeIDTimes');break}case'asterisk':{hM=(hN?'shapeIDFilledStar':'shapeIDAsterisk');break}case'diamond':{hM=(hN?'shapeIDFilledDiamond':'shapeIDDiamond');break}case'triangle':{hM=(hN?'shapeIDFilledTriangle':'shapeIDTriangle');break}case'down-triangle':{hM=(hN?'shapeIDFilledDownTriangle':'shapeIDDownTriangle');break}case'left-triangle':{hM=(hN?'shapeIDFilledLeftTriangle':'shapeIDLeftTriangle');break}case'right-triangle':{hM=(hN?'shapeIDFilledRightTriangle':'shapeIDRightTriangle');break}default:{throw new ss.Exception('Unable to map ShapeType to ShapeID')}}return parseInt(fy.reverseShapeMapping[hM])};fy.getNumPaneItems=function(e){return e.endIndex-e.startIndex};fy.getPaneDomainExtents=function(e){if(ss.isValue(e.drawPane)){for(var hM=0;hM<e.drawPane.length;hM++){var hN=e.drawPane[hM];var hO=hN.paneMarks;if(ss.isValue(hO)&&ss.isValue(hO.domainExtents)){return tab.RecordCast.doubleRectPresModelAsDoubleRectXY(hO.domainExtents)}}}return null};fy.calcCellClip=function(e){var hM=0;var hN=fy.isPaneFlagSet(e,'clip-to-cell-x');var hO=fy.isPaneFlagSet(e,'clip-to-cell-y');if(hN&&hO){hM=3}else if(hN){hM=1}else if(hO){hM=2}return hM};fy.isSupportedStampShape=function(e){if(!ss.keyExists(fy.reverseShapeMapping,e)){return false}var hM=true;switch(e){case'shapeIDFilledSquare':case'shapeIDSquare':{hM=false;break}default:{break}}return hM};global.tab.SceneDataUtil=fy;var fz=function(e){this.$2$1=null;this.$2$2=null;this.$2$3=null;ey.call(this,null,new fd('sceneElement'.toString()));this.swapPresModel(e);this.set_sceneElementPM(e);this.set_paneId(new eO(e.paneId));this.set_bounds({minX:e.floatLeft,minY:e.floatTop,maxX:e.floatLeft+e.floatWidth,maxY:e.floatTop+e.floatHeight})};fz.__typeName='tab.SceneElementModel';global.tab.SceneElementModel=fz;var fA=function(e){this.$8={};this.$4=[];this.$5=[];this.$6=null;this.$7=null;this.$3=null;this.$2$1=null;ey.call(this,e,new fd('scene'.toString()));this.$6=[];this.$7=[]};fA.__typeName='tab.SceneModel';fA.$0=function(e,hM){if(ss.keyExists(e,'background')){var hN=e['background'].get_visualListPresModel().drawItems;for(var hO=0;hO<hN.length;hO++){var hP=hN[hO];if(hP.type==='draw-solid-brush'){var hQ=hP;return bs.fromColorCode(hQ.color)}}}return(ss.isValue(hM.bgColor)?bs.fromColorCode(hM.bgColor):fA.$1)};global.tab.SceneModel=fA;var fB=function(){};fB.__typeName='tab.SceneUtils';fB.getPaneDescriptorKeyFromTupleId=function(e,hM){for(var hN=0;hN<hM.panes.length;hN++){var hO=hM.panes[hN];for(var hP=0;hP<hO.drawPane.length;hP++){var hQ=hO.drawPane[hP];if(ss.isValue(hQ.paneMarks)){var hR=hM.pdMarksMap;var hS=new ss.ObjectEnumerator(hR);try{while(hS.moveNext()){var hT=hS.current();var hU=hT.value.encodingColumns['tuple_id'];var hV=_.find(hU.dataValues,function(hW){return hW===e});if(ss.isValue(hV)){return hT.key}}}finally{hS.dispose()}}}}return''};global.tab.SceneUtils=fB;var fC=function(e){this.$9=null;this.$8=null;this.$9=e;this.$8=this.generateFrequencyDescription()};fC.__typeName='tab.Schedule';fC.$1=function(e){var hM=new Date;hM.setHours(ss.Int32.div(e,60));hM.setMinutes(e%60);hM.setSeconds(0);return hM.toLocaleTimeString()};fC.$2=function(e,hM){var hN=e+hM;hN=hN%1440;if(hN<0){hN=1440+hN}return hN};fC.$0=function(e,hM){var hN=e+hM;if(hN>1440){return 1}else if(hN<0){return-1}return 0};global.tab.Schedule=fC;var fD=function(){};fD.__typeName='tab.SchemaClientCommands';fD.addFieldToSheet=function(e,hM){var hN={};hN['fn']=e;hN['worksheet']=tsConfig.current_sheet_name;var hO=bK.newCommand('add-to-sheet',hN);bu.SendCommand(fp.create(hO,'immediately',function(hP){hM()},function(hP){hM()}))};fD.$0=function(e,hM){var hN=bK.newCommand(e,{});hN.commandParams['fieldVector']=hM;bu.SendCommand(new fp(hN,'immediately',null,null))};fD.convertToMeasure=function(e){fD.$0('convert-to-measure',e)};fD.convertToDimension=function(e){fD.$0('convert-to-dimension',e)};fD.validateFieldCaption=function(e,hM,hN){var hO={};hO['uniqueName']=e;hO['caption']=hM;var hP=bK.newCommand('validate-field-caption',hO);fO.executeServerCommand(hP,'afterDelay',function(hQ){hN(hQ)},null)};fD.editFieldCaption=function(e,hM,hN){var hO={};hO['uniqueName']=e;hO['caption']=hM;var hP=bK.newCommand('edit-schema-caption',hO);bu.SendCommand(new bo('none',function(hQ){var hR=hQ.makeMutablePresModel(hN.get_fieldsModel(),false);for(var hS=0;hS<hR.length;++hS){if(ss.referenceEquals(hR[hS].fn,e)){hR[hS].description=hM;break}}},hP))};fD.setActiveDataSourceName=function(e,hM){var hN={};hN['datasource']=e;var hO=(hM?'set-active-data-source-name':'set-active-datasource');var hP=bK.newCommand(hO,hN);hP.commandParams['datasource']=e;var hQ=N.get_instance().get_workbook().get_uiMode()==='data-tab';var hR=null;if(hQ){hR=function(hS){var hT=hS.makeMutablePresModel(N.get_instance().get_workbook().get_dataSchema(),false);hT.datasource=e}}bu.SendCommand(new bo((hQ?'none':'immediately'),hR,hP))};fD.requestSchemaContextMenu=function(e,hM){var hN=bK.newCommand('build-data-schema-context-menu',null);var hO={};hO['datasource']=e.get_name();hN.commandParams=hO;bu.SendCommand(fp.create(hN,'none',function(hP){hM(hP)},null))};fD.requestSchemaFieldContextMenu=function(e,hM,hN){var hO=bK.newCommand('build-data-schema-field-context-menu',null);var hP={};hP['datasource']=e;hP['fn']=hM;hO.commandParams=hP;bu.SendCommand(fp.create(hO,'none',function(hQ){hN(hQ)},null))};fD.requestDataTabFieldContextMenu=function(e,hM,hN){var hO=new V;hO.c['datasource']=e;hO.c['fn']=hM;var hP=hO;hP.invoke().then(hN)};fD.requestSchemaFieldChangeDataTypeMenu=function(e,hM,hN){var hO=new Z;hO.c['datasource']=e;hO.c['fn']=hM;var hP=hO;hP.invoke().then(hN)};fD.requestSchemaDataSourceContextMenu=function(e,hM){var hN=bK.newCommand('build-data-schema-data-source-context-menu',null);var hO={};hO['datasource']=e.get_name();hO['allowSaveDataSource']=tsConfig.allow_save_data_source;hN.commandParams=hO;bu.SendCommand(fp.create(hN,'none',function(hP){hM(hP)},null))};fD.convertUnnamedFields=function(e){var hM=$.Deferred();var hN={};hN['fieldVector']=e;var hO=new fp(bK.newCommand('convert-unnamed-fields',hN),'immediately',bu.deferredSuccessHandler(Array).call(null,hM),function(){hM.reject()});bu.SendCommand(hO);return hM.promise()};fD.toggleFieldBlending=function(e,hM){var hN=$.Deferred();var hO={};hO['globalFieldName']=e;hO['worksheet']=tsConfig.current_sheet_name;var hP=new bo('immediately',hM,bK.newCommand('toggle-field-blending',hO),bu.deferredSuccessHandler(Object).call(null,hN),function(){hN.reject()});bu.SendCommand(hP);return hN.promise()};fD.renameDataSource=function(e,hM,hN){if(ss.isNullOrUndefined(e)){return}if(ss.referenceEquals(e.get_caption(),hM)){return}var hO=function(hR){var hS=hR.makeMutablePresModel(e,false);hS.datasourceCaption=hM};var hP={};hP['datasource']=e.get_name();hP['newDatasource']=hM;var hQ=new bo('none',hO,bK.newCommand('rename-data-source',hP),null,function(hR){hN()});bu.SendCommand(hQ)};fD.renameTableAliasInRelation=function(e,hM,hN){if(ss.isNullOrEmptyString(hM)){return}if(ss.referenceEquals(e,hM)){return}var hO={};hO['tableAlias']=e;hO['newTableAlias']=hM;var hP=bK.newCommand('connection-rename-table',hO);var hQ=new bo('immediately',null,hP,null,function(hR){hN()});bu.SendCommand(hQ)};global.tab.SchemaClientCommands=fD;var fE=function(){ss.makeGenericType(O,[Object,fF]).call(this)};fE.__typeName='tab.SelectByTupleValueCmd';global.tab.SelectByTupleValueCmd=fE;var fF=function(e){this.$$c=null;this.$$c=e};fF.__typeName='tab.SelectByTupleValueCmd$Response';global.tab.SelectByTupleValueCmd$Response=fF;var fG=function(){};fG.__typeName='tab.SelectionClientCommands';fG.$j=function(){return tab.Logger.lazyGetLogger(fG)};fG.setActiveZone=function(e,hM){if(!tsConfig.allow_select){return}if(eB.isActiveZone(e)){return}bu.SendCommand(fG.buildActiveZoneClientCommand(e,hM))};fG.clearActiveZone=function(){fG.setActiveZone(0,null)};fG.buildActiveZoneClientCommand=function(e,hM){var hN=new bo('none',function(hO){fG.setActiveZoneLocal(e,hO)},fG.$1(e,hM));return hN};fG.updateShowMeCommandsForSelectedFields=function(e,hM,hN){var hO={};hO['fieldVector']=e;hO['worksheet']=tsConfig.current_sheet_name;hO['datasource']=hM;var hP=bK.newCommand('get-show-me',hO);bu.SendCommand(fp.create(hP,'none',function(hQ){hN(hQ)},function(hQ){hN(null)}))};fG.toggleLegendHighlight=function(e,hM,hN,hO,hP){if(!tsConfig.allow_highlight){return}var hQ=fG.buildToggleLegendHighlightCommand(hM,hN,hO,hP,e);bu.SendCommand(hQ)};fG.buildToggleLegendHighlightCommand=function(e,hM,hN,hO,hP){var hQ=!eB.isActiveZone(hP);var hR={};hR['r']=hM;hR['legendNames']=hN;bK.addVisualIdToCommand(hR,e);if(hQ){fG.$0(hP,hR)}var hS=bK.newCommand$1('toggle-legend-server',hR);var hT=function(hU){if(ss.isValue(hO)){hO(hU)}};return new bo('immediately',function(hU){if(hQ){fG.setActiveZoneLocal(hP,hU)}},hS,hT,null)};fG.$0=function(e,hM){hM['dashboardPm']=eB.findContentDashboard().pm.sheetPath;hM['zoneId']=e};fG.selectRegion=function(e,hM,hN,hO,hP){if(!tsConfig.allow_select||N.get_instance().get_isOffline()){return}var hQ=fG.$9(hM,e,hN,hO,hP);var hR=bK.newCommand$1('select-region-no-return-server',hQ);fO.executeServerCommand(hR,'afterDelay')};fG.selectRectRegionAndDoUbertip=function(e,hM,hN,hO,hP,hQ){if(!tsConfig.allow_select){return}var hR=fG.$9(hM,e,hN,hO,hQ);var hS=bK.newCommand$1('select-region-no-return-server',hR);fG.$b(hP,hS)};fG.selectCircleRegionAndDoUbertip=function(e,hM,hN,hO,hP,hQ,hR){if(!tsConfig.allow_select){return}var hS=fG.$9(hM,e,hO,hP);var hT={};hT.center={};hT.center.x=Math.round(hN.center.x);hT.center.y=Math.round(hN.center.y);hT.radius=Math.round(hN.radius);hS['radialSelection']=hT;hS['radialDistanceHitTest']=hR;var hU=bK.newCommand$1('select-radial-region-no-return-server',hS);fG.$b(hQ,hU)};fG.selectPolyRegionAndDoUbertip=function(e,hM,hN,hO,hP,hQ){if(!tsConfig.allow_select){return}var hR=fG.$9(hM,e,hO,hP);var hS=hN.length;var hT=new Array(hS);for(var hU=0;hU<hS;hU++){var hV={};hV.x=Math.round(hN[hU].x);hV.y=Math.round(hN[hU].y);hT[hU]=hV}hR['lassoSelection']=hT;var hW=bK.newCommand$1('select-lasso-region-no-return-server',hR);fG.$b(hQ,hW)};fG.$b=function(e,hM){hM.commandNamespace='tabsrv'.toString();var hN=new bo('afterDelay',null,hM,function(){e()},null);bu.SendCommand(hN)};fG.clearAllSelections=function(e){if(!tsConfig.allow_select){return}var hM=eB.getZoneIdForSheetName(e.worksheet);if(hM!==-1&&!eB.isActiveZone(hM)){fG.setActiveZone(hM,null);return}var hN=fG.buildClearAllSelectionsCommand(e);bu.SendCommand(hN)};fG.buildClearAllSelectionsCommand=function(e){var hM={};bK.addVisualIdToCommand(hM,e);var hN=bK.newCommand$1('select-none',hM);var hO=new bo((N.get_instance().get_isLocalRenderMode()?'none':'afterDelay'),function(hP){if(N.get_instance().get_isLocalRenderMode()){var hQ=fG.$4(hP);if(hQ){I.executeActions(e.worksheet,'on-select',[],hP,true)}}},hN);return hO};fG.clearAllSelectionsIncludingMaster=function(){if(!tsConfig.allow_select){return}var e=fG.buildClearAllSelectionsIncludingMasterCommand();bu.SendCommand(e)};fG.buildClearAllSelectionsIncludingMasterCommand=function(){var e={};e['sheet']=tsConfig.current_sheet_name;var hM=bK.newCommand('select-none-including-master',e);var hN=new bo((N.get_instance().get_isLocalRenderMode()?'none':'afterDelay'),function(hO){fG.$4(hO);fG.$2(hO);var hP=eB.getVisualModelsFromDashboard(eB.findContentDashboard());var hQ=ss.getEnumerator(Object.keys(hP));try{while(hQ.moveNext()){var hR=hQ.current();var hS=hP[hR];I.executeActions(hS.get_visualId().worksheet,'on-select',[],hO,true)}}finally{hQ.dispose()}},hM);return hN};fG.selectLegendItemsLocal=function(e,hM,hN,hO,hP,hQ,hR){if(!tsConfig.allow_select){return}if(tab.MiscUtil.isNullOrEmpty(hN)&&!hR){return}var hS=fG.buildSelectLegendItemsLocalCommand(e,hM,hN,hO,hP,hQ);bu.SendCommand(hS)};fG.$5=function(e,hM){var hN=eB.getVisualModelFromVisualId(hM);var hO=hN.get_selectionsModel();var hP=hO.get_allLegendSelections();for(var hQ=0;hQ<hP.length;hQ++){var hR=hP[hQ];fG.$7(e,hR,false)}};fG.clearHighlighting=function(e,hM,hN,hO){var hP=bK.newCommand('clear-highlighting',null);var hQ={};bK.addVisualIdToCommand(hQ,hN);hQ['fn']=hM;hP.commandParams=hQ;var hR=new bo('none',function(hS){if(hO){fG.$5(hS,hN);fG.$c([],e,eB.getVisualModelFromVisualId(hN),hS)}},hP);bu.SendCommand(hR)};fG.highlightItems=function(e,hM,hN,hO,hP){var hQ=bK.newCommand('highlight-items',null);var hR={};bK.addVisualIdToCommand(hR,hO);hR['fn']=hM;hR['objectIds']=hN;hQ.commandParams=hR;var hS=new bo('none',function(hT){if(hP){if(hN.length===0){fG.$5(hT,hO)}fG.$c(hN,e,eB.getVisualModelFromVisualId(hO),hT)}},hQ);bu.SendCommand(hS)};fG.buildSelectLegendItemsLocalCommand=function(e,hM,hN,hO,hP,hQ){var hR=eB.getVisualModelFromVisualId(hO);var hS=hR.get_selectionsModel();var hT=hS.getLegendSelection(hQ,hP.get_legendNames());var hU=fM.resolveLegendSelection(hM,hN,hP,hT);var hV=bK.newCommand('select-legend-items',fG.$8(hU,hO,hP,hQ,e));var hW=new bo('none',function(hX){fG.setActiveZoneLocal(e,hX);if(!hT.isAnyLegendItemSelected()&&hU.length===0&&!eB.isActiveZone(e)){return}var hY=hX.makeMutablePresModel(hT,false);hY.objectIds=hU;hY.legendSelectionInfo={legendType:hP.get_legendTypeEnum(),legendColumns:hP.get_legendNames()};fG.$6(hX,hS.tupleSelection,hR);fG.$6(hX,hS.nodeSelection,hR);var hZ=hS.get_allLegendSelections();for(var ia=0;ia<hZ.length;ia++){var ib=hZ[ia];if(!ss.referenceEquals(ib,hT)){fG.$6(hX,ib,hR)}}fG.$3(hX,hO,true);fG.$e(hU,hP,hR,hX)},hV);return hW};fG.buildSelectNodeCommand=function(e,hM,hN,hO,hP,hQ,hR){var hS=eB.getZoneIdForSheetName(hQ.worksheet);var hT=eB.getVisualModelFromVisualId(hQ);var hU=hT.get_selectionsModel();var hV=hU.nodeSelection;var hW=(I.willActionCauseTabChange(hQ.worksheet,'on-select')?'afterDelay':'none');var hX=2;var hY=null;if(ss.isValue(hP.extentsWidth)&&ss.isValue(hP.extentsHeight)){var hZ=hP.extentsX||0;var ia=hP.extentsY||0;hY={x:hZ,y:ia,w:hP.extentsWidth,h:hP.extentsHeight}}var ib=tab.RectXYUtil.shiftCoordsTowardsCenter(hM,hY,hX);var ic={x:ib.x,y:ib.y,w:0,h:0};var id=bK.newCommand$1('select-region-no-return-server',null);id.commandParams=fG.$9(ic,e,hN,hQ);var ie=hS!==-1&&!eB.isActiveZone(hS);if(ie){fG.$0(hS,id.commandParams)}var ig=ie||!N.get_instance().get_isTableCalcHighlightingMode();var ih=function(ij){if(ie){fG.setActiveZoneLocal(hS,ij)}if(N.get_instance().get_isTableCalcHighlightingMode()){return}var ik=ij.makeMutablePresModel(hV,false);fM.resolveNodeSelection(hN,hO.get_groupItemNodes(),hP,hV,ik);var il=hN!=='toggle'&&hN!=='range';var im=hU.tupleSelection.get_ids();if(il){fG.$6(ij,hU.tupleSelection,hT);im=[]}var io=hU.get_allLegendSelections();for(var ip=0;ip<io.length;ip++){var iq=io[ip];fG.$6(ij,iq,hT)}fG.$3(ij,hQ,true);hT.$4(ik.selectedNodes,ij.modelUpdateContext);I.executeActions(hQ.worksheet,'on-select',hT.getEffectiveSelectedTuples(im),ij,true)};var ii=new bo(hW,(ig?ih:null),id,function(){if(ss.isValue(hR)){hR()}},null);return ii};fG.selectNode=function(e,hM,hN,hO,hP,hQ,hR){if(!tsConfig.allow_select){return}var hS=fG.buildSelectNodeCommand(e,hM,hN,hO,hP,hQ,hR);bu.SendCommand(hS)};fG.selectMarksLocal=function(e,hM,hN,hO,hP){if(!tsConfig.allow_select){return}if(tab.MiscUtil.isNullOrEmpty(e)){fG.clearAllSelections(hM);return}if(N.get_instance().get_isOffline()){var hQ=fG.buildSelectMarksLocalCommand(e,hM,hN,hO,null);bu.SendCommand(hQ);hP()}else{var hR=fG.buildSelectMarksLocalCommand(e,hM,hN,hO,hP);bu.SendCommand(hR)}};fG.buildSelectMarksLocalCommand=function(e,hM,hN,hO,hP){var hQ=eB.getZoneIdForSheetName(hM.worksheet);var hR=eB.getVisualModelFromVisualId(hM);var hS=hR.get_selectionsModel();var hT=hS.tupleSelection;var hU=I.shouldFilterOnSelection(hR.get_visualId().worksheet);var hV;if(hU){hV='afterDelay'}else{hV=(I.willActionCauseTabChange(hM.worksheet,'on-select')?'afterDelay':'none')}var hW=bK.newCommand('select',fG.$a(e,'tuples',hN,hM));var hX=hQ!==-1&&!eB.isActiveZone(hQ);var hY=hX||!N.get_instance().get_isTableCalcHighlightingMode();var hZ=function(ib){if(hX){fG.setActiveZoneLocal(hQ,ib)}if(N.get_instance().get_isTableCalcHighlightingMode()){return}var ic=fM.resolveMarkSelection(hN,e,hT,hO);var id=ib.makeMutablePresModel(hT,false);id.objectIds=ic;if(hN!=='toggle'&&hN!=='range'){fG.$6(ib,hS.nodeSelection,hR)}var ie=hS.get_allLegendSelections();for(var ig=0;ig<ie.length;ig++){var ih=ie[ig];fG.$6(ib,ih,hR)}fG.$3(ib,hM,true);I.executeActions(hM.worksheet,'on-select',hR.getEffectiveSelectedTuples(ic),ib,true)};var ia=new bo(hV,(hY?hZ:null),hW,function(ib){if(ss.isValue(hP)){hP()}},null);return ia};fG.$f=function(e,hM){if(ss.isNullOrUndefined(e)||!e.get_isBrushingComputed()){return}var hN=eB.getVisualModels(N.get_instance());var hO=_.keys(hN);for(var hP=0;hP<hO.length;hP++){var hQ=hO[hP];if(!e.hasBrushingForSheet(hQ)){continue}var hR=hN[hQ];fG.$i(e,hM,hR,hQ);fG.$h(e,hM,hR,hQ);fG.$g(e,hM,hR,hQ);var hS=e.getLegendBrushing(hQ);var hT=hR.get_brushingsModel().get_allLegendSelections();for(var hU=0;hU<hT.length;hU++){var hV=hT[hU];fG.$d(hM,hV,hS)}}};fG.$d=function(e,hM,hN){var hO=hM.get_selectionPresModel().legendSelectionInfo;var hP=[];var hQ=S.$0(hO.legendType,hO.legendColumns);if(ss.isValue(hN[hQ])){hP=hN[hQ]}if(hP.length!==0||hM.get_selectionPresModel().objectIds.length!==0){var hR=e.makeMutablePresModel(hM,false);hR.objectIds=hP}};fG.$g=function(e,hM,hN,hO){var hP=e.getNodeBrushing(hO);if(hP.length!==0||!hN.get_brushingsModel().nodeSelection.isEmpty){var hQ=hM.makeMutablePresModel(hN.get_brushingsModel().nodeSelection,false);hQ.selectedNodes=hP}};fG.$h=function(e,hM,hN,hO){var hP=hN.get_brushingsModel().trendLineSelection;var hQ=e.getTrendlineBrushing(hO);if(hQ.length!==0||hP.get_selectionPresModel().objectIds.length!==0){var hR=hM.makeMutablePresModel(hP,false);hR.objectIds=hQ}};fG.$i=function(e,hM,hN,hO){var hP=e.getTupleBrushing(hO);if(hP.length!==0||hN.get_brushingsModel().tupleSelection.get_selectionPresModel().objectIds.length!==0){var hQ=hM.makeMutablePresModel(hN.get_brushingsModel().tupleSelection,false);hQ.objectIds=hP}};fG.$2=function(e){var hM=eB.getVisualModels(N.get_instance());var hN=ss.getEnumerator(Object.keys(hM));try{while(hN.moveNext()){var hO=hN.current();var hP=hM[hO];if(hP.get_brushingsModel().get_isEmpty()){continue}var hQ=e.makeMutablePresModel(hP.get_brushingsModel().tupleSelection,false);hQ.objectIds=[];var hR=e.makeMutablePresModel(hP.get_brushingsModel().nodeSelection,false);hR.selectedNodes=[];var hS=hP.get_brushingsModel().get_allLegendSelections();for(var hT=0;hT<hS.length;hT++){var hU=hS[hT];if(hU.isEmpty){continue}var hV=e.makeMutablePresModel(hU,false);var hW=[];hV.objectIds=hW}}}finally{hN.dispose()}};fG.$1=function(e,hM){var hN=bK.newCommand('set-active-zone',null);var hO={};hO['dashboardPm']=(ss.isNullOrUndefined(hM)?eB.findContentDashboard().pm.sheetPath:hM);hO['zoneId']=e;hN.commandParams=hO;return hN};fG.$c=function(e,hM,hN,hO){var hP=hN.get_vizDataModel();if(ss.isNullOrUndefined(hP)){return}var hQ=hP.getVizDataField(hM.get_fieldName());var hR=[hQ.get_fieldCaption()];var hS=S.createBrushingComputer(hM,hN,e,hR,true);fG.$f(hS,hO)};fG.$e=function(e,hM,hN,hO){var hP=null;if(hM.get_isHighlightEnabled()){hP=S.createBrushingComputer(hM,hN,e,hM.get_fieldCaptions(),hM.get_isOneWay())}fG.$f(hP,hO)};fG.$3=function(e,hM,hN){var hO=false;var hP=eB.getVisualModels(N.get_instance());var hQ=ss.getEnumerator(Object.keys(hP));try{while(hQ.moveNext()){var hR=hQ.current();var hS=!ss.isNullOrUndefined(hM)&&ss.referenceEquals(hR,hM.worksheet);if(!hN||!hS){var hT=eB.findContentDashboard();var hU=!hN&&hS||!I.isFilterSource(hT,hR);var hV=hP[hR];var hW=hV.get_selectionsModel().selectionModels;for(var hX=0;hX<hW.length;hX++){var hY=hW[hX];if(hU||hY.get_selectionType()!=='tuples'&&hY.get_selectionType()!=='nodes'){hO=fG.$7(e,hY,true)||hO}}}}}finally{hQ.dispose()}return hO};fG.$4=function(e){var hM=false;var hN=eB.getVisualModels(N.get_instance());var hO=ss.getEnumerator(Object.keys(hN));try{while(hO.moveNext()){var hP=hO.current();var hQ=hN[hP];var hR=hQ.get_selectionsModel().selectionModels;for(var hS=0;hS<hR.length;hS++){var hT=hR[hS];hM=fG.$7(e,hT,true)||hM}}}finally{hO.dispose()}return hM};fG.$9=function(e,hM,hN,hO,hP){var hQ={};bK.addVisualIdToCommand(hQ,hO);var hR=new Object;var hS=hn.create(hR);hS.set_x(Math.round(e.x));hS.set_y(Math.round(e.y));hS.set_w(Math.round(e.w||0));hS.set_h(Math.round(e.h||0));hS.set_r(hM);if(ss.isValue(hP)){hS.set_fns(hP)}hQ['vizRegionRect']=hR;hQ['mouseAction']=hN;return hQ};fG.$8=function(e,hM,hN,hO,hP){var hQ={};bK.addVisualIdToCommand(hQ,hM);hQ['legendNames']=hN.get_legendNames();hQ['legendType']=hO;hQ['objectIds']=e;hQ['zoneId']=hP;return hQ};fG.$6=function(e,hM,hN){if(ss.isValue(hM)){fG.$7(e,hM,false);if(hM.get_selectionType()==='nodes'){hN.$1(e.modelUpdateContext)}}};fG.$a=function(e,hM,hN,hO){var hP={};if(ss.isValue(hO)){bK.addVisualIdToCommand(hP,hO)}var hQ={};hQ.objectIds=e;hQ.selectionType=hM;hP['selection']=hQ;hP['selectOptions']=fG.$k[hN];return hP};fG.setActiveZoneLocal=function(e,hM){var hN=eB.findContentDashboard();var hO=hM.makeMutablePresModel(hN,false);hO.activeZoneId=e};fG.$7=function(e,hM,hN){if(hM.isEmpty){return false}var hO=e.makeMutablePresModel(hM,false);hO.objectIds=[];hO.selectedNodes=[];if(hN){hM.setOverriddenTupleIds([],e.modelUpdateContext)}return true};global.tab.SelectionClientCommands=fG;var fH=function(e,hM){this.$5=null;this.$7=null;this.$6=null;this.$2$1=null;this.isEmpty=false;ey.call(this,e,new fd(hM.toString()));this.isEmpty=true};fH.__typeName='tab.SelectionModel';fH.$0=function(e,hM,hN,hO,hP,hQ){var hR=new ss.StringBuilder;if(ss.isValue(e)){hR.append(e.join(';'))}hR.append('=');if(ss.isValue(hM)){hR.append(hM.join(';'))}hR.append('=');if(ss.isValue(hN)){hR.append(hN)}hR.append('=');if(ss.isValue(hO)){hR.append(hO);hR.append('+');if(ss.isValue(hP)){hR.append(hP)}}hR.append('=');if(ss.isValue(hQ)){hR.append(hQ)}return hR.toString()};global.tab.SelectionModel=fH;var fI=function(e,hM,hN){this.$1$1=false;this.$1$2=0;this.$1$3=null;this.set_invalidateViz(e);this.set_reason(hM);this.set_objectIds(hN||[])};fI.__typeName='tab.SelectionsDifference';fI.noDifference=function(){return new fI(false,0,null)};global.tab.SelectionsDifference=fI;var fJ=function(){};fJ.__typeName='tab.SelectionsDiffReason';global.tab.SelectionsDiffReason=fJ;var fK=function(e,hM){this.$2$1=null;this.selectionModels=null;this.tupleSelection=null;this.nodeSelection=null;this.refLineSelection=null;this.trendLineSelection=null;ey.call(this,e,new fd(hM,1));this.selectionModels=[];var hN=eF.get_noopContext();this.tupleSelection=this.$1('tuples',hN);this.nodeSelection=this.$1('nodes',hN);this.trendLineSelection=this.$1('trend-lines',hN);this.refLineSelection=this.$1('ref-lines',hN)};fK.__typeName='tab.SelectionsModel';fK.$1=function(e){var hM={};hM.selectionType=e;switch(e){case'ref-lines':case'trend-lines':case'annotations':case'tuples':{hM.objectIds=[];break}case'legend-items':{hM.legendSelectionInfo={};hM.objectIds=[];break}case'nodes':{hM.selectedNodes=[];break}default:{break}}return hM};fK.$0=function(e,hM){var hN=[];var hO=new Set;for(var hP=0;hP<e.length;hP++){var hQ=e[hP];hO.add(hQ)}for(var hR=0;hR<hM.length;hR++){var hS=hM[hR];if(hO.has(hS)){hO.delete(hS)}else{hN.push(hS)}}hO.forEach(function(hT){hN.push(hT)});return hN};fK.computeTupleDictionaryDifference=function(e,hM){var hN=tab.MapUtility.createCopy(String,ss.Int32).call(null,e);var hO=tab.MapUtility.createCopy(String,ss.Int32).call(null,hM);var hP=[];hN.forEach(function(hQ,hR){if(!hO.has(hR)){hP.push(hN.get(hR))}else{hO.delete(hR)}});hO.forEach(function(hQ,hR){hP.push(hO.get(hR))});return hP};global.tab.SelectionsModel=fK;var fL=function(){this.selections=null};fL.__typeName='tab.SelectionsPresModel';global.tab.SelectionsPresModel=fL;var fM=function(){};fM.__typeName='tab.SelectionUtils';fM.isCategoricalAndTupleAssociatedHeader=function(e){if(tab.MiscUtil.isNullOrEmpty(e)){return false}return!fM.isHeaderFullyQuantitativeOrHaveNoAssociatedTuples(e)&&tab.MiscUtil.isNullOrEmpty$1(e.fn)&&!tab.MiscUtil.isNullOrEmpty(e.columnIndices)};fM.isHeaderFullyQuantitativeOrHaveNoAssociatedTuples=function(e){if(tab.MiscUtil.isNullOrEmpty(e)){return false}return tab.MiscUtil.isNullOrEmpty(e.columnIndices)&&!tab.MiscUtil.isNullOrEmpty$1(e.fn)};fM.isQuantitative=function(e){return ss.isValue(e)&&ss.isValue(e.node)&&ss.isValue(e.node.fn)};fM.resolveLegendSelection=function(e,hM,hN,hO){var hP=[];if(ss.isValue(hM)){var hQ=hO.get_selectionPresModel()||{};switch(e){case'toggle':{if(ss.isValue(hQ.objectIds)){ss.arrayAddRange(hP,hQ.objectIds)}for(var hR=0;hR<hM.length;hR++){var hS=hM[hR];var hT=ss.indexOf(hP,hS.objectId);if(hT>=0){ss.removeAt(hP,hT)}else{hP.push(hS.objectId)}}break}case'range':{hP=fM.$2(hM,hN,hQ);break}case'simple':{var hU=(ss.isValue(hQ.objectIds)?hQ.objectIds:[]);if(hU.length<=1){for(var hV=0;hV<hM.length;hV++){var hW=hM[hV];var hX=ss.indexOf(hU,hW.objectId);if(hX>=0){ss.removeAt(hP,hX)}else{hP.push(hW.objectId)}}}else{ss.arrayAddRange(hP,_.pluck(hM,'objectId'.toString()))}break}}}return Array.prototype.slice.call(hP)};fM.resolveMarkSelection=function(e,hM,hN,hO){var hP=[];switch(e){case'simple':{if(!hO&&hM.length===1&&hN.get_ids().length===1&&hM[0]===hN.get_ids()[0]){ss.clear(hP)}else{ss.arrayAddRange(hP,hM)}break}case'range':case'toggle':{ss.arrayAddRange(hP,hN.get_ids());for(var hQ=0;hQ<hM.length;hQ++){var hR=hM[hQ];if(!hN.isObjectSelected(hR)){hP.push(hR)}else if(!hO){ss.remove(hP,hR)}}break}}return Array.prototype.slice.call(hP)};fM.resolveNodeSelection=function(e,hM,hN,hO,hP){var hQ=null;if(ss.isValue(hN)){switch(e){case'simple':{hQ=fM.$4(hN,hO);break}case'toggle':{hQ=fM.$5(hN,hO);break}case'range':{hQ=fM.$3(hM,hN,hO);break}}}hP.selectedNodes=hQ||[]};fM.$2=function(e,hM,hN){var hO=[];if(!ss.isValue(hN.objectIds)){return hO}ss.arrayAddRange(hO,hN.objectIds);ss.arrayAddRange(hO,_.pluck(e,'objectId'.toString()));var hP=hN.objectIds[hN.objectIds.length-1];var hQ=-1;for(var hR=0;hR<hM.get_items().length;hR++){if(hM.get_items()[hR].objectId===hP){hQ=hR}}var hS=((e.length>0)?ss.indexOf(hM.get_items(),e[0]):-1);if(hQ<0||hS<0){return _.uniq(hO)}var hT=Math.min(hQ,hS);var hU=hT+Math.abs(hQ-hS)+1;for(var hV=hT;hV<hU;hV++){hO.push(hM.get_items()[hV].objectId)}return _.uniq(hO)};fM.$0=function(e,hM,hN,hO){var hP=new Set;for(var hQ=0;hQ<e.length;hQ++){var hR=e[hQ];if(ss.isValue(hR.node.columnIndices)){tab.SetUtilities.addAll(ss.Int32).call(null,hP,hR.node.columnIndices)}}for(var hS=0;hS<hM.length;hS++){var hT=(hN?hM[hM.length-1-hS]:hM[hS]);if(ss.isValue(hT.columnIndices)&&tab.SetUtilities.interserctWith(ss.Int32).call(null,hP,hT.columnIndices).size===0){continue}var hU=fM.$1(e,hT,hO);if(hU!==-1){return hU}}return-1};fM.$1=function(e,hM,hN){if(ss.isValue(hN)&&!_.isEqual(hN,hM.columnIndices)){return-1}for(var hO=0;hO<e.length;hO++){var hP=e[hO];if(_.isEqual(hP.node,hM)){return hO}}return-1};fM.$3=function(e,hM,hN){var hO=fM.nodeSelectionFromDrawGroup(hM);var hP=hN.get_nodes().slice(0);if(tab.MiscUtil.isNullOrEmpty(hO.columnIndices)&&tab.MiscUtil.isNullOrEmpty$1(hO.fn)){return hP}if(hP.length===0){hP.push(hO);return hP}var hQ=fM.isCategoricalAndTupleAssociatedHeader(hO);var hR=fM.isHeaderFullyQuantitativeOrHaveNoAssociatedTuples(hO);var hS=!hQ&&!hR;var hT=fM.$0(e,hN.get_nodes(),true,(hQ?hO.columnIndices:null));if(hT===-1){if(hQ||hS&&!hN.isNodeAncestorSelected(hM)){hP.push(hO)}return hP}if(hN.isNodeSelected(hM)||hN.isNodeAncestorSelected(hM)){return hP}var hU=fM.$0(e,hN.get_nodes(),false,null);var hV=fM.nodeSelectionFromDrawGroup(e[hU]);if(hQ){if(!_.isEqual(hV.columnIndices,hO.columnIndices)){hP.push(hO);return hP}}else{var hW=fM.$1(e,hV,null)!==-1;if(hR&&!hW){return hP}if(hS&&!hW){hP.push(hO);return hP}}var hX=ss.indexOf(e,hM);var hY=Math.min(hT,hX);var hZ=hY+Math.abs(hT-hX)+1;for(var ia=hY;ia<hZ;ia++){var ib=e[ia];var ic=!hQ||_.isEqual(ib.node.columnIndices,hO.columnIndices);if(ic&&!hN.isNodeAncestorSelected(ib)&&!hN.isNodeSelected(ib)){hP.push(fM.nodeSelectionFromDrawGroup(ib))}}return hP};fM.$4=function(e,hM){if(!hM.isNodeSelected(e)||hM.get_nodes().length>1){return[fM.nodeSelectionFromDrawGroup(e)]}return null};fM.$5=function(e,hM){var hN=[];ss.arrayAddRange(hN,hM.get_nodes());var hO=hM.findNodeSelection(e);if(ss.isValue(hO)){ss.remove(hN,hO)}else if(!hM.isNodeAncestorSelected(e)){hN.push(fM.nodeSelectionFromDrawGroup(e))}return Array.prototype.slice.call(hN)};fM.nodeSelectionFromDrawGroup=function(e){var hM={};if(!ss.isValue(e.node)){return hM}var hN=e.node;if(ss.isValue(hN.columnIndices)){hM.columnIndices=hN.columnIndices||[]}if(ss.isValue(hN.aliasIndices)){hM.aliasIndices=hN.aliasIndices||[]}if(ss.isValue(hN.fn)){hM.fn=hN.fn}if(ss.isValue(hN.axisOrientation)){hM.axisOrientation=hN.axisOrientation}if(ss.isValue(hN.duplicateIndex)){hM.duplicateIndex=hN.duplicateIndex}if(ss.isValue(hN.pageIndex)){hM.pageIndex=hN.pageIndex}return hM};global.tab.SelectionUtils=fM;var fN=function(e,hM,hN){this.scheduledAction=null;this.scheduleType=null;this.scheduleDetails=null;this.scheduledAction=e;this.scheduleType=hM;this.scheduleDetails=hN};fN.__typeName='tab.SelfServiceSchedule';global.tab.SelfServiceSchedule=fN;var fO=function(){};fO.__typeName='tab.ServerCommands';fO.get_interceptorCount=function(){var e=0;var hM=new ss.ObjectEnumerator(fO.$1);try{while(hM.moveNext()){var hN=hM.current();e+=hN.value.length}}finally{hM.dispose()}return e};fO.$0=function(e,hM){return e+':'+hM};fO.executeServerCommand=function(e,hM,hN,hO){var hP=fO.$1[fO.$0(e.commandNamespace,e.commandName)];if(ss.isValue(hP)){for(var hQ=0;hQ<hP.length;hQ++){var hR=hP[hQ];if(hR(e)===1){return}}}bu.SendCommand(fp.create(e,hM,hN,hO))};fO.intercept=function(e,hM){var hN='tabdoc'.toString();for(var hO=0;hO<e.length;hO++){var hP=e[hO];fO.addCommandInterceptor(hM,hN,hP.toString())}return hM};fO.addCommandInterceptor=function(e,hM,hN){var hO=fO.$0(hM,hN);var hP=fO.$1[hO];if(ss.isNullOrUndefined(hP)){hP=[];fO.$1[hO]=hP}hP.push(e);return e};fO.removeIntercept=function(e,hM){var hN='tabdoc'.toString();for(var hO=0;hO<e.length;hO++){var hP=e[hO];fO.removeCommandInterceptor(hM,hN,hP.toString())}};fO.removeCommandInterceptor=function(e,hM,hN){var hO=fO.$0(hM,hN);var hP=fO.$1[hO];if(!ss.isNullOrUndefined(hP)){for(var hQ=0;hQ<hP.length;hQ++){if(ss.staticEquals(hP[hQ],e)){ss.removeAt(hP,hQ);if(hP.length===0){delete fO.$1[hO];return}}}}};fO.clearAllCommandInterceptors=function(){ss.clearKeys(fO.$1)};global.tab.ServerCommands=fO;var fP=function(e,hM,hN,hO,hP,hQ){this.$5=null;this.$2=null;this.$4=null;this.$3=null;this.$1=false;this.$5=e;this.$2=hM;this.$4=hN;this.$3=hO;if(ss.isNullOrUndefined(hP)||hP){this.$1=this.$5.incrementWait(hQ)}};fP.__typeName='tab.SessionAjaxCallManager';global.tab.SessionAjaxCallManager=fP;var fQ=function(e,hM){this.$6=false;this.$5=null;this.$7=0;this.$4=1000;this.$9='';this.$8=null;this.$8=e;this.$5=hM;this.$9=e.$4('status')};fQ.__typeName='tab.SessionAjaxHandler';var fR=function(){};fR.__typeName='tab.SessionCommands';fR.ping=function(){(new eX).invoke()};global.tab.SessionCommands=fR;var fS=function(){};fS.__typeName='tab.SessionHeartbeat';fS.onVizportalPinged=function(){var e=tab.DateUtil.get_nowAsTime();fS.$0=e;if(e-fS.$1>fS.$3){fS.$1=e;fR.ping()}};fS.onVizqlPinged=function(){var e=tab.DateUtil.get_nowAsTime();fS.$1=e;if(e-fS.$0>fS.$2){fS.$0=e;hA.extendWorkgroupSession()}};global.tab.SessionHeartbeat=fS;var fT=function(){};fT.__typeName='tab.SessionServerCommands';fT.cancelLatestSetTimeout=function(){window.clearTimeout(fT.$1)};fT.destroySessionAndForward$1=function(e,hM){var hN=2000;var hO=function(){if(ss.referenceEquals(tab.WindowHelper.getLocation(e).href,hM)){tab.WindowHelper.reload(e,true)}else{tab.WindowHelper.setLocationHref(e,hM)}};var hP=null;hP=function(){hO();fT.cancelLatestSetTimeout();hN*=2;fT.$1=window.setTimeout(hP,hN)};var hQ=function(){hO();if(tab.BrowserSupport.get_isMac()&&(tab.BrowserSupport.get_isChrome()||tab.BrowserSupport.get_isFF())){fT.$1=window.setTimeout(hP,hN)}};fT.destroySessionAndForward(hQ)};fT.destroySessionAndForward=function(e){var hM=function(){e()};fT.$0(hM)};fT.$0=function(e){var hM=bu.get().get_legacySession();hM.get_waitHandler().showAndLock(false);var hN=hM.$0(e,function(){},function(){},'immediately');var hO={};hO.type='DELETE';hO.url=hM.$4('destroy');hO.headers=ss.mkdict(['Accept','text/javascript']);hO.dataType='json';hM.$b(hO,hN)};fT.switchToViz=function(e){var hM=ho.createForCurrentWindowLocation();var hN={};var hO=new ss.ObjectEnumerator(hM.get_queryParams());try{while(hO.moveNext()){var hP=hO.current();if(hP.value.length===1){hN[hP.key]=hP.value[0]}else{hN[hP.key]=hP.value}}}finally{hO.dispose()}$.extend(hN,ss.mkdict([':jsonOnly','true']));hM.updateForViewingSheet(e);var hQ={type:'GET',url:hM.get_path(),headers:ss.mkdict(['Accept','text/javascript']),dataType:'json',data:hN};var hR=bu.get().get_legacySession();var hS=hR.$0(null,function(hT,hU,hV){bu.get().switchViz(hT,hM)},null,'immediately');fT.$0(function(){hR.$b(hQ,hS)})};global.tab.SessionServerCommands=fT;var fU=function(){ss.makeGenericType(O,[Object,fV]).call(this)};fU.__typeName='tab.SetDashboardCurrentLayoutCmd';global.tab.SetDashboardCurrentLayoutCmd=fU;var fV=function(e){this.$$c=null;this.$$c=e};fV.__typeName='tab.SetDashboardCurrentLayoutCmd$Response';global.tab.SetDashboardCurrentLayoutCmd$Response=fV;var fW=function(){ss.makeGenericType(O,[Object,fX]).call(this)};fW.__typeName='tab.SetDashboardSizingWithValidationCmd';global.tab.SetDashboardSizingWithValidationCmd=fW;var fX=function(e){this.$$c=null;this.$$c=e};fX.__typeName='tab.SetDashboardSizingWithValidationCmd$Response';global.tab.SetDashboardSizingWithValidationCmd$Response=fX;var fY=function(){ss.makeGenericType(O,[Object,fZ]).call(this)};fY.__typeName='tab.SetDataSourceDataRowCountCmd';global.tab.SetDataSourceDataRowCountCmd=fY;var fZ=function(e){this.$$c=null;this.$$c=e};fZ.__typeName='tab.SetDataSourceDataRowCountCmd$Response';global.tab.SetDataSourceDataRowCountCmd$Response=fZ;var ga=function(){ss.makeGenericType(O,[Object,gb]).call(this)};ga.__typeName='tab.SetVariablesPromptRespondedCmd';global.tab.SetVariablesPromptRespondedCmd=ga;var gb=function(e){this.$$c=null;this.$$c=e};gb.__typeName='tab.SetVariablesPromptRespondedCmd$Response';global.tab.SetVariablesPromptRespondedCmd$Response=gb;var gc=function(){this.$2={};this.$1={};this.$3={};this.$1$1=null};gc.__typeName='tab.ShapeManager';gc.get_canvasCacheCapacity=function(){return(tab.BrowserSupport.get_isMobile()?50:200)};gc.getCacheKey$1=function(e,hM,hN,hO,hP,hQ){return e+';'+hM+';'+hN+';'+hO+';'+hP+';'+hQ};gc.getCacheKey=function(e,hM,hN,hO,hP){return e+';'+hM+';'+hN+';'+hO+';'+hP};global.tab.ShapeManager=gc;var gd=function(e,hM){this.$0=null;this.$1=null;this.$0=e;this.$1=hM};gd.__typeName='tab.ShapeModel';gd.fromString=function(e){var hM=new RegExp('^(:([^\\/]+)\\/)?([^\\/]+)$');var hN=hM.exec(e);if(ss.isNullOrUndefined(hN)){return null}var hO=hN[2];var hP=hN[3];if(ss.isNullOrUndefined(hP)){return null}var hQ=null;if(ss.isValue(hO)){if(ss.referenceEquals(hO,'filled'.toString())){hQ='filled'}else{return null}}var hR=hP;return new gd(hQ,hR)};global.tab.ShapeModel=gd;var ge=function(){};ge.__typeName='tab.SheetClientCommands';ge.switchSheets=function(e){if(ss.isNullOrUndefined(e.oldSheetName)){e.oldSheetName=tsConfig.current_sheet_name}if(ss.equals(e.sheetName,e.oldSheetName)&&tab.FeatureFlags.isEnabled('SkipConnectionsDuringLoad')){return}bu.get().prepareForSheetChange();var hM=ge.createSwitchSheetsCommand(e.sheetName);fO.executeServerCommand(hM,'immediately',e.successCallback,e.errorCallback)};ge.createSwitchSheetsCommand=function(e){var hM={};hM['targetSheet']=e;return bK.newCommand$1('ensure-layout-for-sheet',hM)};ge.goToSheet=function(e){bu.get().prepareForSheetChange();var hM={};hM['sheet']=e;var hN=bK.newCommand('goto-sheet',hM);fO.executeServerCommand(hN,'immediately')};ge.ensureLayoutForSheet=function(e){var hM=ge.createSwitchSheetsCommand(e);fO.executeServerCommand(hM,'immediately')};ge.createSheet=function(e,hM){var hN=bK.newCommand('new-worksheet',null);ge.$0(hN,e,hM);fO.executeServerCommand(hN,'immediately',null,null)};ge.deleteSheet=function(e){var hM={};hM['sheet']=e;hM['promptDeleteSheetsWithVizInTooltip']=false;var hN=bK.newCommand('delete-sheet',hM);fO.executeServerCommand(hN,'immediately',null,null)};ge.renameSheet=function(e,hM){var hN={};hN['sheet']=e;hN['newSheet']=hM;var hO=bK.newCommand('rename-sheet',hN);fO.executeServerCommand(hO,'immediately',null,null)};ge.createDashboardOrStory=function(e,hM,hN){var hO=(hN?'new-storyboard':'new-dashboard');var hP=bK.newCommand(hO,null);ge.$0(hP,e,hM);fO.executeServerCommand(hP,'immediately',null,null)};ge.$0=function(e,hM,hN){e.commandParams={};if(ss.isValue(hM)){e.commandParams['newSheet']=hM}if(hN){e.commandParams['insertAtEnd']=hN.toString()}e.commandParams['shouldChangeUiMode']=true};ge.getSheetTabContextMenu=function(e,hM){var hN=bK.newCommand('build-sheet-tab-context-menu',null);hN.commandParams={};if(ss.isValue(e)){hN.commandParams['sheetName']=e}fO.executeServerCommand(hN,'none',function(hO){hM(hO)},null)};ge.getSheetListContextMenu=function(e,hM,hN){var hO=new bb;hO.c['sheetName']=e;hO.c['addAsFloating']=hM;var hP=hO;hP.invoke().then(hN)};ge.getLayoutTreeContextMenu=function(e,hM,hN){var hO=new X;hO.c['dashboard']=e;hO.c['zoneId']=hM|0;var hP=hO;hP.invoke().then(hN)};ge.getCaptionContextMenu=function(e,hM){var hN=new T;hN.c['sheetName']=e;var hO=hN;hO.invoke().then(hM)};ge.getTitleContextMenu=function(e,hM){var hN=new bd;hN.c['sheetName']=e;var hO=hN;hO.invoke().then(hM)};ge.$1=function(e){return{h:Math.floor(e.h),w:Math.floor(e.w)}};ge.setPortSize=function(e){var hM=bK.newCommand$1('set-port-size',null);hM.commandParams={};hM.commandParams['sheet']=tsConfig.current_sheet_name;var hN,hO;if(tsConfig.is_authoring){hN=tabBootstrap.ViewerBootstrap.get_instance().getWebClientPortSize('dashboard');hO=tabBootstrap.ViewerBootstrap.get_instance().getWebClientPortSize('worksheet')}else{hN=(tab.FeatureFlags.isEnabled('IframeSizedToWindow')?cc.calculateDashboardSize():tabBootstrap.ViewerBootstrap.get_instance().getWebClientPortSize('dashboard'));hO=hN}hM.commandParams['worksheetPort']=ge.$1({h:hO.h,w:hO.w});hM.commandParams['dashboardPort']=ge.$1({h:hN.h,w:hN.w});hM.commandParams['storyPort']=ge.$1({h:hN.h,w:hN.w});fO.executeServerCommand(hM,'immediately');N.get_instance().get_workbook().withOuterDashboard(function(hP){hP.set_portSize(e)})};global.tab.SheetClientCommands=ge;var gf=function(e,hM){ey.call(this,e,new fd(hM.toString()))};gf.__typeName='tab.SheetListItemModel';global.tab.SheetListItemModel=gf;var gg=function(e){this.$2=null;this.$1=null;this.$2$1=null;ey.call(this,e,new fd('sheetList'.toString()));this.$1=new l(this)};gg.__typeName='tab.SheetListModel';global.tab.SheetListModel=gg;var gh=function(e,hM,hN){this.sheetId=null;P.call(this,e,hN);this.sheetId=hM};gh.__typeName='tab.SheetSession';gh.add_sheetDataChanged=function(e){gh.$2$1=ss.delegateCombine(gh.$2$1,e)};gh.remove_sheetDataChanged=function(e){gh.$2$1=ss.delegateRemove(gh.$2$1,e)};gh.fireSheetDataChanged=function(){if(ss.isValue(gh.$2$1)){gh.$2$1()}};global.tab.SheetSession=gh;var gi=function(e){ey.call(this,e,new fd('shelfItems'.toString(),1))};gi.__typeName='tab.ShelfItemsArrayModel';global.tab.ShelfItemsArrayModel=gi;var gj=function(e){ey.call(this,e,new fd('shelfList'.toString(),1))};gj.__typeName='tab.ShelfListArrayModel';global.tab.ShelfListArrayModel=gj;var gk=function(e,hM){this.$2=null;this.$2$1=null;ey.call(this,e,new fd(hM.toString()))};gk.__typeName='tab.ShelfModel';global.tab.ShelfModel=gk;var gl=function(e){this.$3=[];this.$2$1=null;ey.call(this,e,new fd('shelves'.toString()))};gl.__typeName='tab.ShelvesModel';gl.createShelfModel=function(e,hM,hN,hO,hP){var hQ=new gk(new gj(e),hO);hQ.update(hM,hN,hP);return hQ};global.tab.ShelvesModel=gl;var gm=function(){ss.makeGenericType(O,[Object,gn]).call(this)};gm.__typeName='tab.ShowDashboardTitleCmd';global.tab.ShowDashboardTitleCmd=gm;var gn=function(e){this.$$c=null;this.$$c=e};gn.__typeName='tab.ShowDashboardTitleCmd$Response';global.tab.ShowDashboardTitleCmd$Response=gn;var go=function(){ss.makeGenericType(O,[Object,gp]).call(this)};go.__typeName='tab.ShowEditAxisDialogCmd';global.tab.ShowEditAxisDialogCmd=go;var gp=function(e){this.$$c=null;this.$$c=e};gp.__typeName='tab.ShowEditAxisDialogCmd$Response';global.tab.ShowEditAxisDialogCmd$Response=gp;var gq=function(e){this.$0=null;this.$0=e};gq.__typeName='tab.SimpleCommandsPresModelWrapper';gq.create=function(e){if(ss.isNullOrUndefined(e)){return null}return new gq(e)};global.tab.SimpleCommandsPresModelWrapper=gq;var gr=function(e,hM){this.$2$1=null;ey.call(this,e,new fd(hM.toString()))};gr.__typeName='tab.SizeItemModel';global.tab.SizeItemModel=gr;var gs=function(e){this.$2$1=null;ey.call(this,e,new fd('sortIndicators'.toString()))};gs.__typeName='tab.SortIndicatorsModel';global.tab.SortIndicatorsModel=gs;var gt=function(){};gt.__typeName='tab.SortServerCommands';gt.sortFromIndicator=function(e,hM,hN){var hO=eB.getZoneIdForSheetName(hN.worksheet);var hP=gt.$2(e,hM,hN,hO);var hQ=bK.newCommand('sort-from-indicator',hP);var hR=new bo('afterDelay',function(hS){if(gt.$0(hO)){fG.setActiveZoneLocal(hO,hS)}},hQ);bu.SendCommand(hR)};gt.quickSort=function(e,hM){var hN=gt.$1(e,hM);var hO=bK.newCommand('quick-sort',hN);var hP=new bo('afterDelay',null,hO);bu.SendCommand(hP)};gt.$2=function(e,hM,hN,hO){var hP={};var hQ={x:Math.floor(e.x),y:Math.floor(e.y)};var hR={x:Math.floor(hM.x),y:Math.floor(hM.y)};bK.addVisualIdToCommand(hP,hN);hP['vizLocation']=JSON.stringify(tab.PointUtil.toPresModel(hQ));hP['scrollOffset']=JSON.stringify(tab.PointUtil.toPresModel(hR));if(gt.$0(hO)){hP['dashboardPm']=eB.findContentDashboard().pm.sheetPath;hP['zoneId']=hO}return hP};gt.$0=function(e){return tsConfig.allow_select&&e!==-1&&!eB.isActiveZone(e)};gt.$1=function(e,hM){var hN={};bK.addVisualIdToCommand(hN,e);hN['sortOrder']=hM;return hN};global.tab.SortServerCommands=gt;var gu=function(e,hM,hN,hO,hP){this.defaultSpace=null;this.left=null;this.right=null;this.bottom=null;this.top=null;this.$0=null;this.defaultSpace=e;this.left=hM;this.right=hN;this.top=hO;this.bottom=hP};gu.__typeName='tab.SpacingDefinition';global.tab.SpacingDefinition=gu;var gv=function(){ss.makeGenericType(O,[Object,gw]).call(this);this.set_uiBlocking('immediately')};gv.__typeName='tab.StartNewDataAlertCmd';global.tab.StartNewDataAlertCmd=gv;var gw=function(e){this.$$c=null;this.$$c=e};gw.__typeName='tab.StartNewDataAlertCmd$Response';global.tab.StartNewDataAlertCmd$Response=gw;var gx=function(){};gx.__typeName='tab.StartupUtils';gx.add_modelsInitialized=function(e){gx.$1$1=ss.delegateCombine(gx.$1$1,e)};gx.remove_modelsInitialized=function(e){gx.$1$1=ss.delegateRemove(gx.$1$1,e)};gx.add_clientFullyLoaded=function(e){gx.$1$2=ss.delegateCombine(gx.$1$2,e)};gx.remove_clientFullyLoaded=function(e){gx.$1$2=ss.delegateRemove(gx.$1$2,e)};gx.reset=function(){gx.$1=false;gx.$2=false;N.resetInstance()};gx.callAfterBootstrap=function(e){if(gx.$1){e()}else{var hM=null;hM=function(){e();gx.remove_clientFullyLoaded(hM)};gx.add_clientFullyLoaded(hM)}};gx.resetTsConfig=function(e){window['tsConfig']=e};gx.callAfterModelsInitialized=function(e){if(gx.$2){e()}else{var hM=null;hM=function(){e();gx.remove_modelsInitialized(hM)};gx.add_modelsInitialized(hM)}};gx.notifyModelsInitialized=function(){if(gx.$2){return}gx.$2=true;if(!ss.staticEquals(gx.$1$1,null)){gx.$1$1()}};gx.$0=function(){if(gx.$1){return}gx.$1=true;if(!ss.staticEquals(gx.$1$2,null)){gx.$1$2()}};global.tab.StartupUtils=gx;var gy=function(e,hM){this.$4=null;this.$2$1=null;this.$2$2=null;ey.call(this,e,new fd(hM.toString(),0));this.$4=new ca(this)};gy.__typeName='tab.StoryPointModel';global.tab.StoryPointModel=gy;var gz=function(e){this.$1=null;ey.call(this,e,new fd('storyPoints'.toString()))};gz.__typeName='tab.StoryPointsModel';global.tab.StoryPointsModel=gz;var gA=function(){this.$3=null;this.$3=new(ss.makeGenericType(er,[String,x]))(gA.$6);hF.get().add_onCommandResponse(ss.mkdel(this,this.$0));gA.$5=new ss.Lazy(function(){return['capture-story-point'.toString(),'delete-story-point'.toString(),'duplicate-active-story-point'.toString(),'edit-story-point-caption'.toString(),'ensure-layout-for-sheet'.toString(),'get-storyboard'.toString(),'insert-story-point'.toString(),'next-story-point'.toString(),'new-blank-story-point'.toString(),'previous-story-point'.toString(),'replace-story-point'.toString(),'revert'.toString(),'revert-story-point'.toString(),'revert-workbook'.toString(),'save-active-story-point-as-new'.toString(),'set-active-story-point'.toString(),'toggle-storypoints-nav-arrows'.toString()]});if(ss.isValue(gA.$4)){this.$3.add(gA.$4.item1.toString(),gA.$4.item2);gA.$4=null}};gA.__typeName='tab.StoryPointsPresModelCache';gA.$0=function(e){if(!gA.$3(e)){return}var hM=gA.$1(e);if(ss.isValue(hM)){var hN=new x(hM);gA.$4={item1:hM.storyPointId,item2:hN}}hF.get().remove_onBootstrapResponse(gA.$0)};gA.$3=function(e){if(gA.$2(e)||!e.workbookPresModel.dashboardPresModel.isStory||e.renderMode!=='render-mode-client'){return false}return true};gA.$2=function(e){if(ss.isNullOrUndefined(e.workbookPresModel)||ss.isNullOrUndefined(e.workbookPresModel.dashboardPresModel)||ss.isNullOrUndefined(e.workbookPresModel.dashboardPresModel.zones)){return true}return false};gA.$1=function(e){if(e.renderMode!=='render-mode-client'){return null}if(gA.$2(e)){return null}var hM=null;var hN=e.workbookPresModel.dashboardPresModel.zones;var hO=_.keys(hN);for(var hP=0;hP<hO.length;hP++){var hQ=hO[hP];var hR=hN[hQ];if(ss.isNullOrUndefined(hR)){continue}hM=hK.getContent(hR,'flipboard');if(ss.isValue(hM)){break}}if(ss.isNullOrUndefined(hM)){return null}var hS=hM.activeStoryPointId.toString();var hT=hM.storyPoints[hS];return hT};global.tab.StoryPointsPresModelCache=gA;var gB=function(e){this.$1=null;this.$2=null;this.$2$1=null;ey.call(this,e,new fd('styledBox'.toString(),0));this.$1=new ev;this.$2=new eJ};gB.__typeName='tab.StyledBoxModel';global.tab.StyledBoxModel=gB;var gC=function(e){this.$1=null;this.$0=null;this.update(e)};gC.__typeName='tab.TableCalcIdentifierModel';global.tab.TableCalcIdentifierModel=gC;var gD=function(e){this.$4=null;this.$3=null;this.$2$1=null;this.$2$2=null;ey.call(this,e,new fd('tableCalculationPresModel'.toString()));this.set_tableCalcIdentifier(new gC(null));this.$3=new gE(this)};gD.__typeName='tab.TableCalcModel';gD.$0=function(e,hM){if(!(hM in e.presModelHolder)){return null}return e.presModelHolder[hM]};global.tab.TableCalcModel=gD;var gE=function(e){this.$2$1=null;ey.call(this,e,new fd('tableCalcOrderingPresModel'.toString()))};gE.__typeName='tab.TableCalcOrderingModel';global.tab.TableCalcOrderingModel=gE;var gF=function(e){this.$2$1=null;ey.call(this,e,new fd('tableCalcReferenceOptionsPresModel'.toString()))};gF.__typeName='tab.TableCalcReferenceModel';global.tab.TableCalcReferenceModel=gF;var gG=function(){};gG.__typeName='tab.TabResources';gG.getResourceName=function(e){return e.substring(e.lastIndexOf('/')+1,e.lastIndexOf('.'))};gG.lookupResourceAlias=function(e){return(ss.keyExists(gG.$0,e)?gG.$0[e]:'')};gG.lookupFullResourceAlias=function(e){var hM=e.split('/');var hN=((hM.length>0)?hM[hM.length-1]:e);return gG.lookupResourceAlias(hN)};gG.lookupTabRes=function(e){return gG.lookupResourceAlias(e)};gG.lookupDefaultTabRes=function(e){return':/'+tsConfig.locale+'/'+gG.lookupResourceAlias(e)};global.tab.TabResources=gG;var gH=function(e,hM){this.$2$1=null;ey.call(this,e,new fd(hM))};gH.__typeName='tab.TextRegionModel';global.tab.TextRegionModel=gH;var gI=function(){ss.makeGenericType(O,[Object,gJ]).call(this)};gI.__typeName='tab.ToggleINDJoinSemanticsCmd';global.tab.ToggleINDJoinSemanticsCmd=gI;var gJ=function(e){this.$$c=null;this.$$c=e};gJ.__typeName='tab.ToggleINDJoinSemanticsCmd$Response';global.tab.ToggleINDJoinSemanticsCmd$Response=gJ;var gK=function(){ss.makeGenericType(hs,[Object,gL]).call(this)};gK.__typeName='tab.ToggleINDJoinSemanticsWrapperCmd';gK.get_commandName=function(){return'toggle-indjoin-semantics-wrapper'};global.tab.ToggleINDJoinSemanticsWrapperCmd=gK;var gL=function(e){this.$$c=null;this.$$c=e};gL.__typeName='tab.ToggleINDJoinSemanticsWrapperCmd$Response';global.tab.ToggleINDJoinSemanticsWrapperCmd$Response=gL;var gM=function(e){this.$2$1=null;ey.call(this,e,new fd('toolbarPresModel'.toString()))};gM.__typeName='tab.ToolbarModel';global.tab.ToolbarModel=gM;var gN=function(){};gN.__typeName='tab.ToolbarServerCommands';gN.get_authoringVizUri=function(){var e;var hM=null;if(ss.isNullOrEmptyString(hM)){e=ho.createForAuthoringPublishedSheet(tsConfig.repositoryUrl)}else{e=ho.createForAuthoringUnpublishedSheet(tsConfig.repositoryUrl,hM)}e.trimQueryParamsForAuthoringModeWhenLaunchedFromToolbar();e.removeHash();return e};gN.setAutoUpdate=function(e){var hM={};hM['state']=e;var hN=bK.newCommand$1('set-auto-update-server',hM);fO.executeServerCommand(hN,'immediately')};gN.refreshData=function(){var e={};e['deltaTime']=0;e['shouldRefreshDs']=true;var hM=bK.newCommand$1('refresh-data-server',e);fO.executeServerCommand(hM,'immediately')};gN.launchEditing=function(){var e=gN.get_authoringVizUri();if(!tsConfig.openAuthoringInTopWindow&&(tabBootstrap.Utility.get_embedMode()==='embedded'||tsConfig.is_mobile_app)){tab.WindowHelper.open(e.get_uri(),'tableauAuthoring')}else{e.setTopWindowLocation()}};gN.downloadWorkbook=function(e){var hM;if(ss.isValue(e)){hM=e}else{hM=tsConfig.downloadURI}var hN;if(tsConfig.is_metrics_view){hN=bu.get().get_legacySession().metricsViewDownloadUrl()}else{hN=gN.$0(hM)}window.open(hN)};gN.exportData=function(e){if(ss.isNullOrUndefined(e)&&ss.isValue(eB.findActiveOrDefaultVisual())){e=eB.findActiveOrDefaultVisual().get_worksheetName()}var hM=eB.findContentDashboard().getViewSession(e);if(ss.isValue(hM)){window.open(hM.formatUnderlyingDataURL(null),hM.getWindow('vud'),'scrollbars,resizable')}};gN.exportImage=function(e){var hM=N.get_instance().get_workbook().get_currentSheetStoryPointId();var hN=tableau.types.ExportDialogType['ExportImage'];var hO=[];var hP=[];if(eB.findContentDashboard().get_isDashboard()){var hQ=e.get_sheetScrollPositions();if(ss.isValue(hQ)){var hR=ss.getEnumerator(Object.keys(hQ));try{while(hR.moveNext()){var hS=hR.current();var hT=hQ[hS];var hU=hT.x;var hV=hT.y;if(hU!==0||hV!==0){hP.push({x:hU,y:hV});hO.push(hS)}}}finally{hR.dispose()}}}cN.exportImage(tsConfig.current_sheet_name,hM,hN,hO,hP)};gN.exportCrosstab=function(e){if(ss.isNullOrUndefined(e)&&ss.isValue(eB.findActiveOrDefaultVisual())){e=eB.findActiveOrDefaultVisual().get_worksheetName()}var hM=eB.findContentDashboard().getViewSession(e);if(ss.isValue(hM)){var hN=tableau.types.ExportDialogType['ExportCrosstab'];hM.fileDownloadHelper.openDownload(hM.formatExportCrossTabURL('utf16'),hN)}};gN.exportPdf=function(e){e.triggerExportPdfUI()};gN.$0=function(e){if(ss.isValue(e)){var hM=e.match(gN.$1);if(ss.isValue(hM)&&hM.length>=2){return tabBootstrap.ViewerBootstrap.get_instance().location.protocol+'//'+tabBootstrap.ViewerBootstrap.get_instance().location.host+hM[1]}}return e};global.tab.ToolbarServerCommands=gN;var gO=function(e){this.$2=null;this.$1=null;this.modelUpdateContext=null;this.modelUpdateContext=e;this.$2=[];this.$1=[]};gO.__typeName='tab.Transaction';gO.$0=function(e){if(e.length===0){return null}e=_.sortBy(e,function(hR){return hR.$1().get_pathList().length});var hM=N.get_instance().pm;var hN=fb.cloneObjWithScalarsOnly(hM);if(ss.isNullOrUndefined(hN)){hN=new Object}var hO=hN;for(var hP=0;hP<e.length;hP++){var hQ=e[hP];fb.insertAtPath(hM,hO,hQ.$1(),hQ.$0())}return hO};global.tab.Transaction=gO;var gP=function(){this.$1=null;this.$0={}};gP.__typeName='tab.Transactor';global.tab.Transactor=gP;var gQ=function(e,hM){ey.call(this,e,hM)};gQ.__typeName='tab.TypeSpecificTableCalcModel';global.tab.TypeSpecificTableCalcModel=gQ;var gR=function(){by.call(this)};gR.__typeName='tab.UbertipButtonMenuModel';global.tab.UbertipButtonMenuModel=gR;var gS=function(){this.$2$1=null;this.$2$2=false;this.$2$3=null;ey.call(this,null,new fd('ubertipButton'))};gS.__typeName='tab.UbertipButtonModel';global.tab.UbertipButtonModel=gS;var gT=function(){};gT.__typeName='tab.UberTipClientCommands';gT.$5=function(){return tab.MiscUtil.lazyInitStaticField(gT,'commandPermissions',function(){return eV.buildCommandPermission()})};gT.executeUbertipAction=function(e,hM,hN){var hO=new z(function(hP){I.executeAction(e,hM,hN,hP)});bu.SendCommand(hO)};gT.executeUbertipCommand=function(e){switch(e.get_commandType()){case 1:{fG.clearAllSelections(eB.findActiveOrDefaultVisual().get_visualId());break}case 2:case 10:{var hM=gT.$4(e);fO.executeServerCommand(hM,'immediately');break}case 4:case 11:case 12:case 13:case 15:case 17:case 18:case 22:case 16:{fO.executeServerCommand(e.command,'immediately');break}case 21:{fO.executeServerCommand(e.command,'immediately',bK.createCommandRedirectSuccessHandler(null),null);break}case 23:{var hN=bK.newCommand('select-by-tuple-value',e.command.commandParams);fO.executeServerCommand(hN,'immediately');break}case 6:case 9:case 7:default:{return}}};gT.localAndRemoteUberTipCommand=function(e,hM,hN,hO,hP,hQ,hR,hS,hT,hU){var hV=gT.$0(e,hM,hN,hO,hQ,hR,hS,hT,hU,hP);bu.SendCommand(hV)};gT.filterUbertipButtonsByCommandPermissions=function(e,hM){return _.filter(e,function(hN){if(hN.get_isMenuButton()){return true}if(!hM.test(hN)){return false}return true})};gT.$0=function(e,hM,hN,hO,hP,hQ,hR,hS,hT,hU){var hV=new b(gT.$1(e,hN,hP,hQ),gT.$3(hM,hN,hO,hT,hU),gT.$2(true,hR),hS);return hV};gT.localOnlyUbertipCommand=function(e,hM,hN,hO){var hP=gT.buildLocalOnlyUbertipCommand(e,hM,hN,hO);hP.set_commandName('render-tooltip-server'.toString());bu.SendCommand(hP)};gT.buildLocalOnlyUbertipCommand=function(e,hM,hN,hO){var hP=new b(gT.$1(e,hM,hN,hO),null,null,null);return hP};gT.remoteOnlyUbertipCommand=function(e,hM,hN,hO,hP,hQ,hR,hS,hT){var hU=gT.buildRemoteOnlyUberTipCommand(e,hM,hN,hO,hP,hQ,hR,hS,hT);bu.SendCommand(hU)};gT.buildRemoteOnlyUberTipCommand=function(e,hM,hN,hO,hP,hQ,hR,hS,hT){var hU=null;if(hS&&ss.isValue(hR)){hU=function(hW){I.executeActions(hM.worksheet,'on-hover',hR,hW,false)}}var hV=new b(hU,gT.$3(e,hM,hN,hQ,hT),gT.$2(false,hO),hP);return hV};gT.$1=function(e,hM,hN,hO){return function(hP){var hQ=gU.createLocalUberTipModel(e,eB.getVisualModelFromVisualId(hM),hN,tsConfig.is_authoring);if(ss.isValue(hQ)){hQ.isUpdate=false;hQ.buttonModels=gT.filterUbertipButtonsByCommandPermissions(hQ.buttonModels,gT.$5())}hO(hQ);I.executeActions(hM.worksheet,'on-hover',[hN.get_interactedTupleId()],hP,false)}};gT.$3=function(e,hM,hN,hO,hP){var hQ={};bK.addVisualIdToCommand(hQ,hM);if(ss.isValue(hP)){hQ['tupleIds']=[ss.unbox(hP)]}var hR=new Object;var hS=hn.create(hR);hS.set_r(e);hS.set_x(Math.round(hN.x));hS.set_y(Math.round(hN.y));hS.set_w(Math.round(hN.w));hS.set_h(Math.round(hN.h));hQ['vizRegionRect']=hR;hQ['allowHoverActions']=tsConfig.is_mobile||hO==='on-hover';hQ['allowPromptText']=true;hQ['allowWork']=tsConfig.is_mobile;hQ['useInlineImages']=true;return bK.newCommand$1('render-tooltip-server',hQ)};gT.$2=function(e,hM){return function(hN){if(!ss.isValue(hN)){return}var hO=hN.toString();var hP=(ss.isNullOrEmptyString(hO)?null:JSON.parse(hO));db.notifyFontsFromUberTipPresModel(hP);var hQ=gU.deserializeUbertip(hP);if(ss.isValue(hQ)){hQ.isUpdate=e;hQ.buttonModels=gT.filterUbertipButtonsByCommandPermissions(hQ.buttonModels,gT.$5())}if(ss.isValue(hM)){hM(hQ)}db.$5()}};gT.$4=function(e){var hM=bK.duplicateCommand(e.command);var hN=hM.commandParams;var hO=hN['tupleId'];delete hN['tupleId'];if(!ss.keyExists(hN,'selectAtPoint')&&ss.isValue(hO)){var hP=[parseInt(hO.toString())];var hQ={};hQ.objectIds=hP;hQ.selectionType='tuples';hN['selection']=hQ}return hM};global.tab.UberTipClientCommands=gT;var gU=function(){};gU.__typeName='tab.UbertipSerializer';gU.deserializeUbertip=function(e){if(ss.isNullOrUndefined(e)){return null}var hM=[];if(ss.isValue(e.selectionRelaxationCommands)){gU.$1(e.selectionRelaxationCommands,hM,0)}var hN=[];if(ss.isValue(e.actions)){gU.$1(e.actions,hN,0)}var hO={};if(ss.isValue(e.commands)){hO.buttonModels=gU.$2(e,null)}hO.tooltipHtml=gU.$b(e.htmlTooltip);hO.selectionHtml=gU.$b(e.htmlSelection);hO.overlayImage=gU.$b(e.overlayImage);hO.overlayImageKey=gU.$b(e.overlayImageKey);hO.tupleId=e.tupleId;hO.interactedTupleId=e.tupleId;hO.imageRegion=e.r;hO.tupleSelected=e.tupleSelected||false;hO.refLineSelected=e.refLineSelected||false;hO.trendLineSelected=e.trendLineSelected||false;hO.isExplicitlyEmpty=e.isEmpty||false;hO.tooltipOffset=tab.PointUtil.fromPresModel(e.tooltipOffset);hO.markBounds=tab.RecordCast.rectPresModelAsRectXY(e.markTooltipRect);hO.contentCommands=hM;hO.actions=hN;if(ss.isValue(hO.overlayImage)||ss.isValue(hO.overlayImageKey)){var hP=e.overlayAnchors.length;hO.overlayAnchors=new Array(hP);for(var hQ=0;hQ<hP;++hQ){var hR=e.overlayAnchors[hQ];var hS=tab.PointUtil.fromPresModel(hR);hO.overlayAnchors[hQ]={x:hS.x,y:hS.y}}}if(ss.isValue(hO.tooltipHtml)||ss.isValue(hO.selectionHtml)||ss.isValue(hO.buttonModels)&&hO.buttonModels.length>0||hN.length>0){return hO}return null};gU.createLocalUberTipModel=function(e,hM,hN,hO){var hP=hN.get_interactedTupleId();var hQ=hN.get_affectedTupleIds();var hR=hN.get_paneDescriptorKey();var hS=hM.get_vizDataModel();if(ss.isNullOrUndefined(hS)){return null}var hT=hS.get_ubertipData();var hU=gU.$9(hT,hR);var hV=gU.$7(hU.htmlTooltip,hM.get_visualId(),hP);var hW=N.get_instance().get_dataDictionary();var hX=hk.constructHtml(hW,hU.htmlTooltip,hS,[hP]);var hY=null;var hZ=false;if(hQ.length>1&&hU.showButtons){hZ=true;hY=gU.$8(hW,hS,hQ,hU.summaryField)}var ia=[];var ib=hP;if(ib<0){ib=0}var ic=hk.hasTupleWithNonTotalValue(hS,hW,hQ);if(hU.showButtons&&hS.hasDimensionColumnNotMeasureNames()){if(ic){var id=gU.$d(null,e);ia=gU.$3(hT.standardCommands,e,ib,id)}if(hZ){var ie=gU.$d(null,e);ia=gU.$3(hT.multiselectCommands,e,ib,ie)}ia=_.filter(ia,function(ik){return ik.get_commandType()!==10});if(hO){var ig=gU.$5();ia.push(ig)}}var ih;if(ic){ih=I.getApplicableActions(hM.get_visualId().worksheet,'explicitly',null);ih=_.filter(ih,function(ik){if(ik.activation==='explicitly'&&I.getActionType(ik)!=='url'&&ik.targetWorksheets.length===0){return false}return true})}else{ih=[]}var ii=hU.htmlTooltip.toString().length===0;if(ss.isValue(hX)||ss.isValue(hY)||ia.length>0||ih.length>0){var ij={tooltipHtml:hX,selectionHtml:hY,tupleId:ib,interactedTupleId:hP,isExplicitlyEmpty:ii,actionPMs:ih,buttonModels:ia,contentCommands:hV,visualId:hM.get_visualId()};return ij}return null};gU.$5=function(){var e=new bA;e.set_commandType(10);e.imageRes=gG.lookupResourceAlias('TQRC_SPLIT');e.set_name('');var hM=e;if(tsConfig.is_mobile){var hN=tab.Strings.UbertipTooltip_GroupMobile;var hO=tab.Strings.UbertipTooltip_SplitMobile;hM.description=((hO.length>hN.length)?hO:hN)}var hP=new bB;hP.update(hM,true);return hP};gU.paneContainsViT=function(e,hM){if(ss.isNullOrUndefined(e)){return false}var hN=e.get_vizDataModel();if(ss.isNullOrUndefined(hN)){return false}var hO=hN.get_ubertipData();if(ss.isNullOrUndefined(hO)){return false}if(ss.isNullOrUndefined(hM)){for(var hP=0;hP<hO.ubertipPaneDatas.length;hP++){var hQ=hO.ubertipPaneDatas[hP];if(hk.objectContainsVizInTooltip($(hQ.htmlTooltip))){return true}}return false}else{return hk.objectContainsVizInTooltip($(gU.$9(hO,hM).htmlTooltip))}};gU.$9=function(e,hM){if(e.ubertipPaneDatas.length===1){return e.ubertipPaneDatas[0]}for(var hN=0;hN<e.ubertipPaneDatas.length;hN++){var hO=e.ubertipPaneDatas[hN];if(ss.isValue(hO.paneDescriptor)){if(ss.referenceEquals(hO.paneDescriptor.paneDescrKey,hM)){return hO}}}return null};gU.$7=function(e,hM,hN){if(!tab.FeatureFlags.isEnabled('SelectionRelaxation')){return[]}if(hN===0){return[]}var hO=$(e);var hP=hO.find('a.relax-selection');var hQ=hP.length;var hR=[];for(var hS=0;hS<hQ;hS++){var hT=hP.eq(hS);var hU=hT.children().eq(0);var hV=ss.replaceAllString(ss.replaceAllString(ss.replaceAllString(ss.replaceAllString(hU.text(),'<[','['),']>',']'),'>>','>'),'<<','<');var hW=hT.attr('href');var hX=gU.$0(hM,hV,hW,hN);hR[hS]=hX}return hR};gU.$0=function(e,hM,hN,hO){var hP={};hP['visualIdPresModel']=e;hP['worksheet']=e.worksheet;hP['fn']=hM;hP['tupleId']=hO.toString();var hQ=bK.newCommand('select-by-tuple-value',hP);var hR=new bA;hR.set_commandType(23);hR.set_name(hN);hR.command=hQ;var hS=hR;return hS};gU.$8=function(e,hM,hN,hO){var hP=hM.getVizDataField(hO||'');if(ss.isValue(hP)){var hQ=[];$.extend.apply(null,[true,hQ].concat(gU.$e));hQ[2]=hN.length.toString();hQ[4]=tab.Strings.UbertipItemsSelected;if(hP.get_aggType()!=='sum'){hQ[8]=tab.Strings.SumOf}hQ[10]=hO;hQ[14]='&lt;'+hO+'&gt;';var hR=hQ.join('');return hk.constructHtml(e,hR,hM,hN)}else{gU.$f[2]=hN.length.toString();gU.$f[4]=tab.Strings.UbertipItemsSelected;return gU.$f.join('')}};gU.$d=function(e,hM){var hN=ss.isNullOrUndefined(hM);var hO=false;if(ss.isValue(e)&&ss.isValue(e.r)){switch(e.r){case'viz':case'xheader':case'yheader':case'bottomaxis':case'leftaxis':case'rightaxis':case'topaxis':{hO=true;break}}hO=hO&&!e.refLineSelected&&!e.trendLineSelected}return!tsConfig.previewMode&&(hO||!hN)};gU.$c=function(){return tsConfig.is_mobile};gU.$1=function(e,hM,hN){var hO=bI.create(e);if(ss.isNullOrUndefined(hO)||ss.isNullOrUndefined(hO.get_commandItems())){return}var hP=hO.get_commandItems();for(var hQ=0;hQ<hP.length;hQ++){var hR=hP[hQ];var hS=bz.create(hR);var hT=new bA;hT.command=bG.deserialize(hS.get_command());var hU=hT;if(ss.isValue(hU.command)){gU.buildCommandModelFromWrapper(hU,hS,hN);hM.push(hU)}if(ss.isValue(hS.get_commands())){gU.$1(hS.get_commands(),hM,hN)}}};gU.$2=function(e,hM){var hN=e.commands;var hO=gU.$d(e,hM);return gU.$3(hN,hM,0,hO)};gU.$3=function(e,hM,hN,hO){var hP=bI.create(e);if(ss.isNullOrUndefined(hP)||ss.isNullOrUndefined(hP.get_commandItems())){return[]}var hQ=[];var hR=hP.get_commandItems();for(var hS=0;hS<hR.length;hS++){var hT=hR[hS];var hU=bz.create(hT).get_command();var hV=ss.isNullOrUndefined(hU);if(hV){var hW=new gR;hW.update(hT,hN);hQ.push(hW)}else{var hX=new by;hX.update(hT,hN);hQ.push(hX)}}if(hO&&hQ.length>0){var hY=ss.isNullOrUndefined(hM);hQ.push(gU.$6(hQ,hY,hM))}if(gU.$c()){hQ.push(gU.$4())}return hQ};gU.$6=function(e,hM,hN){var hO=new bA;hO.set_commandType(7);hO.status='enabled';hO.description=tab.Strings.UbertipTooltip_ViewData;hO.command=bK.newCommand('viewData',{});var hP=hO;var hQ=gU.$a(e,hM,hN);if(ss.isValue(hQ)){hP.command.commandParams['selectAtPoint']=hQ}var hR=new bB;hR.update(hP,false);return hR};gU.$a=function(e,hM,hN){if(hM){for(var hO=0;hO<e.length;hO++){var hP=e[hO];if(ss.isValue(hP.get_serializedCommand())&&ss.isValue(hP.get_serializedCommand().commandParams)&&ss.keyExists(hP.get_serializedCommand().commandParams,'selectAtPoint')){return hP.get_serializedCommand().commandParams['selectAtPoint']}}return null}else{return JSON.stringify(tab.PointUtil.toPresModel(hN))}};gU.$4=function(){var e=new bA;e.set_commandType(1);e.set_name(tab.Strings.UbertipClearSelection);e.status='enabled';var hM=e;var hN=new bB;hN.update(hM,false);return hN};gU.buildCommandModelFromWrapper=function(e,hM,hN){gU.setCommandType(e);e.set_name(hM.get_name());e.description=hM.get_description();if(!tab.MiscUtil.isNullOrEmpty$1(hM.get_iconRes())){e.imageRes=gG.lookupFullResourceAlias(hM.get_iconRes())}var hO=hM.get_enabled();e.status=((ss.isNullOrUndefined(hO)||hO)?'enabled':'disabled');if(hN!==0&&!ss.isValue(e.command.commandParams['selectAtPoint'])){e.command.commandParams['tupleId']=hN.toString()}};gU.setCommandType=function(e){var hM=bG.getCommandType(e.command);if(ss.isValue(hM)){e.set_commandType(ss.unbox(hM))}};gU.$b=function(e){return(ss.isNullOrEmptyString(e)?null:e)};global.tab.UbertipSerializer=gU;var gV=function(){ss.makeGenericType(O,[Object,gW]).call(this)};gV.__typeName='tab.UpdateDataAlertCmd';global.tab.UpdateDataAlertCmd=gV;var gW=function(e){this.$$c=null;this.$$c=e};gW.__typeName='tab.UpdateDataAlertCmd$Response';global.tab.UpdateDataAlertCmd$Response=gW;var gX=function(){};gX.__typeName='tab.UriPathStripper';gX.getModuleFromPath=function(e,hM){var hN=tsConfig.site_root||'';var hO=e.indexOf(hN,0);var hP;if(hO===-1){hP=e.substr(1)}else{var hQ=hO+hN.length;hP=e.substr(hQ+1)}for(var hR=0;hR<hM.length;hR++){var hS=hM[hR];if(ss.startsWithString(hP,hS+'/')){return hS}}return''};gX.getMeatFromPath=function(e,hM){var hN=gX.getModuleFromPath(e,hM);var hO=e.indexOf(hN,0);return e.substr(hO+hN.length+1)};global.tab.UriPathStripper=gX;var gY=function(){};gY.__typeName='tab.UrlStringReplacementOutcome';global.tab.UrlStringReplacementOutcome=gY;var gZ=function(){};gZ.__typeName='tab.UserFactory';gZ.currentUser=function(){return{id:tsConfig.current_user_id,friendlyName:tsConfig.current_user_friendly_name,username:tsConfig.current_user_name,hasEmail:!ss.isNullOrEmptyString(tsConfig.current_user_email)}};global.tab.UserFactory=gZ;var ha=function(e){ey.call(this,e,new fd('geometry'))};ha.__typeName='tab.ViewGeometryModel';global.tab.ViewGeometryModel=ha;var hb=function(e,hM,hN,hO){this.viewid=null;gh.call(this,e,hM,hO);this.viewid=hN};hb.__typeName='tab.ViewSession';global.tab.ViewSession=hb;var hc=function(){};hc.__typeName='tab.VisualColumnHelpers';hc.transformColumn=function(e,hM){if(ss.isNullOrUndefined(e)){return false}e.transform(hM);return true};hc.createDataArray=function(e,hM,hN){var hO=Array.prototype.slice.call(e.dataValues,hM,hM+hN);return hd.create(hO)};hc.parseColumns=function(e,hM,hN){var hO=hc.$0(e);var hP=_.keys(e.encodingColumns);for(var hQ=0;hQ<hP.length;hQ++){var hR=hP[hQ];hO.set(hR,hc.createDataArray(e.encodingColumns[hR],hM,hN))}return hO};hc.buildColorTable=function(e,hM,hN,hO){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(hM)||!hM.has('color_idx')){return null}var hP=1;if(hM.has('alpha')&&hM.get('alpha').c){var hQ=hM.get('alpha');hP=hQ.v[(hQ.c?0:0)]}var hR=[];var hS={};var hT=hM.get('color_idx');var hU=hT.length;for(var hV=0;hV<hU;hV++){var hW=hT.v[(hT.c?0:hV)];if(ss.keyExists(hS,hW)){hT.v[(hT.c?0:hV)]=hS[hW]}else{var hX=bs.fromArgbInt(e.colorList[hW]);hX=new bs(hX.get_r(),hX.get_g(),hX.get_b(),hP*hX.get_a());hR.push(fy.createColorCollection(hX,hN,hO));hT.v[(hT.c?0:hV)]=hR.length-1;hS[hW]=hT.v[(hT.c?0:hV)]}}return hR};hc.buildOpaqueColorTable=function(e){if(ss.isNullOrUndefined(e)){return null}var hM=[];for(var hN=0,hO=e.length;hN<hO;hN++){hM[hN]=fy.createOpaqueColorCollection(e[hN])}return hM};hc.$0=function(e){var hM=new Map;var hN=[e.intMap,e.floatMap,e.boolMap];for(var hO=0;hO<hN.length;hO++){var hP=hN[hO];if(ss.isNullOrUndefined(hP)){continue}var hQ=Object.keys(hP);for(var hR=0;hR<hQ.length;hR++){var hS=hQ[hR];var hT=[hP[hS]];hM.set(hS,hd.create(hT))}}return hM};global.tab.VisualColumnHelpers=hc;var hd=function(e){this.v=null;this.length=0;this.isValid=false;this.c=false;this.v=e;this.isValid=ss.isValue(this.v)&&this.v.length>0;this.length=(this.isValid?this.v.length:0);this.c=false};hd.__typeName='tab.VisualColumnIterator';hd.create=function(e){if(ss.isNullOrUndefined(e)){return null}if(e.length===1){return new A(e)}return new hd(e)};global.tab.VisualColumnIterator=hd;var he=function(e){this.$1=null;this.$2$1=null;ey.call(this,e,new fd('visuallist'))};he.__typeName='tab.VisualListModel';global.tab.VisualListModel=he;var hf=function(e){this.$p=null;this.$k=null;this.$b=null;this.$f={};this.$h=null;this.$9=null;this.$q=null;this.$o=null;this.$l=null;this.$n=null;this.$m=null;this.$r=null;this.$v=null;this.$d=null;this.$t=null;this.$s=null;this.$i=null;this.$j=null;this.$8=null;this.$g=null;this.$7=null;this.$c=null;this.$u=false;this.$a=false;this.$e=false;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.$2$7=null;this.$2$8=null;this.$2$9=null;ey.call(this,e,new fd('visual'.toString()));this.$j=new Map;this.$8=new Map;this.$g=new Map;this.$7=new Map;this.$p=new fK(this,'selectionList'.toString());this.$k=new fH(null,-1);this.$b=new fK(this,'brushingSelectionList'.toString());this.$u=true;this.$a=false;this.$e=false;this.$k.update(fK.$1('tuples'),eF.get_noopContext())};hf.__typeName='tab.VisualModel';hf.$1=function(){return tab.Logger.lazyGetLogger(hf)};hf.$0=function(e){var hM=e.scene;if(ss.isValue(hM)&&ss.isValue(hM.runtimeFinalDatastore)){var hN=tab.RuntimeUtil.constructRuntimeData(hM.runtimeFinalDatastore);if(ss.isValue(hN.finalDataStore.PDMarks)){hM.pdMarksMap=hN.getPDMarksPresModels()}if(ss.isValue(hN.finalDataStore.AnnexedData)&&ss.isValue(hN.finalDataStore.AnnexedData.LabelStore)){if(ss.isNullOrUndefined(e.markLabels)){e.markLabels={}}hN.populateLabels(e.markLabels,hM.currentPage)}for(var hO=0;hO<hM.panes.length;hO++){var hP=hM.panes[hO];for(var hQ=0;hQ<hP.drawPane.length;hQ++){var hR=hP.drawPane[hQ];if(ss.isValue(hR.paneMarks)){var hS=hR.paneMarks;hN.populatePaneMarks(hS,hM.currentPage)}}}}};global.tab.VisualModel=hf;var hg=function(){};hg.__typeName='tab.VizClientCommands';hg.invalidateVisualModel=function(e){hg.$0(e,false)};hg.validateVisualModel=function(e){hg.$0(e,true)};hg.$0=function(e,hM){var hN=new z(function(hO){eB.setVisualValidStateOnModel(hO,e,hM)});bu.SendCommand(hN)};hg.setUIMode=function(e,hM){var hN=N.get_instance().get_workbook();if(hN.get_uiMode()===e){return}var hO=e!=='document'||ss.referenceEquals(hM,tsConfig.current_sheet_name);hO=hO&&e!=='data-tab';var hP=new bm;hP.c['uiMode']=e;hP.set_uiBlocking((hO?'none':'immediately'));var hQ=hP;if(!ss.isNullOrEmptyString(hM)){hQ.c['sheetName']=hM}if(hO){hQ.set_localWork(function(hR){var hS=hR.makeMutablePresModel(hN,false);hS.uiMode=e})}hQ.invoke()};global.tab.VizClientCommands=hg;var hh=function(e,hM){this.$a=null;this.$d=null;this.$c=false;this.$b=false;this.$e=null;this.$a=e;this.$d=hM;this.$e={};this.$6();this.$c=this.$1();this.$b=this.$0()};hh.__typeName='tab.VizDataField';global.tab.VizDataField=hh;var hi=function(){};hi.__typeName='tab.VizDataLookup';hi.lookupDisplayValue=function(e,hM,hN){if(!hM.isTupleIdValid(e)){hi.$2(e,hM.get_fieldCaption());return null}if(hM.get_hasAliases()){var hO=hi.lookupAlias(e,hM,hN);if(ss.isValue(hO)){return hO}}if(hM.get_hasDataValues()){var hP=hi.$3(e,hM,hN);if(ss.isValue(hP)){return hP}}hi.$2(e,hM.get_fieldCaption());return null};hi.$2=function(e,hM){var hN=ss.formatString('Failed trying to look up the display value for tuple id "{0}" because it is invalid for field "{1}"',e,hM)};hi.$1=function(e){return ss.Nullable$1.lt(e,0)};hi.$0=function(e){return ss.Nullable$1.sub(ss.Nullable$1.neg(e),1)};hi.lookupAlias=function(e,hM,hN){if(!hM.isTupleIdValid(e)){hi.$2(e,hM.get_fieldCaption());return null}var hO=hM.getAliasIndex(e);return hi.lookupAliasFromIndex(hO,hM,hN)};hi.lookupAliasFromIndex=function(e,hM,hN){var hO=null;if(ss.isValue(e)){if(hi.$1(e)){e=hi.$0(e);hO=hN.getRawValue('cstring',ss.unbox(e));if(tableau.format.isSpecialValue(hO)){hO=tableau.format.formatSpecial(hO,hM.get_specialValuesOverride())}}else{var hP=e;hO=hi.$4(hP,hM,hN)}}return hO};hi.lookupRawDataValue=function(e,hM,hN){var hO=hM.getDataValueIndex(e);return hi.lookupRawDataValueFromIndex(hO,hM,hN)};hi.lookupRawDataValueFromIndex=function(e,hM,hN){var hO=null;if(ss.isValue(e)){var hP;var hQ=ss.unbox(e);if(hQ>=0){hP=hM.get_dataType()}else{hQ=-hQ-1;hP='cstring'}var hR=hN.getRawValue(hP,hQ);if(ss.isValue(hR)){hO=hR.toString()}}return hO};hi.$3=function(e,hM,hN){var hO=hM.getDataValueIndex(e);return hi.$4(hO,hM,hN)};hi.$4=function(e,hM,hN){var hO=null;var hP=hi.lookupRawDataValueFromIndex(e,hM,hN);if(ss.isValue(hP)){if(tableau.format.isSpecialValue(hP)){hO=tableau.format.formatSpecial(hP,hM.get_specialValuesOverride())}else{hO=tableau.format.formatString(hP,hM.get_vizColumnDoNotUse())}}return hO};hi.reverseLookupAlias=function(e,hM,hN,hO){var hP=null;if(hN.get_hasAliases()){hM.forEachTupleId(function(hQ){var hR=hi.lookupAlias(hQ,hN,hO);if(ss.compareStrings(hR,e,false)===0){hP=hN.getAliasIndex(hQ);return false}return true})}return hP};hi.buildAliasReverseLookup=function(e,hM,hN){var hO={};if(hM.get_hasAliases()){e.forEachTupleId(function(hP){var hQ=hi.lookupAlias(hP,hM,hN);if(ss.isNullOrUndefined(hO[hQ])){hO[hQ]=hM.getAliasIndex(hP)}return true})}return hO};hi.isSpecial=function(e,hM,hN,hO){var hP=hi.lookupRawDataValue(e,hM,hN);if(ss.isNullOrUndefined(hP)){var hQ=hM.getAliasIndex(e);if(ss.isValue(hQ)){if(hi.$1(hQ)){hQ=hi.$0(hQ)}var hR=hQ;hP=hi.lookupRawDataValueFromIndex(hR,hM,hN)}if(ss.isNullOrUndefined(hP)){return false}}return(ss.isNullOrUndefined(hO)?tableau.format.isSpecialValue(hP):ss.referenceEquals(hP,hO))};global.tab.VizDataLookup=hi;var hj=function(e){this.$4=null;this.$6=null;this.$5=null;this.$2$1=null;ey.call(this,e,new fd('vizData'.toString()));this.$4=[];this.$5=[]};hj.__typeName='tab.VizDataModel';global.tab.VizDataModel=hj;var hk=function(){};hk.__typeName='tab.VizDataUtils';hk.constructUrl=function(e,hM,hN,hO,hP){var hQ=function(hR,hS,hT){if(ss.isNullOrEmptyString(hS)){if(ss.isValue(hO)){return hk.$6(e,hR,hO,1,hM)}return null}var hU=hk.$1(e,hR,hS,hM.delimiter);if(hM.shouldUrlEscape){hU=encodeURIComponent(hU)}return hU};return hk.decodeAndReplaceData(hM.url,'<','>',hN,hQ)};hk.constructUrlForFilterActionFromTargetURL=function(e,hM,hN,hO,hP){var hQ=function(hY,hZ,ia){return hk.$5(e,hY,hP,ia,hN)};var hR=hM.toString().split('?');if(hR.length===1){return hM}var hS=hR[0]+'?';var hT=hR[1].split('&');var hU=[];for(var hV=0;hV<hT.length;hV++){var hW=hT[hV];var hX=hk.decodeAndReplaceData(hW,'<','>',hO,hQ);if(hX.item2==='success'){hU.push(hX.item1)}}hS+=hU.join('&');return hS};hk.constructUrlFromString=function(e,hM,hN,hO,hP,hQ){var hR=function(hT,hU,hV){if(ss.isNullOrEmptyString(hU)){return hk.$2(e,hT,hO,1)}else{return hk.$1(e,hT,hU,hQ)}};var hS=hk.decodeAndReplaceData(hM,'<','>',hN,hR);return hS.item1};hk.constructHtml=function(e,hM,hN,hO){var hP=function(hT,hU,hV){return hk.$2(e,hT,hO,0)};var hQ=hk.decodeAndReplaceData(hM,'&lt;','&gt;',hN,hP);var hR=$(hQ.item1);var hS=[];hk.getNodesOfInvalidFields(hR,hS);hk.$0(hR,hS);hk.replaceLastVizInTooltipSizes(hR);return(hk.shouldShowUbertipHTML(hR)?hR.wrap('<div>').parent().html():'')};hk.replaceLastVizInTooltipSizes=function(e){if(tab.FeatureFlags.isEnabled('VizInTooltip')){var hM=e.find('span[data-tableau="VizInTooltip"]');var hN=Math.min(hM.length,hk.lastWidthAndHeightForVizInTooltips.length);for(var hO=0;hO<hN;hO++){hM[hO].style.width=hk.lastWidthAndHeightForVizInTooltips[hO].item1;hM[hO].style.height=hk.lastWidthAndHeightForVizInTooltips[hO].item2;hM[hO].style.display='inline-block'}}};hk.updateLastVizInTooltipSizes=function(e){var hM=$(e);var hN=hM.find('span[data-tableau="VizInTooltip"] img');var hO=hN.length;for(var hP=0;hP<hO;hP++){var hQ=hN[hP].getAttribute('height')+'px';var hR=hN[hP].getAttribute('width')+'px';hk.lastWidthAndHeightForVizInTooltips[hP]={item1:hR,item2:hQ}}};hk.decodeAndReplaceData=function(e,hM,hN,hO,hP){var hQ='success';var hR=hk.$4(e,'escaped_open_tag');var hS=hk.$4(e,'escaped_close_tag');var hT=ss.replaceAllString(ss.replaceAllString(e,hM+hM,hR),hN+hN,hS);var hU=hT.split(hM);var hV=new ss.StringBuilder(hU.shift());for(var hW=0;hW<hU.length;hW++){var hX=hU[hW];var hY=hX.split(hN);var hZ=ss.htmlDecode(ss.replaceAllString(ss.replaceAllString(hY[0],hR,hM),hS,hN));var ia=hY[1];var ib=true;var ic=hZ.lastIndexOf(String.fromCharCode(126));var id=hZ.lastIndexOf(String.fromCharCode(93));if(ic>=0&&(id===-1||id<ic)){var ie=hZ.substr(ic);hZ=hZ.substr(0,ic);if(ie==='~na'){ib=false}}var ig=null;if(hk.$7(hZ)){var ih=hZ.indexOf('(');ig=hZ.substring(0,ih);hZ=hZ.substring(ih+1,hZ.length-1)}var ii=hZ.indexOf(String.fromCharCode(91));var ij=hZ.lastIndexOf(String.fromCharCode(93));if(ii>=0&&ii<ij){hZ=hZ.substring(ii+1,ij)}if(ss.startsWithString(hZ,'Parameters.')){return{item1:'',item2:'notEnoughInfoYet'}}var ik=hO.getVizDataField(hZ);if(ss.isNullOrUndefined(ik)){return{item1:'',item2:'urlConstructionFail'}}var il=hP(ik,ig,ib);if(ss.isNullOrUndefined(il)){hQ='urlConstructionFail'}else{hV.append(il)}hV.append(ia)}var im=ss.replaceAllString(ss.replaceAllString(hV.toString(),hR,hM),hS,hN);return{item1:im,item2:hQ}};hk.hasTupleWithNonTotalValue=function(e,hM,hN){for(var hO=0;hO<hN.length;hO++){var hP={$:hN[hO]};var hQ={$:false};e.forEachVizDataField(ss.mkdel({tupleId:hP,tupleHasTotal:hQ},function(hR,hS){if(hR.get_role()==='dimension'){if(hi.isSpecial(this.tupleId.$,hR,hM,'%all%')){this.tupleHasTotal.$=true;return false}}return true}));if(!hQ.$){return true}}return false};hk.isFieldNameOfColumn=function(e,hM){var hN=hk.stripNewlines(e.fn);var hO=hk.stripNewlines(hM);var hP='['+hO+']';return ss.referenceEquals(hO,hN)||ss.referenceEquals(hO,hk.stripNewlines(e.fnDisagg))||ss.referenceEquals(hP,hN)||ss.referenceEquals(hP,hk.stripNewlines(e.localBaseColumnName))};hk.isFieldCaptionOfColumn=function(e,hM){return ss.referenceEquals(hk.stripNewlines(hM),hk.stripNewlines(e.fieldCaption))};hk.$4=function(e,hM){var hN=hM;while(e.indexOf(hN)>-1){hN+=Math.random()*10000|0}return hN};hk.stripNewlines=function(e){return(ss.isValue(e)?e.replace(hk.$8,''):null)};hk.objectContainsVizInTooltip=function(e){return tab.FeatureFlags.isEnabled('VizInTooltip')&&e.has('span[data-tableau="VizInTooltip"]').length!==0};hk.shouldShowUbertipHTML=function(e){return!tab.MiscUtil.isNullOrEmpty$1(e.text().trim())||hk.objectContainsVizInTooltip(e)};hk.getNodesOfInvalidFields=function(e,hM){var hN='';var hO=e.contents().get();for(var hP=0;hP<hO.length;hP++){var hQ=hO[hP];if(hQ.nodeType===3){hN+=hQ.textContent||(hQ.textContent||'')}else{hk.getNodesOfInvalidFields($(hQ),hM)}}if(hN.indexOf('~~~???~~~')!==-1){hM.push(e)}};hk.addVizDataToZones=function(e,hM){var hN=_.keys(hM);var hO=_.keys(e);for(var hP=0;hP<hO.length;hP++){var hQ=hO[hP];for(var hR=0;hR<hN.length;hR++){var hS=hN[hR];var hT=hM[hS];if(hT.zoneCommon.zoneType==='viz'&&ss.referenceEquals(hT.sheet,hQ)){var hU=hT.presModelHolder['visual'.toString()];if(ss.isValue(hU)){var hV=e[hQ].presModelHolder;hU.vizData=hV['genVizDataPresModel']}break}}}};hk.$0=function(e,hM){for(var hN=0;hN<hM.length;hN++){var hO=hM[hN];var hP=hk.$3(e,hO,'tr');if(ss.isValue(hP)){hP.remove()}else{var hQ=hk.$3(e,hO,'div');if(ss.isValue(hQ)){hQ.remove()}else{hO.remove()}}}};hk.$3=function(e,hM,hN){var hO=hM;if(ss.isValue(e)&&ss.isValue(hM)&&e.find(hM).length===1){while(!ss.referenceEquals(hO[0],e[0])){if(ss.referenceEquals(hO[0].tagName.toLowerCase(),hN)){return hO}hO=hO.parent()}}return null};hk.$6=function(e,hM,hN,hO,hP){var hQ=[];for(var hR=0;hR<hN.length;hR++){var hS=hN[hR];var hT=hi.lookupAlias(hS,hM,e);if(ss.isNullOrUndefined(hT)){continue}if(hi.isSpecial(hS,hM,e,null)){continue}if(hT.indexOf(hP.delimiter)!==-1){hT=ss.replaceAllString(hT,hP.delimiter,hP.escapeString+hP.delimiter)}if(hP.shouldUrlEscape){hT=encodeURIComponent(hT)}hQ.push(hT)}if(hQ.length===0){return null}if(hQ.length>1&&ss.isNullOrUndefined(hP.delimiter)){return null}var hU=hQ.join(hP.delimiter);if(hO===0){hU=tableau.format.escapeHTML(hU)}return hU};hk.$5=function(e,hM,hN,hO,hP){var hQ=[];for(var hR=0;hR<hN.length;hR++){var hS=hN[hR];var hT=(hO?hi.lookupAlias(hS,hM,e):hi.lookupRawDataValue(hS,hM,e));hT=hk.replaceUrlStringSpecialValues(hT);hT=ss.replaceAllString(hT,hP.delimiter,hP.escapeString+hP.delimiter);hQ.push(hT)}return encodeURIComponent(hQ.join(hP.delimiter))};hk.replaceUrlStringSpecialValues=function(e){switch(e){case'%null%':{return'~~null~'}case'%skipped%':{return'~~skipped~'}case'%ragged%':{return'~~ragged~'}default:{return e}}};hk.$2=function(e,hM,hN,hO){var hP;if(hN.length>1){if(!hM.get_hasDataValues()){return'...'}var hQ=new Array(hN.length);for(var hR=0;hR<hN.length;++hR){var hS=hi.lookupRawDataValue(hN[hR],hM,e);if(hS===null||tableau.format.isSpecialValue(hS)){hS='0'}else if(typeof(hS)==='undefined'||hS.length===0){return'...'}hQ[hR]=hS}var hT=0;for(var hU=0;hU<hQ.length;++hU){hT+=parseFloat(hQ[hU])}hP=tableau.format.formatString(hT.toString(),hM.get_vizColumnDoNotUse())}else if(hN.length===1){var hV=hi.lookupDisplayValue(hN[0],hM,e);if(ss.isNullOrUndefined(hV)){return'~~~???~~~'}hP=hV}else{return''}if(hO===0){return tableau.format.escapeHTML(hP)}else{return hP}};hk.$7=function(e){return ss.startsWithString(e,'FILTERMIN(')||ss.startsWithString(e,'FILTERMAX(')||ss.startsWithString(e,'FILTERVALUES(')};hk.$1=function(e,hM,hN,hO){if(ss.isNullOrUndefined(hM)||ss.isNullOrUndefined(hM.get_filterContext())){return''}var hP=hM.get_filterContext();var hQ;switch(hN){case'FILTERMIN':{hQ=hP.filterMinIndices;break}case'FILTERMAX':{hQ=hP.filterMaxIndices;break}case'FILTERVALUES':{hQ=hP.filterValueIndices;break}default:{return''}}if(tab.MiscUtil.isNullOrEmpty(hQ)){return''}var hR=[];for(var hS=0;hS<hQ.length;hS++){var hT=hQ[hS];var hU=hi.lookupRawDataValueFromIndex(hT,hM,e);hR.push(hU)}return hR.join(hO||',')};global.tab.VizDataUtils=hk;var hl=function(){};hl.__typeName='tab.VizPortalServer';hl.createRequest=function(e,hM,hN,hO){var hP=function(hQ){if(hl.$5(hQ)){hO(hl.$2(hQ))}else{hN(hQ)}};return hl.$1(e,hM,hP,hO)};hl.createRequestWithPartialFailureHandling=function(e,hM,hN,hO,hP){var hQ=function(hR){if(hl.$5(hR)){hO(hR)}else{hN(hR)}};return hl.$1(e,hM,hQ,hP)};hl.$0=function(e){return hl.$1(e.methodName,e.methodParams,e.success,e.error)};hl.$1=function(e,hM,hN,hO){var hP=new Object;hP.type='POST';hP.contentType='application/json;charset=UTF-8';hP.dataType='json';hP.url='/vizportal/api/web/v1/'+e;var hQ=hl.$4();if(ss.isValue(hQ)){hP.headers=ss.mkdict(['X-XSRF-TOKEN',hQ])}hP.data=JSON.stringify(ss.mkdict(['method',e,'params',hM]));hP.success=function(hR,hS,hT){hN(hl.$3(hR))};hP.error=function(){hO(0)};return hP};hl.$4=function(){var e=document.cookie.match(new RegExp('(^|;) ?XSRF-TOKEN=([^;]*)(;|$)'));return(ss.isValue(e)?e[2]:null)};hl.$5=function(e){if(ss.keyExists(e,'errors')){var hM=e['errors'];return hM.length>0}else{return false}};hl.$2=function(e){if(ss.keyExists(e,'errors')){var hM=e['errors'];if(hM.length>0&&ss.keyExists(hM[0],'code')){return hM[0]['code']}}return 0};hl.$3=function(e){var hM=e;return hM['result']};global.tab.VizPortalServer=hl;var hm=function(e,hM,hN,hO){this.methodName=null;this.methodParams=null;this.success=null;this.error=null;this.methodName=e;this.methodParams=hM;this.success=hN;this.error=hO};hm.__typeName='tab.VizqlSessionRequest';global.tab.VizqlSessionRequest=hm;var hn=function(e){this.$0=null;this.$0=e};hn.__typeName='tab.VizRegionRectWrapper';hn.create=function(e){return new hn(e)};global.tab.VizRegionRectWrapper=hn;var ho=function(e){this.explicitNotGuest=false;this.$l=0;this.$m='';this.$k='';this.$e='';this.$i={};this.$f='';this.$g='';this.$h='';this.$j='';if(ss.getKeyCount(ho.$9)===0){ho.$2()}if(ss.isValue(e)){this.$5(e)}};ho.__typeName='tab.VizUriModel';ho.createForCurrentWindowLocation=function(e){if(tab.MiscUtil.isNullOrEmpty(e)){e=tabBootstrap.Utility.get_locationWindow()}var hM=new ho(tab.WindowHelper.getLocation(e));return hM};ho.createForViewingSheet=function(e){var hM=ho.$0(null);hM.$l=(tsConfig.is_revision_history_preview?6:(hM.$l=1));var hN=new fs(e);hM.$m=hN.get_workbookId();hM.$k=hN.get_sheetId();hM.$f=hN.get_customizedView();hM.$e='';return hM};ho.createForViewingSheets=function(e,hM){if(ss.isNullOrUndefined(e)||e.length===0){return[]}var hN=e.length;var hO=new Array(hN);var hP=ho.$0(null);hP.$l=1;hP.$e='';if(!hM){hP.removeAllQueryParams()}for(var hQ=0;hQ<hN;hQ++){var hR=hP.clone();var hS=e[hQ];var hT=new fs(hS);hR.$m=hT.get_workbookId();hR.$k=hT.get_sheetId();hR.$f=hT.get_customizedView();hO[hQ]=hR}return hO};ho.createForCurrentWindowLocationAndVizState=function(e,hM){var hN=ho.createForCurrentWindowLocation();var hO=new fs(e);hN.$m=hO.get_workbookId();hN.$k=hO.get_sheetId();hN.$f=hO.get_customizedView();hN.$e=hM;return hN};ho.createForAuthoringUnpublishedSheet=function(e,hM){var hN=ho.createForAuthoringPublishedSheet(e);hN.$e=hM;return hN};ho.createForAuthoringPublishedSheet=function(e){var hM=ho.$0(null);hM.$l=2;var hN=new fs(e);hM.$m=hN.get_workbookId();hM.$k=hN.get_sheetId();hM.$e='';return hM};ho.createInvalid=function(){var e=new ho;e.$l=0;return e};ho.$2=function(){var e=ss.getEnumerator(Object.keys(ho.$d));try{while(e.moveNext()){var hM=e.current();ho.$9[ho.$d[hM]]=hM}}finally{e.dispose()}};ho.$0=function(e){if(tab.MiscUtil.isNullOrEmpty(e)){e=tabBootstrap.Utility.get_locationWindow()}var hM=tab.WindowHelper.getLocation(e);var hN=new ho(hM);hN.$i=ho.$1(hM);hN.$g=hM.hash;hN.$h=tab.BrowserSupport.getOrigin(hM);return hN};ho.$1=function(e){var hM=tab.MiscUtil.getUriQueryParameters(e.href);for(var hN=0;hN<ho.$c.length;hN++){var hO=ho.$c[hN];if(ss.keyExists(hM,hO)){delete hM[hO]}}return hM};ho.encodeUserName=function(e){var hM=tab.MiscUtil.percentEncode(e,ho.$a);return ss.replaceAllString(hM,'%40','@')};global.tab.VizUriModel=ho;var hp=function(){};hp.__typeName='tab.VizUriType';global.tab.VizUriType=hp;var hq=function(){};hq.__typeName='tab.WaitFeedbackType';global.tab.WaitFeedbackType=hq;var hr=function(){this.$b=null;this.$h=null;this.$f=0;this.$c=null;this.$i=null;this.$g=null;this.$e=false;this.$d=false;this.$a=null;this.$b=$('#loadingGlassPane');this.$b.on('mousedown',function(e){e.stopImmediatePropagation()});this.$b.on(tab.BrowserSupport.get_mouseWheelEvent(),function(e){e.preventDefault()});this.$h=$('#loadingSpinner');if(tab.FeatureFlags.isEnabled('CommandCancellation')){this.$1()}this.$f=0;this.$e=true;this.$d=false};hr.__typeName='tab.WaitHandler';global.tab.WaitHandler=hr;var hs=function(e,hM){var hN=function(){this.$2$1=false;this.$2$2=false;this.$2$3=false;this.$2$4=false;this.$2$5=false;ss.makeGenericType(O,[e,hM]).call(this)};ss.registerGenericClassInstance(hN,hs,[e,hM],{get_isChecked:function(){return this.$2$1},set_isChecked:function(hO){this.$2$1=hO},get_isDefault:function(){return this.$2$2},set_isDefault:function(hO){this.$2$2=hO},get_isEnabled:function(){return this.$2$3},set_isEnabled:function(hO){this.$2$3=hO},get_isRadioOn:function(){return this.$2$4},set_isRadioOn:function(hO){this.$2$4=hO},get_isVisible:function(){return this.$2$5},set_isVisible:function(hO){this.$2$5=hO},createCommand:function(){return new z(ss.mkdel(this,function(hO){this.do$1()}))},transfer:function(hO){if(ss.isValue(hO)){_.each(_.difference(Object.keys(hO),Object.keys(this.c)),ss.mkdel(this,function(hP){this.c[hP]=hO[hP]}))}},do$1:null,invoke:function(){var hO=$.Deferred();this.do$1();hO.resolve();return hO.promise()}},function(){return ss.makeGenericType(O,[e,hM])},function(){return[]});return hN};hs.__typeName='tab.WebBaseCmd$2';ss.initGenericClass(hs,a,2);global.tab.WebBaseCmd$2=hs;var ht=function(){this.$1=null;bz.call(this)};ht.__typeName='tab.WebCommandItemWrapper';ht.$ctor1=function(e){this.$1=null;bz.call(this,e);var hM=bG.deserialize(this.get_command());if(ss.isValue(hM)&&hu.hasCommand(hM.commandName)){this.$1=hu.createCommand(hM.commandName);this.$1.set_isChecked(bz.prototype.get_isChecked.call(this));this.$1.set_isDefault(bz.prototype.get_isDefault.call(this));this.$1.set_isEnabled(bz.prototype.get_enabled.call(this));this.$1.set_isRadioOn(bz.prototype.get_isRadioOn.call(this));this.$1.set_isVisible(bz.prototype.get_isVisible.call(this));this.$1.transfer(hM.commandParams)}else{}};global.tab.WebCommandItemWrapper=ht;var hu=function(){};hu.__typeName='tab.WebCommandRegistry';hu.registerCommand=function(e,hM){hu.$0[e]=hM};hu.hasCommand=function(e){return ss.keyExists(hu.$0,e)};hu.createCommand=function(e){if(ss.keyExists(hu.$0,e)){var hM=hu.$0[e];return ss.createInstance(hM)}throw new ss.Exception('creating unregistered web command')};hu.createCommandWithParams=function(e,hM){if(ss.keyExists(hu.$0,e)){var hN=hu.$0[e];var hO=ss.createInstance(hN);hO.transfer(hM);return hO}throw new ss.Exception('creating unregistered web command')};global.tab.WebCommandRegistry=hu;var hv=function(e){this.$1=null;this.$2$1=null;ey.call(this,e,new fd('webZone'.toString()));this.$1=e.get_zone()};hv.__typeName='tab.WebZoneModel';global.tab.WebZoneModel=hv;var hw=function(e){this.$3$1=null;gQ.call(this,e,new fd('windowTableCalcPresModel'.toString()))};hw.__typeName='tab.WindowTableCalcModel';global.tab.WindowTableCalcModel=hw;var hx=function(e){this.$4=null;this.$6=null;this.$8=null;this.$9=null;this.$7=null;this.$5=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.$2$7=null;this.$2$8=null;this.$2$9=null;ey.call(this,e,new fd('workbookPresModel'.toString()));this.$4=new bH(this);this.$8=new ct(this);this.$7=new ck(this);this.set_formatPaneModel(new dd(this))};hx.__typeName='tab.WorkbookModel';hx.add_workbookModifiedChanged=function(e){hx.$2$1=ss.delegateCombine(hx.$2$1,e)};hx.remove_workbookModifiedChanged=function(e){hx.$2$1=ss.delegateRemove(hx.$2$1,e)};hx.$1=function(e){if(hx.$0(e)){return e.dashboardPresModel.sheetLayoutInfo.sheetType}return null};hx.$0=function(e){return ss.isValue(e)&&ss.isValue(e.dashboardPresModel)&&ss.isValue(e.dashboardPresModel.sheetLayoutInfo)};hx.fireWorkbookModifiedChanged=function(e){if(!ss.staticEquals(hx.$2$1,null)){hx.$2$1(e)}G.get().onWorkbookModifiedChanged(e)};global.tab.WorkbookModel=hx;var hy=function(e,hM){this.$1=null;this.$0=null;this.$1=e;this.$0=hM};hy.__typeName='tab.WorkgroupDataAlert';global.tab.WorkgroupDataAlert=hy;var hz=function(e,hM,hN){this.$1=null;this.$2=null;this.$0=null;this.$1=e;this.$2=hM;this.$0=hN};hz.__typeName='tab.WorkgroupDataSource';hz.$0=function(e){var hM=(ss.isValue(e)?e.match(hz.$1):null);return(ss.isValue(hM)?hM[1]:e)};global.tab.WorkgroupDataSource=hz;var hA=function(){};hA.__typeName='tab.WorkgroupServerCommands';hA.get_getSessionInfo=function(){var e=$.Deferred();if(!tsConfig.is_guest){hH.helper(hl.createRequest('getSessionInfo',null,function(hM){e.resolve(hM)},function(hM){e.reject(hM)}))}else{e.reject()}return e};hA.getWritableProjects=function(e){var hM=[];E.$0(Object).call(null,'getWritableProjects',new f,ss.mkdel(this,function(hN){var hO=E.$3(Object).call(null,hN,hA.$8);ss.arrayAddRange(hM,hO.items);return hO}),function(){e(hM)})};hA.extendWorkgroupSession=function(){if(!tsConfig.is_guest){hH.helper(hl.createRequest('getSessionInfo',null,function(){},function(){}))}};hA.getSchedules=function(e){var hM=[];E.$0(fC).call(null,'getSchedules',new f,ss.mkdel(this,function(hN){var hO=E.$3(fC).call(null,hN,hA.$9);ss.arrayAddRange(hM,hO.items);return hO}),function(){e(hM)})};hA.getSiteUsers=function(e,hM){var hN=[];E.$0(Object).call(null,'getUsers',hA.$3(e),ss.mkdel(this,function(hO){var hP=E.$3(Object).call(null,hO,hA.$a);_.each(hP.items,function(hQ){hN.push(hQ)});return hP}),function(){hM(hN)})};hA.getDataAlertForDataAlertId=function(e,hM){var hN=$.Deferred();var hO=[];E.$1(Object).call(null,'getDataAlerts',hA.$1(0,e,hM),ss.mkdel(this,function(hP){var hQ=E.$3(Object).call(null,hP,hA.$6);var hR=_.indexBy(hA.$a(hP),'id');if(ss.isValue(hQ)){hO=hO.concat(_.map(hQ.items,function(hS){var hT=hR[hS.ownerId];return new hy(hS,hT)}))}return hQ}),function(){hN.resolve(hO)},function(){hN.reject()});return hN};hA.getUsersForDataAlertId=function(e){var hM=$.Deferred();var hN=[];E.$1(Object).call(null,'getUsersForDataAlert',hA.$4(0,e),ss.mkdel(this,function(hO){var hP=E.$3(Object).call(null,hO,hA.$a);if(ss.isValue(hP)){_.each(hP.items,function(hQ){hN.push(hQ)})}return hP}),function(){hM.resolve(hN)},function(){hM.reject()});return hM};hA.fetchPageOfDataSources=function(e,hM,hN){var hO=$.Deferred();E.$2(Object).call(null,'getDatasources',hA.$2(e,hM,hN),ss.mkdel(this,function(hP){var hQ=E.$3(Object).call(null,hP,hA.$7);var hR=_.indexBy(hA.$8(hP),'id');var hS=_.indexBy(hA.$a(hP),'id');var hT={items:_.map(hQ.items,function(hU){var hV=hR[hU.projectId.toString()];var hW=hS[hU.ownerId.toString()];return new hz(hU,hV,hW)}),moreItems:hQ.moreItems};hO.resolve(hT);return hQ}));return hO.promise()};hA.getDatasources=function(e,hM,hN){var hO=[];E.$0(Object).call(null,'getDatasources',hA.$2(0,hM,hN),ss.mkdel(this,function(hP){var hQ=E.$3(Object).call(null,hP,hA.$7);var hR=_.indexBy(hA.$8(hP),'id');var hS=_.indexBy(hA.$a(hP),'id');if(ss.isValue(hQ)){hO=hO.concat(_.map(hQ.items,function(hT){var hU=hR[hT.projectId.toString()];var hV=hS[hT.ownerId.toString()];return new hz(hT,hU,hV)}))}return hQ}),function(){e(hO)})};hA.fetchPageOfSiteUsers=function(e,hM){var hN=$.Deferred();var hO=hA.$3(e);hO.$1(hM);hO.$2()['includeGuestIfEnabled']=false;E.$2(Object).call(null,'getUsers',hO,ss.mkdel(this,function(hP){var hQ=E.$3(Object).call(null,hP,hA.$a);hN.resolve(hQ);return hQ}));return hN.promise()};hA.$3=function(e){var hM={field:'displayName',ascending:true};var hN={operator:'and',clauses:[{operator:'matches',value:e}]};return new f.$1(hM,hN)};hA.$1=function(e,hM,hN){var hO={operator:'and',clauses:[{field:'viewId',operator:'eq',value:hM},{field:'id',operator:'eq',value:hN}]};var hP={field:'title',ascending:true};var hQ=new f.$1(hP,hO);hQ.$1(e);return hQ};hA.$4=function(e,hM){var hN={field:'displayName',ascending:true};var hO=new f.$1(hN,null);hO.$1(e);hO.$2()['dataAlertId']=hM;return hO};hA.$2=function(e,hM,hN){var hO={operator:'and',clauses:[{field:'isPublished',operator:'eq',value:true}]};if(ss.isValue(hN)){hO.clauses=hO.clauses.concat([{operator:'matches',value:hN}])}var hP=new f.$0(hM,hO);hP.$1(e);return hP};hA.setUserEmail=function(e,hM,hN){hA.$5(function(hO){var hP=ss.mkdict(['userId',hO,'email',e]);hH.helper(hl.createRequest('updateUserEmail',hP,hM,hN))},hN)};hA.$5=function(e,hM){var hN=tsConfig.current_user_name;var hO=tsConfig.current_user_domain_name;var hP=[{field:'username',operator:'eq',value:hN},{field:'domainName',operator:'eq',value:hO}];var hQ=ss.mkdict(['filter',{clauses:hP}]);hH.helper(hl.createRequest('getServerUsers',hQ,function(hR){var hS=hR['users'];if(ss.isValue(hS)&&hS.length>0&&ss.keyExists(hS[0],'id')){var hT=hS[0]['id'];e(hT)}else{hM(hl.$2(hR))}},hM))};hA.createSubscription=function(e,hM,hN,hO,hP,hQ){var hR=hA.$0(hN.get_schedulePresModel().id,e,hM,ss.coalesce(hO,'Always'));hH.helper(hl.createRequest('createSubscription',hR,hP,hQ))};hA.createSubscriptions=function(e,hM,hN,hO,hP,hQ,hR,hS){var hT=hA.$0(hO.get_schedulePresModel().id,e,hM,ss.coalesce(hP,'Always'));hT['userIds']=hN;hH.helper(hl.createRequestWithPartialFailureHandling('createSubscriptions',hT,hQ,hR,hS))};hA.createDataAlert=function(e,hM,hN){var hO=hA.buildCreateDataAlertRequestParams(e);hH.helper(hl.createRequest('createDataAlert',hO,hM,hN))};hA.updateDataAlert=function(e,hM,hN,hO,hP,hQ){var hR=hA.buildUpdateDataAlertRequestParams(e,hM,hN.map(function(hS){return hS.id.toString()}),hO.map(function(hS){return hS.id.toString()}));hH.helper(hl.createRequest('updateDataAlert',hR,hP,hQ))};hA.buildCreateDataAlertRequestParams=function(e){var hM;var hN;if(ss.isValue(tsConfig.current_custom_view_id)){hM='customizedView';hN=tsConfig.current_custom_view_id+''}else{hM='view';hN=tsConfig.current_view_id}var hO=ss.mkdict(['title',e.get_title(),'dataAlertSpecification',JSON.stringify(e.get_measurePresModel()),'dataAlertCondition',JSON.stringify(e.get_conditionPresModel()),'notificationIntervalInMinutes',e.get_notificationIntervalInMinutes(),'userIds',e.get_userIds(),'context',ss.mkdict(['contextType',hM,'id',hN])]);return hO};hA.buildUpdateDataAlertRequestParams=function(e,hM,hN,hO){var hP=ss.mkdict(['dataAlertId',hM,'title',e.get_title(),'dataAlertSpecification',JSON.stringify(e.get_measurePresModel()),'dataAlertCondition',JSON.stringify(e.get_conditionPresModel()),'notificationIntervalInMinutes',e.get_notificationIntervalInMinutes(),'userIdsToAdd',hN,'userIdsToRemove',hO]);return hP};hA.logOff=function(e){var hM=function(hN){var hO=hN['redirectUrl'];tab.WindowHelper.setLocationHref(window.self,(ss.isValue(hO)?hO:'/'))};hH.helper(hl.createRequest('logout',{},hM,e))};hA.createCommentingServer=function(){return new bL(hl.$0,bu.get().get_legacySession())};hA.$0=function(e,hM,hN,hO){return ss.mkdict(['scheduleId',e,'subject',hM.trim(),'targetType',(hN?'Workbook':'View'),'targetId',(hN?tsConfig.current_workbook_id:tsConfig.current_view_id),'customizedViewId',tsConfig.current_custom_view_id,'dataConditionType',hO])};hA.$8=function(e){return _.map(e['projects'],function(hM){return hM})};hA.$9=function(e){return _.map(e['schedules'],function(hM){return new fC(hM)})};hA.$a=function(e){return _.map(e['users'],function(hM){return{username:hM['username'].toString(),friendlyName:hM['displayName'].toString(),id:parseInt(hM['id'].toString()),hasEmail:hM['hasEmail']}})};hA.$6=function(e){return e['dataAlerts']};hA.$7=function(e){return e['datasources']};global.tab.WorkgroupServerCommands=hA;var hB=function(){};hB.__typeName='tab.WorkgroupServerErrorCode';global.tab.WorkgroupServerErrorCode=hB;var hC=function(e,hM,hN,hO){this.methodName=null;this.methodParams=null;this.success=null;this.error=null;this.methodName=e;this.methodParams=hM;this.success=hN;this.error=hO};hC.__typeName='tab.WorkgroupServerRequest';global.tab.WorkgroupServerRequest=hC;var hD=function(){};hD.__typeName='tab.WorksheetServerCommands';hD.revert=function(){var e=bK.newCommand$1('revert-workbook',null);bu.SendCommand(fp.create(e,'immediately'))};hD.undo=function(){var e=bK.newCommand('undo',null);e.commandParams={};bu.SendCommand(fp.create(e,'immediately'))};hD.undo$1=function(e,hM){var hN=bK.newCommand('undo',null);hN.commandParams={};bu.SendCommand(fp.create(hN,'immediately',e,hM))};hD.undoToPosition=function(e){var hM=bK.newCommand('undo',null);hM.commandParams=hD.$0(e);bu.SendCommand(fp.create(hM,'immediately'))};hD.redo=function(){var e=bK.newCommand('redo',null);e.commandParams={};bu.SendCommand(fp.create(e,'immediately'))};hD.redo$1=function(e,hM){var hN=bK.newCommand('redo',null);hN.commandParams={};bu.SendCommand(fp.create(hN,'immediately',e,hM))};hD.redoToPosition=function(e){var hM=bK.newCommand('redo',null);hM.commandParams=hD.$0(e);bu.SendCommand(fp.create(hM,'immediately'))};hD.clearFuture=function(){var e=bK.newCommand('clear-future',null);e.commandParams={};bu.SendCommand(fp.create(e,'immediately'))};hD.$0=function(e){var hM={};hM['undoPosition']=e;return hM};global.tab.WorksheetServerCommands=hD;var hE=function(e){this.$0=null;this.$1=null;this.currentWorldDiffersFromCheckpoint=false;this.$0=e;this.currentWorldDiffersFromCheckpoint=false};hE.__typeName='tab.WorldCheckpointHolder';global.tab.WorldCheckpointHolder=hE;var hF=function(){this.$1$1=null;this.$1$2=null;this.$1$3=null};hF.__typeName='tab.WorldUpdateInterceptor';hF.get=function(){return hF.$0.value()};global.tab.WorldUpdateInterceptor=hF;var hG=function(){};hG.__typeName='tab.WorldUpdateServerCommands';hG.getWorldUpdate=function(e){var hM=bK.newCommand('get-world-update',hG.$0());fO.executeServerCommand(hM,'immediately',e,e)};hG.$0=function(){var e={};e['sheet']=tsConfig.current_sheet_name;return e};global.tab.WorldUpdateServerCommands=hG;var hH=function(){};hH.__typeName='tab.XhrUtil';hH.get_currentTabName=function(){return hH.$0};hH.set_currentTabName=function(e){hH.$0=e};hH.helper=function(e,hM){var hN=new hH;if(!ss.isValue(e.success)&&ss.isValue(hM)){e.success=hM.get_successDelegate()}if(!ss.isValue(e.complete)&&ss.isValue(hM)){e.complete=hM.get_completedDelegate()}if(!ss.isValue(e.error)&&ss.isValue(hM)){e.error=hM.get_errorDelegate()}return hN.request(e)};hH.getMultipartData=function(e,hM){var hN=hH.randomString();var hO='--'+hN;var hP='\r\n';var hQ=new ss.StringBuilder;if(ss.isValue(e)){hQ.append(hO);hQ.append(hP);hQ.append('Content-Disposition: form-data; name="');hQ.append(e['name']);hQ.append('"');if('filename'in e){hQ.append('; filename="');hQ.append(e['filename']);hQ.append('"')}hQ.append(hP);hQ.append('Content-Type: ');hQ.append(e['contentType']);hQ.append(hP);hQ.append(hP);hQ.append(e['content']);hQ.append(hP)}if(ss.isValue(hM)){var hR=new ss.ObjectEnumerator(hM);try{while(hR.moveNext()){var hS=hR.current();hQ.append(hO);hQ.append(hP);hQ.append('Content-Disposition: form-data; name="');hQ.append(hS.key);hQ.append('"');hQ.append(hP);hQ.append(hP);if(ss.isInstanceOfType(hS.value,String)){hQ.append(hS.value)}else{hQ.append(JSON.stringify(hS.value))}hQ.append(hP)}}finally{hR.dispose()}}hQ.append(hO);hQ.append('--');hQ.append(hP);var hT={};hT.header=hN;hT.body=hQ.toString();return hT};hH.randomString=function(){var e='0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz';var hM=8;var hN='';for(var hO=0;hO<hM;hO++){var hP=Math.random()*e.length;var hQ=hP|0;hN+=e.substring(hQ,hQ+1)}return hN};global.tab.XhrUtil=hH;var hI=function(e,hM){this.$2=null;this.$1=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;ey.call(this,e,new fd(hM.toString(),0));this.$2=new gB(this);this.$1=new gB(this)};hI.__typeName='tab.ZoneCommonModel';global.tab.ZoneCommonModel=hI;var hJ=function(e){ey.call(this,e,new fd('presModelHolder'.toString()))};hJ.__typeName='tab.ZoneContentWrapperModel';global.tab.ZoneContentWrapperModel=hJ;var hK=function(e,hM,hN){this.$7=null;this.$9=null;this.$8=null;this.$5=null;this.$2=null;this.$6=null;this.$4=false;this.$3=false;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;ey.call(this,e,new fd(hN.toString(),0));this.$7=hM;this.$8=new hI(this,hN);this.$2=new bH(this)};hK.__typeName='tab.ZoneModel';hK.$2=function(e){var hM=e.presModelHolder;if(ss.isNullOrUndefined(hM)){return null}if(ss.getKeyCount(hM)===1){var hN=ss.getEnumerator(Object.keys(hM));try{while(hN.moveNext()){var hO=hN.current();return hO}}finally{hN.dispose()}}return''};hK.getContent=function(e,hM){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.presModelHolder)){return null}if(!(hM in e.presModelHolder)){return null}return e.presModelHolder[hM]};hK.$1=function(e){return(ss.isNullOrEmptyString(e)?null:JSON.parse(e))};hK.$0=function(e){switch(e){case'color':{return'color'}case'shape':{return'shape'}case'size':{return'size'}case'map':{return'map'}}return'color'};global.tab.ZoneModel=hK;var hL=function(e){this.$7=null;this.$6=null;this.$5=null;this.$2$1=null;this.$2$2=null;ey.call(this,e,new fd('zones'.toString()));this.set_zonePresModels({});this.$7={};this.$6={}};hL.__typeName='tab.ZonesModel';hL.$0=function(e){return'z_'+e};global.tab.ZonesModel=hL;ss.initClass(bo,a,{get_isBlocking:function(){return this.$5!=='none'},get_blockType:function(){return this.$5},get_isOneAtATime:function(){return false},get_commandName:function(){return this.$1},set_commandName:function(e){this.$1=e},get_hasLocalComponent:function(){return this.hasLocalComponent},get_hasRemoteComponent:function(){return this.hasRemoteComponent},execute:function(e,hM,hN){var hO=null;if(!ss.staticEquals(hN,null)){hO=function(hP){_.defer(function(){hN(hP)})}}if(this.$4==='localFirst'){this.executeLocal(e);this.executeRemote(hM,hO)}else if(this.$4==='remoteFirst'){this.executeRemote(hM,hO);this.executeLocal(e)}if(!ss.isValue(this.doRemoteWork)&&ss.isValue(hO)){hO(bw.successResult)}},executeLocal:function(e){if(ss.isValue(this.doLocalWork)){{var hM=tabBootstrap.MetricsController.createContext('EXELOC'.toString(),8,this.buildCommandMetricsParameters());try{this.doLocalWork(e)}finally{if(ss.isValue(hM)){hM.dispose()}}}}},executeRemote:function(e,hM){if(ss.isValue(this.doRemoteWork)){this.$3=new Array;this.doRemoteWork(e,function(hN){fS.onVizqlPinged();if(ss.isValue(hM)){hM(hN)}})}},buildCommandMetricsParameters:function(){var e={};e['cn']=this.get_commandName();return e},reEnqueueCompletedCommandRecords:function(){if(ss.isNullOrUndefined(this.$3)){return}var e=this.$3;var hM=this.$2;while(hM.length>0){e.push(hM.shift())}this.$2=e;this.$3=hM},enqueueCommand:function(e){this.$2.push(e)},handleRemoteCommandSuccess:function(e,hM){if(ss.isValue(e.get_successCallback())){e.get_successCallback()(hM)}},handleRemoteCommandFailure:function(e,hM){if(ss.isValue(e.get_errorCallback())){e.get_errorCallback()(hM)}},$0:function(e,hM){if(this.$2.length===0){if(ss.isValue(hM)){hM(bw.successResult)}return}var hN=this.$2.shift();this.$3.push(hN);var hO=hN.get_commandToExecute();if(ss.isNullOrUndefined(hO)){if(ss.isValue(hM)){hM(bw.successResult)}return}e.executeCommand(hO,ss.mkdel(this,function(hP){try{this.handleRemoteCommandSuccess(hN,hP)}finally{this.$0(e,hM)}}),ss.mkdel(this,function(hP){try{this.handleRemoteCommandFailure(hN,hP)}finally{if(ss.isValue(hM)){hM(new bw(false,hP))}}}))}});ss.initClass(b,a,{get_isOneAtATime:function(){return true}},bo);ss.initInterface(dX,a,{add_commmandSucceeded:null,remove_commmandSucceeded:null,add_commandFailed:null,remove_commandFailed:null,executeCommand:null,cancelAllCommands:null});ss.initClass(c,a,{add_commmandSucceeded:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_commmandSucceeded:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_commandFailed:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_commandFailed:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},$0:function(e){var hM=e['vqlCmdResponse'.toString()];if(ss.isValue(hM)&&hM.cmdResultList.length>0){var hN=hM.cmdResultList[0];var hO=hN.commandReturn;if(ss.isValue(hO)&&ss.keyExists(hO,'commandValidationPresModel')){var hP=hO['commandValidationPresModel'];if(!hP.valid){return new ss.Exception(ss.formatString('{0}: {1}',hN.commandName,hP.errorMessage))}}}return null},cancelAllCommands:function(e,hM){if(!tab.FeatureFlags.isEnabled('CommandCancellation')){return}this.$7.cancelAllCommands(function(hN){e(hN)},hM)},executeCommand:function(e,hM,hN){for(var hO=0;hO<this.$6.length;hO++){var hP=this.$6[hO];if(hP.$2(e,hM,hN)===0){return}}var hQ={};hQ['cn']=e.commandName;var hR=tabBootstrap.MetricsController.createContext('EXEREM'.toString(),8,hQ);var hS=this.$5;var hT=ss.mkdel(this,function(hV){hR.dispose();if(ss.isValue(this.$1$2)){this.$1$2(hS,e,hV)}hN(hV)});var hU=ss.mkdel(this,function(hV){hR.dispose();var hW=this.$0(hV);if(ss.isNullOrUndefined(hW)){if(ss.isValue(this.$1$1)){this.$1$1(hS,e,hV)}var hX=fb.fromCommand(hV,e);hM(hX)}else{hT(hW)}});this.$7.executeServerCommand(e,hU,hT);++this.$5},$3:function(e,hM,hN){var hO=new bJ;hO.commandNamespace=e;hO.commandName=hM;this.$2([hO],hN)},$2:function(e,hM){this.$4(e,hM,null,null)},$4:function(e,hM,hN,hO){var hP=new y(this,e,hM,hN,hO);hP.$g(ss.mkdel(this,this.$1));this.$6.push(hP)},$1:function(e,hM,hN){var hO=new ss.Exception('Command '+e.commandName+' was dropped by the CommandThrottler');if(!ss.staticEquals(this.$1$2,null)){this.$1$2(0,e,hO)}hN(hO)}},null,[dX]);ss.initClass(d,a,{});ss.initClass(f,a,{$0:function(){return this.$5.startIndex},$1:function(e){this.$5.startIndex=e},$2:function(){if(ss.isValue(this.$6)){return this.$6}var e=_.map(this.$4,function(hM){return ss.mkdict(['field',hM.field,'ascending',hM.ascending])});this.$6=ss.mkdict(['page',this.$5,'order',e]);if(ss.isValue(this.$3)){this.$6['filter']=this.$3}return this.$6}});f.$1.prototype=f.$0.prototype=f.prototype;ss.initClass(ey,a,{getMutableCopyOfPresModel:function(){return this.getMutableCopyOfPresModelInternal(false)},getPresModelPath:function(){return this.$0(new fc)},reparent:function(e){this.parent=e},getMutableCopyOfPresModelInternal:function(e){var hM=(e?tab.MiscUtil.cloneObject(this.pm):fb.cloneObjWithScalarsOnly(this.pm));return hM||new Object},swapAndCopyPresModel:function(e){var hM=this.pm;if(ss.isValue(hM)&&ss.isValue(e)){var hN=e;var hO=hM;var hP=Object.keys(hO);for(var hQ=0;hQ<hP.length;hQ++){var hR=hP[hQ];if((!ss.keyExists(hN,hR)||typeof(hN[hR])==='undefined')&&(!_.isBoolean(hO[hR])||!ey.removeUndefinedBoolsOnSwapCopy)){hN[hR]=hO[hR]}}}this.pm=e},swapPresModel:function(e){this.pm=e},simpleSwapToUpdate$1:function(e){return function(hM,hN,hO,hP){this.simpleSwapToUpdate(hM,function(){if(!ss.staticEquals(hN,null)){hN(hO)}},hP)}},simpleSwapToUpdate:function(e,hM,hN){if(this.isNewPresModelSameAsOld(e)){return false}this.swapAndCopyPresModel(e);this.raiseEvent(hM,hN);return true},isNewPresModelSameAsOld:function(e){return _.isEqual(this.pm,e)},raiseEvent$1:function(e){return function(hM,hN,hO){if(ss.staticEquals(hM,null)){return}this.raiseEvent(function(){hM(hN)},hO)}},raiseEvent$2:function(e,hM){return function(hN,hO,hP,hQ){if(ss.staticEquals(hN,null)){return}this.raiseEvent(function(){hN(hO,hP)},hQ)}},raiseEvent:function(e,hM){if(ss.staticEquals(e,null)){return}if(ss.isValue(this.pm)){}if(ss.isNullOrUndefined(hM)||ss.isNullOrUndefined(hM.eventHandler)){return}hM.eventHandler.processEvent(e)},$0:function(e){if(!ss.isValue(this.parent)){e.reverse();return e}if(ss.isValue(this.presModelKey)){e.add(this.presModelKey)}var hM=this.parent;return hM.$0(e)}});ss.initClass(j,a,{},ey);ss.initClass(k,a,{},ey);ss.initClass(l,a,{},ey);ss.initEnum(m,a,{$0:60011});ss.initClass(n,a,{$3:function(){return this.$4.length},$1:function(e){if(e.get_isOneAtATime()){this.$2(ss.getInstanceType(e))}this.$4.push(e)},$0:function(){if(this.$4.length<=0){return null}var e=this.$4[0];ss.removeAt(this.$4,0);return e},$2:function(e){var hM=0;for(var hN=this.$4.length-1;hN>=0;--hN){if(ss.referenceEquals(ss.getInstanceType(this.$4[hN]),e)){++hM;ss.removeAt(this.$4,hN)}}if(hM>0){}}});ss.initEnum(o,a,{$0:0,$1:1});ss.initClass(p,a,{$0:function(){return this.$2},$1:function(){return this.$3}});ss.initClass(q,a,{});ss.initEnum(r,a,{$0:16,$1:20,$2:22});ss.initEnum(s,a,{$0:60011});ss.initClass(t,a,{$4:function(){return this.$9},$5:function(){return this.$a.size===0},$6:function(){var e=[];this.$a.forEach(function(hM){e.push(hM)});return e},$0:function(e,hM){if(ss.isNullOrUndefined(e)||e.length===0){return}this.$8.push(t.$0(hM,e));this.$7=this.$7||this.$2(e);e=t.$1(hM,e);this.$a.set(e.join(','),e)},$1:function(e,hM){if(ss.isNullOrUndefined(hM)||hM.length===0){return false}var hN;if(this.$7||this.$2(hM)){hN=this.$3(e,hM)}else{var hO=t.$1(e,hM);hN=this.$a.has(hO.join(','))}return hN},$2:function(e){for(var hM=0;hM<e.length;hM++){var hN=e[hM];if(!ss.isValue(hN)){return true}}return false},$3:function(e,hM){var hN=t.$0(e,hM);for(var hO=0;hO<this.$8.length;hO++){var hP=this.$8[hO];var hQ=true;var hR=false;var hS=0;var hT=0;while(hQ&&hT<hP.length&&hS<hN.length){var hU=hP[hT];var hV=hN[hS];if(hU.item1<hV.item1){++hT}else if(hU.item1>hV.item1){++hS}else{hQ=!ss.isValue(hU.item2)||!ss.isValue(hV.item2)||ss.referenceEquals(hU.item2,hV.item2);hR=hR||ss.referenceEquals(hU.item2,hV.item2);++hT;++hS}}if(hQ&&hR){return true}}return false}});ss.initEnum(u,a,{$0:1,$1:2,$2:3,$3:4,$4:5,$5:6});ss.initClass(v,a,{});ss.initClass(w,a,{});ss.initClass(x,a,{$0:function(){if(ss.isNullOrUndefined(this.$1)){return this.$2}var e=_.keys(this.$1);var hM=this.$2.dashboardPresModel.zones;var hN=this.$1;for(var hO=0,hP=e.length;hO<hP;hO++){var hQ=e[hO];hM[hQ].presModelHolder=hN[hQ]}return this.$2}});ss.initClass(y,a,{$g:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},$h:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},$2:function(e,hM,hN){var hO=false;for(var hP=0;hP<this.$5.length;hP++){var hQ=this.$5[hP];if(ss.referenceEquals(hQ.commandName,e.commandName)&&ss.referenceEquals(hQ.commandNamespace,e.commandNamespace)){hO=true;break}}if(!hO){return 1}if(this.$6){return 1}if(ss.isValue(this.$b)&&ss.isValue(this.$f)){this.$1(this.$b,this.$d,this.$c);this.$b=e;this.$d=hM;this.$c=hN;return 0}var hR=Math.floor(tabBootstrap.MetricsController.getTiming());var hS=hR-this.$7;if(this.$e!==-1&&hS<this.$e){this.$3(e,hM,hN,this.$e-hS)}else if(this.$a!==-1&&this.$8>=this.$a){this.$3(e,hM,hN,this.$9*this.$8)}else{this.$6=true;++this.$8;try{this.$4.executeCommand(e,ss.mkdel(this,function(hT){if(this.$8>0){--this.$8}hM(hT)}),ss.mkdel(this,function(hT){if(this.$8>0){--this.$8}hN(hT)}))}finally{this.$6=false;this.$7=hR}}return 0},$0:function(){var e=this.$b;var hM=this.$d;var hN=this.$c;this.$b=null;this.$d=null;this.$c=null;if(!ss.isValue(e)){return}this.$4.executeCommand(e,hM,hN)},$3:function(e,hM,hN,hO){this.$b=e;this.$d=hM;this.$c=hN;this.$f=window.setTimeout(ss.mkdel(this,function(){this.$f=null;this.$0()}),hO)},$1:function(e,hM,hN){if(ss.isValue(this.$1$1)){this.$1$1(e,hM,hN)}}});ss.initClass(z,a,{},bo);ss.initClass(hd,a,{gv:function(e){return this.v[e]},setValue:function(e,hM){this.v[e]=hM},transform:function(e){if(this.isValid&&!ss.staticEquals(e,null)){for(var hM=0;hM<this.length;hM++){this.v[hM]=e(this.v[hM])}}}});ss.initClass(A,a,{gv:function(e){return this.v[0]},setValue:function(e,hM){this.v[0]=hM}},hd);ss.initClass(B,a,{$3:function(){return this.$1$1},$4:function(e){this.$1$1=e},$2:function(e){this.$4(this.$3()+1);this.$5.get_waitHandler().addrefAndShowFullWaitHandlerNow(e)},$1:function(e,hM){if(hM){this.$2(hM)}else{this.$4(this.$3()+1);this.$5.incrementWait(e)}},$0:function(){while(this.$3()>0){this.$4(this.$3()-1);this.$5.decrementWait()}}});ss.initClass(C,a,{$0:function(){return this.$1$1},$1:function(e){this.$1$1=e},$4:function(){return this.$1$2},$5:function(e){this.$1$2=e},$2:function(){return this.$1$3},$3:function(e){this.$1$3=e}});ss.initClass(D,a,{get_waitingOnCommands:function(){return this.$1()},get_deferredServerResponseQueueSize:function(){return this.$0()},get_currentWorldDiffersFromCheckpoint:function(){return this.$2.currentWorldDiffersFromCheckpoint},getWorldCheckpoint:function(){return this.$2.worldCheckpoint()}});ss.initClass(E,a,{});ss.initClass(fm,a,{fractionToValue:null,valueToFraction:null});ss.initClass(F,a,{fractionToValue:function(e){if(e<=this.$3){return this.$7+e*(this.$5-this.$7)/this.$3}if(e<=this.$4){var hM=(this.$6-this.$5)/(this.$4-this.$3);var hN=this.$5-hM*this.$3;return e*hM+hN}return this.$0*e*e+this.$1*e+this.$2},valueToFraction:function(e){if(e<=this.$5){return this.$3*(e-this.$7)/(this.$5-this.$7)}if(e<=this.$6){var hM=(this.$6-this.$5)/(this.$4-this.$3);var hN=this.$5-hM*this.$3;return(e-hN)/hM}var hO=Math.sqrt(this.$1*this.$1-4*this.$0*(this.$2-e));return(-this.$1+hO)/(2*this.$0)}},fm);ss.initClass(G,a,{add_doLaunchAuthoring:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_doLaunchAuthoring:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_newLayoutId:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_newLayoutId:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},add_workbookModifiedChanged:function(e){this.$1$3=ss.delegateCombine(this.$1$3,e)},remove_workbookModifiedChanged:function(e){this.$1$3=ss.delegateRemove(this.$1$3,e)},add_orientationChange:function(e){this.$1$4=ss.delegateCombine(this.$1$4,e)},remove_orientationChange:function(e){this.$1$4=ss.delegateRemove(this.$1$4,e)},onAuthoringLaunchRequested:function(){var e=this.$1$1;if(!ss.staticEquals(e,null)){e()}},onNewLayoutId:function(e){var hM=this.$1$2;if(!ss.staticEquals(hM,null)){hM(e)}},onWorkbookModifiedChanged:function(e){var hM=this.$1$3;if(!ss.staticEquals(hM,null)){hM(e)}},onOrientationChange:function(){var e=this.$1$4;if(!ss.staticEquals(e,null)){e()}}});ss.initEnum(H,a,{highlight:'highlight',filter:'filter',url:'url'},true);ss.initClass(I,a,{});ss.initClass(J,a,{invoke:function(){return this.invoke$1(bK.newCommand$1('add-dataserver-data-source',this.c))}},ss.makeGenericType(O,[Object,K]));ss.initClass(K,a,{});ss.initClass(L,a,{add_newAnalyticsPane:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newAnalyticsPane:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_analyticsPresModel:function(){return this.pm},update:function(e,hM){this.simpleSwapToUpdate(e,this.$2$1,hM)}},ey);ss.initClass(M,a,{});ss.initClass(N,a,{add_newWorkbook:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newWorkbook:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_applicationUpdate:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_applicationUpdate:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_toolbar:function(){return this.$b},get_workbook:function(){return this.$d},get_colorPalettes:function(){return this.$4},get_calculationModel:function(){return this.$3},get_compoundTableCalcModel:function(){return this.$5},get_isTableCalcHighlightingMode:function(){return this.$5.get_hasTableCalc()},get_typeInPillCalculationModel:function(){return this.$c},get_calculationFunctionListModel:function(){return this.$2},get_shapeManager:function(){return this.$a},get_dataDictionary:function(){return this.$7},get_dataAlertDialogModel:function(){return this.$6},get_serverFonts:function(){return this.$2$3},set_serverFonts:function(e){this.$2$3=e},get_renderMode:function(){return(ss.isValue(this.get_appPresModel())?this.get_appPresModel().renderMode:'render-mode-server')},get_localeDateFormat:function(){return((ss.isValue(this.get_appPresModel())&&!tab.MiscUtil.isNullOrEmpty$1(this.get_appPresModel().dateFormat))?this.get_appPresModel().dateFormat:'M/d/yyyy')},get_localeTimeFormat:function(){return((ss.isValue(this.get_appPresModel())&&!tab.MiscUtil.isNullOrEmpty$1(this.get_appPresModel().timeFormat))?this.get_appPresModel().timeFormat:'h:mm tt')},get_isLocalRenderMode:function(){return this.get_renderMode()==='render-mode-client'},get_appPresModel:function(){return this.pm},get_autoUpdate:function(){var e=eB.findContentDashboard();return ss.isValue(e)&&e.autoUpdate},set_autoUpdate:function(e){var hM=eB.findContentDashboard();if(ss.isValue(hM)){hM.autoUpdate=e}},get_invalid:function(){return eB.findContentDashboard().invalid},set_invalid:function(e){var hM=eB.findContentDashboard();if(ss.isValue(hM)){hM.invalid=e}},get_showTabs:function(){return tsConfig.showTabs&&!this.get_isOffline()},get_showToolbar:function(){return!this.get_isOffline()},get_isOffline:function(){return tab.FeatureParamsLookup.getBool(41)},registerNotificationHandler:function(e,hM){var hN=this.$9[e];if(ss.isNullOrUndefined(hN)){hN=[];this.$9[e]=hN}for(var hO=0;hO<hN.length;hO++){if(ss.staticEquals(hN[hO],hM)){throw new ss.Exception('This handler for '+e.toString()+' already registered')}}hN.push(hM);return hM},unRegisterNotificationHandler:function(e,hM){var hN=this.$9[e];if(ss.isValue(hN)){for(var hO=hN.length-1;hO>=0;hO--){if(ss.staticEquals(hN[hO],hM)){ss.removeAt(hN,hO);if(hN.length===0){delete this.$9[e];return}}}}},$1:function(e,hM){var hN=e.presModelMap;if(ss.isNullOrUndefined(hN)){return}var hO=new ss.ObjectEnumerator(hN);try{while(hO.moveNext()){var hP=hO.current();var hQ=hP.key;var hR=this.$9[hQ];if(ss.isNullOrUndefined(hR)){continue}var hS=hP.value.presModelHolder;var hT=new ss.ObjectEnumerator(hS);var hU=(hT.moveNext()?hT.current().value:null);for(var hV=0;hV<hR.length;hV++){var hW=hR[hV];hW(hU,hM)}}}finally{hO.dispose()}},addModel:function(e){return function(){var hM=ss.createInstance(e);var hN=ss.safeCast(hM,dS);if(ss.isValue(hN)){this.registerNotificationHandler(hN.get_notificationId(),ss.mkdel(hN,hN.onNotify))}this.$8[e]=hM;return hM}},removeModel:function(e){return function(){var hM=this.$8[e];if(ss.isNullOrUndefined(hM)){return}var hN=ss.safeCast(hM,dS);if(ss.isValue(hN)){this.unRegisterNotificationHandler(hN.get_notificationId(),ss.mkdel(hN,hN.onNotify))}delete this.$8[e]}},modelInstance:function(e){return function(){var hM=this.$8[e];if(ss.isNullOrUndefined(hM)){hM=this.addModel(e).call(this)}return hM}},update:function(e,hM){if(ss.isNullOrUndefined(this.pm)){this.pm={}}if(ss.isValue(e.renderMode)){this.get_appPresModel().renderMode=e.renderMode}if(ss.isValue(e.dataDictionary)){this.$7.update(e.dataDictionary)}if(ss.isValue(e.presentationLayerNotifications)){this.$1(e.presentationLayerNotifications,hM)}if(ss.isValue(e.workbookPresModel)){if(!ss.isValue(this.$d)){this.$d=new hx(this);this.raiseEvent$1(hx).call(this,this.$2$1,this.$d,hM)}this.$d.update(e.workbookPresModel,hM)}if(ss.isValue(e.colorPaletteCollection)){this.$4.update(e.colorPaletteCollection,hM)}if(ss.isValue(e.calculation)){this.$3.update(e.calculation,hM)}if(ss.isValue(e.typeInPill)){this.$c.update(e.typeInPill,hM)}if(ss.isValue(e.calculation)&&ss.isValue(e.calculation.expressionFuncPm)){this.$2.update(e.calculation.expressionFuncPm,hM)}if(ss.isValue(e.compoundTableCalculationPresModel)){this.$5.update(e.compoundTableCalculationPresModel,hM)}if(ss.isValue(e.toolbarPresModel)){this.$b.update(e.toolbarPresModel,hM)}if(tab.FeatureFlags.isEnabled('AlertOnThresholdCondition')){if(ss.isValue(e.dataAlertDialogPresModel)){this.$6.update(e.dataAlertDialogPresModel)}}if(ss.isValue(e.serverFonts)){this.set_serverFonts(ss.arrayClone(e.serverFonts.fontFamilies))}this.swapAndCopyPresModel(e);this.raiseEvent(this.$2$2,hM)},getMutableCopyOfPresModel:function(){if(ss.isNullOrUndefined(this.pm)){return null}var e={};e=$.extend(false,e,this.pm);return e}},ey);ss.initClass(P,a,{get_urlRoot:function(){return this.$j},get_id:function(){return tsConfig.sessionid},get_historyPosition:function(){return P.$2},set_historyPosition:function(e){P.$2=e},get_waitHandler:function(){if(ss.isNullOrUndefined(P.$3)){P.$3=new hr}return P.$3},get_sessionErrorHandler:function(){return this.defaultSessionErrorHandler},get_commonDialogProvider:function(){return this.$f},$d:function(){return this.$j+'/sessions/'+tsConfig.sessionid},formatThumbnailReference:function(e){return this.$i+'/thumb/views/'+e},formatSessionTempfileReference:function(e,hM,hN){return this.$j+'/tempfile/sessions/'+tsConfig.sessionid+'/?key='+e+(hM?'&keepfile=yes':'')+(hN?'&attachment=yes':'')},railsEncode:function(e){var hM=new ss.ObjectEnumerator(P.$1);try{while(hM.moveNext()){var hN=hM.current();e=e.replace(hN.value,hN.key)}}finally{hM.dispose()}return e},nudgeWait:function(){if(ss.isNullOrUndefined(P.$3)){return false}P.$3.nudge();return true},incrementWait:function(e){if(ss.isNullOrUndefined(P.$3)){return false}P.$3.addref(e);return true},decrementWait:function(){if(ss.isNullOrUndefined(P.$3)){return false}P.$3.release();return true},handleAuthenticationFailure:function(){this.defaultSessionErrorHandler.handleAuthenticationFailure()},getWindow:function(e){return e+tsConfig.sessionid.replace(new RegExp('[^A-Za-z0-9_]','g'),'_')},$7:function(e,hM,hN){var hO={};hO.type='POST';hO.url=this.$4('inform');hO.headers=ss.mkdict(['Accept','text/plain']);hO.contentType='text/plain';var hP=tsConfig.clientErrorReportingMaxRequestSizeBytes;var hQ=new ss.StringBuilder;hQ.appendLine('url: '+e);hQ.appendLine('user-agent: '+hM);var hR=ss.Int32.div(hP-hQ.toString().length,ss.getKeyCount(hN));var hS=new ss.ObjectEnumerator(hN);try{while(hS.moveNext()){var hT=hS.current();hQ.appendLine(hT.key);hQ.appendLine(hT.value.substr(0,hR-hT.key.length-2))}}finally{hS.dispose()}hO.data=hQ.toString();this.$b(hO)},$c:function(e,hM){if(hM){hD.redoToPosition(e)}else{hD.undoToPosition(e)}},executeServerCommand:function(e,hM,hN){var hO={};this.$8(hO,e);hO.headers=ss.mkdict(['Accept','text/javascript']);var hP=this.$e;var hQ=ss.mkdel(this,function(hT,hU,hV){delete this.$h[hP];if(ss.isValue(hM)){hT=tab.RleDecoder.decode(hT);hM(hT)}});var hR=ss.mkdel(this,function(hT,hU,hV){delete this.$h[hP];if(tab.FeatureFlags.isEnabled('CommandCancellation')&&hU==='abort'){return}this.$6(hV,hT,e.noExceptionDialog,e);if(ss.isValue(hN)){var hW=new ss.Exception(hT.responseText);hW['status']=hT.status;hN(hW)}});var hS=this.$1(null,hQ,(ss.isValue(hN)?hR:null));this.$h[this.$e]=this.$b(hO,hS);++this.$e},basicPostOpts:function(e,hM){var hN={};hN.type='POST';hN.url=e;hN.headers=ss.mkdict(['Accept','text/javascript']);hN.dataType='json';hN.data=hM;return hN},basicGetOpts:function(e){var hM={};hM.type='GET';hM.url=e;hM.headers=ss.mkdict(['Accept','text/javascript']);hM.dataType='json';return hM},$8:function(e,hM){var hN=hH.getMultipartData(null,hM.commandParams);e.type='POST';e.dataType='json';e.contentType='multipart/form-data; boundary='+hN.header;e.data=hN.body;e.url=this.$3(hM.commandNamespace,hM.commandName)},$9:function(e){var hM=this.get_historyPosition();var hN=ss.mkdel(this,function(){this.$c(hM,false)});var hO=ss.mkdel(this,function(){this.$c(hM+1,true)});this.$a(hN,hO);++P.$2},$2:function(e){return this.$j+'/'+e},$4:function(e){return tabBootstrap.BaseUrlFormatter.formatSessionMethod(e,tsConfig.sessionid,this.$j)},$3:function(e,hM){return this.$d()+'/commands/'+e+'/'+hM},$a:function(e,hM){if(!tsConfig.embedded||tsConfig.browserBackButtonUndo){if(ss.isValue(P.$0)){P.$0.onBack=e}else{dG.setInitialState(e)}P.$0=dG.addToHistory(null,hM)}},$6:function(e,hM,hN,hO){this.$g.handle(e,hM,hO,hN)},$b:function(e,hM){return hH.helper(e,hM)},$1:function(e,hM,hN){return new fP(this,e,hM,hN,false,false)},$0:function(e,hM,hN,hO){var hP=hO!=='none';var hQ=hO==='immediately'||hO==='immediatelySubtle';return new fP(this,e,hM,hN,hP,hQ)},formatLayoutMethod:function(e,hM){var hN=(ss.isValue(hM)?this.$4(hM):this.$d());hN+='/layouts/'+e;return hN},formatViewMethod:function(e,hM){var hN=(ss.isValue(hM)?this.$4(hM):this.$d());hN+='/views/'+e;return hN},formatFilterReference:function(e,hM,hN){return this.$5(e,hM,hN,'filters')},$5:function(e,hM,hN,hO){e=encodeURIComponent(this.railsEncode(e));var hP;if(ss.isValue(hN)){hP=this.$4(hN)}else{hP=this.$d()}hP+='/sheets/'+e+'/'+hO;if(ss.isValue(hM)){hP+='/'+encodeURIComponent(this.railsEncode(hM))}return hP},cancelAllCommands:function(e,hM){if(!tab.FeatureFlags.isEnabled('CommandCancellation')){return}var hN=_.values(this.$h);for(var hO=0;hO<hN.length;hO++){var hP=hN[hO];hP.abort()}ss.clearKeys(this.$h);var hQ=this.$j+'/cancel/sessions/'+tsConfig.sessionid;var hR=this.basicGetOpts(hQ);var hS=function(hV,hW,hX){if(ss.isValue(e)){hV=tab.RleDecoder.decode(hV);e(hV)}};var hT=function(hV,hW,hX){if(ss.isValue(hM)){hM(hX)}};var hU=this.$1(null,hS,hT);this.$b(hR,hU)}});ss.initClass(Q,a,{get_hasColor:function(){return this.color!=='rgba(0, 0, 0, 0)'},get_hasWidth:function(){return this.width>0},get_hasStyle:function(){return this.style!=='bs-none'},get_cssDictionary:function(){var e={};switch(this.side){case 0:{e['border-width']=this.width+'px';e['border-style']=Q.borderStyleToCss(this.style);e['border-color']=this.color;break}case 1:{e['border-top-width']=this.width+'px';e['border-top-style']=Q.borderStyleToCss(this.style);e['border-top-color']=this.color;break}case 2:{e['border-left-width']=this.width+'px';e['border-left-style']=Q.borderStyleToCss(this.style);e['border-left-color']=this.color;break}case 4:{e['border-bottom-width']=this.width+'px';e['border-bottom-style']=Q.borderStyleToCss(this.style);e['border-bottom-color']=this.color;break}case 3:{e['border-right-width']=this.width+'px';e['border-right-style']=Q.borderStyleToCss(this.style);e['border-right-color']=this.color;break}}return e},get_styledBoxPresModel:function(){var e={};switch(this.side){case 0:{e.uw=this.width;e.borderStyle=this.style;e.borderColor=this.color;break}case 1:{e.uwt=this.width;e.borderStyleTop=this.style;e.borderColorTop=this.color;break}case 2:{e.uwl=this.width;e.borderStyleLeft=this.style;e.borderColorLeft=this.color;break}case 4:{e.uwb=this.width;e.borderStyleBottom=this.style;e.borderColorBottom=this.color;break}case 3:{e.uwr=this.width;e.borderStyleRight=this.style;e.borderColorRight=this.color;break}}return e}});ss.initEnum(R,a,{all:0,top:1,left:2,right:3,bottom:4});ss.initClass(S,a,{get_isBrushingComputed:function(){return this.$1},hasBrushingForSheet:function(e){return ss.isValue(this.$5[e])||ss.isValue(this.$3[e])||ss.isValue(this.$2[e])},getTupleBrushing:function(e){return this.$5[e]||[]},getTrendlineBrushing:function(e){return this.$4[e]||[]},getNodeBrushing:function(e){return this.$3[e]||[]},getLegendBrushing:function(e){return this.$2[e]||{}},$0:function(e,hM,hN,hO,hP){var hQ=e.get_vizDataModel();var hR=eB.getModelsForViz(bk).call(null,eB.findContentDashboard(),e);for(var hS=0;hS<hR.length;hS++){var hT=hR[hS];if(ss.isNullOrUndefined(hQ)){continue}if(!hT.get_isHighlightEnabled()||hP.length===0&&hT.get_isOneWay()){continue}var hU=_.intersection(hM.get_vizDataModel().get_fieldCaptions(),hT.get_fieldCaptions());hU=S.getHighlightFieldCaptions(hO,hM.get_vizDataModel().get_highlightCaptions(),hU);var hV=v.$3(hM.get_vizDataModel(),hN,hU);var hW=v.$6(hV,hQ,hT);if(!ss.keyExists(this.$2,e.get_worksheetName())){this.$2[e.get_worksheetName()]={}}this.$2[e.get_worksheetName()][S.$0(hT.get_legendTypeEnum(),hT.get_legendNames())]=hW}}});ss.initClass(T,a,{invoke:function(){return this.invoke$1(bK.newCommand('build-caption-context-menu',this.c))}},ss.makeGenericType(O,[Object,U]));ss.initClass(U,a,{});ss.initClass(V,a,{invoke:function(){return this.invoke$1(bK.newCommand('build-data-tab-field-context-menu',this.c))}},ss.makeGenericType(O,[Object,W]));ss.initClass(W,a,{});ss.initClass(X,a,{invoke:function(){return this.invoke$1(bK.newCommand('build-layout-tree-context-menu',this.c))}},ss.makeGenericType(O,[Object,Y]));ss.initClass(Y,a,{});ss.initClass(Z,a,{invoke:function(){return this.invoke$1(bK.newCommand('build-schema-change-data-type-menu',this.c))}},ss.makeGenericType(O,[Object,ba]));ss.initClass(ba,a,{});ss.initClass(bb,a,{invoke:function(){return this.invoke$1(bK.newCommand('build-sheet-list-context-menu',this.c))}},ss.makeGenericType(O,[Object,bc]));ss.initClass(bc,a,{});ss.initClass(bd,a,{invoke:function(){return this.invoke$1(bK.newCommand('build-title-context-menu',this.c))}},ss.makeGenericType(O,[Object,be]));ss.initClass(be,a,{});ss.initClass(bf,a,{invoke:function(){return this.invoke$1(bK.newCommand('calculation-auto-complete',this.c))}},ss.makeGenericType(O,[Object,bg]));ss.initClass(bg,a,{});ss.initClass(bh,a,{add_functionListUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_functionListUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},$1:function(){return this.pm},get_functions:function(){return this.$1().expressionFuncList||[]},update:function(e,hM){this.simpleSwapToUpdate(e,this.$2$1,hM)}},ey);ss.initClass(bi,a,{add_calculationUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_calculationUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_hasCalculation:function(){return ss.isValue(this.pm)&&(!tab.MiscUtil.isNullOrEmpty$1(this.$1().calculationCaption)||!tab.MiscUtil.isNullOrEmpty$1(this.$1().pendingCalcName)||!tab.MiscUtil.isNullOrEmpty$1(this.$1().datasource))},get_isNewCalculation:function(){return tab.MiscUtil.isNullOrEmpty$1(this.$1().fn)},get_isAdhoc:function(){return this.$2&&this.$1().isTypeInPill},get_adHocShelf:function(){return this.$1().shelfType||'none-shelf'},get_adHocShelfPosition:function(){return this.$1().shelfPosIndex},get_adHocPaneSpecId:function(){return this.$1().paneSpec},$1:function(){return this.pm},get_tokens:function(){return this.$1().styleTokenList||[]},get_name:function(){return this.$1().pendingCalcName||''},get_fieldName:function(){return this.$1().fn||''},get_errors:function(){return this.$1().errorInfoList||[]},get_errorSummary:function(){return this.$1().errorString||''},get_caption:function(){return this.$1().calculationCaption||''},get_formula:function(){return this.$1().calculationFormula||''},get_dependencies:function(){return this.$1().calculationDependencies||''},get_dataSourceName:function(){return this.$1().datasource||''},get_dataSourceCaption:function(){var e=N.get_instance().get_workbook().get_dataSchema();if(ss.isNullOrUndefined(e)){return null}var hM=e.findDataSourceByName(this.get_dataSourceName());if(ss.isNullOrUndefined(hM)){return null}return hM.get_caption()},get_useParameters:function(){return ss.coalesce(this.$1().useParameters,false)},get_calculationContext:function(){return ss.coalesce(this.$1().calculationContext,'calculation-dialog')},update:function(e,hM){this.simpleSwapToUpdate(e,this.$2$1,hM)}},ey);ss.initClass(bj,a,{get_items:function(){return this.$1().domainTables},$1:function(){return this.pm},update:function(e){if(!this.isNewPresModelSameAsOld(e)){this.swapAndCopyPresModel(e)}}},ey);ss.initInterface(dK,a,{getItemNamesFromObjectId:null});ss.initClass(bk,a,{add_legendChanged:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_legendChanged:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_legendNameChanged:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_legendNameChanged:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_worksheetName:function(){return this.$1().get_worksheetName()},get_id:function(){return this.get_legendNames().join(';')+this.$2},get_catLegendPresModel:function(){return this.pm},get_isContextMenuAllowed:function(){return this.get_catLegendPresModel().isContextMenuAllowed||false},get_isHighlightEnabled:function(){return this.get_catLegendPresModel().isHighlightEnabled||false},get_isHighlightAllowed:function(){return this.get_catLegendPresModel().isHighlightAllowed||false},get_isOneWay:function(){return this.get_catLegendPresModel().oneWayBrushing||false},get_fieldCaptions:function(){return this.get_catLegendPresModel().fieldCaptions},get_legendNames:function(){return this.get_catLegendPresModel().legendNames},get_legendTypeEnum:function(){return this.$2},get_items:function(){return bk.$0(this.get_legendTypeEnum(),this.get_catLegendPresModel())},$1:function(){var e=ss.safeCast(this.parent,hJ);return e.get_zone()},getItemNamesFromObjectId:function(e){var hM=_.find(this.get_items(),function(hN){return hN.objectId===e});return hM.itemValues},update:function(e,hM){if(this.isNewPresModelSameAsOld(e)){return}db.notifyFontsFromCategoricalLegendPresModel(e);var hN=this.get_catLegendPresModel();this.swapAndCopyPresModel(e);if(ss.isValue(hN)&&!_.isEqual(hN.legendNames,e.legendNames)){this.raiseEvent(this.$2$2,hM)}this.raiseEvent(this.$2$1,hM)}},ey,[dK]);ss.initClass(fk,a,{update:function(e,hM){if(!this.isNewPresModelSameAsOld(e)){this.swapAndCopyPresModel(e)}}},ey);ss.initClass(bl,a,{get_categoricalFilter:function(){return this.$3$1},set_categoricalFilter:function(e){this.$3$1=e},get_mode:function(){return this.$1.categoricalMode},get_isAllButtonVisible:function(){return this.$1.isAllButtonVisible},get_isAllButtonSelected:function(){return this.$1.categoricalFilter.allSelected},get_isSelectionExclusive:function(){return this.$1.categoricalFilter.isSelectionExclusive},get_showApplyAndCancelButtons:function(){return this.$1.showApplyAndCancelButtons},get_showSearchButton:function(){return this.$1.isSearchable},get_showMoreLessButton:function(){return this.$1.canShowMoreFewerButton},get_showClearButton:function(){return this.$1.canShowFilterStateButton},get_getDomainValue:function(){return this.$1.filterDomainType},getDomains:function(){return this.$1.filterDomains},update:function(e,hM){fk.prototype.update.call(this,e,hM);this.$1=e;this.get_categoricalFilter().update(this.$1.categoricalFilter)}},fk);ss.initClass(bm,a,{invoke:function(){return this.invoke$1(bK.newCommand('change-workbook-ui-mode',this.c))}},ss.makeGenericType(O,[Object,bn]));ss.initClass(bn,a,{});ss.initEnum(bp,a,{clipNone:0,clipX:1,clipY:2,clipXY:3});ss.initClass(bq,a,{invoke:function(){return this.invoke$1(bK.newCommand('close-data-alert-dialog',this.c))}},ss.makeGenericType(O,[Object,br]));ss.initClass(br,a,{});ss.initClass(bs,a,{get_r:function(){return this.$7},get_g:function(){return this.$6},get_b:function(){return this.$4},get_a:function(){return this.$3},isLuminanceAboveThreshold:function(e){return this.$1()>e},isLStarAboveThreshold:function(e){return this.$0()>e},isLuminanceAgainstBackgroundAboveThreshold:function(e,hM){return this.$2(e)>hM},setRGBStr:function(e){this.$8=e},isValueAboveThreshold:function(e){var hM=bs.alphaBlend(this,bs.white);return Math.max(Math.max(hM.get_r(),hM.get_g()),hM.get_b())>e},toString:function(){if(this.$5===''){this.$5=((this.$3>=0.999989986419678)?this.toRgb():this.toRgba())}return this.$5},$0:function(){var e=this.$1();var hM=116*bs.$4(e)-16;return hM},$1:function(){return bs.$5(this.get_r(),this.get_g(),this.get_b())},$2:function(e){var hM=ss.Int32.trunc(this.$3*this.$7+(1-this.$3)*e.get_r());var hN=ss.Int32.trunc(this.$3*this.$6+(1-this.$3)*e.get_g());var hO=ss.Int32.trunc(this.$3*this.$4+(1-this.$3)*e.get_b());return bs.$5(hM,hN,hO)},getApparentColor:function(e){var hM=ss.Int32.trunc((1-bs.$2(this.$7))*e.get_r());var hN=ss.Int32.trunc((1-bs.$2(this.$6))*e.get_g());var hO=ss.Int32.trunc((1-bs.$2(this.$4))*e.get_b());return new bs(hM,hN,hO,this.$3)},toRgba:function(){return'rgba('+this.$7+','+this.$6+','+this.$4+','+this.$3+')'},toRgba255:function(){return'rgba('+this.$7+','+this.$6+','+this.$4+','+bs.alphaFractionTo255(this.$3)+')'},toRgb:function(){if(this.$8===''){return'rgb('+this.$7+','+this.$6+','+this.$4+')'}return this.$8},toRgbHex:function(){return'#'+bs.$6(this.$7,2)+bs.$6(this.$6,2)+bs.$6(this.$4,2)},toArgbHex:function(){var e=ss.Int32.trunc(bs.alphaFractionTo255(this.$3));return'#'+bs.$6(e,2)+bs.$6(this.$7,2)+bs.$6(this.$6,2)+bs.$6(this.$4,2)},toArgbInt:function(){var e=ss.Int32.trunc(bs.alphaFractionTo255(this.$3));return(e<<24)+(this.$7<<16)+(this.$6<<8)+this.$4}});ss.initClass(bt,a,{get_paletteCollectionPresModel:function(){return this.pm},get_qColorPaletteGroups:function(){return this.get_paletteCollectionPresModel().qColorPaletteGroups},get_catColorPaletteGroups:function(){return this.get_paletteCollectionPresModel().catColorPaletteGroups},get_colorPalettes:function(){var e=this.pm;if(ss.isNullOrUndefined(e)){return[]}return e.colorPalettes},colorPaletteGroup:function(e){var hM=e.palettesIndices;return _.map(hM,ss.mkdel(this,function(hN){return this.get_colorPalettes()[hN]}))},update:function(e,hM){this.simpleSwapToUpdate(e,null,hM)}},ey);ss.initClass(bu,a,{add_onUrlActionsResponse:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_onUrlActionsResponse:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_onInvalidation:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_onInvalidation:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},add_tabChangeCompleted:function(e){this.$1$3=ss.delegateCombine(this.$1$3,e)},remove_tabChangeCompleted:function(e){this.$1$3=ss.delegateRemove(this.$1$3,e)},add_newLayoutId:function(e){this.$1$4=ss.delegateCombine(this.$1$4,e)},remove_newLayoutId:function(e){this.$1$4=ss.delegateRemove(this.$1$4,e)},add_onPrimaryBootstrapSuccess:function(e){this.$1$5=ss.delegateCombine(this.$1$5,e)},remove_onPrimaryBootstrapSuccess:function(e){this.$1$5=ss.delegateRemove(this.$1$5,e)},add_switchingViz:function(e){this.$1$6=ss.delegateCombine(this.$1$6,e)},remove_switchingViz:function(e){this.$1$6=ss.delegateRemove(this.$1$6,e)},add_destroyView:function(e){this.$1$8=ss.delegateCombine(this.$1$8,e)},remove_destroyView:function(e){this.$1$8=ss.delegateRemove(this.$1$8,e)},add_commandQueueComplete:function(e){this.$1$9=ss.delegateCombine(this.$1$9,e)},remove_commandQueueComplete:function(e){this.$1$9=ss.delegateRemove(this.$1$9,e)},add_undoCommand:function(e){this.$1$10=ss.delegateCombine(this.$1$10,e)},remove_undoCommand:function(e){this.$1$10=ss.delegateRemove(this.$1$10,e)},add_modelsUpdated:function(e){this.$1$11=ss.delegateCombine(this.$1$11,e)},remove_modelsUpdated:function(e){this.$1$11=ss.delegateRemove(this.$1$11,e)},add_intermediateUpdate:function(e){this.$1$12=ss.delegateCombine(this.$1$12,e)},remove_intermediateUpdate:function(e){this.$1$12=ss.delegateRemove(this.$1$12,e)},add_remoteCommandFailure:function(e){this.$1$13=ss.delegateCombine(this.$1$13,e)},remove_remoteCommandFailure:function(e){this.$1$13=ss.delegateRemove(this.$1$13,e)},get_loader:function(){return this.$T},$E:function(){return this.$P.length===0&&this.$Y.$3()===0},$D:function(){return _.any(this.$P,bu.$5)},get_legacySession:function(){return this.$U},cancel:function(){if(!tab.FeatureFlags.isEnabled('CommandCancellation')){return}this.$1();this.$X.$1(true,false);this.$I=true;while(ss.isValue(this.$Y.$0())){}ss.clear(this.$P);ss.clearKeys(this.$N);ss.clear(this.$R);this.$M=null;this.$J.cancelAllCommands(ss.mkdel(this,function(e){this.$I=false;this.$V=!!(this.$V|e.isWorldNew);this.$A(e);var hM=new dW;hM.primarySheet=null;hM.layoutStatus=e;hM.cmdResult=null;var hN={item1:e.applicationPresModel,item2:hM};this.$5(0,hN);this.$o();this.$X.$0()}),function(e){})},resetInvalidationHandlers:function(){this.$1$1=null;this.$1$2=null;this.$1$5=null},setBrowserViewportFunc:function(e){this.$Q=e;if(ff.get_progressiveLoadEnabled()){this.$Q(ss.mkdel(this,function(hM){this.$T.setViewport(hM)}))}},prepareForSheetChange:function(){this.$U.get_waitHandler().showAndLock(false)},switchViz:function(e,hM){if(!ss.staticEquals(this.$1$6,null)){this.$1$6()}this.$G=false;gx.reset();tabBootstrap.ViewerBootstrap.resetInstance();var hN=tsConfig.staticAssetVersion;gx.resetTsConfig(e);var hO=this.$f(tsConfig.cssStaticAssetFiles,tsConfig.jsStaticAssetFiles);var hP=!ss.referenceEquals(hN,tsConfig.staticAssetVersion);if(hP||hO){hM.setWindowLocation(null);return}hM.updateForViewingSheet(tsConfig.repositoryUrl).replaceState(null);tabBootstrap.ViewerBootstrap.get_instance().bootstrap();if(!ss.staticEquals(bu.$1$7,null)){bu.$1$7()}},$f:function(e,hM){for(var hN=0;hN<e.length;hN++){var hO=e[hN];if(!eC.isCssLoaded(hO)){return true}}for(var hP=0;hP<hM.length;hP++){var hQ=hM[hP];if(!eC.isScriptLoaded(hQ)){return true}}return false},refreshLayout:function(){if(tabBootstrap.ViewerBootstrap.get_instance().get_hasBootstrapCompleted()){return}var hM=ss.mkdel(this,function(hP){{var hQ=tabBootstrap.MetricsController.createContext('RLE Decode Primary',32,null);try{hP=tab.RleDecoder.decode(hP)}finally{if(ss.isValue(hQ)){hQ.dispose()}}}if(tab.ObjectCoverage.shouldTrack('bootstrap-initial')){hP=(new tab.ObjectCoverage('bootstrap-initial')).instrument(hP,'')}var hR=hP;try{this.$B(hR);if(!ss.staticEquals(this.$1$5,null)){this.$1$5()}var hS=ho.createForCurrentWindowLocation();if(hS.get_retry()){hS.set_retry(false);hS.replaceState(null)}this.$b(hR.worldUpdate.applicationPresModel);this.$L.handlePotentialBootstrapDataSourceException(hR)}catch(hT){var e=ss.Exception.wrap(hT);bu.handleBootstrapException(e,this.$K)}});var hN=ss.mkdel(this,function(e){var hP=e;if(ss.isValue(hP)){_.defer(ss.mkdel(this,function(){{var hQ=tabBootstrap.MetricsController.createContext('RLE Decode Secondary',32,null);try{hP=tab.RleDecoder.decode(hP)}finally{if(ss.isValue(hQ)){hQ.dispose()}}}{var hR=tabBootstrap.MetricsController.createContext('PROSEC'.toString(),2,null);try{try{this.$e(hP)}catch(hS){var e1=ss.Exception.wrap(hS);bu.handleBootstrapException(e1,this.$K)}}finally{if(ss.isValue(hR)){hR.dispose()}}}if(ff.get_progressiveLoadEnabled()){this.$y()}else{this.$k()}}))}});var hO=ss.mkdel(this,function(e){fS.onVizqlPinged();var hP=e['status'];if(hP===200){var hQ=e['message'];if(ss.isNullOrUndefined(hQ)){hQ=e['_message']}var hR=hQ;if(ss.isValue(hR)&&hR.substr(0,12)==='Invalid JSON'){bu.sendParentCompletedMessage();var hS=tab.Strings.ServerErrorInvalidJSON+'<br>';this.$K.showAlertDialog(hS,tab.Strings.SessionUnknownErrorTitle,true,null);throw new ss.Exception('Invalid JSON')}}else if(hP===403){var hT=0;var hU='';try{var hV=JSON.parse(e['responseText']);if(ss.isValue(hV)){hT=hV.code;hU=hV.message}}catch(ic){}bu.sendParentCompletedMessage();this.$U.get_sessionErrorHandler().handleSessionForbiddenAction(hT,hU)}else if(hP===401){if(tab.FeatureFlags.isEnabled('SkipConnectionsDuringLoad')){var hW=e['responseText'];var hX=tab.DataSourceConnectionAttemptErrorResponse.tryDeserialize(hW);var hY=(ss.isNullOrUndefined(hX)?hW:hX.RedirectUrl);tab.WindowHelper.locationReplace(window.self,hY)}else{var hZ=e['responseText'];tab.WindowHelper.locationReplace(window.self,hZ)}}else if(hP===410){this.$U.get_sessionErrorHandler().handleSessionExpiration(true)}else if(hP===413){bu.sendParentCompletedMessage();this.$U.get_sessionErrorHandler().handleSessionLimitExceeded()}else if(hP!==0){bu.sendParentCompletedMessage();var ia=e['responseText'];if(tab.FeatureFlags.isEnabled('SkipConnectionsDuringLoad')){var ib=tab.DataSourceConnectionAttemptErrorResponse.tryDeserialize(ia);if(ss.isValue(ib)){ia=ib.ErrorMessage}}if(hP===502||hP===503){this.$U.get_sessionErrorHandler().handleSessionKilled(ia)}else{this.$U.get_sessionErrorHandler().handleUnknownErrorStatus(ia)}this.$U.nudgeWait()}});tabBootstrap.ViewerBootstrap.get_instance().waitOnInitialLayoutModel(hM,hO,hN)},delayLocalUrlActions:function(e){this.$O=this.$O.concat.apply(this.$O,e)},worldCheckpoint:function(){return this.$Z.worldCheckpoint()},$z:function(e){var hM=function(){e()};var hN={};hN.type='POST';hN.url=bu.$2('transitionGuest',this.$U);var hO=tab.MiscUtil.get_urlPathnameParts();var hP=(ss.keyExists(hO,3)?hO[3]:'');var hQ=tsConfig.current_sheet_name;var hR=ss.mkdict([':authSheet',hQ,'sheet_id',hP]);hN.data=hR;var hS=new fP(this.$U,null,hM,null,true,true);hH.helper(hN,hS)},$l:function(e,hM,hN,hO,hP){var hQ=tab.Strings.UnhandledExceptionMessage(this.$U.get_id(),e);var hR=bu.$0(this.$U.get_id(),e,hP);this.$K.showAlertDialog(hQ,tab.Strings.UnhandledExceptionTitle,true,hR);return false},$n:function(e,hM){if(ss.isValue(e)){ey.nonWorldUpdate(ss.mkdel(this,function(hN){hN.dialogProvider=this.$K;N.get_instance().update(e,hN);this.$Z.checkpointAppPresModel()}));this.$t();if(!hM){this.$j()}}},$j:function(){if(!ss.staticEquals(this.$1$12,null)){this.$1$12()}},$g:function(){if(ff.get_progressiveLoadEnabled()){this.$T=new ff;this.$T.add_progressiveLoad(ss.mkdel(this,this.$n));this.$T.add_progressiveLoadComplete(ss.mkdel(this,this.$m));this.$H=[]}},$y:function(){this.$T.start()},$1:function(){if(ff.get_progressiveLoadEnabled()&&this.$T.get_hasZonesToLoad()){this.$T.abort();this.$H=[];this.$m()}},$m:function(){this.$x();this.$k();hF.get().raiseOnProgressiveLoadComplete();for(var e=0;e<this.$H.length;e++){var hM=this.$H[e];hM()}this.$H=[]},$b:function(e){{var hM=tabBootstrap.MetricsController.createContext('PROPRI',2,null);try{var hN=new cB;hN.exceptionHandler=ss.mkdel(this,function(hT){bu.handleBootstrapException(hT,this.$K)});var hO=hN;var hP={dialogProvider:this.$K,eventHandler:hO};hF.get().raiseOnBootstrapResponse(e);if(ff.get_progressiveLoadEnabled()){e=this.$T.extractZoneContent(e)}{var hQ=tabBootstrap.MetricsController.createContext('MDLINI'.toString(),2,null);try{var hR=N.get_instance();hR.update(e,hP)}finally{if(ss.isValue(hQ)){hQ.dispose()}}}this.$Z.checkpointAppPresModel();gx.notifyModelsInitialized();{var hS=tabBootstrap.MetricsController.createContext('MDLEVT'.toString(),2,null);try{hO.fireDeferredEvents()}finally{if(ss.isValue(hS)){hS.dispose()}}}}finally{if(ss.isValue(hM)){hM.dispose()}}}this.$t();if(!ff.get_progressiveLoadEnabled()){this.$x()}this.get_legacySession().nudgeWait()},$e:function(e){var hM=e['secondaryInfo'.toString()];if(!ss.isValue(hM)||!ss.isValue(hM.presModelMap)||ss.getKeyCount(hM.presModelMap)===0){return}var hN=N.get_instance().get_appPresModel();if(ss.keyExists(hM.presModelMap,'dataDictionary')){var hO=hM.presModelMap['dataDictionary'].presModelHolder;var hP=hO['genDataDictionaryPresModel'];if(ss.isValue(hP)){hN.dataDictionary=hP}}var hQ=new cB;hQ.exceptionHandler=ss.mkdel(this,function(hW){bu.handleBootstrapException(hW,this.$K)});var hR=hQ;var hS={dialogProvider:this.$K,eventHandler:hR};if(ss.keyExists(hM.presModelMap,'vizData')){var hT=hN.workbookPresModel.dashboardPresModel;var hU=hM.presModelMap['vizData'].presModelHolder;var hV=hU['genPresModelMapPresModel'];if(ff.get_progressiveLoadEnabled()&&this.$T.get_hasZonesToLoad()){this.$T.updateZonesWithVizData(hV,hS)}else{hk.addVizDataToZones(hV.presModelMap,hT.zones)}}N.get_instance().update(hN,hS);this.$Z.checkpointAppPresModel();if(eB.hasAnyImpliedSelection()){hR.fireDeferredEvents()}this.$t()},$B:function(e){tsConfig.layoutid=e.layoutId;this.$U.set_layoutId(tsConfig.layoutid);var hM=e.newSessionId;if(!tab.MiscUtil.isNullOrEmpty$1(hM)){tsConfig.sessionid=hM}var hN=e.workbookLocale;if(!ss.isNullOrEmptyString(hN)){tsConfig.workbookLocale=hN}var hO=e.newClientNum;if(!ss.isNullOrEmptyString(hO)){tsConfig.clientNumber=hO;tabBootstrap.Utility.addToUrlHash(tabBootstrap.Utility.CLIENTNO,hO)}tsConfig.current_sheet_name=e.sheetName;hH.set_currentTabName(tsConfig.current_sheet_name);tsConfig.workbook_allow_subscriptions=e.allowSubscriptions;tsConfig.allow_subscribe_on_data_present=e.allowSubscribeOnDataPresent;if(ss.isValue(e.worldUpdate)&&ss.isValue(e.worldUpdate.applicationPresModel.workbookPresModel.dashboardPresModel)){tsConfig.current_sheet_type=e.worldUpdate.applicationPresModel.workbookPresModel.dashboardPresModel.sheetLayoutInfo.sheetType}},$i:function(){while(this.$Y.$3()>0&&!this.$D()){this.$6(this.$Y.$0())}},$6:function(hM){this.$P.push(hM);if(hM.get_isBlocking()){this.$X.$1(hM.get_blockType()==='immediately'||hM.get_blockType()==='immediatelySubtle',hM.get_blockType()==='immediatelySubtle')}var hN=new cB;var hO={dialogProvider:this.$K,eventHandler:hN};var hP=this.$W.beginTransaction(hO);var hQ;try{hM.execute(hP,this.$J,ss.mkdel(this,function(e){this.$3(hM,e)}));hQ=this.$W.endTransaction();if(N.get_instance().get_isLocalRenderMode()&&!bu.fireDeferredUrlActions){this.$7(this.$O)}}catch(hT){var e=ss.Exception.wrap(hT);tab.ErrorTrace.report(e,false);this.$W.rollbackTransaction();this.$3(hM,new bw(false,e));return}finally{this.$w()}var hR=null;if(hM.get_hasLocalComponent()){hR=tabBootstrap.MetricsController.createContext('PROLOC'.toString(),8,hM.buildCommandMetricsParameters())}{var hS=hR;try{if(ss.isValue(hQ)){if(ff.get_progressiveLoadEnabled()){hQ=this.$r(hQ,hO,true)}N.get_instance().update(hQ,hO);this.$Z.markCurrentWorldAsDirty();hN.fireDeferredEvents();this.$t()}}finally{if(ss.isValue(hS)){hS.dispose()}}}if(this.$P.length>0){this.$F=false}},$3:function(e,hM){var hN=null;if(e.get_hasRemoteComponent()){hN=tabBootstrap.MetricsController.createContext('PROREM'.toString(),8,e.buildCommandMetricsParameters())}{var hO=hN;try{try{ss.remove(this.$P,e);if(this.$E()){this.$o()}}finally{this.processingRenderModeChange=false;this.processingStoryPointChange=false}}finally{if(ss.isValue(hO)){hO.dispose()}}}this.$9(e,hM);if(this.$E()){this.$X.$0()}this.$i()},$9:function(e,hM){if(!hM.succeeded&&tab.FeatureFlags.isEnabled('SkipConnectionsDuringLoad')){var hN=this.$L.handle(hM.error,e);if(hN){this.$Z.revertLocalChanges();this.$X.$0()}}},$7:function(e){var hM=(ss.isValue(e)?ss.arrayClone(e):[]);this.$w();if(ss.isValue(this.$1$1)){if(hM.length>0){this.$1$1(hM,this.$K)}}},$w:function(){this.$O.length=0},$d:function(e,hM,hN){if(!ss.isValue(hM)||!ss.isValue(hN)){return}var hO=hN['vqlCmdResponse'.toString()];if(!ss.isValue(hO)){return}if(ss.isValue(hO.layoutStatus)){var hP=hO.layoutStatus;if(ss.isValue(hP.isWorldNew)){this.$V=!!(this.$V|hP.isWorldNew)}if(ss.isValue(hP.urlActionList)&&!N.get_instance().get_isLocalRenderMode()||bu.fireDeferredUrlActions){if(hP.urlActionList.length>0){bu.fireDeferredUrlActions=false;this.$7(hP.urlActionList)}}this.$A(hP);var hQ=null;if(ss.isValue(hM.commandParams)&&!ss.referenceEquals(hM.commandName,'render-tooltip-server'.toString())){if(ss.keyExists(hM.commandParams,'worksheet')){hQ=hM.commandParams['worksheet']}else if(ss.keyExists(hM.commandParams,'visualIdPresModel')){var hR;if(typeof(hM.commandParams['visualIdPresModel'])==='string'){var hS=hM.commandParams['visualIdPresModel'];hR=JSON.parse(hS)}else{hR=hM.commandParams['visualIdPresModel']}hQ=(ss.isValue(hR.worksheet)?hR.worksheet:null)}}var hT=new dW;hT.primarySheet=hQ;hT.layoutStatus=hO.layoutStatus;hT.cmdResult=hO.cmdResultList[0];var hU=null;if(ss.isValue(hO.layoutStatus.applicationPresModel)){hU=hO.layoutStatus.applicationPresModel}var hV={item1:hU,item2:hT};this.$5(e,hV);var hW=ss.isValue(this.$M)&&!ss.referenceEquals(tsConfig.current_sheet_name,this.$M.sheetName);var hX=new bF;hX.set_applicationPresModel(hU);hX.set_worldUpdateCommand(hM);hX.set_sheetChanged(hW);hX.set_rebuildTheWorld(this.$V);var hY=hX;hF.get().raiseOnCommandResponse(hY)}},$A:function(e){if(ss.isValue(e.applicationPresModel)&&ss.isValue(e.applicationPresModel.workbookPresModel)&&ss.isValue(e.applicationPresModel.workbookPresModel.dashboardPresModel)&&ss.isValue(e.applicationPresModel.workbookPresModel.dashboardPresModel.sheetLayoutInfo)){this.$M=e.applicationPresModel.workbookPresModel.dashboardPresModel.sheetLayoutInfo}},$c:function(e,hM,hN){var hO=new dW;hO.cmdResult={commandName:hM.commandName,commandReturn:hN};var hP=hO;var hQ={item1:null,item2:hP};this.$5(e,hQ);this.$u(hN)},$o:function(){if(N.get_instance().get_isOffline()){return}var e=new cB;var hM={dialogProvider:this.$K,eventHandler:e};var hN=ss.getKeyCount(this.$N)>0;var hO=false;var hP=tsConfig.current_sheet_name;if(ss.isValue(this.$M)){hO=!ss.referenceEquals(tsConfig.current_sheet_name,this.$M.sheetName);hP=this.$M.sheetName;this.get_legacySession().set_layoutId(this.$M.layoutId.toString());if(hO){if(!ss.staticEquals(bu.$1$14,null)){bu.$1$14()}}if(hO||this.$V){this.$1$8()}}var hQ=this._getRenderMode();var hR=this.$8();this.$W.rollbackTransactions(hM);if(this.$V){N.get_instance().get_workbook().handleWorldReset()}if(this.$V||hO){this.$1()}this.$2(hP,hQ,hM);ss.clearKeys(this.$N);this.$Z.checkpointAppPresModel();this.$W.resetTransactedState();this.$q(hR);this.$p(hO);if(hN){eB.reValidateVisualModels(hM)}e.fireDeferredEvents();this.$a();this.$t();this.$C()},$C:function(){this.$S.push(ss.mkdel(this,this.$s));this.$S.push(ss.mkdel(this,function(){dT.callWhenImagesLoaded(ss.mkdel(this,function(){this.$F=true}))}));if(ff.get_progressiveLoadEnabled()&&this.$T.get_hasZonesToLoad()){this.$H.push(ss.mkdel(this,function(){this.$4()}))}else{this.$4()}this.$V=false},$4:function(){for(var e=0;e<this.$S.length;e++){var hM=this.$S[e];hM()}ss.clear(this.$S)},$q:function(e){if(e.$0()){var hM=this.$8();if(hM.$0()&&e.$4()!==hM.$4()&&ss.isValue(e.$2())&&ss.referenceEquals(e.$2(),hM.$2())){this.processingStoryPointChange=true}}},$p:function(e){if(ss.isNullOrUndefined(this.$M)){return}if(!e&&!this.$V){return}if(e){try{if(ss.isValue(window.parent)&&typeof(window.parent['handleSheetChanged'])==='function'){window.parent['handleSheetChanged'](this.$M.sheetName,this.$M.repositoryUrl)}}catch(hN){}}if(tsConfig.is_mobile_app&&!('sheetname'in this.$M)){this.$M['sheetName']=this.$M.sheetName}var hM={item1:tsConfig.current_sheet_name,item2:this.$M.sheetName};if(!ss.staticEquals(this.$1$4,null)){this.$1$4(this.$M)}G.get().onNewLayoutId([this.$M]);this.$S.push(ss.mkdel(this,function(){if(!ss.staticEquals(this.$1$3,null)){this.$1$3(hM)}}));this.$M=null},$2:function(e,hM,hN){var hO=_.keys(this.$N);hO=hO.sort(function(hW,hX){var hY=parseInt(hW);var hZ=parseInt(hX);return((hY>hZ)?1:-1)});var hP=N.get_instance();for(var hQ=0;hQ<hO.length;hQ++){var hR=hO[hQ];var hS=this.$N[hR];var hT=hS.item1;var hU=hS.item2;if(ss.isNullOrUndefined(hT)||ss.isNullOrUndefined(hU)||ss.isNullOrUndefined(hU.layoutStatus)){continue}var hV=hU.layoutStatus.active_tab||'';if(!ss.referenceEquals(hV,e)){continue}if(ff.get_progressiveLoadEnabled()){hT=this.$r(hT,hN,false)}hP.update(hT,hN);this.$R.push(hU);if(ss.isValue(hU.layoutStatus.undoPosition)){if(hU.layoutStatus.undoPosition<this.get_legacySession().get_historyPosition()){this.$v()}if(hU.layoutStatus.undoPosition>this.get_legacySession().get_historyPosition()){this.$U.$9('')}this.get_legacySession().set_historyPosition(hU.layoutStatus.undoPosition)}if(!this.processingRenderModeChange&&hT.renderMode!==hM){this.processingRenderModeChange=true;this.$X.$2(false)}}},$r:function(e,hM,hN){if(ff.get_progressiveLoadEnabled()){var hO=N.get_instance().get_appPresModel();var hP=false;if(N.get_instance().get_workbook().get_isCurrentSheetStoryboard()&&ss.isValue(N.get_instance().get_workbook().get_storyboard().get_flipboard())){var hQ=N.get_instance().get_workbook().get_storyboard().get_flipboard().get_currentStoryPointId();var hR=bu.$4(e);hP=ss.isValue(hR)&&hR!==hQ}var hS=bu.$3(e);var hT=!ss.isNullOrEmptyString(hS)&&!ss.referenceEquals(hS,bu.$3(hO));if(hP||hT){this.$1();e=this.$T.extractZoneContent(e);this.$y()}else{e=this.$T.processModelUpdate(e,hM,hN)}}return e},$a:function(){for(var e=0;e<this.$R.length;e++){var hM=this.$R[e];if(!ss.staticEquals(this.$1$2,null)){this.$1$2(hM)}this.$L.handlePotentialTabSwitchDataSourceException(hM.layoutStatus)}ss.clear(this.$R)},$k:function(){if(this.$G){return}this.$G=true;bu.$6();gx.$0();dT.callWhenImagesLoaded(ss.mkdel(this,function(){this.$F=true}));bu.sendParentCompletedMessage();fS.onVizqlPinged();bv.$0()},$5:function(e,hM){if(ss.isValue(hM)){this.$N[e.toString()]=hM}},_getRenderMode:function(){return N.get_instance().get_renderMode()},$8:function(){return new C},$s:function(){if(ss.isValue(this.$1$9)){this.$1$9()}},$v:function(){if(ss.isValue(this.$1$10)){this.$1$10()}},$t:function(){if(ss.isValue(this.$1$11)){this.$1$11()}},$u:function(e){if(ss.isValue(this.$1$13)){this.$1$13(e)}},$x:function(){if(this.$G){return}var e=function(){var hM={};hM['t']=tabBootstrap.MetricsController.getTiming();hM['d']='ALLZNS';var hN=new tabBootstrap.MetricsEvent('gen',2,hM);tabBootstrap.MetricsController.logEvent(hN)};dT.callWhenImagesLoaded(function(){eC.registerModulesLoadedCallback(e)})},$0:function(e){var hM=e.get_commandName();if(hM==='next-story-point'||hM==='previous-story-point'||hM==='set-active-story-point'||hM==='ensure-layout-for-sheet'||hM==='revert-workbook'){this.$1()}},$h:function(){return ss.getKeyCount(this.$N)>0||this.$P.length>0||this.$Y.$3()>0}});ss.initClass(bv,a,{});ss.initClass(bw,a,{});ss.initEnum(bx,a,{proceed:0,stop:1});ss.initInterface(dL,a,{get_commandType:null,get_name:null});ss.initClass(gS,a,{get_serializedCommand:function(){return this.$2$1},set_serializedCommand:function(e){this.$2$1=e},get_isMenuButton:function(){return ss.isValue(this.get_wrappedCommandItemPresModel())&&ss.isValue(this.get_wrappedCommandItemPresModel().get_commands())},get_asMenuButton:function(){return this},get_isPlaceholder:function(){return this.$2$2},set_isPlaceholder:function(e){this.$2$2=e},get_legacyCommandModel:function(){return this.$2$3},set_legacyCommandModel:function(e){this.$2$3=e},get_status:null,get_commandType:null,get_name:null,get_description:null,get_imageRes:null,get_wrappedCommandItemPresModel:null},ey,[dL]);ss.initClass(by,a,{get_legacyCommandModel:function(){var e=new bA;e.set_commandType(this.get_commandType());e.command=this.get_serializedCommand();e.set_name(this.get_name());e.description=this.get_description();e.imageRes=this.get_imageRes();e.status=this.get_status();return e},set_legacyCommandModel:function(e){},get_status:function(){var e=this.get_wrappedCommandItemPresModel().get_enabled();return((ss.isNullOrUndefined(e)||e)?'enabled':'disabled')},get_commandType:function(){if(ss.isNullOrUndefined(this.get_serializedCommand())){return 99}var e=bG.getCommandType(this.get_serializedCommand());return(ss.isValue(e)?ss.unbox(e):99)},get_name:function(){return this.get_wrappedCommandItemPresModel().get_name()},get_description:function(){return this.get_wrappedCommandItemPresModel().get_description()},get_imageRes:function(){if(ss.isNullOrUndefined(this.get_wrappedCommandItemPresModel().get_iconRes())){return null}return ss.coalesce(gG.lookupFullResourceAlias(this.get_wrappedCommandItemPresModel().get_iconRes()),null)},get_wrappedCommandItemPresModel:function(){if(ss.isNullOrUndefined(this.pm)){return null}return bz.create(this.pm)},update:function(e,hM){this.pm=e;this.set_serializedCommand(bG.deserialize(this.get_wrappedCommandItemPresModel().get_command()));if(ss.isValue(this.get_serializedCommand())&&hM!==0&&!ss.isValue(this.get_serializedCommand().commandParams['selectAtPoint'])){this.get_serializedCommand().commandParams['tupleId']=hM.toString()}}},gS,[dL]);ss.initClass(bz,a,{get_item:function(){return this.$0},get_name:function(){return this.$0['name'.toString()]},set_name:function(e){this.$0['name'.toString()]=e},get_description:function(){return this.$0['description'.toString()]},set_description:function(e){this.$0['description'.toString()]=e},get_readId:function(){return this.$0['readId'.toString()]},set_readId:function(e){this.$0['readId'.toString()]=e},get_commandsType:function(){return this.$0['commandsType'.toString()]},set_commandsType:function(e){this.$0['commandsType'.toString()]=e},get_enabled:function(){var e=this.$0['state'.toString()];if(ss.isNullOrUndefined(e)){return true}return e},set_enabled:function(e){this.$0['state'.toString()]=e},get_isChecked:function(){return this.$0['isChecked'.toString()]},set_isChecked:function(e){this.$0['isChecked'.toString()]=e},get_isDefault:function(){return this.$0['isDefault'.toString()]},set_isDefault:function(e){this.$0['isDefault'.toString()]=e},get_isRadioOn:function(){return this.$0['isRadioOn'.toString()]},set_isRadioOn:function(e){this.$0['isRadioOn'.toString()]=e},get_isVisible:function(){return ss.coalesce(this.$0['isVisible'.toString()],true)},set_isVisible:function(e){this.$0['isVisible'.toString()]=e},get_commands:function(){return this.$0['commands'.toString()]},set_commands:function(e){this.$0['commands'.toString()]=e},get_command:function(){return this.$0['command'.toString()]},set_command:function(e){this.$0['command'.toString()]=e},get_argumentParams:function(){return this.$0['argumentParams'.toString()]},set_argumentParams:function(e){this.$0['argumentParams'.toString()]=e},get_hasIcon:function(){return!ss.isNullOrEmptyString(this.get_iconRes())},get_iconRes:function(){return this.$0['iconRes'.toString()]},set_iconRes:function(e){this.$0['iconRes'.toString()]=e}});ss.initClass(bA,a,{get_commandType:function(){return this.$1$1},set_commandType:function(e){this.$1$1=e},get_name:function(){return this.$1$2},set_name:function(e){this.$1$2=e}},null,[dL]);ss.initClass(bB,a,{get_status:function(){return this.get_legacyCommandModel().status},get_commandType:function(){return this.get_legacyCommandModel().get_commandType()},get_name:function(){return this.get_legacyCommandModel().get_name()},get_description:function(){return this.get_legacyCommandModel().description},get_imageRes:function(){return this.get_legacyCommandModel().imageRes},get_wrappedCommandItemPresModel:function(){return null},update:function(e,hM){this.pm=null;this.set_legacyCommandModel(e);this.set_serializedCommand(this.get_legacyCommandModel().command);this.set_isPlaceholder(hM)}},gS,[dL]);ss.initClass(bC,a,{test:function(e){tab.Param.verifyValue(e,'command');if(ss.isNullOrUndefined(e.get_commandType())){}return ss.isValue(e.get_commandType())&&e.get_commandType()!==99&&ss.keyExists(this.$0,e.get_commandType())&&this.$0[e.get_commandType()]==='granted'}});ss.initClass(bD,a,{get_commandToExecute:function(){return this.$0},get_successCallback:function(){return this.$2},get_errorCallback:function(){return this.$1}});ss.initClass(bE,a,{});ss.initClass(bF,a,{get_applicationPresModel:function(){return this.$2$1},set_applicationPresModel:function(e){this.$2$1=e},get_worldUpdateCommand:function(){return this.$2$2},set_worldUpdateCommand:function(e){this.$2$2=e},get_sheetChanged:function(){return this.$2$3},set_sheetChanged:function(e){this.$2$3=e},get_rebuildTheWorld:function(){return this.$2$4},set_rebuildTheWorld:function(e){this.$2$4=e}},ss.EventArgs);ss.initClass(bG,a,{});ss.initClass(bH,a,{add_commandsChanged:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_commandsChanged:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_shouldUpdate:function(){return this.$1},set_shouldUpdate:function(e){this.$1=e},get_commands:function(){return this.pm},update:function(e,hM){if(this.get_shouldUpdate()){this.forceUpdate(e,hM)}},forceUpdate:function(e,hM){this.simpleSwapToUpdate$1(bH).call(this,e,this.$2$1,this,hM)}},ey);ss.initClass(bI,a,{get_presModel:function(){return this.$0},get_commandItems:function(){return this.$0['commandItems'.toString()]},set_commandItems:function(e){this.$0['commandItems'.toString()]=e},get_defaultItem:function(){return this.$0['defaultItem'.toString()]},set_defaultItem:function(e){this.$0['defaultItem'.toString()]=e}});bI.$ctor1.prototype=bI.prototype;ss.initClass(bJ,a,{});ss.initClass(bK,a,{});ss.initClass(bL,a,{sendRequest:function(e){var hM={$:$.Deferred()};var hN=new hC(e.method,e.params,ss.mkdel({deferred:hM,$this:this},function(hP){this.$this.$0(this.deferred,hP)}),ss.mkdel({deferred:hM},function(hP){var hQ={};hQ['errors']=[ss.mkdict(['code',hP])];this.deferred.$.reject(hQ)}));var hO=this.$3(hN);hH.helper(hO);return hM.$},$0:function(e,hM){if(ss.keyExists(hM,'errors')){e.$.reject(hM)}else{e.$.resolve(hM)}},sendVizqlRequest:function(e){var hM={$:$.Deferred()};var hN=ss.mkdel({deferred:hM,$this:this},function(hQ,hR,hS){var hT=hQ;delete hT['msg'];delete hT['status'];this.$this.$0(this.deferred,hT)});var hO=ss.mkdel({deferred:hM},function(hQ,hR,hS){this.deferred.$.reject()});var hP=new hm(e.method,e.params,hN,hO);this.$1(hP);return hM.$},$1:function(e){var hM={};hM.type='POST';hM.url=this.$2.$4(e.methodName);hM.headers=ss.mkdict(['Accept','text/javascript']);hM.dataType='json';if(ss.isValue(e.methodParams)){hM.data=e.methodParams}var hN=this.$2.$0(null,e.success,e.error,'immediately');this.$2.$b(hM,hN)}},null,[Object]);ss.initClass(bM,a,{add_compoundTableCalcUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_compoundTableCalcUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_tableCalcsPresModel:function(){return this.pm},get_hasTableCalc:function(){return this.get_primaryTableCalc().get_hasTableCalc()},get_fieldCaption:function(){return this.get_tableCalcsPresModel().fieldCaption},get_primaryTableCalc:function(){return this.$1},get_allowSecondaryTableCalc:function(){return ss.isValue(this.get_tableCalcsPresModel())&&this.get_tableCalcsPresModel().isSecondaryAllowed},get_hasSecondaryTableCalc:function(){return this.get_allowSecondaryTableCalc()&&this.get_secondaryTableCalc().get_hasTableCalc()},get_secondaryTableCalc:function(){return this.$2},get_isCalcAssistanceEnabled:function(){return(ss.isNullOrUndefined(this.get_tableCalcsPresModel())?true:this.get_tableCalcsPresModel().isCalcAssistanceEnabled)},get_calcAssistanceWidgetState:function(){return(ss.isNullOrUndefined(this.get_tableCalcsPresModel())?'widget-state-enabled':this.get_tableCalcsPresModel().tableCalcAssistanceWidgetState)},update:function(e,hM){if(this.isNewPresModelSameAsOld(e)){return}var hN=e;this.$1.update(bM.$0(hN,0),hM);this.$2.update(bM.$0(hN,1),hM);this.swapAndCopyPresModel(hN);this.raiseEvent(this.$2$1,hM)}},ey);ss.initClass(bN,a,{invoke:function(){return this.invoke$1(bK.newCommand('create-dashboard-title-rich-text-editor',this.c))}},ss.makeGenericType(O,[Object,bO]));ss.initClass(bO,a,{});ss.initClass(bP,a,{invoke:function(){return this.invoke$1(bK.newCommand('create-data-source-from-file-upload',this.c))}},ss.makeGenericType(O,[Object,bQ]));ss.initClass(bQ,a,{});ss.initClass(bR,a,{invoke:function(){return this.invoke$1(bK.newCommand('create-text-object-rich-text-editor',this.c))}},ss.makeGenericType(O,[Object,bS]));ss.initClass(bS,a,{});ss.initClass(cS,a,{get_instanceType:null,get_fieldsModel:function(){return this.parent},get_dataSourceName:function(){if(ss.isNullOrUndefined(this.get_dataSource())){return''}return this.get_dataSource().get_name()},get_canHaveChildren:function(){return false},get_isParameter:function(){return ss.isValue(this.get_dataSource())&&this.get_dataSource().get_isParametersDataSource()},get_isUnsortedContainer:function(){return false},get_isSelectable:function(){return!this.get_isUnsortedContainer()},get_isDraggable:function(){return this.get_isSelectable()&&!this.get_isHidden()&&!this.get_isInvalid()},get_childToSelect:function(){return(this.get_isUnsortedContainer()?null:this)},get_isDerived:function(){if(this.get_canHaveChildren()){return false}return this.get_isGenerated()||this.get_isAutoColumn()||this.get_isColumn()&&this.asColumn().get_isInstance()},get_isMeasureNamesOrValues:function(){return ss.referenceEquals(this.get_localName(),cS.nameOfMeasuresColumn)||ss.referenceEquals(this.get_localName(),cS.nameOfMeasureValuesColumn)},get_fieldIconResource:function(){var e=this.pm.fieldIconRes||'';if(e.length===0){return e}if(this.pm.isInvalid){e+='-invalid'}return e},get_isInstance:function(){return!this.get_isGenerated()&&this.get_isDerived()},get_isHidden:function(){return this.pm.isHidden||this.get_isInstance()},get_isAutoHidden:function(){return this.pm.isAutoHidden||false},get_isInvalid:function(){return this.pm.isInvalid},get_isOrphaned:function(){return this.pm.isOrphaned},get_isGenerated:function(){return this.pm.isGenerated||false},get_isAutoColumn:function(){return this.pm.isAutoColumn||false},get_isAllowedInCalcs:function(){return this.pm.isAllowedInCalcs},get_isUnnamedCalc:function(){return this.pm.isUnnamed||false},get_isQuickTableCalc:function(){return this.pm.isQuickTableCalc},get_globalName:function(){return this.pm.fn},get_localName:function(){return this.pm.name},get_qualifiedLocalName:function(){return'['+this.get_localName()+']'},get_description:function(){return this.pm.description},get_userCaption:function(){return this.pm.userCaption},get_ordinal:function(){return this.pm.datasourceOrdinal},get_isColumn:function(){return this.get_instanceType()==='column'||this.get_instanceType()==='group'},get_isGroup:function(){return this.get_instanceType()==='group'},get_isCubeDimension:function(){return this.get_instanceType()==='cubeDimension'},get_isDrillPath:function(){return this.get_instanceType()==='drillPath'},get_isCubeHierarchy:function(){return this.get_instanceType()==='cubeHierarchy'},get_isCubeFolder:function(){return this.get_instanceType()==='cubeFolder'},get_isFolder:function(){return this.get_instanceType()==='folder'},get_isRelationalTable:function(){return this.get_instanceType()==='relationalTable'},get_defaultRole:function(){return this.pm.defaultFieldRole},get_role:function(){return this.pm.fieldRole},get_defaultFieldType:function(){return(this.get_isColumn()?this.pm.defaultFieldType:'unknown')},get_fieldType:function(){return(this.get_isColumn()?this.pm.fieldType:'unknown')},get_displayName:function(){return(this.get_isDrillPath()?(this.get_localName()||this.get_description()):(this.get_description()||this.get_localName()))},get_tooltip:function(){if(this.get_isInvalid()){return this.pm.tooltipText}else{return this.get_userCaption()||(this.get_description()||this.get_displayName())}},get_canBeUsedInCalculation:function(){return this.get_isAllowedInCalcs()||this.get_isUnnamedCalc()||this.get_isQuickTableCalc()},get_canBeAddedToDataSchema:function(){return this.get_isUnnamedCalc()||this.get_isQuickTableCalc()},get_dataSource:function(){return(ss.isNullOrUndefined(this.get_fieldsModel())?null:this.get_fieldsModel().get_dataSource())},matchesFolderRole:function(e){if(this.get_isFolder()){return this.asFolder().get_folderRole()===e}else{switch(e){case'dimensions':{return this.get_defaultRole()==='dimension'}case'measure':{return this.get_defaultRole()==='measure'}case'groups':{return this.get_isGroup()}case'parameters':{return true}default:{return false}}}},asColumn:function(){return ss.safeCast(this,cQ)},asGroup:function(){return ss.safeCast(this,dD)},asDimension:function(){return ss.safeCast(this,bT)},asHierarchy:function(){return ss.safeCast(this,bV)},asCubeFolder:function(){return ss.safeCast(this,bU)},asFolder:function(){return ss.safeCast(this,da)},asDrillPath:function(){return ss.safeCast(this,cJ)},asRelationalTable:function(){return ss.safeCast(this,fo)}},ey);ss.initClass(bT,a,{get_hierarchies:function(){return this.$3},get_childToSelect:function(){var e=this.pm.defaultHierarchyName;if(!ss.isNullOrEmptyString(e)){for(var hM=0;hM<this.$3.length;hM++){var hN=this.$3[hM];if(ss.referenceEquals(hN.get_localName(),e)){return hN.get_levels()[0]}}}var hO=[];for(var hP=0;hP<this.$3.length;hP++){var hQ=this.$3[hP];hO.push(hQ)}for(var hR=0;hR<this.$2.length;hR++){var hS=this.$2[hR];var hT=hS.get_hierarchies();for(var hU=0;hU<hT.length;hU++){var hV=hT[hU];hO.push(hV)}}hO.sort(function(hW,hX){if(hW.get_levels().length>1&&hX.get_levels().length<=1){return-1}else if(hW.get_levels().length<=1&&hX.get_levels().length>1){return 1}else{return 0}});return((hO.length>0)?hO[0].get_levels()[0]:null)},get_folders:function(){return this.$2},get_attributes:function(){return this.$1},get_instanceType:function(){return'cubeDimension'},get_canHaveChildren:function(){return true},update:function(e,hM,hN,hO){this.swapAndCopyPresModel(e);this.$3=hM;this.$2=hN;this.$1=hO}},cS);ss.initClass(bU,a,{get_hierarchies:function(){return this.$2},get_childToSelect:function(){return this.$2[0]},get_columns:function(){return this.$1},get_instanceType:function(){return'cubeFolder'},get_canHaveChildren:function(){return true},get_isUnsortedContainer:function(){return true},update:function(e,hM,hN){this.swapAndCopyPresModel(e);this.$2=hM;this.$1=hN}},cS);ss.initClass(bV,a,{get_levels:function(){return this.$1},get_childToSelect:function(){return this.$1[0]},get_instanceType:function(){return'cubeHierarchy'},get_canHaveChildren:function(){return true},update:function(e,hM){this.swapAndCopyPresModel(e);this.$1=hM}},cS);ss.initClass(gQ,a,{get_tableCalcIdentifier:function(){var e=this.parent;return(ss.isNullOrUndefined(e)?new gC(null):e.get_tableCalcIdentifier())},update:null},ey);ss.initClass(bW,a,{add_modelUpdated:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_modelUpdated:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},$1:function(){return this.pm},get_aggregationIndex:function(){return this.$1().aggregationIndex},get_aggregationValues:function(){return this.$1().aggregationValues},get_aggregationCaptions:function(){return this.$1().aggregationCaptions},get_hasAggregation:function(){return ss.isValue(this.get_aggregationValues())&&this.get_aggregationValues().length>0},update:function(e,hM){this.simpleSwapToUpdate(e,this.$3$1,hM)}},gQ);ss.initClass(bX,a,{navigateToCustomizedView:function(e){var hM=tabBootstrap.Utility.get_locationWindow();fT.destroySessionAndForward$1(hM,bX.buildUrl(e,false))},navigateToOriginalView:function(){var e=tabBootstrap.Utility.get_locationWindow();fT.destroySessionAndForward$1(e,bX.buildUrl(null,false))},getCustomizedViews:function(e,hM){var hN=function(hO,hP,hQ){if(!ss.isValue(e)){return}var hR;var hS=null;if('customizedViews'in hO){hR=hO['customizedViews']}else{hR=[]}if('defaultCustomizedViewId'in hO){hS=hO['defaultCustomizedViewId']}e(hR,hS)};this.$2(hN,bX.$0(hM),'get_customized_views',ss.mkdict(['sheet_id',tsConfig.current_sheet_name]),'GET','none')},setDefaultCustomizedView:function(e,hM,hN){var hO=function(hQ,hR,hS){if(!ss.isValue(hM)){return}var hT=null;if('defaultCv'in hQ){hT=hQ['defaultCv']}hM(hT)};var hP=ss.mkdict(['sheet_id',tsConfig.current_sheet_name]);if(ss.isValue(e)){hP['cvId']=e.id}this.$2(hO,bX.$0(hN),'set_default_customized_view',hP)},destroyCustomizedView:function(e,hM,hN){tab.Param.verifyValue(e,'cv');var hO=function(hP,hQ,hR){if(!ss.isValue(hM)){return}hM()};this.$1(hO,bX.$0(hN),'destroy_customized_view',ss.mkdict(['cvId',e.id]))},saveCustomizedView:function(e,hM,hN){tab.Param.verifyValue(e,'cv');var hO=ss.mkdel(this,function(hQ,hR,hS){if(!ss.isValue(hM)){return}var hT=null;if('cv'in hQ){hT=hQ['cv'];this.updateTsConfig(hT,true)}hM(hT)});var hP=ss.mkdict(['sheet_id',tsConfig.current_sheet_name,'name',e.name,'shared',e.isPublic]);if(ss.isValue(e.id)){hP['cvId']=e.id}this.$2(hO,bX.$0(hN),'save_customized_view',hP)},updateTsConfig:function(e,hM){tsConfig.repositoryUrl=this.$0(e);if(hM){if(ss.isNullOrUndefined(e)){tsConfig.current_custom_view_id=null}else{tsConfig.current_custom_view_id=e.id}}},$0:function(e){var hM=new fs(tsConfig.repositoryUrl);if(ss.isNullOrUndefined(e)){return ss.formatString('{0}/{1}',hM.get_workbookId(),hM.get_sheetId())}return ss.formatString('{0}/{1}/{2}/{3}',hM.get_workbookId(),hM.get_sheetId(),ho.encodeUserName(e.owner.username),e.urlId)},updateCustomizedView:function(e,hM,hN){tab.Param.verifyValue(e,'cv');var hO=ss.mkdel(this,function(hQ,hR,hS){if(!ss.isValue(hM)){return}var hT=null;if('cv'in hQ){hT=hQ['cv'];this.updateTsConfig(hT,false)}hM(hT)});var hP=ss.mkdict(['sheet_id',tsConfig.current_sheet_name,'name',e.name,'shared',e.isPublic,'cvId',e.id]);this.$2(hO,bX.$0(hN),'update_customized_view',hP)},$1:function(e,hM,hN,hO){var hP=this.$3.$0(null,e,hM,'immediately');var hQ={};hQ.type='POST';hQ.url=this.$3.$2(hN);hQ.headers=ss.mkdict(['Accept','text/javascript']);hQ.dataType='json';if(ss.isValue(hO)){hQ.data=hO}this.$3.$b(hQ,hP)},$2:function(e,hM,hN,hO,hP,hQ){var hR={};hR.type=hP||'POST';hR.url=this.$3.$4(hN);hR.headers=ss.mkdict(['Accept','text/javascript']);hR.dataType='json';if(ss.isValue(hO)){hR.data=hO}var hS=hQ||'immediately';var hT=this.$3.$0(null,e,hM,hS);this.$3.$b(hR,hT)}});ss.initClass(bY,a,{add_modelUpdated:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_modelUpdated:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},$1:function(){return this.pm},get_referenceModel:function(){return this.$3$2},set_referenceModel:function(e){this.$3$2=e},get_nullIfIncomplete:function(){return this.$1().nullIfIncomplete},get_nullIfIncompleteState:function(){return this.$1().customNullIfIncompleteState},get_allPages:function(){return this.$1().includeAllPages},get_allPagesState:function(){return this.$1().allPagesState},get_nestedCalcsWidgetState:function(){return this.$1().nestedCalcsState},get_nestedCalcsIndex:function(){return this.$1().nestedCalcsIndex},get_nestedTableCalcInfoArray:function(){return this.$1().nestedTableCalcInfos},update:function(e,hM){var hN=e;if(this.isNewPresModelSameAsOld(hN)){return}this.swapAndCopyPresModel(hN);this.get_referenceModel().update(hN.tableCalcReferenceOptionsPresModel,hM);this.raiseEvent(this.$3$1,hM)}},gQ);ss.initClass(bZ,a,{});ss.initClass(ca,a,{add_newDashboard:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_newDashboard:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_activeZoneChanged:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_activeZoneChanged:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_readyZoneChanged:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_readyZoneChanged:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},add_renderModeChanged:function(e){this.$2$5=ss.delegateCombine(this.$2$5,e)},remove_renderModeChanged:function(e){this.$2$5=ss.delegateRemove(this.$2$5,e)},add_portSizeChanged:function(e){this.$2$6=ss.delegateCombine(this.$2$6,e)},remove_portSizeChanged:function(e){this.$2$6=ss.delegateRemove(this.$2$6,e)},add_sizeChanged:function(e){this.$2$7=ss.delegateCombine(this.$2$7,e)},remove_sizeChanged:function(e){this.$2$7=ss.delegateRemove(this.$2$7,e)},add_formatsChanged:function(e){this.$2$8=ss.delegateCombine(this.$2$8,e)},remove_formatsChanged:function(e){this.$2$8=ss.delegateRemove(this.$2$8,e)},add_titleVisibilityChanged:function(e){this.$2$9=ss.delegateCombine(this.$2$9,e)},remove_titleVisibilityChanged:function(e){this.$2$9=ss.delegateRemove(this.$2$9,e)},add_currentDeviceLayoutChanged:function(e){this.$2$10=ss.delegateCombine(this.$2$10,e)},remove_currentDeviceLayoutChanged:function(e){this.$2$10=ss.delegateRemove(this.$2$10,e)},add_currentDeviceLayoutListChanged:function(e){this.$2$11=ss.delegateCombine(this.$2$11,e)},remove_currentDeviceLayoutListChanged:function(e){this.$2$11=ss.delegateRemove(this.$2$11,e)},add_dashboardNameChanged:function(e){this.$2$12=ss.delegateCombine(this.$2$12,e)},remove_dashboardNameChanged:function(e){this.$2$12=ss.delegateRemove(this.$2$12,e)},get_zoneModels:function(){return this.zonesModel.get_zoneModels()},get_contentDashboard:function(){if(ss.isValue(this.pm)&&this.pm.isStory){this.$d=this.$d||this.$2();return this.$d}return this},get_actionPresModels:function(){if(ss.isValue(this.pm)){return this.pm.userActions}return null},get_backgroundColor:function(){if(ss.isValue(this.pm)&&ss.isValue(this.pm.cssAttrs)){return this.pm.cssAttrs['backgroundColor']}return null},get_zonePlaceholderColor:function(){var e=this.$f;if(ss.isNullOrUndefined(e)){e=this.$1()}this.$f=e;return this.$f},get_sheetName:function(){if(ss.isValue(this.pm)&&ss.isValue(this.pm.sheetLayoutInfo)){return this.pm.sheetLayoutInfo.sheetName}return null},get_sheetPath:function(){if(ss.isValue(this.pm)){return this.pm.sheetPath}return null},get_invalidSheets:function(){if(ss.isValue(this.pm)){return this.pm.invalidSheets}return[]},get_activeZoneID:function(){var e=tsConfig.is_authoring&&this.get_currentDeviceLayout()!=='default';if(ss.isValue(this.pm)&&!e){return this.pm.activeZoneId}return 0},get_readyZoneID:function(){return this.$c},set_readyZoneID:function(e){if(e===this.$c){return}this.$c=e;if(!ss.staticEquals(this.$2$4,null)){this.$2$4()}},get_hasActiveZone:function(){if(this.get_activeZoneID()!==0){return true}return false},get_activeVisual:function(){if(ss.isNullOrUndefined(this.pm)){return null}if(this.get_activeZoneID()>0){var e=this.get_zoneModels();for(var hM=0;hM<e.length;hM++){var hN=e[hM];if(hN.get_zoneId()===this.get_activeZoneID()){return hN.get_visualModel()}}}return null},get_renderMode:function(){return N.get_instance().get_renderMode()},get_formats:function(){if(ss.isValue(this.pm)){return this.pm.cssAttrs}return null},get_portSize:function(){return this.$b},set_portSize:function(e){if(_.isEqual(this.$b,e)){return}this.$b=e;if(!ss.staticEquals(this.$2$6,null)){this.$2$6()}},get_dashboardSize:function(){return(ss.isValue(this.pm)?this.pm.viewportSize:null)},get_dashboardSizeControlModel:function(){return this.$9},get_isDashboard:function(){if(ss.isValue(this.pm)&&ss.isValue(this.pm.sheetPath)){return this.pm.sheetPath.isDashboard}return false},get_flipboard:function(){var e=_.find(this.get_zoneModels(),function(hM){return hM.get_zoneType()==='flipboard'});return(ss.isNullOrUndefined(e)?null:e.get_model())},get_deviceLayouts:function(){return this.pm.dashboardDeviceLayouts},get_currentDeviceLayout:function(){if(ss.isNullOrUndefined(this.pm)||typeof(this.pm.dashboardDeviceLayout)==='undefined'){return'default'}return this.pm.dashboardDeviceLayout},get_isTitleVisible:function(){if(ss.isNullOrUndefined(this.pm)){return false}return this.pm.hasTitle},get_flipboardNavModel:function(){var e=this.get_zoneModels();for(var hM=0;hM<e.length;hM++){var hN=e[hM];if(hN.get_zoneType()==='flipboard-nav'){return hN.get_model()}}return null},get_hasDescription:function(){if(ss.isNullOrUndefined(this.get_flipboard())){return false}var e=_.filter(this.get_zoneModels(),function(hM){return ss.equalsT(hM.get_contentType(),'dashboardText'.toString())});return ss.isValue(e)&&e.length>0},getViewId:function(e){if(!ss.keyExists(this.pm.viewIds,e)){return null}return this.pm.viewIds[e]},getViewSession:function(e){return this.$e[e]},getZone:function(e){return this.zonesModel.getZone(e)},hasZone:function(e){return this.zonesModel.hasZone(e)},isValidSheet:function(e){return ss.isValue(this.pm.invalidSheets)&&(e.get_zoneCommonModel().get_zoneType()!=='viz'||!_.any(this.pm.invalidSheets,function(hM){return ss.referenceEquals(hM.worksheet,e.get_worksheetName())}))},getMutableCopyOfPresModel:function(){var e=this.pm.zones;delete this.pm['zones'.toString()];var hM=ey.prototype.getMutableCopyOfPresModel.call(this);hM.dashboardDeviceLayouts=this.pm.dashboardDeviceLayouts;this.pm.zones=e;return hM},update:function(e,hM){if(ss.isValue(this.$a)&&this.$a!==this.get_renderMode()){this.raiseEvent(this.$2$5,hM)}this.$a=this.get_renderMode();e.isStory=e.isStory||false;e.hasTitle=e.hasTitle||false;e.hasUserSpecificContent=e.hasUserSpecificContent||false;this.$d=null;if(ss.isValue(e.zones)){this.zonesModel.update(e.zones,hM);if(!this.zonesModel.hasZone(this.get_readyZoneID())){this.set_readyZoneID(0)}}if(ss.isValue(e.hasSelection)){}if(ss.isValue(e.autoUpdate)){this.autoUpdate=e.autoUpdate}this.$8(e,hM.dialogProvider);if(ss.isValue(e.activeZoneId)){if(ss.isNullOrUndefined(this.pm)||this.pm.activeZoneId!==e.activeZoneId){this.raiseEvent(this.$2$3,hM)}}if(!(typeof(e.modifiedSheets)==='undefined')&&(ss.isNullOrUndefined(this.pm)||!_.isEqual(e.modifiedSheets,this.pm.modifiedSheets))){this.raiseEvent(ca.$0,hM)}if(ss.isValue(e.sheetList)){if(ss.isNullOrUndefined(this.sheetListModel)){this.sheetListModel=new gg(this)}this.sheetListModel.update(e.sheetList,hM)}if(ss.isValue(e.dashboardZoneHierarchy)){if(ss.isNullOrUndefined(this.layoutTreeModel)){this.layoutTreeModel=new eg(this)}this.layoutTreeModel.update(e.dashboardZoneHierarchy,hM)}if(ss.isValue(this.pm)){if(ss.isValue(e.cssAttrs)&&!_.isEqual(e.cssAttrs,this.pm.cssAttrs)){this.raiseEvent(this.$2$8,hM)}}if(ss.isNullOrUndefined(this.get_sheetName())||ss.isValue(e.sheetLayoutInfo)&&!ss.referenceEquals(e.sheetLayoutInfo.sheetName,this.get_sheetName())){this.raiseEvent(this.$2$12,hM)}if(ss.isNullOrUndefined(this.pm)||this.pm.hasTitle!==e.hasTitle){this.raiseEvent(this.$2$9,hM)}this.$5(e,hM);this.$6(e,hM);this.swapAndCopyPresModel(e);this.raiseEvent(this.$2$2,hM);this.$7(hM)},$8:function(e,hM){if(ss.isValue(e.viewIds)){var hN=_.keys(e.viewIds);for(var hO=0;hO<hN.length;hO++){var hP=hN[hO];var hQ=e.viewIds[hP];var hR=this.$e[hP];if(ss.isNullOrUndefined(hR)){hR=new hb(bu.get().get_legacySession().get_urlRoot(),hP,hQ,hM);this.$e[hP]=hR}hR.set_viewId(hQ)}var hS=_.keys(this.$e);var hT=_.difference(hS,_.keys(e.viewIds));for(var hU=0;hU<hT.length;hU++){var hV=hT[hU];delete this.$e[hV]}}},$5:function(e,hM){if(ss.isValue(e.dashboardSizeControl)){if(ss.isNullOrUndefined(this.$9)){this.$9=new cd(this)}this.$9.update(e.dashboardSizeControl,hM)}if(ss.isNullOrUndefined(this.$b)){this.set_portSize(e.viewportSize)}if(ss.isValue(this.pm)){if(ss.isValue(e.viewportSize)&&!_.isEqual(e.viewportSize,this.pm.viewportSize)){this.raiseEvent(this.$2$7,hM)}}},$6:function(e,hM){e.dashboardDeviceLayout=ss.coalesce(e.dashboardDeviceLayout,'default');if(ss.isNullOrUndefined(this.pm)||this.pm.dashboardDeviceLayout!==e.dashboardDeviceLayout){this.raiseEvent(this.$2$10,hM);this.raiseEvent(this.$2$3,hM)}if(ss.isNullOrUndefined(e.dashboardDeviceLayouts)||ss.isNullOrUndefined(this.pm)||!_.isEqual(this.pm.dashboardDeviceLayouts,e.dashboardDeviceLayouts)){this.raiseEvent(this.$2$11,hM)}},$7:function(e){if(!N.get_instance().get_isLocalRenderMode()){return}var hM=eB.getVisualModelsFromDashboard(this);var hN=_.keys(hM);var hO=_.any(hN,ss.mkdel(this,function(hV){var hW=hM[hV];return this.$4(hW)||this.$3(hW)}));if(hO){for(var hP=0;hP<hN.length;hP++){var hQ=hN[hP];hM[hQ].setIsBrushedFromAction(true,e)}}else{var hR=ca.$1(hN,hM);for(var hS=0;hS<hN.length;hS++){var hT=hN[hS];var hU=hR.has(hT);hM[hT].setIsBrushedFromAction(hU,e)}}},$4:function(e){var hM=eB.getModelsForViz(bk).call(null,this.get_contentDashboard(),e);return _.any(hM,function(hN){if(!hN.get_isHighlightEnabled()){return false}var hO=e.get_selectionsModel().getLegendSelection(hN.get_legendTypeEnum(),hN.get_legendNames());return!hO.isEmpty})},$3:function(e){var hM=eB.getModelsForViz(cs).call(null,this.get_contentDashboard(),e);return _.any(hM,function(hN){var hO=e.get_selectionsModel().getLegendSelection('highlight',[hN.get_fieldName()]);return!hO.isEmpty})},$2:function(){if(!this.pm.isStory){return null}var e=null;var hM=this.zonesModel.get_zoneModels();for(var hN=0;hN<hM.length;hN++){var hO=hM[hN];if(ss.isInstanceOfType(hO.get_model(),cX)){e=hO.get_model().get_dashboardModel();break}}return e},$1:function(){var e=bs.fromColorCode(this.get_backgroundColor());e=e||bs.white;var hM=e.isLuminanceAboveThreshold(0.314999997615814);var hN=(hM?0.0199999995529652:0.0299999993294477);var hO=(hM?new bs(0,0,0,hN):new bs(255,255,255,hN));var hP=hO.toRgba();return hP}},ey);ss.initClass(cb,a,{get_addNewZoneAsFloating:function(){return this.$1},set_addNewZoneAsFloating:function(e){if(this.$1===e){return}this.$1=e}},ey);ss.initClass(cc,a,{});ss.initClass(cd,a,{add_sizeInfoUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_sizeInfoUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_minDimension:function(){return this.pm.minSize},get_maxDimension:function(){return this.pm.maxSize},get_stepSize:function(){return this.pm.stepSize},get_sizeModeOptions:function(){return this.pm.sizeModeOptions||[]},update:function(e,hM){if(ss.isValue(e.dashboardSizePresModel)){if(ss.isNullOrUndefined(this.dashboardSizeModel)){this.dashboardSizeModel=new ce(this)}this.dashboardSizeModel.update(e.dashboardSizePresModel,hM)}if(ss.isValue(e.deviceLayoutInfoItem)){if(ss.isNullOrUndefined(this.layoutInfoModel)){this.layoutInfoModel=new cC(this)}this.layoutInfoModel.update(e.deviceLayoutInfoItem,hM)}this.simpleSwapToUpdate(e,this.$2$1,hM)}},ey);ss.initClass(ce,a,{add_sizeUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_sizeUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_currentSizeText:function(){return this.pm.summaryText},get_sizeMode:function(){if(this.pm.dashboardSizingMode!=='unspecified'){return this.pm.dashboardSizingMode}switch(this.pm.sizeMode){case'size-mode-auto':{return'automatic'}case'size-mode-fixed':{return'fixed'}default:{return'range'}}},get_currentWidth:function(){return this.pm.w},get_currentMinWidth:function(){return this.pm.minWidth},get_currentMaxWidth:function(){return this.pm.maxWidth},get_currentHeight:function(){return this.pm.h},get_currentMinHeight:function(){return this.pm.minHeight},get_currentMaxHeight:function(){return this.pm.maxHeight},update:function(e,hM){this.simpleSwapToUpdate(e,this.$2$1,hM)}},ey);ss.initClass(cf,a,{add_notificationIntervalChanged:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_notificationIntervalChanged:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_titleChanged:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_titleChanged:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},add_measureChanged:function(e){this.$1$3=ss.delegateCombine(this.$1$3,e)},remove_measureChanged:function(e){this.$1$3=ss.delegateRemove(this.$1$3,e)},add_conditionChanged:function(e){this.$1$4=ss.delegateCombine(this.$1$4,e)},remove_conditionChanged:function(e){this.$1$4=ss.delegateRemove(this.$1$4,e)},add_recipientsChanged:function(e){this.$1$5=ss.delegateCombine(this.$1$5,e)},remove_recipientsChanged:function(e){this.$1$5=ss.delegateRemove(this.$1$5,e)},get_recipients:function(){return this.$1$6},set_recipients:function(e){this.$1$6=e},get_userIds:function(){return _.map(this.get_recipients(),function(e){return e.id.toString()})},get_notificationIntervalInMinutes:function(){return this.$3},set_notificationIntervalInMinutes:function(e){if(this.$3!==e){this.$3=e;if(!ss.staticEquals(this.$1$1,null)){this.$1$1()}}},get_title:function(){return this.$5},set_title:function(e){if(!ss.referenceEquals(this.$5,e)){this.$5=e;if(!ss.staticEquals(this.$1$2,null)){this.$1$2()}}},get_selectionCaption:function(){return this.$1$7},set_selectionCaption:function(e){this.$1$7=e},get_measurePresModel:function(){return this.$2},set_measurePresModel:function(e){if(!ss.referenceEquals(this.$2,e)){this.$2=e;if(!ss.staticEquals(this.$1$3,null)){this.$1$3()}}},get_conditionPresModel:function(){return this.$1},set_conditionPresModel:function(e){if(!ss.referenceEquals(this.$1,e)){this.$1=e;if(!ss.staticEquals(this.$1$4,null)){this.$1$4()}}},get_operator:function(){return this.$1.dataAlertConditionOp},get_threshold:function(){return this.$4},set_threshold:function(e){if(ss.referenceEquals(this.$4,e)){return}this.$4=e;if(ss.isNullOrUndefined(this.get_conditionPresModel().dataType)){return}this.set_thresholdIsValid(this.isValidThresholdText(e))},get_thresholdIsValid:function(){return this.$1$8},set_thresholdIsValid:function(e){this.$1$8=e},get_alertConditionMet:function(){return this.$1$9},set_alertConditionMet:function(e){this.$1$9=e},$0:function(e){return this.get_conditionPresModel().dataType==='real'&&tab.DoubleUtil.isValidDouble(e)||this.get_conditionPresModel().dataType==='integer'&&tab.DoubleUtil.isValid64BitInteger(e)},isValidThresholdText:function(e){if(ss.isNullOrEmptyString(e)){return false}if(ss.isNullOrUndefined(N.get_instance().get_appPresModel())){return this.$0(e)}else{var hM=N.get_instance().get_appPresModel().numberFormats;return this.$0(tableau.format.reformatNumberToJsFormat(e,hM))}},updateRecipients:function(e){this.set_recipients(e);if(!ss.staticEquals(this.$1$5,null)){this.$1$5()}}});cf.$ctor2.prototype=cf.$ctor1.prototype=cf.prototype;ss.initClass(cg,a,{});ss.initClass(ch,a,{});ss.initClass(ci,a,{get_operation:function(){return this.pm.dataAlertConditionOp},get_thresholdText:function(){return this.pm.dataAlertThresholdText},update:function(e){if(ss.isValue(e)){this.swapAndCopyPresModel(e)}}},ey);ss.initClass(cj,a,{});ss.initClass(ck,a,{add_show:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_show:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_serverDataSourcesUpdated:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_serverDataSourcesUpdated:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_serverDataSourcesAppended:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_serverDataSourcesAppended:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},get_serverDataSources:function(){return this.$1},updateServerDataSources:function(e,hM,hN){if(hN){this.$1=e;this.raiseEvent(this.$2$2,hM)}else{ss.arrayAddRange(this.$1,e);this.raiseEvent$1(Array).call(this,this.$2$3,e,hM)}},update:function(e){this.updateServerDataSources(this.$1,e,true);this.raiseEvent(this.$2$1,e)}},ey);ss.initClass(cl,a,{});ss.initClass(cm,a,{$1:function(){return this.pm},get_connectionName:function(){return this.$1().connectionName||''},get_promptTitle:function(){return this.$1().dialogTitle||''},get_variableListInstruction:function(){return this.$1().valuesTableHeader||''},get_variableListNameLabel:function(){return this.$1().listViewNameLabel||''},get_variableListValueLabel:function(){return this.$1().listViewValueLabel||''},get_addVariableLabel:function(){return this.$1().addVariableLabel||''},get_addVariableTooltip:function(){return this.$1().addVariableTooltip||''},get_deleteVariableTooltip:function(){return this.$1().deleteVariableTooltip||''},get_requiredVariableMessage:function(){return this.$1().requiredVariableMessage||''},get_editSectionTitle:function(){return this.$1().editWidgetHeader||''},get_editSectionInstruction:function(){return this.$1().editWidgetInstruction||''},get_editSectionFromLabel:function(){return this.$1().fromLabel||''},get_editSectionToLabel:function(){return this.$1().toLabel||''},get_connectionVariables:function(){return this.$2},update:function(e){this.swapAndCopyPresModel(e);if(ss.isValue(this.$1().promptVariables)){this.$2=[];for(var hM=0;hM<this.$1().promptVariables.length;hM++){var hN=new co(new cn(this),hM);hN.update(this.$1().promptVariables[hM]);this.$2.push(hN)}}}},ey);ss.initClass(cn,a,{},ey);ss.initClass(co,a,{$1:function(){return this.pm},get_displayName:function(){return this.$1().variableDisplayName},get_description:function(){return this.$1().variableDescription},get_guid:function(){return this.$1().variableGuid},get_isRequired:function(){return this.$1().isRequired},get_defaultValue:function(){return this.$2},get_supportMultiValue:function(){return this.$1().supportsMultipleValues},get_values:function(){return this.$3},get_selectableOperations:function(){return this.$1().serverVariableMetadata.variableValueOperations},get_selectableValues:function(){return this.$1().serverVariableMetadata.selectionValueList},update:function(e){this.swapAndCopyPresModel(e);this.$2=new cq(null,-1);this.$2.update(this.$1().serverVariableMetadata.variableValue);if(ss.isValue(this.$1().variableValues)){this.$3=[];for(var hM=0;hM<this.$1().variableValues.length;hM++){var hN=new cq(new cp(this),hM);hN.update(this.$1().variableValues[hM]);this.$3.push(hN)}}}},ey);ss.initClass(cp,a,{},ey);ss.initClass(cq,a,{$1:function(){return this.pm},get_displayValue:function(){return this.$1().displayValue},get_valueIndex:function(){return this.$1().valueIndex},get_operation:function(){return this.$1().serverVariableValue.variableValueOperation},set_operation:function(e){this.$1().serverVariableValue.variableValueOperation=e},get_firstValue:function(){return this.$1().serverVariableValue.firstValue},get_firstValueIndex:function(){return this.$1().serverVariableValue.firstValueIndex},get_secondValue:function(){return(this.$1().serverVariableValue.isTwoValued?this.$1().serverVariableValue.secondValue:null)},get_secondValueIndex:function(){return(this.$1().serverVariableValue.isTwoValued?this.$1().serverVariableValue.secondValueIndex:-1)},update:function(e){this.swapAndCopyPresModel(e)}},ey);ss.initClass(cr,a,{get_isEmpty:function(){return tab.MiscUtil.isNullOrEmpty(this.$1())||tab.MiscUtil.isNullOrEmpty(this.$1().dataSegments)},$1:function(){return this.pm},update:function(e){if(ss.isValue(this.$1())&&ss.isValue(e)){var hM=e.dataSegments;if(ss.isValue(hM)){var hN=this.$1().dataSegments;if(ss.isValue(hN)){var hO=new ss.ObjectEnumerator(hN);try{while(hO.moveNext()){var hP=hO.current();if(!ss.keyExists(hM,hP.key)){hM[hP.key]=hP.value}}}finally{hO.dispose()}}var hQ=new ss.ObjectEnumerator(hM);try{while(hQ.moveNext()){var hR=hQ.current();if(hR.value===null){delete hM[hR.key]}}}finally{hQ.dispose()}this.$2=null}}this.pm=e},getRawValue:function(e,hM){if(ss.isNullOrUndefined(this.$1())||ss.isNullOrUndefined(this.$1().dataSegments)){return null}if(ss.isNullOrUndefined(this.$2)){this.$2=ss.getKeyCount(this.$1().dataSegments)}for(var hN=0;ss.Nullable$1.lt(hN,this.$2);hN++){var hO=this.$1().dataSegments[hN.toString()];for(var hP=0;hP<hO.dataColumns.length;hP++){var hQ=hO.dataColumns[hP];if(ss.isNullOrUndefined(hQ)||hQ.dataType!==e){continue}if(hM<hQ.dataValues.length){return hQ.dataValues[hM]}hM-=hQ.dataValues.length;break}}return null}},ey);ss.initClass(cs,a,{add_newDataHighlighterPresModel:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newDataHighlighterPresModel:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_fieldName:function(){return this.$2().fn},get_searchPlaceholderString:function(){return this.$2().searchPlaceholder},$2:function(){return this.pm},get_fullDomainItemSet:function(){return this.$2().dataHighlighterItemSet},get_searchText:function(){return this.$2().queryText},get_maxNumberListItems:function(){return this.$2().maxNumberWebListItems},get_isActive:function(){return this.$2().isActive},get_bodyTextStyle:function(){return this.$2().textStyle},get_numHighlighted:function(){return this.$2().numHighlighted},get_zoneHasBorder:function(){if(ss.isNullOrUndefined(this.parent)){return false}return this.parent.get_zone().get_zoneCommonModel().get_hasBorder()},get_zoneWidth:function(){if(ss.isNullOrUndefined(this.parent)){return 0}return this.parent.get_zone().get_zoneCommonModel().get_width()},update:function(e,hM){if(ss.isValue(e)){db.notifyFontsFromTextStylePresModel(e.textStyle)}this.$3=null;this.simpleSwapToUpdate(e,this.$2$1,hM)},getItemNamesFromObjectId:function(e){if(ss.isNullOrUndefined(this.$3)){this.$1()}return[this.$3[e]]},$1:function(){this.$3={};var e=this.get_fullDomainItemSet().dataHighlighterItems;for(var hM=0;hM<e.length;hM++){var hN=e[hM];this.$3[hN.objectId]=hN.text}}},ey,[dK]);ss.initClass(ct,a,{add_newActiveDataSource:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newActiveDataSource:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_newDataSchema:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_newDataSchema:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_newDataSourceAdded:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_newDataSourceAdded:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},get_parametersDataSource:function(){return(ss.isNullOrUndefined(this.dataSources)?null:this.dataSources.getDataSource(this.$2))},get_dataSchemaPresModel:function(){return this.pm},$1:function(){if(ss.isValue(this.get_dataSchemaPresModel())&&ss.isValue(this.get_dataSchemaPresModel().datasource)){return this.get_dataSchemaPresModel().datasource}else{return''}},get_activeDataSource:function(){return(ss.isNullOrUndefined(this.dataSources)?null:this.dataSources.getDataSource(this.$1()))},notifyNewDataSourceAdded:function(e,hM){this.raiseEvent$1(String).call(this,this.$2$3,hM,e)},getDefaultDataSourceForSheet:function(e){if(ss.isNullOrUndefined(this.get_dataSchemaPresModel())){return null}var hM=null;if(ss.isValue(this.get_dataSchemaPresModel().worksheetDataSchemaMap)&&ss.keyExists(this.get_dataSchemaPresModel().worksheetDataSchemaMap,e)){hM=this.get_dataSchemaPresModel().worksheetDataSchemaMap[e].primaryDatasource}if(ss.isNullOrEmptyString(hM)){return _.chain(this.dataSources.get_dataSources()).filter(ss.mkdel(this,function(hN){return!ss.referenceEquals(hN.get_name(),this.get_dataSchemaPresModel().parametersDatasource)})).first().value()}return this.dataSources.getDataSource(hM)},getDataSourceCount:function(e){var hM=0;if(ss.isValue(this.dataSources)&&ss.isValue(this.dataSources.get_dataSources())){hM=this.dataSources.get_dataSources().length;if(!e&&ss.isValue(this.get_parametersDataSource())){hM--}}return hM},findField:function(e){var hM=this.findDataSourceFromGlobalFieldName(e);if(ss.isNullOrUndefined(hM)){return null}return hM.findField(e)},findDataSourceByName:function(e){return(ss.isNullOrUndefined(this.dataSources)?null:this.dataSources.getDataSource(e))},findDataSourceFromGlobalFieldName:function(e){var hM=cv.splitGlobalFieldName(e);if(hM.length<=1){return null}var hN=hM[0].replace(new RegExp('\\]\\]'),']');return this.findDataSourceByName(hN)},update:function(e,hM){if(ss.isNullOrUndefined(e)){return}if(_.isEqual(e,this.pm)){return}var hN=(ss.isValue(e.currentBlendingFields)?e.currentBlendingFields:[]);var hO=(ss.isValue(e.blendingFieldCandidates)?e.blendingFieldCandidates:[]);this.currentBlendingFields=ss.arrayClone(hN);this.blendingFieldCandidates=ss.arrayClone(hO);if(ss.isValue(e.parametersDatasource)){this.$2=e.parametersDatasource}var hP=this.getDataSourceCount(true);if(ss.isValue(e.dataSources)){this.dataSources=this.dataSources||new cw(this);this.dataSources.update(e.dataSources,hM)}if(this.getDataSourceCount(true)>hP){this.notifyNewDataSourceAdded(hM,'')}if(ss.isValue(this.pm)){var hQ=this.pm.worksheetDataSchemaMap;var hR=e.worksheetDataSchemaMap;eB.mergeMapPresModelDelta(hQ,hR)}if(!ss.referenceEquals(e.datasource,this.$1())){this.raiseEvent(this.$2$1,hM)}this.swapAndCopyPresModel(e);this.raiseEvent(this.$2$2,hM)}},ey);ss.initInterface(dS,a,{get_notificationId:null,onNotify:null});ss.initInterface(dO,a,{add_stopNotifying:null,remove_stopNotifying:null},[dS]);ss.initClass(cu,a,{add_modelUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_modelUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_stopNotifying:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_stopNotifying:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_notificationId:function(){return'update-data-source-data-event'},onNotify:function(e,hM){this.onNotify$1(e,hM)},onNotify$1:function(e,hM){if(ss.isValue(e)){this.update(e,hM)}},detachNotifications:function(){this.$2$2()},getColumnByName:function(e){if(ss.isValue(this.columnInfoLookup)){return this.columnInfoLookup[e]}return null},clearModel:function(){this.numRows=0;this.isEmpty=true;this.isExtract=false;this.columnInfoLookup=null;this.dataDictionaryModel=new cr(this)},update:function(e,hM){if(ss.isNullOrUndefined(e)){return}this.pm=e;this.numRows=e.numRows;this.isEmpty=e.isEmpty;this.isExtract=e.isExtract;this.dataDictionaryModel.update(e.dataDictionary);this.columnInfoLookup={};for(var hN=0;hN<e.columnInfos.length;hN++){var hO=e.columnInfos[hN];var hP=new cK(null);hP.update(hO);var hQ=hP.get_fieldName();this.columnInfoLookup[hQ]=hP}this.raiseEvent(this.$2$1,hM)}},ey,[dS,dO]);ss.initClass(cv,a,{add_captionChanged:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_captionChanged:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_hasUsableSchemaChanged:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_hasUsableSchemaChanged:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_name:function(){return this.pm.datasource},get_caption:function(){return this.pm.datasourceCaption},get_fields:function(){return this.baseColumnsModel.rootFields},get_dataSourceLayoutPresModel:function(){return this.pm.dataSourceLayout},get_isParametersDataSource:function(){return ss.equals(this,N.get_instance().get_workbook().get_dataSchema().get_parametersDataSource())},get_fieldOrderType:function(){return this.pm.fieldOrderType},get_fieldSortOrder:function(){return this.pm.fieldSortOrder},get_isDataTabViewSupported:function(){return this.pm.isWebDataTabViewSupported},get_hasUsableSchema:function(){return(ss.isValue(this.pm)?this.pm.hasUsableSchema:false)},get_specifiedWidth:function(){return this.$2$3},set_specifiedWidth:function(e){this.$2$3=e},getFilteredFields:function(e){var hM=[];var hN=this.baseColumnsModel.get_allFields();for(var hO=0;hO<hN.length;hO++){var hP=hN[hO];if(e(hP)){hM.push(hP)}}return hM},findField:function(e){var hM=this.baseColumnsModel.findField(e);if(ss.isValue(hM)){return hM}if(ss.isValue(this.$1)){return this.$1.findField(e)}return null},update:function(e,hM){if(ss.isNullOrUndefined(e)){return}if(ss.isNullOrUndefined(this.pm)||!ss.referenceEquals(this.pm.datasourceCaption,e.datasourceCaption)){this.raiseEvent(this.$2$1,hM)}if(ss.isNullOrUndefined(this.pm)||this.pm.hasUsableSchema!==e.hasUsableSchema){this.raiseEvent(this.$2$2,hM)}if(ss.isValue(e.fieldList)){this.baseColumnsModel.update(e.fieldList,hM)}if(ss.isValue(e.columnList)){this.$1=this.$1||new cT('columnList',this);this.$1.update(e.columnList,hM)}this.swapAndCopyPresModel(e)}},ey);ss.initClass(cw,a,{get_dataSources:function(){return _.values(this.$1)},get_dataSourceCount:function(){return ss.getKeyCount(this.$1)},getDataSource:function(e){return this.$1[e]},update:function(e,hM){var hN=_.keys(e);for(var hO=0;hO<hN.length;hO++){var hP=hN[hO];var hQ=e[hP];if(hQ===null){delete this.$1[hP]}else{var hR=this.$1[hP];if(ss.isNullOrUndefined(hR)){hR=new cv(this,hP);this.$1[hP]=hR}hR.update(hQ,hM)}}if(ss.isValue(this.pm)){eB.mergeMapPresModelDelta(this.pm,e)}this.swapPresModel(e)}},ey);ss.initInterface(dY,a,{handleCommandFailure:null});ss.initClass(cx,a,{handleCommandFailure:function(e,hM,hN,hO){if(tabBootstrap.ViewerBootstrap.get_instance().get_sessionBeingCleared()){return false}var hP=null;if(!tab.MiscUtil.isNullOrEmpty$1(hM.responseText)){hP=hM.responseText.match(new RegExp('Fatal exception in vizql engine'))}if(hM.status===410||hM.status===404||hM.status===403){this.handleSessionExpiration(false)}else if(hM.status===401){this.handleAuthenticationFailure()}else if(hM.status===502||hM.status===503){this.handleSessionKilled(null)}else if(hM.status===500&&ss.isValue(hP)&&hP.length>0){this.handleUnknownErrorStatus(hM.responseText)}else if(hM.status===413){this.handleSessionLimitExceeded()}else if(hM.status===0){var hQ;if(!tab.MiscUtil.isNullOrEmpty$1(hM.responseText)){var hR=new ss.StringBuilder;hR.append('XHR Response Status: 0\nReadyState:');hR.append(hM.readyState);hR.append('\nHeaders:\n');hR.append(hM.getAllResponseHeaders());hR.append('\nResponse:\n');hR.append(hM.responseText);hQ=ss.mkdel(this,function(){this.$5.showAlertDialog(hR.toString(),tab.Strings.RequestAbortedByBrowser,true,null)})}else{hQ=ss.mkdel(this,function(){this.$1(e,hM)})}window.setTimeout(hQ,5000)}else if(ss.isNullOrUndefined(hO)||!hO){this.$1(e,hM)}return true},handleSessionExpiration:function(e){var hM=ho.createForCurrentWindowLocation();if(e&&hM.get_retry()){throw new ss.Exception('Failed to re-initialize session')}this.$2(e)},handleAuthenticationFailure:function(){this.$2(false)},$1:function(e,hM){var hN=ss.safeCast(e,String);var hO=ss.safeCast(e,ss.Exception);var hP='';if(ss.isValue(hN)){hP=ss.replaceAllString(hN,'XMLHttpTransport.watchInFlight Error: ','')}else if(ss.isValue(hO)){hP=ss.replaceAllString(hO.get_message(),'XMLHttpTransport.watchInFlight Error: ','')}hP=ss.replaceAllString(hP,'XMLHttpTransport Error: ','');var hQ=tab.Strings.ServerErrorUnexpected;if(hM.status<400){hQ=tab.Strings.BrowserErrorProcessing;hP=tab.Strings.BrowserErrorProcessingMessage+'<br>'+hP}else if(hM.status===400){hQ=tab.Strings.ServerErrorRejected;hP=tab.Strings.ServerErrorRejectedMessage+'<br>'}else{var hR;try{hR=eval('('+hM.responseText+')');hR=hR.replace(new RegExp('\n(?=s*[A-Z])','g'),'<li>').replace(new RegExp('\n','g'),'<br>');hR='<ul><li>'+hR+'</ul>'}catch(hS){hR=hM.responseText;hR=cO.stripOutMarkup(hR)}if(ss.isNullOrEmptyString(hR)){hP=tab.Strings.ServerErrorGeneral(hM.status)+'<br>'}else{hP=hR}}this.$5.showAlertDialog(hP,hQ,true,null)},$0:function(e,hM,hN){e=ss.coalesce(e,'').trim();e=cO.stripOutMarkup(e);tabBootstrap.Utility.doPostMessage('tableau.completed'.toString());var hO=tab.Strings.UnhandledExceptionMessage(tsConfig.sessionid,e);if(!ss.isNullOrEmptyString(e)){hO+='<br/><br/>'}hO+=hN;var hP=ss.mkdel(this,function(){this.$4();document.body.style.cursor='wait';this.$2(false)});this.$5.showConfirmationDialog(hO,hM,true,hP,null)},$2:function(e){document.body.style.cursor='wait';var hM=tsConfig.repositoryUrl||tsConfig.origin_repository_url;var hN=ho.createForCurrentWindowLocationAndVizState(hM,tsConfig.current_sheet_name);hN.set_retry(e);hN.explicitNotGuest=tsConfig.is_authoring&&!tsConfig.is_guest;hN.fullPageLoad(null)},handleSessionForbiddenAction:function(e,hM){var hN=tab.Strings.SessionForbiddenActionTitle;var hO=tab.Strings.SessionForbiddenActionMsg;switch(e){case 16:case 20:case 22:case 60011:{hO=hM;break}}this.$5.showAlertDialog(hO,hN,true,null)},handleSessionLimitExceeded:function(){if(cx.$0){return}var e=tab.Strings.TimeLimitExceededWarning;e+='\n';e+=tab.Strings.PressBackButtonMessage;var hM=tab.Strings.TimeLimitExceededTitle;cx.$0=true;this.$5.showAlertDialog(e,hM,true,null)},handleSessionKilled:function(e){this.$0(e,tab.Strings.SessionEndedAlertTitle,tab.Strings.SessionEndedAlertMessage)},handleUnknownErrorStatus:function(e){this.$0(e,tab.Strings.SessionUnknownErrorTitle,tab.Strings.SessionEndedAlertMessage)},$4:function(){var e={error:null,success:null,type:'POST',url:this.$6+'/setignore/sessions'};var hM=ss.mkdict(['_method','PUT','target',tsConfig.sessionid]);e.data=hM;e.async=false;this.$3(e,null)},$3:function(e,hM){return hH.helper(e,hM)}},null,[dY]);ss.initClass(cy,a,{get_isZoomin:function(){return this.$0},set_isZoomin:function(e){this.$0=e},shouldDeferLayoutUpdates:function(){return this.$1},setDeferLayoutUpdates:function(e){this.$1=e}});ss.initClass(cz,a,{handle:function(e,hM){if(!this.$3){return false}if(ss.isNullOrUndefined(e)){return false}var hN=tab.DataSourceConnectionAttemptErrorResponse.tryDeserialize(e.get_message());if(ss.isNullOrUndefined(hN)){return false}var hO=e['status'];if(ss.isNullOrUndefined(hO)){return false}if(!cz.shouldHandleWithGivenStatus(hO)){return false}this.$0(hM,hN,false);return true},$1:function(e){if(!this.$3){return}if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.dataSourceConnectionAttemptInfos)||e.dataSourceConnectionAttemptInfos.length===0){return}var hM=ge.createSwitchSheetsCommand(tsConfig.current_sheet_name);hM.commandParams['forceConnectionAttempt']=true;var hN=fp.create(hM,'immediately');var hO=e.dataSourceConnectionAttemptInfos[0];var hP=new tab.DataSourceConnectionAttemptErrorResponse;hP.ErrorType=hO.exceptionType;var hQ=hP;var hR=cz.$1(hO.exceptionType);if(hR){var hS=cz.$0(hO);hQ.RedirectUrl=hS}else{hQ.ErrorMessage=hO.exceptionMessage}var hT=!hO.triedToConnect;this.$0(hN,hQ,hT)},handlePotentialTabSwitchDataSourceException:function(e){if(!this.$3){return}if(!ss.isNullOrUndefined(e)){this.$1(e.connectionAttemptInfo)}},handlePotentialBootstrapDataSourceException:function(e){if(!this.$3){return}if(!ss.isNullOrUndefined(e)){this.$1(e.connectionAttemptInfo)}},$0:function(e,hM,hN){if(!ss.isNullOrEmptyString(hM.RedirectUrl)){var hO=(hN?'&skippopup=1':'');hM.RedirectUrl=ss.formatString('{0}{1}&vizqlSessionId={2}',hM.RedirectUrl,hO,tsConfig.sessionid)}e.reEnqueueCompletedCommandRecords();var hP=function(){bu.SendCommand(e)};var hQ=!ss.isNullOrUndefined(e.get_commandName())&&ss.equalsT(e.get_commandName().toString(),'ensure-layout-for-sheet'.toString());var hR=cz.$1(hM.ErrorType);if(hQ){if(hR){this.$2.showSheetAuthenticationOverlay(hM,hP)}else{this.$2.showGenericDataSourceErrorOverlay(hM,hP)}}else if(hR){this.$2.showSheetAuthenticationDialog(hM,hP)}else{this.$2.showGenericDataSourceErrorDialog(hM,hP)}}});ss.initClass(cA,a,{handleCommandFailure:function(e,hM,hN,hO){if(!this.$0){return false}if(!cz.shouldHandleWithGivenStatus(hM.status)){return false}var hP=tab.DataSourceConnectionAttemptErrorResponse.tryDeserialize(hM.responseText);if(ss.isNullOrUndefined(hP)){return false}return true}},null,[dY]);ss.initInterface(dV,a,{processEvent:null});ss.initClass(cB,a,{dispose:function(){this.fireDeferredEvents()},fireDeferredEvents:function(){var hM=this.$0;this.$0=null;if(ss.isNullOrUndefined(hM)){return}for(var hN=0;hN<hM.length;hN++){var hO=hM[hN];try{hO()}catch(hP){var e=ss.Exception.wrap(hP);if(!ss.staticEquals(this.exceptionHandler,null)){this.exceptionHandler(e)}}}},processEvent:function(e){if(ss.isNullOrUndefined(this.$0)){this.$0=[]}this.$0.push(e)}},null,[dV,ss.IDisposable]);ss.initClass(cC,a,{add_layoutInfoUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_layoutInfoUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_presetSizes:function(){return this.$1},get_defaultWidth:function(){return this.pm.defaultWidth},get_defaultHeight:function(){return this.pm.defaultHeight},get_defaultMaxWidth:function(){return this.pm.maxWidth},get_defaultMaxHeight:function(){return this.pm.maxHeight},get_defaultMinWidth:function(){return this.pm.minWidth},get_defaultMinHeight:function(){return this.pm.minHeight},update:function(e,hM){if(ss.isValue(e.presetSizesList)){this.$1.length=0;for(var hN=0;hN<e.presetSizesList.sizeItems.length;hN++){var hO=new gr(this.$2,hN);hO.update(e.presetSizesList.sizeItems[hN],hM);this.$1.push(hO)}}this.simpleSwapToUpdate(e,this.$2$1,hM)}},ey);ss.initClass(cD,a,{sendCommand:function(e){return function(hM){if(!ss.staticEquals(this.$2,null)){var hN=$.Deferred();hN.reject();return hN}this.$0(e).call(this,hM);var hO=hM.invoke().always(ss.mkdel(this,function(hP){this.$1(e).call(this,hM)}));return hO}},closeOnceCommandsComplete:function(e){this.$2=e;if(this.$3.length===0){this.$2()}},$0:function(e){return function(hM){this.$3.push(hM)}},$1:function(e){return function(hM){ss.remove(this.$3,hM);if(this.$3.length===0&&!ss.staticEquals(this.$2,null)){this.$2()}}}});ss.initClass(cE,a,{});ss.initClass(cF,a,{add_modelUpdated:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_modelUpdated:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},$1:function(){return this.pm},get_referenceModel:function(){return this.$3$2},set_referenceModel:function(e){this.$3$2=e},get_computeCompoundedRate:function(){return this.$1().computeCompoundedRate},get_computeCompoundedRateState:function(){return this.$1().computeCompoundedRateState},update:function(e,hM){var hN=e;if(this.isNewPresModelSameAsOld(hN)){return}this.swapAndCopyPresModel(hN);this.get_referenceModel().update(hN.tableCalcReferenceOptionsPresModel,hM);this.raiseEvent(this.$3$1,hM)}},gQ);ss.initClass(cG,a,{invoke:function(){return this.invoke$1(bK.newCommand$1('double-click-region-no-return-server',this.c))}},ss.makeGenericType(O,[Object,cH]));ss.initClass(cH,a,{});ss.initInterface(dP,a,{canExtractFont:null,extractFontFromPresModel:null});ss.initClass(cI,a,{canExtractFont:function(e){return e.type==='draw-text-props'},extractFontFromPresModel:function(e){if(!this.canExtractFont(e)){return null}var hM=e;var hN=hM.fontName;if(ss.isNullOrEmptyString(hN)){return null}var hO=[];var hP=new dc;hP.set_fontFamily(hN);hP.set_weight((hM.isBold?'bold':'normal'));hO.push(hP);return hO}},null,[dP]);ss.initClass(cJ,a,{get_levels:function(){return this.$1},get_childToSelect:function(){return this.$1[0]},get_instanceType:function(){return'drillPath'},get_canHaveChildren:function(){return true},update:function(e,hM){this.swapAndCopyPresModel(e);this.$1=hM}},cS);ss.initClass(cK,a,{get_dataType:function(){if(ss.isNullOrUndefined(this.pm)){return'unknown'}return this.pm.dataType},get_fieldName:function(){if(ss.isNullOrUndefined(this.pm)){return null}return this.pm.fn},get_valueIndexs:function(){if(ss.isNullOrUndefined(this.pm)){return null}return this.pm.valueIndices},get_aliasIndexs:function(){if(ss.isNullOrUndefined(this.pm)){return null}return this.pm.aliasIndices},get_formattedValueIndexs:function(){if(ss.isNullOrUndefined(this.pm)){return null}return this.pm.formatValIdxs},get_stringCollation:function(){if(ss.isNullOrUndefined(this.pm)){return null}return this.pm.stringCollation},update:function(e){if(ss.isValue(e)){this.pm=e}}},ey);ss.initClass(cL,a,{add_modelUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_modelUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},$1:function(){return this.pm},get_selectedParameter:function(){var e=this.$1().fieldCaptionPair;if(ss.isNullOrUndefined(e)){return null}return{key:e.fieldCaption,value:e.fn}},get_parameters:function(){return _.map(this.$1().fieldCaptionPairs,function(e){return{key:e.fieldCaption,value:e.fn}})},get_selectedValue:function(){return this.$1().selectedValue},set_selectedValue:function(e){this.$1().selectedValue=e},get_enterValueText:function(){return this.$1().enterValueText},get_isCustomValueEnabled:function(){return this.$1().isCustomValueEnabled},get_precannedValues:function(){var e=[];var hM=this.$1().precannedDataValues;for(var hN=0;hN<hM.length;hN++){var hO=hM[hN];e.push(hO)}return e},update:function(e,hM){this.swapPresModel(e);this.raiseEvent(this.$2$1,hM)}},ey);ss.initClass(cM,a,{handle:function(e,hM,hN,hO){var hP=this.$0;for(var hQ=0;hQ<hP.length;hQ++){var hR=hP[hQ];if(hR.handleCommandFailure(e,hM,hN,hO)){return}}}});ss.initClass(cN,a,{});ss.initClass(cO,a,{});ss.initClass(cP,a,{});ss.initClass(cQ,a,{get_instanceType:function(){return'column'},get_defaultRole:function(){return this.pm.defaultFieldRole},get_role:function(){return this.pm.fieldRole},get_baseColumnName:function(){return(this.get_isInstance()?this.pm.baseColumnName:this.get_globalName())},get_baseColumn:function(){return(this.get_isInstance()?this.get_dataSource().findField(this.get_baseColumnName()):this)},get_isInstance:function(){return!ss.isNullOrUndefined(this.pm.isInstance)&&this.pm.isInstance},get_isAllowedInCalcs:function(){var e=this.get_baseColumn();return(ss.referenceEquals(e,this)?cS.prototype.get_isAllowedInCalcs.call(this):e.get_isAllowedInCalcs())},get_isCalculated:function(){return this.pm.isCalculated},get_formattedFamilyName:function(){return this.pm.formattedFamilyName},update:function(e){this.swapAndCopyPresModel(e)}},cS);ss.initEnum(cR,a,{column:'column',drillPath:'drillPath',cubeDimension:'cubeDimension',group:'group',cubeHierarchy:'cubeHierarchy',relationalTable:'relationalTable',cubeFolder:'cubeFolder',folder:'folder',multiple:'multiple'},true);ss.initClass(cT,a,{get_allFields:function(){if(ss.isValue(this.$a)){return this.$a}this.$a=[];var e=_.keys(this.$9);for(var hM=0;hM<e.length;hM++){var hN=e[hM];var hO=this.$9[hN];if(ss.referenceEquals(hN,hO.get_localName())){this.$a.push(hO)}}return this.$a},get_dataSource:function(){return this.$b},findField:function(e){return this.$9[e]},getMutableCopyOfPresModel:function(){return this.getMutableCopyOfPresModelInternal(true)},update:function(e,hM){if(ss.isNullOrUndefined(e)){return}if(_.isEqual(this.pm,e)){return}this.$a=null;var hN=this.$9;var hO=this.$e;var hP=this.$d;var hQ=this.$c;this.$9={};this.$e={};this.$d={};this.$c={};this.rootFields=[];var hR=[];var hS={};var hT={};for(var hU=0;hU<e.length;hU++){var hV=e[hU];hV.fieldIconRes=hV.fieldIconRes||'';switch(hV.type){case'field-folder':{hR.push(hV);break}case'drill-path':{hT[hV.name]=this.$5(hV,hQ,hN);break}case'relational-table':{var hW=this.$8(hV,hO,hN);this.rootFields.push(hW);break}case'group':{hS[hV.fn]=this.$7(hV,hN);break}case'column':{hS[hV.fn]=this.$1(hV,hN);break}case'dimension':{var hX=this.$2(hV,hN);this.rootFields.push(hX);break}case'display-folder':{var hY=this.$3(hV,hN);this.rootFields.push(hY);break}}}for(var hZ=0;hZ<hR.length;hZ++){var ia=hR[hZ];var ib=this.$6(ia,hP,hS,hT);this.rootFields.push(ib)}var ic=this.rootFields.concat.apply(this.rootFields,_.values(hT));this.rootFields=ic.concat.apply(ic,_.values(hS));var id=_.keys(this.$9);for(var ie=0;ie<id.length;ie++){var ig=id[ie];var ih=this.$9[ig];this.$9[ih.get_localName()]=ih}this.swapPresModel(e);this.raiseEvent(this.fieldsChanged,hM)},$1:function(e,hM){var hN=(ss.keyExists(hM,e.fn)?hM[e.fn].asColumn():new cQ(this));hN.update(e);this.$9[e.fn]=hN;return hN},$8:function(e,hM,hN){var hO=[];for(var hP=0;hP<e.columnList.length;hP++){var hQ=e.columnList[hP];hO.push(this.$1(hQ,hN))}var hR=(ss.keyExists(hM,e.name)?hM[e.name].asRelationalTable():new fo(this));hR.update(e,hO);this.$e[e.name]=hR;return hR},$6:function(e,hM,hN,hO){var hP=[];for(var hQ=0;hQ<e.namesOfFields.length;hQ++){var hR=e.namesOfFields[hQ];var hS=this.$9[hR];if(ss.isValue(hS)){hP.push(hS);delete hN[hR]}}for(var hT=0;hT<e.drillpathVector.length;hT++){var hU=e.drillpathVector[hT];var hV=this.$c[hU];if(ss.isValue(hV)){hP.push(hV);delete hO[hU]}}var hW=e.name+e.folderRole;var hX=(ss.keyExists(hM,hW)?hM[hW].asFolder():new da(this));hX.update(e,hP);this.$d[hW]=hX;return hX},$7:function(e,hM){var hN=(ss.keyExists(hM,e.fn)?hM[e.fn].asGroup():new dD(this));hN.update(e);this.$9[e.fn]=hN;return hN},$5:function(e,hM,hN){var hO=[];for(var hP=0;hP<e.columnList.length;hP++){var hQ=e.columnList[hP];hO.push(this.$1(hQ,hN))}var hR=(ss.keyExists(hM,e.name)?hM[e.name].asDrillPath():new cJ(this));hR.update(e,hO);this.$c[e.name]=hR;return hR},$4:function(e,hM){var hN=[];for(var hO=0;hO<e.columnList.length;hO++){var hP=e.columnList[hO];hN.push(this.$1(hP,hM))}var hQ=(ss.keyExists(hM,e.fn)?hM[e.fn].asHierarchy():new bV(this));hQ.update(e,hN);this.$9[e.fn]=hQ;return hQ},$3:function(e,hM){var hN=[];for(var hO=0;hO<e.hierarchyList.length;hO++){var hP=e.hierarchyList[hO];hN.push(this.$4(hP,hM))}var hQ=[];for(var hR=0;hR<e.columnList.length;hR++){var hS=e.columnList[hR];hQ.push(this.$1(hS,hM))}var hT=(ss.keyExists(hM,e.name)?hM[e.name].asCubeFolder():new bU(this));hT.update(e,hN,hQ);return hT},$2:function(e,hM){var hN=[];for(var hO=0;hO<e.hierarchyList.length;hO++){var hP=e.hierarchyList[hO];hN.push(this.$4(hP,hM))}var hQ=[];for(var hR=0;hR<e.displayFolderList.length;hR++){var hS=e.displayFolderList[hR];hQ.push(this.$3(hS,hM))}var hT=[];for(var hU=0;hU<e.attributeDimensionList.length;hU++){var hV=e.attributeDimensionList[hU];hT.push(this.$2(hV,hM))}var hW=(ss.keyExists(hM,e.fn)?hM[e.fn].asDimension():new bT(this));hW.update(e,hN,hQ,hT);this.$9[e.fn]=hW;return hW}},ey);ss.initClass(cU,a,{clear:function(){ss.clearKeys(this.cl);this.$1=0},add:function(e,hM){var hN=this.$0[this.$1];delete this.cl[hN];this.$0[this.$1]=e;this.cl[e]=hM;this.$1=(this.$1+1)%this.$2}});ss.initClass(cV,a,{openDownload:function(e,hM){if(ss.isValue(hM.popup)){this.$1(e,hM)}else{this.$0(e,hM)}},$0:function(e,hM){var hN=((e.indexOf(String.fromCharCode(63))===-1)?'?':'&');e+=hN+'download=true';var hO='_blank';var hP=e;if(ss.isNullOrUndefined(hM.noping)){var hQ=ss.mkdel(this,function(){this.$2.showFileDownloadDialog(hM.title,hM.message,hP,hO)});var hR=((e.indexOf(String.fromCharCode(63))===-1)?'?':'&');e+=hR+'nodata=true';var hS=this.$3.$0(null,hQ,null,'immediately');var hT={};hT.headers=ss.mkdict(['Accept','text/plain']);hT.dataType='text';hT.type='GET';hT.url=e;this.$3.$b(hT,hS)}else{this.$2.showFileDownloadDialog(hM.title,hM.message,hP,hO)}},$1:function(e,hM){var hN=hM.popup;var hO=window.open('about:blank',hN);window.setTimeout(ss.mkdel(this,function(){var hP=new tab.WindowHelper(hO);if(ss.isValue(hO)&&!hO.closed&&hP.get_innerWidth()!==0&&hP.get_innerHeight()!==0){hO.location.href=e}else{if(ss.isValue(hO)){hO.close()}hM.popup=null;this.openDownload(e,hM)}}),500)}});ss.initClass(cW,a,{});ss.initClass(cX,a,{add_invalidateZone:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_invalidateZone:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_flipboardPresModel:function(){return this.pm},get_storyPointModel:function(){return this.$1.get_currentStoryPoint()},get_dashboardModel:function(){return this.get_storyPointModel().get_dashboardModel()},get_zoneId:function(){return this.parent.get_zone().get_zoneId()},get_currentStoryPointId:function(){return this.get_flipboardPresModel().activeStoryPointId},get_isEmpty:function(){return ss.isNullOrEmptyString(this.get_storyPointModel().get_currentSheet())},invalidated:function(e){this.raiseEvent(this.$2$1,e)},update:function(e,hM){if(ss.isValue(e.activeStoryPointId)){var hN=e.storyPoints[e.activeStoryPointId.toString()];this.$1.update(hN,hM)}this.swapPresModel(e)},getMutableCopyOfPresModel:function(){return this.getMutableCopyOfPresModelInternal(true)}},ey);ss.initClass(cY,a,{add_newFlipboardNav:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newFlipboardNav:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_pointWasCaptured:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_pointWasCaptured:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_navArrowVisibilityChanged:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_navArrowVisibilityChanged:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},get_flipboardNavPresModel:function(){return this.pm},get_currentPointIndex:function(){return this.get_flipboardNavPresModel().currentStorypointIndex},get_storyPoints:function(){return this.get_flipboardNavPresModel().storypointNavItems},get_zone:function(){return this.parent.get_zone()},get_navType:function(){return this.get_flipboardNavPresModel().flipboardNavStyle.flipboardNavType},get_arrowVisibility:function(){return this.get_flipboardNavPresModel().navArrowsVisible},get_width:function(){return((this.get_navType()==='dot'&&!tab.FeatureFlags.isEnabled('StorytellingUberNavWidgetWeb'))?32:this.get_flipboardNavPresModel().selectedStoryPointStyle.w)},get_height:function(){return((this.get_navType()==='dot'&&!tab.FeatureFlags.isEnabled('StorytellingUberNavWidgetWeb'))?32:this.get_flipboardNavPresModel().selectedStoryPointStyle.h)},get_isStoryEmpty:function(){return this.get_flipboardNavPresModel().isStoryEmpty},getMutableCopyOfPresModel:function(){return this.getMutableCopyOfPresModelInternal(true)},update:function(e,hM){if(ss.isValue(e)){if(ss.isValue(e.selectedStoryPointStyle)){db.notifyFontsFromTextStylePresModel(e.selectedStoryPointStyle.textStyle)}if(ss.isValue(e.unselectedStoryPointStyle)){db.notifyFontsFromTextStylePresModel(e.unselectedStoryPointStyle.textStyle)}}var hN=ss.isValue(this.get_flipboardNavPresModel())&&e.navArrowsVisible!==this.get_flipboardNavPresModel().navArrowsVisible;this.$1(e);this.simpleSwapToUpdate(e,this.$2$1,hM);this.$2(hM);if(hN){this.raiseEvent(this.$2$3,hM)}},$1:function(e){if(ss.isNullOrUndefined(this.get_flipboardNavPresModel())){return}ss.clear(this.$3);if(e.storypointNavItems.length!==this.get_flipboardNavPresModel().storypointNavItems.length){return}var hM=this.get_flipboardNavPresModel().currentStorypointIndex;var hN=e.currentStorypointIndex;var hO=this.get_flipboardNavPresModel().storypointNavItems[hM];var hP=e.storypointNavItems[hN];if(hM!==hN&&hO.storyPointId===hP.storyPointId&&!hO.isCaptured&&hP.isCaptured){this.$3.push(hP.storyPointId)}var hQ=_.filter(e.storypointNavItems,function(hV,hW){return hV.isCaptured===true&&hW!==e.currentStorypointIndex});for(var hR=0;hR<hQ.length;hR++){var hS=hQ[hR];var hT={$:hS.storyPointId};var hU=_.find(this.get_flipboardNavPresModel().storypointNavItems,ss.mkdel({currentId:hT},function(hV){return hV.storyPointId===this.currentId.$}));if(ss.isNullOrUndefined(hU)){continue}if(!hU.isCaptured){this.$3.push(hT.$)}}},$2:function(e){for(var hM=0;hM<this.$3.length;hM++){var hN=this.$3[hM];this.raiseEvent$1(ss.Int32).call(this,this.$2$2,hN,e)}}},ey);ss.initClass(cZ,a,{});ss.initClass(da,a,{get_fields:function(){return this.$1},get_folderRole:function(){return this.pm.folderRole},get_instanceType:function(){return'folder'},get_canHaveChildren:function(){return true},get_isUnsortedContainer:function(){return true},update:function(e,hM){this.swapAndCopyPresModel(e);this.$1=hM}},cS);ss.initClass(db,a,{});ss.initClass(dc,a,{get_fontFamily:function(){return this.$1},set_fontFamily:function(e){this.$1=e;this.$0=''},get_weight:function(){return this.$3},set_weight:function(e){if(ss.isNullOrEmptyString(e)){this.$3='normal'}else{this.$3=e}this.$0=''},get_style:function(){return this.$2},set_style:function(e){if(ss.isNullOrEmptyString(e)){this.$2='normal'}else{this.$2=e}this.$0=''},get_hash:function(){if(this.$0===''){this.$0=this.get_fontFamily().replace(dc.matchQuotes,'').toLowerCase()+'-<%>-'+this.$3.toLowerCase()+'-<%>-'+this.$2.toLowerCase()}return this.$0},equals$1:function(e){var hM=ss.replaceAllString(ss.replaceAllString(this.get_fontFamily(),"'",''),'"','');var hN=ss.replaceAllString(ss.replaceAllString(e.get_fontFamily(),"'",''),'"','');return ss.compareStrings(hM,hN,true)===0&&ss.compareStrings(this.get_weight(),e.get_weight(),true)===0&&ss.compareStrings(this.get_style(),e.get_style(),true)===0}});ss.initClass(dg,a,{add_updated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_updated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},$1:function(){return this.pm},get_typeOfFormatItem:function(){return this.$1().typeOfFormatItem},get_widgetIdentifier:function(){return this.$1().widgetUniqueId},get_isFormatContainer:function(){return this.get_typeOfFormatItem()==='formatContainer'},get_isFormatPane:function(){return this.get_isFormatContainer()&&this.asFormatContainer().get_typeOfFormatContainer()==='formatPane'},get_isFormatSection:function(){return this.get_isFormatContainer()&&this.asFormatContainer().get_typeOfFormatContainer()==='formatSection'},get_isCollapsibleSection:function(){return this.get_isFormatContainer()&&this.asFormatContainer().get_typeOfFormatContainer()==='collapsibleSection'},get_isCompositeContainer:function(){return this.get_isFormatContainer()&&this.asFormatContainer().get_typeOfFormatContainer()==='compositeContainer'},get_isUnitContainer:function(){return this.get_isFormatContainer()&&this.asFormatContainer().get_typeOfFormatContainer()==='unitContainer'},get_isTabGroup:function(){return this.get_isFormatContainer()&&this.asFormatContainer().get_typeOfFormatContainer()==='tabGroup'},get_isTab:function(){return this.get_isFormatContainer()&&this.asFormatContainer().get_typeOfFormatContainer()==='tab'},get_isFormatControl:function(){return this.get_typeOfFormatItem()==='formatControl'},get_isTextControl:function(){return this.get_isFormatControl()&&this.asFormatControl().get_typeOfFormatControl()==='text-control'},raiseUpdated:function(){if(!ss.staticEquals(this.$2$1,null)&&ss.isValue(this.$1())){this.$2$1()}},asFormatContainer:function(){return ss.safeCast(this,dd)},asFormatControl:function(){return ss.safeCast(this,de)},update:function(e,hM){this.simpleSwapToUpdate(e,this.$2$1,hM)}},ey);ss.initClass(dd,a,{get_typeOfFormatContainer:function(){return this.pm.typeOfFormatContainer},get_items:function(){return this.$5},get_name:function(){if(this.get_isFormatSection()){return this.pm.name}else if(this.get_isFormatPane()){return this.pm.name}else{return null}},get_pickerType:function(){if(this.get_isCompositeContainer()){return this.pm.pickerType}else if(this.get_isTabGroup()){return this.pm.pickerType}else{return'none'}},get_previewProperties:function(){return this.$3$1},set_previewProperties:function(e){this.$3$1=e},get_isCollapsedByDefault:function(){if(this.get_isCollapsibleSection()){return this.pm.collapsed}else{return false}},get_label:function(){if(this.get_isUnitContainer()){return this.pm.label}else if(this.get_isTab()){return this.pm.label}else{return null}},get_isChanged:function(){if(this.get_isUnitContainer()){return this.pm.isChanged}else{return false}},get_clearCommand:function(){if(this.get_isUnitContainer()){return this.pm.clearFormatCommandModel}else{return null}},get_isVisible:function(){return this.$6},set_isVisible:function(e){if(this.$6!==e){this.$6=e;this.raiseUpdated()}},get_subsections:function(){var e=[];var hM=tab.FeatureFlags.isEnabled('FormatWorkbookWebAll');var hN=this.asFormatContainer().get_items();for(var hO=0;hO<hN.length;hO++){var hP=hN[hO];if(hM||hP.get_widgetIdentifier()==='font'){e.push(hP)}}return e},$2:function(e){this.set_previewProperties({});for(var hM=0;hM<e.length;hM++){var hN=e[hM];if(!hN.get_isFormatControl()){continue}var hO=hN.asFormatControl();var hP=hO.get_widgetKey();switch(hP){case'fontSize':case'lineSize':{this.get_previewProperties()[hP]=hO.get_numericValue();break}case'fontFamily':case'lineVisibility':case'linePattern':{this.get_previewProperties()[hP]=hO.get_textValue();break}case'colorSwatch':{this.get_previewProperties()[hP]=hO.get_colorValue();break}case'bold':case'italics':case'underline':{this.get_previewProperties()[hP]=hO.get_toggleValue();break}default:{break}}}},updatePreviewForTab:function(e){if(e>=0&&this.get_items().length>=e+1&&this.get_items()[e].get_isTab()){this.$2(this.get_items()[e].asFormatContainer().get_items())}},$3:function(){return this.pm.formatItemList.filter(ss.mkdel(this,function(e){return!ss.keyExists(this.$4,e.widgetUniqueId)}))},update:function(e,hM){this.simpleSwapToUpdate(e,ss.mkdel(this,function(){this.raiseUpdated()}),hM);var hN=this.$3();if(ss.isNullOrUndefined(this.$5)){this.$5=[];for(var hO=0;hO<hN.length;hO++){var hP=hN[hO];this.$5.push(dg.createModel(this,hP,hM))}}else if(ss.isValue(hN)){for(var hQ=0;hQ<hN.length;hQ++){var hR=hN[hQ];this.$5[hQ].update(hR,hM)}}if(this.get_isTabGroup()){this.updatePreviewForTab(0)}else{this.$2(this.get_items())}}},dg);ss.initClass(de,a,{get_typeOfFormatControl:function(){return this.pm.typeOfFormatControl},get_commandRedirectType:function(){return this.pm.commandRedirectType},get_formatCommand:function(){return this.pm.formatCommandModel},get_simpleCommand:function(){return bG.deserialize(gq.create(this.get_formatCommand()).get_simpleCommand())},get_widgetKey:function(){return this.pm.formatWidgetKey},get_isEnabled:function(){return this.pm.isEnabled},get_textValue:function(){return this.pm.valueString},get_numericValue:function(){return this.pm.valueInt},get_colorValue:function(){return this.pm.color},get_canBeAuto:function(){return this.pm.canBeAuto},get_canBeNone:function(){return this.pm.canBeNone},get_canMatchMarkColor:function(){return this.pm.canMatchMarkColor},get_hasOpacity:function(){return this.pm.hasOpacity},get_colorSwatchType:function(){return this.pm.formatColorSwatchType},get_selectorValue:function(){return this.pm.valueString},get_toggleValue:function(){return this.pm.bool}},dg);ss.initClass(df,a,{});ss.initClass(dh,a,{invoke:function(){return this.invoke$1(bK.newCommand('get-alert-measures-from-selection',this.c))}},ss.makeGenericType(O,[Object,di]));ss.initClass(di,a,{});ss.initClass(dj,a,{invoke:function(){return this.invoke$1(bK.newCommand('get-charset-options',this.c))}},ss.makeGenericType(O,[Object,dk]));ss.initClass(dk,a,{});ss.initClass(dl,a,{invoke:function(){return this.invoke$1(bK.newCommand('get-dashboard-drag-drop',this.c))}},ss.makeGenericType(O,[Object,dm]));ss.initClass(dm,a,{});ss.initClass(dn,a,{invoke:function(){return this.invoke$1(bK.newCommand('get-dashboard-sizing',this.c))}},ss.makeGenericType(O,[Object,dp]));ss.initClass(dp,a,{});ss.initClass(dq,a,{invoke:function(){return this.invoke$1(bK.newCommand('get-datasource-data-pres-model',this.c))}},ss.makeGenericType(O,[Object,dr]));ss.initClass(dr,a,{});ss.initClass(ds,a,{invoke:function(){return this.invoke$1(bK.newCommand('get-locale-options',this.c))}},ss.makeGenericType(O,[Object,dt]));ss.initClass(dt,a,{});ss.initClass(du,a,{invoke:function(){return this.invoke$1(bK.newCommand('get-thumbnail',this.c))}},ss.makeGenericType(O,[Object,dv]));ss.initClass(dv,a,{hasThumbnailImage:function(){return ss.keyExists(this.$$c,'image')}});ss.initClass(dw,a,{invoke:function(){return this.invoke$1(bK.newCommand('get-url-substitution-keywords',this.c))}},ss.makeGenericType(O,[Object,dx]));ss.initClass(dx,a,{});ss.initClass(dy,a,{invoke:function(){return this.invoke$1(bK.newCommand('get-web-categorical-color-dialog',this.c))}},ss.makeGenericType(O,[Object,dz]));ss.initClass(dz,a,{});ss.initClass(dA,a,{invoke:function(){return this.invoke$1(bK.newCommand('get-web-quantitative-color-dialog',this.c))}},ss.makeGenericType(O,[Object,dB]));ss.initClass(dB,a,{});ss.initClass(dC,a,{canExtractFont:function(e){return e.type==='draw-group'&&!ss.isNullOrUndefined(e.drawItems)},extractFontFromPresModel:function(e){if(!this.canExtractFont(e)){return null}var hM=e.drawItems;return this.$0(hM)},$0:function(e){var hM={};for(var hN=0;hN<e.length;hN++){var hO=e[hN];for(var hP=0;hP<dC.$0.length;hP++){var hQ=dC.$0[hP];if(hQ.canExtractFont(hO)){var hR=hQ.extractFontFromPresModel(hO);if(ss.isValue(hR)){for(var hS=0;hS<hR.length;hS++){var hT=hR[hS];hM[hT.get_hash()]=hT}}break}}}return _.values(hM)}},null,[dP]);ss.initClass(dD,a,{get_instanceType:function(){return'group'},get_isCombinedField:function(){return this.pm.isCombinedField||false}},cQ);ss.initClass(dE,a,{invoke:function(){return this.invoke$1(bK.newCommand('highlight-items-by-pattern-match',this.c))}},ss.makeGenericType(O,[Object,dF]));ss.initClass(dF,a,{hasMatchedItemSet:function(){return ss.keyExists(this.$$c,'dataHighlighterItemSet')}});ss.initClass(dG,a,{});ss.initClass(dH,a,{invoke:function(){return this.invoke$1(bK.newCommand('hit-test-scene',this.c))}},ss.makeGenericType(O,[Object,dI]));ss.initClass(dI,a,{});ss.initEnum(dJ,a,{escape:0,noEscape:1});ss.initInterface(dM,a,{add_sliderFractionUpdated:null,remove_sliderFractionUpdated:null,get_currentFraction:null,setCurrentFraction:null});ss.initInterface(dN,a,{returnDataSourceDataModel:null});ss.initInterface(dQ,a,{get_sheetScrollPositions:null});ss.initInterface(dR,a,{triggerExportPdfUI:null});ss.initClass(dT,a,{});ss.initClass(dU,a,{add_newImageZone:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newImageZone:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_zoneModel:function(){return this.$1},update:function(e,hM){this.simpleSwapToUpdate(e,this.$2$1,hM)}},ey);ss.initClass(dW,a,{});ss.initClass(dZ,a,{invoke:function(){return this.invoke$1(bK.newCommand('is-web-zone-url-valid',this.c))}},ss.makeGenericType(O,[Object,ea]));ss.initClass(ea,a,{hasValidationMessage:function(){return ss.keyExists(this.$$c,'validationMessage')}});ss.initClass(eb,a,{andMarkAsRawJavaScriptModule:function(){this.moduleBeingConfigured.isRawJavaScriptModule=true;return this},andMarkAsAlreadyLoadedInGlobalNamespace:function(){this.moduleBeingConfigured.loadingMethod='alreadyLoaded';return this},andShowLoadingIndicator:function(){this.moduleBeingConfigured.loadingMethod='synchronous';return this},andLoadOnDemandIf:function(e){this.moduleBeingConfigured.loadingMethod=(e?'asynchronous':'alreadyLoaded');return this},andExportResultAs:function(e){if(ss.isNullOrEmptyString(e)){throw new ss.ArgumentNullException(e)}this.moduleBeingConfigured.shouldExportResult=true;this.moduleBeingConfigured.exportResultName=e;return this}});ss.initClass(ec,a,{get_dependencies:function(){return this.$0},get_stylesheetDependencies:function(){return this.$1},get_hasDependencies:function(){return this.$0.length>0},get_hasDependenciesOnStylesheets:function(){return this.$1.length>0},addDependency:function(e){tab.Param.verifyValue(e,'dependency');this.$0.push(e)},addDependencyOnCssFile:function(e){tab.Param.verifyString(e,'cssFile');this.$1.push(e)}});ss.initClass(ed,a,{add_newLayerEncoding:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newLayerEncoding:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_id:function(){return this.pm.paneSpec},get_name:function(){return this.pm.name},get_isTableCalc:function(){return this.pm.isTableCalc},get_paneDescriptorKeys:function(){return this.pm.paneDescriptorKeys},get_encodings:function(){return _.filter(this.pm.encodingUiItems,function(e){return e.isVisible&&e.isEnabled})},get_textEncodingDropdown:function(){return this.getDropdownPresModel('text-encoding')},get_colorEncodingDropdown:function(){return this.getDropdownPresModel('color-encoding')},get_currentPrimitiveType:function(){var e=_.find(this.get_primitiveTypes(),function(hM){return hM.isSelected});return e},get_primitiveTypes:function(){return _.filter(this.pm.primitiveTypeUiItems,function(e){return e.isVisible&&e.isEnabled})},get_markSizeModel:function(){return this.$1},update:function(e,hM){this.simpleSwapToUpdate(e,this.$2$1,hM);if(ss.isNullOrUndefined(this.$1)){this.$1=new ex(this)}this.$1.update(this.getDropdownPresModel('size-encoding'),hM)},equals$1:function(e){return this.get_id()===e.paneSpec},getDropdownPresModel:function(e){var hM=_.filter(this.pm.encodingUiItems,function(hN){return hN.isVisible&&hN.isEnabled&&hN.encodingType===e});if(ss.isNullOrUndefined(hM)||hM.length!==1){return null}return hM[0].marksCardDropdownItem}},ey);ss.initClass(ee,a,{get_layoutId:function(){return this.layoutid},set_layoutId:function(e){this.layoutid=e},formatDashboardTempfileReference:function(e,hM,hN){return this.formatLayoutMethod(this.layoutid,'tempfile')+'/?key='+e+(hM?'&keepfile=yes':'')+(hN?'&attachment=yes':'')},saveSharedView:function(e,hM,hN){var hO=function(hT,hU,hV){hT['button']=e;if(ss.isValue(hT['guid'])){hH.guid=hT['guid']}};var hP=ss.mkdel(this,function(hT,hU,hV){hH.guid=null;if(hT.status===410||hT.status===403){this.defaultSessionErrorHandler.handleSessionExpiration(false)}else if(hT.status===401){this.handleAuthenticationFailure()}else{var hW=new Object;hW['button']=e;hN(hW)}});var hQ=this.$0(null,hO,hP,'none');var hR={};hR['sheet_id']=hH.get_currentTabName();hR['parent_id']=hH.parentID;hR['primary_content_url']=hM;hR['share_button']=e;var hS=this.basicPostOpts(this.$4('save_shared_view'),hR);hS.async=false;hS.timeout=2000;this.$b(hS,hQ)},saveAndOpenMetricsView:function(){window.open(this.$4('save_metrics_view'),'metrics','scrollbars,resizable')},metricsViewDownloadUrl:function(){return this.$4('download_metrics_view')},getAutocompleteInfo:function(e,hM,hN){var hO=function(hR,hS,hT){hM(hR['new_value'])};var hP=this.basicGetOpts(this.formatLayoutMethod(this.layoutid,'getautocomplete'));var hQ=ss.mkdict(['fieldname',hN,'input_string',e]);hP.data=hQ;hP.success=hO;this.$b(hP)},performPostLoadOperations:function(e,hM){var hN=function(hS,hT,hU){if(ss.isValue(hM)){hM(hS)}};var hO=ss.mkdel(this,function(hS,hT,hU){this.$6(hU,hS,true,null)});var hP=this.$0(null,hN,hO,'none');var hQ=ss.mkdict(['sheet_id',e]);var hR={};hR.data=hQ;hR.async=true;hR.type='GET';hR.headers=ss.mkdict(['Accept','text/javascript']);hR.dataType='json';hR.url=this.formatLayoutMethod(this.layoutid,'performPostLoadOperations');this.$b(hR,hP)}},P);ss.initClass(ef,a,{get_children:function(){return this.$1},get_itemKey:function(){return this.$0.name+this.$0.zoneId},get_isFloating:function(){return this.$0.isFloating},get_zoneType:function(){return this.$0.zoneType},get_isHorizontal:function(){return this.$0.isHorizontal},get_name:function(){return this.$0.name},get_zoneID:function(){return this.$0.zoneId},appendChildren:function(e){this.$1.push(e)}});ss.initClass(eg,a,{add_layoutTreeUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_layoutTreeUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},update:function(e,hM){if(!_.isEqual(this.pm,e)){this.$3();this.$1(e);this.$2();this.simpleSwapToUpdate(e,this.$2$1,hM)}},saveExpandedState:function(e,hM){this.$4[e]=hM},expandTreeToCurrent:function(e){if(ss.isNullOrUndefined(this.$5[e])){return}var hM=this.$5[e].parent;while(ss.isValue(hM)){var hN=hM.get_zoneID();this.$4[hN]=true;hM=this.$5[hN].parent}},isItemExpanded:function(e){return ss.keyExists(this.$4,e)&&this.$4[e]},getItemFromIndex:function(e){return this.$5[e]},$1:function(e){var hM=e.zoneCommonListItems;this.$5=eg.$0(hM);if(ss.isValue(hM)){for(var hN=0;hN<hM.length;hN++){var hO=hM[hN];var hP=hO.parentZoneId;var hQ=this.$5[hO.zoneId];var hR=hP===0;if(hR){this.rootNodes.push(hQ)}else{var hS=this.$5[hP];if(!ss.isNullOrUndefined(hS)){hS.appendChildren(hQ);hQ.parent=hS}}}}},$2:function(){if(ss.getKeyCount(this.$5)===0){this.$4={}}else{var e=new ss.ObjectEnumerator(this.$4);try{while(e.moveNext()){var hM=e.current();if(!ss.keyExists(this.$5,hM.key)){delete this.$4[hM.key]}}}finally{e.dispose()}}},$3:function(){this.rootNodes=[]}},ey);ss.initClass(eh,a,{get_filterField:function(){return this.$0},get_targetSheets:function(){return this.$3},set_targetSheets:function(e){this.$3=e},get_includeAll:function(){return this.$1},set_includeAll:function(e){this.$1=e;this.clearValues()},get_isExclude:function(){return this.$2},addValue:function(e){if(ss.contains(this.$4,e)){return false}this.$4.push(e);return true},clearValues:function(){ss.clear(this.$4)},getFilterValues:function(){return Array.prototype.slice.call(this.$4)},includesValue:function(e){if(this.get_includeAll()){return true}return this.$2!==ss.contains(this.$4,e)},removeValue:function(e){if(ss.contains(this.$4,e)){return false}ss.remove(this.$4,e);return true}});ss.initClass(ej,a,{add_filterUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_filterUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_filterPresModel:function(){return this.pm},get_filterType:function(){switch(this.get_filterPresModel().type){case'Q':{return'Quantitative'}case'H':{return'Hierarchical'}case'C':{return'Categorical'}case'RD':{if(this.get_filterPresModel().showRelDatePick){return'RelativeDatePick'}else{return'RelativeDate'}}default:{return'FilterDefault'}}},get_globalFieldName:function(){var e=this.pm;var hM=new String;hM='[';for(var hN=0;hN<e.name.length;++hN){if(ss.endsWithString(hM,']')){hM+='.';hM+='['}hM+=e.name[hN];hM+=']'}return hM},update:function(e,hM){if(!this.isNewPresModelSameAsOld(e)){this.pm=e;this.raiseEvent(this.$2$1,hM)}else if(ss.isValue(e)&&e.isTiled){this.raiseEvent(this.$2$1,hM)}}},ey);ss.initClass(ei,a,{get_filterType:function(){return'Categorical'},get_mode:function(){switch(this.get_filterPresModel().mode){case'checklist':{return'check-list'}case'radiolist':{return'radio-list'}case'dropdown':{return'dropdown'}case'checkdropdown':{return'check-dropdown'}case'slider':{return'slider'}case'pattern':{return'pattern'}case'typeinlist':{return'type-in-list'}default:{return'check-list'}}},get_pattern:function(){return this.get_filterPresModel().pattern},get_isAllMode:function(){return this.get_filterPresModel().all},get_allItemsAreChecked:function(){return this.get_filterPresModel().allChecked},get_noItemsAreChecked:function(){return this.get_filterPresModel().allNotChecked},get_exclude:function(){return this.get_filterPresModel().exclude},get_isTiled:function(){return this.get_filterPresModel().isTiled},get_isSearchable:function(){return this.get_filterPresModel().is_searchable},get_summary:function(){return this.get_filterPresModel().summary},get_underlyingDataSourceIsCube:function(){return this.get_filterPresModel().catIsHier},get_condition:function(){return this.get_filterPresModel().condition},get_limit:function(){return this.get_filterPresModel().limit},get_rangeType:function(){return this.get_filterPresModel().rangeType},get_catFilterTable:function(){return this.get_filterPresModel().table},get_domainActualSize:function(){return this.get_catFilterTable().actual_size},get_tuples:function(){return this.get_catFilterTable().tuples}},ej);ss.initClass(ek,a,{get_filterType:function(){return'Hierarchical'},get_hierarchyTables:function(){return this.get_filterPresModel().table},get_levels:function(){return this.get_filterPresModel().levels},get_isSearchable:function(){return this.get_filterPresModel().is_searchable}},ej);ss.initClass(el,a,{add_newLegacyLegend:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newLegacyLegend:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},update:function(e,hM){db.notifyFontsFromServerRenderedLegendPresModel(e);this.simpleSwapToUpdate(e,this.$2$1,hM)}},ey);ss.initClass(em,a,{get_filterType:function(){return'Quantitative'},get_range:function(){return this.get_filterPresModel().range},get_data:function(){return this.get_filterPresModel().data},get_dateFormat:function(){return this.get_filterPresModel().date_format},get_editingFormat:function(){return this.get_filterPresModel().editing_format},get_format:function(){return this.get_filterPresModel().format},get_calendarControlStartOfWeek:function(){return this.get_filterPresModel().first_day_of_week},get_dataSourceStartOfWeek:function(){return this.get_filterPresModel().start_of_week},get_quantitativeFilterTable:function(){return this.get_filterPresModel().table}},ej);ss.initClass(en,a,{add_quickFilterDisplayUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_quickFilterDisplayUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_quickFilterTitle:function(){return this.get_quickFilterDisplayPresModel().quickFilterTitle},get_quickFilterCommands:function(){return this.get_quickFilterDisplayPresModel().quickFilterCommands},get_quickFilterModeMatrix:function(){var e=tab.FeatureParamsLookup.getBool(4);if(e){return this.$1()}else{return null}},get_quickFilterDisplayPresModel:function(){return this.pm},get_frame:function(){return this.$2},get_zoneModel:function(){return this.parent.get_zone()},get_contentStyle:function(){if(!tab.FeatureFlags.isEnabled('NewDashboardSpacing')){return this.get_zoneModel().get_styledBoxModel()}return this.get_zoneModel().get_zoneCommonModel().get_contentStyle()},update:function(e,hM,hN){var hO=!_.isEqual(this.$2,hM);this.$2=hM;if(this.isNewPresModelSameAsOld(e)){if(hO){this.raiseEvent$1(Object).call(this,this.$2$1,e,hN)}return}if(ss.isValue(e)){db.notifyFontsFromTextStylePresModel(e.textStyle)}if(ss.isValue(e)&&ss.isValue(e.quickFilterCommands)){this.$3=new bH(this)}this.$3.update(e.quickFilterCommands,hN);this.simpleSwapToUpdate$1(Object).call(this,e,this.$2$1,e,hN)},$1:function(){var e=[];var hM=['year','qtr','month','day','hour','minute','second','week','weekday','month-year','mdy','none','trunc-year','trunc-qtr','trunc-month','trunc-week','trunc-day','trunc-hour','trunc-minute','trunc-second'];var hN=['check-list','radio-list','dropdown','slider','pattern','type-in-list','check-dropdown'];var hO=['min-max','min-only','max-only','rel-date','rel-pick'];for(var hP=0;hP<hM.length;hP++){var hQ=hM[hP];for(var hR=0;hR<hN.length;hR++){var hS=hN[hR];var hT={};hT.aggregation=hQ;hT.categoricalMode=hS;e.push(hT)}for(var hU=0;hU<hO.length;hU++){var hV=hO[hU];var hW={};hW.aggregation=hQ;hW.quantitativeMode=hV;e.push(hW)}}return e}},ey);ss.initClass(eo,a,{get_filterType:function(){return(this.get_isRelativeDatePick()?'RelativeDatePick':'RelativeDate')},get_defaultFormat:function(){return this.get_filterPresModel().default_format},get_fiscalYearStart:function(){return this.get_filterPresModel().fy},get_noTime:function(){return this.get_filterPresModel().noTime},get_isRelativeDatePick:function(){return this.get_filterPresModel().showRelDatePick},get_text:function(){return this.get_filterPresModel().text},get_relativeDateTable:function(){return this.get_filterPresModel().table},get_periodType:function(){return this.get_relativeDateTable().periodType},get_rangeType:function(){return this.get_relativeDateTable().rangeType},get_rangeN:function(){return this.get_relativeDateTable().rangeN},get_anchor:function(){return this.get_relativeDateTable().anchor}},ej);ss.initClass(ep,a,{fractionToValue:function(e){return this.$1+e*(this.$0-this.$1)},valueToFraction:function(e){return((this.$1===this.$0)?0:((e-this.$1)/(this.$0-this.$1)))}},fm);ss.initClass(eq,a,{get_interactedTupleId:function(){return this.$1},get_affectedTupleIds:function(){return this.$0},get_paneDescriptorKey:function(){return this.$3},get_needRemoteUbertip:function(){return this.$2}});ss.initClass(es,a,{add_updatedMapOptionsInfo:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_updatedMapOptionsInfo:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_stopNotifying:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_stopNotifying:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_lightweightMapOptionsPresModel:function(){return this.pm},get_shouldShowGeographicSearch:function(){return this.get_lightweightMapOptionsPresModel().showGeographicSearch},get_shouldShowFloatingZoomToolbar:function(){return this.get_lightweightMapOptionsPresModel().showFloatingZoomToolbar},get_shouldAllowPanZoom:function(){return this.get_lightweightMapOptionsPresModel().allowPanZoom},get_canToggleGeographicSearch:function(){return this.get_lightweightMapOptionsPresModel().canToggleGeographicSearch},get_shouldShowMapScale:function(){return this.get_lightweightMapOptionsPresModel().showMapScale},get_canToggleMapScale:function(){return this.get_lightweightMapOptionsPresModel().canToggleMapScale},get_canSetMapUnit:function(){return this.get_lightweightMapOptionsPresModel().canSetMapUnit},get_hasPresModel:function(){return ss.isValue(this.get_lightweightMapOptionsPresModel())},get_dialogTitle:function(){return tab.Strings.MapOptionsDialogTitle},get_notificationId:function(){return'map-options-dialog-event'},get_vizID:function(){return this.get_lightweightMapOptionsPresModel().visualIdPresModel},get_dialogWidth:function(){return 180},get_mapUnitSelection:function(){return this.get_lightweightMapOptionsPresModel().defaultMapUnitEnum},get_canToggleAutomaticDrill:function(){return this.get_lightweightMapOptionsPresModel().canToggleAutomaticDrill},get_shouldShowAutomaticDrill:function(){return this.get_lightweightMapOptionsPresModel().enableAutomaticDrill},onNotify:function(e,hM){this.simpleSwapToUpdate(e,this.$2$1,hM)},detachNotifications:function(){this.pm=null;if(!ss.staticEquals(this.$2$2,null)){this.$2$2()}},update:function(e,hM){this.swapAndCopyPresModel(e);this.raiseEvent(this.$2$1,hM)}},ey,[dS,dO]);ss.initClass(et,a,{add_updatedMapScaleInfo:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_updatedMapScaleInfo:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_mapScaleInfoPresModel:function(){return this.pm},get_shouldShowMapScale:function(){return this.get_mapScaleInfoPresModel().shouldShowMapScale},get_mapScaleMarginOfError:function(){return this.get_mapScaleInfoPresModel().mapScaleMarginOfError},get_mapScaleWidth:function(){return this.get_mapScaleInfoPresModel().mapScaleWidth},get_mapScaleReadoutString:function(){return this.get_mapScaleInfoPresModel().mapScaleReadoutString},get_mapScaleReadoutNumber:function(){return this.get_mapScaleInfoPresModel().mapScaleReadoutNumber},get_mapScaleReadoutUnit:function(){return this.get_mapScaleInfoPresModel().mapScaleReadoutUnit},get_mapScaleFontSizePixels:function(){return this.get_mapScaleInfoPresModel().mapScaleFontSizePixels},get_mapScaleColor:function(){return this.get_mapScaleInfoPresModel().mapScaleColor},get_mapScaleTooltipString:function(){return this.get_mapScaleInfoPresModel().mapScaleTooltipString},get_mapScaleBorderColor:function(){return this.get_mapScaleInfoPresModel().mapScaleBorderColor},get_hasPresModel:function(){return ss.isValue(this.get_mapScaleInfoPresModel())},update:function(e,hM){if(!this.isNewPresModelSameAsOld(e)){this.swapAndCopyPresModel(e);this.raiseEvent(this.$2$1,hM)}}},ey);ss.initClass(eu,a,{add_newMapServerInfo:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newMapServerInfo:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_tileSourceChanged:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_tileSourceChanged:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_useFastMaps:function(){return this.get_hasPresModel()&&this.get_mapServerPresModel().clientRequestsMapTiles},get_hasPresModel:function(){return ss.isValue(this.pm)},get_isAttributionVisible:function(){return this.get_mapServerPresModel().showAttribution},get_minZoom:function(){return this.get_mapServerPresModel().mapMinZoom},get_maxZoom:function(){return this.get_mapServerPresModel().mapMaxZoom},get_zoom:function(){var e=Math.log(this.get_mapServerPresModel().mapDisplayScale)/Math.LN2;var hM=this.get_mapServerPresModel().mapRequestZoom+e;if(this.get_useFastMaps()){hM-=tab.MapUtil.getLeafletZoomOffsetForTileSize(this.get_tilePixelSize())}return hM},get_centerLatitude:function(){return this.get_mapServerPresModel().mapCenterLatitude},get_centerLongitude:function(){return this.get_mapServerPresModel().mapCenterLongitude},get_tilePixelSize:function(){return this.get_mapServerPresModel().mapTileSize},get_numWorldRepeats:function(){return this.get_mapServerPresModel().mapWorldRepeats},get_tileUrl:function(){var e=this.get_mapServerPresModel();var hM;if(ss.startsWithString(e.mapTileServer.toString(),'http://')||ss.startsWithString(e.mapTileServer.toString(),'https://')){hM=''}else{var hN=tab.WindowHelper.getLocation(window.self).protocol;hM=hN+'//'}hM+=e.mapTileServer;if(!ss.endsWithString(hM,String.fromCharCode(47))&&!ss.startsWithString(e.mapTileUrl.toString(),String.fromCharCode(47))){hM+='/'}hM+=e.mapTileUrl;hM=ss.replaceAllString(hM,'{K}',e.mapServerKey);hM=ss.replaceAllString(hM,'{L}',e.mapLayerRequest);var hO=tab.DoubleUtil.isGreaterThanOrApproximatelyEqual(tab.BrowserSupport.get_devicePixelRatio(),2);hM=ss.replaceAllString(hM,'{D}',(hO?'@2x':''));hM=ss.replaceAllString(hM,'{X}','{x}');hM=ss.replaceAllString(hM,'{Y}','{y}');hM=ss.replaceAllString(hM,'{Z}','{z}');hM=ss.replaceAllString(hM,'{P}','{p}');return hM},get_hasValidTileLayer:function(){return this.get_mapServerPresModel().mapHasValidLayer},get_attributionUrl:function(){return this.get_mapServerPresModel().mapAttributionUrl},get_attributionText:function(){return this.get_mapServerPresModel().mapAttributionText},get_attributionTextColor:function(){return this.get_mapServerPresModel().mapAttributionTextColor},get_attributionTextSize:function(){return this.get_mapServerPresModel().mapAttributionTextSize},get_attributionBGColor:function(){return this.$1(this.get_mapServerPresModel().mapAttributionFill)},get_mapBGFillColor:function(){return this.$1(this.get_mapServerPresModel().mapPaneBackgroundFill)},get_hasWashout:function(){return this.get_mapServerPresModel().mapWashout>0},get_washoutColor:function(){var e=Math.max(0,Math.min(1,this.get_mapServerPresModel().mapWashout));return new bs(255,255,255,e)},get_intermediateTileLevels:function(){return this.get_mapServerPresModel().mapIntermediateLevels},get_mapServerPresModel:function(){return this.pm},get_mapScaleInfoModel:function(){return this.$2},get_radialSelectionDistanceInfoModel:function(){return this.$3},update:function(e,hM){var hN=ss.isValue(this.get_mapServerPresModel())&&ss.isValue(e);if(hN){var hO=!ss.referenceEquals(this.get_mapServerPresModel().mapTileServer,e.mapTileServer);var hP=!ss.referenceEquals(this.get_mapServerPresModel().mapLayerRequest,e.mapLayerRequest);if(hO||hP){this.raiseEvent(this.$2$2,hM)}}this.simpleSwapToUpdate(e,this.$2$1,hM);if(this.get_hasPresModel()){this.$3.update(this.get_mapServerPresModel().radialSelectionDistanceInfo);this.$2.update(this.get_mapServerPresModel().mapScaleInfo,hM)}},$1:function(e){return bs.fromColorCode(e||'rgb(255,255,255)').toString()}},ey);ss.initClass(gu,a,{get_defaultValue:function(){return ss.coalesce(this.defaultSpace,0)},set_defaultValue:function(e){this.defaultSpace=e},get_leftValue:function(){var e=this.left;if(ss.isNullOrUndefined(e)){e=this.get_defaultValue()}return e},set_leftValue:function(e){this.left=e},get_topValue:function(){var e=this.top;if(ss.isNullOrUndefined(e)){e=this.get_defaultValue()}return e},set_topValue:function(e){this.top=e},get_rightValue:function(){var e=this.right;if(ss.isNullOrUndefined(e)){e=this.get_defaultValue()}return e},set_rightValue:function(e){this.right=e},get_bottomValue:function(){var e=this.bottom;if(ss.isNullOrUndefined(e)){e=this.get_defaultValue()}return e},set_bottomValue:function(e){this.bottom=e},get_allSidesTheSame:function(){var e=this.$0;if(ss.isNullOrUndefined(e)){e=ss.isNullOrUndefined(this.bottom)&&ss.isNullOrUndefined(this.top)&&ss.isNullOrUndefined(this.left)&&ss.isNullOrUndefined(this.right)}return e},set_allSidesTheSame:function(e){this.$0=e;if(e){this.top=null;this.bottom=null;this.left=null;this.right=null}},mergeWithExisitingStyle:null});ss.initClass(ev,a,{mergeWithExisitingStyle:function(e){var hM=$.extend({},e);if(ss.isValue(this.defaultSpace)){hM.margin=ss.unbox(this.defaultSpace)}else{delete hM.margin}if(ss.isValue(this.top)){hM.marginTop=ss.unbox(this.top)}else{delete hM.marginTop}if(ss.isValue(this.bottom)){hM.marginBottom=ss.unbox(this.bottom)}else{delete hM.marginBottom}if(ss.isValue(this.left)){hM.marginLeft=ss.unbox(this.left)}else{delete hM.marginLeft}if(ss.isValue(this.right)){hM.marginRight=ss.unbox(this.right)}else{delete hM.marginRight}return hM}},gu);ev.$ctor1.prototype=ev.prototype;ss.initClass(ew,a,{add_newMarksCard:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newMarksCard:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_layers:function(){return this.$3},get_activePaneSpecId:function(){return this.$2},set_activePaneSpecId:function(e){this.$2=e},update:function(e,hM){if(this.isNewPresModelSameAsOld(e)){return}var hN=[];if(ss.isValue(e)&&ss.isValue(e.layer)){this.$1(e.layer,hN,hM)}if(ss.isValue(e)&&ss.isValue(e.layers)){for(var hO=0;hO<e.layers.length;hO++){var hP=e.layers[hO];this.$1(hP,hN,hM)}}this.$3=hN;this.swapAndCopyPresModel(e);this.raiseEvent(this.$2$1,hM)},$1:function(e,hM,hN){var hO=_.find(this.$3,function(hP){return hP.equals$1(e)});if(ss.isNullOrUndefined(hO)){hO=new ed(this,e.paneSpec)}hO.update(e,hN);hM.push(hO)}},ey);ss.initClass(ex,a,{add_sliderFractionUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_sliderFractionUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_minMarkSize:function(){return this.pm.minMarkSize},get_maxMarkSize:function(){return this.pm.maxMarkSize},get_currentMarkSize:function(){return this.pm.markSize},get_currentSliderFraction:function(){return tab.DoubleUtil.roundTwoDecimalPlaces(this.$3.valueToFraction(this.get_currentMarkSize()))},get_transform:function(){return this.$3},get_parentModel:function(){return this.$2},get_currentFraction:function(){return this.get_currentSliderFraction()},setCurrentFraction:function(e){},markSizeUpdated:function(){if(ss.isValue(this.$2$1)){this.$2$1(this.get_currentSliderFraction())}},update:function(e,hM){if(ss.isValue(e)){this.$1(e)}this.simpleSwapToUpdate(e,ss.mkdel(this,this.markSizeUpdated),hM)},$1:function(e){switch(e.inflectionPoints.length){case 0:{this.$3=new ep(e.minMarkSize,e.maxMarkSize);break}case 1:{var hM=e.inflectionPoints[0];this.$3=new F(e.minMarkSize,e.maxMarkSize,hM.inflectionFraction,hM.inflectionValue,hM.inflectionFraction,hM.inflectionValue);break}case 2:default:{var hN=e.inflectionPoints[0];var hO=e.inflectionPoints[1];this.$3=new F(e.minMarkSize,e.maxMarkSize,hN.inflectionFraction,hN.inflectionValue,hO.inflectionFraction,hO.inflectionValue);break}}}},ey,[dM]);ss.initClass(eB,a,{});ss.initClass(eC,a,{});ss.initClass(eD,a,{loadRequested:function(){this.$3++},moduleLoaded:function(){this.$3=Math.max(this.$3-1,0);if(this.$0()){this.$1()}},registerModulesLoadedCallback:function(e){if(this.$0()){e();return}this.$2.push(e)},$0:function(){return this.$3===0},$1:function(){for(var e=0;e<this.$2.length;e++){var hM=this.$2[e];_.defer(hM)}this.$2.length=0}});ss.initClass(eE,a,{get_instanceType:function(){return'multiple'}},cS);ss.initClass(eF,a,{processEvent:function(e){}},null,[dV]);ss.initClass(eG,a,{get_notificationId:function(){return this.$1$1},set_notificationId:function(e){this.$1$1=e},onNotify:function(e,hM){var hN=$.Deferred();var hO=hN.promise();hO.done(ss.mkdel(this,function(){if(ss.isValue(this.$2)){ey.nonWorldUpdate(ss.mkdel(this,function(hP){this.$2.onNotify(e,hP)}))}}));if(ss.isValue(this.$2)){hN.resolve()}else{this.$1().done(ss.mkdel(this,function(hP){if(ss.isValue(hP)){this.$2=hP;this.$2.add_stopNotifying(ss.mkdel(this,this.$0))}hN.resolve()}))}},$0:function(){this.$2=null}},null,[dS]);ss.initClass(eH,a,{$3:function(e,hM){this.$1().done([ss.mkdel(this,function(){var hO=this.$6.createEvent();hO.ofType(e);var hP=new ss.ObjectEnumerator(hM);try{while(hP.moveNext()){var hQ=hP.current();hO.withProperty(hQ.key,hQ.value)}}finally{hP.dispose()}hO.withProperty('SiteId',this.$d);hO.withProperty('SiteLuid',this.$e);hO.withProperty('SiteUrlName',this.$f);hO.withProperty('UserId',this.$g);hO.withProperty('Language',tsConfig.language);hO.withProperty('Locale',tsConfig.locale);hO.withProperty('SessionId',tsConfig.sessionIdHash);hO.withProperty('ProjectId',tsConfig.current_project_id);hO.withProperty('WorkbookId',tsConfig.current_workbook_id);hO.withProperty('Public',tsConfig.isPublic);hO.withProperty('SaaS',tsConfig.is_saas);this.$a.reportEvent(hO.build())})]);var hN=eH.$1$1;if(!ss.staticEquals(hN,null)){hN(e,hM)}},$2:function(){return this.$4||(this.$4=eC.load$1('analytics-client',[]))},$0:function(){return this.$c||(this.$c=hA.get_getSessionInfo().done(ss.mkdel(this,function(e){this.$b=e})).fail(ss.mkdel(this,function(e){})))},$1:function(){return this.$7||(this.$7=$.when(this.$0(),this.$2()).done([ss.mkdel(this,function(){var e=ss.isValue(this.$b);if(e){var hM=this.$b.server;var hN=this.$b.site;var hO=this.$b.user;e=ss.isValue(hM)&&ss.isValue(hN)&&ss.isValue(hO);if(e){this.$5=hM.analyticsEndpoint;this.$9=hM.logicalServerInstanceId;this.$d=hN.id;this.$e=hN.luid;this.$f=hN.urlName;this.$g=hO.id}}if(!e){}this.$a=new AnalyticsClient.Reporter(this.$5);this.$6=new AnalyticsClient.AnalyticsEventFactory('VizClient',this.$9,window.location.hostname)})]))}});ss.initClass(eI,a,{});ss.initClass(eJ,a,{mergeWithExisitingStyle:function(e){var hM=$.extend({},e);if(ss.isValue(this.defaultSpace)){hM.padding=ss.unbox(this.defaultSpace)}else{delete hM.padding}if(ss.isValue(this.top)){hM.paddingTop=ss.unbox(this.top)}else{delete hM.paddingTop}if(ss.isValue(this.bottom)){hM.paddingBottom=ss.unbox(this.bottom)}else{delete hM.paddingBottom}if(ss.isValue(this.left)){hM.paddingLeft=ss.unbox(this.left)}else{delete hM.paddingLeft}if(ss.isValue(this.right)){hM.paddingRight=ss.unbox(this.right)}else{delete hM.paddingRight}return hM}},gu);eJ.$ctor1.prototype=eJ.prototype;ss.initClass(eK,a,{add_newPage:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newPage:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_title:function(){return tableau.format.stripFormattedText(this.pm.title)},get_frame:function(){return this.$1},get_zoneModel:function(){return this.$2},update:function(e,hM,hN,hO){this.$1=hM;if(this.isNewPresModelSameAsOld(e)){return}db.notifyFontsFromPagePresModel(e);if(hN){this.simpleSwapToUpdate$1(Object).call(this,e,this.$2$1,e,hO)}else{this.swapAndCopyPresModel(e)}}},ey);ss.initClass(eM,a,{});ss.initClass(eN,a,{});ss.initClass(eO,a,{get_rowIndex:function(){return this.$0['rowIndex']},get_columnIndex:function(){return this.$0['columnIndex']},get_pageIndex:function(){return(ss.keyExists(this.$0,'pageIndex')?this.$0['pageIndex']:0)},get_presModel:function(){return this.$0},update:function(e){if(ss.isValue(e)){this.$0=e}else{this.$0={};this.$0['columnIndex']=0;this.$0['rowIndex']=0}}});eO.$ctor1.prototype=eO.prototype;ss.initClass(eP,a,{});ss.initClass(eQ,a,{add_newParameterCtrl:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newParameterCtrl:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_parameterCtrlPresModel:function(){return this.pm},get_parameterCtrlJsonPresModel:function(){return this.get_parameterCtrlPresModel().legacyPresModel},get_zone:function(){return this.get_zoneModel().pm},get_frame:function(){return this.$1},get_zoneModel:function(){return this.parent.get_zone()},update:function(e,hM,hN){if(ss.isValue(e)){db.notifyFontsFromTextStylePresModel(e.textStyle)}this.$1=hM;this.simpleSwapToUpdate$1(Object).call(this,e,this.$2$1,e,hN)},updateFrame:function(e,hM){if(!ss.referenceEquals(this.$1,e)){this.$1=e;this.raiseEvent$1(Object).call(this,this.$2$1,this.get_parameterCtrlPresModel(),hM)}}},ey);ss.initClass(eR,a,{add_filterUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_filterUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_displayMode:function(){return this.$2().paramDisplayMode},get_fieldName:function(){return this.$2().parameterName},get_titleHtml:function(){return(this.$3().zoneCommon.hasTitle?this.$3().zoneTitle.html:'')},get_titleCaption:function(){return(this.$3().zoneCommon.hasTitle?this.$3().zoneTitle.caption:'')},get_titleHeight:function(){return(this.$3().zoneCommon.hasTitle?this.$3().titleHeight:0)},get_zoneBackgroundColor:function(){return this.$3().zoneCommon.styledBox.fillColor},get_itemsHeight:function(){return this.$2().lineHeight},get_itemsFontName:function(){return this.$2().textStyle.fontName.toString()},get_itemsFontSize:function(){return this.$2().textStyle.fontSize+'pt'},get_itemsTextColor:function(){return this.$2().textStyle.color},get_itemsFontWeight:function(){return this.$2().textStyle.fontWeight},get_itemsFontStyle:function(){return this.$2().textStyle.fontStyle},get_itemsTextDecoration:function(){return this.$2().textStyle.textDecoration},get_items:function(){var e=[];for(var hM=0;hM<this.$2().formattedValues.length;hM++){e.push(new eS(this.$2().formattedValues[hM],this.$1().domain[hM]))}return e},get_selectedItem:function(){return this.$2().formattedValue},$2:function(){return this.pm},$1:function(){return this.$2().legacyPresModel},$3:function(){return this.parent.get_zone().pm},update:function(e,hM){if(!this.isNewPresModelSameAsOld(e)){this.swapAndCopyPresModel(e);this.raiseEvent$1(Object).call(this,this.$2$1,e,hM)}}},ey);ss.initClass(eS,a,{});ss.initClass(eT,a,{});ss.initClass(eU,a,{add_modelUpdated:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_modelUpdated:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},$1:function(){return this.pm},get_allPages:function(){return this.$1().includeAllPages},get_allPagesState:function(){return this.$1().allPagesState},update:function(e,hM){this.simpleSwapToUpdate(e,this.$3$1,hM)}},gQ);ss.initClass(eV,a,{});ss.initClass(eW,a,{get_encodingType:function(){if(ss.isNullOrUndefined(this.pm)||ss.isNullOrUndefined(this.pm.encodingType)){return'invalid-encoding'}return this.pm.encodingType},get_alternateEncodings:function(){if(ss.isNullOrUndefined(this.pm)||ss.isNullOrUndefined(this.pm.encodingUiItems)){return[]}return _.filter(this.pm.encodingUiItems,function(e){return e.isVisible&&e.isEnabled})},get_filterType:function(){if(ss.isNullOrUndefined(this.pm)||ss.isNullOrUndefined(this.pm.filterIconType)){return'no-filter'}return this.pm.filterIconType},get_hasDrill:function(){return this.pm.hasDrill||false},get_shouldDrill:function(){return this.get_hasDrill()&&(this.pm.shouldDrill||false)},get_column:function(){return this.$1},get_tooltip:function(){return tableau.format.stripFormattedText(this.pm.tooltip)},get_sideIconToolip:function(){return tableau.format.stripFormattedText(this.pm.iconTooltip)},get_displayName:function(){return this.pm.displayText},get_contextMenuCommands:function(){return this.pm.commands},get_isMultipleFields:function(){return this.pm.encodingType!=='invalid-encoding'&&ss.isInstanceOfType(this.$1,eE)},get_isSortPill:function(){return this.pm.isSortPill},get_sortMeasure:function(){return this.pm.sortMeasureName},get_sortDirection:function(){return this.pm.sortOrder},update:function(e,hM){if(this.isNewPresModelSameAsOld(e)){return}this.$1=hM;this.swapAndCopyPresModel(e)}},ey);ss.initClass(eX,a,{invoke:function(){return this.invoke$1(bK.newCommand$1('ping-session',this.c))}},ss.makeGenericType(O,[Object,eY]));ss.initClass(eY,a,{});ss.initClass(eZ,a,{add_stopNotifying:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_stopNotifying:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},get_notificationId:function(){return this.$1$2},set_notificationId:function(e){this.$1$2=e},onNotify:function(e,hM){if(ss.isValue(this.$2)){return}this.$2=ss.createInstance(this.$3);this.$4=document.createElement('div');this.$1.appendChild(this.$4);this.$2.showDialog(e,this.$4,ss.mkdel(this,this.$0))},$0:function(){this.$2=null;if(ss.isValue(this.$4)){this.$1.removeChild(this.$4);this.$4=null}},dispose:function(){if(!ss.staticEquals(this.$1$1,null)){this.$1$1()}this.$0()}},null,[dS,dO,ss.IDisposable]);ss.initClass(fa,a,{invokeCommand:function(e,hM,hN){var hO=$.Deferred();var hP=function(hS){hO.resolve(hS)};var hQ=function(hS){hO.reject()};var hR={commandName:hM,commandNamespace:e,commandParams:hN};bu.SendCommand(new bo('immediatelySubtle',null,hR,hP,hQ));return hO.promise()},dispose:function(){this.$0.dispose()},registerNotificationHandler:function(e,hM){var hN=N.get_instance();var hO=hN.registerNotificationHandler(e,function(hQ,hR){hM(hQ)});var hP=function(){hN.unRegisterNotificationHandler(e,hO)};this.$0.add(hP);return hP}},null,[ss.IDisposable]);ss.initClass(fb,a,{});ss.initClass(fc,a,{get_pathList:function(){return this.$0},get_pathAsString:function(){if(ss.isNullOrUndefined(this.$1)){this.$1=_.map(this.$0,function(e){return e.name}).join(':')}return this.$1},add:function(e){this.$0.push(e);this.$1=null},reverse:function(){this.$0.reverse();this.$1=null}});ss.initClass(fd,a,{});ss.initEnum(fe,a,{simple:0,array:1});ss.initClass(ff,a,{add_progressiveLoad:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_progressiveLoad:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_progressiveLoadComplete:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_progressiveLoadComplete:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},get_hasZonesToLoad:function(){if(ss.isValue(this.$k)&&ss.getKeyCount(this.$k)>0){return true}if(ss.isNullOrUndefined(this.$j)){return false}for(var e=0;e<ff.$7.length;e++){var hM=ff.$7[e];if(ss.isNullOrUndefined(this.$j[hM])){continue}return true}return false},extractZoneContent:function(e){if(!ff.$4(e)){return e}var hM=this.$4(e);if(ss.isNullOrUndefined(hM)){return e}this.$h(hM);hM.zones=this.$5(hM.zones);return e},updateZonesWithVizData:function(e,hM){if(ss.isNullOrUndefined(this.$p)||ss.getKeyCount(this.$p)===0){return}hk.addVizDataToZones(e.presModelMap,this.$p);var hN=_.keys(this.$p);for(var hO=0;hO<hN.length;hO++){var hP=hN[hO];var hQ=this.$q[hP]||this.$3(this.$p[hP]);if(ss.isValue(hQ)&&ss.isValue(hQ.get_visualModel())){var hR=hQ.get_visualModel();hR.update(hR.pm,hM)}}},processModelUpdate:function(e,hM,hN){if(!ff.$4(e)||!this.get_hasZonesToLoad()){return e}var hO=this.$4(e);if(ss.isNullOrUndefined(hO)){return e}this.$h(hO);var hP=ey.removeUndefinedBoolsOnSwapCopy;if(hN){ey.removeUndefinedBoolsOnSwapCopy=false}try{var hQ=hO.zones;var hR=_.keys(hQ);for(var hS=0;hS<hR.length;hS++){var hT=hR[hS];var hU=hQ[hT];if(ss.isNullOrUndefined(hU)){continue}var hV=this.$9(hU);if(!ss.contains(ff.zonesThatDeferContentCreation,hV)){continue}var hW=false;var hX=hU.zoneId;var hY=[ff.$8[hV],6];for(var hZ=0;hZ<hY.length;hZ++){var ia=hY[hZ];var ib=this.$j[ia];if(ss.isValue(ib)){var ic=ib.length;for(var id=0;id<ic;id++){var ie=ib[id];if(ss.isValue(ie)&&ie.zoneId===hX){hW=true;ib[id]=this.$1(ie,hU,hM);break}}}if(hW){break}}if(!hW&&hV==='viz'){var ig=_.keys(this.$k);for(var ih=0;ih<ig.length;ih++){var ii=ig[ih];var ij=this.$k[ii];if(hX===ij.zoneId){hW=true;this.$k[ii]=this.$1(ij,hU,hM);break}}}if(hW){hU=ff.removeZoneContent(hU)}}}finally{ey.removeUndefinedBoolsOnSwapCopy=hP}return e},start:function(){if(!this.get_hasZonesToLoad()){this.$6();this.$d();return}this.$e();this.$c();this.$f()},abort:function(){this.stopTimers();this.$d()},setViewport:function(e){var hM=e.get_dimensions();if(hM.w===1&&hM.h===1){return}this.$o={x:hM.l,y:hM.t,w:hM.w,h:hM.h};this.$c()},getPendingVisuals:function(){var e={};var hM=_.keys(this.$p);for(var hN=0;hN<hM.length;hN++){var hO=hM[hN];var hP=this.$p[hO].worksheet;var hQ=this.getPendingVisual(hP);if(ss.isValue(hQ)){e[hP]=hQ}}return e},getPendingVisual:function(e){var hM=null;var hN=_.keys(this.$p);for(var hO=0;hO<hN.length;hO++){var hP=hN[hO];if(ss.referenceEquals(this.$p[hP].worksheet,e)){hM=this.$p[hP];break}}if(ss.isNullOrUndefined(hM)){return null}var hQ=this.$q[hM.zoneId]||this.$3(hM);return hQ.get_visualModel()},getPendingZoneContentModel:function(e){if(ss.isNullOrUndefined(this.$l)){return null}return this.$l[e]},stopTimers:function(){if(ss.isValue(this.$m)){if(ss.isValue(tab.FeatureParamsLookup.getInt(39))){window.clearTimeout(ss.unbox(this.$m))}else{tab.WindowHelper.cancelAnimationFrame(ss.unbox(this.$m))}this.$m=null}},$d:function(){this.$j=null;this.$k=null;this.$p=null;this.$q=null;this.$l=null;this.$n=null;this.$m=null;this.$o=null;ss.clearKeys(this.$r)},$8:function(){var e={};for(var hM=0;hM<ff.$7.length;hM++){var hN=ff.$7[hM];if(hN===6&&ss.isValue(this.$k)&&ss.getKeyCount(this.$k)>0){this.$j[6]=this.$j[6]||[];var hO=_.keys(this.$k);for(var hP=0;hP<hO.length;hP++){var hQ=hO[hP];this.$j[6].push(this.$k[hQ])}this.$k=null}var hR=this.$j[hN];if(ss.isNullOrUndefined(hR)){continue}var hS=hR.length;var hT=ff.$6[hN];var hU=0;if(hT.item1===-1){hU=hS}else{var hV=hT.item2*hS;if(hT.item1<hV){var hW=0;for(var hX=0;hX<hR.length;hX++){var hY=hR[hX];if(ss.isValue(hY)){++hW}}hU=Math.floor(hV);if(hW%hU>0){hU=hU+1}}else{hU=hT.item1}}var hZ=0;var ia=0;while(hZ<hU&&ia<hS){var ib=hR[ia];hR[ia]=null;ia++;if(ss.isNullOrUndefined(ib)){continue}if(ff.$3(this.$9(ib))){var ic=ib.worksheet;if(ss.isValue(this.$k)&&ss.keyExists(this.$k,ic)){var id=this.$k[ic];delete this.$k[ic];delete this.$p[id.zoneId];e[id.zoneId.toString()]=id}}delete this.$p[ib.zoneId];var ie=this.$q[ib.zoneId];if(ss.isValue(ie)){delete this.$q[ib.zoneId];this.$l=this.$l||{};this.$l[ib.zoneId]=ie.get_model()}e[ib.zoneId.toString()]=ib;++hZ}if(ia===hS){this.$j[hN]=null}break}return e},$a:function(e){if(ss.isNullOrUndefined(this.$o)){var hM=new tab.WindowHelper(window.self);var hN=hM.get_innerWidth();var hO=hM.get_innerHeight();var hP=hM.get_pageXOffset();var hQ=hM.get_pageYOffset();this.$o={x:hP,y:hQ,w:hN,h:hO}}var hR={x:e.zoneCommon.x,y:e.zoneCommon.y,w:e.zoneCommon.w,h:e.zoneCommon.h};return tab.RectXYUtil.intersectsWith(hR,this.$o)},$0:function(){var e=this.$8();if(ss.isNullOrUndefined(e)||ss.getKeyCount(e)===0){return null}var hM=tab.MiscUtil.cloneObject(this.$n);ff.getZoneRoot(hM).zones=e;return hM},$e:function(){var e=tab.FeatureParamsLookup.getInt(39);if(ss.isValue(e)){this.$m=window.setTimeout(ss.mkdel(this,this.$b),ss.unbox(e))}else{this.$m=tab.WindowHelper.requestAnimationFrame(ss.mkdel(this,function(){this.$b()}))}},$b:function(){var e=this.$0();var hM=this.get_hasZonesToLoad();if(hM){this.$e()}this.$7(e,!hM);if(!hM){this.$6();this.$d()}},$7:function(e,hM){if(!ss.staticEquals(this.$1$1,null)){this.$1$1(e,hM)}},$6:function(){if(!ss.staticEquals(this.$1$2,null)){this.$1$2()}},$4:function(e){if(ss.isNullOrUndefined(e)){return null}var hM=ff.getZoneRoot(e);if(ss.isNullOrUndefined(hM)&&ss.isNullOrUndefined(this.$n)){return null}this.$2(e);return hM},$5:function(e){if(ss.isNullOrUndefined(e)){return null}ff.$2();this.$p={};this.$j={};this.$q={};var hM=_.keys(e);for(var hN=0;hN<hM.length;hN++){var hO=hM[hN];var hP=e[hO];if(!ss.contains(ff.zonesThatDeferContentCreation,this.$9(hP))){continue}var hQ=ff.cloneZone(hP);hP=ff.removeZoneContent(hP);var hR=this.$9(hQ);if(hR==='viz'){this.$p[hO]=hQ}var hS=5;if(ss.keyExists(ff.$8,hR)){hS=ff.$8[hR]}this.$j[hS]=this.$j[hS]||[];this.$j[hS].push(hQ)}return e},$c:function(){if(ss.isNullOrUndefined(this.$j)||this.$i){return}this.$k=this.$k||{};for(var e=0;e<ff.$7.length;e++){var hM=ff.$7[e];if(hM===6){continue}var hN=this.$j[hM];if(ss.isNullOrUndefined(hN)||hN.length===0){continue}var hO=0;var hP=new Array(hN.length);for(var hQ=0;hQ<hN.length;hQ++){var hR=hN[hQ];if(this.$a(hR)){hP[hO]=hR;hO++}else if(this.$9(hR)==='viz'){this.$k[hR.worksheet]=hR}else{this.$j[6]=this.$j[6]||[];this.$j[6].push(hR)}}if(hO>0){hP.length=hO;this.$j[hM]=hP}else{this.$j[hM]=null}}this.$i=true},$g:function(e){if(ss.isNullOrUndefined(e)||e.length===0){return null}var hM=e.length;var hN={};var hO=new Array(hM);for(var hP=0;hP<hM;hP++){var hQ=e[hP];var hR=hQ.zoneCommon.y*5000+hQ.zoneCommon.x;while(ss.isValue(hN[hR])){hR+=1}hN[hR]=hQ;hO[hP]=hR}hO=hO.sort(function(hV,hW){return((hV>hW)?1:-1)});for(var hS=0;hS<hM;hS++){var hT=hO[hS];var hU=hN[hT];e[hS]=hU}return e},$f:function(){if(ss.isNullOrUndefined(this.$j)){return}for(var e=0;e<ff.$7.length;e++){var hM=ff.$7[e];if(hM===6){continue}var hN=this.$j[hM];this.$j[hM]=this.$g(hN)}},$3:function(e){var hM=eB.findContentDashboard();var hN=new hK(hM.zonesModel,hM,e.zoneId);hN.update(e,eF.get_noopContext());this.$q[e.zoneId]=hN;return hN},$1:function(e,hM,hN){var hO=this.$q[e.zoneId]||this.$3(e);var hP=ff.cloneZone(hM);hO.update(hP,hN);return hP},$h:function(e){$.extend(this.$r,ff.$0(e))},$9:function(e){if(ss.isValue(e.zoneCommon)){return e.zoneCommon.zoneType}return ss.coalesce(this.$r[e.zoneId],'invalid')},$2:function(e){if(ss.isNullOrUndefined(e)){return}var hM=this.$n;var hN=e;var hO=null;this.$n=ff.$1(hN,hM);hO=this.$n;hN=hN.workbookPresModel;hM=(ss.isNullOrUndefined(hM)?null:hM.workbookPresModel);hO.workbookPresModel=ff.$1(hN,hM);if(ss.isNullOrUndefined(hN)){return}hO=hO.workbookPresModel;hN=hN.dashboardPresModel;hM=(ss.isNullOrUndefined(hM)?null:hM.dashboardPresModel);hO.dashboardPresModel=ff.$1(hN,hM);if(ss.isNullOrUndefined(hN)){return}if(e.workbookPresModel.dashboardPresModel.isStory){hO=hO.dashboardPresModel;hN=hN.zones;hM=(ss.isNullOrUndefined(hM)?null:hM.zones);var hP=null;var hQ='';if(ss.isValue(hN)){var hR=hN;var hS=_.keys(hR);for(var hT=0;hT<hS.length;hT++){var hU=hS[hT];if(this.$9(hR[hU])!=='flipboard'){continue}hP=hR[hU];hQ=hU;break}}if(ss.isNullOrUndefined(hP)){hO.zones=hM;return}hO.zones={};hO.zones[hQ]=fb.cloneObjWithScalarsOnly(hP);hO=hO.zones[hQ];hN=hN[hQ].presModelHolder;hM=(ss.isNullOrUndefined(hM)?null:hM[hQ].presModelHolder);hO.presModelHolder=ff.$1(hN,hM);if(ss.isNullOrUndefined(hN)){return}hO=hO.presModelHolder;hN=hN['flipboard'];hM=(ss.isNullOrUndefined(hM)?null:hM['flipboard']);hO['flipboard']=ff.$1(hN,hM);if(ss.isNullOrUndefined(hN)){return}var hV=hN.activeStoryPointId;hO=hO['flipboard'];hN=hN.storyPoints;hM=(ss.isNullOrUndefined(hM)?null:hM.storyPoints);hO.storyPoints=ff.$1(hN,hM);if(ss.isNullOrUndefined(hN)){return}hO=hO.storyPoints;hN=hN[hV.toString()];hM=(ss.isNullOrUndefined(hM)?null:hM[hV.toString()]);hO[hV.toString()]=ff.$1(hN,hM);if(ss.isNullOrUndefined(hN)){return}hO=hO[hV.toString()];hN=hN.dashboardPresModel;hM=(ss.isNullOrUndefined(hM)?null:hM.dashboardPresModel);hO.dashboardPresModel=ff.$1(hN,hM)}}});ss.initClass(fg,a,{add_legendChanged:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_legendChanged:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_quantColorLegendPresModel:function(){return this.pm},update:function(e,hM){if(this.isNewPresModelSameAsOld(e)){return}db.notifyFontsFromQuantitativeColorLegendPresModel(e);this.swapAndCopyPresModel(e);this.raiseEvent(this.$2$1,hM)}},ey);ss.initClass(fh,a,{get_filterField:function(){return this.$2},get_currentMaxVal:function(){return this.$0},get_currentMinVal:function(){return this.$1},get_targetSheets:function(){return this.$5},get_previousMaxVal:function(){return this.$3},get_previousMinVal:function(){return this.$4},valueInRange:function(e){var hM=true;if(ss.isValue(this.$1)){hM=hM&&tab.DoubleUtil.isGreaterThanOrApproximatelyEqual(e,ss.unbox(this.$1))}if(ss.isValue(this.$0)){hM=hM&&tab.DoubleUtil.isLessThanOrApproximatelyEqual(e,ss.unbox(this.$0))}return hM}});ss.initClass(fi,a,{});ss.initClass(fj,a,{add_filterUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_filterUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_quickFilterModel:function(){return this.$2$2},set_quickFilterModel:function(e){this.$2$2=e},get_quickFilterType:function(){return this.$2$3},set_quickFilterType:function(e){this.$2$3=e},get_quickFilterCommands:function(){return this.$2().quickFilterCommands},get_zoneHasTitle:function(){return this.parent.get_zone().get_hasTitle()},get_titleCaption:function(){return this.$2().quickFilterTitle.caption},get_titleHtml:function(){return this.$2().quickFilterTitle.html},get_titleHeight:function(){return this.$2().quickFilterTitle.h},get_itemsHeight:function(){return this.$2().lineHeight},get_itemsFontName:function(){return this.$2().textStyle.fontName.toString()},get_itemsFontSize:function(){return this.$2().textStyle.fontSize+'pt'},get_itemsTextColor:function(){return this.$2().textStyle.color},get_itemsFontWeight:function(){return this.$2().textStyle.fontWeight},get_itemsFontStyle:function(){return this.$2().textStyle.fontStyle},get_itemsTextDecoration:function(){return this.$2().textStyle.textDecoration},get_zoneBackgroundColor:function(){var e=this.parent;return e.get_zone().pm.zoneCommon.styledBox.fillColor},get_visualId:function(){var e=this.parent;return eB.getVisualId(e.get_zone().pm.sheet)},get_fieldName:function(){return this.$2().quickFilter.fn},$2:function(){return this.pm},update:function(e,hM){if(!this.isNewPresModelSameAsOld(e)){if(ss.isValue(e)){db.notifyFontsFromTextStylePresModel(e.textStyle)}this.swapAndCopyPresModel(e);if(e.quickFilter.quickFilterType!==this.get_quickFilterType()){this.set_quickFilterModel(this.$1(e.quickFilter));this.set_quickFilterType(e.quickFilter.quickFilterType)}if(ss.isValue(this.get_quickFilterModel())){this.get_quickFilterModel().update(e.quickFilter,hM)}this.raiseEvent(this.$2$1,hM)}},$1:function(e){switch(e.quickFilterType){case'categorical':{return new bl(this)}default:{return null}}}},ey);ss.initClass(fl,a,{get_radialSelectionDistanceInfoPresModel:function(){return this.pm},get_earthRadius:function(){return this.get_radialSelectionDistanceInfoPresModel().earthRadius},get_fontSizePixels:function(){return this.get_radialSelectionDistanceInfoPresModel().fontSize},get_largeUnitDisplay:function(){return this.get_radialSelectionDistanceInfoPresModel().largeUnitDisplay},get_latLongRect:function(){return this.get_radialSelectionDistanceInfoPresModel().mapLatLongRect},get_mapHeight:function(){return this.get_radialSelectionDistanceInfoPresModel().h},get_mapWidth:function(){return this.get_radialSelectionDistanceInfoPresModel().w},get_readoutOffsetPixels:function(){return this.get_radialSelectionDistanceInfoPresModel().readoutOffset},get_shouldShowDistance:function(){return this.get_radialSelectionDistanceInfoPresModel().shouldShowDistance},get_sigFigs:function(){return this.get_radialSelectionDistanceInfoPresModel().sigFigs},get_smallToLargeUnitDivisor:function(){return this.get_radialSelectionDistanceInfoPresModel().unitDivisor},get_smallUnitDisplay:function(){return this.get_radialSelectionDistanceInfoPresModel().smallUnitDisplay},get_unitTransition:function(){return this.get_radialSelectionDistanceInfoPresModel().unitTransition},get_decimalMark:function(){return this.get_radialSelectionDistanceInfoPresModel().decimalMark},get_fontColor:function(){return this.get_radialSelectionDistanceInfoPresModel().distanceFontColor},update:function(e){if(!this.isNewPresModelSameAsOld(e)){this.swapAndCopyPresModel(e)}}},ey);ss.initClass(fn,a,{add_modelUpdated:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_modelUpdated:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},$1:function(){return this.pm},get_rankTypeValues:function(){return this.$1().rankTypeValues},get_rankTypeCaptions:function(){return this.$1().rankTypeCaptions},get_rankTypeIndex:function(){return this.$1().rankTypeIndex},get_rankType:function(){return this.get_rankTypeValues()[this.get_rankTypeIndex()]},get_rankTypeState:function(){return this.$1().rankTypeState},get_sortDirectionValues:function(){return this.$1().sortDirectionValues},get_sortDirectionCaptions:function(){return this.$1().sortDirectionCaptions},get_sortDirectionIndex:function(){return this.$1().sortDirectionIndex},get_sortDirection:function(){return this.get_sortDirectionValues()[this.get_sortDirectionIndex()]},update:function(e,hM){this.simpleSwapToUpdate(e,this.$3$1,hM)}},gQ);ss.initClass(fo,a,{get_columns:function(){return this.$1},get_instanceType:function(){return'relationalTable'},get_canHaveChildren:function(){return true},get_isUnsortedContainer:function(){return true},update:function(e,hM){this.swapAndCopyPresModel(e);this.$1=hM}},cS);ss.initClass(fp,a,{},bo);ss.initClass(fq,a,{invoke:function(){return this.invoke$1(bK.newCommand('replace-file-connection-from-file-upload',this.c))}},ss.makeGenericType(O,[Object,fr]));ss.initClass(fr,a,{});ss.initClass(fs,a,{get_workbookId:function(){return this.$2},get_sheetId:function(){return this.$1},get_customizedView:function(){return this.$0},get_originalViewURL:function(){return ss.formatString('{0}/{1}',this.get_workbookId(),this.get_sheetId())}});ss.initClass(ft,a,{invoke:function(){return this.invoke$1(bK.newCommand('resize-axis-region',this.c))}},ss.makeGenericType(O,[Object,fu]));ss.initClass(fu,a,{});ss.initClass(fv,a,{invoke:function(){return this.invoke$1(bK.newCommand('resize-header-region',this.c))}},ss.makeGenericType(O,[Object,fw]));ss.initClass(fw,a,{});ss.initClass(fx,a,{});ss.initClass(fy,a,{});ss.initClass(fz,a,{get_sceneElementPM:function(){return this.$2$1},set_sceneElementPM:function(e){this.$2$1=e},get_paneId:function(){return this.$2$2},set_paneId:function(e){this.$2$2=e},get_index:function(){return this.get_sceneElementPM().uindex},get_paneIndex:function(){return this.get_sceneElementPM().paneIndex},get_tupleId:function(){return this.get_sceneElementPM().tupleId},get_bounds:function(){return this.$2$3},set_bounds:function(e){this.$2$3=e},get_visualPart:function(){return this.get_sceneElementPM().visualPart},get_detail:function(){return this.get_sceneElementPM().sceneModelDetailEnum},get_hitType:function(){return this.get_sceneElementPM().sceneModelHitType},get_detailId:function(){return this.get_sceneElementPM().detailId},get_cellId:function(){return this.get_sceneElementPM().cellId},get_worldOffset:function(){return this.get_sceneElementPM().worldOffset},get_markState:function(){return this.get_sceneElementPM().markState},get_hitDistance:function(){return this.get_sceneElementPM().distance},get_overlayHit:function(){return this.get_sceneElementPM().useForOverlayHitTest}},ey);ss.initClass(fA,a,{add_newSceneModel:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newSceneModel:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_visualListModels:function(){return this.$8},get_refLineVisualLists:function(){return this.$6},get_trendLineVisualLists:function(){return this.$7},get_drawFirstParts:function(){return this.$4},get_drawLastParts:function(){return this.$5},get_backgroundColor:function(){return this.$3},get_paneDescriptorCount:function(){return ss.getKeyCount(this.pm.pdMarksMap)},update:function(e,hM){if(ss.isValue(e.markShapeList)){N.get_instance().get_shapeManager().updateCustomImageMap(e.markShapeList)}this.$2(e);if(ss.isValue(e.drawFirst)){ss.clear(this.$4);for(var hN=0;hN<e.drawFirst.length;hN++){var hO=e.drawFirst[hN];db.notifyFontsFromVisualListPresModel(hO);var hP=hO.visualPart;if(!ss.keyExists(this.$8,hP)){this.$8[hP]=new he(this)}if(ss.contains(this.$4,hP)){continue}this.$4.push(hP);this.$8[hP].update(hO,hM)}}if(ss.isValue(e.drawLast)){ss.clear(this.$5);for(var hQ=0;hQ<e.drawLast.length;hQ++){var hR=e.drawLast[hQ];db.notifyFontsFromVisualListPresModel(hR);var hS=hR.visualPart;if(!ss.keyExists(this.$8,hS)){this.$8[hS]=new he(this)}this.$5.push(hS);this.$8[hS].update(hR,hM)}}if(ss.isValue(e.panes)){for(var hT=0;hT<e.panes.length;hT++){var hU=e.panes[hT];for(var hV=0;hV<hU.drawPane.length;hV++){var hW=hU.drawPane[hV];db.notifyFontsFromVisualListPresModel(hW)}}}if(ss.isValue(e.pdMarksMap)){var hX=_.values(e.pdMarksMap);for(var hY=0;hY<hX.length;hY++){var hZ=hX[hY];if(ss.isValue(hZ)){db.notifyFontsFromPDMarksPresModel(hZ)}}}var ia=ss.isNullOrUndefined(e.userPaneInfo);e.currentPage=e.currentPage||0;this.swapAndCopyPresModel(e);if(ia){this.pm.userPaneInfo=null}this.$3=fA.$0(this.$8,e);this.$1();this.raiseEvent(this.$2$1,hM)},getMutableCopyOfPresModel:function(){return this.getMutableCopyOfPresModelInternal(true)},$1:function(){ss.clear(this.$6);ss.clear(this.$7);if(ss.isValue(this.pm.panes)){for(var e=0;e<this.pm.panes.length;e++){var hM=this.pm.panes[e];if(ss.isValue(hM.drawPane)){for(var hN=0;hN<hM.drawPane.length;hN++){var hO=hM.drawPane[hN];if(ss.isValue(hO)){if(hO.visualPart==='ref-lines'){this.$6.push(hO)}else if(hO.visualPart==='trend-lines'){this.$7.push(hO)}}}}}}},$2:function(e){var hM=new ss.ObjectEnumerator(this.get_visualListModels());try{while(hM.moveNext()){var hN=hM.current();var hO={$:hN.key};var hP=_.find(e.drawFirst,ss.mkdel({currentPart:hO},function(hQ){return this.currentPart.$===hQ.visualPart}));if(ss.isNullOrUndefined(hP)){hP=_.find(e.drawLast,ss.mkdel({currentPart:hO},function(hQ){return this.currentPart.$===hQ.visualPart}))}if(ss.isNullOrUndefined(hP)){delete this.get_visualListModels()[hO.$]}}}finally{hM.dispose()}}},ey);ss.initClass(fB,a,{});ss.initClass(fC,a,{get_schedulePresModel:function(){return this.$9},set_schedulePresModel:function(e){this.$9=e},get_scheduleFrequencyDescription:function(){return this.$8},set_scheduleFrequencyDescription:function(e){this.$8=e},generateFrequencyDescription:function(){var e=new Date;var hM=0-e.getTimezoneOffset();var hN=0;var hO=this.$9.scheduleDetails.startTime;var hP=0;var hQ='';if(tsConfig.display_schedules_in_client_timezone){hN=hM-this.$9.serverTimezoneOffset;hO=fC.$2(this.$9.scheduleDetails.startTime,hN);hP=fC.$0(this.$9.scheduleDetails.startTime,hN)}switch(this.$9.scheduleType){case'Hourly':{hQ=this.$2(hO,hN);break}case'Daily':{hQ=this.$0(hO);break}case'Weekly':{hQ=this.$4(hO,hP);break}case'Monthly':{hQ=this.$3(hO,hP);break}default:{throw new ss.Exception('Unknown schedule type: '+this.$9.scheduleType)}}if(!this.$9.parallel){hQ=tab.Strings.SerialScheduleDescription(hQ,tab.Strings.SerialScheduleDescriptionSuffix)}return hQ},$7:function(e,hM,hN){var hO=ss.Int32.div(e,60);if(hM===0){if(e<60){return tab.Strings.ScheduleEveryXMinutesDescription(e)}else if(hO===1){return tab.Strings.ScheduleEveryOneHourDescription}else{return tab.Strings.ScheduleEveryXHoursStartingAtYDescription(ss.Int32.div(e,60),fC.$1(hN))}}else if(hM===15){if(e<60){if(e===30){return tab.Strings.ScheduleEvery30MinutesDescription}else{return tab.Strings.ScheduleEveryXMinutesDescription(e)}}else{if(hO===1){return tab.Strings.ScheduleEveryOneHourAtXMinutesPastDescription(hM)}return tab.Strings.ScheduleEveryXHoursStartingAtYDescription(hO,fC.$1(hN))}}else if(hM===30){if(e<60){return tab.Strings.ScheduleEveryXMinutesDescription(e)}else{if(hO===1){return tab.Strings.ScheduleEveryOneHourAtXMinutesPastDescription(hM)}return tab.Strings.ScheduleEveryXHoursStartingAtYDescription(hO,fC.$1(hN))}}else if(hM===45){if(e<60){if(e===30){return tab.Strings.ScheduleEvery30MinutesDescription}else{return tab.Strings.ScheduleEveryXMinutesDescription(e)}}else{if(hO===1){return tab.Strings.ScheduleEveryOneHourAtXMinutesPastDescription(hM)}return tab.Strings.ScheduleEveryXHoursStartingAtYDescription(hO,fC.$1(hN))}}else{throw new ss.Exception('Unsupported schedule minutes after the hour: '+hM)}},$2:function(e,hM){var hN=(this.$9.scheduleDetails.endTime+hM)%1440;if(e===hN){return this.$7(this.$9.scheduleDetails.recurrenceMinutes,e%60,e)}var hO;if(this.$9.scheduleDetails.recurrenceMinutes<60){hO=tab.Strings.Minutes(this.$9.scheduleDetails.recurrenceMinutes)}else if(this.$9.scheduleDetails.recurrenceMinutes>60){hO=tab.Strings.Hours(ss.Int32.div(this.$9.scheduleDetails.recurrenceMinutes,60))}else{hO=tab.Strings.Hour}return tab.Strings.ScheduleHourlyDescription(hO,fC.$1(e),fC.$1(hN))},$0:function(e){return tab.Strings.ScheduleDailyDescription(fC.$1(e))},$4:function(e,hM){var hN=this.$9.scheduleDetails.recurrenceDaysOfWeek;if(hM!==0){hN=this.$6(this.$9.scheduleDetails.recurrenceDaysOfWeek,hM)}var hO=this.$1(hN);return tab.Strings.ScheduleWeeklyDescription(fC.$1(e),hO)},$6:function(e,hM){var hN=[];for(var hO=0;hO<e.length;hO++){var hP=ss.indexOf(fC.$7,e[hO]);var hQ=(hP+hM+fC.$7.length)%fC.$7.length;hN.push(fC.$7[hQ])}return hN},$1:function(e){switch(e.length){case 1:{return fC.$6[e[0]]}case 2:{return tab.Strings.ListLengthTwo(fC.$6[e[0]],fC.$6[e[1]])}case 3:{return tab.Strings.ListLengthThree(fC.$6[e[0]],fC.$6[e[1]],fC.$6[e[2]])}case 4:{return tab.Strings.ListLengthFour(fC.$6[e[0]],fC.$6[e[1]],fC.$6[e[2]],fC.$6[e[3]])}case 5:{return tab.Strings.ListLengthFive(fC.$6[e[0]],fC.$6[e[1]],fC.$6[e[2]],fC.$6[e[3]],fC.$6[e[4]])}case 6:{return tab.Strings.ListLengthSix(fC.$6[e[0]],fC.$6[e[1]],fC.$6[e[2]],fC.$6[e[3]],fC.$6[e[4]],fC.$6[e[5]])}case 7:{return tab.Strings.ListLengthSeven(fC.$6[e[0]],fC.$6[e[1]],fC.$6[e[2]],fC.$6[e[3]],fC.$6[e[4]],fC.$6[e[5]],fC.$6[e[6]])}default:{throw new ss.Exception('Unknown list length: '+e.length)}}},$3:function(e,hM){var hN=this.$9.scheduleDetails.recurrenceDayOfMonth;if(hM!==0){hN=this.$5(this.$9.scheduleDetails.recurrenceDayOfMonth,hM)}if(hN==='Last'){return tab.Strings.ScheduleMonthlyDescriptionLast(fC.$1(e))}else if(hN==='SecondToLast'){return tab.Strings.ScheduleMonthlyDescriptionSecondToLast(fC.$1(e))}var hO=hN.charCodeAt(hN.length-1);var hP='';if(hO===49){hP=tab.Strings.FirstEnding(hN)}else if(hO===50&&hN!=='12'){hP=tab.Strings.SecondEnding(hN)}else if(hO===51&&hN!=='13'){hP=tab.Strings.ThirdEnding(hN)}else{hP=tab.Strings.NumberEnding(hN)}return tab.Strings.ScheduleMonthlyDescription(hP,fC.$1(e))},$5:function(e,hM){var hN=new Date;var hO=(new Date(hN.getFullYear(),hN.getMonth()+1,0)).getDate();if(e==='Last'){if(hM>0){return'1'}else if(hM<0){return'SecondToLast'}else{return'Last'}}if(e==='1'&&hM<0){return'Last'}var hP=parseInt(e);var hQ=(hP+hM+hO)%hO;return hQ.toString()}});ss.initClass(fD,a,{});ss.initClass(fE,a,{invoke:function(){return this.invoke$1(bK.newCommand('select-by-tuple-value',this.c))}},ss.makeGenericType(O,[Object,fF]));ss.initClass(fF,a,{});ss.initClass(fG,a,{});ss.initClass(fH,a,{add_newSelection:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newSelection:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_selectionPresModel:function(){if(ss.isValue(this.$5)){var e={};e.selectionType='tuples';e.objectIds=this.$5;return e}return this.$4()},get_selectionType:function(){return this.$4().selectionType},get_nodes:function(){return this.$4().selectedNodes},get_ids:function(){if(ss.isValue(this.$5)){return this.$5}return this.$4().objectIds},get_hashKey:function(){var e=this.get_selectionType().toString();if(this.get_selectionType()==='legend-items'){e+='-'+this.get_selectionPresModel().legendSelectionInfo.legendType+':'+this.get_selectionPresModel().legendSelectionInfo.legendColumns.join(';')}return e},$4:function(){return this.pm},getMutableCopyOfPresModel:function(){return this.getMutableCopyOfPresModelInternal(true)},isObjectSelected:function(e){if(ss.isNullOrUndefined(this.$4())){return false}if(ss.isNullOrUndefined(this.get_ids())){return false}return ss.contains(this.get_ids(),e)},isLegendItemSelected:function(e){if(this.get_selectionType()!=='legend-items'){return false}if(ss.isNullOrUndefined(this.$6)){this.$6={};if(ss.isValue(this.get_ids())){var hM=this.get_ids();for(var hN=0;hN<hM.length;hN++){var hO=hM[hN];this.$6[hO]=true}}}return ss.keyExists(this.$6,e.objectId)},isAnyLegendItemSelected:function(){if(this.get_selectionType()!=='legend-items'){return false}if(ss.isValue(this.get_ids())){return this.get_ids().length>0}return false},isNodeSelected:function(e){if(this.isEmpty||ss.isNullOrUndefined(e.node)){return false}return ss.isValue(this.$1(e.node))},findNodeSelection:function(e){return this.$1(e.node)},isNodeAncestorSelected:function(e){if(ss.isNullOrUndefined(e.node)||ss.isNullOrUndefined(e.node.columnIndices)){return false}var hM=e.node;var hN=hM.columnIndices;var hO=hM.aliasIndices;for(var hP=0;hP<hM.columnIndices.length;hP++){var hQ=ss.arrayExtract(hN,hP);var hR=ss.arrayExtract(hO,hP);if(ss.isValue(this.$2(hQ,hR,hM.axisOrientation,null,hM.duplicateIndex,hM.pageIndex))){return true}}return false},setOverriddenTupleIds:function(e,hM){if(this.$4().selectionType!=='tuples'){return}if(_.isEqual(this.$5,e)||tab.MiscUtil.isNullOrEmpty(this.$5)&&tab.MiscUtil.isNullOrEmpty(e)){return}this.$5=e;this.$3();this.raiseEvent(this.$2$1,hM)},update:function(e,hM){if(this.isNewPresModelSameAsOld(e)&&ss.isNullOrUndefined(this.$5)){return}this.$7=null;this.$6=null;this.$5=null;this.swapAndCopyPresModel(e);this.$3();this.raiseEvent(this.$2$1,hM)},isNewPresModelSameAsOld:function(e){if(ss.isNullOrUndefined(this.pm)!==ss.isNullOrUndefined(e)){return false}var hM=e;if(hM.selectionType!==this.get_selectionPresModel().selectionType){return false}if(ss.isValue(hM.objectIds)&&!_.isEqual(hM.objectIds,this.get_selectionPresModel().objectIds)){return false}if(ss.isValue(hM.selectedNodes)&&!_.isEqual(hM.selectedNodes,this.get_selectionPresModel().selectedNodes)){return false}if(ss.isValue(hM.legendSelectionInfo)&&!_.isEqual(hM.legendSelectionInfo,this.get_selectionPresModel().legendSelectionInfo)){return false}return true},$1:function(e){return this.$2(e.columnIndices,e.aliasIndices,e.axisOrientation,e.fn,e.duplicateIndex,e.pageIndex)},$2:function(e,hM,hN,hO,hP,hQ){if(ss.isNullOrUndefined(e)&&ss.isNullOrUndefined(hM)&&ss.isNullOrUndefined(hO)&&ss.isNullOrUndefined(hN)){return null}if(ss.isNullOrUndefined(this.$7)){this.$7={};var hR=this.$4();if(ss.isValue(hR.selectedNodes)){for(var hS=0;hS<hR.selectedNodes.length;hS++){var hT=hR.selectedNodes[hS];this.$7[fH.$0(hT.columnIndices,hT.aliasIndices,hT.axisOrientation,hT.fn,hT.duplicateIndex,hT.pageIndex)]=hT}}}if(ss.getKeyCount(this.$7)===0){return null}return this.$7[fH.$0(e,hM,hN,hO,hP,hQ)]},createSelectionToken:function(){return this.get_selectionPresModel()},$3:function(){this.isEmpty=tab.MiscUtil.isNullOrEmpty(this.get_ids())&&tab.MiscUtil.isNullOrEmpty(this.$4().selectedNodes)}},ey);ss.initClass(fI,a,{get_invalidateViz:function(){return this.$1$1},set_invalidateViz:function(e){this.$1$1=e},get_reason:function(){return this.$1$2},set_reason:function(e){this.$1$2=e},get_objectIds:function(){return this.$1$3},set_objectIds:function(e){this.$1$3=e}});ss.initEnum(fJ,a,{none:0,noPreviousToCompare:1,differentTuples:2,differentTrendOrRefLines:3});ss.initClass(fK,a,{add_newSelections:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newSelections:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_isEmpty:function(){for(var e=0;e<this.selectionModels.length;e++){var hM=this.selectionModels[e];if(!hM.isEmpty){return false}}return true},get_hasPaneTableObjectSelection:function(){for(var e=0;e<this.selectionModels.length;e++){var hM=this.selectionModels[e];if(!hM.isEmpty&&hM.get_selectionType()!=='legend-items'&&hM.get_selectionType()!=='nodes'){return true}}return false},get_allLegendSelections:function(){return _.filter(this.selectionModels,function(e){return e.get_selectionType()==='legend-items'})},get_brushVizForNodeSelection:function(){if(this.nodeSelection.isEmpty){return false}var e=this.nodeSelection.get_nodes();for(var hM=0;hM<e.length;hM++){var hN=e[hM];if(fM.isCategoricalAndTupleAssociatedHeader(hN)){return true}}return false},getLegendSelection:function(e,hM){var hN=_.find(this.selectionModels,function(hO){return hO.get_selectionType()==='legend-items'&&ss.isValue(hO.get_selectionPresModel())&&hO.get_selectionPresModel().legendSelectionInfo.legendType===e&&_.isEqual(hO.get_selectionPresModel().legendSelectionInfo.legendColumns,hM)});if(ss.isNullOrUndefined(hN)){hN=this.$1('legend-items',eF.get_noopContext());hN.get_selectionPresModel().legendSelectionInfo.legendType=e;hN.get_selectionPresModel().legendSelectionInfo.legendColumns=hM}return hN},update:function(e,hM){var hN=_.compact(e);var hO=[];var hP=[];for(var hQ=0;hQ<hN.length;hQ++){var hR=hN[hQ];var hS;if(hR.selectionType==='legend-items'){hS=this.getLegendSelection(hR.legendSelectionInfo.legendType,hR.legendSelectionInfo.legendColumns)}else{hS=this.$2(hR.selectionType)}if(ss.isNullOrUndefined(hS)){hS=new fH(this,this.selectionModels.length);this.selectionModels.push(hS)}var hT=parseInt(hS.presModelKey.name);hO[hT]=hR;hS.update(hR,hM);hP.push(hS.get_hashKey())}for(var hU=0;hU<this.selectionModels.length;hU++){var hV=this.selectionModels[hU];if(ss.contains(hP,hV.get_hashKey())){continue}var hW=fK.$1(hV.get_selectionType());if(hW.selectionType==='legend-items'){hW.legendSelectionInfo=hV.get_selectionPresModel().legendSelectionInfo}hV.update(hW,hM);var hX=parseInt(hV.presModelKey.name);hO[hX]=hV.get_selectionPresModel()}for(var hY=0;hY<hO.length;++hY){e[hY]=hO[hY]}var hZ=new fL;hZ.selections=e;if(this.isNewPresModelSameAsOld(hZ)){return}this.swapAndCopyPresModel(hZ);this.raiseEvent(this.$2$1,hM)},$2:function(e){return _.find(this.selectionModels,function(hM){return hM.get_selectionType()===e})},$1:function(e,hM){var hN=new fH(this,this.selectionModels.length);this.selectionModels.push(hN);var hO=fK.$1(e);hN.update(hO,hM);return hN},createSelectionsToken:function(){return this.pm},computeSelectionsDiff:function(e,hM,hN){if(ss.isNullOrUndefined(e)){return new fI(true,1,null)}var hO=fI.noDifference();for(var hP=0;hP<e.selections.length;hP++){var hQ=e.selections[hP];switch(hQ.selectionType){case'ref-lines':case'trend-lines':{var hR=hQ.objectIds||[];var hS=fK.$0(hR,this.$2(hQ.selectionType).get_ids());if(hS.length>0){return new fI(true,3,null)}break}case'tuples':{var hT=hQ.objectIds;var hU=this.tupleSelection.get_ids();var hV=(ss.isValue(hM)?hM.objectIds:[]);var hW=(ss.isValue(hN)?hN.get_ids():[]);var hX=hT.length+hV.length!==0!==(hU.length+hW.length!==0);if(hX){return new fI(true,2,null)}var hY=fK.$0(hT,hU);var hZ=fK.$0(hV,hW);var ia=[];ss.arrayAddRange(ia,hY);ss.arrayAddRange(ia,hZ);hO=new fI(false,2,Array.prototype.slice.call(ia));break}default:{break}}}return hO},hasTupleSelection:function(){if(ss.isNullOrUndefined(this.pm)){return false}var e=this.pm.selections;return _.any(e,function(hM){return hM.selectionType==='tuples'&&hM.objectIds.length>0})}},ey);ss.initClass(fL,a,{});ss.initClass(fM,a,{});ss.initClass(fN,a,{});ss.initClass(fO,a,{});ss.initClass(fP,a,{get_completedDelegate:function(){return ss.mkdel(this,this.onComplete)},get_successDelegate:function(){return ss.mkdel(this,this.onSuccess)},get_errorDelegate:function(){return ss.mkdel(this,this.onError)},onComplete:function(e,hM){try{if(ss.isValue(this.$2)){this.$2(e,hM)}}finally{this.$0()}},onSuccess:function(e,hM,hN){try{var hO=ss.isInstanceOfType(e,Error);if(hO){this.$5.$6(e,hN,false,null)}else if(hN.status===202){var hP=hN['args'];var hQ=new fQ(this.$5,hP);hQ.requestStatus();hO=true}if(!hO){if(ss.isValue(this.$4)){this.$4(e,hM,hN)}}}finally{this.$0()}},onError:function(e,hM,hN){try{if(ss.isValue(this.$3)){this.$3(e,hM,hN)}else{this.$5.$6(hN,e,false,null)}}finally{this.$0()}},$0:function(){if(this.$1){this.$1=false;this.$5.decrementWait()}}});ss.initClass(fQ,a,{requestStatus:function(){var e=ss.mkdel(this,function(hP,hQ,hR){this.$1(hQ,hR)});var hM=ss.mkdel(this,function(hP,hQ,hR){this.$0(hP,hQ)});var hN=new fP(this.$8,null,e,hM,false,false);var hO={};hO.type='GET';hO.url=this.$9;hO.cache=false;hH.helper(hO,hN)},$1:function(e,hM){if(hM.status===204){this.$6=true}this.$2(e,hM)},$0:function(e,hM){if(ss.isNullOrUndefined(this.$5.complete)){this.$5.complete(e,hM)}},$2:function(e,hM){++this.$7;if(this.$7%10===0&&this.$4<4000){this.$4*=2}if(!this.$6){window.setTimeout(ss.mkdel(this,function(){this.requestStatus()}),this.$4)}else{var hN=this.$5['skipResendOriginal'];if(ss.isValue(hN)&&hN){if(ss.isValue(this.$5.complete)){this.$5.complete(hM,e)}}else{window.setTimeout(ss.mkdel(this,function(){this.$3()}),0)}}},$3:function(){if(!this.$5.async){delete this.$5['async']}hH.helper(this.$5)}});ss.initClass(fR,a,{});ss.initClass(fS,a,{});ss.initClass(fT,a,{});ss.initClass(fU,a,{invoke:function(){return this.invoke$1(bK.newCommand('set-dashboard-current-layout',this.c))}},ss.makeGenericType(O,[Object,fV]));ss.initClass(fV,a,{});ss.initClass(fW,a,{invoke:function(){return this.invoke$1(bK.newCommand('set-dashboard-sizing-with-validation',this.c))}},ss.makeGenericType(O,[Object,fX]));ss.initClass(fX,a,{});ss.initClass(fY,a,{invoke:function(){return this.invoke$1(bK.newCommand('set-data-source-data-row-count',this.c))}},ss.makeGenericType(O,[Object,fZ]));ss.initClass(fZ,a,{});ss.initClass(ga,a,{invoke:function(){return this.invoke$1(bK.newCommand('set-variables-prompt-responded',this.c))}},ss.makeGenericType(O,[Object,gb]));ss.initClass(gb,a,{});ss.initClass(gc,a,{add_shapeLoaded:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_shapeLoaded:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},get_imageKeys:function(){return _.keys(this.$2)},getImageElement:function(e){return this.$2[e]},getCachedCanvas:function(e){return this.$1[e]},generateCachedCanvas:function(e,hM){var hN=null;if(ss.isValue(hM)){hN=hM();if(ss.isValue(hN)){this.$1[e]=hN}}return hN},getCachedStampCanvas:function(e){return this.$3[e]},generateCachedStampCanvas:function(e,hM){var hN=null;if(ss.getKeyCount(this.$3)<gc.get_canvasCacheCapacity()){if(ss.isValue(hM)){hN=hM();if(ss.isValue(hN)){this.$3[e]=hN}}}return hN},updateCustomImageMap:function(e){for(var hM=0;hM<e.length;hM++){var hN=e[hM];if(ss.isValue(hN)){var hO={$:hN.shapeId};var hP=hO.$.toString();var hQ=null;var hR={$:false};if(ss.keyExists(this.$2,hP)){hR.$=true;hQ=this.$2[hP]}var hS=hN.image;var hT={$:document.createElement('img')};hT.$.src='data:image/png;base64,'+hS;if(!hR.$||ss.isValue(hQ)&&hT.$.height>hQ.height&&hT.$.width>hQ.width){this.$2[hP]=hT.$;var hU={$:null};hU.$=ss.thisFix(ss.mkdel({doesMapContainImage:hR,shapeId:hO,imgElt:hT,imageFinishedLoad:hU,$this:this},function(){if(this.doesMapContainImage.$){ss.clearKeys(this.$this.$1)}this.$this.$0(this.shapeId.$);this.imgElt.$.removeEventListener('load',this.imageFinishedLoad.$,false)}));hT.$.addEventListener('load',hU.$,false)}}}},hasShape:function(e){return ss.keyExists(this.$2,e.toString())&&this.$2[e.toString()].complete},$0:function(e){if(!ss.staticEquals(this.$1$1,null)){this.$1$1(e)}},clearShapeStampCache:function(){ss.clearKeys(this.$3)}});ss.initClass(gd,a,{get_palette:function(){return this.$0},get_shapeType:function(){return this.$1},equals$1:function(e){return ss.isValue(e)&&ss.referenceEquals(this.$0,e.$0)&&this.$1===e.$1},toString:function(){if(ss.isNullOrUndefined(this.$0)){return this.get_shapeType().toString()}return':'+this.get_palette()+'/'+this.get_shapeType()}});ss.initClass(ge,a,{});ss.initClass(gf,a,{get_isDashboard:function(){return this.pm.isDashboard},get_isIncluded:function(){return this.pm.isIncluded},get_name:function(){return this.pm.name},update:function(e){this.swapAndCopyPresModel(e)}},ey);ss.initClass(gg,a,{add_sheetListUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_sheetListUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_sheets:function(){return this.$2},update:function(e,hM){if(ss.isValue(e.sheetListItems)){this.$2=[];for(var hN=0;hN<e.sheetListItems.length;hN++){var hO=new gf(this.$1,hN);hO.update(e.sheetListItems[hN]);this.$2.push(hO)}}this.simpleSwapToUpdate(e,this.$2$1,hM)}},ey);ss.initClass(gh,a,{get_visualId:function(){return eB.getVisualId(this.sheetId)},requestHSMChildren:function(e,hM,hN,hO){if(!tsConfig.allow_filter){return}var hP=function(hV,hW,hX){hN(hV)};var hQ=this.$0(null,hP,null,'none');var hR=new Object;hR['name']='file';hR['filename']='file';hR['contentType']='text/javascript';hR['content']=JSON.stringify(hM);var hS=ss.mkdict(['_method','PUT']);var hT=hH.getMultipartData(hR,hS);var hU={};hU.type='POST';hU.url=this.formatFilterReference(this.sheetId,e,'show_children');hU.dataType='json';hU.contentType='multipart/form-data; boundary='+hT.header;hU.data=hT.body;this.$b(hU,hQ)},getFilterItems:function(e,hM,hN,hO,hP){if(!tsConfig.allow_filter){return}var hQ=function(hU,hV,hW){hO(hU)};var hR=this.$0(null,hQ,null,'none');var hS={};hS['fromIndex']=hN.get_from();hS['toIndex']=hN.get_to();hS['domain']=hM;var hT=this.basicGetOpts(this.formatFilterReference(this.sheetId,e,'getfilteritems'));hT.data=hS;this.$b(hT,hR)},searchFilter:function(e,hM,hN,hO,hP,hQ,hR){if(!tsConfig.allow_filter){return null}var hS=function(hY,hZ,ia){var ib=hY;hQ(ib)};var hT=function(hY,hZ,ia){hR(ia)};var hU=this.$0(null,hS,hT,'none');var hV=(hO?'searchwithindex':'search');var hW=this.basicGetOpts(this.formatFilterReference(this.sheetId,e,hV));var hX=ss.mkdict(['query',hM,'maxRows',hN,'domain',hP]);hW.data=hX;return this.$b(hW,hU)}},P);ss.initClass(gi,a,{},ey);ss.initClass(gj,a,{},ey);ss.initClass(gk,a,{add_shelfChanged:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_shelfChanged:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_paneId:function(){return(ss.isValue(this.$1().paneSpec)?this.$1().paneSpec:0)},get_shelfType:function(){return this.$1().shelfType},get_pills:function(){return this.$2},get_tooltip:function(){return tableau.format.stripFormattedText(this.$1().tooltip)},get_isVisible:function(){return this.$1().showShelf},get_sortPillCanBeDragged:function(){return this.$1().sortPillCanBeDragged},$1:function(){return this.pm},getMutableCopyOfPresModel:function(){return this.getMutableCopyOfPresModelInternal(true)},update:function(e,hM,hN){if(this.isNewPresModelSameAsOld(e)){return}if(e.shelfItems===null){this.$2=[]}else if(ss.isValue(e.shelfItems)){var hO=[];var hP=new gi(this);for(var hQ=0;hQ<e.shelfItems.length;hQ++){var hR=e.shelfItems[hQ];var hS=hR.fn;var hT;if(ss.isNullOrEmptyString(hS)&&e.shelfType==='encoding-shelf'){hT=new eE}else{hT=hM.findField(hS)}if(ss.isNullOrUndefined(hT)){hR.isInvalid=true}if(hR.isInvalid){var hU=new cQ(new cT('',hM.findDataSourceFromGlobalFieldName(hS)));var hV={type:'column',fn:hS,description:hS,fieldIconIdx:0};hU.update(hV);hT=hU}var hW=new eW(hP,hQ);hW.update(hR,hT);hO.push(hW)}this.$2=hO}this.swapAndCopyPresModel(e);this.raiseEvent$1(gk).call(this,this.$2$1,this,hN)}},ey);ss.initClass(gl,a,{add_newShelves:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newShelves:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_shelves:function(){return this.$3},findShelf:function(e){return this.$2(this.$3,e)},update:function(e,hM,hN,hO){if(this.isNewPresModelSameAsOld(e)){return}this.swapAndCopyPresModel(e);this.$1(e,hM,hN,hO);this.raiseEvent(this.$2$1,hO)},$1:function(e,hM,hN,hO){if(ss.isValue(e)){var hP=ss.arrayClone(this.$3);for(var hQ=0;hQ<e.shelfList.length;hQ++){var hR={$:e.shelfList[hQ]};if(ss.isNullOrUndefined(hR.$.paneSpec)&&ss.isValue(hN)){hR.$.paneSpec=ss.unbox(hN)}var hS=_.find(this.$3,ss.mkdel({shelf:hR},function(hV){return hV.get_shelfType()===this.shelf.$.shelfType&&hV.get_paneId()===(this.shelf.$.paneSpec||0)}));if(ss.isValue(hS)){ss.remove(hP,hS);hS.update(hR.$,hM,hO)}else{this.$3.push(gl.createShelfModel(this,hR.$,hM,hQ,hO))}}for(var hT=0;hT<hP.length;hT++){var hU=hP[hT];ss.remove(this.$3,hU)}}},$2:function(e,hM){return _.find(e,function(hN){return hN.get_shelfType()===hM})}},ey);ss.initClass(gm,a,{invoke:function(){return this.invoke$1(bK.newCommand('show-dashboard-title',this.c))}},ss.makeGenericType(O,[Object,gn]));ss.initClass(gn,a,{});ss.initClass(go,a,{invoke:function(){return this.invoke$1(bK.newCommand('show-edit-axis-dialog',this.c))}},ss.makeGenericType(O,[Object,gp]));ss.initClass(gp,a,{});ss.initClass(gq,a,{get_simpleCommand:function(){return this.$0['simpleCommand'.toString()]},set_simpleCommand:function(e){this.$0['simpleCommand'.toString()]=e}});ss.initClass(gr,a,{add_sizeInfoUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_sizeInfoUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_name:function(){return this.pm.name},get_width:function(){return this.pm.w},get_height:function(){return this.pm.h},update:function(e,hM){this.simpleSwapToUpdate(e,this.$2$1,hM)}},ey);ss.initClass(gs,a,{add_newSortIndicators:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newSortIndicators:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_sortIndicatorsPresModel:function(){return this.pm},update:function(e,hM){this.simpleSwapToUpdate$1(Object).call(this,e,this.$2$1,e,hM)}},ey);ss.initClass(gt,a,{});ss.initClass(gv,a,{invoke:function(){return this.invoke$1(bK.newCommand('start-new-data-alert',this.c))}},ss.makeGenericType(O,[Object,gw]));ss.initClass(gw,a,{});ss.initClass(gx,a,{});ss.initClass(gy,a,{add_dashboardDisposal:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_dashboardDisposal:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_newStoryPoint:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_newStoryPoint:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_dashboardModel:function(){return this.$4},get_isBackingSheetDashboard:function(){return this.$3().isBackingSheetDashboard},$3:function(){return this.pm},get_storyPointId:function(){return this.$3().storyPointId},get_currentSheet:function(){return this.$3().currentSheet},update:function(e,hM){if(ss.isValue(this.$3())&&(ss.isNullOrEmptyString(this.get_currentSheet())||this.get_storyPointId()!==e.storyPointId||this.$1(e))){N.get_instance().get_shapeManager().clearShapeStampCache();this.presModelKey=new fd(e.storyPointId.toString(),0);if(ss.isValue(this.$4)){this.raiseEvent(this.$2$1,hM);this.$4=null}this.$4=new ca(this);this.$2(e.dashboardPresModel,hM);this.raiseEvent(this.$2$2,hM)}else{this.$2(e.dashboardPresModel,hM)}this.swapPresModel(e)},$2:function(e,hM){if(ss.isValue(e)){this.get_dashboardModel().update(e,hM)}},$1:function(e){return ss.isNullOrEmptyString(e.currentSheet.toString())&&!ss.isNullOrEmptyString(this.get_currentSheet())}},ey);ss.initClass(gz,a,{get_currentStoryPoint:function(){return this.$1},update:function(e,hM){if(!ss.isValue(this.$1)){this.$1=new gy(this,e.storyPointId)}this.$1.update(e,hM)}},ey);ss.initClass(gA,a,{hasStoryPoint:function(e){return this.$3.has(e.toString())},getStoryPoint:function(e){var hM=this.$3.get(e.toString());return hM.$0()},addStoryPoint:function(e,hM){this.$3.add(e.toString(),new x(hM))},$0:function(e){var hM=e.get_worldUpdateCommand();var hN=e.get_applicationPresModel();var hO=e.get_sheetChanged();if(this.$2(hN,hO)){this.$1()}if(!gA.$3(hN)){return}if(!_.contains(gA.$5.value(),hM.commandName)){return}var hP=gA.$1(hN);if(ss.isNullOrUndefined(hP)){return}var hQ=hP.storyPointId.toString();this.$3.add(hQ,new x(hP))},$2:function(e,hM){if(gA.$2(e)){return false}if(!e.workbookPresModel.dashboardPresModel.isStory||hM){return true}return false},$1:function(){this.$3.clear();gA.$4=null},dispose:function(){this.$1();hF.get().remove_onCommandResponse(ss.mkdel(this,this.$0))}},null,[ss.IDisposable]);ss.initClass(gB,a,{add_styleUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_styleUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_styledBoxPresModel:function(){return ss.coalesce(this.pm,new Object)},get_hasFill:function(){return ss.coalesce(this.get_styledBoxPresModel().hasFill,false)},get_fillColor:function(){return ss.coalesce(this.get_styledBoxPresModel().fillColor,'rgba(0, 0, 0, 0)')},get_margin:function(){return this.$1.get_defaultValue()},get_marginTop:function(){return this.$1.get_topValue()},get_marginLeft:function(){return this.$1.get_leftValue()},get_marginBottom:function(){return this.$1.get_bottomValue()},get_marginRight:function(){return this.$1.get_rightValue()},get_marginDefinition:function(){return new ev.$ctor1(this.get_styledBoxPresModel())},get_padding:function(){return this.$2.get_defaultValue()},get_paddingTop:function(){return this.$2.get_topValue()},get_paddingLeft:function(){return this.$2.get_leftValue()},get_paddingBottom:function(){return this.$2.get_bottomValue()},get_paddingRight:function(){return this.$2.get_rightValue()},get_paddingDefinition:function(){return new eJ.$ctor1(this.get_styledBoxPresModel())},get_borderStyle:function(){return ss.coalesce(this.get_styledBoxPresModel().borderStyle,'bs-none')},get_borderStyleTop:function(){return ss.coalesce(this.get_styledBoxPresModel().borderStyleTop,this.get_borderStyle())},get_borderStyleLeft:function(){return ss.coalesce(this.get_styledBoxPresModel().borderStyleLeft,this.get_borderStyle())},get_borderStyleBottom:function(){return ss.coalesce(this.get_styledBoxPresModel().borderStyleBottom,this.get_borderStyle())},get_borderStyleRight:function(){return ss.coalesce(this.get_styledBoxPresModel().borderStyleRight,this.get_borderStyle())},get_borderColor:function(){return ss.coalesce(this.get_styledBoxPresModel().borderColor,'rgba(0, 0, 0, 0)')},get_borderColorTop:function(){return ss.coalesce(this.get_styledBoxPresModel().borderColorTop,this.get_borderColor())},get_borderColorLeft:function(){return ss.coalesce(this.get_styledBoxPresModel().borderColorLeft,this.get_borderColor())},get_borderColorBottom:function(){return ss.coalesce(this.get_styledBoxPresModel().borderColorBottom,this.get_borderColor())},get_borderColorRight:function(){return ss.coalesce(this.get_styledBoxPresModel().borderColorRight,this.get_borderColor())},get_borderWidth:function(){return ss.coalesce(this.get_styledBoxPresModel().uw,0)},get_borderWidthTop:function(){return ss.coalesce(this.get_styledBoxPresModel().uwt,this.get_borderWidth())},get_borderWidthLeft:function(){return ss.coalesce(this.get_styledBoxPresModel().uwl,this.get_borderWidth())},get_borderWidthBottom:function(){return ss.coalesce(this.get_styledBoxPresModel().uwb,this.get_borderWidth())},get_borderWidthRight:function(){return ss.coalesce(this.get_styledBoxPresModel().uwr,this.get_borderWidth())},get_border:function(){return new Q(this.get_borderWidth(),this.get_borderStyle(),this.get_borderColor(),0)},get_borderTop:function(){return new Q(this.get_borderWidthTop(),this.get_borderStyleTop(),this.get_borderColorTop(),1)},get_borderLeft:function(){return new Q(this.get_borderWidthLeft(),this.get_borderStyleLeft(),this.get_borderColorLeft(),2)},get_borderBottom:function(){return new Q(this.get_borderWidthBottom(),this.get_borderStyleBottom(),this.get_borderColorBottom(),4)},get_borderRight:function(){return new Q(this.get_borderWidthRight(),this.get_borderStyleRight(),this.get_borderColorRight(),3)},update:function(e,hM){if(this.isNewPresModelSameAsOld(e)){return}this.pm=e;this.$2=new eJ.$ctor1(this.get_styledBoxPresModel());this.$1=new ev.$ctor1(this.get_styledBoxPresModel());this.raiseEvent(this.$2$1,hM)}},ey);ss.initClass(gC,a,{get_nestingLevel:function(){return this.$1},get_fieldName:function(){return this.$0},update:function(e){if(ss.isNullOrUndefined(e)){this.$1='primary';this.$0='';return}this.$1=e.calcNestingLevel;this.$0=e.fn}});ss.initClass(gD,a,{add_modelUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_modelUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},$2:function(){return this.pm},get_hasTableCalc:function(){return ss.isValue(this.pm)},get_tableCalcTypeWidgetState:function(){return this.$2().tableCalcTypeState},get_tableCalcType:function(){return(this.get_hasTableCalc()?this.get_tableCalcTypeValues()[this.get_tableCalcTypeIndex()]:'none')},get_tableCalcTypeIndex:function(){return this.$2().tableCalcTypeIndex},get_tableCalcTypeCaptions:function(){return this.$2().tableCalcTypeCaptions},get_tableCalcTypeValues:function(){return this.$2().tableCalcTypeValues},get_typeSpecificTableCalcModel:function(){return this.$4},get_tableCalcOrderingModel:function(){return this.$3},get_tableCalcIdentifier:function(){return this.$2$2},set_tableCalcIdentifier:function(e){this.$2$2=e},update:function(e,hM){var hN=e;if(this.isNewPresModelSameAsOld(hN)){return}this.swapAndCopyPresModel(hN);if(this.get_hasTableCalc()){this.get_tableCalcIdentifier().update(hN.tableCalcIdentifier);this.$3.update(hN.tableCalcOrderingPresModel,hM);this.$1(hM)}else{this.get_tableCalcIdentifier().update(null);this.$3.update(null,hM)}this.raiseEvent(this.$2$1,hM)},$1:function(e){var hM=null;var hN=null;switch(this.get_tableCalcType()){case'diff':case'pct-diff':case'pct-value':{hM=cF;hN='differenceTableCalcPresModel'.toString();break}case'pct-total':{hM=eU;hN='percentTotalTableCalcPresModel'.toString();break}case'rank':case'pct-rank':{hM=fn;hN='rankTableCalcPresModel'.toString();break}case'cumulative':{hM=bW;hN='cumulativeTableCalcPresModel'.toString();break}case'window':{hM=hw;hN='windowTableCalcPresModel'.toString();break}case'custom':{hM=bY;hN='customTableCalcPresModel'.toString();break}default:{break}}if(ss.isNullOrUndefined(hM)){this.$4=null;return}if(ss.isNullOrUndefined(this.$4)||!ss.referenceEquals(ss.getInstanceType(this.$4),hM)){this.$4=new hM(this)}this.$4.update(gD.$0(this.$2(),hN),e)}},ey);ss.initClass(gE,a,{add_modelUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_modelUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_orderingTypeValues:function(){return this.get_ordering().orderingTypeValues},get_orderingTypeIndex:function(){return this.get_ordering().orderingTypeIndex},get_orderingTypeCaptions:function(){return this.get_ordering().orderingTypeCaptions},get_addressingIndexes:function(){return this.get_ordering().addressingIndices},get_addressingInvalidIndexes:function(){return this.get_ordering().addressingInvalidIndices},get_addressingCaptions:function(){return this.get_ordering().addressingCaptions},get_addressingValues:function(){return this.get_ordering().addressingValues},get_addressingState:function(){return this.get_ordering().addressingState},get_atTheLevelState:function(){return this.get_ordering().atTheLevelState},get_atTheLevelCaptions:function(){return this.get_ordering().atTheLevelCaptions},get_atTheLevelValues:function(){return this.get_ordering().atTheLevelValues},get_atTheLevelIndex:function(){return this.get_ordering().atTheLevelIndex},get_isAtTheLevelFieldInvalid:function(){return this.get_ordering().atTheLevelFieldIsInvalid},get_atTheLevelInvalidFieldCaption:function(){return this.get_ordering().atTheLevelInvalidFieldCaption},get_atTheLevelSpecialCaption:function(){return this.get_ordering().atTheLevelSpecialCaption},get_atTheLevelSpecialValue:function(){return''},get_atTheLevelValue:function(){return((this.get_atTheLevelIndex()===-1)?this.get_atTheLevelSpecialValue():this.get_atTheLevelValues()[this.get_atTheLevelIndex()])},get_restartEveryState:function(){return this.get_ordering().restartEveryState},get_restartEveryCaptions:function(){return this.get_ordering().restartEveryCaptions},get_restartEveryIndex:function(){return this.get_ordering().restartEveryIndex},get_isRestartEveryFieldInvalid:function(){return this.get_ordering().restartEveryFieldIsInvalid},get_restartEveryValues:function(){return this.get_ordering().restartEveryValues},get_restartEverySpecialCaption:function(){return this.get_ordering().restartEverySpecialCaption},get_restartEverySpecialValue:function(){return''},get_restartEveryValue:function(){return((this.get_restartEveryIndex()===-1)?this.get_restartEverySpecialValue():this.get_restartEveryValues()[this.get_restartEveryIndex()])},get_sortState:function(){return this.get_ordering().sortState},get_sortAggState:function(){return this.get_ordering().sortAggState},get_sortModeIsAuto:function(){return this.get_ordering().sortModeIsAuto},get_sortModeCaption:function(){return this.get_ordering().sortModeCaption},get_sortField:function(){if(this.get_ordering().sortModeIsAuto){return null}return this.get_ordering().sortFieldValues[this.get_ordering().sortFieldIndex]},get_isSortFieldInvalid:function(){return this.get_ordering().sortFieldIsInvalid},get_sortFieldCaptions:function(){return this.get_ordering().sortFieldCaptions},get_sortFieldIndex:function(){return this.get_ordering().sortFieldIndex},get_sortFieldValues:function(){return this.get_ordering().sortFieldValues},get_sortAgg:function(){if(this.get_ordering().sortModeIsAuto){return null}return this.get_ordering().sortAggValues[this.get_ordering().sortAggIndvValues]},get_sortAggCaptions:function(){return this.get_ordering().sortAggCaptions},get_sortAggIndex:function(){return this.get_ordering().sortAggIndvValues},get_sortAggValues:function(){return this.get_ordering().sortAggValues},get_sortDirectionValues:function(){return this.get_ordering().sortDirectionValues},get_sortDirectionIndex:function(){return this.get_ordering().sortDirectionIndex},get_sortDirectionCaptions:function(){return this.get_ordering().sortDirectionCaptions},get_ordering:function(){return(ss.isValue(this.pm)?this.pm:null)},get_hasOrdering:function(){return ss.isValue(this.get_ordering())},get_tableCalcIdentifier:function(){return(ss.isNullOrUndefined(this.parent)?new gC(null):this.parent.get_tableCalcIdentifier())},update:function(e,hM){this.simpleSwapToUpdate(e,this.$2$1,hM)}},ey);ss.initClass(gF,a,{add_modelUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_modelUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_relativeValues:function(){return this.pm.relativeValues},get_relativeCaptions:function(){return this.pm.relativeCaptions},get_fixedValues:function(){return this.pm.fixedValues},get_fixedCaptions:function(){return this.pm.fixedCaptions},get_paramValues:function(){return this.pm.paramValues},get_paramCaptions:function(){return this.pm.paramCaptions},get_referenceOptionsSets:function(){return this.pm.referenceOptionsSets},get_selectionIndex:function(){return this.pm.referenceIndex},get_referenceWidgetState:function(){return this.pm.referenceOptionsState},get_tableCalcIdentifier:function(){var e=this.parent;return(ss.isNullOrUndefined(e)?new gC(null):e.get_tableCalcIdentifier())},update:function(e,hM){this.simpleSwapToUpdate(e,this.$2$1,hM)}},ey);ss.initClass(gG,a,{});ss.initClass(gH,a,{add_newText:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newText:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_hAlign:function(){return this.pm.halign},get_html:function(){return this.pm.html},get_orientation:function(){return this.pm.orientation},get_styledBox:function(){return this.pm.styledBox},get_vAlign:function(){return this.pm.valign},update:function(e,hM){db.notifyFontsFromTextRegionPresModel(e);this.simpleSwapToUpdate(e,this.$2$1,hM)}},ey);ss.initClass(gI,a,{invoke:function(){return this.invoke$1(bK.newCommand('toggle-ind-join-semantics',this.c))}},ss.makeGenericType(O,[Object,gJ]));ss.initClass(gJ,a,{});ss.initClass(gK,a,{},ss.makeGenericType(hs,[Object,gL]));ss.initClass(gL,a,{});ss.initClass(gM,a,{add_newToolbar:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newToolbar:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_vizCommandItems:function(){var e=null;if(ss.isValue(this.pm)){var hM=bI.create(this.pm.vizCommands);e=hM.get_commandItems()}return e},get_nonVizCommandItems:function(){if(ss.isNullOrUndefined(this.pm)){return null}var e=bI.create(this.pm.nonVizCommands);return e.get_commandItems()},get_legacyMenuItems:function(){return this.pm.legacyMenus},update:function(e,hM){if(ss.isValue(e)){this.simpleSwapToUpdate(e,this.$2$1,hM)}},isLegacyMenuItemEnabled:function(e){if(ss.isNullOrUndefined(this.get_legacyMenuItems())){return false}var hM=_.find(this.get_legacyMenuItems(),function(hN){return hN.legacyMenuName===e});return ss.isValue(hM)&&_.every(hM.legacyMenuStates,function(hN){return hN!=='grayed'})}},ey);ss.initClass(gN,a,{});ss.initClass(gO,a,{$0:function(){return this.$1},get_transactedChange:function(){return gO.$0(this.$2)},makeMutablePresModel:function(e,hM){var hN=e.getPresModelPath();for(var hO=0;hO<this.$2.length;hO++){var hP=this.$2[hO];if(_.isEqual(hP.$1(),hN)){return hP.$0()}}var hQ=e.getMutableCopyOfPresModel();this.$2.push(new p(hN,hQ));if(!hM){this.$1.push(new p(hN,e.pm))}return hQ}});ss.initClass(gP,a,{beginTransaction:function(e){if(ss.isValue(this.$1)){throw new ss.Exception('Internal error: nested transaction')}this.$1=new gO(e);return this.$1},rollbackTransaction:function(){this.$1=null},endTransaction:function(){var e=ss.getEnumerator(this.$1.$0());try{while(e.moveNext()){var hM=e.current();if(!ss.keyExists(this.$0,hM.$1().get_pathAsString())){this.$0[hM.$1().get_pathAsString()]=hM}}}finally{e.dispose()}var hN=this.$1.get_transactedChange();this.$1=null;return hN},resetTransactedState:function(){ss.clearKeys(this.$0)},rollbackTransactions:function(e){if(ss.getKeyCount(this.$0)>0){N.get_instance().update(gO.$0(_.values(this.$0)),e)}}});ss.initClass(gR,a,{get_itemCount:function(){return this.$1().get_commandItems().length},get_hasItems:function(){return this.get_itemCount()>0},get_defaultItem:function(){return this.$1().get_defaultItem()},$1:function(){return bI.create(this.get_wrappedCommandItemPresModel().get_commands())}},by,[dL]);ss.initClass(gT,a,{});ss.initClass(gU,a,{});ss.initClass(gV,a,{invoke:function(){return this.invoke$1(bK.newCommand('update-data-alert',this.c))}},ss.makeGenericType(O,[Object,gW]));ss.initClass(gW,a,{});ss.initClass(gX,a,{});ss.initEnum(gY,a,{success:'success',urlConstructionFail:'urlConstructionFail',notEnoughInfoYet:'notEnoughInfoYet'},true);ss.initClass(gZ,a,{});ss.initClass(ha,a,{update:function(e){this.pm=e}},ey);ss.initClass(hb,a,{get_viewId:function(){return this.viewid},set_viewId:function(e){if(ss.referenceEquals(this.viewid,e)){return}this.viewid=e},$l:function(e){return this.formatViewMethod(this.viewid,'region')+'?r='+e},formatRegionTileURL:function(e,hM,hN){if(e.useUrl){return this.formatTileURL(e,hM,0,0,'',hN)}return this.$l(hM)+'&'+hN},$k:function(e,hM){var hN='';if(!tab.MiscUtil.isNullOrEmpty$1(hM)){hN='&fn='+encodeURIComponent(hM)}return this.formatViewMethod(this.viewid,'region')+'?r='+e+hN},formatLegendRegionTileURL:function(e,hM,hN,hO,hP){hO=(ss.isNullOrUndefined(hO)?'':hO);if(e.useUrl){return this.formatTileURL(e,hM+hO,0,0,hN,hP)}return this.$k(hM,hN)+'&'+hP},formatTileURL:function(e,hM,hN,hO,hP,hQ){if(e.useUrl){var hR=e.url;var hS;if(!tab.MiscUtil.isNullOrEmpty$1(hP)){hS='?fn='+encodeURIComponent(hP)+'&'+hQ}else{hS='?='+hQ}return ss.replaceAllString(ss.replaceAllString(ss.replaceAllString(ss.replaceAllString(hR,'%SESSIONID%',tsConfig.sessionid),'[r]',hM),'[x]',hN.toString()),'[y]',hO.toString())+hS}var hT=this.formatViewMethod(this.viewid,'tile');return hT+'?r='+hM+'&x='+hN+'&y='+hO+'&'+hQ},formatUnderlyingDataURL:function(e){var hM=new ss.StringBuilder(this.formatViewMethod(this.viewid,'viewData'));hM.append('?maxrows=200');if(ss.isValue(e)){hM.append('&select_x=').append(e.x);hM.append('&select_y=').append(e.y)}return hM.toString()},formatExportCrossTabURL:function(e){if(ss.isNullOrUndefined(e)){e='utf8'}return this.formatViewMethod(this.viewid,'exportcrosstab')+'?charset='+e},executeAction:function(e,hM,hN){if(e.get_commandType()===9){this.executeCommand(e)}else{var hO=bK.newCommand('run-action',e.command.commandParams);fO.executeServerCommand(hO,'immediately',hM,hN)}},executeCommand:function(e){if(ss.isNullOrUndefined(e)){return}switch(e.get_commandType()){case 9:{var hM={};hM.url=e.command.commandParams.url;hM.target=e.command.commandParams.target;I.launchActionUrls([hM],this.get_commonDialogProvider());break}case 7:{var hN=null;if(ss.isValue(e.command)&&ss.isValue(e.command.commandParams)&&ss.keyExists(e.command.commandParams,'selectAtPoint')){var hO=JSON.parse(e.command.commandParams['selectAtPoint']);hN=tab.PointUtil.fromPresModel(hO)}window.open(this.formatUnderlyingDataURL(hN),this.getWindow('vud'),'scrollbars,resizable');break}case 1:case 2:case 4:case 6:case 11:case 12:case 10:case 13:{break}default:{break}}}},gh);ss.initClass(hc,a,{});ss.initClass(he,a,{add_newVisualList:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newVisualList:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_visualListPresModel:function(){return this.pm},get_groupItemNodes:function(){if(ss.isNullOrUndefined(this.$1)){this.$1=[];var e=this.get_visualListPresModel().drawItems;for(var hM=0;hM<e.length;hM++){var hN=e[hM];if(hN.type==='draw-group'){this.$1.push(hN)}}}return this.$1},update:function(e,hM){db.notifyFontsFromVisualListPresModel(e);if(this.isNewPresModelSameAsOld(e)){return}this.$1=null;this.swapAndCopyPresModel(e);this.raiseEvent(this.$2$1,hM)}},ey);ss.initClass(hf,a,{add_newVisual:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newVisual:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_newHiddenTuples:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_newHiddenTuples:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_newFilteredTuples:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_newFilteredTuples:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_urlInfoCacheChange:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_urlInfoCacheChange:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},add_visualValidStateChanged:function(e){this.$2$5=ss.delegateCombine(this.$2$5,e)},remove_visualValidStateChanged:function(e){this.$2$5=ss.delegateRemove(this.$2$5,e)},add_brushingFromActionChanged:function(e){this.$2$6=ss.delegateCombine(this.$2$6,e)},remove_brushingFromActionChanged:function(e){this.$2$6=ss.delegateRemove(this.$2$6,e)},add_colorDictionaryChanged:function(e){this.$2$7=ss.delegateCombine(this.$2$7,e)},remove_colorDictionaryChanged:function(e){this.$2$7=ss.delegateRemove(this.$2$7,e)},add_vizNavigationSettingChanged:function(e){this.$2$8=ss.delegateCombine(this.$2$8,e)},remove_vizNavigationSettingChanged:function(e){this.$2$8=ss.delegateRemove(this.$2$8,e)},add_emptyHighlightFogAllChanged:function(e){this.$2$9=ss.delegateCombine(this.$2$9,e)},remove_emptyHighlightFogAllChanged:function(e){this.$2$9=ss.delegateRemove(this.$2$9,e)},get_worksheetName:function(){return this.get_visualId().worksheet},get_visualId:function(){return this.pm.visualIdPresModel},get_containerGeometry:function(){return this.get_zone().get_zoneCommonModel().get_zoneContentRectXY()},get_tooltipMode:function(){return this.pm.tooltipMode},get_scenePresModel:function(){return this.pm.scene},get_shelves:function(){return this.$q},get_analyticsModel:function(){return this.$9},get_marksCardModel:function(){return this.$n},get_selectionsModel:function(){return this.$p},get_impliedSelectionModel:function(){return this.$k},get_brushingsModel:function(){return this.$b},get_showMeModel:function(){return this.$r},get_sceneModel:function(){return this.$o},get_labelsModel:function(){return this.$l},get_mapServerModel:function(){return this.$m},get_filters:function(){return _.values(this.$f)},get_filterModels:function(){return this.$f},get_geometryModel:function(){return this.$i},get_sortIndicatorsModel:function(){return this.$s},get_vizDataModel:function(){return this.$v},get_titleModel:function(){return this.$t},get_captionModel:function(){return this.$d},get_hiddenTuples:function(){return this.$8},get_filteredTuples:function(){return this.$7},get_isMap:function(){return this.pm.isMap},get_hasBackgroundImage:function(){return this.pm.hasBackgroundImage},get_floatingToolbarVisibility:function(){return this.pm.floatingToolbarVisibility},get_geoSearchVisibility:function(){return this.pm.geographicSearchVisibility},get_vizNavigationSetting:function(){return this.pm.vizNavigationSetting},get_defaultMapTool:function(){return this.pm.defaultMapToolEnum},get_cacheUrlInfo:function(){return this.$c},get_hasModifiedAxes:function(){return this.pm.hasModifiedAxes},get_backgroundColor:function(){return this.pm.bgColor},get_paneBGColor:function(){return this.pm.paneColor},get_headerBGColor:function(){return this.pm.headerColor},get_shouldUpdate:function(){return N.get_instance().get_autoUpdate()},get_invalidSheets:function(){var e=eB.findContentDashboard();return e.get_invalidSheets()},get_isVisualValid:function(){return this.$u},get_isBrushedFromAction:function(){return this.$a},get_emptyHighlightFogAll:function(){return this.$e},get_zone:function(){var e=ss.safeCast(this.parent,hJ);return e.get_zone()},setIsVisualValid:function(e,hM){if(this.pm.valid&&e!==this.$u){this.$u=e;this.raiseEvent(this.$2$5,hM)}},setIsBrushedFromAction:function(e,hM){if(this.$a!==e){this.$a=e;this.raiseEvent(this.$2$6,hM)}},setEmptyHighlightFogAll:function(e,hM){if(this.$e!==e){this.$e=e;this.raiseEvent(this.$2$9,hM)}},vizDataContainsDuplicateCaption:function(e){if(ss.isNullOrUndefined(this.get_vizDataModel())){return false}return _.filter(this.get_vizDataModel().get_fieldCaptions(),function(hM){return ss.referenceEquals(hM,e)}).length>1},setFilteredTuples:function(e,hM){this.$g.set(e,hM);var hN=new Map;this.$g.forEach(function(hP){for(var hQ=0;hQ<hP.length;hQ++){var hR=hP[hQ];hN.set(hR.toString(),hR)}});var hO=this.$7.size!==hN.size;if(!hO){tab.MapUtility.forEachWithInterrupt$1(String,ss.Int32).call(null,this.$7,function(hP,hQ){if(!hN.has(hQ)){hO=true;throw new tab.LoopBreakException}})}if(hO){this.$7=hN;if(ss.isValue(this.$2$3)){this.$2$3()}}},setHiddenTuples:function(e,hM){this.$j.set(e,hM);var hN=new Map;this.$j.forEach(function(hP){for(var hQ=0;hQ<hP.length;hQ++){var hR=hP[hQ];hN.set(hR.toString(),hR)}});var hO=this.$8.size!==hN.size;if(!hO){tab.MapUtility.forEachWithInterrupt$1(String,ss.Int32).call(null,this.$8,function(hP,hQ){if(!hN.has(hQ)){hO=true;throw new tab.LoopBreakException}})}if(hO){this.$8=hN;if(ss.isValue(this.$2$2)){this.$2$2()}}},getMutableCopyOfPresModel:function(){var e=this.pm.scene;var hM=this.pm.markLabels;var hN=this.pm.vizData;delete this.pm['scene'.toString()];delete this.pm['vizData'.toString()];delete this.pm['markLabels'.toString()];var hO=ey.prototype.getMutableCopyOfPresModel.call(this);this.pm.scene=e;this.pm.vizData=hN;this.pm.markLabels=hM;return hO},reValidate:function(e){if(this.get_isVisualValid()!==this.pm.valid){this.$u=this.pm.valid;this.raiseEvent(this.$2$5,e)}},update:function(e,hM){hf.$0(e);if(ss.isNullOrUndefined(this.$q)){this.$q=new gl(this)}if(ss.isValue(e.shelves)){var hN=this.$2(e);this.$q.update(e.shelves,N.get_instance().get_workbook().get_dataSchema(),hN,hM)}if(ss.isValue(e.analyticsPane)){if(ss.isNullOrUndefined(this.$9)){this.$9=new L(this)}this.$9.update(e.analyticsPane,hM)}if(ss.isValue(e.vizData)){if(ss.isNullOrUndefined(this.$v)){this.$v=new hj(this)}this.$v.update(e.vizData,hM)}if(ss.isNullOrUndefined(this.$o)){this.$o=new fA(this)}if(ss.isValue(e.scene)){if(ss.isValue(this.$j)){var hO=this.$8.size>0;this.$j=new Map;this.$8=new Map;if(hO){this.raiseEvent(this.$2$2,hM)}}if(ss.isValue(this.$g)){var hP=this.$7.size>0;this.$g=new Map;this.$7=new Map;if(hP){this.raiseEvent(this.$2$3,hM)}}this.$o.update(e.scene,hM)}if(ss.isValue(e.colorDictionary)&&ss.isValue(this.pm)){if(!_.isEqual(this.pm.colorDictionary,e.colorDictionary)){this.raiseEvent(this.$2$7,hM)}}if(ss.isValue(e.vizNavigationSetting)&&ss.isValue(this.pm)){if(!_.isEqual(this.pm.vizNavigationSetting,e.vizNavigationSetting)){this.raiseEvent(this.$2$8,hM)}}if(ss.isNullOrUndefined(this.$l)){this.$l=new fA(this)}if(ss.isValue(e.markLabels)){this.$l.update(e.markLabels,hM)}if(ss.isNullOrUndefined(this.$n)){this.$n=new ew(this)}if(ss.isValue(e.marksCardPresModel)){this.$n.update(e.marksCardPresModel,hM)}if(ss.isValue(e.selectionList)&&e.selectionList.length>0){this.$p.update(e.selectionList,hM)}if(ss.isValue(e.brushingSelectionList)){this.$b.update(e.brushingSelectionList,hM)}this.$4(this.$p.nodeSelection.get_nodes(),hM);if(!ss.isValue(this.$r)){this.$r=new bH(this)}if(ss.isValue(e.showMeCommands)){this.$r.update(e.showMeCommands,hM)}if(ss.isNullOrUndefined(this.$m)){this.$m=new eu(this)}if(ss.isValue(e.mapServer)||!e.isMap){var hQ=(e.isMap?e.mapServer:null);this.$m.update(hQ,hM)}var hR=e.filtersJson||'';var hS=(ss.isNullOrEmptyString(hR)?null:JSON.parse(hR));if(this.$5(hS,hR)){this.$h=hR;if(ss.isValue(hS)){var hT={};for(var hU=0;hU<hS.length;hU++){var hV=hS[hU];var hW=tableau.format.formatQualifiedName(hV.name);var hX=this.$f[hW];if(ss.isNullOrUndefined(hX)){hX=eB.createFilterModel(this,hV)}hX.update(hV,hM);hT[hW]=hX}this.$f=hT}}var hY=e.cacheUrlInfoJson||'';var hZ=(ss.isNullOrEmptyString(hY)?null:JSON.parse(hY));if(!_.isEqual(hZ,this.get_cacheUrlInfo())){this.$c=hZ;this.$3(hM)}var ia=e.geometryJson||'';if(!ss.isValue(this.$i)){this.$i=new ha(this)}var ib=(ss.isNullOrEmptyString(ia)?null:JSON.parse(ia));this.$i.update(ib);if(ss.isNullOrUndefined(this.$t)){this.$t=new gH(this,'visualTitle'.toString())}if(ss.isValue(e.visualTitle)){this.$t.update(e.visualTitle,hM)}if(!ss.isValue(this.$d)){this.$d=new gH(this,'visualCaption'.toString())}if(ss.isValue(e.visualCaption)){this.$d.update(e.visualCaption,hM)}if(!ss.isValue(this.$s)){this.$s=new gs(this)}if(ss.isValue(e.sortIndicators)){this.$s.update(e.sortIndicators,hM)}this.setEmptyHighlightFogAll(e.emptyHighlightFogAll,hM);if(!ss.referenceEquals(e,this.pm)){this.swapAndCopyPresModel(e);this.reValidate(hM);this.$6(hM)}},$6:function(e){this.raiseEvent(this.$2$1,e)},$3:function(e){if(ss.isValue(this.get_cacheUrlInfo())){this.raiseEvent(this.$2$4,e)}},$5:function(e,hM){if(ss.isNullOrUndefined(this.$h)){return true}if(ss.isValue(e)){var hN=_.find(e,function(hO){return hO.isTiled});if(ss.isValue(hN)){return true}}return!ss.referenceEquals(this.$h,hM)},hasFilterFieldData:function(e){return ss.isValue(this.get_vizDataModel())&&ss.indexOf(this.get_vizDataModel().get_filterFields(),e)!==-1},getEffectiveSelectedTuples:function(e){var hM;var hN=this.$k.get_ids();if(tab.MiscUtil.isNullOrEmpty(hN)){hM=e}else if(tab.MiscUtil.isNullOrEmpty(e)){hM=hN}else{var hO=[];ss.arrayAddRange(hO,e);ss.arrayAddRange(hO,hN);hM=Array.prototype.slice.call(hO)}return hM},$4:function(e,hM){var hN=S.getTuplesAssociatedWithSelectedNodes(this,e);this.$k.setOverriddenTupleIds(hN,hM)},$1:function(e){this.$k.setOverriddenTupleIds([],e)},$2:function(e){if(ss.isValue(e)&&ss.isValue(e.marksCardPresModel)&&ss.isValue(e.marksCardPresModel.paneSpec)){return e.marksCardPresModel.paneSpec}return eB.findActivePaneSpecId()}},ey);ss.initClass(hg,a,{});ss.initClass(hh,a,{get_hasDataValues:function(){return this.$c},get_hasAliases:function(){return this.$b},get_dataType:function(){return this.$a.dataType},get_fieldName:function(){return this.$a.fn},get_fieldCaption:function(){return this.$a.fieldCaption},get_baseColumnName:function(){return this.$a.baseColumnName},get_role:function(){return this.$a.fieldRole},get_aggType:function(){return this.$a.aggregation},get_specialValuesOverride:function(){return this.$a.specialValueText},get_filterContext:function(){return this.$a.filterContext},get_vizColumnDoNotUse:function(){return this.$a},$8:function(){return this.$a.paneIndices},$9:function(){return this.$a.columnIndices},$7:function(){return tab.Logger.lazyGetLogger(hh)},isTupleIdValid:function(e){for(var hM=0;hM<this.$a.paneIndices.length;++hM){var hN=this.$a.paneIndices[hM];var hO=this.$5(e,hN);if(ss.isValue(hO)){return true}}return false},tupleIdsThatPass:function(e){var hM=[];for(var hN=0;hN<this.$a.paneIndices.length;hN++){var hO=this.$a.paneIndices[hN];var hP=this.$d[hO].vizPaneColumns[0];for(var hQ=0;hQ<hP.tupleIds.length;hQ++){var hR=hP.tupleIds[hQ];if(e(hR)){hM.push(hR)}}}return hM},$2:function(e){var hM=this.$3(e,0);var hN={};var hO=0;for(var hP=0;hP<hM.tupleIds.length;hP++){var hQ=hM.tupleIds[hP];hN[hQ]=hO++}this.$e[e]=hN},$5:function(e,hM){if(!ss.keyExists(this.$e,hM)){this.$2(hM)}return this.$e[hM][e]},getAliasIndex:function(e){var hM=null;if(!this.get_hasAliases()){return hM}for(var hN=0;hN<this.$a.paneIndices.length;++hN){var hO=this.$a.paneIndices[hN];var hP=this.$5(e,hO);if(ss.isValue(hP)){var hQ=this.$a.columnIndices[hN];var hR=this.$3(hO,hQ);hM=hR.aliasIndices[hP];break}}return hM},getDataValueIndex:function(e){var hM=null;if(this.get_hasDataValues()){for(var hN=0;hN<this.$a.paneIndices.length;++hN){var hO=this.$a.paneIndices[hN];var hP=this.$5(e,hO);if(ss.isValue(hP)){var hQ=this.$a.columnIndices[hN];var hR=this.$3(hO,hQ);hM=hR.valueIndices[hP];break}}}return hM},getPaneDescriptorKey:function(e){var hM=null;for(var hN=0;hN<this.$a.paneIndices.length;++hN){var hO=this.$8()[hN];var hP=this.$5(e,hO);if(ss.isValue(hP)){var hQ=this.$4(hO);hM=hQ.paneDescriptor.paneDescrKey;break}}return hM},$4:function(e){var hM=null;if(this.$d.length>e){hM=this.$d[e]}else{}return hM},$3:function(e,hM){var hN=null;var hO=this.$4(e);if(ss.isValue(hO)){if(hO.vizPaneColumns.length>hM){hN=hO.vizPaneColumns[hM]}else{}}return hN},$1:function(){var e=false;for(var hM=0;hM<this.$8().length;hM++){var hN=this.$8()[hM];var hO=this.$9()[hM];var hP=this.$3(hN,hO);if(ss.isValue(hP)){e=e||ss.isValue(hP.valueIndices)&&hP.valueIndices.length>0}}return e},$0:function(){var e=false;for(var hM=0;hM<this.$8().length;hM++){var hN=this.$8()[hM];var hO=this.$9()[hM];var hP=this.$3(hN,hO);if(ss.isValue(hP)){e=e||ss.isValue(hP.aliasIndices)&&hP.aliasIndices.length>0}}return e},$6:function(){}});ss.initClass(hi,a,{});ss.initClass(hj,a,{add_newVizData:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newVizData:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_hasTupleIdColumn:function(){return ss.isValue(this.$6)},get_highlightCaptions:function(){return this.$3().highlightCaptions},get_filterFields:function(){return this.$3().filterFields},get_fieldCaptions:function(){return this.$5},get_ubertipData:function(){return this.$3().ubertipData},$3:function(){return this.pm},$1:function(){return this.$3().paneColumnsData},$2:function(){return this.$1().paneColumnsList},getVizDataFieldByIndex:function(e){if(e>=0&&e<this.$4.length){return this.$4[e]}return null},getColumnIndex:function(e){if(ss.isNullOrUndefined(this.$1())){return-1}var hM=this.$1().vizDataColumns;for(var hN=0;hN<hM.length;++hN){if(hk.isFieldCaptionOfColumn(hM[hN],e)){return hN}}for(var hO=0;hO<hM.length;++hO){if(hk.isFieldNameOfColumn(hM[hO],e)){return hO}}return-1},getVizDataField:function(e){return this.getVizDataFieldByIndex(this.getColumnIndex(e))},hasDimensionColumnNotMeasureNames:function(){if(ss.isValue(this.$1())){var e=this.$1().vizDataColumns;for(var hM=0;hM<e.length;hM++){var hN=e[hM];if(hN.fieldRole==='dimension'&&hN.localBaseColumnName!=='[:Measure Names]'){return true}}}return false},hasTupleId:function(e){var hM=false;if(this.get_hasTupleIdColumn()){this.forEachVizDataField(function(hN,hO){if(hN.isTupleIdValid(e)){hM=true;return false}return true})}return hM},forEachTupleId:function(e){for(var hM=0;hM<this.$2().length;++hM){var hN=this.$2()[hM].vizPaneColumns[0];for(var hO=0;hO<hN.tupleIds.length;hO++){var hP=hN.tupleIds[hO];var hQ=!e(hP);if(hQ){break}}}},forEachVizDataField:function(e){var hM=this.$4.length;for(var hN=0;hN<hM;++hN){var hO=this.$4[hN];if(ss.isNullOrUndefined(hO)){continue}var hP=!e(hO,hN);if(hP){break}}},update:function(e,hM){var hN=this.simpleSwapToUpdate(e,this.$2$1,hM);if(!hN){return}if(ss.isValue(e.ubertipData)){db.notifyFontsFromUberTipDataPresModel(e.ubertipData)}if(ss.isValue(this.$1())){this.$6=null;ss.clear(this.$4);this.$5=[];var hO=this.$1().vizDataColumns;for(var hP=0;hP<hO.length;hP++){var hQ=hO[hP];if(hQ.fn==='[system:visual].[tuple_id]'){this.$6=hQ;this.$4.push(null);continue}this.$5.push(hQ.fieldCaption);var hR=new hh(hQ,this.$1().paneColumnsList);this.$4.push(hR)}}}},ey);ss.initClass(hk,a,{});ss.initClass(hl,a,{});ss.initClass(hm,a,{});ss.initClass(hn,a,{get_r:function(){return this.$0['r'.toString()]},set_r:function(e){this.$0['r'.toString()]=e},get_fns:function(){return this.$0['fieldVector'.toString()]},set_fns:function(e){this.$0['fieldVector'.toString()]=e},get_x:function(){return this.$0['x'.toString()]},set_x:function(e){this.$0['x'.toString()]=e},get_y:function(){return this.$0['y'.toString()]},set_y:function(e){this.$0['y'.toString()]=e},get_w:function(){return this.$0['w'.toString()]},set_w:function(e){this.$0['w'.toString()]=e},get_h:function(){return this.$0['h'.toString()]},set_h:function(e){this.$0['h'.toString()]=e}});ss.initClass(ho,a,{get_isViewingUri:function(){return this.$l===1},get_isAuthoringUri:function(){return this.$l===2},get_isAuthorNewWorkbookUri:function(){return this.$l===3},get_isInvalid:function(){return this.$l===0},get_isAdminUri:function(){return this.$l===4},get_isSharedViewUri:function(){return this.$l===5},get_isRevisionHistoryUri:function(){return this.$l===6},get_absoluteUri:function(){return this.$6()},get_uri:function(){return this.$a()},get_path:function(){return this.$9()},get_queryParams:function(){return this.$i},get_retry:function(){return this.$7(':retry')},set_retry:function(e){this.$d(':retry',e)},get_originalView:function(){return this.$7(':original_view')},set_originalView:function(e){this.$d(':original_view',e);if(e){this.$f=''}},get_showSaveAs:function(){return this.$7(':showSaveAs')},set_showSaveAs:function(e){this.$d(':showSaveAs',e)},$7:function(e){return ss.keyExists(this.$i,e)&&tab.MiscUtil.toBoolean(this.$i[e][0],false)},$d:function(e,hM){if(hM){this.$i[e]=[];this.$i[e].push('yes')}else{delete this.$i[e]}},removeQueryParam:function(e){delete this.$i[e];return this},removeAllQueryParams:function(){ss.clearKeys(this.$i);return this},clone:function(){var e=new ho;e.$l=this.$l;e.$m=this.$m;e.$k=this.$k;e.$e=this.$e;e.$i=this.$i;e.$f=this.$f;e.$g=this.$g;e.$h=this.$h;e.explicitNotGuest=this.explicitNotGuest;return e},trimQueryParamsForAuthoringModeWhenLaunchedFromToolbar:function(){var e={};var hM=ss.getEnumerator(Object.keys(this.$i));try{while(hM.moveNext()){var hN=hM.current();var hO=decodeURIComponent(hN);if(ss.startsWithString(hO,':ff_')||ss.contains(ho.$b,hO)){e[hN]=this.$i[hN]}}}finally{hM.dispose()}this.$i=e;return this},fullPageLoad:function(e){e=e||tabBootstrap.Utility.get_locationWindow();this.setWindowLocation(null);window.setTimeout(function(){tab.WindowHelper.reload(e,false)},300)},replaceState:function(e){if(tab.MiscUtil.isNullOrEmpty(e)){e=tabBootstrap.Utility.get_locationWindow()}tab.HistoryUtil.replaceState(e,new Object,'',this.get_uri())},setWindowLocation:function(e){if(tab.MiscUtil.isNullOrEmpty(e)){e=tabBootstrap.Utility.get_locationWindow()}tab.WindowHelper.setLocationHref(e,this.get_uri())},setTopWindowLocation:function(){this.setWindowLocation(window.top)},matchesCurrentWindowLocationUri:function(e){return ss.referenceEquals(this.get_uri(),ho.createForCurrentWindowLocation(e).get_uri())},matchesCurrentWindowLocationAbsoluteUri:function(){return ss.referenceEquals(this.get_absoluteUri(),ho.createForCurrentWindowLocation().get_absoluteUri())},matchesCurrentWindowLocationPath:function(e){return ss.referenceEquals(this.get_path(),ho.createForCurrentWindowLocation(e).get_path())},removeHash:function(){this.$g=''},$6:function(){var e=this.$a();var hM=this.$h;if(!ss.startsWithString(e,'/')){hM+='/'}hM+=e;return hM},$a:function(){var e=new ss.StringBuilder;e.append(this.$9());var hM=tab.MiscUtil.replaceUriQueryParameters('',this.$i);if(!tab.MiscUtil.isNullOrEmpty$1(hM)){e.append(hM)}e.append(this.$8());return e.toString()},$9:function(){var e=[];if(!tab.MiscUtil.isNullOrEmpty$1(tsConfig.site_root)&&!this.get_isAdminUri()){e.push(tsConfig.site_root)}else{e.push('')}e.push(this.$c(this.$l));if(this.$l===2){e.push(this.$m);e.push(this.$k);if(!tab.MiscUtil.isNullOrEmpty$1(this.$e)){e.push(encodeURIComponent(this.$e))}}else if(this.$l===1){e.push(this.$m);e.push(this.$k);if(!tab.MiscUtil.isNullOrEmpty$1(this.$f)){e.push(this.$f)}}else if(this.$l===4){e.push(this.$m);e.push(this.$k)}else if(this.$l===3){e.push(this.$m)}else if(this.$l===5){e.push(tsConfig.guid)}else if(this.$l===6){e.push(this.$m);if(!tab.MiscUtil.isNullOrEmpty$1(this.$k)){e.push(this.$k)}e.push('history');e.push(this.$j)}return e.join('/')},$8:function(){if(this.explicitNotGuest){return'#guest=n'}return this.$g},$5:function(e){var hM=_.keys(ho.$d);var hN=gX.getModuleFromPath(e.pathname,hM);this.$l=this.$b(hN);var hO=gX.getMeatFromPath(e.pathname,hM);if(this.$l===1){this.$4(hO)}else if(this.$l===2){this.$2(hO)}else if(this.$l===3){this.$1(hO)}else if(this.$l===4){this.$0(hO)}else if(this.$l===6){this.$3(hO)}this.$i=ho.$1(e);this.$g=e.hash;this.$h=tab.BrowserSupport.getOrigin(e)},$4:function(e){var hM=e.split('/');this.$m=hM[0];this.$k=hM[1];if(hM.length>2){if(hM.length===3){this.$f=hM[2]}this.$f=hM[2]+'/'+hM[3]}},$2:function(e){var hM=e.split('/');this.$m=hM[0];this.$k=hM[1];if(hM.length>2){this.$e=decodeURIComponent(hM[2])}},$0:function(e){var hM=e.split('/');this.$m=hM[0];this.$k=hM[1]},$1:function(e){this.$m=e},$3:function(e){var hM=e.split('/');this.$m=hM[0];if(hM.length>3){this.$k=decodeURIComponent(hM[1]);this.$j=decodeURIComponent(hM[3])}else{this.$j=decodeURIComponent(hM[2])}},$c:function(e){return ho.$9[e]},$b:function(e){return ho.$d[e]},updateForViewingSheet:function(e){if(!this.get_isViewingUri()&&!this.get_isAuthoringUri()&&!this.get_isAdminUri()&&!this.get_isSharedViewUri()&&!this.get_isRevisionHistoryUri()){throw new ss.Exception('Cannot call UpdateForViewingNewTab() from a VizUriModel that does not have VizUriType Viewing')}var hM=new fs(e);this.$m=hM.get_workbookId();this.$k=hM.get_sheetId();this.$e='';return this},updateForCustomizedView:function(e){if(!this.get_isViewingUri()){throw new ss.Exception('Cannot call UpdateForCustomizedView() from a VizUriModel that does not have VizUriType Viewing')}var hM=e.startViewId;if(ss.isNullOrUndefined(hM)){hM=this.$k}this.$k=hM;this.$f=ss.formatString('{0}/{1}',ho.encodeUserName(e.owner.username),e.urlId);this.$e='';this.set_originalView(false);return this}});ss.initEnum(hp,a,{invalid:0,viewing:1,authoring:2,authorNewWorkbook:3,admin:4,sharedView:5,revisionHistory:6});ss.initEnum(hq,a,{immediateGlassAndSpinner:0,immediateGlassDelayedSpinner:1,delayedGlassAndSpinner:2});ss.initClass(hr,a,{$1:function(){var e=document.createElement('button');e.name='Cancel';e.textContent='Cancel';this.$a=$(e);this.$h.after(this.$a);var hM={position:'fixed',top:'50%',left:'50%','z-index':'1005'};this.$a.css(hM);this.$a.click(function(hN){bu.get().cancel()});this.$a.hide().css('opacity','0')},isBusy:function(){return this.$f>0},addref:function(e){this.$f+=1;if(this.$f===1&&!this.$e&&!this.$d){var hM=(e?1:2);this.$9(hM,false)}},addrefAndShowFullWaitHandlerNow:function(e){this.$f+=1;this.$9(0,e)},showAndLock:function(e){if(!this.$e){this.$9(0,e)}this.$4()},$4:function(){this.$d=true},unlock:function(){this.$d=false},release:function(){this.$f-=1;if(this.$f<0){this.$f=0}this.nudge()},nudge:function(){if(this.$f>0||this.$d){return}this.$2()},reset:function(){this.$0();var e=300;this.$h.hide().css('opacity','0');if(tab.FeatureFlags.isEnabled('CommandCancellation')){this.$a.hide().css('opacity','0')}if(this.$b.length===0){return}var hM=ss.mkdel(this,function(hN){hN.css('cursor','default').hide();var hO=$('.facadedom');if(hO.length>0){hO.remove()}});this.loadingElementFadeOut(this.$b,e,hM)},onNextHide:function(e){this.$g=e},$0:function(){this.$c=tab.MiscUtil.clearTimeout(this.$c);this.$i=tab.MiscUtil.clearTimeout(this.$i)},$2:function(){if(ss.isValue(this.$g)){this.$g();this.$g=null;this.$0()}else{this.reset()}this.$e=false},$9:function(e,hM){var hN=400;var hO=500;var hP=1900;var hQ=250;var hR=0.419999986886978;var hS=(hM?0:hR);this.$0();this.$6(e,hO,hS,hN);if(!hM){this.$7(e,hQ,hP)}this.$e=true},$7:function(e,hM,hN){switch(e){case 0:{this.$8(hM);break}case 1:case 2:{this.$i=window.setTimeout(ss.mkdel(this,function(){this.$8(hM)}),hN);break}}},$6:function(e,hM,hN,hO){switch(e){case 0:case 1:{this.$5(hM,hN);break}case 2:{this.$c=window.setTimeout(ss.mkdel(this,function(){this.$5(hM,hN)}),hO);break}}},$5:function(e,hM){if(this.$b.css('display')!=='none'){return}this.$b.css('cursor','wait');this.$3(this.$b,e,hM);if(tab.FeatureFlags.isEnabled('CommandCancellation')){this.$3(this.$a,e,1)}},$8:function(e){this.$3(this.$h,e,1)},$3:function(e,hM,hN){e.css('opacity','0');e.css('transition',hM+'ms opacity');e.show();e.css('display');e.css('opacity',hN.toString())},loadingElementFadeOut:function(e,hM,hN){e.css('transition',hM+'ms opacity');window.setTimeout(function(){e.css('opacity','0')},0);window.setTimeout(function(){hN(e)},hM)}});ss.initClass(ht,a,{get_isChecked:function(){return(ss.isValue(this.$1)?this.$1.get_isChecked():bz.prototype.get_isChecked.call(this))},get_isDefault:function(){return(ss.isValue(this.$1)?this.$1.get_isDefault():bz.prototype.get_isDefault.call(this))},get_enabled:function(){return(ss.isValue(this.$1)?this.$1.get_isEnabled():bz.prototype.get_enabled.call(this))},get_isRadioOn:function(){return(ss.isValue(this.$1)?this.$1.get_isRadioOn():bz.prototype.get_isRadioOn.call(this))},get_isVisible:function(){return(ss.isValue(this.$1)?this.$1.get_isVisible():bz.prototype.get_isVisible.call(this))}},bz);ht.$ctor1.prototype=ht.prototype;ss.initClass(hu,a,{});ss.initClass(hv,a,{add_newWebZone:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newWebZone:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_zoneModel:function(){return this.$1},get_url:function(){return this.$1.pm.url},update:function(e,hM){this.simpleSwapToUpdate(e,this.$2$1,hM)}},ey);ss.initClass(hw,a,{add_modelUpdated:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_modelUpdated:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},$2:function(){return this.pm},$1:function(){return this.$2().aggregationIndex},get_aggregationValues:function(){return this.$2().aggregationValues},get_aggregationCaptions:function(){return this.$2().aggregationCaptions},get_aggregation:function(){return this.get_aggregationValues()[this.$1()]},get_hasAggregation:function(){return ss.isValue(this.get_aggregationValues())&&this.get_aggregationValues().length>0},get_numberOfPrevValues:function(){return this.$2().numberOfPrevValues},get_numberOfNextValues:function(){return this.$2().numberOfNextValues},get_minPrevOrNextValues:function(){return this.$2().minPrevOrNextValues},get_maxPrevOrNextValues:function(){return this.$2().maxPrevOrNextValues},get_summaryCaption:function(){return this.$2().summaryCaption},get_includeCurrentValue:function(){return this.$2().includeCurrent},get_nullIfIncomplete:function(){return this.$2().nullIfIncomplete},update:function(e,hM){this.simpleSwapToUpdate(e,this.$3$1,hM)}},gQ);ss.initClass(hx,a,{add_newDashboard:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_newDashboard:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_dashboardDeleted:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_dashboardDeleted:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_sheetsChanged:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_sheetsChanged:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},add_uiModeChanged:function(e){this.$2$5=ss.delegateCombine(this.$2$5,e)},remove_uiModeChanged:function(e){this.$2$5=ss.delegateRemove(this.$2$5,e)},add_newDataConnectionPrompt:function(e){this.$2$6=ss.delegateCombine(this.$2$6,e)},remove_newDataConnectionPrompt:function(e){this.$2$6=ss.delegateRemove(this.$2$6,e)},add_dataConnectionPromptDismissed:function(e){this.$2$7=ss.delegateCombine(this.$2$7,e)},remove_dataConnectionPromptDismissed:function(e){this.$2$7=ss.delegateRemove(this.$2$7,e)},add_sheetTypeChanged:function(e){this.$2$8=ss.delegateCombine(this.$2$8,e)},remove_sheetTypeChanged:function(e){this.$2$8=ss.delegateRemove(this.$2$8,e)},get_sheetType:function(){return ss.coalesce(hx.$1(this.pm),'worksheet')},get_dataSchema:function(){return this.$8},get_dataConnectionModel:function(){return this.$7},get_commands:function(){return this.$4},get_uiMode:function(){return(ss.isNullOrUndefined(this.pm)?'document':this.pm.uiMode)},$3:function(){return this.$6},get_isCurrentSheetStoryboard:function(){return ss.isValue(this.$6)&&ss.isValue(this.$6.pm)&&this.$6.pm.isStory},get_isCurrentSheetDashboard:function(){return ss.isValue(this.$6)&&this.$6.get_isDashboard()},get_currentSheetStoryPointId:function(){if(this.get_isCurrentSheetStoryboard()){var e=this.get_storyboard().get_flipboard();if(ss.isValue(e)){return e.get_currentStoryPointId()}}return 0},get_storyboard:function(){var e=this.findContentDashboard();if(ss.isValue(e)&&ss.referenceEquals(e.get_sheetName(),this.$6.get_sheetName())){return null}return this.$6},get_hasPublishedSheets:function(){return this.get_sheetsInfo().some(function(e){return e.isPublished})},get_sheetsInfo:function(){return this.$9},get_isWorkbookIncomplete:function(){return this.get_removedDataSourceCount()>0||this.get_removedSheetCount()>0},get_isWorkbookModifiedAuthoring:function(){return ss.isValue(this.pm)&&this.pm.workbookModified},get_isCurrentDashboardModified:function(){return ss.isValue(this.$3())&&ss.isValue(this.$3().pm)&&ss.isValue(this.$3().pm.modifiedSheets)&&this.$3().pm.modifiedSheets.length>0},get_removedDataSourceCount:function(){return this.pm.removedDatasourceCount||0},get_removedSheetCount:function(){return this.pm.removedSheetCount||0},get_outerDashboardRepositoryUrl:function(){return((ss.isValue(this.$6)&&ss.isValue(this.$6.pm)&&ss.isValue(this.$6.pm.sheetLayoutInfo))?this.$6.pm.sheetLayoutInfo.repositoryUrl:null)},get_outerDashboardSize:function(){if(ss.isNullOrUndefined(this.$6)){return null}var e=this.$6.get_dashboardSize();return{w:e.w,h:e.h}},get_connectionPromptModel:function(){return this.$5},get_formatPaneModel:function(){return this.$2$9},set_formatPaneModel:function(e){this.$2$9=e},handleWorldReset:function(){this.$6=null;this.$8=null},withOuterDashboard:function(e){if(ss.isValue(this.$3())){e(this.$3());return}var hM=null;hM=ss.mkdel(this,function(hN){e(hN);this.remove_newDashboard(hM)});this.add_newDashboard(hM)},withDashboard:function(e){var hM=this.findContentDashboard();if(ss.isValue(hM)){e(hM);return}var hN=null;hN=ss.mkdel(this,function(hO){e(hO);this.remove_newDashboard(hN)});this.add_newDashboard(hN)},$2:function(e){return hx.$0(e)&&ss.isValue(hx.$1(this.pm))&&this.get_sheetType()!==e.dashboardPresModel.sheetLayoutInfo.sheetType},addNewDashboardHandler:function(e){this.add_newDashboard(e);if(ss.isValue(this.$6)){e(this.$6)}},removeDashboardHandler:function(e){this.remove_newDashboard(e)},findContentDashboard:function(){if(ss.isNullOrUndefined(this.$6)){return null}return this.$6.get_contentDashboard()},$1:function(e){return ss.isValue(e.dashboardPresModel)&&ss.isValue(e.dashboardPresModel.sheetLayoutInfo)&&!ss.referenceEquals(e.dashboardPresModel.sheetLayoutInfo.sheetName,tsConfig.current_sheet_name)},get_hasPrompt:function(){return ss.isValue(this.$5)&&!ss.isNullOrEmptyString(this.$5.get_connectionName())},update:function(e,hM){if(ss.isValue(e.variablePromptDialog)){this.$5=new cm(this);this.get_connectionPromptModel().update(e.variablePromptDialog);if(!ss.isNullOrEmptyString(this.$5.get_connectionName())){this.raiseEvent$1(cm).call(this,this.$2$6,this.get_connectionPromptModel(),hM)}else{this.raiseEvent(this.$2$7,hM)}}if(ss.isValue(e.workbookModified)&&(ss.isNullOrUndefined(this.pm)||this.get_isWorkbookModifiedAuthoring()!==e.workbookModified)){this.raiseEvent(function(){hx.fireWorkbookModifiedChanged(e.workbookModified)},hM)}if(this.$2(e)){this.raiseEvent$1(Object).call(this,this.$2$8,e.dashboardPresModel.sheetLayoutInfo.sheetType,hM)}var hN=false;if(this.$1(e)){this.handleWorldReset();hN=true}if(!ss.isValue(this.$8)){this.$8=new ct(this)}if(ss.isValue(e.dataSchema)){this.$8.update(e.dataSchema,hM)}if(typeof(e.dashboardPresModel)==='undefined'){}else if(e.dashboardPresModel===null){var hO=this.$6;this.$6=null;this.raiseEvent$1(ca).call(this,this.$2$3,hO,hM)}else{if(!ss.isValue(this.$6)){this.$6=new ca(this);this.raiseEvent$1(ca).call(this,this.$2$2,this.$6,hM)}this.$6.update(e.dashboardPresModel,hM)}if(ss.isValue(e.commands)){this.$4.update(e.commands,hM)}if(ss.isValue(e.sheetsInfo)&&!_.isEqual(e.sheetsInfo,this.$9)){this.$9=e.sheetsInfo;hN=true}if(hN){this.raiseEvent$1(hx).call(this,this.$2$4,this,hM)}e.uiMode=e.uiMode||'document';if(ss.isNullOrUndefined(this.pm)||this.pm.uiMode!==e.uiMode){this.raiseEvent(this.$2$5,hM)}if(ss.isValue(e.formatPane)){this.get_formatPaneModel().update(e.formatPane,hM)}this.swapAndCopyPresModel(e)}},ey);ss.initClass(hy,a,{get_id:function(){return this.$1.id},get_title:function(){return this.$1.title},get_owner:function(){return this.$0},get_recipientsCount:function(){return this.$1.recipientsCount},get_notificationIntervalInMinutes:function(){return this.$1.notificationIntervalInMinutes},get_isCurrentUserSubscribed:function(){return this.$1.isCurrentUserSubscribed}});ss.initClass(hz,a,{get_certificationDetails:function(){return this.$1.certificationDetails},get_name:function(){return this.$1.name},get_description:function(){return this.$1.description},get_id:function(){return this.$1.id},get_connectionTypeDisplayName:function(){return this.$1.connectionTypeDisplayName},get_repositoryUrl:function(){return this.$1.repositoryUrl},get_connectedWorkbooksCount:function(){return this.$1.connectedWorkbooksCount},get_dataConnectionsCount:function(){return this.$1.dataConnectionsCount},get_ownerId:function(){return this.$1.ownerId},get_owner:function(){return this.$0},get_projectId:function(){return this.$1.projectId},get_project:function(){return this.$2},get_usageInfo:function(){return this.$1.usageInfo},get_connectionDetails:function(){return this.$1.connectionDetails},get_lastRefreshedAt:function(){return this.$1.lastRefreshedAt},get_lastRefreshedDescription:function(){if(tab.MiscUtil.isNullOrEmpty$1(this.$1.lastRefreshedAt)){return tab.Strings.ServerDataSourceLive}var e=tableau.format.formatToJSCompliantFormat(this.$1.lastRefreshedAt,tableau.format.get_isO8601DateTimeFormat(),2,tableau.format.get_baseTimestamp());var hM={};hM.format=N.get_instance().get_localeDateFormat();hM.locale=tsConfig.locale;hM.timeFormat=N.get_instance().get_localeTimeFormat();hM.locale_formatting_strings=tableau.format.get_defaultLocaleStrings();return tableau.format.formatJsDateTime(new Date(e),hM,2,'t')},get_connectsToDescription:function(){if(ss.isNullOrUndefined(this.get_connectionDetails())){return''}var e;if(this.get_connectionDetails().type==='database'||this.get_connectionDetails().type==='webdata-direct'){e=this.get_connectionDetails().serverName}else if(this.get_connectionDetails().type==='file'){e=hz.$0(this.get_connectionDetails().fileName)}else{e=this.get_connectionDetails().name}if(this.get_dataConnectionsCount()>1){return tab.Strings.ServerDataSourceConnectsToSeveral(e,this.get_dataConnectionsCount()-1)}else{return e}}});ss.initClass(hA,a,{});ss.initEnum(hB,a,{none:0,userInvalidEmailAddress:10011,ddaDatasourceError:210006});ss.initClass(hC,a,{});ss.initClass(hD,a,{});ss.initClass(hE,a,{checkpointAppPresModel:function(){this.$1=N.get_instance().pm;this.currentWorldDiffersFromCheckpoint=false},revertLocalChanges:function(){if(this.currentWorldDiffersFromCheckpoint){ey.nonWorldUpdate(ss.mkdel(this,function(e){e.dialogProvider=this.$0;N.get_instance().update(this.$1,e)}));this.currentWorldDiffersFromCheckpoint=false}},markCurrentWorldAsDirty:function(){this.currentWorldDiffersFromCheckpoint=true},worldCheckpoint:function(){var e=tab.MiscUtil.cloneObject(this.$1);return e}});ss.initClass(hF,a,{add_onBootstrapResponse:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_onBootstrapResponse:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_onCommandResponse:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_onCommandResponse:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},add_onProgressiveLoadComplete:function(e){this.$1$3=ss.delegateCombine(this.$1$3,e)},remove_onProgressiveLoadComplete:function(e){this.$1$3=ss.delegateRemove(this.$1$3,e)},raiseOnProgressiveLoadComplete:function(){if(!ss.staticEquals(this.$1$3,null)){this.$1$3()}},raiseOnBootstrapResponse:function(e){var hM=this.$1$1;if(!ss.staticEquals(hM,null)){hM(e)}},raiseOnCommandResponse:function(e){var hM=this.$1$2;if(!ss.staticEquals(hM,null)){hM(e)}}});ss.initClass(hG,a,{});ss.initClass(hH,a,{request:function(e){var hM='X-Tsi-Supports-Accepted';e.headers=e.headers||{};if(ss.keyExists(e.headers,hM)&&e.headers[hM]===false){delete e.headers[hM]}else{e.headers[hM]=true}if(ss.isValue(hH.$0)&&hH.$0.length>0){e.headers['X-Tsi-Active-Tab']=encodeURIComponent(hH.$0)}if(ss.isValue(e.complete)){var hN=e.complete;e.complete=function(hS,hT){hS['args']=e;hN(hS,hT)}}if(ss.isValue(e.success)){var hO=e.success;e.success=function(hS,hT,hU){hU['args']=e;hO(hS,hT,hU)}}if(ss.isValue(e.error)){var hP=e.error;e.error=function(hS,hT,hU){hS['args']=e;hP(hS,hT,hU)}}if(ss.isValue(e.beforeSend)){var hQ=e.beforeSend;e.beforeSend=function(hS){hS['args']=e;hQ(hS)}}var hR=e;return $.ajax(hR)}});ss.initClass(hI,a,{add_resizeZone:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_resizeZone:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_changeZoneTitleVisibility:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_changeZoneTitleVisibility:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_changeZoneFloatingState:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_changeZoneFloatingState:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},get_zoneDescription:function(){return this.get_zoneCommonPresModel().name},get_zoneCommonPresModel:function(){return ss.coalesce(this.pm,new Object)},get_zoneId:function(){return this.get_zoneCommonPresModel().zoneId},get_parentZoneId:function(){return this.get_zoneCommonPresModel().parentZoneId},get_zoneType:function(){return ss.coalesce(this.get_zoneCommonPresModel().zoneType,'invalid')},get_zoneLayoutType:function(){return ss.coalesce(this.get_zoneCommonPresModel().zoneLayoutType,'trivial')},get_contentX:function(){return this.get_zoneCommonPresModel().contentX},get_contentY:function(){return this.get_zoneCommonPresModel().contentY},get_contentHeight:function(){return this.get_zoneCommonPresModel().contentH-2*this.get_contentBorderWidth()},get_contentWidth:function(){return this.get_zoneCommonPresModel().contentW-2*this.get_contentBorderWidth()},get_height:function(){return this.get_zoneCommonPresModel().h},get_width:function(){return this.get_zoneCommonPresModel().w},get_x:function(){return this.get_zoneCommonPresModel().x},get_y:function(){return this.get_zoneCommonPresModel().y},get_heightWithMargin:function(){if(!tab.FeatureFlags.isEnabled('NewDashboardSpacing')){return(this.get_isFloating()?this.get_height():(this.get_height()+8))}return this.get_height()},get_widthWithMargin:function(){if(!tab.FeatureFlags.isEnabled('NewDashboardSpacing')){return(this.get_isFloating()?this.get_width():(this.get_width()+8))}return this.get_width()},get_xWithMargin:function(){if(!tab.FeatureFlags.isEnabled('NewDashboardSpacing')){return(this.get_isFloating()?this.get_x():(this.get_x()-4))}return this.get_x()},get_yWithMargin:function(){if(!tab.FeatureFlags.isEnabled('NewDashboardSpacing')){return(this.get_isFloating()?this.get_y():(this.get_y()-4))}return this.get_y()},get_zoneContentRectXY:function(){return{x:this.get_contentX(),y:this.get_contentY(),w:this.get_contentWidth(),h:this.get_contentHeight()}},get_isFloating:function(){return this.get_zoneCommonPresModel().isFloating},get_hasTitle:function(){return this.get_zoneCommonPresModel().hasTitle},get_canHaveTitle:function(){return this.get_zoneCommonPresModel().canHaveTitle},get_canFloat:function(){return this.get_zoneCommonPresModel().canFloat},get_isHorizontal:function(){return this.get_zoneCommonPresModel().isHorizontal},get_hasBorder:function(){return eB.hasBorder(this.get_zoneStyle())},get_contentBorderWidth:function(){if(tab.FeatureFlags.isEnabled('NewDashboardSpacing')){if(eB.hasBorder(this.get_contentStyle())){return this.get_contentStyle().get_borderWidth()}}else if(this.get_hasBorder()){return this.get_zoneStyle().get_borderWidth()}return 0},get_zoneStyle:function(){return this.$2},get_contentStyle:function(){return this.$1},update:function(e,hM){if(ss.isValue(e)){e.parentZoneId=e.parentZoneId||0;e.isFloating=e.isFloating||false;e.isHorizontal=e.isHorizontal||false;e.canHaveTitle=ss.coalesce(e.canHaveTitle,true);e.canFloat=ss.coalesce(e.canFloat,true);e.contentW=e.contentW||e.w;e.contentH=e.contentH||e.h;e.contentX=e.contentX||e.x;e.contentY=e.contentY||e.y;if(!this.isNewZoneSizeSameAsOld(e)){this.raiseEvent(this.$2$1,hM)}if(ss.isValue(e.styledBox)){this.$2.update(e.styledBox,hM)}if(ss.isValue(e.globalStyledBox)){this.$1.update(e.globalStyledBox,hM)}}if(ss.isValue(this.get_zoneCommonPresModel())&&this.get_zoneCommonPresModel().hasTitle!==e.hasTitle){this.raiseEvent(this.$2$2,hM)}if(ss.isValue(this.get_zoneCommonPresModel())&&(this.get_zoneCommonPresModel().isFloating!==e.isFloating||this.get_zoneCommonPresModel().canFloat!==e.canFloat)){this.raiseEvent(this.$2$3,hM)}this.swapAndCopyPresModel(e)},isNewZoneSizeSameAsOld:function(e){if(!ss.isValue(e)){return true}if(ss.isValue(this.pm)){return ss.coalesce(e.contentH,e.h)===this.get_contentHeight()&&ss.coalesce(e.contentW,e.w)===this.get_contentWidth()&&ss.coalesce(e.contentX,e.x)===this.get_contentX()&&ss.coalesce(e.contentY,e.y)===this.get_contentY()&&e.h===this.get_height()&&e.w===this.get_width()&&e.x===this.get_x()&&e.y===this.get_y()}return false}},ey);ss.initClass(hJ,a,{get_zone:function(){return ss.safeCast(this.parent,hK)}},ey);ss.initClass(hK,a,{add_newZoneContent:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newZoneContent:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_removeZoneContent:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_removeZoneContent:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_updateZone:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_updateZone:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_childrenAdded:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_childrenAdded:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},get_model:function(){return this.$9},get_dashboardModel:function(){return this.$7},get_zoneCommonModel:function(){return this.$8},get_visualModel:function(){if(this.$8.get_zoneType()==='viz'){return this.$9}return null},get_worksheetName:function(){return this.pm.worksheet},get_zoneDescription:function(){return this.get_zoneCommonModel().get_zoneDescription()},get_zoneId:function(){return this.pm.zoneId},get_parentZoneId:function(){return this.get_zoneCommonModel().get_parentZoneId()},get_zoneType:function(){return this.get_zoneCommonModel().get_zoneType()},get_isStorySpecific:function(){return!ss.isNullOrUndefined(this.pm.storyPointId)&&!ss.isNullOrUndefined(this.pm.flipboardZoneId)&&this.pm.storyPointId!==0&&this.pm.flipboardZoneId!==0},get_contentHeight:function(){return this.get_zoneCommonModel().get_contentHeight()},get_contentWidth:function(){return this.get_zoneCommonModel().get_contentWidth()},get_contentX:function(){return this.get_zoneCommonModel().get_contentX()},get_contentY:function(){return this.get_zoneCommonModel().get_contentY()},get_zoneContentBounds:function(){return{l:0,t:0,w:this.get_contentWidth(),h:this.get_contentHeight()}},get_height:function(){return this.get_zoneCommonModel().get_height()},get_width:function(){return this.get_zoneCommonModel().get_width()},get_x:function(){return this.get_zoneCommonModel().get_x()},get_y:function(){return this.get_zoneCommonModel().get_y()},get_heightWithMargin:function(){return this.get_zoneCommonModel().get_heightWithMargin()},get_widthWithMargin:function(){return this.get_zoneCommonModel().get_widthWithMargin()},get_xWithMargin:function(){return this.get_zoneCommonModel().get_xWithMargin()},get_yWithMargin:function(){return this.get_zoneCommonModel().get_yWithMargin()},get_isFloating:function(){return this.get_zoneCommonModel().get_isFloating()},get_hasTitle:function(){return this.get_zoneCommonModel().get_hasTitle()},get_canHaveTitle:function(){return this.get_zoneCommonModel().get_canHaveTitle()},get_canFloat:function(){return this.get_zoneCommonModel().get_canFloat()},get_isHorizontal:function(){return this.get_zoneCommonModel().get_isHorizontal()},get_hasBorder:function(){return this.get_zoneCommonModel().get_hasBorder()},get_styledBoxModel:function(){return this.get_zoneCommonModel().get_zoneStyle()},get_contentType:function(){return hK.$2(this.pm)},get_titleHeight:function(){return this.pm.titleHeight},get_titleWidth:function(){return this.pm.titleWidth},get_hasSpace:function(){return this.pm.hasSpace},get_isSelectionDisabled:function(){return this.pm.isSelectionDisabled},get_contextMenuCommands:function(){if(this.$8.get_zoneType()==='filter'){if(tab.FeatureFlags.isEnabled('VizCatQF')&&!this.$4){var e=this.get_model();return e.get_quickFilterCommands()}else{var hM=this.get_model();return hM.get_quickFilterCommands()}}return{}},get_chromeCommands:function(){return this.$2},get_backgroundColor:function(){if(ss.isValue(this.pm.bgColor)){this.$6=this.$6||bs.convertColorForCanvas(this.pm.bgColor);return this.$6}return null},get_relativeZoneZIndex:function(){return this.pm.zoneZOrder+1},get_associatedSheet:function(){return this.pm.sheet},get_isDependentOnViz:function(){switch(this.$8.get_zoneType()){case'viz':case'color':case'shape':case'size':case'map':{return true}}return false},get_hasContent:function(){if(ss.isNullOrUndefined(this.pm)){return false}return ss.isNullOrUndefined(this.pm.presModelHolder)||Object.keys(this.pm.presModelHolder).length>0},raiseRemoveZoneContent:function(e){this.raiseEvent(this.$2$2,e)},raiseChildrenAdded:function(e){this.raiseEvent(this.$2$4,e)},update:function(e,hM){if(ss.isValue(e)){{e.sheet=e.sheet||'';e.titleWidth=e.titleWidth||0;e.titleHeight=e.titleHeight||0;e.isSelectionDisabled=e.isSelectionDisabled||false;e.hasSpace=e.hasSpace||false}var hN=!this.get_zoneCommonModel().isNewZoneSizeSameAsOld(e.zoneCommon);if(ss.isValue(e.zoneCommon)){this.$8.update(e.zoneCommon,hM)}if(ss.isNullOrUndefined(this.pm)||!ss.referenceEquals(this.pm.bgColor,e.bgColor)){this.$6=null}if(ss.isValue(e.zoneChromeCommands)){this.$2.update(e.zoneChromeCommands,hM)}if(ss.isValue(e.presModelHolder)){if(!ss.isValue(this.$5)){this.$5=new hJ(this)}var hO=hK.$2(e);if(ss.isValue(this.pm)&&!ss.referenceEquals(this.get_contentType(),hO)){this.$9=null}var hP=false;if(ss.isNullOrUndefined(this.$9)&&this.get_zoneCommonModel().get_zoneType()!=='filter'){var hQ=eB.getPendingZoneContentModel(this.$8.get_zoneId());if(ss.isValue(hQ)){hP=true;this.$9=hQ;this.$9.reparent(this.$5);this.raiseNewZoneContent(this.$9,hM)}}if(!hP){this.$1(hO,e,hN,hM)}}else if(ss.isValue(this.pm)&&ss.isValue(this.$9)&&!ss.referenceEquals(e.frameJson,this.pm.frameJson)){var hR=hK.$1(e.frameJson);if(this.$4&&e.zoneCommon.zoneType==='filter'){var hS=this.$9;hS.update(hS.get_quickFilterDisplayPresModel(),hR,hM)}if(ss.referenceEquals(hK.$2(this.pm),hK.$a)){var hT=hK.getContent(e,hK.$a);if(tab.FeatureFlags.isEnabled('VizParam')&&eR.supportsParameterType(hT)){}else{var hU=this.$9;hU.updateFrame(hR,hM)}}}if(ss.isValue(e.zoneTitle)){db.notifyFontsFromTextRegionPresModel(e.zoneTitle)}}this.swapAndCopyPresModel(e);this.raiseEvent(this.$2$3,hM)},$1:function(e,hM,hN,hO){if(ss.referenceEquals(e,hK.$k)){var hP=hK.getContent(hM,hK.$k);if(ss.isNullOrUndefined(this.$9)){this.$9=new hf(this.$5);this.raiseNewZoneContent(this.$9,hO)}var hQ=this.$9;hQ.update(hP,hO)}else if(ss.referenceEquals(e,hK.$h)){var hR=hK.getContent(hM,hK.$h);if(ss.isNullOrUndefined(this.$9)){this.$9=new gH(this.$5,hK.$h);this.raiseNewZoneContent(this.$9,hO)}var hS=this.$9;hS.update(hR,hO)}else if(ss.referenceEquals(e,hK.$g)){var hT=hK.getContent(hM,hK.$g);if(ss.isNullOrUndefined(this.$9)){this.$9=new gH(this.$5,hK.$g);this.raiseNewZoneContent(this.$9,hO)}var hU=this.$9;hU.update(hT,hO)}else if(ss.referenceEquals(e,hK.$c)){var hV=hK.getContent(hM,hK.$c);var hW=this.$4;if(tab.FeatureFlags.isEnabled('VizCatQF')&&fj.supportsQuickFilterType(hV)){this.$4=false;if(ss.isNullOrUndefined(this.$9)||hW){this.$9=new fj(this.$5);this.raiseNewZoneContent(this.$9,hO)}var hX=this.$9;hX.update(hV,hO)}else{this.$4=true;if(ss.isNullOrUndefined(this.$9)||!hW){this.$9=new en(this.$5);this.raiseNewZoneContent(this.$9,hO)}var hY=hK.$1(hM.frameJson);var hZ=this.$9;hZ.update(hV,hY,hO)}}else if(ss.referenceEquals(e,hK.$b)){if(tab.FeatureFlags.isEnabled('WebDropServerRenderedLegends')||N.get_instance().get_isLocalRenderMode()){var ia=hK.getContent(hM,e);if(ss.isNullOrUndefined(this.$9)){this.$9=new fg(this.$5,e);this.raiseNewZoneContent(this.$9,hO)}var ib=this.$9;ib.update(ia,hO)}}else if(ss.referenceEquals(e,hK.$3)||ss.referenceEquals(e,hK.$f)||ss.referenceEquals(e,hK.$e)||ss.referenceEquals(e,hK.$8)){if(tab.FeatureFlags.isEnabled('WebDropServerRenderedLegends')||N.get_instance().get_isLocalRenderMode()){var ic=hK.getContent(hM,e);if(ss.isNullOrUndefined(this.$9)){var id=this.$8.get_zoneType();this.$9=new bk(this.$5,e,hK.$0(id));this.raiseNewZoneContent(this.$9,hO)}var ie=this.$9;ie.update(ic,hO)}}else if(ss.referenceEquals(e,hK.$a)){var ig=hK.getContent(hM,hK.$a);var ih=hK.$1(ig.parameterCtrlJson);ig.legacyPresModel=ih;var ii=this.$3;if(tab.FeatureFlags.isEnabled('VizParam')&&eR.supportsParameterType(ig)){this.$3=false;if(ss.isNullOrUndefined(this.$9)||ii){this.$9=new eR(this.$5);this.raiseNewZoneContent(this.$9,hO)}var ij=this.$9;ij.update(ig,hO)}else{this.$3=true;if(ss.isNullOrUndefined(this.$9)||!ii){this.$9=new eQ(this.$5);this.raiseNewZoneContent(this.$9,hO)}var ik=hK.$1(hM.frameJson);var il=this.$9;il.update(ig,ik,hO)}}else if(ss.referenceEquals(e,hK.$9)){var im=hK.getContent(hM,hK.$9);if(ss.isNullOrUndefined(this.$9)){this.$9=new eK(this.$5);this.raiseNewZoneContent(this.$9,hO)}var io=!hN||ss.isNullOrUndefined(this.pm);var ip=hK.$1(hM.frameJson);var iq=this.$9;iq.update(im,ip,io,hO)}else if(ss.referenceEquals(e,hK.$6)){var ir=hK.getContent(hM,hK.$6);if(ss.isNullOrUndefined(this.$9)){this.$9=new cY(this.$5);this.raiseNewZoneContent(this.$9,hO)}var it=this.$9;it.update(ir,hO)}else if(ss.referenceEquals(e,hK.$5)){var iu=hK.getContent(hM,hK.$5);if(ss.isNullOrUndefined(this.$9)){this.$9=new cX(this.$5);this.raiseNewZoneContent(this.$9,hO)}var iv=this.$9;iv.update(iu,hO)}else if(!tab.FeatureFlags.isEnabled('WebDropServerRenderedLegends')&&ss.referenceEquals(e,hK.$d)){var iw=hK.getContent(hM,hK.$d);if(ss.isNullOrUndefined(this.$9)){this.$9=new el(this.$5);this.raiseNewZoneContent(this.$9,hO)}var ix=this.$9;ix.update(iw,hO)}else if(ss.referenceEquals(e,hK.$l)){var iy=hK.getContent(hM,hK.$l);if(ss.isNullOrUndefined(this.$9)){this.$9=new hv(this.$5);this.raiseNewZoneContent(this.$9,hO)}var iz=this.$9;iz.update(iy,hO)}else if(ss.referenceEquals(e,hK.$7)){var iA=hK.getContent(hM,hK.$7);if(ss.isNullOrUndefined(this.$9)){this.$9=new dU(this.$5);this.raiseNewZoneContent(this.$9,hO)}var iB=this.$9;iB.update(iA,hO)}else if(ss.referenceEquals(e,hK.$4)){var iC=hK.getContent(hM,hK.$4);if(ss.isNullOrUndefined(this.$9)){this.$9=new cs(this.$5);this.raiseNewZoneContent(this.$9,hO)}var iD=this.$9;iD.update(iC,hO)}},contentBorderWidth:function(){return this.$8.get_contentBorderWidth()},raiseNewZoneContent:function(e,hM){this.raiseEvent$1(ey).call(this,this.$2$1,e,hM)}},ey);ss.initClass(hL,a,{add_newZone:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newZone:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_removedZone:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_removedZone:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_zoneModels:function(){if(ss.isNullOrUndefined(this.$5)){this.$5=_.values(this.$7)}return this.$5},get_zonePresModels:function(){return this.pm},set_zonePresModels:function(e){this.pm=e},getZone:function(e){return this.$7[hL.$0(e)]},hasZone:function(e){return ss.keyExists(this.$7,hL.$0(e))},getChildren:function(e){var hM=hL.$0(e);if(!ss.keyExists(this.$6,hM)){this.$6[hM]=_.filter(this.get_zoneModels(),function(hN){return hN.get_parentZoneId()===e})}return this.$6[hL.$0(e)].slice(0)},update:function(hM,hN){this.$2('Zones before update: ');this.$3(hM,hN);this.$6={};var hO={};var hP=_.keys(hM);for(var hQ=0;hQ<hP.length;hQ++){var hR=hP[hQ];var hS=hM[hR];if(ss.isValue(hS)){var hT=hS.zoneId;try{var hU=hL.$0(hT);if(!ss.isValue(this.$7[hU])){var hV=new hK(this,this.parent,hT);this.$7[hU]=hV;this.raiseEvent$1(hK).call(this,this.$2$1,this.$7[hU],hN);this.$5=null;hO[hS.zoneCommon.parentZoneId]=true}else{if(ss.isValue(hS.zoneCommon)&&this.$7[hU].get_parentZoneId()!==hS.zoneCommon.parentZoneId){hO[hS.zoneCommon.parentZoneId]=true}if(ss.isValue(hS.presModelHolder)&&(this.$1(hU,hS)||this.$4(hU,hS))){this.$7[hU].raiseRemoveZoneContent(hN);this.raiseEvent$1(hK).call(this,this.$2$1,this.$7[hU],hN)}}this.$7[hU].update(hS,hN)}catch(ia){var e=ss.Exception.wrap(ia);tab.ErrorTrace.report(e,false)}}}this.swapAndCopyPresModel(hM);if(tsConfig.is_authoring){var hW=_.keys(hO);for(var hX=0;hX<hW.length;hX++){var hY=hW[hX];var hZ=this.getZone(hY);if(ss.isValue(hZ)){hZ.raiseChildrenAdded(hN)}}}this.$2('Zones after update: ')},$1:function(e,hM){if(tab.FeatureFlags.isEnabled('VizCatQF')){var hN=this.$7[e].pm;if(ss.isValue(hN.presModelHolder)){var hO='quickFilterDisplay'.toString();if(ss.referenceEquals(hK.$2(hM),hO)){var hP=hK.getContent(hN,hO);var hQ=hK.getContent(hM,hO);if(fj.supportsQuickFilterType(hP)!==fj.supportsQuickFilterType(hQ)){return true}}}}return ss.isValue(this.$7[e].get_contentType())&&!ss.referenceEquals(this.$7[e].get_contentType(),hK.$2(hM))},$4:function(e,hM){return ss.isValue(this.$7[e].get_worksheetName())&&!ss.referenceEquals(this.$7[e].get_worksheetName(),hM.sheet)},$3:function(e,hM){var hN=_.keys(this.$7);for(var hO=0;hO<hN.length;hO++){var hP=hN[hO];var hQ=this.$7[hP];var hR=e[hQ.get_zoneId().toString()];if(hR===null){var hS=hQ.get_zoneId().toString();delete e[hS];delete this.get_zonePresModels()[hS];this.removeZone(hQ,hM);continue}if(ss.isValue(hR)&&ss.isValue(hR.zoneCommon)&&hQ.get_zoneCommonModel().get_zoneType()!==hR.zoneCommon.zoneType){this.removeZone(hQ,hM)}}},removeZone:function(e,hM){e.raiseRemoveZoneContent(hM);this.raiseEvent$1(hK).call(this,this.$2$2,e,hM);delete this.$7[hL.$0(e.get_zoneId())];this.$5=null},$2:function(e){var hM=new ss.StringBuilder;hM.appendLine(e);var hN=new ss.ObjectEnumerator(this.get_zonePresModels());try{while(hN.moveNext()){var hO=hN.current();if(ss.isValue(hO.value)&&ss.isValue(hO.value.zoneCommon)){hM.append('[ ');hM.append(hO.value.zoneId);hM.append(' ');hM.append(hO.value.zoneCommon.zoneType);hM.append(' ] ');hM.appendLine()}}}finally{hN.dispose()}}},ey);(function(){bw.successResult=new bw(true,null)})();(function(){bE.$0=null})();(function(){hk.vizInTooltipSpanTag='span[data-tableau="VizInTooltip"]';hk.unknownFieldMarker='~~~???~~~';hk.noLocalSummary='...';hk.invalidTupleId=0;hk.urlStringNull='~~null~';hk.urlStringSkipped='~~skipped~';hk.urlStringRagged='~~ragged~';hk.lastWidthAndHeightForVizInTooltips=[];hk.$8=new RegExp('(\\r|\\n)','g')})();(function(){bG.$5=15;bG.$8={};bG.$6={};bG.$7=[];bG.$8['keep-only-or-exclude']=2;bG.$8['quick-sort']=4;bG.$8['clear-sorts']=6;bG.$8['run-action']=8;bG.$8['load-url']=9;bG.$8['merge-or-split']=10;bG.$8['ranged-by-value-merge']=10;bG.$8['ranged-by-index-merge']=10;bG.$8['legend-group-or-ungroup']=13;bG.$8['label-drill']=12;bG.$8['level-drill']=12;bG.$8['level-drill-up-down']=12;bG.$8['remove-reference-line']=15;bG.$8['show-reference-line-constant-value-editor']=21;bG.$8['trend-lines']=17;bG.$8['show-trend-line-editor']=16;bG.$8['show-col-totals']=18;bG.$8['show-row-totals']=18;bG.$8['remove-subtotals']=18;bG.$8['set-totals-type']=19;bG.$8['set-reference-line-formula']=20;bG.$8['show-reference-line-editor']=22;bG.$8['select-by-tuple-value']=23})();(function(){ey.removeUndefinedBoolsOnSwapCopy=true})();(function(){cS.nameOfMeasuresColumn=':Measure Names';cS.nameOfMeasureValuesColumn='Multiple Values'})();(function(){bs.defaultAlpha=1;bs.white=new bs(255,255,255,1);bs.black=new bs(0,0,0,1);bs.alphaMultiplier=1.5;bs.luminanceThresholdForFakingLineColor=0.800000011920929;bs.luminanceThresholdForLightColor=0.314999997615814;bs.$8=0.999989986419678;bs.$e=[0,5.07705190066E-06,2.33280046661E-05,5.69217657122E-05,0.000107187362341,0.000175123977503,0.000261543754548,0.000367136269816,0.000492503787191,0.000638182842167,0.000804658499513,0.000992374304074,0.00120173952244,0.00143313458967,0.00168691531679,0.0019634162134,0.00226295316071,0.00258582559623,0.00293231832394,0.003302703032,0.0036972395789,0.00411617709328,0.00455975492253,0.00502820345686,0.00552174485024,0.00604059365485,0.00658495738258,0.00715503700457,0.00775102739766,0.00837311774515,0.00902149189801,0.00969632870166,0.0103978022926,0.0111260823684,0.0118813344348,0.0126637200316,0.0134733969401,0.0143105193749,0.0151752381596,0.0160677008909,0.0169880520893,0.01793643334,0.0189129834237,0.0199178384388,0.0209511319148,0.0220129949193,0.0231035561579,0.0242229420675,0.0253712769047,0.0265486828285,0.0277552799781,0.0289911865471,0.0302565188524,0.0315513914002,0.0328759169484,0.0342302065651,0.0356143696849,0.037028514162,0.0384727463202,0.0399471710015,0.0414518916115,0.0429870101627,0.0445526273164,0.0461488424224,0.0477757535562,0.0494334575559,0.0511220500565,0.0528416255229,0.0545922772818,0.056374097552,0.0581871774737,0.0600316071363,0.0619074756055,0.0638148709487,0.0657538802603,0.0677245896854,0.0697270844426,0.0717614488462,0.0738277663278,0.0759261194563,0.0780565899581,0.0802192587362,0.0824142058885,0.0846415107254,0.0869012517877,0.0891935068622,0.0915183529989,0.0938758665256,0.0962661230633,0.0986891975411,0.10114516421,0.103634096655,0.106156067813,0.108711149979,0.111299414825,0.113920933406,0.116575776179,0.119264013005,0.12198571317,0.124740945387,0.127529777813,0.130352278056,0.133208513184,0.136098549737,0.139022453735,0.141980290686,0.144972125597,0.147998022983,0.151058046871,0.154152260812,0.15728072789,0.160443510725,0.163640671485,0.166872271891,0.170138373223,0.173439036332,0.176774321641,0.180144289154,0.183548998465,0.186988508759,0.190462878822,0.193972167048,0.19751643144,0.201095729621,0.204710118837,0.208359655961,0.212044397502,0.215764399609,0.219519718075,0.223310408341,0.227136525505,0.230998124323,0.234895259216,0.238827984272,0.242796353254,0.246800419602,0.250840236436,0.254915856566,0.25902733249,0.263174716398,0.267358060184,0.271577415438,0.275832833461,0.280124365261,0.28445206156,0.288815972797,0.293216149132,0.297652640449,0.302125496359,0.306634766203,0.311180499058,0.315762743736,0.320381548792,0.325036962521,0.329729032968,0.334457807924,0.339223334935,0.344025661302,0.348864834083,0.353740900097,0.358653905926,0.363603897921,0.368590922197,0.373615024646,0.37867625093,0.383774646488,0.388910256539,0.394083126083,0.399293299903,0.404540822568,0.409825738436,0.415148091656,0.420507926168,0.425905285707,0.431340213807,0.4368127538,0.442322948819,0.4478708418,0.453456475486,0.459079892424,0.464741134974,0.470440245304,0.476177265397,0.481952237051,0.487765201878,0.493616201311,0.499505276603,0.505432468828,0.511397818885,0.517401367497,0.523443155214,0.529523222417,0.535641609315,0.54179835595,0.547993502197,0.554227087766,0.560499152204,0.566809734897,0.573158875068,0.579546611783,0.58597298395,0.592438030321,0.598941789493,0.605484299911,0.612065599866,0.618685727499,0.625344720802,0.632042617621,0.638779455651,0.645555272445,0.652370105411,0.659223991813,0.666116968776,0.673049073281,0.680020342172,0.687030812155,0.694080519797,0.701169501531,0.708297793656,0.715465432335,0.7226724536,0.729918893352,0.737204787361,0.744530171267,0.751895080583,0.759299550695,0.766743616862,0.774227314218,0.781750677774,0.789313742416,0.796916542908,0.804559113895,0.812241489898,0.819963705324,0.827725794455,0.835527791461,0.843369730392,0.851251645185,0.859173569659,0.867135537521,0.875137582365,0.883179737673,0.891262036813,0.899384513047,0.907547199522,0.915750129279,0.923993335252,0.932276850265,0.940600707036,0.948964938178,0.9573695762,0.965814653503,0.974300202389,0.982826255054,0.991392843593,1];bs.$9=new RegExp('#([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})','i');bs.$a=new RegExp('rgb\\((\\d+), ?(\\d+), ?(\\d+)\\)','i');bs.$b=new RegExp('rgba\\((\\d+), ?(\\d+), ?(\\d+), ?(\\d+|0\\.\\d+|1\\.0)\\)','i');bs.$c=null;bs.$d=new cU(100)})();(function(){dc.defaultWeight='normal';dc.defaultStyle='normal';dc.hashSeparator='-<%>-';dc.matchQuotes=new RegExp('[\'"]','g')})();(function(){cI.boldWeight='bold';cI.normalWeight='normal'})();(function(){dC.$0=[new dC,new cI]})();(function(){db.fontPropertyName='font';db.$1$1=null;db.$1$2=null})();(function(){hj.tupleIdColumnName='[system:visual].[tuple_id]';hj.measureNamesColumnName='[:Measure Names]'})();(function(){eu.$1='@2x';eu.$0='rgb(255,255,255)'})();(function(){eF.$0=new ss.Lazy(function(){return{eventHandler:new eF}})})();(function(){hF.$0=new ss.Lazy(function(){return new hF})})();(function(){Q.$1=Q.$0()})();(function(){hH.guid='';hH.parentID='';hH.$0=''})();(function(){dG.$6='_vql_state_';dG.$5=new Map;dG.$8=0;dG.$7=0;tab.WindowHelper.addListener(window.self,'popstate',dG.$3)})();(function(){ho.$7=':retry';ho.$5=':original_view';ho.$8=':showSaveAs';ho.$4=':jsdebug';ho.$6=':render';ho.$3=':app';ho.$b=[':app',':jsdebug',':render'];ho.$d=ss.mkdict(['authoring',2,'authoringNewWorkbook',3,'views',1,'vizql/showadminview',4,'shared',5,'workbooks',6]);ho.$c=[':bootstrapWhenNotified'];ho.$9={};ho.$a={};var e=function(hM,hN){for(var hO=hM;hO<=hN;hO++){var hP=String.fromCharCode(hO);ho.$a[hP]=hP}};e(97,122);e(65,90);e(48,57);e(95,95);e(45,46)})();(function(){cx.$0=false})();(function(){G.instance=null})();(function(){bM.primaryTableCalcIndex=0;bM.secondaryTableCalcIndex=1})();(function(){gc.$0='data:image/png;base64,';gc.selectionBorderSize=1})();(function(){dT.$2=null})();(function(){fC.$4='Last';fC.$5='SecondToLast';fC.$3=1440;fC.$7=['Sun','Mon','Tue','Wed','Thu','Fri','Sat'];fC.$6=ss.mkdict(['Sun',tab.Strings.Sunday,'Mon',tab.Strings.Monday,'Tue',tab.Strings.Tuesday,'Wed',tab.Strings.Wednesday,'Thu',tab.Strings.Thursday,'Fri',tab.Strings.Friday,'Sat',tab.Strings.Saturday])})();(function(){y.$0=35;y.$1=1})();(function(){N._instance=null})();(function(){hz.$1=new RegExp('[/\\\\]([^/\\\\]*)$')})();(function(){hK.zoneMargin=4;hK.rootZoneID=0;hK.$j=0;hK.$i=0;hK.$k='visual'.toString();hK.$h='dashboardTitle'.toString();hK.$g='dashboardText'.toString();hK.$b='quantitativeColorLegend'.toString();hK.$3='colorLegend'.toString();hK.$f='categoricalSizeLegend'.toString();hK.$e='categoricalShapeLegend'.toString();hK.$8='categoricalMapLegend'.toString();hK.$a='parameterControl'.toString();hK.$9='pageModel'.toString();hK.$d='serverRenderedLegend'.toString();hK.$7='imageZone'.toString();hK.$l='webZone'.toString();hK.$c='quickFilterDisplay'.toString();hK.$4='dataHighlighter'.toString();hK.$6='flipboardNav'.toString();hK.$5='flipboard'.toString()})();(function(){ff.$5=6;ff.zonesThatDeferContentCreation=['viz','size','shape','color','map','filter','paramctrl','current-page','bitmap','web','highlighter'];ff.$7=[1,2,3,4,5,6];ff.$8=null;ff.$6=null})();(function(){bu.$8=135;bu.$9=false;bu.$a=false;bu._instance=null;bu.$1$7=null;bu.$1$14=null;bu.fireDeferredUrlActions=false})();(function(){fS.$2=300000;fS.$0=tab.DateUtil.get_nowAsTime();fS.$3=300000;fS.$1=tab.DateUtil.get_nowAsTime()})();(function(){eC.$c='vql';eC.$b=60;eC.$h={};eC.$e={};eC.$f={};eC.$d=new Set;eC.$i=false;eC.$g=new eD})();(function(){eH.analyticsClientLibrary='analytics-client';eH.analyticsClientMinifiedLibrary='analytics-client.min';eH.serviceName='VizClient';eH.$1=null;eH.$1$1=null})();(function(){eB.visualPartToRegionMap=null;eB.regionToVisualPartMap=null;eB.visualPartToRegionMap={};eB.visualPartToRegionMap['left-axis']='leftaxis';eB.visualPartToRegionMap['right-axis']='rightaxis';eB.visualPartToRegionMap['top-axis']='topaxis';eB.visualPartToRegionMap['bottom-axis']='bottomaxis';eB.visualPartToRegionMap['y-labels']='yheader';eB.visualPartToRegionMap['x-labels']='xheader';eB.regionToVisualPartMap={};eB.regionToVisualPartMap['leftaxis']='left-axis';eB.regionToVisualPartMap['rightaxis']='right-axis';eB.regionToVisualPartMap['topaxis']='top-axis';eB.regionToVisualPartMap['bottomaxis']='bottom-axis';eB.regionToVisualPartMap['yheader']='y-labels';eB.regionToVisualPartMap['xheader']='x-labels'})();(function(){gx.$1=false;gx.$2=false;gx.$1$1=null;gx.$1$2=null})();(function(){dd.$0='font'})();(function(){fO.$1={}})();(function(){P.linkTarget=null;P.autoUpdate=true;P.$0=null;P.$1=null;P.$2=0;P.$3=null;P.$1$1=null;P.$1=ss.mkdict(['%25',new RegExp('%','g'),'%3B',new RegExp(';','g'),'%2C',new RegExp(',','g'),'%2E',new RegExp('\\.','g'),'%2F',new RegExp('\\/','g'),'%3F',new RegExp('\\?','g'),'%2B',new RegExp('\\+','g'),'%20',new RegExp(' ','g'),'%5C',new RegExp('\\\\','g')])})();(function(){I.$f=['http:','https:','mailto:','news:','gopher:','tsc:','tsl:'];I.$e=false;I.$d=false})();(function(){fG.$k=null;fG.$k={};fG.$k['simple']='select-options-simple';fG.$k['toggle']='select-options-toggle';fG.$k['range']='select-options-range';fG.$k['menu']='select-options-menu'})();(function(){S.$5='date-time';S.$4='all'})();(function(){gh.$2$1=null})();(function(){cz.sheetChangedEventName='SheetChangedEvt';cz.$3='badpassword';cz.$2='badoauthcredentials';cz.$4='NoAssociatedCustomOAuthKey'})();(function(){hr.waitGlassId='loadingGlassPane'})();(function(){hI.zoneMargin=4;hI.rootZoneID=0})();(function(){gA.$6=(tsConfig.is_mobile?4:8);gA.$5=null;gA.$4=null;if(!tsConfig.is_authoring||tab.FeatureFlags.isEnabled('StoryPointCache')){hF.get().add_onBootstrapResponse(gA.$0)}})();(function(){cX.presModelCache=null})();(function(){fA.$1=new bs(0,0,0,1)})();(function(){ca.facadeDomId='facadedom';ca.$2$1=null})();(function(){hx.$2$1=null})();(function(){gG.$0={};gG.$0['TQRC_DRILL_DOWN']='tableau-1.3/res/vizTooltips/Tooltip_Action_Down.png';gG.$0['TQRC_DRILL_DOWN_2X']='tableau-1.3/res/vizTooltips/Tooltip_Action_Down@2x.png';gG.$0['TQRC_DRILL_DOWN_ACTIVE']='tableau-1.3/res/vizTooltips/Tooltip_Action_Down_Active.png';gG.$0['TQRC_DRILL_DOWN_ACTIVE_2X']='tableau-1.3/res/vizTooltips/Tooltip_Action_Down_Active@2x.png';gG.$0['TQRC_DRILL_UP']='tableau-1.3/res/vizTooltips/Tooltip_Action_Up.png';gG.$0['TQRC_DRILL_UP_2x']='tableau-1.3/res/vizTooltips/Tooltip_Action_Up@2x.png';gG.$0['TQRC_DRILL_UP_ACTIVE']='tableau-1.3/res/vizTooltips/Tooltip_Action_Up_Active.png';gG.$0['TQRC_DRILL_UP_ACTIVE_2x']='tableau-1.3/res/vizTooltips/Tooltip_Action_Up_Action@2x.png';gG.$0['TQRC_EXCLUDE']='tableau-1.3/res/vizTooltips/Tooltip_Exclude.png';gG.$0['TQRC_EXCLUDE_2X']='tableau-1.3/res/vizTooltips/Tooltip_Exclude@2x.png';gG.$0['TQRC_EXCLUDE_ACTIVE']='tableau-1.3/res/vizTooltips/Tooltip_Exclude_Active.png';gG.$0['TQRC_EXCLUDE_ACTIVE_2X']='tableau-1.3/res/vizTooltips/Tooltip_Exclude_Active@2x.png';gG.$0['TQRC_KEEP_ONLY']='tableau-1.3/res/vizTooltips/Tooltip_KeepOnly.png';gG.$0['TQRC_KEEP_ONLY_2X']='tableau-1.3/res/vizTooltips/Tooltip_KeepOnly@2x.png';gG.$0['TQRC_KEEP_ONLY_ACTIVE']='tableau-1.3/res/vizTooltips/Tooltip_KeepOnly_Active.png';gG.$0['TQRC_KEEP_ONLY_ACTIVE_2X']='tableau-1.3/res/vizTooltips/Tooltip_KeepOnly_Active@2x.png';gG.$0['TQRC_MERGE']='tableau-1.3/res/vizTooltips/Tooltip_Group.png';gG.$0['TQRC_MERGE_2X']='tableau-1.3/res/vizTooltips/Tooltip_Group@2x.png';gG.$0['TQRC_MERGE_ACTIVE']='tableau-1.3/res/vizTooltips/Tooltip_Group_Active.png';gG.$0['TQRC_MERGE_ACTIVE_2X']='tableau-1.3/res/vizTooltips/Tooltip_Group_Active@2x.png';gG.$0['TQRC_VIEWDATA']='tableau-1.3/res/vizTooltips/Tooltip_ViewData.png';gG.$0['TQRC_VIEWDATA_ACTIVE']='tableau-1.3/res/vizTooltips/Tooltip_ViewData_Active.png';gG.$0['TQRC_SORT_ASCENDING']='tableau-1.3/res/vizTooltips/Tooltip_SortAscending.png';gG.$0['TQRC_SORT_ASCENDING_2X']='tableau-1.3/res/vizTooltips/Tooltip_Sort_Ascending@2x.png';gG.$0['TQRC_SORT_ASCENDING_ACTIVE']='tableau-1.3/res/vizTooltips/Tooltip_SortAscending_Active.png';gG.$0['TQRC_SORT_ASCENDING_ACTIVE_2X']='tableau-1.3/res/vizTooltips/Tooltip_Sort_Ascending_Active@2x.png';gG.$0['TQRC_SORT_DESCENDING']='tableau-1.3/res/vizTooltips/Tooltip_SortDescending.png';gG.$0['TQRC_SORT_DESCENDING_2X']='tableau-1.3/res/vizTooltips/Tooltip_Sort_Descending@2x.png';gG.$0['TQRC_SORT_DESCENDING_ACTIVE']='tableau-1.3/res/vizTooltips/Tooltip_SortDescending_Active.png';gG.$0['TQRC_SORT_DESCENDING_ACTIVE_2X']='tableau-1.3/res/vizTooltips/Tooltip_Sort_Descending_Active@2x.png';gG.$0['TQRC_SPLIT']='tableau-1.3/res/vizTooltips/Tooltip_Split.png';gG.$0['TQRC_SPLIT_2X']='tableau-1.3/res/vizTooltips/Tooltip_Split@2x.png';gG.$0['TQRC_SPLIT_ACTIVE']='tableau-1.3/res/vizTooltips/Tooltip_Split_Active.png';gG.$0['TQRC_SPLIT_ACTIVE_2X']='tableau-1.3/res/vizTooltips/Tooltip_Split_Active@2x.png';gG.$0['TQRC_SHOWME_BIN']='tableau-1.3/res/showme/ShowMe_NumericBin.png';gG.$0['TQRC_SHOWME_BIN_2X']='tableau-1.3/res/showme/ShowMe_NumericBin@2x.png';gG.$0['TQRC_SHOWME_SUGGESTED']='tableau-1.3/res/showme/ShowMe_Check.png';gG.$0['TQRC_SHOWME_SUGGESTED_2X']='tableau-1.3/res/showme/ShowMe_Check@2x.png';gG.$0['TQRC_SHOWME_CLOSE']='tableau-1.3/res/showme/ShowMe_Close.png';gG.$0['TQRC_SHOWME_CLOSE_2X']='tableau-1.3/res/showme/ShowMe_Close@2x.png';gG.$0['TQRC_SHOWME_CLOSE_PRESS']='tableau-1.3/res/showme/ShowMe_Close_Active.png';gG.$0['TQRC_SHOWME_CLOSE_PRESS_2X']='tableau-1.3/res/showme/ShowMe_Close_Active@2x.png';gG.$0['TQRC_SHOWME_DATE']='tableau-1.3/res/showme/ShowMe_Date.png';gG.$0['TQRC_SHOWME_DATE_2X']='tableau-1.3/res/showme/ShowMe_Date@2x.png';gG.$0['TQRC_SHOWME_GEO']='tableau-1.3/res/showme/ShowMe_Geo.png';gG.$0['TQRC_SHOWME_GEO_2X']='tableau-1.3/res/showme/ShowMe_Geo@2x.png';gG.$0['TQRC_SHOWME_GLOW']='tableau-1.3/res/showme/glow.png';gG.$0['TQRC_SHOWME_GLOW_2X']='tableau-1.3/res/showme/glow@2x.png';gG.$0['TQRC_SHOWME_GRIPPER']='tableau-1.3/res/showme/gripper.png';gG.$0['TQRC_SHOWME_GRIPPER_2X']='tableau-1.3/res/showme/gripper@2x.png';gG.$0['TQRC_SHOWME_SHOWME']='tableau-1.3/res/showme/showme.png';gG.$0['TQRC_SHOWME_SHOWME_2X']='tableau-1.3/res/showme/showme@2x.png';gG.$0['TQRC_SHOWME_TITLE_BACKGROUND_HOVER']='tableau-1.3/res/showme/Title-background-hover.png';gG.$0['TQRC_SHOWME_TITLE_BACKGROUND_HOVER_2X']='tableau-1.3/res/showme/Title-background-hover@2x.png';gG.$0['TQRC_SHOWME_TITLE_BACKGROUND_REST']='tableau-1.3/res/showme/Title-background-rest.png';gG.$0['TQRC_SHOWME_TITLE_BACKGROUND_REST_2X']='tableau-1.3/res/showme/Title-background-rest@2x.png';gG.$0['TQRC_SHOWME_AREAMEAS']='tableau-1.3/res/showme/ShowMe_AreaContinuous.png';gG.$0['TQRC_SHOWME_AREADIM']='tableau-1.3/res/showme/ShowMe_AreaDiscrete.png';gG.$0['TQRC_SHOWME_FILLEDMAPS']='tableau-1.3/res/showme/ShowMe_AreaMap.png';gG.$0['TQRC_SHOWME_BOXPLOT']='tableau-1.3/res/showme/ShowMe_BoxAndWhisker.png';gG.$0['TQRC_SHOWME_BUBBLE']='tableau-1.3/res/showme/ShowMe_Bubble.png';gG.$0['TQRC_SHOWME_BULLET']='tableau-1.3/res/showme/ShowMe_Bullet.png';gG.$0['TQRC_SHOWME_CIRCLE']='tableau-1.3/res/showme/ShowMe_Circles.png';gG.$0['TQRC_SHOWME_BARLINE']='tableau-1.3/res/showme/ShowMe_DualCombination.png';gG.$0['TQRC_SHOWME_DUALLINE']='tableau-1.3/res/showme/ShowMe_DualLine.png';gG.$0['TQRC_SHOWME_GANTT']='tableau-1.3/res/showme/ShowMe_Gantt.png';gG.$0['TQRC_SHOWME_HEATMAP']='tableau-1.3/res/showme/ShowMe_HeatMap.png';gG.$0['TQRC_SHOWME_SPOTTABLE']='tableau-1.3/res/showme/ShowMe_HighlightTable.png';gG.$0['TQRC_SHOWME_HISTOGRAM']='tableau-1.3/res/showme/ShowMe_Histogram.png';gG.$0['TQRC_SHOWME_BARHORIZONTAL']='tableau-1.3/res/showme/ShowMe_HorizontalBars.png';gG.$0['TQRC_SHOWME_LINEMEAS']='tableau-1.3/res/showme/ShowMe_LinesContinuous.png';gG.$0['TQRC_SHOWME_LINEDIM']='tableau-1.3/res/showme/ShowMe_LinesDiscrete.png';gG.$0['TQRC_SHOWME_PIES']='tableau-1.3/res/showme/ShowMe_Pie.png';gG.$0['TQRC_SHOWME_SCATSING']='tableau-1.3/res/showme/ShowMe_Scatter.png';gG.$0['TQRC_SHOWME_BARSIDEBY']='tableau-1.3/res/showme/ShowMe_SideBySideBars.png';gG.$0['TQRC_SHOWME_CIRCLESIDEBYSIDE']='tableau-1.3/res/showme/ShowMe_SideBySideCircles.png';gG.$0['TQRC_SHOWME_BARSTACKED']='tableau-1.3/res/showme/ShowMe_StackedBars.png';gG.$0['TQRC_SHOWME_MAPS']='tableau-1.3/res/showme/ShowMe_SymbolMap.png';gG.$0['TQRC_SHOWME_TEXTTABLE']='tableau-1.3/res/showme/ShowMe_TextTable.png';gG.$0['TQRC_SHOWME_TREEMAP']='tableau-1.3/res/showme/ShowMe_TreeMap.png';gG.$0['TQRC_SHOWME_AREAMEAS_2X']='tableau-1.3/res/showme/ShowMe_AreaContinuous@2x.png';gG.$0['TQRC_SHOWME_AREADIM_2X']='tableau-1.3/res/showme/ShowMe_AreaDiscrete@2x.png';gG.$0['TQRC_SHOWME_FILLEDMAPS_2X']='tableau-1.3/res/showme/ShowMe_AreaMap@2x.png';gG.$0['TQRC_SHOWME_BOXPLOT_2X']='tableau-1.3/res/showme/ShowMe_BoxAndWhisker@2x.png';gG.$0['TQRC_SHOWME_BUBBLE_2X']='tableau-1.3/res/showme/ShowMe_Bubble@2x.png';gG.$0['TQRC_SHOWME_BULLET_2X']='tableau-1.3/res/showme/ShowMe_Bullet@2x.png';gG.$0['TQRC_SHOWME_CIRCLE_2X']='tableau-1.3/res/showme/ShowMe_Circles@2x.png';gG.$0['TQRC_SHOWME_BARLINE_2X']='tableau-1.3/res/showme/ShowMe_DualCombination@2x.png';gG.$0['TQRC_SHOWME_DUALLINE_2X']='tableau-1.3/res/showme/ShowMe_DualLine@2x.png';gG.$0['TQRC_SHOWME_GANTT_2X']='tableau-1.3/res/showme/ShowMe_Gantt@2x.png';gG.$0['TQRC_SHOWME_HEATMAP_2X']='tableau-1.3/res/showme/ShowMe_HeatMap@2x.png';gG.$0['TQRC_SHOWME_SPOTTABLE_2X']='tableau-1.3/res/showme/ShowMe_HighlightTable@2x.png';gG.$0['TQRC_SHOWME_HISTOGRAM_2X']='tableau-1.3/res/showme/ShowMe_Histogram@2x.png';gG.$0['TQRC_SHOWME_BARHORIZONTAL_2X']='tableau-1.3/res/showme/ShowMe_HorizontalBars@2x.png';gG.$0['TQRC_SHOWME_LINEDIM_2X']='tableau-1.3/res/showme/ShowMe_LinesDiscrete@2x.png';gG.$0['TQRC_SHOWME_LINEMEAS_2X']='tableau-1.3/res/showme/ShowMe_LinesContinuous@2x.png';gG.$0['TQRC_SHOWME_PIES_2X']='tableau-1.3/res/showme/ShowMe_Pie@2x.png';gG.$0['TQRC_SHOWME_SCATSING_2X']='tableau-1.3/res/showme/ShowMe_Scatter@2x.png';gG.$0['TQRC_SHOWME_BARSIDEBY_2X']='tableau-1.3/res/showme/ShowMe_SideBySideBars@2x.png';gG.$0['TQRC_SHOWME_CIRCLESIDEBYSIDE_2X']='tableau-1.3/res/showme/ShowMe_SideBySideCircles@2x.png';gG.$0['TQRC_SHOWME_BARSTACKED_2X']='tableau-1.3/res/showme/ShowMe_StackedBars@2x.png';gG.$0['TQRC_SHOWME_MAPS_2X']='tableau-1.3/res/showme/ShowMe_SymbolMap@2x.png';gG.$0['TQRC_SHOWME_TEXTTABLE_2X']='tableau-1.3/res/showme/ShowMe_TextTable@2x.png';gG.$0['TQRC_SHOWME_TREEMAP_2X']='tableau-1.3/res/showme/ShowMe_TreeMap@2x.png';gG.$0['TQRC_SHOWME_1_BARSTACKED']='tableau-1.3/res/showme/enabled/BarStacked.png';gG.$0['TQRC_SHOWME_1_BARSIDEBY']='tableau-1.3/res/showme/enabled/BarSideBySide.png';gG.$0['TQRC_SHOWME_1_BARHORIZONTAL']='tableau-1.3/res/showme/enabled/BarHorizontal.png';gG.$0['TQRC_SHOWME_1_BARLINE']='tableau-1.3/res/showme/enabled/BarLine.png';gG.$0['TQRC_SHOWME_1_CIRCLE']='tableau-1.3/res/showme/enabled/Circle.png';gG.$0['TQRC_SHOWME_1_CIRCLESIDEBYSIDE']='tableau-1.3/res/showme/enabled/CircleSideBySide.png';gG.$0['TQRC_SHOWME_1_GANTT']='tableau-1.3/res/showme/enabled/Gantt.png';gG.$0['TQRC_SHOWME_1_HEATMAP']='tableau-1.3/res/showme/enabled/HeatMap.png';gG.$0['TQRC_SHOWME_1_HISTOGRAM']='tableau-1.3/res/showme/enabled/Histogram.png';gG.$0['TQRC_SHOWME_1_LINEDIM']='tableau-1.3/res/showme/enabled/LineDimension.png';gG.$0['TQRC_SHOWME_1_LINEMEAS']='tableau-1.3/res/showme/enabled/LineMeasure.png';gG.$0['TQRC_SHOWME_1_AREAMEAS']='tableau-1.3/res/showme/enabled/FilledLineContinuous.png';gG.$0['TQRC_SHOWME_1_AREADIM']='tableau-1.3/res/showme/enabled/FilledLineDiscrete.png';gG.$0['TQRC_SHOWME_1_SCATSING']='tableau-1.3/res/showme/enabled/ScatterSingle.png';gG.$0['TQRC_SHOWME_1_TEXTTABLE']='tableau-1.3/res/showme/enabled/TextTable.png';gG.$0['TQRC_SHOWME_1_SPOTTABLE']='tableau-1.3/res/showme/enabled/SpotTable.png';gG.$0['TQRC_SHOWME_1_MAPS']='tableau-1.3/res/showme/enabled/Maps.png';gG.$0['TQRC_SHOWME_1_FILLEDMAPS']='tableau-1.3/res/showme/enabled/FilledMaps.png';gG.$0['TQRC_SHOWME_1_PIES']='tableau-1.3/res/showme/enabled/Pies.png';gG.$0['TQRC_SHOWME_1_DUALLINE']='tableau-1.3/res/showme/enabled/DualAxis.png';gG.$0['TQRC_SHOWME_1_BULLET']='tableau-1.3/res/showme/enabled/Bullet.png';gG.$0['TQRC_SHOWME_1_TREEMAP']='tableau-1.3/res/showme/enabled/Treemap.png';gG.$0['TQRC_SHOWME_1_BUBBLE']='tableau-1.3/res/showme/enabled/Bubble.png';gG.$0['TQRC_SHOWME_1_BOXPLOT']='tableau-1.3/res/showme/enabled/Boxplot.png';gG.$0['TQRC_SHOWME_1_BARSTACKED_2X']='tableau-1.3/res/showme/enabled/BarStacked@2x.png';gG.$0['TQRC_SHOWME_1_BARSIDEBY_2X']='tableau-1.3/res/showme/enabled/BarSideBySide@2x.png';gG.$0['TQRC_SHOWME_1_BARHORIZONTAL_2X']='tableau-1.3/res/showme/enabled/BarHorizontal@2x.png';gG.$0['TQRC_SHOWME_1_BARLINE_2X']='tableau-1.3/res/showme/enabled/BarLine@2x.png';gG.$0['TQRC_SHOWME_1_CIRCLE_2X']='tableau-1.3/res/showme/enabled/Circle@2x.png';gG.$0['TQRC_SHOWME_1_CIRCLESIDEBYSIDE_2X']='tableau-1.3/res/showme/enabled/CircleSideBySide@2x.png';gG.$0['TQRC_SHOWME_1_GANTT_2X']='tableau-1.3/res/showme/enabled/Gantt@2x.png';gG.$0['TQRC_SHOWME_1_HEATMAP_2X']='tableau-1.3/res/showme/enabled/HeatMap@2x.png';gG.$0['TQRC_SHOWME_1_HISTOGRAM_2X']='tableau-1.3/res/showme/enabled/Histogram@2x.png';gG.$0['TQRC_SHOWME_1_LINEDIM_2X']='tableau-1.3/res/showme/enabled/LineDimension@2x.png';gG.$0['TQRC_SHOWME_1_LINEMEAS_2X']='tableau-1.3/res/showme/enabled/LineMeasure@2x.png';gG.$0['TQRC_SHOWME_1_AREAMEAS_2X']='tableau-1.3/res/showme/enabled/FilledLineContinuous@2x.png';gG.$0['TQRC_SHOWME_1_AREADIM_2X']='tableau-1.3/res/showme/enabled/FilledLineDiscrete@2x.png';gG.$0['TQRC_SHOWME_1_SCATSING_2X']='tableau-1.3/res/showme/enabled/ScatterSingle@2x.png';gG.$0['TQRC_SHOWME_1_TEXTTABLE_2X']='tableau-1.3/res/showme/enabled/TextTable@2x.png';gG.$0['TQRC_SHOWME_1_SPOTTABLE_2X']='tableau-1.3/res/showme/enabled/SpotTable@2x.png';gG.$0['TQRC_SHOWME_1_MAPS_2X']='tableau-1.3/res/showme/enabled/Maps@2x.png';gG.$0['TQRC_SHOWME_1_FILLEDMAPS_2X']='tableau-1.3/res/showme/enabled/FilledMaps@2x.png';gG.$0['TQRC_SHOWME_1_PIES_2X']='tableau-1.3/res/showme/enabled/Pies@2x.png';gG.$0['TQRC_SHOWME_1_DUALLINE_2X']='tableau-1.3/res/showme/enabled/DualAxis@2x.png';gG.$0['TQRC_SHOWME_1_BULLET_2X']='tableau-1.3/res/showme/enabled/Bullet@2x.png';gG.$0['TQRC_SHOWME_1_TREEMAP_2X']='tableau-1.3/res/showme/enabled/Treemap@2x.png';gG.$0['TQRC_SHOWME_1_BUBBLE_2X']='tableau-1.3/res/showme/enabled/Bubble@2x.png';gG.$0['TQRC_SHOWME_1_BOXPLOT_2X']='tableau-1.3/res/showme/enabled/Boxplot@2x.png';gG.$0['TQRC_SHOWME_0_BARSTACKED']='tableau-1.3/res/showme/disabled/BarStacked.png';gG.$0['TQRC_SHOWME_0_BARSIDEBY']='tableau-1.3/res/showme/disabled/BarSideBySide.png';gG.$0['TQRC_SHOWME_0_BARHORIZONTAL']='tableau-1.3/res/showme/disabled/BarHorizontal.png';gG.$0['TQRC_SHOWME_0_BARLINE']='tableau-1.3/res/showme/disabled/BarLine.png';gG.$0['TQRC_SHOWME_0_CIRCLE']='tableau-1.3/res/showme/disabled/Circle.png';gG.$0['TQRC_SHOWME_0_CIRCLESIDEBYSIDE']='tableau-1.3/res/showme/disabled/CircleSideBySide.png';gG.$0['TQRC_SHOWME_0_GANTT']='tableau-1.3/res/showme/disabled/Gantt.png';gG.$0['TQRC_SHOWME_0_HEATMAP']='tableau-1.3/res/showme/disabled/HeatMap.png';gG.$0['TQRC_SHOWME_0_HISTOGRAM']='tableau-1.3/res/showme/disabled/Histogram.png';gG.$0['TQRC_SHOWME_0_LINEDIM']='tableau-1.3/res/showme/disabled/LineDimension.png';gG.$0['TQRC_SHOWME_0_LINEMEAS']='tableau-1.3/res/showme/disabled/LineMeasure.png';gG.$0['TQRC_SHOWME_0_AREAMEAS']='tableau-1.3/res/showme/disabled/FilledLineContinuous.png';gG.$0['TQRC_SHOWME_0_AREADIM']='tableau-1.3/res/showme/disabled/FilledLineDiscrete.png';gG.$0['TQRC_SHOWME_0_SCATSING']='tableau-1.3/res/showme/disabled/ScatterSingle.png';gG.$0['TQRC_SHOWME_0_TEXTTABLE']='tableau-1.3/res/showme/disabled/TextTable.png';gG.$0['TQRC_SHOWME_0_SPOTTABLE']='tableau-1.3/res/showme/disabled/SpotTable.png';gG.$0['TQRC_SHOWME_0_MAPS']='tableau-1.3/res/showme/disabled/Maps.png';gG.$0['TQRC_SHOWME_0_FILLEDMAPS']='tableau-1.3/res/showme/disabled/FilledMaps.png';gG.$0['TQRC_SHOWME_0_PIES']='tableau-1.3/res/showme/disabled/Pies.png';gG.$0['TQRC_SHOWME_0_DUALLINE']='tableau-1.3/res/showme/disabled/DualAxis.png';gG.$0['TQRC_SHOWME_0_BULLET']='tableau-1.3/res/showme/disabled/Bullet.png';gG.$0['TQRC_SHOWME_0_TREEMAP']='tableau-1.3/res/showme/disabled/Treemap.png';gG.$0['TQRC_SHOWME_0_BUBBLE']='tableau-1.3/res/showme/disabled/Bubble.png';gG.$0['TQRC_SHOWME_0_BOXPLOT']='tableau-1.3/res/showme/disabled/Boxplot.png';gG.$0['TQRC_SHOWME_0_BARSTACKED_2X']='tableau-1.3/res/showme/disabled/BarStacked@2x.png';gG.$0['TQRC_SHOWME_0_BARSIDEBY_2X']='tableau-1.3/res/showme/disabled/BarSideBySide@2x.png';gG.$0['TQRC_SHOWME_0_BARHORIZONTAL_2X']='tableau-1.3/res/showme/disabled/BarHorizontal@2x.png';gG.$0['TQRC_SHOWME_0_BARLINE_2X']='tableau-1.3/res/showme/disabled/BarLine@2x.png';gG.$0['TQRC_SHOWME_0_CIRCLE_2X']='tableau-1.3/res/showme/disabled/Circle@2x.png';gG.$0['TQRC_SHOWME_0_CIRCLESIDEBYSIDE_2X']='tableau-1.3/res/showme/disabled/CircleSideBySide@2x.png';gG.$0['TQRC_SHOWME_0_GANTT_2X']='tableau-1.3/res/showme/disabled/Gantt@2x.png';gG.$0['TQRC_SHOWME_0_HEATMAP_2X']='tableau-1.3/res/showme/disabled/HeatMap@2x.png';gG.$0['TQRC_SHOWME_0_HISTOGRAM_2X']='tableau-1.3/res/showme/disabled/Histogram@2x.png';gG.$0['TQRC_SHOWME_0_LINEDIM_2X']='tableau-1.3/res/showme/disabled/LineDimension@2x.png';gG.$0['TQRC_SHOWME_0_LINEMEAS_2X']='tableau-1.3/res/showme/disabled/LineMeasure@2x.png';gG.$0['TQRC_SHOWME_0_AREAMEAS_2X']='tableau-1.3/res/showme/disabled/FilledLineContinuous@2x.png';gG.$0['TQRC_SHOWME_0_AREADIM_2X']='tableau-1.3/res/showme/disabled/FilledLineDiscrete@2x.png';gG.$0['TQRC_SHOWME_0_SCATSING_2X']='tableau-1.3/res/showme/disabled/ScatterSingle@2x.png';gG.$0['TQRC_SHOWME_0_TEXTTABLE_2X']='tableau-1.3/res/showme/disabled/TextTable@2x.png';gG.$0['TQRC_SHOWME_0_SPOTTABLE_2X']='tableau-1.3/res/showme/disabled/SpotTable@2x.png';gG.$0['TQRC_SHOWME_0_MAPS_2X']='tableau-1.3/res/showme/disabled/Maps@2x.png';gG.$0['TQRC_SHOWME_0_FILLEDMAPS_2X']='tableau-1.3/res/showme/disabled/FilledMaps@2x.png';gG.$0['TQRC_SHOWME_0_PIES_2X']='tableau-1.3/res/showme/disabled/Pies@2x.png';gG.$0['TQRC_SHOWME_0_DUALLINE_2X']='tableau-1.3/res/showme/disabled/DualAxis@2x.png';gG.$0['TQRC_SHOWME_0_BULLET_2X']='tableau-1.3/res/showme/disabled/Bullet@2x.png';gG.$0['TQRC_SHOWME_0_TREEMAP_2X']='tableau-1.3/res/showme/disabled/Treemap@2x.png';gG.$0['TQRC_SHOWME_0_BUBBLE_2X']='tableau-1.3/res/showme/disabled/Bubble@2x.png';gG.$0['TQRC_SHOWME_0_BOXPLOT_2X']='tableau-1.3/res/showme/disabled/Boxplot@2x.png';gG.$0['TQRC_TREE_MINUS']='tableau-1.3/res/others/TreeMinus.png';gG.$0['TQRC_TREE_MINUS_2X']='tableau-1.3/res/others/TreeMinus@2x.png';gG.$0['TQRC_TREE_PLUS']='tableau-1.3/res/others/TreePlus.png';gG.$0['TQRC_TREE_PLUS_2X']='tableau-1.3/res/others/TreePlus@2x.png';gG.$0['TQRC_ANALYTICSPANE_DROP_TABLE']='tableau-1.3/res/analyticspane/drop/table.png';gG.$0['TQRC_ANALYTICSPANE_DROP_PANE']='tableau-1.3/res/analyticspane/drop/pane.png';gG.$0['TQRC_ANALYTICSPANE_DROP_CELL']='tableau-1.3/res/analyticspane/drop/cell.png';gG.$0['TQRC_ANALYTICSPANE_DROP_LINEAR']='tableau-1.3/res/analyticspane/drop/trend-linear.png';gG.$0['TQRC_ANALYTICSPANE_DROP_POLY']='tableau-1.3/res/analyticspane/drop/trend-polynomial.png';gG.$0['TQRC_ANALYTICSPANE_DROP_POWER']='tableau-1.3/res/analyticspane/drop/trend-power.png';gG.$0['TQRC_ANALYTICSPANE_DROP_LOG']='tableau-1.3/res/analyticspane/drop/trend-logarithmic.png';gG.$0['TQRC_ANALYTICSPANE_DROP_EXP']='tableau-1.3/res/analyticspane/drop/trend-exponential.png';gG.$0['TQRC_ANALYTICSPANE_DROP_SUBTOTAL']='tableau-1.3/res/analyticspane/drop/sub-total.png';gG.$0['TQRC_ANALYTICSPANE_DROP_COLUMN']='tableau-1.3/res/analyticspane/drop/column-total.png';gG.$0['TQRC_ANALYTICSPANE_DROP_ROW']='tableau-1.3/res/analyticspane/drop/row-total.png';gG.$0['TQRC_ANALYTICSPANE_DROP_FORECAST']='tableau-1.3/res/analyticspane/drop/forecast.png';gG.$0['TQRC_ANALYTICSPANE_DROP_CLUSTER']='tableau-1.3/res/analyticspane/drop/cluster.png';gG.$0['TQRC_ANALYTICSPANE_DROP_OUTLIER']='tableau-1.3/res/analyticspane/drop/outliers.png';gG.$0['TQRC_ANALYTICSPANE_REFLINE']='tableau-1.3/res/analyticspane/refline.png';gG.$0['TQRC_ANALYTICSPANE_REFBAND']='tableau-1.3/res/analyticspane/refband.png';gG.$0['TQRC_ANALYTICSPANE_DISTBAND']='tableau-1.3/res/analyticspane/distband.png';gG.$0['TQRC_ANALYTICSPANE_BOXPLOT']='tableau-1.3/res/analyticspane/boxplot.png';gG.$0['TQRC_ANALYTICSPANE_TOTAL']='tableau-1.3/res/analyticspane/total.png';gG.$0['TQRC_ANALYTICSPANE_TRENDLINE']='tableau-1.3/res/analyticspane/trendline.png';gG.$0['TQRC_ANALYTICSPANE_95ANDMEDIAN']='tableau-1.3/res/analyticspane/95andmedian.png';gG.$0['TQRC_ANALYTICSPANE_FORECAST']='tableau-1.3/res/analyticspane/forecast.png';gG.$0['TQRC_ANALYTICSPANE_CLUSTER']='tableau-1.3/res/analyticspane/cluster.png';gG.$0['TQRC_ANALYTICSPANE_OUTLIER']='tableau-1.3/res/analyticspane/outliers.png'})();(function(){hu.$0={}})();(function(){bC.$0='granted'})();(function(){fT.$1=0})();(function(){bX.$4='get_customized_views';bX.$6='set_default_customized_view';bX.$3='destroy_customized_view';bX.$5='save_customized_view';bX.$7='update_customized_view';bX.$2=tab.Logger.getLogger(bX)})();(function(){cj.everyTime=0;cj.hourly=60;cj.daily=1440;cj.weekly=10080;cj.onlyOnce=2147483647})();(function(){cy.$0=null})();(function(){cE.$1=null;if(tab.FeatureFlags.isEnabled('TAA_HybridDialogs')){cE.$1=eC.registerRawJsModule('@tableau/dialog-api-contract','dialog-api-contract-web.min','dialog-api-contract-web').andLoadOnDemandIf(true).moduleBeingConfigured;if(tab.FeatureFlags.isEnabled('BinHybridDialog')){cE.$0('numeric-bin-dialog','update-numeric-bin-edit-dialog-event')}if(tab.FeatureFlags.isEnabled('EditAxisDialog')){cE.$0('edit-axis-dialog','update-edit-axis-dialog-event')}}})();(function(){cP.$0=5000;cP.$1=120;cP.$2=0;if(typeof(tsConfig)==='undefined'){return}var e=tsConfig.clientErrorReportingLevel;if(!ss.isNullOrEmptyString(e)){tab.ErrorTrace.install();cP.$2=window.setInterval(cP.reportFailures,5000)}})();(function(){es.mapOptionsDialogWidth=180})();(function(){fy.shapeMapping=null;fy.reverseShapeMapping=null;fy.$1=null;fy.$0=null;fy.lineInterpolationMapping=null;fy.lineMarkerPositionMapping=null;fy.$1={};fy.$1['enable-pan-x']=1;fy.$1['enable-pan-y']=2;fy.$1['enable-zoom-x']=4;fy.$1['enable-zoom-y']=8;fy.$1['enable-scale-x']=16;fy.$1['enable-scale-y']=32;fy.$1['clip-to-cell-x']=64;fy.$1['clip-to-cell-y']=128;fy.$1['clip-to-cell-for-selection']=256;fy.$1['x-axis-on-top']=512;fy.$1['y-axis-on-right']=1024;fy.$1['has-cells-x']=2048;fy.$1['has-cells-y']=4096;fy.$0={};fy.$0['end']=1;fy.$0['endprimitive']=2;fy.$0['closedprimitive']=4;fy.$0['marked']=8;fy.$0['markediflabel']=16;fy.$0['debug']=128;fy.$0['user']=65536;fy.shapeMapping=ss.mkdict(['0','shapeIDCircle','1','shapeIDSquare','2','shapeIDPlus','3','shapeIDTimes','4','shapeIDAsterisk','5','shapeIDDiamond','6','shapeIDTriangle','7','shapeIDDownTriangle','8','shapeIDLeftTriangle','9','shapeIDRightTriangle','4194304','shapeIDFilledCircle','4194305','shapeIDFilledSquare','4194306','shapeIDFilledPlus','4194307','shapeIDFilledTimes','4194308','shapeIDFilledStar','4194309','shapeIDFilledDiamond','4194310','shapeIDFilledTriangle','4194311','shapeIDFilledDownTriangle','4194312','shapeIDFilledLeftTriangle','4194313','shapeIDFilledRightTriangle','-4194304','shapeIDUnscaledFilledCircle']);fy.reverseShapeMapping={};var e=_.keys(fy.shapeMapping);for(var hM=0;hM<e.length;hM++){var hN=e[hM];fy.reverseShapeMapping[fy.shapeMapping[hN]]=hN}fy.lineInterpolationMapping=ss.mkdict(['0','lim-linear','1','lim-step','2','lim-jump']);fy.lineMarkerPositionMapping=ss.mkdict(['0','lmp-left','1','lmp-center','2','lmp-right'])})();(function(){eO.currentPage=4294967295})();(function(){fa.$0=null})();(function(){fB.blackColor=null;var e=(new bs(0,0,0,1)).toRgba();fB.blackColor={};fB.blackColor['colorOverrideNone']=e;fB.blackColor['colorOverrideFog']=e;fB.blackColor['colorOverrideOpaque']=e})();(function(){gN.$1=new RegExp('^https?://[^/]+(.*)$')})();(function(){gU.$e=['<span style="white-space:pre"><div class="uberSelection"style="text-align:center;"><span>&nbsp;&nbsp;</span>','<span style="font-weight:bold;">','','</span><span> ','','  </span><span>','·','  </span><span>','',' </span><span>','','</span><span>',': ','</span><span style="font-weight:bold;">','','</span><span>&nbsp;&nbsp;','</span></div></span>'];gU.$f=['<div class="uberSelection"style="text-align:center;"><span></span>','<span style="font-weight:bold;"> ','',' </span><span>','','</span><div> ']})()})();;
/*! BEGIN TableauRuntime */
(function(){'dont use strict';var a={};global.tab=global.tab||{};ss.initAssembly(a,'tabruntime');var b=function(){};b.__typeName='DataStoreMarshaller';b.createInstance=function(){return new Module.DataStoreMarshaller};global.DataStoreMarshaller=b;var c=function(bm){this.$b=0;this.$9=0;this.$e=0;this.$a=new Array;this.$d=new Array;this.$7=new Array;this.$c=null;this.$8=null;this.$c=bm;this.$a.push(true);this.$8={};this.$d.push(this.$8);this.$7.push([])};c.__typeName='tab.$0';var d=function(){g.call(this)};d.__typeName='tab.ArrayType';global.tab.ArrayType=d;var e=function(){};e.__typeName='tab.Base64HeapDecoder';e.$0=function(bm){if(ss.isNullOrUndefined(e.$1)){e.$1=new Array(4);for(var bn=0;bn<e.$2.length;++bn){e.$1[e.$2.charCodeAt(bn)]=bn}}if(bm===61){return 0}else{return e.$1[bm]}};e.decodedLength=function(bm){var bn=0;var bo=bm.length;var bp=bo;if(bm.charCodeAt(bo-2)===61){bn=4;bp-=2;if(bm.charCodeAt(bo-1)!==61){throw new ss.Exception('Received incorrectly formatted base64 string!')}}else if(bm.charCodeAt(bo-1)===61){bp-=1;bn=2}return ss.Int32.div(bp*6-bn,8)};e.run=function(bm,bn,bo){var bp=bo.length;var bq=0,br=0,bs=0,bt=0;var bu=0;var bv=e.decodedLength(bo);for(var bw=0;bw<bp;bw+=4){bq=e.$0(bo.charCodeAt(bw));br=e.$0(bo.charCodeAt(bw+1));bs=e.$0(bo.charCodeAt(bw+2));bt=e.$0(bo.charCodeAt(bw+3));bn[bm++]=bq<<2|br>>>4;bu++;if(bu<bv){bn[bm++]=(br&15)<<4|bs>>>2;bu++}if(bu<bv){bn[bm++]=(bs&3)<<6|bt&63;bu++}}};global.tab.Base64HeapDecoder=e;var f=function(){bg.call(this)};f.__typeName='tab.BoolType';global.tab.BoolType=f;var g=function(){bg.call(this)};g.__typeName='tab.CollectionType';global.tab.CollectionType=g;var h=function(){bg.call(this)};h.__typeName='tab.ColorType';global.tab.ColorType=h;var i=function(){};i.__typeName='tab.ColumnIterable';global.tab.ColumnIterable=i;var j=function(){};j.__typeName='tab.ColumnIterator';global.tab.ColumnIterator=j;var k=function(){};k.__typeName='tab.DataStore';global.tab.DataStore=k;var l=function(){};l.__typeName='tab.DataStoreKey';global.tab.DataStoreKey=l;var m=function(){};m.__typeName='tab.DataStoreUtils';m.$0=function(bm,bn,bo,bp){if(!tab.MiscUtil.isNullOrEmpty(bn)){var bq={};bq.dataType=U.dataTypeFromStoreType(bp);bq.stringCollation={};bq.stringCollation.name='';bq.stringCollation.charsetId=0;bq.dataValues=bn;bm[bo]=bq}};m.encodingsFromStoreTable=function(bm){var bn={};m.$0(bn,bm.cell_x,'cell_x',new W.$ctor1(1));m.$0(bn,bm.cell_y,'cell_y',new W.$ctor1(1));m.$0(bn,bm.clip_height,'clip_height',new W.$ctor1(3));m.$0(bn,bm.clip_width,'clip_width',new W.$ctor1(3));m.$0(bn,bm.color,'color',new W.$ctor1(1));m.$0(bn,bm.geometry,'geometry',new W.$ctor1(1));m.$0(bn,bm.height,'height',new W.$ctor1(3));m.$0(bn,bm.mark_flags,'mark_flags',new W.$ctor1(1));m.$0(bn,bm.pane_page,'pane_page',new W.$ctor1(1));m.$0(bn,bm.rho,'rho',new W.$ctor1(4));m.$0(bn,bm.rho1,'rho1',new W.$ctor1(4));m.$0(bn,bm.shape_id,'shape_id',new W.$ctor1(1));m.$0(bn,bm.size,'size',new W.$ctor1(3));m.$0(bn,bm.size_label,'size_label',new W.$ctor1(4));m.$0(bn,bm.text_run_count,'text_run_count',new W.$ctor1(1));m.$0(bn,bm.text_run_offset,'text_run_offset',new W.$ctor1(1));m.$0(bn,bm.theta,'theta',new W.$ctor1(4));m.$0(bn,bm.theta1,'theta1',new W.$ctor1(4));m.$0(bn,bm.trail_id,'trail_id',new W.$ctor1(1));m.$0(bn,bm.tuple_id,'tuple_id',new W.$ctor1(1));m.$0(bn,bm.width,'width',new W.$ctor1(3));m.$0(bn,bm.user_pane_row,'user_pane_row',new W.$ctor1(1));m.$0(bn,bm.user_pane_col,'user_pane_col',new W.$ctor1(1));m.$0(bn,bm.x,'x',new W.$ctor1(4));m.$0(bn,bm.x1,'x1',new W.$ctor1(4));m.$0(bn,bm.x_next,'x_next',new W.$ctor1(4));m.$0(bn,bm.x_prev,'x_prev',new W.$ctor1(4));m.$0(bn,bm.y,'y',new W.$ctor1(4));m.$0(bn,bm.y1,'y1',new W.$ctor1(4));m.$0(bn,bm.y_next,'y_next',new W.$ctor1(4));m.$0(bn,bm.y_prev,'y_prev',new W.$ctor1(4));return bn};m.$2=function(bm,bn){if(!ss.isNullOrUndefined(bn.alpha)){bm.intMap['alpha']=bn.alpha}if(!ss.isNullOrUndefined(bn.background_color)){bm.intMap['background_color']=bn.background_color}if(!ss.isNullOrUndefined(bn.border_color)){bm.intMap['border_color']=bn.border_color}if(!ss.isNullOrUndefined(bn.clip_height)){bm.floatMap['clip_height']=bn.clip_height}if(!ss.isNullOrUndefined(bn.clip_width)){bm.floatMap['clip_width']=bn.clip_width}if(!ss.isNullOrUndefined(bn.draw_border)){bm.boolMap['draw_border']=bn.draw_border}if(!ss.isNullOrUndefined(bn.drop_line_flags)){bm.intMap['drop_line_flags']=bn.drop_line_flags}if(!ss.isNullOrUndefined(bn.halo_color)){bm.intMap['halo_color']=bn.halo_color}if(!ss.isNullOrUndefined(bn.has_folded_axis)){bm.boolMap['has_folded_axis']=bn.has_folded_axis}if(!ss.isNullOrUndefined(bn.has_halos)){bm.boolMap['has_halos']=bn.has_halos}if(!ss.isNullOrUndefined(bn.handle_specials_x)){bm.intMap['handle_specials_x']=bn.handle_specials_x}if(!ss.isNullOrUndefined(bn.handle_specials_y)){bm.intMap['handle_specials_y']=bn.handle_specials_y}if(!ss.isNullOrUndefined(bn.has_empty_or_equal_axis)){bm.boolMap['has_empty_or_equal_axis']=bn.has_empty_or_equal_axis}if(!ss.isNullOrUndefined(bn.height)){bm.floatMap['height']=bn.height}if(!ss.isNullOrUndefined(bn.highlighted_halo_color)){bm.intMap['highlighted_halo_color']=bn.highlighted_halo_color}if(!ss.isNullOrUndefined(bn.is_log_x)){bm.boolMap['is_log_x']=bn.is_log_x}if(!ss.isNullOrUndefined(bn.is_log_y)){bm.boolMap['is_log_y']=bn.is_log_y}if(!ss.isNullOrUndefined(bn.label_one_per_group)){bm.boolMap['label_one_per_group']=bn.label_one_per_group}if(!ss.isNullOrUndefined(bn.label_target_primitive_id)){bm.intMap['label_target_primitive_id']=bn.label_target_primitive_id}if(!ss.isNullOrUndefined(bn.line_interp)){bm.intMap['line_interp']=bn.line_interp}if(!ss.isNullOrUndefined(bn.line_mark_pos)){bm.intMap['line_mark_pos']=bn.line_mark_pos}if(!ss.isNullOrUndefined(bn.mark_flags)){bm.intMap['mark_flags']=bn.mark_flags}if(!ss.isNullOrUndefined(bn.mark_label_padding)){bm.intMap['mark_label_padding']=bn.mark_label_padding}if(!ss.isNullOrUndefined(bn.mark_trail_auto_color)){bm.boolMap['mark_trail_auto_color']=bn.mark_trail_auto_color}if(!ss.isNullOrUndefined(bn.mark_trail_color)){bm.intMap['mark_trail_color']=bn.mark_trail_color}if(!ss.isNullOrUndefined(bn.mark_trail_count)){bm.intMap['mark_trail_count']=bn.mark_trail_count}if(!ss.isNullOrUndefined(bn.mark_trail_end_effect)){bm.floatMap['mark_trail_end_effect']=bn.mark_trail_end_effect}if(!ss.isNullOrUndefined(bn.mark_trail_start_effect)){bm.floatMap['mark_trail_start_effect']=bn.mark_trail_start_effect}if(!ss.isNullOrUndefined(bn.mark_trail_transparency)){bm.boolMap['mark_trail_transparency']=bn.mark_trail_transparency}if(!ss.isNullOrUndefined(bn.min_bar_height)){bm.intMap['min_bar_height']=bn.min_bar_height}if(!ss.isNullOrUndefined(bn.min_bar_width)){bm.intMap['min_bar_width']=bn.min_bar_width}if(!ss.isNullOrUndefined(bn.page_trail_marks_to_trail)){bm.intMap['page_trail_marks_to_trail']=bn.page_trail_marks_to_trail}if(!ss.isNullOrUndefined(bn.pane_flags)){bm.intMap['pane_flags']=bn.pane_flags}if(!ss.isNullOrUndefined(bn.pane_has_background)){bm.boolMap['pane_has_background']=bn.pane_has_background}if(!ss.isNullOrUndefined(bn.selected_halo_color)){bm.intMap['selected_halo_color']=bn.selected_halo_color}if(!ss.isNullOrUndefined(bn.selected_multi_prim_halo_color)){bm.intMap['selected_multi_prim_halo_color']=bn.selected_multi_prim_halo_color}if(!ss.isNullOrUndefined(bn.shape_id)){bm.intMap['shape_id']=bn.shape_id}if(!ss.isNullOrUndefined(bn.size)){bm.floatMap['size']=bn.size}if(!ss.isNullOrUndefined(bn.width)){bm.floatMap['width']=bn.width}if(!ss.isNullOrUndefined(bn.wrap_domain)){bm.boolMap['wrap_domain']=bn.wrap_domain}};m.$1=function(bm,bn){m.$2(bm,bn.Parameters)};m.pdMarksPresModelFromKeyMap=function(bm){var bn={};bn.markLayoutPrimitive=p.primitiveFromInt(bm.MarkLayoutData.Parameters.PrimitiveType);bn.markLayoutVizType=p.vizTypeFromInt(bm.MarkLayoutData.Parameters.VizType);bn.boolMap={};bn.intMap={};bn.floatMap={};m.$3(bn,bm);bn.encodingColumns=m.encodingsFromStoreTable(bm.Encodings);if(!ss.isNullOrUndefined(bm.TextRunTable)){bn.textRunColumns=m.textRunsFromTable(bm.TextRunTable)}if(!ss.isNullOrUndefined(bm.TextStyleTable)){bn.textStyleColumns=m.textStylesFromTable(bm.TextStyleTable)}if(!ss.isNullOrUndefined(bm.MarkLayoutData.geoTable)){bn.markGeometries=bm.MarkLayoutData.geoTable}return bn};m.$3=function(bm,bn){bm.intMap['color']=bn.color;bm.boolMap['has_per_mark_color_encoding']=bn.has_per_mark_color_encoding;bm.boolMap['has_per_mark_size_encoding']=bn.has_per_mark_size_encoding;bm.boolMap['is_mark_stacked']=bn.is_mark_stacked;bm.boolMap['ShowLabels']=bn.ShowLabels;bm.boolMap['ShowRunningOrderLabels']=bn.ShowRunningOrderLabels;bm.intMap['LabelMode']=bn.LabelMode;m.$1(bm,bn.MarkLayoutData)};m.textRunsFromTable=function(bm){if(!ss.isNullOrUndefined(bm.text_run_x_remote)&&ss.isValue(bm.text_run_x_remote)){bm.text_run_x=bm.text_run_x_remote}if(!ss.isNullOrUndefined(bm.text_run_y_remote)&&ss.isValue(bm.text_run_y_remote)){bm.text_run_y=bm.text_run_y_remote}var bn={};m.$0(bn,bm.has_font_size_override,'has_font_size_override',new W.$ctor1(0));m.$0(bn,bm.text_run,'text_run',new W.$ctor1(5));m.$0(bn,bm.text_run_x,'text_run_x',new W.$ctor1(3));m.$0(bn,bm.text_run_x_remote,'text_run_x_remote',new W.$ctor1(3));m.$0(bn,bm.text_run_y,'text_run_y',new W.$ctor1(3));m.$0(bn,bm.text_run_y_remote,'text_run_y_remote',new W.$ctor1(3));m.$0(bn,bm.text_style_id,'text_style_id',new W.$ctor1(1));return bn};m.textStylesFromTable=function(bm){var bn={};m.$0(bn,bm.ascent,'ascent',new W.$ctor1(3));m.$0(bn,bm.font,'font',new W.$ctor1(5));m.$0(bn,bm.font_height,'font_height',new W.$ctor1(3));m.$0(bn,bm.font_size,'font_size',new W.$ctor1(1));m.$0(bn,bm.font_style,'font_style',new W.$ctor1(1));m.$0(bn,bm.font_weight,'font_weight',new W.$ctor1(1));m.$0(bn,bm.hAlign,'hAlign',new W.$ctor1(1));m.$0(bn,bm.leading,'leading',new W.$ctor1(3));m.$0(bn,bm.strikethrough,'strikethrough',new W.$ctor1(0));m.$0(bn,bm.text_alignment,'text_alignment',new W.$ctor1(1));m.$0(bn,bm.text_decoration,'text_decoration',new W.$ctor1(1));m.$0(bn,bm.text_orientation,'text_orientation',new W.$ctor1(1));m.$0(bn,bm.text_style_color,'text_style_color',new W.$ctor1(8));m.$0(bn,bm.text_wrap_mode,'text_wrap_mode',new W.$ctor1(1));m.$0(bn,bm.underline,'underline',new W.$ctor1(0));m.$0(bn,bm.vAlign,'vAlign',new W.$ctor1(1));return bn};global.tab.DataStoreUtils=m;var n=function(){bg.call(this)};n.__typeName='tab.DateTimeType';global.tab.DateTimeType=n;var o=function(){bg.call(this)};o.__typeName='tab.DateType';global.tab.DateType=o;var p=function(){};p.__typeName='tab.EnumConversions';p.visualPartFromInt=function(bm){if(ss.isNullOrUndefined(p.$1)){p.$1=['misc','annotations','axis-rules','top-axis','bottom-axis','left-axis','right-axis','background','borders','caption','cell-borders','decoration','drop-lines','x-labels','y-labels','legends','marks','mark-labels','mark-trails','ref-bands','ref-lines','pane-borders','scroll-bars','title','trend-lines','upper-map-layers']}return p.$1[bm]};p.primitiveFromInt=function(bm){if(ss.isNullOrUndefined(p.$0)){p.$0=['shape','line','bar','polar-bar','text','label','pie','area','polygon','multipolygon','square']}return p.$0[bm]};p.vizTypeFromInt=function(bm){if(ss.isNullOrUndefined(p.$2)){p.$2=['standard','oo-stacked','gantt-stacked','treemap','bubble','wordle','highlight']}return p.$2[bm]};global.tab.EnumConversions=p;var q=function(){};q.__typeName='tab.EnumValue';global.tab.EnumValue=q;var q=function(){};q.__typeName='tab.EnumValue';global.tab.EnumValue=q;var r=function(){bg.call(this)};r.__typeName='tab.ExternalType';global.tab.ExternalType=r;var s=function(){};s.__typeName='tab.FallbackTextDecoder';s.decode=function(bm){var bn,bo,bp,bq,br,bs;var bt=0;var bu='';while(bt<bm.byteLength){bn=bm[bt++];if(bn===0){return bu}if((bn&128)===0){bu+=String.fromCharCode(bn);continue}bo=bm[bt++]&63;if((bn&224)===192){bu+=String.fromCharCode((bn&31)<<6|bo);continue}bp=bm[bt++]&63;if((bn&240)===224){bn=(bn&15)<<12|bo<<6|bp}else{bq=bm[bt++]&63;if((bn&248)===240){bn=(bn&7)<<18|bo<<12|bp<<6|bq}else{br=bm[bt++]&63;if((bn&252)===248){bn=(bn&3)<<24|bo<<18|bp<<12|bq<<6|br}else{bs=bm[bt++]&63;bn=(bn&1)<<30|bo<<24|bp<<18|bq<<12|br<<6|bs}}}if(bn<65536){bu+=String.fromCharCode(bn)}else{var bv=bn-65536;bu+=String.fromCharCode(55296|bv>>10,56320|bv&1023)}}return bu};global.tab.FallbackTextDecoder=s;var t=function(){};t.__typeName='tab.FunctionLookup';global.tab.FunctionLookup=t;var u=function(){};u.__typeName='tab.FunctionsCore';global.tab.FunctionsCore=u;var v=function(){};v.__typeName='tab.FunctionsTest';global.tab.FunctionsTest=v;var w=function(){bg.call(this)};w.__typeName='tab.HeterogeneousType';global.tab.HeterogeneousType=w;var x=function(){};x.__typeName='tab.HuttUtils';x.getMappedArray=function(bm,bn,bo,bp){switch(bm){case 32:{return new Uint8Array(bn,bo,bp)}case 33:{return new Uint16Array(bn,bo,bp)}case 34:{return new Uint32Array(bn,bo,bp)}case 40:{return new Int8Array(bn,bo,bp)}case 41:{return new Int16Array(bn,bo,bp)}case 42:{return new Int32Array(bn,bo,bp)}case 50:{return new Float32Array(bn,bo,bp)}case 51:{return new Float64Array(bn,bo,bp)}}throw new ss.Exception('Unsupported array type: '+bm)};x.getMappedArrayJabba=function(bm,bn,bo,bp){var bq=x.$0(bm);var br=ss.Int32.div(bp,x.$0(bm));switch(bm){case 32:{return new Uint8Array(bn,bo,br)}case 33:{return new Uint16Array(bn,bo,br)}case 34:{return new Uint32Array(bn,bo,br)}case 40:{return new Int8Array(bn,bo,br)}case 41:{return new Int16Array(bn,bo,br)}case 42:{return new Int32Array(bn,bo,br)}case 50:{return new Float32Array(bn,bo,br)}case 51:{return new Float64Array(bn,bo,br)}}throw new ss.Exception('Unsupported array type: '+bm)};x.$0=function(bm){var bn=bm;return 1<<(bn&7)};global.tab.HuttUtils=x;var y=function(){bg.call(this)};y.__typeName='tab.IntType';global.tab.IntType=y;var z=function(){};z.__typeName='tab.IStoreDictionary_RString_StoreValuePtr';global.tab.IStoreDictionary_RString_StoreValuePtr=z;var A=function(){z.call(this)};A.__typeName='tab.IStoreKeyMap';global.tab.IStoreKeyMap=A;var B=function(){};B.__typeName='tab.IStoreTable';global.tab.IStoreTable=B;var C=function(){};C.__typeName='tab.IStoreTuple';global.tab.IStoreTuple=C;var D=function(){};D.__typeName='tab.IStoreValueIterable';global.tab.IStoreValueIterable=D;var E=function(){};E.__typeName='tab.IUniformCollection';global.tab.IUniformCollection=E;var F=function(bm,bn){this.typeId=0;this.encoding=0;this.dataOffset=0;this.dataSize=0;this.typeId=bm[bn+0];this.encoding=bm[bn+1];this.dataOffset=bm[bn+2];this.dataSize=bm[bn+3]};F.__typeName='tab.JabbaManifest';global.tab.JabbaManifest=F;var G=function(bm){this.$6=null;this.$9=null;this.$a=0;this.$7=0;this.$8=0;this.$b=[];this.unpacked=[];this.$9=bm;this.$5()};G.__typeName='tab.JabbaUnpacker';global.tab.JabbaUnpacker=G;var H=function(bm){this.data=null;this.stringTable={};this.marshalled={};this.heap=null;this.jabba=null;this.heap=bm;this.jabba=new G(bm);this.data=new M(this.jabba);this.$0()};H.__typeName='tab.JsHeapMarshaller';H.$1=function(bm,bn){this.data=null;this.stringTable={};this.marshalled={};this.heap=null;this.jabba=null;this.heap=bm;this.jabba=null;var bo=new Int32Array(this.heap,bn,10);this.data=new M.$ctor1(bo,this.heap);this.$0()};H.unmarshall$1=function(bm,bn){var bo=new H.$1(bm,bn);var bp=new c(bo);return bp.$0()};H.unmarshall=function(bm){var bn=new H(bm);var bo=new c(bn);return bo.$0()};H.unmarshallHex=function(bm){return H.unmarshall(H.$0(bm))};H.unmarshallBase64=function(bm){var bn=e.decodedLength(bm);var bo=new Uint8Array(bn);e.run(0,bo,bm);return H.unmarshall(bo.buffer)};H.$0=function(bm){var bn=new Uint8Array(ss.Int32.div(bm.length,2));for(var bo=0;bo<bm.length;bo+=2){bn[ss.Int32.div(bo,2)]=parseInt(bm.substr(bo,2),16)}return bn.buffer};global.tab.JsHeapMarshaller=H;var I=function(){w.call(this)};I.__typeName='tab.KeyMapType';global.tab.KeyMapType=I;var J=function(){g.call(this)};J.__typeName='tab.KeySetType';global.tab.KeySetType=J;var K=function(){};K.__typeName='tab.KeyValuePairIterator_Real64_Real64';global.tab.KeyValuePairIterator_Real64_Real64=K;var L=function(){};L.__typeName='tab.KeyValuePairIterator_RString_StoreValue';global.tab.KeyValuePairIterator_RString_StoreValue=L;var M=function(bm){this.stringBuffer=null;this.stringLengths=null;this.opCodes=null;this.intBuffer=null;this.doubleBuffer=null;var bn=bm.unpacked.length-5;this.stringBuffer=bm.unpacked[bn];this.stringLengths=bm.unpacked[bn+1];this.opCodes=bm.unpacked[bn+2];this.intBuffer=bm.unpacked[bn+3];this.doubleBuffer=bm.unpacked[bn+4]};M.__typeName='tab.MarshalledVectors';M.$ctor1=function(bm,bn){this.stringBuffer=null;this.stringLengths=null;this.opCodes=null;this.intBuffer=null;this.doubleBuffer=null;this.stringBuffer=new Uint8Array(bn,bm[0],bm[1]);this.stringLengths=new Uint32Array(bn,bm[2],bm[3]);this.opCodes=new Uint8Array(bn,bm[4],bm[5]);this.intBuffer=new Int32Array(bn,bm[6],bm[7]);this.doubleBuffer=new Float64Array(bn,bm[8],bm[9])};global.tab.MarshalledVectors=M;var N=function(){this.first=null;this.second=null};N.__typeName='tab.PairRStringStoreValue';N.getDefaultValue=function(){return new N};global.tab.PairRStringStoreValue=N;var O=function(bm,bn){this.$0=null;if(!ss.isNullOrUndefined(bm.StartIndex)){var bo=bm.StartIndex.length;var bp=bm.PaneCol;var bq=bm.PanePage;var br=bm.PaneRow;var bs=bn.ColumnCount;var bt=bn.RowCount;var bu=bm.StartIndex;var bv=bm.EndIndex;this.$0=new Array(bs*bt);for(var bw=0;bw<this.$0.length;++bw){this.$0[bw]=new Array(2*bn.PageCount);for(var bx=0;bx<this.$0[bw].length;++bx){this.$0[bw][bx]=0}}for(var by=0;by<bo;++by){var bz=bp[by]+br[by]*bs;var bA=bq[by];this.$0[bz][bA*2]=bu[by];this.$0[bz][bA*2+1]=bv[by]}}};O.__typeName='tab.PaneDataStoreTable';global.tab.PaneDataStoreTable=O;var P=function(){};P.__typeName='tab.PublicKeySet';P.createInstance=function(){return new Module.PublicKeySet};global.tab.PublicKeySet=P;var Q=function(){bg.call(this)};Q.__typeName='tab.RealType';global.tab.RealType=Q;var R=function(){};R.__typeName='tab.RIndirectString';R.createInstance=function(){return new Module.RIndirectString};global.tab.RIndirectString=R;var S=function(){};S.__typeName='tab.RString';S.createInstance=function(){return new Module.RString};global.tab.RString=S;var T=function(bm){this.$2=null;this.finalDataStore=null;this.paneStoreTable=null;this.labelsPaneStoreTable=null;if(bm.charCodeAt(0)===123){{var bn=tabBootstrap.MetricsController.createContext('RTCONV'.toString(),4,null);try{this.finalDataStore=JSON.parse(bm)}finally{if(ss.isValue(bn)){bn.dispose()}}}}else if(tab.FeatureFlags.isEnabled('RuntimeWebUseHuttSerialization')){if(tab.FeatureFlags.isEnabled('RuntimeWebUseHexEncoding')){this.finalDataStore=H.unmarshallHex(bm)}else{this.finalDataStore=H.unmarshallBase64(bm)}}else{this.$2=new Module.DataStoreMarshaller;var bo=e.decodedLength(bm);this.finalDataStore=this.$0(this.$2,Module.loadBinaryDataStore(bo,e.run,bm))}if(tab.ObjectCoverage.shouldTrack('runtime-datastore')){this.finalDataStore=(new tab.ObjectCoverage('runtime-datastore')).instrument(this.finalDataStore,'')}this.paneStoreTable=new O(this.finalDataStore.PageIntervalTable,this.finalDataStore.PaneCount);this.labelsPaneStoreTable=new O(this.finalDataStore.AnnexedData.LabelStore.PageIntervalTable,this.finalDataStore.PaneCount)};T.__typeName='tab.RuntimeData';global.tab.RuntimeData=T;var U=function(){};U.__typeName='tab.RuntimeUtil';U.constructRuntimeData=function(bm){if(!U.$0&&tab.FeatureFlags.isEnabled('RuntimeWebRunningTransforms')){Module.registerCollatorPool();Module.registerExternals();U.$0=true}return new T(bm)};U.toRectanglePresModel=function(bm,bn,bo,bp){var bq={};bq.doubleLeft=bm;bq.doubleTop=bn;bq.width=bo-bm;bq.height=bp-bn;return bq};U.toRectanglePresModel$1=function(bm,bn,bo,bp){var bq={};bq.x=bm;bq.y=bn;bq.w=bo-bm;bq.h=bp-bn;return bq};U.dataTypeFromStoreType=function(bm){var bn='unknown';switch(bm.value){case 3:{{bn='real'}break}case 1:{{bn='integer'}break}case 8:case 5:{{bn='cstring'}break}default:{{bn='unknown'}break}}return bn};global.tab.RuntimeUtil=U;var V=function(){g.call(this)};V.__typeName='tab.SetType';global.tab.SetType=V;var W=function(){this.value=0};W.__typeName='tab.StoreType';W.$ctor1=function(bm){this.value=0;this.value=bm};W.getDefaultValue=function(){return new W};global.tab.StoreType=W;var X=function(){};X.__typeName='tab.StoreValue';global.tab.StoreValue=X;var Y=function(){};Y.__typeName='tab.StoreValueIterator';global.tab.StoreValueIterator=Y;var Z=function(){bg.call(this)};Z.__typeName='tab.StringType';global.tab.StringType=Z;var ba=function(){w.call(this)};ba.__typeName='tab.TableType';global.tab.TableType=ba;var bb=function(){};bb.__typeName='tab.TransformSpec';global.tab.TransformSpec=bb;var bc=function(){};bc.__typeName='tab.TransformSpecVec';global.tab.TransformSpecVec=bc;var bd=function(){this.value=0};bd.__typeName='tab.TransformStatus';bd.$ctor1=function(bm){this.value=0;this.value=bm};bd.getDefaultValue=function(){return new bd};global.tab.TransformStatus=bd;var be=function(){};be.__typeName='tab.TrtColor';global.tab.TrtColor=be;var bf=function(){w.call(this)};bf.__typeName='tab.TupleType';global.tab.TupleType=bf;var bg=function(){};bg.__typeName='tab.Type';global.tab.Type=bg;var bh=function(){};bh.__typeName='tab.Utf8TextDecoder';bh.decode=function(bm){if(bh.$1){return s.decode(bm)}else{return bh.$0.decode(bm)}};global.tab.Utf8TextDecoder=bh;var bi=function(){};bi.__typeName='tab.VisualKeys';global.tab.VisualKeys=bi;var bj=function(){};bj.__typeName='tab.VM';global.tab.VM=bj;var bk=function(){};bk.__typeName='tab.WebKeySetAdapter_Int64_Real64';global.tab.WebKeySetAdapter_Int64_Real64=bk;var bl=function(){this.first=0;this.second=0};bl.__typeName='tab.WebPairInt64Real64';bl.getDefaultValue=function(){return new bl};global.tab.WebPairInt64Real64=bl;ss.initClass(b,a,{});ss.initClass(c,a,{$0:function(){var bm=this.$c.data.opCodes.length;this.$e=0;while(this.$e<bm){var bn=this.$c.data.opCodes[this.$e];if(3===bn){this.$3()}else{this.$1(bn)}++this.$e}return this.$8},$2:function(bm){var bn=null;if(bm===5){bn=this.$c.data.intBuffer[this.$b++]}else if(bm===4){bn=this.$c.data.doubleBuffer[this.$9++]}else if(bm===6){bn=true}else if(bm===7){bn=false}var bo=[];var bp=this.$c.data.intBuffer[this.$b++];for(var bq=0;bq<bp;++bq){bo[bq]=bn}return bo},$3:function(){if(ss.arrayPeekBack(this.$a)){this.$d.pop()}else{this.$7.pop()}this.$a.pop()},$1:function(bm){var bn=null;var bo='';var bp=ss.arrayPeekBack(this.$a);var bq=ss.arrayPeekBack(this.$d);var br=ss.arrayPeekBack(this.$7);if(bp){var bs=this.$c.data.intBuffer[this.$b++];if(bs<0){bo=-bs}else{bo=this.$c.stringTable[bs]}}if(65===bm){++this.$e;var bt=this.$c.data.opCodes[this.$e];bn=this.$2(bt)}else if(64===bm){bn=this.$5()}else if(bm>=32&&bm<64){bn=this.$6(bm)}else{bn=this.$4(bm)}if(bp){bq[bo]=bn}else{br.push(bn)}},$5:function(){var bm=this.$c.data.intBuffer[this.$b++];var bn=this.$c.data.intBuffer[this.$b++];var bo=[];var bp;if(ss.isValue(this.$c.jabba)){bp=this.$c.jabba.unpacked[bm]}else{bp=new Uint32Array(this.$c.heap,bm,bn)}var bq=this.$c.stringTable;for(var br=0;br<bp.length;br++){var bs=bp[br];bo.push(bq[bs])}return bo},$6:function(bm){var bn=this.$c.data.intBuffer[this.$b++];var bo=this.$c.data.intBuffer[this.$b++];if(ss.isValue(this.$c.jabba)){return this.$c.jabba.unpacked[bn]}else{return x.getMappedArray(bm,this.$c.heap,bn,bo)}},$4:function(bm){switch(bm){case 1:{this.$a.push(true);this.$d.push({});return ss.arrayPeekBack(this.$d)}case 2:{this.$a.push(false);this.$7.push([]);return ss.arrayPeekBack(this.$7)}case 4:{return this.$c.data.doubleBuffer[this.$9++]}case 5:{return this.$c.data.intBuffer[this.$b++]}case 6:{return true}case 7:{return false}case 8:{return this.$c.stringTable[this.$c.data.intBuffer[this.$b++]]}case 9:{return null}}throw new ss.Exception('Invalid OpCode: '+bm.toString())}});ss.initClass(bg,a,{});ss.initClass(g,a,{},bg);ss.initClass(d,a,{},g);ss.initClass(e,a,{});ss.initClass(f,a,{},bg);ss.initClass(h,a,{},bg);ss.initClass(i,a,{});ss.initClass(j,a,{});ss.initClass(k,a,{});ss.initEnum(l,a,{x:1,x1:2,y:3,y1:4,tupleId:5,min:6,max:7,paneId:8,uniqueID:9,cellCount:10,dataType:11,rangeType:12,isLog:13,foldState:14,isReversed:15,includeZero:16,omitSpecials:17,xAxisModelData:18,yAxisModelData:19,xAxisRangeData:20,yAxisRangeData:21,xAxisTable:22,yAxisTable:23,isValid:24,displayScale:25,actualZoomLevel:26,coverage:27,minResult:28,maxResult:29,zeroResult:30,minRangeResult:31,maxRangeResult:32,pixelSize:33,barLabelsOverflow:34,axisSizes:35,ranges:36,uniqueRanges:37,rangeMap:38,pointExtendedRanges:39,beforeMarkExtendRanges:40,afterMarkExtendRanges:41,relevantRanges:42,refLineExtents:43,showEntireImagePaneIndex:44,showEntireImageMax:45,showEntireImageMin:46,paneCol:47,key:48,paneRow:49,pxLeft:50,pxTop:51,pxRight:52,pxBottom:53,domainLeft:54,domainTop:55,domainRight:56,domainBottom:57,mapDomainLeft:58,mapDomainTop:59,mapDomainRight:60,mapDomainBottom:61,originX:62,originY:63,xRangeMin:64,xRangeMax:65,yRangeMin:66,yRangeMax:67,rowCount:68,columnCount:69,pageCount:70,panePage:71,startIndex:72,endIndex:73,isMap:74,hasPosition:75,lockedRatioOfScales:76,defaultMinX:77,defaultMaxX:78,defaultMinY:79,defaultMaxY:80,defaultXSize:81,defaultYSize:82,singleItemMapDelta:83,hasMapProvider:84,baseScale:85,maxScaleLevel:86,intermediateLevels:87,tileSize:88,isTileSizeAdjustable:89,minShrink:90,maxStretch:91,haveAnyMarks:92,paneExtentsStaticInput:93,paneExtentsPixelPositions:94,paneExtents:95,paneCount:96,pageIntervalTable:97,noMarksColumnTemplate:98,noPanesColumnTemplate:99,paneRowCol:100,mappedRows:101,mappedCols:102,rangePaddingMin:103,boundingBoxTops:104,boundingBoxBottoms:105,boundingBoxLefts:106,boundingBoxRights:107,latitudesForNullGeometries:108,longitudesForNullGeometries:109,latitudes:110,longitudes:111,showEntireImageHasImages:112,lockedRatio:113,mapLayersModelUpdate:114,color:115,colors:116,defaultParamID:117,haloColor:118,lineTupleIds:119,lowerEnds:120,maxAlpha:121,oppositeAxes:122,renderOnTop:123,tupleIds:124,type:125,upperEnds:126,useYAxis:127,widths:128,column:129,drawPanes:130,rect:131,predictionMarks:132,row:133,xNumberMap:134,yNumberMap:135,pdMarks:136,panes:137,userPaneInfo:138,mapCode:139,mapLayersModel:140,mapProvider:141,mappedImageModel:142,modelNumber:143,sourceName:144,waitForImages:145,waitTileFill:146,wrapCount:147,drawFirsts:148,drawLasts:149,inheritedSceneBackgroundColor:150,isSceneBackgroundOpaque:151,labelStore:152,mapPackage:153,perPaneExtents:154,activePages:155,annexedData:156,axisOutput:157,gridLines:158,refLines:159,supportedClientUpdates:160,tickPlacement:161,viewpoint:162,headerCount:163,lineColor:164,lineStyle:165,lineWidth:166,zeroLineColor:167,zeroLineStyle:168,zeroLineWidth:169,zeroPointIsMeaningful:170,zeroPoint:171,gridLinePlacement:172,dataTable:173,flattenedColorEncodings:174,flattenedShapeEncodings:175,flattenedSizeEncodings:176,cellX:177,cellY:178,xProj:179,yProj:180,currentStackValue:181,previousStackValue:182,primitiveId:183,scaledStartPoint:184,scaledEndPoint:185,prevLowerValue:186,nextLowerValue:187,domainMax:188,domainMin:189,lookup:190,paneIndex:191,cellIndex:192,axisProducerData:193,encodingData:194,extendedDomain:195,gridLineProducerData:196,markLayoutTempKeys:197,tickProducerData:198,pdMarksData:199,partition:200,incrementalUpdateData:201,viewParametersData:202,height:203,markFlags:204,textRunCount:205,textRunOffset:206,userPaneCol:207,userPaneRow:208,width:209,textEncodingTable:210,textRunTable:211,textStyleTable:212,xCellOffsets:213,xPixelOffsets:214,yCellOffsets:215,yPixelOffsets:216,colorEncodingKeys:217,shapeEncodingKeys:218,sizeEncodingKeys:219,measureNamesKeys:220,palette:221,isDiverging:222,fixedMin:223,fixedMax:224,fixedCenter:225,steps:226,divergingPalette:227,reversedPalette:228,defaultPalette:229,size:230,unscaledSize:231,hasPerMarkEncoding:232,xFloat:233,yFloat:234,clipHeight:235,clipWidth:236,geometry:237,rho:238,rho1:239,shapeId:240,sizeLabel:241,theta:242,theta1:243,trailId:244,xNext:245,xPrev:246,yNext:247,yPrev:248,alpha:249,backgroundColor:250,borderColor:251,drawBorder:252,dropLineFlags:253,hasFoldedAxis:254,hasHalos:255,handleSpecialsX:256,handleSpecialsY:257,hasEmptyOrEqualAxis:258,highlightedHaloColor:259,isLogX:260,isLogY:261,labelOnePerGroup:262,labelTargetPrimitiveId:263,lineInterpolation:264,lineMarkerPosition:265,markLabelPadding:266,markTrailAutoColor:267,markTrailColor:268,markTrailCount:269,markTrailEndEffect:270,markTrailStartEffect:271,markTrailTransparency:272,minBarHeight:273,minBarWidth:274,pageTrailMarksToTrail:275,paneFlags:276,paneHasBackground:277,primitiveType:278,selectedHaloColor:279,selectedMultiPrimHaloColor:280,trailOverrides:281,vizType:282,wrapDomain:283,parameters:284,geometryTable:285,textCompositionInputKeys:286,textTableHelper:287,wordleRandomKeys:288,xDomains:289,xHiddenMarks:290,yDomains:291,yHiddenMarks:292,domain:293,ellipses:294,encodings:295,hasPerMarkColorEncoding:296,hasPerMarkSizeEncoding:297,isMarkStacked:298,markLayoutData:299,textTable:300,treemapKeys:301,showLabels:302,showRunningOrderLabels:303,labelMode:304,cellSizeDefault:305,cellSizeDefaultConst:306,colorBeforeAlpha:307,markFlagsX:308,markFlagsY:309,predictionIntervalLowerEnd:310,predictionIntervalUpperEnd:311,predictionWhiskerWidth:312,sizeGantt:313,sizeOutputs:314,xRawInput:315,yRawInput:316,lookupColor:317,xPriorToWrap:318,packedLayout:319,hierarchyDepth:320,hierarchyTables:321,referenceLineSpecId:322,linePattern:323,lineCap:324,lineJoin:325,labelBackgroundColor:326,axisKeyPath:327,referenceLineType:328,formulaType:329,labelType:330,enableInstantRefline:331,calculationScope:332,confidencePercentage:333,constantValue:334,formattedConstantValue:335,tileCount:336,standardDevType:337,fillBelow:338,fillAbove:339,customLabel:340,zOrder:341,referenceLineStyleId:342,axisOrientation:343,xDomainLookup:344,yDomainLookup:345,pageNumber:346,value:347,referenceLineDetails:348,xAxisStyles:349,yAxisStyles:350,xFillColors:351,yFillColors:352,applicablePanes:353,referenceLineTotalTableMap:354,hAligns:355,vAligns:356,layoutElements:357,xValues:358,yValues:359,labels:360,textRun:361,textStyle:362,index:363,labelIndex:364,pxAbove:365,pxBelow:366,perTable:367,perPane:368,perCell:369,minPageNumber:370,maxPageNumber:371,currentPage:372,layoutSize:373,hasFontSizeOverride:374,textRunString:375,textRunX:376,textRunXRemote:377,textRunY:378,textRunYRemote:379,textStyleId:380,ascent:381,font:382,fontHeight:383,fontSize:384,fontStyle:385,fontWeight:386,hAlign:387,leading:388,strikethrough:389,textAlignment:390,textDecoration:391,textOrientation:392,textStyleColor:393,textWrapMode:394,underline:395,vAlign:396,isTextTable:397,formattedTextStyleTable:398,formattedTextRunOffset:399,formattedTextRunCount:400,formattedTextRunTable:401,textMaxWidth:402,textMaxHeight:403,textScaleFactor:404,textRangeFactor:405,textFontMin:406,textFitStyle:407,textRunPosition:408,vtlBlockIndex:409,columnFormatIndex:410,dateTimeOriginReference:411,dateTimeSpacingReference:412,dateTimeSpacingUnitsReference:413,daysLabelWidth:414,hoursLabelWidth:415,fiscalYearStart:416,labelFontIndex:417,labelHeight:418,logBaseReference:419,minSpacing:420,monthsLabelWidth:421,originReference:422,minutesLabelWidth:423,perpendicularLabels:424,quartersLabelWidth:425,secondsLabelWidth:426,spacingReference:427,targetTickSpacing:428,weeksLabelWidth:429,yearsLabelWidth:430,formatters:431,formatterIndex:432,perHeaderData:433,daysPossibleFreqs:434,hoursPossibleFreqs:435,monthsPossibleFreqs:436,minutesPossibleFreqs:437,quartersPossibleFreqs:438,secondsPossibleFreqs:439,weeksPossibleFreqs:440,yearsPossibleFreqs:441,columnFormat:442,labelFont:443,numericFormatDivisor:444,numericFormatSuffix:445,encodedTickPositionsIndex:446,spacing:447,origin:448,includeViewEdges:449,dateTimeSpacing:450,dateTimeSpacingUnit:451,dateTimeOrigin:452,encodingMin:453,encodingMax:454,perHeaderTickPlacement:455,encodedTickPositions:456,count:457});ss.initClass(m,a,{});ss.initClass(n,a,{},bg);ss.initClass(o,a,{},bg);ss.initClass(p,a,{});ss.initEnum(q,a,{bool:0,int32:1,int64:2,real32:3,real64:4,string:5,date:6,dateTime:7,color:8,external:9,array:10,set:11,keySet:12,tuple:13,keyMap:14,table:15});ss.initEnum(q,a,{none:0,incomplete:1,complete:2});ss.initClass(r,a,{},bg);ss.initClass(s,a,{});ss.initClass(t,a,{});ss.initClass(u,a,{});ss.initClass(v,a,{});ss.initClass(w,a,{},bg);ss.initClass(x,a,{});ss.initClass(y,a,{},bg);ss.initClass(z,a,{});ss.initClass(A,a,{},z);ss.initClass(B,a,{});ss.initClass(C,a,{});ss.initClass(D,a,{});ss.initClass(E,a,{});ss.initClass(F,a,{});ss.initClass(G,a,{$5:function(){this.$3();this.$4();this.$6=new Uint8Array(this.$8);var bm=0;var bn=0;for(var bo=0;bo<this.$b.length;bo++){var bp=this.$b[bo];bn=bm;var bq=this.$2(bp,bm);bm+=bq;bm+=this.$0(bm,8);this.unpacked.push(x.getMappedArrayJabba(bp.typeId,this.$6.buffer,bn,bq))}},$0:function(bm,bn){return(bn-bm%bn)%bn},$2:function(bm,bn){var bo=new Uint8Array(this.$9,this.$7+bm.dataOffset,bm.dataSize);if(bm.encoding===0){this.$6.set(bo,bn)}else if(bm.encoding===2){return this.$1(bo,bn)}else{throw new ss.Exception('Unsupported encoding: '+bm.encoding)}return bm.dataSize},$1:function(bm,bn){var bo=0;var bp=0;var bq=0;var br=new Int32Array(this.$6.buffer,bn);while(bp<bm.length){if(bm[bp]<=240){var bs=bm[bp];bo=(bs>>>1^-(bs&1))+bo;bp+=1}else if(bm[bp]<=248){var bt=240+256*(bm[bp]-241)+bm[bp+1];bo=(bt>>>1^-(bt&1))+bo;bp+=2}else if(bm[bp]===249){var bu=2288+256*bm[bp+1]+bm[bp+2];bo=(bu>>>1^-(bu&1))+bo;bp+=3}else if(bm[bp]===250){var bv=bm[bp+1]*65536+bm[bp+2]*256+bm[bp+3];bo=(bv>>>1^-(bv&1))+bo;bp+=4}else if(bm[bp]===251){var bw=bm[bp+1]*16777216+bm[bp+2]*65536+bm[bp+3]*256+bm[bp+4];bo=(bw>>>1^-(bw&1))+bo;bp+=5}else if(bm[bp]===252){var bx=bm[bp+1]*1+bm[bp+2]*16777216+bm[bp+3]*65536+bm[bp+4]*256+bm[bp+5];bo=(bx>>>1^-(bx&1))+bo;bp+=6}br[bq++]=ss.Int32.trunc(bo)}return bq*4},$3:function(){var bm=new DataView(this.$9);var bn=bm.getUint16(0,true);var bo=bm.getUint16(2,true);this.$8=bm.getInt32(4,true);this.$a=bm.getInt32(8,true);this.$7=bm.getInt32(12,true);if(bn!==43962){throw new ss.Exception('Magic number mismatch: '+bn)}if(bo!==1){throw new ss.Exception('Unsupported JABBA version '+bo)}},$4:function(){var bm=new Uint32Array(this.$9,16,this.$a*Uint32Array.BYTES_PER_ELEMENT);for(var bn=0;bn<this.$a;bn++){this.$b.push(new F(bm,bn*Uint32Array.BYTES_PER_ELEMENT))}}});ss.initClass(H,a,{$0:function(){var bm=this.data.stringBuffer.byteOffset;var bn=this.data.stringLengths.length;for(var bo=0;bo<bn;bo++){var bp=this.data.stringLengths[bo];this.stringTable[bo]=bh.decode(new Uint8Array(this.data.stringBuffer.buffer,bm,bp));bm+=bp}}});H.$1.prototype=H.prototype;ss.initClass(I,a,{},w);ss.initClass(J,a,{},g);ss.initClass(K,a,{});ss.initClass(L,a,{});ss.initClass(M,a,{});M.$ctor1.prototype=M.prototype;ss.initClass(N,a,{getHashCode:function(){var bm=(this.first?ss.getHashCode(this.first):0);bm=bm*397^(this.second?ss.getHashCode(this.second):0);return bm},equals:function(bm){if(!ss.isInstanceOfType(bm,N)){return false}return ss.equals(this.first,bm.first)&&ss.equals(this.second,bm.second)}});N.__class=false;ss.initClass(O,a,{getStartIndex:function(bm,bn){return this.$0[bm][bn*2]},getEndIndex:function(bm,bn){return this.$0[bm][bn*2+1]},getPageIndices:function(bm){return this.$0[bm]}});ss.initClass(P,a,{});ss.initClass(Q,a,{},bg);ss.initClass(R,a,{});ss.initClass(S,a,{});ss.initClass(T,a,{populateLabels:function(bm,bn){var bo=this.finalDataStore.AnnexedData.LabelStore;bm.pdMarksMap=this.getLabelsPDMarks();bm.panes=new Array(bo.Panes.length);for(var bp=0;bp<bo.Panes.length;++bp){var bq={};var br=bo.Panes[bp];var bs=br.DrawPanes;bq.columnIndex=br.Column;bq.rowIndex=br.Row;bq.paneRect=U.toRectanglePresModel$1(br.Rect[0],br.Rect[1],br.Rect[2],br.Rect[3]);bq.drawPane=new Array(bs.length);for(var bt=0;bt<bq.drawPane.length;++bt){var bu={};var bv=bs[bt];bu.visualPart=p.visualPartFromInt(bv[0]);var bw={};bw.paneIndex=bv[1];this.populateLabelsPaneMarks(bw,bn);var bx={};bx['columnIndex'.toString()]=br.Column;bx['rowIndex'.toString()]=br.Row;bw.paneId=bx;bu.paneMarks=bw;bq.drawPane[bt]=bu}bm.panes[bp]=bq}},$1:function(bm,bn,bo,bp){if(ss.isNullOrUndefined(bp)){bp=0}var bq=bm.paneIndex;bm.paneDescrKey=bn.PaneKey[bq];var br=U.toRectanglePresModel$1(bn.pane_px_left[bq],bn.pane_px_top[bq],bn.pane_px_right[bq],bn.pane_px_bottom[bq]);var bs=U.toRectanglePresModel(bn.DomainLeft[bq],bn.DomainTop[bq],bn.DomainRight[bq],bn.DomainBottom[bq]);var bt=U.toRectanglePresModel(bn.MapDomainLeft[bq],bn.MapDomainTop[bq],bn.MapDomainRight[bq],bn.MapDomainBottom[bq]);bm.pixelExtents=br;bm.domainExtents=bs;bm.domainOrigin={};bm.mapDomainExtents=bt;if(!ss.isNullOrUndefined(bn.OriginX)&&!ss.isNullOrUndefined(bn.OriginY)){bm.domainOrigin.floatX=bn.OriginX[bq];bm.domainOrigin.floatY=bn.OriginY[bq]}else{bm.domainOrigin.floatX=0;bm.domainOrigin.floatY=0}bm.startIndex=bo.getStartIndex(bm.paneIndex,bp);bm.endIndex=bo.getEndIndex(bm.paneIndex,bp);bm.pageIndices=bo.getPageIndices(bm.paneIndex)},populatePaneMarks:function(bm,bn){this.$1(bm,this.finalDataStore.Viewpoint.PerPaneExtents,this.paneStoreTable,bn)},populateLabelsPaneMarks:function(bm,bn){this.$1(bm,this.finalDataStore.Viewpoint.PerPaneExtents,this.labelsPaneStoreTable,bn)},getPDMarksPresModels:function(){var bm={};var bn=new ss.ObjectEnumerator(this.finalDataStore.PDMarks);try{while(bn.moveNext()){var bo=bn.current();bm[bo.key]=m.pdMarksPresModelFromKeyMap(this.finalDataStore.PDMarks[bo.key])}}finally{bn.dispose()}return bm},getLabelsPDMarks:function(){var bm={};var bn=this.finalDataStore.AnnexedData.LabelStore;var bo=new ss.ObjectEnumerator(bn.PDMarks);try{while(bo.moveNext()){var bp=bo.current();bm[bp.key]=m.pdMarksPresModelFromKeyMap(bn.PDMarks[bp.key])}}finally{bo.dispose()}return bm},$0:function(bm,bn){return H.unmarshall$1(Module.HEAPU8.buffer,bm.marshall(bn))}});ss.initClass(U,a,{});ss.initClass(V,a,{},g);ss.initClass(W,a,{getHashCode:function(){return this.value|0},equals:function(bm){if(!ss.isInstanceOfType(bm,W)){return false}return this.value===bm.value}});W.$ctor1.prototype=W.prototype;W.__class=false;ss.initClass(X,a,{});ss.initClass(Y,a,{});ss.initClass(Z,a,{},bg);ss.initClass(ba,a,{},w);ss.initClass(bb,a,{});ss.initClass(bc,a,{});ss.initClass(bd,a,{getHashCode:function(){return this.value|0},equals:function(bm){if(!ss.isInstanceOfType(bm,bd)){return false}return this.value===bm.value}});bd.$ctor1.prototype=bd.prototype;bd.__class=false;ss.initClass(be,a,{});ss.initClass(bf,a,{},w);ss.initClass(bh,a,{});ss.initClass(bi,a,{});ss.initClass(bj,a,{});ss.initClass(bk,a,{});ss.initClass(bl,a,{getHashCode:function(){var bm=this.first;bm=bm*397^this.second;return bm},equals:function(bm){if(!ss.isInstanceOfType(bm,bl)){return false}return this.first===bm.first&&this.second===bm.second}});bl.__class=false;(function(){e.$2='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';e.$1=null})();(function(){p.$1=null;p.$0=null;p.$2=null})();(function(){bh.$0=null;bh.$1=!(typeof(TextDecoder)!=='undefined');if(!bh.$1){bh.$0=new TextDecoder}})();(function(){U.$0=false})();(function(){bi.tupleId='tuple_id';bi.groupId='group_id';bi.trailId='trail_id';bi.primitiveId='primitive_id';bi.paneIndex='pane_index';bi.paneCol='pane_col';bi.paneRow='pane_row';bi.panePage='pane_page';bi.rangeMin='range_min';bi.rangeMax='range_max';bi.domainMin='domain_min';bi.domainMax='domain_max';bi.xDomains='x_domains_lookup';bi.yDomains='y_domains_lookup';bi.lookup='lookup';bi.xNumberMap='x_numbermap';bi.yNumberMap='y_numbermap';bi.dataType='dataType';bi.fieldType='fieldType';bi.cellX='cell_x';bi.cellY='cell_y';bi.markFirst='mark_first';bi.markLast='mark_last';bi.x='x';bi.y='y';bi.x1='x1';bi.y1='y1';bi.width='width';bi.height='height';bi.size='size';bi.sizeLabel='size_label';bi.hasPerMarkSizeEncoding='has_per_mark_size_encoding';bi.rho='rho';bi.rho1='rho1';bi.theta='theta';bi.theta1='theta1';bi.xPrev='x_prev';bi.yPrev='y_prev';bi.xNext='x_next';bi.yNext='y_next';bi.color='color';bi.hasPerMarkColorEncoding='has_per_mark_color_encoding';bi.alpha='alpha';bi.haloColor='halo_color';bi.haloAlpha='halo_alpha';bi.hasHalos='has_halos';bi.shapeId='shape_id';bi.clipWidth='clip_width';bi.clipHeight='clip_height';bi.userPaneCol='user_pane_col';bi.userPaneRow='user_pane_row';bi.userPaneIndex='user_pane_index';bi.xCellOffsets='x_cell_offsets';bi.yCellOffsets='y_cell_offsets';bi.xPixelOffsets='x_pixel_offsets';bi.yPixelOffsets='y_pixel_offsets';bi.userPaneInfo='user_pane_info';bi.minBarHeight='min_bar_height';bi.minBarWidth='min_bar_width';bi.drawBorder='draw_border';bi.borderColor='border_color';bi.selectedHaloColor='selected_halo_color';bi.selectedMultiPrimHaloColor='selected_multi_prim_halo_color';bi.highlightedHaloColor='highlighted_halo_color';bi.backgroundColor='background_color';bi.wrapDomain='wrap_domain';bi.hasFoldedAxis='has_folded_axis';bi.markFlags='mark_flags';bi.paneFlags='pane_flags';bi.handleSpecialsX='handle_specials_x';bi.handleSpecialsY='handle_specials_y';bi.isLogX='is_log_x';bi.isLogY='is_log_y';bi.hasEmptyOrEqualAxis='has_empty_or_equal_axis';bi.dropLineFlags='drop_line_flags';bi.lineInterpolation='line_interp';bi.lineMarkerPosition='line_mark_pos';bi.isMarkStacked='is_mark_stacked';bi.currStackedVal='tc_curr_stack_value';bi.prevStackedVal='tc_prev_stack_value';bi.scaledStartPoint='scaled_start_point';bi.scaledEndPoint='scaled_end_point';bi.exclPrevLowerStackedVal='tc_prev_excl_stack_value';bi.exclNextLowerStackedVal='tc_next_excl_stack_value';bi.isMarkTotal='is_mark_total';bi.xProj='x_proj';bi.yProj='y_proj';bi.paneHasBackground='pane_has_background';bi.panePxLeft='pane_px_left';bi.panePxRight='pane_px_right';bi.panePxTop='pane_px_top';bi.panePxBottom='pane_px_bottom';bi.textRunOffset='text_run_offset';bi.textRunCount='text_run_count';bi.formattedTextRunOffset='formatted_text_run_offset';bi.formattedTextRunCount='formatted_text_run_count';bi.geometry='geometry';bi.geometryTable='geoTable';bi.pageTrailMarksToTrail='page_trail_marks_to_trail';bi.markTrailCount='mark_trail_count';bi.markTrailAutoColor='mark_trail_auto_color';bi.markTrailColor='mark_trail_color';bi.markTrailTransparency='mark_trail_transparency';bi.markTrailStartEffect='mark_trail_start_effect';bi.markTrailEndEffect='mark_trail_end_effect';bi.isTextTable='is_text_table';bi.textMaxWidth='text_max_width';bi.textMaxHeight='text_max_height';bi.textScaleFactor='text_scale_factor';bi.textRangeFactor='text_range_factor';bi.textFontMin='text_font_min';bi.textFitStyle='text_fit_style';bi.textRunPosition='text_run_position';bi.textCompositionOutput='text_composition_output';bi.textRunTable='TextRunTable';bi.formattedTextRunTable='FormattedTextRunTable';bi.textRun='text_run';bi.textRunX='text_run_x';bi.textRunY='text_run_y';bi.textRunXRemote='text_run_x_remote';bi.textRunYRemote='text_run_y_remote';bi.textStyleID='text_style_id';bi.hasFontSizeOverride='has_font_size_override';bi.textStyleTable='TextStyleTable';bi.formattedTextStyleTable='FormattedTextStyleTable';bi.font='font';bi.fontSize='font_size';bi.textStyleColor='text_style_color';bi.fontStyle='font_style';bi.fontWeight='font_weight';bi.textDecoration='text_decoration';bi.textOrientation='text_orientation';bi.textAlignment='text_alignment';bi.underline='underline';bi.strikethrough='strikethrough';bi.ascent='ascent';bi.leading='leading';bi.fontHeight='font_height';bi.hAlign='hAlign';bi.vAlign='vAlign';bi.textWrapMode='text_wrap_mode';bi.labelTargetPrimitiveId='label_target_primitive_id';bi.labelOnePerGroup='label_one_per_group';bi.showLabels='ShowLabels';bi.showRunningOrderLabels='ShowRunningOrderLabels';bi.labelMode='LabelMode';bi.predictionIntervalUpperEnd='prediction_interval_upper_end';bi.predictionIntervalLowerEnd='prediction_interval_lower_end';bi.predictionIntervalUpperEndMeasure='prediction_interval_upper_end_measure';bi.predictionIntervalLowerEndMeasure='prediction_interval_lower_end_measure';bi.predictionWhiskerWidth='prediction_whisker_width';bi.colors='Colors';bi.column='Column';bi.encodingDomains='EncodingDomains';bi.encodingData='EncodingData';bi.defaultParamID='DefaultParamID';bi.domain='Domain';bi.domainExtents='DomainExtents';bi.domainOrigin='DomainOrigin';bi.drawFirsts='DrawFirsts';bi.drawLasts='DrawLasts';bi.drawPanes='DrawPanes';bi.encodings='Encodings';bi.endIndex='EndIndex';bi.geometries='Geometries';bi.left='Left';bi.lineTupleIds='LineTupleIds';bi.lowerEnds='LowerEnds';bi.mapDomainExtents='MapDomainExtents';bi.markType='MarkType';bi.maxAlpha='MaxAlpha';bi.oppositeAxes='OppositeAxes';bi.pageIndexes='PageIndexes';bi.paneId='PaneId';bi.paneKey='PaneKey';bi.panes='Panes';bi.part='Part';bi.pixelExtents='PixelExtents';bi.presModel='PresModel';bi.rect='Rect';bi.renderNodes='RenderNodes';bi.renderOnTop='RenderOnTop';bi.row='Row';bi.startIndex='StartIndex';bi.textAttributes='TextAttributes';bi.textTable='TextTable';bi.textTableHelper='TextTableHelper';bi.textEncodingTable='TextEncodingTable';bi.top='Top';bi.trailOverrides='TrailOverrides';bi.tupleIds='TupleIds';bi.type='Type';bi.upperEnds='UpperEnds';bi.useYAxis='UseYAxis';bi.vizType='VizType';bi.widths='Widths';bi.extendedDomain='ExtendedDomain';bi.markLayoutTempKeys='MarkLayoutTempKeys';bi.partition='Partition';bi.pdMarks='PDMarks';bi.axisEncodings='AxisEncodings';bi.inheritedSceneBackgroundColor='SceneBGColor';bi.isSceneBackgroundOpaque='IsSceneBGOpaque';bi.labelStore='LabelStore';bi.primitiveType='PrimitiveType';bi.mapPackage='MapPackage';bi.mappedImageModel='MappedImageModel';bi.modelNumber='ModelNumber';bi.waitForImages='WaitForImages';bi.waitTileFill='WaitTileFill';bi.wrapCount='WrapCount';bi.mapCode='MapCode';bi.sourceName='SourceName';bi.mapProvider='MapProvider';bi.mapLayersModel='MapLayersModel';bi.markLabelPadding='mark_label_padding'})()})();;
/*! BEGIN SpiffUI */
var IScroll=function(a,b,c){function f(a,c){this.wrapper="string"==typeof a?b.querySelector(a):a,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.options={resizeIndicator:!0,mouseWheelSpeed:20,snapThreshold:.334,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0};for(var d in c)this.options[d]=c[d];this.translateZ=this.options.HWCompositing&&e.hasPerspective?" translateZ(0)":"",this.options.useTransition=e.hasTransition&&this.options.useTransition,this.options.useTransform=e.hasTransform&&this.options.useTransform,this.options.eventPassthrough=this.options.eventPassthrough===!0?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY="vertical"!=this.options.eventPassthrough&&this.options.scrollY,this.options.scrollX="horizontal"!=this.options.eventPassthrough&&this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing="string"==typeof this.options.bounceEasing?e.ease[this.options.bounceEasing]||e.ease.circular:this.options.bounceEasing,this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling,this.options.tap===!0&&(this.options.tap="tap"),this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1,this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}function g(a,c,d){var e=b.createElement("div"),f=b.createElement("div");return d===!0&&(e.style.cssText="position:absolute;z-index:9999",f.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"),f.className="iScrollIndicator","h"==a?(d===!0&&(e.style.cssText+=";height:7px;left:2px;right:2px;bottom:0",f.style.height="100%"),e.className="iScrollHorizontalScrollbar"):(d===!0&&(e.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px",f.style.width="100%"),e.className="iScrollVerticalScrollbar"),c||(e.style.pointerEvents="none"),e.appendChild(f),e}function h(c,d){this.wrapper="string"==typeof d.el?b.querySelector(d.el):d.el,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=c,this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,speedRatioX:0,speedRatioY:0};for(var f in d)this.options[f]=d[f];this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.options.interactive&&(this.options.disableTouch||(e.addEvent(this.indicator,"touchstart",this),e.addEvent(a,"touchend",this)),this.options.disablePointer||(a.PointerEvent?(e.addEvent(this.indicator,"pointerdown",this),e.addEvent(a,"pointerup",this)):a.MSPointerEvent&&(e.addEvent(this.indicator,"MSPointerDown",this),e.addEvent(a,"MSPointerUp",this))),this.options.disableMouse||(e.addEvent(this.indicator,"mousedown",this),e.addEvent(a,"mouseup",this)))}var d=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||function(b){a.setTimeout(b,1e3/60)},e=function(){function g(a){return f!==!1&&(""===f?a:f+a.charAt(0).toUpperCase()+a.substr(1))}var d={},e=b.createElement("div").style,f=function(){for(var b,a=["t","webkitT","MozT","msT","OT"],c=0,d=a.length;c<d;c++)if(b=a[c]+"ransform",b in e)return a[c].substr(0,a[c].length-1);return!1}();d.getTime=Date.now||function(){return(new Date).getTime()},d.extend=function(a,b){for(var c in b)a[c]=b[c]},d.addEvent=function(a,b,c,d){a.addEventListener(b,c,!!d)},d.removeEvent=function(a,b,c,d){a.removeEventListener(b,c,!!d)},d.momentum=function(a,b,d,e,f){var i,j,g=a-b,h=c.abs(g)/d,k=6e-4;return i=a+h*h/(2*k)*(g<0?-1:1),j=h/k,i<e?(i=f?e-f/2.5*(h/8):e,g=c.abs(i-a),j=g/h):i>0&&(i=f?f/2.5*(h/8):0,g=c.abs(a)+i,j=g/h),{destination:c.round(i),duration:j}};var h=g("transform");return d.extend(d,{hasTransform:h!==!1,hasPerspective:g("perspective")in e,hasTouch:"ontouchstart"in a,hasPointer:navigator.msPointerEnabled,hasTransition:g("transition")in e}),d.isAndroidBrowser=/Android/.test(a.navigator.appVersion)&&/Version\/\d/.test(a.navigator.appVersion),d.extend(d.style={},{transform:h,transitionTimingFunction:g("transitionTimingFunction"),transitionDuration:g("transitionDuration"),transformOrigin:g("transformOrigin")}),d.hasClass=function(a,b){var c=new RegExp("(^|\\s)"+b+"(\\s|$)");return c.test(a.className)},d.addClass=function(a,b){if(!d.hasClass(a,b)){var c=a.className.split(" ");c.push(b),a.className=c.join(" ")}},d.removeClass=function(a,b){if(d.hasClass(a,b)){var c=new RegExp("(^|\\s)"+b+"(\\s|$)","g");a.className=a.className.replace(c," ")}},d.offset=function(a){for(var b=-a.offsetLeft,c=-a.offsetTop;a=a.offsetParent;)b-=a.offsetLeft,c-=a.offsetTop;return{left:b,top:c}},d.preventDefaultException=function(a,b){for(var c in b)if(b[c].test(a[c]))return!0;return!1},d.extend(d.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),d.extend(d.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(a){return a*(2-a)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(a){return c.sqrt(1- --a*a)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(a){var b=4;return(a-=1)*a*((b+1)*a+b)+1}},bounce:{style:"",fn:function(a){return(a/=1)<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375}},elastic:{style:"",fn:function(a){var b=.22,d=.4;return 0===a?0:1==a?1:d*c.pow(2,-10*a)*c.sin((a-b/4)*(2*c.PI)/b)+1}}}),d.tap=function(a,c){var d=b.createEvent("Event");d.initEvent(c,!0,!0),d.pageX=a.pageX,d.pageY=a.pageY,a.target.dispatchEvent(d)},d.click=function(a){var d,c=a.target;"SELECT"!=c.tagName&&"INPUT"!=c.tagName&&"TEXTAREA"!=c.tagName&&(d=b.createEvent("MouseEvents"),d.initMouseEvent("click",!0,!0,a.view,1,c.screenX,c.screenY,c.clientX,c.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,0,null),d._constructed=!0,c.dispatchEvent(d))},d}();return f.prototype={version:"5.0.6",_init:function(){this._initEvents(),(this.options.scrollbars||this.options.indicators)&&this._initIndicators(),this.options.mouseWheel&&this._initWheel(),this.options.snap&&this._initSnap(),this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(!0),this._execEvent("destroy")},_transitionEnd:function(a){a.target==this.scroller&&(this._transitionTime(0),this.resetPosition(this.options.bounceTime)||this._execEvent("scrollEnd"))},_start:function(a){if((1==e.eventType[a.type]||0===a.button)&&this.enabled&&(!this.initiated||e.eventType[a.type]===this.initiated)){!this.options.preventDefault||e.isAndroidBrowser||e.preventDefaultException(a.target,this.options.preventDefaultException)||a.preventDefault();var d,b=a.touches?a.touches[0]:a;this.initiated=e.eventType[a.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this._transitionTime(),this.isAnimating=!1,this.startTime=e.getTime(),this.options.useTransition&&this.isInTransition&&(d=this.getComputedPosition(),this._translate(c.round(d.x),c.round(d.y)),this._execEvent("scrollEnd"),this.isInTransition=!1),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=b.pageX,this.pointY=b.pageY,this._execEvent("beforeScrollStart")}},_move:function(a){if(this.enabled&&e.eventType[a.type]===this.initiated){this.options.preventDefault&&a.preventDefault();var h,i,j,k,b=a.touches?a.touches[0]:a,d=b.pageX-this.pointX,f=b.pageY-this.pointY,g=e.getTime();if(this.pointX=b.pageX,this.pointY=b.pageY,this.distX+=d,this.distY+=f,j=c.abs(this.distX),k=c.abs(this.distY),!(g-this.endTime>300&&j<10&&k<10)){if(this.directionLocked||this.options.freeScroll||(j>k+this.options.directionLockThreshold?this.directionLocked="h":k>=j+this.options.directionLockThreshold?this.directionLocked="v":this.directionLocked="n"),"h"==this.directionLocked){if("vertical"==this.options.eventPassthrough)a.preventDefault();else if("horizontal"==this.options.eventPassthrough)return void(this.initiated=!1);f=0}else if("v"==this.directionLocked){if("horizontal"==this.options.eventPassthrough)a.preventDefault();else if("vertical"==this.options.eventPassthrough)return void(this.initiated=!1);d=0}d=this.hasHorizontalScroll?d:0,f=this.hasVerticalScroll?f:0,h=this.x+d,i=this.y+f,(h>0||h<this.maxScrollX)&&(h=this.options.bounce?this.x+d/3:h>0?0:this.maxScrollX),(i>0||i<this.maxScrollY)&&(i=this.options.bounce?this.y+f/3:i>0?0:this.maxScrollY),this.directionX=d>0?-1:d<0?1:0,this.directionY=f>0?-1:f<0?1:0,this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(h,i),g-this.startTime>300&&(this.startTime=g,this.startX=this.x,this.startY=this.y),this._execEvent("scroll")}}},_end:function(a){if(this.enabled&&e.eventType[a.type]===this.initiated){this.options.preventDefault&&!e.preventDefaultException(a.target,this.options.preventDefaultException)&&a.preventDefault();var d,f,g=(a.changedTouches?a.changedTouches[0]:a,e.getTime()-this.startTime),h=c.round(this.x),i=c.round(this.y),j=c.abs(h-this.startX),k=c.abs(i-this.startY),l=0,m="";if(this.scrollTo(h,i),this.isInTransition=0,this.initiated=0,this.endTime=e.getTime(),!this.resetPosition(this.options.bounceTime)){if(!this.moved)return this.options.tap&&e.tap(a,this.options.tap),void(this.options.click&&e.click(a));if(this._events.flick&&g<200&&j<100&&k<100)return void this._execEvent("flick");if(this.options.momentum&&g<300&&(d=this.hasHorizontalScroll?e.momentum(this.x,this.startX,g,this.maxScrollX,this.options.bounce?this.wrapperWidth:0):{destination:h,duration:0},f=this.hasVerticalScroll?e.momentum(this.y,this.startY,g,this.maxScrollY,this.options.bounce?this.wrapperHeight:0):{destination:i,duration:0},h=d.destination,i=f.destination,l=c.max(d.duration,f.duration),this.isInTransition=1),this.options.snap){var n=this._nearestSnap(h,i);this.currentPage=n,l=this.options.snapSpeed||c.max(c.max(c.min(c.abs(h-n.x),1e3),c.min(c.abs(i-n.y),1e3)),300),h=n.x,i=n.y,this.directionX=0,this.directionY=0,m=this.options.bounceEasing}return h!=this.x||i!=this.y?((h>0||h<this.maxScrollX||i>0||i<this.maxScrollY)&&(m=e.ease.quadratic),void this.scrollTo(h,i,l,m)):void this._execEvent("scrollEnd")}}},_resize:function(){var a=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){a.refresh()},this.options.resizePolling)},resetPosition:function(a){var b=this.x,c=this.y;return a=a||0,!this.hasHorizontalScroll||this.x>0?b=0:this.x<this.maxScrollX&&(b=this.maxScrollX),!this.hasVerticalScroll||this.y>0?c=0:this.y<this.maxScrollY&&(c=this.maxScrollY),(b!=this.x||c!=this.y)&&(this.scrollTo(b,c,a,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this.scrollerWidth=this.scroller.offsetWidth,this.scrollerHeight=this.scroller.offsetHeight,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=e.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition()},on:function(a,b){this._events[a]||(this._events[a]=[]),this._events[a].push(b)},_execEvent:function(a){if(this._events[a]){var b=0,c=this._events[a].length;if(c)for(;b<c;b++)this._events[a][b].call(this)}},scrollBy:function(a,b,c,d){a=this.x+a,b=this.y+b,c=c||0,this.scrollTo(a,b,c,d)},scrollTo:function(a,b,c,d){d=d||e.ease.circular,!c||this.options.useTransition&&d.style?(this._transitionTimingFunction(d.style),this._transitionTime(c),this._translate(a,b)):this._animate(a,b,c,d.fn),this._execEvent("scroll")},scrollToElement:function(a,b,d,f,g){if(a=a.nodeType?a:this.scroller.querySelector(a)){var h=e.offset(a);h.left-=this.wrapperOffset.left,h.top-=this.wrapperOffset.top,d===!0&&(d=c.round(a.offsetWidth/2-this.wrapper.offsetWidth/2)),f===!0&&(f=c.round(a.offsetHeight/2-this.wrapper.offsetHeight/2)),h.left-=d||0,h.top-=f||0,h.left=h.left>0?0:h.left<this.maxScrollX?this.maxScrollX:h.left,h.top=h.top>0?0:h.top<this.maxScrollY?this.maxScrollY:h.top,b=void 0===b||null===b||"auto"===b?c.max(c.abs(this.x-h.left),c.abs(this.y-h.top)):b,this.scrollTo(h.left,h.top,b,g)}},_transitionTime:function(a){if(a=a||0,this.scrollerStyle[e.style.transitionDuration]=a+"ms",this.indicators)for(var b=this.indicators.length;b--;)this.indicators[b].transitionTime(a)},_transitionTimingFunction:function(a){if(this.scrollerStyle[e.style.transitionTimingFunction]=a,this.indicators)for(var b=this.indicators.length;b--;)this.indicators[b].transitionTimingFunction(a)},_translate:function(a,b){if(this.options.useTransform?this.scrollerStyle[e.style.transform]="translate("+a+"px,"+b+"px)"+this.translateZ:(a=c.round(a),b=c.round(b),this.scrollerStyle.left=a+"px",this.scrollerStyle.top=b+"px"),this.x=a,this.y=b,this.indicators)for(var d=this.indicators.length;d--;)this.indicators[d].updatePosition()},_initEvents:function(b){var c=b?e.removeEvent:e.addEvent,d=this.options.bindToWrapper?this.wrapper:a;c(a,"orientationchange",this),c(a,"resize",this),this.options.click&&c(this.wrapper,"click",this,!0),this.options.disableMouse||(c(this.wrapper,"mousedown",this),c(d,"mousemove",this),c(d,"mousecancel",this),c(d,"mouseup",this)),e.hasPointer&&!this.options.disablePointer&&(a.PointerEvent?(c(this.wrapper,"pointerdown",this),c(d,"pointermove",this),c(d,"pointercancel",this),c(d,"pointerup",this)):a.MSPointerEvent&&(c(this.wrapper,"MSPointerDown",this),c(d,"MSPointerMove",this),c(d,"MSPointerCancel",this),c(d,"MSPointerUp",this))),e.hasTouch&&!this.options.disableTouch&&(c(this.wrapper,"touchstart",this),c(d,"touchmove",this),c(d,"touchcancel",this),c(d,"touchend",this)),c(this.scroller,"transitionend",this),c(this.scroller,"webkitTransitionEnd",this),c(this.scroller,"oTransitionEnd",this),c(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var c,d,b=a.getComputedStyle(this.scroller,null);return this.options.useTransform?(b=b[e.style.transform].split(")")[0].split(", "),c=+(b[12]||b[4]),d=+(b[13]||b[5])):(c=+b.left.replace(/[^-\d]/g,""),d=+b.top.replace(/[^-\d]/g,"")),{x:c,y:d}},_initIndicators:function(){var e,a=this.options.interactiveScrollbars,c=("object"!=typeof this.options.scrollbars,"string"!=typeof this.options.scrollbars),d=[];this.indicators=[],this.options.scrollbars&&(this.options.scrollY&&(e={el:g("v",a,this.options.scrollbars),interactive:a,defaultScrollbars:!0,customStyle:c,resize:this.options.resizeIndicator,listenX:!1},this.wrapper.appendChild(e.el),d.push(e)),this.options.scrollX&&(e={el:g("h",a,this.options.scrollbars),interactive:a,defaultScrollbars:!0,customStyle:c,resize:this.options.resizeIndicator,listenY:!1},this.wrapper.appendChild(e.el),d.push(e))),this.options.indicators&&(d=d.concat(this.options.indicators));for(var f=d.length;f--;)this.indicators[f]=new h(this,d[f]);this.on("refresh",function(){if(this.indicators)for(var a=this.indicators.length;a--;)this.indicators[a].refresh()}),this.on("destroy",function(){if(this.indicators)for(var a=this.indicators.length;a--;)this.indicators[a].destroy();delete this.indicators})},_initWheel:function(){e.addEvent(this.wrapper,"mousewheel",this),e.addEvent(this.wrapper,"DOMMouseScroll",this),this.on("destroy",function(){e.removeEvent(this.wrapper,"mousewheel",this),e.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(a){if(this.enabled){a.preventDefault();var b,d,e,f,g=this;if(clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){g._execEvent("scrollEnd")},400),"wheelDeltaX"in a)b=a.wheelDeltaX/120,d=a.wheelDeltaY/120;else if("wheelDelta"in a)b=d=a.wheelDelta/120;else{if(!("detail"in a))return;b=d=-a.detail/3}if(b*=this.options.mouseWheelSpeed,d*=this.options.mouseWheelSpeed,this.hasVerticalScroll||(b=d,d=0),this.options.snap)return e=this.currentPage.pageX,f=this.currentPage.pageY,b>0?e--:b<0&&e++,d>0?f--:d<0&&f++,void this.goToPage(e,f);e=this.x+c.round(this.hasHorizontalScroll?b*this.options.invertWheelDirection:0),f=this.y+c.round(this.hasVerticalScroll?d*this.options.invertWheelDirection:0),e>0?e=0:e<this.maxScrollX&&(e=this.maxScrollX),f>0?f=0:f<this.maxScrollY&&(f=this.maxScrollY),this.scrollTo(e,f,0)}},_initSnap:function(){this.currentPage={},"string"==typeof this.options.snap&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap)),this.on("refresh",function(){var b,e,f,g,i,l,a=0,d=0,h=0,j=this.options.snapStepX||this.wrapperWidth,k=this.options.snapStepY||this.wrapperHeight;if(this.pages=[],this.wrapperWidth&&this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(this.options.snap===!0)for(f=c.round(j/2),g=c.round(k/2);h>-this.scrollerWidth;){for(this.pages[a]=[],b=0,i=0;i>-this.scrollerHeight;)this.pages[a][b]={x:c.max(h,this.maxScrollX),y:c.max(i,this.maxScrollY),width:j,height:k,cx:h-f,cy:i-g},i-=k,b++;h-=j,a++}else for(l=this.options.snap,b=l.length,e=-1;a<b;a++)(0===a||l[a].offsetLeft<=l[a-1].offsetLeft)&&(d=0,e++),this.pages[d]||(this.pages[d]=[]),h=c.max(-l[a].offsetLeft,this.maxScrollX),i=c.max(-l[a].offsetTop,this.maxScrollY),f=h-c.round(l[a].offsetWidth/2),g=i-c.round(l[a].offsetHeight/2),this.pages[d][e]={x:h,y:i,width:l[a].offsetWidth,height:l[a].offsetHeight,cx:f,cy:g},h>this.maxScrollX&&d++;this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0),this.options.snapThreshold%1===0?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=c.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=c.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}}),this.on("flick",function(){var a=this.options.snapSpeed||c.max(c.max(c.min(c.abs(this.x-this.startX),1e3),c.min(c.abs(this.y-this.startY),1e3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,a)})},_nearestSnap:function(a,b){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var d=0,e=this.pages.length,f=0;if(c.abs(a-this.absStartX)<this.snapThresholdX&&c.abs(b-this.absStartY)<this.snapThresholdY)return this.currentPage;for(a>0?a=0:a<this.maxScrollX&&(a=this.maxScrollX),b>0?b=0:b<this.maxScrollY&&(b=this.maxScrollY);d<e;d++)if(a>=this.pages[d][0].cx){a=this.pages[d][0].x;break}for(e=this.pages[d].length;f<e;f++)if(b>=this.pages[0][f].cy){b=this.pages[0][f].y;break}return d==this.currentPage.pageX&&(d+=this.directionX,d<0?d=0:d>=this.pages.length&&(d=this.pages.length-1),a=this.pages[d][0].x),f==this.currentPage.pageY&&(f+=this.directionY,f<0?f=0:f>=this.pages[0].length&&(f=this.pages[0].length-1),b=this.pages[0][f].y),{x:a,y:b,pageX:d,pageY:f}},goToPage:function(a,b,d,e){e=e||this.options.bounceEasing,a>=this.pages.length?a=this.pages.length-1:a<0&&(a=0),b>=this.pages[a].length?b=this.pages[a].length-1:b<0&&(b=0);var f=this.pages[a][b].x,g=this.pages[a][b].y;d=void 0===d?this.options.snapSpeed||c.max(c.max(c.min(c.abs(f-this.x),1e3),c.min(c.abs(g-this.y),1e3)),300):d,this.currentPage={x:f,y:g,pageX:a,pageY:b},this.scrollTo(f,g,d,e)},next:function(a,b){var c=this.currentPage.pageX,d=this.currentPage.pageY;c++,c>=this.pages.length&&this.hasVerticalScroll&&(c=0,d++),this.goToPage(c,d,a,b)},prev:function(a,b){var c=this.currentPage.pageX,d=this.currentPage.pageY;c--,c<0&&this.hasVerticalScroll&&(c=0,d--),this.goToPage(c,d,a,b)},_initKeys:function(b){var d,c={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40};if("object"==typeof this.options.keyBindings)for(d in this.options.keyBindings)"string"==typeof this.options.keyBindings[d]&&(this.options.keyBindings[d]=this.options.keyBindings[d].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(d in c)this.options.keyBindings[d]=this.options.keyBindings[d]||c[d];e.addEvent(a,"keydown",this),this.on("destroy",function(){e.removeEvent(a,"keydown",this)})},_key:function(a){if(this.enabled){var j,b=this.options.snap,d=b?this.currentPage.pageX:this.x,f=b?this.currentPage.pageY:this.y,g=e.getTime(),h=this.keyTime||0,i=.25;switch(this.options.useTransition&&this.isInTransition&&(j=this.getComputedPosition(),this._translate(c.round(j.x),c.round(j.y)),this.isInTransition=!1),this.keyAcceleration=g-h<200?c.min(this.keyAcceleration+i,50):0,a.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?d+=b?1:this.wrapperWidth:f+=b?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?d-=b?1:this.wrapperWidth:f-=b?1:this.wrapperHeight;break;case this.options.keyBindings.end:d=b?this.pages.length-1:this.maxScrollX,f=b?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:d=0,f=0;break;case this.options.keyBindings.left:d+=b?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:f+=b?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:d-=b?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:f-=b?1:5+this.keyAcceleration>>0;break;default:return}if(b)return void this.goToPage(d,f);d>0?(d=0,this.keyAcceleration=0):d<this.maxScrollX&&(d=this.maxScrollX,this.keyAcceleration=0),f>0?(f=0,this.keyAcceleration=0):f<this.maxScrollY&&(f=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(d,f,0),this.keyTime=g}},_animate:function(a,b,c,f){function l(){var n,o,p,m=e.getTime();return m>=k?(g.isAnimating=!1,g._translate(a,b),void(g.resetPosition(g.options.bounceTime)||g._execEvent("scrollEnd"))):(m=(m-j)/c,p=f(m),n=(a-h)*p+h,o=(b-i)*p+i,g._translate(n,o),void(g.isAnimating&&d(l)))}var g=this,h=this.x,i=this.y,j=e.getTime(),k=j+c;this.isAnimating=!0,l()},handleEvent:function(a){if("MSPointerDown"!=a.type&&"MSPointerMove"!=a.type&&"MSPointerCancel"!=a.type&&"MSPointerUp"!=a.type&&"pointerdown"!=a.type&&"pointermove"!=a.type&&"pointercancel"!=a.type&&"pointerup"!=a.type||"mouse"!=a.pointerType&&4!=a.pointerType)switch(a.type){case"touchstart":case"MSPointerDown":case"pointerdown":case"mousedown":this._start(a);break;case"touchmove":case"MSPointerMove":case"pointermove":case"mousemove":this._move(a);break;case"touchend":case"MSPointerUp":case"pointerup":case"mouseup":case"touchcancel":case"MSPointerCancel":case"pointercancel":case"mousecancel":this._end(a);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(a);break;case"DOMMouseScroll":case"mousewheel":this._wheel(a);break;case"keydown":this._key(a);break;case"click":a._constructed||(a.preventDefault(),a.stopPropagation())}}},h.prototype={handleEvent:function(a){switch(a.type){case"touchstart":case"MSPointerDown":case"pointerdown":case"mousedown":this._start(a);break;case"touchmove":case"MSPointerMove":case"pointermove":case"mousemove":this._move(a);break;case"touchend":case"MSPointerUp":case"pointerup":case"mouseup":case"touchcancel":case"MSPointerCancel":case"pointercancel":case"mousecancel":this._end(a)}},destroy:function(){this.options.interactive&&(e.removeEvent(this.indicator,"touchstart",this),e.removeEvent(this.indicator,"MSPointerDown",this),e.removeEvent(this.indicator,"pointerdown",this),e.removeEvent(this.indicator,"mousedown",this),e.removeEvent(a,"touchmove",this),e.removeEvent(a,"MSPointerMove",this),e.removeEvent(a,"pointermove",this),e.removeEvent(a,"mousemove",this),e.removeEvent(a,"touchend",this),e.removeEvent(a,"MSPointerUp",this),e.removeEvent(a,"pointerup",this),e.removeEvent(a,"mouseup",this)),this.options.defaultScrollbars&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(b){var c=b.touches?b.touches[0]:b;b.preventDefault(),b.stopPropagation(),this.transitionTime(0),this.initiated=!0,this.moved=!1,this.lastPointX=c.pageX,this.lastPointY=c.pageY,this.startTime=e.getTime(),this.options.disableTouch||e.addEvent(a,"touchmove",this),this.options.disablePointer||(a.PointerEvent?e.addEvent(a,"pointermove",this):a.MSPointerEvent&&e.addEvent(a,"MSPointerMove",this)),this.options.disableMouse||e.addEvent(a,"mousemove",this),this.scroller._execEvent("beforeScrollStart")},_move:function(a){var c,d,f,g,b=a.touches?a.touches[0]:a;e.getTime();this.moved||this.scroller._execEvent("scrollStart"),this.moved=!0,c=b.pageX-this.lastPointX,this.lastPointX=b.pageX,d=b.pageY-this.lastPointY,this.lastPointY=b.pageY,f=this.x+c,g=this.y+d,this._pos(f,g),a.preventDefault(),a.stopPropagation()},_end:function(b){if(this.initiated){if(this.initiated=!1,b.preventDefault(),b.stopPropagation(),e.removeEvent(a,"touchmove",this),e.removeEvent(a,"MSPointerMove",this),e.removeEvent(a,"pointermove",this),e.removeEvent(a,"mousemove",this),this.scroller.options.snap){var d=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),f=this.options.snapSpeed||c.max(c.max(c.min(c.abs(this.scroller.x-d.x),1e3),c.min(c.abs(this.scroller.y-d.y),1e3)),300);this.scroller.x==d.x&&this.scroller.y==d.y||(this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=d,this.scroller.scrollTo(d.x,d.y,f,this.scroller.options.bounceEasing))}this.moved&&this.scroller._execEvent("scrollEnd")}},transitionTime:function(a){a=a||0,this.indicatorStyle[e.style.transitionDuration]=a+"ms"},transitionTimingFunction:function(a){this.indicatorStyle[e.style.transitionTimingFunction]=a},refresh:function(){this.transitionTime(0),this.options.listenX&&!this.options.listenY?this.indicatorStyle.display=this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.indicatorStyle.display=this.scroller.hasVerticalScroll?"block":"none":this.indicatorStyle.display=this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none",this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(e.addClass(this.wrapper,"iScrollBothScrollbars"),e.removeClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="8px":this.wrapper.style.bottom="8px")):(e.removeClass(this.wrapper,"iScrollBothScrollbars"),e.addClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="2px":this.wrapper.style.bottom="2px"));this.wrapper.offsetHeight;this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=c.max(c.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX),this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=c.max(c.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY),this.updatePosition()},updatePosition:function(){var a=c.round(this.sizeRatioX*this.scroller.x)||0,b=c.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||(a<0?a=0:a>this.maxPosX&&(a=this.maxPosX),b<0?b=0:b>this.maxPosY&&(b=this.maxPosY)),this.x=a,this.y=b,this.scroller.options.useTransform?this.indicatorStyle[e.style.transform]="translate("+a+"px,"+b+"px)"+this.scroller.translateZ:(this.indicatorStyle.left=a+"px",this.indicatorStyle.top=b+"px")},_pos:function(a,b){a<0?a=0:a>this.maxPosX&&(a=this.maxPosX),b<0?b=0:b>this.maxPosY&&(b=this.maxPosY),a=this.options.listenX?c.round(a/this.sizeRatioX):this.scroller.x,b=this.options.listenY?c.round(b/this.sizeRatioY):this.scroller.y,this.scroller.scrollTo(a,b)}},f.ease=e.ease,f}(window,document,Math);;!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.React=e()}}(function(){return function e(t,n,r){function o(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(i)return i(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){var n=t[a][1][e];return o(n||e)},l,l.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){"use strict";function r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n["ms"+e]="MS"+t,n["O"+e]="o"+t.toLowerCase(),n}function o(e){if(s[e])return s[e];if(!a[e])return e;var t=a[e];for(var n in t)if(t.hasOwnProperty(n)&&n in u)return s[e]=t[n];return""}var i=e(39),a={animationend:r("Animation","AnimationEnd"),animationiteration:r("Animation","AnimationIteration"),animationstart:r("Animation","AnimationStart"),transitionend:r("Transition","TransitionEnd")},s={},u={};i.canUseDOM&&(u=document.createElement("div").style,"AnimationEvent"in window||(delete a.animationend.animation,delete a.animationiteration.animation,delete a.animationstart.animation),"TransitionEvent"in window||delete a.transitionend.transition),t.exports=o},{39:39}],2:[function(e,t,n){"use strict";function r(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}function o(e){var t=/(=0|=2)/g,n={"=0":"=","=2":":"};return(""+("."===e[0]&&"$"===e[1]?e.substring(2):e.substring(1))).replace(t,function(e){return n[e]})}var i={escape:r,unescape:o};t.exports=i},{}],3:[function(e,t,n){"use strict";var r=e(17),o=e(20),i={linkState:function(e){return new r(this.state[e],o.createStateKeySetter(this,e))}};t.exports=i},{17:17,20:20}],4:[function(e,t,n){"use strict";var r=e(33),o=(e(42),function(e){var t=this;if(t.instancePool.length){var n=t.instancePool.pop();return t.call(n,e),n}return new t(e)}),i=function(e,t){var n=this;if(n.instancePool.length){var r=n.instancePool.pop();return n.call(r,e,t),r}return new n(e,t)},a=function(e,t,n){var r=this;if(r.instancePool.length){var o=r.instancePool.pop();return r.call(o,e,t,n),o}return new r(e,t,n)},s=function(e,t,n,r){var o=this;if(o.instancePool.length){var i=o.instancePool.pop();return o.call(i,e,t,n,r),i}return new o(e,t,n,r)},u=function(e){var t=this;e instanceof t||r("25"),e.destructor(),t.instancePool.length<t.poolSize&&t.instancePool.push(e)},c=o,l=function(e,t){var n=e;return n.instancePool=[],n.getPooled=t||c,n.poolSize||(n.poolSize=10),n.release=u,n},p={addPoolingTo:l,oneArgumentPooler:o,twoArgumentPooler:i,threeArgumentPooler:a,fourArgumentPooler:s};t.exports=p},{33:33,42:42}],5:[function(e,t,n){"use strict";var r=e(45),o=e(7),i=e(10),a=e(13),s=e(14),u=e(19),c=e(24),l=e(28),p=e(32),f=s.createElement,d=s.createFactory,h=s.cloneElement,y=r,m=function(e){return e},v={Children:{map:i.map,forEach:i.forEach,count:i.count,toArray:i.toArray,only:p},Component:o.Component,PureComponent:o.PureComponent,createElement:f,cloneElement:h,isValidElement:s.isValidElement,PropTypes:u,createClass:l,createFactory:d,createMixin:m,DOM:a,version:c,__spread:y};t.exports=v},{10:10,13:13,14:14,19:19,24:24,28:28,32:32,45:45,7:7}],6:[function(e,t,n){"use strict";function r(){if(!o){var t=e(26);o=t.__SECRET_INJECTED_REACT_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED}return o}var o;n.getReactDOM=r},{26:26}],7:[function(e,t,n){"use strict";function r(e,t,n){this.props=e,this.context=t,this.refs=c,this.updater=n||u}function o(e,t,n){this.props=e,this.context=t,this.refs=c,this.updater=n||u}function i(){}var a=e(33),s=e(45),u=e(18),c=(e(27),e(41));e(42),e(31);r.prototype.isReactComponent={},r.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e&&a("85"),this.updater.enqueueSetState(this,e),t&&this.updater.enqueueCallback(this,t,"setState")},r.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this),e&&this.updater.enqueueCallback(this,e,"forceUpdate")};i.prototype=r.prototype,o.prototype=new i,o.prototype.constructor=o,s(o.prototype,r.prototype),o.prototype.isPureReactComponent=!0,t.exports={Component:r,PureComponent:o}},{18:18,27:27,31:31,33:33,41:41,42:42,45:45}],8:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){var t="transition"+e+"Timeout",n="transition"+e;return function(e){if(e[n]){if(null==e[t])return new Error(t+" wasn't supplied to ReactCSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!=typeof e[t])return new Error(t+" must be a number (in milliseconds)")}}}var s=e(45),u=e(5),c=e(47),l=c(u.isValidElement),p=e(23),f=e(9),d=function(e){function t(){var n,i,a;r(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=i=o(this,e.call.apply(e,[this].concat(c))),i._wrapChild=function(e){return u.createElement(f,{name:i.props.transitionName,appear:i.props.transitionAppear,enter:i.props.transitionEnter,leave:i.props.transitionLeave,appearTimeout:i.props.transitionAppearTimeout,enterTimeout:i.props.transitionEnterTimeout,leaveTimeout:i.props.transitionLeaveTimeout},e)},a=n,o(i,a)}return i(t,e),t.prototype.render=function(){return u.createElement(p,s({},this.props,{childFactory:this._wrapChild}))},t}(u.Component);d.displayName="ReactCSSTransitionGroup",d.propTypes={transitionName:f.propTypes.name,transitionAppear:l.bool,transitionEnter:l.bool,transitionLeave:l.bool,transitionAppearTimeout:a("Appear"),transitionEnterTimeout:a("Enter"),transitionLeaveTimeout:a("Leave")},d.defaultProps={transitionAppear:!1,transitionEnter:!0,transitionLeave:!0},t.exports=d},{23:23,45:45,47:47,5:5,9:9}],9:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=e(5),s=e(6),u=e(47),c=u(a.isValidElement),l=e(38),p=e(22),f=e(32),d=17,h=function(e){function t(){var n,i,a;r(this,t);for(var u=arguments.length,c=Array(u),f=0;f<u;f++)c[f]=arguments[f];return n=i=o(this,e.call.apply(e,[this].concat(c))),i._isMounted=!1,i.transition=function(e,t,n){var r=s.getReactDOM().findDOMNode(i);if(!r)return void(t&&t());var o=i.props.name[e]||i.props.name+"-"+e,a=i.props.name[e+"Active"]||o+"-active",u=null,c=function(e){e&&e.target!==r||(clearTimeout(u),l.removeClass(r,o),l.removeClass(r,a),p.removeEndEventListener(r,c),t&&t())};l.addClass(r,o),i.queueClassAndNode(a,r),n?(u=setTimeout(c,n),i.transitionTimeouts.push(u)):p.addEndEventListener(r,c)},i.queueClassAndNode=function(e,t){i.classNameAndNodeQueue.push({className:e,node:t}),i.timeout||(i.timeout=setTimeout(i.flushClassNameAndNodeQueue,d))},i.flushClassNameAndNodeQueue=function(){i._isMounted&&i.classNameAndNodeQueue.forEach(function(e){l.addClass(e.node,e.className)}),i.classNameAndNodeQueue.length=0,i.timeout=null},i.componentWillAppear=function(e){i.props.appear?i.transition("appear",e,i.props.appearTimeout):e()},i.componentWillEnter=function(e){i.props.enter?i.transition("enter",e,i.props.enterTimeout):e()},i.componentWillLeave=function(e){i.props.leave?i.transition("leave",e,i.props.leaveTimeout):e()},a=n,o(i,a)}return i(t,e),t.prototype.componentWillMount=function(){this.classNameAndNodeQueue=[],this.transitionTimeouts=[]},t.prototype.componentDidMount=function(){this._isMounted=!0},t.prototype.componentWillUnmount=function(){this._isMounted=!1,this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach(function(e){clearTimeout(e)}),this.classNameAndNodeQueue.length=0},t.prototype.render=function(){return f(this.props.children)},t}(a.Component);h.propTypes={name:c.oneOfType([c.string,c.shape({enter:c.string,leave:c.string,active:c.string}),c.shape({enter:c.string,enterActive:c.string,leave:c.string,leaveActive:c.string,appear:c.string,appearActive:c.string})]).isRequired,appear:c.bool,enter:c.bool,leave:c.bool,appearTimeout:c.number,enterTimeout:c.number,leaveTimeout:c.number},t.exports=h},{22:22,32:32,38:38,47:47,5:5,6:6}],10:[function(e,t,n){"use strict";function r(e){return(""+e).replace(E,"$&/")}function o(e,t){this.func=e,this.context=t,this.count=0}function i(e,t,n){var r=e.func,o=e.context;r.call(o,t,e.count++)}function a(e,t,n){if(null==e)return e;var r=o.getPooled(t,n);v(e,i,r),o.release(r)}function s(e,t,n,r){this.result=e,this.keyPrefix=t,this.func=n,this.context=r,this.count=0}function u(e,t,n){var o=e.result,i=e.keyPrefix,a=e.func,s=e.context,u=a.call(s,t,e.count++);Array.isArray(u)?c(u,o,n,m.thatReturnsArgument):null!=u&&(y.isValidElement(u)&&(u=y.cloneAndReplaceKey(u,i+(!u.key||t&&t.key===u.key?"":r(u.key)+"/")+n)),o.push(u))}function c(e,t,n,o,i){var a="";null!=n&&(a=r(n)+"/");var c=s.getPooled(t,a,o,i);v(e,u,c),s.release(c)}function l(e,t,n){if(null==e)return e;var r=[];return c(e,r,null,t,n),r}function p(e,t,n){return null}function f(e,t){return v(e,p,null)}function d(e){var t=[];return c(e,t,null,m.thatReturnsArgument),t}var h=e(4),y=e(14),m=e(40),v=e(35),g=h.twoArgumentPooler,b=h.fourArgumentPooler,E=/\/+/g;o.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},h.addPoolingTo(o,g),s.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},h.addPoolingTo(s,b);var _={forEach:a,map:l,mapIntoWithKeyPrefixInternal:c,count:f,toArray:d};t.exports=_},{14:14,35:35,4:4,40:40}],11:[function(e,t,n){"use strict";var r=e(34),o={shouldComponentUpdate:function(e,t){return r(this,e,t)}};t.exports=o},{34:34}],12:[function(e,t,n){"use strict";var r={current:null};t.exports=r},{}],13:[function(e,t,n){"use strict";var r=e(14),o=r.createFactory,i={a:o("a"),abbr:o("abbr"),address:o("address"),area:o("area"),article:o("article"),aside:o("aside"),audio:o("audio"),b:o("b"),base:o("base"),bdi:o("bdi"),bdo:o("bdo"),big:o("big"),blockquote:o("blockquote"),body:o("body"),br:o("br"),button:o("button"),canvas:o("canvas"),caption:o("caption"),cite:o("cite"),code:o("code"),col:o("col"),colgroup:o("colgroup"),data:o("data"),datalist:o("datalist"),dd:o("dd"),del:o("del"),details:o("details"),dfn:o("dfn"),dialog:o("dialog"),div:o("div"),dl:o("dl"),dt:o("dt"),em:o("em"),embed:o("embed"),fieldset:o("fieldset"),figcaption:o("figcaption"),figure:o("figure"),footer:o("footer"),form:o("form"),h1:o("h1"),h2:o("h2"),h3:o("h3"),h4:o("h4"),h5:o("h5"),h6:o("h6"),head:o("head"),header:o("header"),hgroup:o("hgroup"),hr:o("hr"),html:o("html"),i:o("i"),iframe:o("iframe"),img:o("img"),input:o("input"),ins:o("ins"),kbd:o("kbd"),keygen:o("keygen"),label:o("label"),legend:o("legend"),li:o("li"),link:o("link"),main:o("main"),map:o("map"),mark:o("mark"),menu:o("menu"),menuitem:o("menuitem"),meta:o("meta"),meter:o("meter"),nav:o("nav"),noscript:o("noscript"),object:o("object"),ol:o("ol"),optgroup:o("optgroup"),option:o("option"),output:o("output"),p:o("p"),param:o("param"),picture:o("picture"),pre:o("pre"),progress:o("progress"),q:o("q"),rp:o("rp"),rt:o("rt"),ruby:o("ruby"),s:o("s"),samp:o("samp"),script:o("script"),section:o("section"),select:o("select"),small:o("small"),source:o("source"),span:o("span"),strong:o("strong"),style:o("style"),sub:o("sub"),summary:o("summary"),sup:o("sup"),table:o("table"),tbody:o("tbody"),td:o("td"),textarea:o("textarea"),tfoot:o("tfoot"),th:o("th"),thead:o("thead"),time:o("time"),title:o("title"),tr:o("tr"),track:o("track"),u:o("u"),ul:o("ul"),var:o("var"),video:o("video"),wbr:o("wbr"),circle:o("circle"),clipPath:o("clipPath"),defs:o("defs"),ellipse:o("ellipse"),g:o("g"),image:o("image"),line:o("line"),linearGradient:o("linearGradient"),mask:o("mask"),path:o("path"),pattern:o("pattern"),polygon:o("polygon"),polyline:o("polyline"),radialGradient:o("radialGradient"),rect:o("rect"),stop:o("stop"),svg:o("svg"),text:o("text"),tspan:o("tspan")};t.exports=i},{14:14}],14:[function(e,t,n){"use strict";function r(e){return void 0!==e.ref}function o(e){return void 0!==e.key}var i=e(45),a=e(12),s=(e(44),e(27),Object.prototype.hasOwnProperty),u=e(15),c={key:!0,ref:!0,__self:!0,__source:!0},l=function(e,t,n,r,o,i,a){return{$$typeof:u,type:e,key:t,ref:n,props:a,_owner:i}};l.createElement=function(e,t,n){var i,u={},p=null,f=null;if(null!=t){r(t)&&(f=t.ref),o(t)&&(p=""+t.key),void 0===t.__self?null:t.__self,void 0===t.__source?null:t.__source;for(i in t)s.call(t,i)&&!c.hasOwnProperty(i)&&(u[i]=t[i])}var d=arguments.length-2;if(1===d)u.children=n;else if(d>1){for(var h=Array(d),y=0;y<d;y++)h[y]=arguments[y+2];u.children=h}if(e&&e.defaultProps){var m=e.defaultProps;for(i in m)void 0===u[i]&&(u[i]=m[i])}return l(e,p,f,0,0,a.current,u)},l.createFactory=function(e){var t=l.createElement.bind(null,e);return t.type=e,t},l.cloneAndReplaceKey=function(e,t){return l(e.type,t,e.ref,e._self,e._source,e._owner,e.props)},l.cloneElement=function(e,t,n){var u,p=i({},e.props),f=e.key,d=e.ref,h=(e._self,e._source,e._owner);if(null!=t){r(t)&&(d=t.ref,h=a.current),o(t)&&(f=""+t.key);var y;e.type&&e.type.defaultProps&&(y=e.type.defaultProps);for(u in t)s.call(t,u)&&!c.hasOwnProperty(u)&&(void 0===t[u]&&void 0!==y?p[u]=y[u]:p[u]=t[u])}var m=arguments.length-2;if(1===m)p.children=n;else if(m>1){for(var v=Array(m),g=0;g<m;g++)v[g]=arguments[g+2];p.children=v}return l(e.type,f,d,0,0,h,p)},l.isValidElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===u},t.exports=l},{12:12,15:15,27:27,44:44,45:45}],15:[function(e,t,n){"use strict";var r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;t.exports=r},{}],16:[function(e,t,n){"use strict";var r=e(33),o=e(10),i=e(14),a=e(40),s=(e(42),e(44),{create:function(e){if("object"!=typeof e||!e||Array.isArray(e))return e;if(i.isValidElement(e))return e;1===e.nodeType&&r("0");var t=[];for(var n in e)o.mapIntoWithKeyPrefixInternal(e[n],t,n,a.thatReturnsArgument);return t}});t.exports=s},{10:10,14:14,33:33,40:40,42:42,44:44}],17:[function(e,t,n){"use strict";function r(e,t){this.value=e,this.requestChange=t}t.exports=r},{}],18:[function(e,t,n){"use strict";var r=(e(44),{isMounted:function(e){return!1},enqueueCallback:function(e,t){},enqueueForceUpdate:function(e){},enqueueReplaceState:function(e,t){},enqueueSetState:function(e,t){}});t.exports=r},{44:44}],19:[function(e,t,n){"use strict";var r=e(14),o=r.isValidElement,i=e(47);t.exports=i(o)},{14:14,47:47}],20:[function(e,t,n){"use strict";function r(e,t){var n={};return function(r){n[t]=r,e.setState(n)}}var o={createStateSetter:function(e,t){return function(n,r,o,i,a,s){var u=t.call(e,n,r,o,i,a,s);u&&e.setState(u)}},createStateKeySetter:function(e,t){var n=e.__keySetters||(e.__keySetters={});return n[t]||(n[t]=r(e,t))}};o.Mixin={createStateSetter:function(e){return o.createStateSetter(this,e)},createStateKeySetter:function(e){return o.createStateKeySetter(this,e)}},t.exports=o},{}],21:[function(e,t,n){"use strict";var r=e(29),o={getChildMapping:function(e,t){return e?r(e):e},mergeChildMappings:function(e,t){function n(n){return t.hasOwnProperty(n)?t[n]:e[n]}e=e||{},t=t||{};var r={},o=[];for(var i in e)t.hasOwnProperty(i)?o.length&&(r[i]=o,o=[]):o.push(i);var a,s={};for(var u in t){if(r.hasOwnProperty(u))for(a=0;a<r[u].length;a++){var c=r[u][a];s[r[u][a]]=n(c)}s[u]=n(u)}for(a=0;a<o.length;a++)s[o[a]]=n(o[a]);return s}};t.exports=o},{29:29}],22:[function(e,t,n){"use strict";function r(e,t,n){e.addEventListener(t,n,!1)}function o(e,t,n){e.removeEventListener(t,n,!1)}var i=e(39),a=e(1),s=[];i.canUseDOM&&function(){var e=a("animationend"),t=a("transitionend");e&&s.push(e),t&&s.push(t)}();var u={addEndEventListener:function(e,t){if(0===s.length)return void window.setTimeout(t,0);s.forEach(function(n){r(e,n,t)})},removeEndEventListener:function(e,t){0!==s.length&&s.forEach(function(n){o(e,n,t)})}};t.exports=u},{1:1,39:39}],23:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=e(45),s=e(5),u=e(21),c=e(47),l=c(s.isValidElement),p=e(40),f=function(e){function t(){var n,i,s;r(this,t);for(var c=arguments.length,l=Array(c),p=0;p<c;p++)l[p]=arguments[p];return n=i=o(this,e.call.apply(e,[this].concat(l))),i.state={children:u.getChildMapping(i.props.children)},i.performAppear=function(e){i.currentlyTransitioningKeys[e]=!0;var t=i.refs[e];t.componentWillAppear?t.componentWillAppear(i._handleDoneAppearing.bind(i,e)):i._handleDoneAppearing(e)},i._handleDoneAppearing=function(e){var t=i.refs[e];t.componentDidAppear&&t.componentDidAppear(),delete i.currentlyTransitioningKeys[e];var n=u.getChildMapping(i.props.children);n&&n.hasOwnProperty(e)||i.performLeave(e)},i.performEnter=function(e){i.currentlyTransitioningKeys[e]=!0;var t=i.refs[e];t.componentWillEnter?t.componentWillEnter(i._handleDoneEntering.bind(i,e)):i._handleDoneEntering(e)},i._handleDoneEntering=function(e){var t=i.refs[e];t.componentDidEnter&&t.componentDidEnter(),delete i.currentlyTransitioningKeys[e];var n=u.getChildMapping(i.props.children);n&&n.hasOwnProperty(e)||i.performLeave(e)},i.performLeave=function(e){i.currentlyTransitioningKeys[e]=!0;var t=i.refs[e];t.componentWillLeave?t.componentWillLeave(i._handleDoneLeaving.bind(i,e)):i._handleDoneLeaving(e)},i._handleDoneLeaving=function(e){var t=i.refs[e];t.componentDidLeave&&t.componentDidLeave(),delete i.currentlyTransitioningKeys[e];var n=u.getChildMapping(i.props.children);n&&n.hasOwnProperty(e)?i.performEnter(e):i.setState(function(t){var n=a({},t.children);return delete n[e],{children:n}})},s=n,o(i,s)}return i(t,e),t.prototype.componentWillMount=function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},t.prototype.componentDidMount=function(){var e=this.state.children;for(var t in e)e[t]&&this.performAppear(t)},t.prototype.componentWillReceiveProps=function(e){var t=u.getChildMapping(e.children),n=this.state.children;this.setState({children:u.mergeChildMappings(n,t)});var r;for(r in t){var o=n&&n.hasOwnProperty(r);!t[r]||o||this.currentlyTransitioningKeys[r]||this.keysToEnter.push(r)}for(r in n){var i=t&&t.hasOwnProperty(r);!n[r]||i||this.currentlyTransitioningKeys[r]||this.keysToLeave.push(r)}},t.prototype.componentDidUpdate=function(){var e=this.keysToEnter;this.keysToEnter=[],e.forEach(this.performEnter);var t=this.keysToLeave;this.keysToLeave=[],t.forEach(this.performLeave)},t.prototype.render=function(){var e=[];for(var t in this.state.children){var n=this.state.children[t];n&&e.push(s.cloneElement(this.props.childFactory(n),{ref:t,key:t}))}var r=a({},this.props);return delete r.transitionLeave,delete r.transitionName,delete r.transitionAppear,delete r.transitionEnter,delete r.childFactory,delete r.transitionLeaveTimeout,delete r.transitionEnterTimeout,delete r.transitionAppearTimeout,delete r.component,s.createElement(this.props.component,r,e)},t}(s.Component);f.displayName="ReactTransitionGroup",f.propTypes={component:l.any,childFactory:l.func},f.defaultProps={component:"span",childFactory:p.thatReturnsArgument},t.exports=f},{21:21,40:40,45:45,47:47,5:5}],24:[function(e,t,n){"use strict";t.exports="15.6.1"},{}],25:[function(e,t,n){"use strict";var r=e(3),o=e(5),i=(e(6),e(11)),a=e(8),s=e(16),u=e(23),c=e(34),l=e(36);o.addons={CSSTransitionGroup:a,LinkedStateMixin:r,PureRenderMixin:i,TransitionGroup:u,createFragment:s.create,shallowCompare:c,update:l},t.exports=o},{11:11,16:16,23:23,3:3,34:34,36:36,5:5,6:6,8:8}],26:[function(e,t,n){"use strict";var r=e(45),o=e(25),i=r(o,{__SECRET_INJECTED_REACT_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:null,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:e(12)}});t.exports=i},{12:12,25:25,45:45}],27:[function(e,t,n){"use strict";t.exports=!1},{}],28:[function(e,t,n){"use strict";var r=e(7),o=r.Component,i=e(14),a=i.isValidElement,s=e(18),u=e(37);t.exports=u(o,a,s)},{14:14,18:18,37:37,7:7}],29:[function(e,t,n){(function(n){"use strict";function r(e,t,n,r){if(e&&"object"==typeof e){var o=e;void 0===o[n]&&null!=t&&(o[n]=t)}}function o(e,t){if(null==e)return e;var n={};return i(e,r,n),n}var i=(e(2),e(35));e(44);void 0!==n&&n.env,t.exports=o}).call(this,void 0)},{2:2,35:35,44:44}],30:[function(e,t,n){"use strict";function r(e){var t=e&&(o&&e[o]||e[i]);if("function"==typeof t)return t}var o="function"==typeof Symbol&&Symbol.iterator,i="@@iterator";t.exports=r},{}],31:[function(e,t,n){"use strict";var r=function(){};t.exports=r},{}],32:[function(e,t,n){"use strict";function r(e){return i.isValidElement(e)||o("143"),e}var o=e(33),i=e(14);e(42);t.exports=r},{14:14,33:33,42:42}],33:[function(e,t,n){"use strict";function r(e){for(var t=arguments.length-1,n="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);n+=" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.";var o=new Error(n);throw o.name="Invariant Violation",o.framesToPop=1,o}t.exports=r},{}],34:[function(e,t,n){"use strict";function r(e,t,n){return!o(e.props,t)||!o(e.state,n)}var o=e(43);t.exports=r},{43:43}],35:[function(e,t,n){"use strict";function r(e,t){return e&&"object"==typeof e&&null!=e.key?c.escape(e.key):t.toString(36)}function o(e,t,n,i){var f=typeof e;if("undefined"!==f&&"boolean"!==f||(e=null),null===e||"string"===f||"number"===f||"object"===f&&e.$$typeof===s)return n(i,e,""===t?l+r(e,0):t),1;var d,h,y=0,m=""===t?l:t+p;if(Array.isArray(e))for(var v=0;v<e.length;v++)d=e[v],h=m+r(d,v),y+=o(d,h,n,i);else{var g=u(e);if(g){var b,E=g.call(e);if(g!==e.entries)for(var _=0;!(b=E.next()).done;)d=b.value,h=m+r(d,_++),y+=o(d,h,n,i);else for(;!(b=E.next()).done;){var w=b.value;w&&(d=w[1],h=m+c.escape(w[0])+p+r(d,0),y+=o(d,h,n,i))}}else if("object"===f){var x=String(e);a("31","[object Object]"===x?"object with keys {"+Object.keys(e).join(", ")+"}":x,"")}}return y}function i(e,t,n){return null==e?0:o(e,"",t,n)}var a=e(33),s=(e(12),e(15)),u=e(30),c=(e(42),e(2)),l=(e(44),"."),p=":";t.exports=i},{12:12,15:15,2:2,30:30,33:33,42:42,44:44}],36:[function(e,t,n){"use strict";function r(e){return Array.isArray(e)?e.concat():e&&"object"==typeof e?s(new e.constructor,e):e}function o(e,t,n){Array.isArray(e)||a("1",n,e);var r=t[n];Array.isArray(r)||a("2",n,r)}function i(e,t){if("object"!=typeof t&&a("3",y.join(", "),f),u.call(t,f))return 1!==Object.keys(t).length&&a("4",f),t[f];var n=r(e);if(u.call(t,d)){var v=t[d];v&&"object"==typeof v||a("5",d,v),n&&"object"==typeof n||a("6",d,n),s(n,t[d])}u.call(t,c)&&(o(e,t,c),t[c].forEach(function(e){n.push(e)})),u.call(t,l)&&(o(e,t,l),t[l].forEach(function(e){n.unshift(e)})),u.call(t,p)&&(Array.isArray(e)||a("7",p,e),Array.isArray(t[p])||a("8",p,t[p]),t[p].forEach(function(e){Array.isArray(e)||a("8",p,t[p]),n.splice.apply(n,e)})),u.call(t,h)&&("function"!=typeof t[h]&&a("9",h,t[h]),n=t[h](n));for(var g in t)m.hasOwnProperty(g)&&m[g]||(n[g]=i(e[g],t[g]));return n}var a=e(33),s=e(45),u=(e(42),{}.hasOwnProperty),c="$push",l="$unshift",p="$splice",f="$set",d="$merge",h="$apply",y=[c,l,p,f,d,h],m={};y.forEach(function(e){m[e]=!0}),t.exports=i},{33:33,42:42,45:45}],37:[function(e,t,n){"use strict";function r(e){return e}function o(e,t,n){function o(e,t){var n=g.hasOwnProperty(t)?g[t]:null;w.hasOwnProperty(t)&&s("OVERRIDE_BASE"===n,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",t),e&&s("DEFINE_MANY"===n||"DEFINE_MANY_MERGED"===n,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",t)}function c(e,n){if(n){s("function"!=typeof n,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),s(!t(n),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var r=e.prototype,i=r.__reactAutoBindPairs;n.hasOwnProperty(u)&&b.mixins(e,n.mixins);for(var a in n)if(n.hasOwnProperty(a)&&a!==u){var c=n[a],l=r.hasOwnProperty(a);if(o(l,a),b.hasOwnProperty(a))b[a](e,c);else{var p=g.hasOwnProperty(a),h="function"==typeof c,y=h&&!p&&!l&&!1!==n.autobind;if(y)i.push(a,c),r[a]=c;else if(l){var m=g[a];s(p&&("DEFINE_MANY_MERGED"===m||"DEFINE_MANY"===m),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",m,a),"DEFINE_MANY_MERGED"===m?r[a]=f(r[a],c):"DEFINE_MANY"===m&&(r[a]=d(r[a],c))}else r[a]=c}}}else;}function l(e,t){if(t)for(var n in t){var r=t[n];if(t.hasOwnProperty(n)){var o=n in b;s(!o,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',n);var i=n in e;s(!i,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n),e[n]=r}}}function p(e,t){s(e&&t&&"object"==typeof e&&"object"==typeof t,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.");for(var n in t)t.hasOwnProperty(n)&&(s(void 0===e[n],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",n),e[n]=t[n]);return e}function f(e,t){return function(){var n=e.apply(this,arguments),r=t.apply(this,arguments);if(null==n)return r;if(null==r)return n;var o={};return p(o,n),p(o,r),o}}function d(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function h(e,t){var n=t.bind(e);return n}function y(e){for(var t=e.__reactAutoBindPairs,n=0;n<t.length;n+=2){var r=t[n],o=t[n+1];e[r]=h(e,o)}}function m(e){var t=r(function(e,r,o){this.__reactAutoBindPairs.length&&y(this),this.props=e,this.context=r,this.refs=a,this.updater=o||n,this.state=null;var i=this.getInitialState?this.getInitialState():null;s("object"==typeof i&&!Array.isArray(i),"%s.getInitialState(): must return an object or null",t.displayName||"ReactCompositeComponent"),this.state=i});t.prototype=new x,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],v.forEach(c.bind(null,t)),c(t,E),c(t,e),c(t,_),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),s(t.prototype.render,"createClass(...): Class specification must implement a `render` method.");for(var o in g)t.prototype[o]||(t.prototype[o]=null);return t}var v=[],g={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},b={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)c(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=i({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=i({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=f(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=i({},e.propTypes,t)},statics:function(e,t){l(e,t)},autobind:function(){}},E={componentDidMount:function(){this.__isMounted=!0}},_={componentWillUnmount:function(){this.__isMounted=!1}},w={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e,t)},isMounted:function(){return!!this.__isMounted}},x=function(){};return i(x.prototype,e.prototype,w),m}var i=e(45),a=e(41),s=e(42),u="mixins";t.exports=o},{41:41,42:42,44:44,45:45}],38:[function(e,t,n){"use strict";function r(e,t){for(var n=e;n.parentNode;)n=n.parentNode;var r=n.querySelectorAll(t);return-1!==Array.prototype.indexOf.call(r,e)}var o=e(42),i={addClass:function(e,t){return/\s/.test(t)&&o(!1),t&&(e.classList?e.classList.add(t):i.hasClass(e,t)||(e.className=e.className+" "+t)),e},removeClass:function(e,t){return/\s/.test(t)&&o(!1),t&&(e.classList?e.classList.remove(t):i.hasClass(e,t)&&(e.className=e.className.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,""))),e},conditionClass:function(e,t,n){return(n?i.addClass:i.removeClass)(e,t)},hasClass:function(e,t){return/\s/.test(t)&&o(!1),e.classList?!!t&&e.classList.contains(t):(" "+e.className+" ").indexOf(" "+t+" ")>-1},matchesSelector:function(e,t){return(e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||function(t){return r(e,t)}).call(e,t)}};t.exports=i},{42:42}],39:[function(e,t,n){"use strict";var r=!("undefined"==typeof window||!window.document||!window.document.createElement),o={canUseDOM:r,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};t.exports=o},{}],40:[function(e,t,n){"use strict";function r(e){return function(){return e}}var o=function(){};o.thatReturns=r,o.thatReturnsFalse=r(!1),o.thatReturnsTrue=r(!0),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},t.exports=o},{}],41:[function(e,t,n){"use strict";var r={};t.exports=r},{}],42:[function(e,t,n){"use strict";function r(e,t,n,r,i,a,s,u){if(o(t),!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,a,s,u],p=0;c=new Error(t.replace(/%s/g,function(){return l[p++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}}var o=function(e){};t.exports=r},{}],43:[function(e,t,n){"use strict";function r(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!==e&&t!==t}function o(e,t){if(r(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(var a=0;a<n.length;a++)if(!i.call(t,n[a])||!r(e[n[a]],t[n[a]]))return!1;return!0}var i=Object.prototype.hasOwnProperty;t.exports=o},{}],44:[function(e,t,n){"use strict";var r=e(40),o=r;t.exports=o},{40:40}],45:[function(e,t,n){"use strict";function r(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var o=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,u=r(e),c=1;c<arguments.length;c++){n=Object(arguments[c]);for(var l in n)i.call(n,l)&&(u[l]=n[l]);if(o){s=o(n);for(var p=0;p<s.length;p++)a.call(n,s[p])&&(u[s[p]]=n[s[p]])}}return u}},{}],46:[function(e,t,n){"use strict";function r(e,t,n,r,o){}t.exports=r},{42:42,44:44,49:49}],47:[function(e,t,n){"use strict";var r=e(48);t.exports=function(e){return r(e,!1)}},{48:48}],48:[function(e,t,n){"use strict";var r=e(40),o=e(42),i=e(44),a=e(49),s=e(46);t.exports=function(e,t){function n(e){var t=e&&(A&&e[A]||e[T]);if("function"==typeof t)return t}function u(e,t){return e===t?0!==e||1/e==1/t:e!==e&&t!==t}function c(e){this.message=e,this.stack=""}function l(e){function n(n,r,i,s,u,l,p){if(s=s||O,l=l||i,p!==a)if(t)o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else;return null==r[i]?n?new c(null===r[i]?"The "+u+" `"+l+"` is marked as required in `"+s+"`, but its value is `null`.":"The "+u+" `"+l+"` is marked as required in `"+s+"`, but its value is `undefined`."):null:e(r,i,s,u,l)}var r=n.bind(null,!1);return r.isRequired=n.bind(null,!0),r}function p(e){function t(t,n,r,o,i,a){var s=t[n];if(E(s)!==e)return new c("Invalid "+o+" `"+i+"` of type `"+_(s)+"` supplied to `"+r+"`, expected `"+e+"`.");return null}return l(t)}function f(e){function t(t,n,r,o,i){if("function"!=typeof e)return new c("Property `"+i+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var s=t[n];if(!Array.isArray(s)){return new c("Invalid "+o+" `"+i+"` of type `"+E(s)+"` supplied to `"+r+"`, expected an array.")}for(var u=0;u<s.length;u++){var l=e(s,u,r,o,i+"["+u+"]",a);if(l instanceof Error)return l}return null}return l(t)}function d(e){function t(t,n,r,o,i){if(!(t[n]instanceof e)){var a=e.name||O;return new c("Invalid "+o+" `"+i+"` of type `"+x(t[n])+"` supplied to `"+r+"`, expected instance of `"+a+"`.")}return null}return l(t)}function h(e){function t(t,n,r,o,i){for(var a=t[n],s=0;s<e.length;s++)if(u(a,e[s]))return null;return new c("Invalid "+o+" `"+i+"` of value `"+a+"` supplied to `"+r+"`, expected one of "+JSON.stringify(e)+".")}return Array.isArray(e)?l(t):r.thatReturnsNull}function y(e){function t(t,n,r,o,i){if("function"!=typeof e)return new c("Property `"+i+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var s=t[n],u=E(s);if("object"!==u)return new c("Invalid "+o+" `"+i+"` of type `"+u+"` supplied to `"+r+"`, expected an object.");for(var l in s)if(s.hasOwnProperty(l)){var p=e(s,l,r,o,i+"."+l,a);if(p instanceof Error)return p}return null}return l(t)}function m(e){function t(t,n,r,o,i){for(var s=0;s<e.length;s++){if(null==(0,e[s])(t,n,r,o,i,a))return null}return new c("Invalid "+o+" `"+i+"` supplied to `"+r+"`.")}if(!Array.isArray(e))return r.thatReturnsNull;for(var n=0;n<e.length;n++){var o=e[n];if("function"!=typeof o)return i(!1,"Invalid argument supplid to oneOfType. Expected an array of check functions, but received %s at index %s.",w(o),n),r.thatReturnsNull}return l(t)}function v(e){function t(t,n,r,o,i){var s=t[n],u=E(s);if("object"!==u)return new c("Invalid "+o+" `"+i+"` of type `"+u+"` supplied to `"+r+"`, expected `object`.");for(var l in e){var p=e[l];if(p){var f=p(s,l,r,o,i+"."+l,a);if(f)return f}}return null}return l(t)}function g(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(g);if(null===t||e(t))return!0;var r=n(t);if(!r)return!1;var o,i=r.call(t);if(r!==t.entries){for(;!(o=i.next()).done;)if(!g(o.value))return!1}else for(;!(o=i.next()).done;){var a=o.value;if(a&&!g(a[1]))return!1}return!0;default:return!1}}function b(e,t){return"symbol"===e||("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}function E(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":b(t,e)?"symbol":t}function _(e){if(void 0===e||null===e)return""+e;var t=E(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function w(e){var t=_(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}function x(e){return e.constructor&&e.constructor.name?e.constructor.name:O}var A="function"==typeof Symbol&&Symbol.iterator,T="@@iterator",O="<<anonymous>>",P={array:p("array"),bool:p("boolean"),func:p("function"),number:p("number"),object:p("object"),string:p("string"),symbol:p("symbol"),any:function(){return l(r.thatReturnsNull)}(),arrayOf:f,element:function(){function t(t,n,r,o,i){var a=t[n];if(!e(a)){return new c("Invalid "+o+" `"+i+"` of type `"+E(a)+"` supplied to `"+r+"`, expected a single ReactElement.")}return null}return l(t)}(),instanceOf:d,node:function(){function e(e,t,n,r,o){return g(e[t])?null:new c("Invalid "+r+" `"+o+"` supplied to `"+n+"`, expected a ReactNode.")}return l(e)}(),objectOf:y,oneOf:h,oneOfType:m,shape:v};return c.prototype=Error.prototype,P.checkPropTypes=s,P.PropTypes=P,P}},{40:40,42:42,44:44,46:46,49:49}],49:[function(e,t,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},{}]},{},[26])(26)});!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e(require("react"));else if("function"==typeof define&&define.amd)define(["react"],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.ReactDOM=e(t.React)}}(function(e){return function(t){return function(){return function e(t,n,r){function o(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(i)return i(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return o(n||e)},c,c.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){"use strict";var r={Properties:{"aria-current":0,"aria-details":0,"aria-disabled":0,"aria-hidden":0,"aria-invalid":0,"aria-keyshortcuts":0,"aria-label":0,"aria-roledescription":0,"aria-autocomplete":0,"aria-checked":0,"aria-expanded":0,"aria-haspopup":0,"aria-level":0,"aria-modal":0,"aria-multiline":0,"aria-multiselectable":0,"aria-orientation":0,"aria-placeholder":0,"aria-pressed":0,"aria-readonly":0,"aria-required":0,"aria-selected":0,"aria-sort":0,"aria-valuemax":0,"aria-valuemin":0,"aria-valuenow":0,"aria-valuetext":0,"aria-atomic":0,"aria-busy":0,"aria-live":0,"aria-relevant":0,"aria-dropeffect":0,"aria-grabbed":0,"aria-activedescendant":0,"aria-colcount":0,"aria-colindex":0,"aria-colspan":0,"aria-controls":0,"aria-describedby":0,"aria-errormessage":0,"aria-flowto":0,"aria-labelledby":0,"aria-owns":0,"aria-posinset":0,"aria-rowcount":0,"aria-rowindex":0,"aria-rowspan":0,"aria-setsize":0},DOMAttributeNames:{},DOMPropertyNames:{}};t.exports=r},{}],2:[function(e,t,n){"use strict";var r=e(33),o=e(132),i={focusDOMComponent:function(){o(r.getNodeFromInstance(this))}};t.exports=i},{132:132,33:33}],3:[function(e,t,n){"use strict";function r(e){return(e.ctrlKey||e.altKey||e.metaKey)&&!(e.ctrlKey&&e.altKey)}function o(e){switch(e){case"topCompositionStart":return T.compositionStart;case"topCompositionEnd":return T.compositionEnd;case"topCompositionUpdate":return T.compositionUpdate}}function i(e,t){return"topKeyDown"===e&&t.keyCode===y}function a(e,t){switch(e){case"topKeyUp":return-1!==g.indexOf(t.keyCode);case"topKeyDown":return t.keyCode!==y;case"topKeyPress":case"topMouseDown":case"topBlur":return!0;default:return!1}}function s(e){var t=e.detail;return"object"==typeof t&&"data"in t?t.data:null}function u(e,t,n,r){var u,l;if(_?u=o(e):P?a(e,n)&&(u=T.compositionEnd):i(e,n)&&(u=T.compositionStart),!u)return null;E&&(P||u!==T.compositionStart?u===T.compositionEnd&&P&&(l=P.getData()):P=h.getPooled(r));var c=m.getPooled(u,t,n,r);if(l)c.data=l;else{var p=s(n);null!==p&&(c.data=p)}return d.accumulateTwoPhaseDispatches(c),c}function l(e,t){switch(e){case"topCompositionEnd":return s(t);case"topKeyPress":return t.which!==x?null:(k=!0,w);case"topTextInput":var n=t.data;return n===w&&k?null:n;default:return null}}function c(e,t){if(P){if("topCompositionEnd"===e||!_&&a(e,t)){var n=P.getData();return h.release(P),P=null,n}return null}switch(e){case"topPaste":return null;case"topKeyPress":return t.which&&!r(t)?String.fromCharCode(t.which):null;case"topCompositionEnd":return E?null:t.data;default:return null}}function p(e,t,n,r){var o;if(!(o=b?l(e,n):c(e,n)))return null;var i=v.getPooled(T.beforeInput,t,n,r);return i.data=o,d.accumulateTwoPhaseDispatches(i),i}var d=e(19),f=e(124),h=e(20),m=e(78),v=e(82),g=[9,13,27,32],y=229,_=f.canUseDOM&&"CompositionEvent"in window,C=null;f.canUseDOM&&"documentMode"in document&&(C=document.documentMode);var b=f.canUseDOM&&"TextEvent"in window&&!C&&!function(){var e=window.opera;return"object"==typeof e&&"function"==typeof e.version&&parseInt(e.version(),10)<=12}(),E=f.canUseDOM&&(!_||C&&C>8&&C<=11),x=32,w=String.fromCharCode(x),T={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["topCompositionEnd","topKeyPress","topTextInput","topPaste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:["topBlur","topCompositionEnd","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:["topBlur","topCompositionStart","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:["topBlur","topCompositionUpdate","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]}},k=!1,P=null,S={eventTypes:T,extractEvents:function(e,t,n,r){return[u(e,t,n,r),p(e,t,n,r)]}};t.exports=S},{124:124,19:19,20:20,78:78,82:82}],4:[function(e,t,n){"use strict";function r(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}var o={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},i=["Webkit","ms","Moz","O"];Object.keys(o).forEach(function(e){i.forEach(function(t){o[r(t,e)]=o[e]})});var a={background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}},s={isUnitlessNumber:o,shorthandPropertyExpansions:a};t.exports=s},{}],5:[function(e,t,n){"use strict";var r=e(4),o=e(124),i=(e(58),e(126),e(94)),a=e(137),s=e(141),u=(e(143),s(function(e){return a(e)})),l=!1,c="cssFloat";if(o.canUseDOM){var p=document.createElement("div").style;try{p.font=""}catch(e){l=!0}void 0===document.documentElement.style.cssFloat&&(c="styleFloat")}var d={createMarkupForStyles:function(e,t){var n="";for(var r in e)if(e.hasOwnProperty(r)){var o=0===r.indexOf("--"),a=e[r];null!=a&&(n+=u(r)+":",n+=i(r,a,t,o)+";")}return n||null},setValueForStyles:function(e,t,n){var o=e.style;for(var a in t)if(t.hasOwnProperty(a)){var s=0===a.indexOf("--"),u=i(a,t[a],n,s);if("float"!==a&&"cssFloat"!==a||(a=c),s)o.setProperty(a,u);else if(u)o[a]=u;else{var p=l&&r.shorthandPropertyExpansions[a];if(p)for(var d in p)o[d]="";else o[a]=""}}}};t.exports=d},{124:124,126:126,137:137,141:141,143:143,4:4,58:58,94:94}],6:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=e(113),i=e(24),a=(e(138),function(){function e(t){r(this,e),this._callbacks=null,this._contexts=null,this._arg=t}return e.prototype.enqueue=function(e,t){this._callbacks=this._callbacks||[],this._callbacks.push(e),this._contexts=this._contexts||[],this._contexts.push(t)},e.prototype.notifyAll=function(){var e=this._callbacks,t=this._contexts,n=this._arg;if(e&&t){e.length!==t.length&&o("24"),this._callbacks=null,this._contexts=null;for(var r=0;r<e.length;r++)e[r].call(t[r],n);e.length=0,t.length=0}},e.prototype.checkpoint=function(){return this._callbacks?this._callbacks.length:0},e.prototype.rollback=function(e){this._callbacks&&this._contexts&&(this._callbacks.length=e,this._contexts.length=e)},e.prototype.reset=function(){this._callbacks=null,this._contexts=null},e.prototype.destructor=function(){this.reset()},e}());t.exports=i.addPoolingTo(a)},{113:113,138:138,24:24}],7:[function(e,t,n){"use strict";function r(e,t,n){var r=k.getPooled(I.change,e,t,n);return r.type="change",E.accumulateTwoPhaseDispatches(r),r}function o(e){var t=e.nodeName&&e.nodeName.toLowerCase();return"select"===t||"input"===t&&"file"===e.type}function i(e){var t=r(R,e,S(e));T.batchedUpdates(a,t)}function a(e){b.enqueueEvents(e),b.processEventQueue(!1)}function s(e,t){O=e,R=t,O.attachEvent("onchange",i)}function u(){O&&(O.detachEvent("onchange",i),O=null,R=null)}function l(e,t){var n=P.updateValueIfChanged(e),r=!0===t.simulated&&L._allowSimulatedPassThrough;if(n||r)return e}function c(e,t){if("topChange"===e)return t}function p(e,t,n){"topFocus"===e?(u(),s(t,n)):"topBlur"===e&&u()}function d(e,t){O=e,R=t,O.attachEvent("onpropertychange",h)}function f(){O&&(O.detachEvent("onpropertychange",h),O=null,R=null)}function h(e){"value"===e.propertyName&&l(R,e)&&i(e)}function m(e,t,n){"topFocus"===e?(f(),d(t,n)):"topBlur"===e&&f()}function v(e,t,n){if("topSelectionChange"===e||"topKeyUp"===e||"topKeyDown"===e)return l(R,n)}function g(e){var t=e.nodeName;return t&&"input"===t.toLowerCase()&&("checkbox"===e.type||"radio"===e.type)}function y(e,t,n){if("topClick"===e)return l(t,n)}function _(e,t,n){if("topInput"===e||"topChange"===e)return l(t,n)}function C(e,t){if(null!=e){var n=e._wrapperState||t._wrapperState;if(n&&n.controlled&&"number"===t.type){var r=""+t.value;t.getAttribute("value")!==r&&t.setAttribute("value",r)}}}var b=e(16),E=e(19),x=e(124),w=e(33),T=e(71),k=e(80),P=e(108),S=e(102),N=e(110),M=e(111),I={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:["topBlur","topChange","topClick","topFocus","topInput","topKeyDown","topKeyUp","topSelectionChange"]}},O=null,R=null,A=!1;x.canUseDOM&&(A=N("change")&&(!document.documentMode||document.documentMode>8));var D=!1;x.canUseDOM&&(D=N("input")&&(!("documentMode"in document)||document.documentMode>9));var L={eventTypes:I,_allowSimulatedPassThrough:!0,_isInputEventSupported:D,extractEvents:function(e,t,n,i){var a,s,u=t?w.getNodeFromInstance(t):window;if(o(u)?A?a=c:s=p:M(u)?D?a=_:(a=v,s=m):g(u)&&(a=y),a){var l=a(e,t,n);if(l)return r(l,n,i)}s&&s(e,u,t),"topBlur"===e&&C(t,u)}};t.exports=L},{102:102,108:108,110:110,111:111,124:124,16:16,19:19,33:33,71:71,80:80}],8:[function(e,t,n){"use strict";function r(e,t){return Array.isArray(t)&&(t=t[1]),t?t.nextSibling:e.firstChild}function o(e,t,n){c.insertTreeBefore(e,t,n)}function i(e,t,n){Array.isArray(t)?s(e,t[0],t[1],n):m(e,t,n)}function a(e,t){if(Array.isArray(t)){var n=t[1];t=t[0],u(e,t,n),e.removeChild(n)}e.removeChild(t)}function s(e,t,n,r){for(var o=t;;){var i=o.nextSibling;if(m(e,o,r),o===n)break;o=i}}function u(e,t,n){for(;;){var r=t.nextSibling;if(r===n)break;e.removeChild(r)}}function l(e,t,n){var r=e.parentNode,o=e.nextSibling;o===t?n&&m(r,document.createTextNode(n),o):n?(h(o,n),u(r,o,t)):u(r,e,t)}var c=e(9),p=e(13),d=(e(33),e(58),e(93)),f=e(115),h=e(116),m=d(function(e,t,n){e.insertBefore(t,n)}),v=p.dangerouslyReplaceNodeWithMarkup,g={dangerouslyReplaceNodeWithMarkup:v,replaceDelimitedText:l,processUpdates:function(e,t){for(var n=0;n<t.length;n++){var s=t[n];switch(s.type){case"INSERT_MARKUP":o(e,s.content,r(e,s.afterNode));break;case"MOVE_EXISTING":i(e,s.fromNode,r(e,s.afterNode));break;case"SET_MARKUP":f(e,s.content);break;case"TEXT_CONTENT":h(e,s.content);break;case"REMOVE_NODE":a(e,s.fromNode)}}}};t.exports=g},{115:115,116:116,13:13,33:33,58:58,9:9,93:93}],9:[function(e,t,n){"use strict";function r(e){if(h){var t=e.node,n=e.children;if(n.length)for(var r=0;r<n.length;r++)m(t,n[r],null);else null!=e.html?p(t,e.html):null!=e.text&&f(t,e.text)}}function o(e,t){e.parentNode.replaceChild(t.node,e),r(t)}function i(e,t){h?e.children.push(t):e.node.appendChild(t.node)}function a(e,t){h?e.html=t:p(e.node,t)}function s(e,t){h?e.text=t:f(e.node,t)}function u(){return this.node.nodeName}function l(e){return{node:e,children:[],html:null,text:null,toString:u}}var c=e(10),p=e(115),d=e(93),f=e(116),h="undefined"!=typeof document&&"number"==typeof document.documentMode||"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent&&/\bEdge\/\d/.test(navigator.userAgent),m=d(function(e,t,n){11===t.node.nodeType||1===t.node.nodeType&&"object"===t.node.nodeName.toLowerCase()&&(null==t.node.namespaceURI||t.node.namespaceURI===c.html)?(r(t),e.insertBefore(t.node,n)):(e.insertBefore(t.node,n),r(t))});l.insertTreeBefore=m,l.replaceChildWithTree=o,l.queueChild=i,l.queueHTML=a,l.queueText=s,t.exports=l},{10:10,115:115,116:116,93:93}],10:[function(e,t,n){"use strict";var r={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};t.exports=r},{}],11:[function(e,t,n){"use strict";function r(e,t){return(e&t)===t}var o=e(113),i=(e(138),{MUST_USE_PROPERTY:1,HAS_BOOLEAN_VALUE:4,HAS_NUMERIC_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:24,HAS_OVERLOADED_BOOLEAN_VALUE:32,injectDOMPropertyConfig:function(e){var t=i,n=e.Properties||{},a=e.DOMAttributeNamespaces||{},u=e.DOMAttributeNames||{},l=e.DOMPropertyNames||{},c=e.DOMMutationMethods||{};e.isCustomAttribute&&s._isCustomAttributeFunctions.push(e.isCustomAttribute);for(var p in n){s.properties.hasOwnProperty(p)&&o("48",p);var d=p.toLowerCase(),f=n[p],h={attributeName:d,attributeNamespace:null,propertyName:p,mutationMethod:null,mustUseProperty:r(f,t.MUST_USE_PROPERTY),hasBooleanValue:r(f,t.HAS_BOOLEAN_VALUE),hasNumericValue:r(f,t.HAS_NUMERIC_VALUE),hasPositiveNumericValue:r(f,t.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:r(f,t.HAS_OVERLOADED_BOOLEAN_VALUE)};if(h.hasBooleanValue+h.hasNumericValue+h.hasOverloadedBooleanValue<=1||o("50",p),u.hasOwnProperty(p)){var m=u[p];h.attributeName=m}a.hasOwnProperty(p)&&(h.attributeNamespace=a[p]),l.hasOwnProperty(p)&&(h.propertyName=l[p]),c.hasOwnProperty(p)&&(h.mutationMethod=c[p]),s.properties[p]=h}}}),a=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",s={ID_ATTRIBUTE_NAME:"data-reactid",ROOT_ATTRIBUTE_NAME:"data-reactroot",ATTRIBUTE_NAME_START_CHAR:a,ATTRIBUTE_NAME_CHAR:a+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",properties:{},getPossibleStandardName:null,_isCustomAttributeFunctions:[],isCustomAttribute:function(e){for(var t=0;t<s._isCustomAttributeFunctions.length;t++)if((0,s._isCustomAttributeFunctions[t])(e))return!0;return!1},injection:i};t.exports=s},{113:113,138:138}],12:[function(e,t,n){"use strict";function r(e){return!!l.hasOwnProperty(e)||!u.hasOwnProperty(e)&&(s.test(e)?(l[e]=!0,!0):(u[e]=!0,!1))}function o(e,t){return null==t||e.hasBooleanValue&&!t||e.hasNumericValue&&isNaN(t)||e.hasPositiveNumericValue&&t<1||e.hasOverloadedBooleanValue&&!1===t}var i=e(11),a=(e(33),e(58),e(112)),s=(e(143),new RegExp("^["+i.ATTRIBUTE_NAME_START_CHAR+"]["+i.ATTRIBUTE_NAME_CHAR+"]*$")),u={},l={},c={createMarkupForID:function(e){return i.ID_ATTRIBUTE_NAME+"="+a(e)},setAttributeForID:function(e,t){e.setAttribute(i.ID_ATTRIBUTE_NAME,t)},createMarkupForRoot:function(){return i.ROOT_ATTRIBUTE_NAME+'=""'},setAttributeForRoot:function(e){e.setAttribute(i.ROOT_ATTRIBUTE_NAME,"")},createMarkupForProperty:function(e,t){var n=i.properties.hasOwnProperty(e)?i.properties[e]:null;if(n){if(o(n,t))return"";var r=n.attributeName;return n.hasBooleanValue||n.hasOverloadedBooleanValue&&!0===t?r+'=""':r+"="+a(t)}return i.isCustomAttribute(e)?null==t?"":e+"="+a(t):null},createMarkupForCustomAttribute:function(e,t){return r(e)&&null!=t?e+"="+a(t):""},setValueForProperty:function(e,t,n){var r=i.properties.hasOwnProperty(t)?i.properties[t]:null;if(r){var a=r.mutationMethod;if(a)a(e,n);else{if(o(r,n))return void this.deleteValueForProperty(e,t);if(r.mustUseProperty)e[r.propertyName]=n;else{var s=r.attributeName,u=r.attributeNamespace;u?e.setAttributeNS(u,s,""+n):r.hasBooleanValue||r.hasOverloadedBooleanValue&&!0===n?e.setAttribute(s,""):e.setAttribute(s,""+n)}}}else if(i.isCustomAttribute(t))return void c.setValueForAttribute(e,t,n)},setValueForAttribute:function(e,t,n){r(t)&&(null==n?e.removeAttribute(t):e.setAttribute(t,""+n))},deleteValueForAttribute:function(e,t){e.removeAttribute(t)},deleteValueForProperty:function(e,t){var n=i.properties.hasOwnProperty(t)?i.properties[t]:null;if(n){var r=n.mutationMethod;if(r)r(e,void 0);else if(n.mustUseProperty){var o=n.propertyName;n.hasBooleanValue?e[o]=!1:e[o]=""}else e.removeAttribute(n.attributeName)}else i.isCustomAttribute(t)&&e.removeAttribute(t)}};t.exports=c},{11:11,112:112,143:143,33:33,58:58}],13:[function(e,t,n){"use strict";var r=e(113),o=e(9),i=e(124),a=e(129),s=e(130),u=(e(138),{dangerouslyReplaceNodeWithMarkup:function(e,t){if(i.canUseDOM||r("56"),t||r("57"),"HTML"===e.nodeName&&r("58"),"string"==typeof t){var n=a(t,s)[0];e.parentNode.replaceChild(n,e)}else o.replaceChildWithTree(e,t)}});t.exports=u},{113:113,124:124,129:129,130:130,138:138,9:9}],14:[function(e,t,n){"use strict";var r=["ResponderEventPlugin","SimpleEventPlugin","TapEventPlugin","EnterLeaveEventPlugin","ChangeEventPlugin","SelectEventPlugin","BeforeInputEventPlugin"];t.exports=r},{}],15:[function(e,t,n){"use strict";var r=e(19),o=e(33),i=e(84),a={mouseEnter:{registrationName:"onMouseEnter",dependencies:["topMouseOut","topMouseOver"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["topMouseOut","topMouseOver"]}},s={eventTypes:a,extractEvents:function(e,t,n,s){if("topMouseOver"===e&&(n.relatedTarget||n.fromElement))return null;if("topMouseOut"!==e&&"topMouseOver"!==e)return null;var u;if(s.window===s)u=s;else{var l=s.ownerDocument;u=l?l.defaultView||l.parentWindow:window}var c,p;if("topMouseOut"===e){c=t;var d=n.relatedTarget||n.toElement;p=d?o.getClosestInstanceFromNode(d):null}else c=null,p=t;if(c===p)return null;var f=null==c?u:o.getNodeFromInstance(c),h=null==p?u:o.getNodeFromInstance(p),m=i.getPooled(a.mouseLeave,c,n,s);m.type="mouseleave",m.target=f,m.relatedTarget=h;var v=i.getPooled(a.mouseEnter,p,n,s);return v.type="mouseenter",v.target=h,v.relatedTarget=f,r.accumulateEnterLeaveDispatches(m,v,c,p),[m,v]}};t.exports=s},{19:19,33:33,84:84}],16:[function(e,t,n){"use strict";function r(e){return"button"===e||"input"===e||"select"===e||"textarea"===e}function o(e,t,n){switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":return!(!n.disabled||!r(t));default:return!1}}var i=e(113),a=e(17),s=e(18),u=e(50),l=e(91),c=e(98),p=(e(138),{}),d=null,f=function(e,t){e&&(s.executeDispatchesInOrder(e,t),e.isPersistent()||e.constructor.release(e))},h=function(e){return f(e,!0)},m=function(e){return f(e,!1)},v=function(e){return"."+e._rootNodeID},g={injection:{injectEventPluginOrder:a.injectEventPluginOrder,injectEventPluginsByName:a.injectEventPluginsByName},putListener:function(e,t,n){"function"!=typeof n&&i("94",t,typeof n);var r=v(e);(p[t]||(p[t]={}))[r]=n;var o=a.registrationNameModules[t];o&&o.didPutListener&&o.didPutListener(e,t,n)},getListener:function(e,t){var n=p[t];if(o(t,e._currentElement.type,e._currentElement.props))return null;var r=v(e);return n&&n[r]},deleteListener:function(e,t){var n=a.registrationNameModules[t];n&&n.willDeleteListener&&n.willDeleteListener(e,t);var r=p[t];r&&delete r[v(e)]},deleteAllListeners:function(e){var t=v(e);for(var n in p)if(p.hasOwnProperty(n)&&p[n][t]){var r=a.registrationNameModules[n];r&&r.willDeleteListener&&r.willDeleteListener(e,n),delete p[n][t]}},extractEvents:function(e,t,n,r){for(var o,i=a.plugins,s=0;s<i.length;s++){var u=i[s];if(u){var c=u.extractEvents(e,t,n,r);c&&(o=l(o,c))}}return o},enqueueEvents:function(e){e&&(d=l(d,e))},processEventQueue:function(e){var t=d;d=null,e?c(t,h):c(t,m),d&&i("95"),u.rethrowCaughtError()},__purge:function(){p={}},__getListenerBank:function(){return p}};t.exports=g},{113:113,138:138,17:17,18:18,50:50,91:91,98:98}],17:[function(e,t,n){"use strict";function r(){if(s)for(var e in u){var t=u[e],n=s.indexOf(e);if(n>-1||a("96",e),!l.plugins[n]){t.extractEvents||a("97",e),l.plugins[n]=t;var r=t.eventTypes;for(var i in r)o(r[i],t,i)||a("98",i,e)}}}function o(e,t,n){l.eventNameDispatchConfigs.hasOwnProperty(n)&&a("99",n),l.eventNameDispatchConfigs[n]=e;var r=e.phasedRegistrationNames;if(r){for(var o in r)if(r.hasOwnProperty(o)){var s=r[o];i(s,t,n)}return!0}return!!e.registrationName&&(i(e.registrationName,t,n),!0)}function i(e,t,n){l.registrationNameModules[e]&&a("100",e),l.registrationNameModules[e]=t,l.registrationNameDependencies[e]=t.eventTypes[n].dependencies}var a=e(113),s=(e(138),null),u={},l={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},possibleRegistrationNames:null,injectEventPluginOrder:function(e){s&&a("101"),s=Array.prototype.slice.call(e),r()},injectEventPluginsByName:function(e){var t=!1;for(var n in e)if(e.hasOwnProperty(n)){var o=e[n];u.hasOwnProperty(n)&&u[n]===o||(u[n]&&a("102",n),u[n]=o,t=!0)}t&&r()},getPluginModuleForEvent:function(e){var t=e.dispatchConfig;if(t.registrationName)return l.registrationNameModules[t.registrationName]||null;if(void 0!==t.phasedRegistrationNames){var n=t.phasedRegistrationNames;for(var r in n)if(n.hasOwnProperty(r)){var o=l.registrationNameModules[n[r]];if(o)return o}}return null},_resetEventPlugins:function(){s=null;for(var e in u)u.hasOwnProperty(e)&&delete u[e];l.plugins.length=0;var t=l.eventNameDispatchConfigs;for(var n in t)t.hasOwnProperty(n)&&delete t[n];var r=l.registrationNameModules;for(var o in r)r.hasOwnProperty(o)&&delete r[o]}};t.exports=l},{113:113,138:138}],18:[function(e,t,n){"use strict";function r(e){return"topMouseUp"===e||"topTouchEnd"===e||"topTouchCancel"===e}function o(e){return"topMouseMove"===e||"topTouchMove"===e}function i(e){return"topMouseDown"===e||"topTouchStart"===e}function a(e,t,n,r){var o=e.type||"unknown-event";e.currentTarget=g.getNodeFromInstance(r),t?m.invokeGuardedCallbackWithCatch(o,n,e):m.invokeGuardedCallback(o,n,e),e.currentTarget=null}function s(e,t){var n=e._dispatchListeners,r=e._dispatchInstances;if(Array.isArray(n))for(var o=0;o<n.length&&!e.isPropagationStopped();o++)a(e,t,n[o],r[o]);else n&&a(e,t,n,r);e._dispatchListeners=null,e._dispatchInstances=null}function u(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t)){for(var r=0;r<t.length&&!e.isPropagationStopped();r++)if(t[r](e,n[r]))return n[r]}else if(t&&t(e,n))return n;return null}function l(e){var t=u(e);return e._dispatchInstances=null,e._dispatchListeners=null,t}function c(e){var t=e._dispatchListeners,n=e._dispatchInstances;Array.isArray(t)&&h("103"),e.currentTarget=t?g.getNodeFromInstance(n):null;var r=t?t(e):null;return e.currentTarget=null,e._dispatchListeners=null,e._dispatchInstances=null,r}function p(e){return!!e._dispatchListeners}var d,f,h=e(113),m=e(50),v=(e(138),e(143),{injectComponentTree:function(e){d=e},injectTreeTraversal:function(e){f=e}}),g={isEndish:r,isMoveish:o,isStartish:i,executeDirectDispatch:c,executeDispatchesInOrder:s,executeDispatchesInOrderStopAtTrue:l,hasDispatches:p,getInstanceFromNode:function(e){return d.getInstanceFromNode(e)},getNodeFromInstance:function(e){return d.getNodeFromInstance(e)},isAncestor:function(e,t){return f.isAncestor(e,t)},getLowestCommonAncestor:function(e,t){return f.getLowestCommonAncestor(e,t)},getParentInstance:function(e){return f.getParentInstance(e)},traverseTwoPhase:function(e,t,n){return f.traverseTwoPhase(e,t,n)},traverseEnterLeave:function(e,t,n,r,o){return f.traverseEnterLeave(e,t,n,r,o)},injection:v};t.exports=g},{113:113,138:138,143:143,50:50}],19:[function(e,t,n){"use strict";function r(e,t,n){var r=t.dispatchConfig.phasedRegistrationNames[n];return g(e,r)}function o(e,t,n){var o=r(e,n,t);o&&(n._dispatchListeners=m(n._dispatchListeners,o),n._dispatchInstances=m(n._dispatchInstances,e))}function i(e){e&&e.dispatchConfig.phasedRegistrationNames&&h.traverseTwoPhase(e._targetInst,o,e)}function a(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst,n=t?h.getParentInstance(t):null;h.traverseTwoPhase(n,o,e)}}function s(e,t,n){if(n&&n.dispatchConfig.registrationName){var r=n.dispatchConfig.registrationName,o=g(e,r);o&&(n._dispatchListeners=m(n._dispatchListeners,o),n._dispatchInstances=m(n._dispatchInstances,e))}}function u(e){e&&e.dispatchConfig.registrationName&&s(e._targetInst,null,e)}function l(e){v(e,i)}function c(e){v(e,a)}function p(e,t,n,r){h.traverseEnterLeave(n,r,s,e,t)}function d(e){v(e,u)}var f=e(16),h=e(18),m=e(91),v=e(98),g=(e(143),f.getListener),y={accumulateTwoPhaseDispatches:l,accumulateTwoPhaseDispatchesSkipTarget:c,accumulateDirectDispatches:d,accumulateEnterLeaveDispatches:p};t.exports=y},{143:143,16:16,18:18,91:91,98:98}],20:[function(e,t,n){"use strict";function r(e){this._root=e,this._startText=this.getText(),this._fallbackText=null}var o=e(144),i=e(24),a=e(106);o(r.prototype,{destructor:function(){this._root=null,this._startText=null,this._fallbackText=null},getText:function(){return"value"in this._root?this._root.value:this._root[a()]},getData:function(){if(this._fallbackText)return this._fallbackText;var e,t,n=this._startText,r=n.length,o=this.getText(),i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===o[i-t];t++);var s=t>1?1-t:void 0;return this._fallbackText=o.slice(e,s),this._fallbackText}}),i.addPoolingTo(r),t.exports=r},{106:106,144:144,24:24}],21:[function(e,t,n){"use strict";var r=e(11),o=r.injection.MUST_USE_PROPERTY,i=r.injection.HAS_BOOLEAN_VALUE,a=r.injection.HAS_NUMERIC_VALUE,s=r.injection.HAS_POSITIVE_NUMERIC_VALUE,u=r.injection.HAS_OVERLOADED_BOOLEAN_VALUE,l={isCustomAttribute:RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+r.ATTRIBUTE_NAME_CHAR+"]*$")),Properties:{accept:0,acceptCharset:0,accessKey:0,action:0,allowFullScreen:i,allowTransparency:0,alt:0,as:0,async:i,autoComplete:0,autoPlay:i,capture:i,cellPadding:0,cellSpacing:0,charSet:0,challenge:0,checked:o|i,cite:0,classID:0,className:0,cols:s,colSpan:0,content:0,contentEditable:0,contextMenu:0,controls:i,coords:0,crossOrigin:0,data:0,dateTime:0,default:i,defer:i,dir:0,disabled:i,download:u,draggable:0,encType:0,form:0,formAction:0,formEncType:0,formMethod:0,formNoValidate:i,formTarget:0,frameBorder:0,headers:0,height:0,hidden:i,high:0,href:0,hrefLang:0,htmlFor:0,httpEquiv:0,icon:0,id:0,inputMode:0,integrity:0,is:0,keyParams:0,keyType:0,kind:0,label:0,lang:0,list:0,loop:i,low:0,manifest:0,marginHeight:0,marginWidth:0,max:0,maxLength:0,media:0,mediaGroup:0,method:0,min:0,minLength:0,multiple:o|i,muted:o|i,name:0,nonce:0,noValidate:i,open:i,optimum:0,pattern:0,placeholder:0,playsInline:i,poster:0,preload:0,profile:0,radioGroup:0,readOnly:i,referrerPolicy:0,rel:0,required:i,reversed:i,role:0,rows:s,rowSpan:a,sandbox:0,scope:0,scoped:i,scrolling:0,seamless:i,selected:o|i,shape:0,size:s,sizes:0,span:s,spellCheck:0,src:0,srcDoc:0,srcLang:0,srcSet:0,start:a,step:0,style:0,summary:0,tabIndex:0,target:0,title:0,type:0,useMap:0,value:0,width:0,wmode:0,wrap:0,about:0,datatype:0,inlist:0,prefix:0,property:0,resource:0,typeof:0,vocab:0,autoCapitalize:0,autoCorrect:0,autoSave:0,color:0,itemProp:0,itemScope:i,itemType:0,itemID:0,itemRef:0,results:0,security:0,unselectable:0},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{},DOMMutationMethods:{value:function(e,t){if(null==t)return e.removeAttribute("value");"number"!==e.type||!1===e.hasAttribute("value")?e.setAttribute("value",""+t):e.validity&&!e.validity.badInput&&e.ownerDocument.activeElement!==e&&e.setAttribute("value",""+t)}}};t.exports=l},{11:11}],22:[function(e,t,n){"use strict";function r(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}function o(e){var t=/(=0|=2)/g,n={"=0":"=","=2":":"};return(""+("."===e[0]&&"$"===e[1]?e.substring(2):e.substring(1))).replace(t,function(e){return n[e]})}var i={escape:r,unescape:o};t.exports=i},{}],23:[function(e,t,n){"use strict";function r(e){null!=e.checkedLink&&null!=e.valueLink&&s("87")}function o(e){r(e),(null!=e.value||null!=e.onChange)&&s("88")}function i(e){r(e),(null!=e.checked||null!=e.onChange)&&s("89")}function a(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}var s=e(113),u=e(64),l=e(146),c=e(121),p=l(c.isValidElement),d=(e(138),e(143),{button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0}),f={value:function(e,t,n){return!e[t]||d[e.type]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(e,t,n){return!e[t]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:p.func},h={},m={checkPropTypes:function(e,t,n){for(var r in f){if(f.hasOwnProperty(r))var o=f[r](t,r,e,"prop",null,u);o instanceof Error&&!(o.message in h)&&(h[o.message]=!0,a(n))}},getValue:function(e){return e.valueLink?(o(e),e.valueLink.value):e.value},getChecked:function(e){return e.checkedLink?(i(e),e.checkedLink.value):e.checked},executeOnChange:function(e,t){return e.valueLink?(o(e),e.valueLink.requestChange(t.target.value)):e.checkedLink?(i(e),e.checkedLink.requestChange(t.target.checked)):e.onChange?e.onChange.call(void 0,t):void 0}};t.exports=m},{113:113,121:121,138:138,143:143,146:146,64:64}],24:[function(e,t,n){"use strict";var r=e(113),o=(e(138),function(e){var t=this;if(t.instancePool.length){var n=t.instancePool.pop();return t.call(n,e),n}return new t(e)}),i=function(e,t){var n=this;if(n.instancePool.length){var r=n.instancePool.pop();return n.call(r,e,t),r}return new n(e,t)},a=function(e,t,n){var r=this;if(r.instancePool.length){var o=r.instancePool.pop();return r.call(o,e,t,n),o}return new r(e,t,n)},s=function(e,t,n,r){var o=this;if(o.instancePool.length){var i=o.instancePool.pop();return o.call(i,e,t,n,r),i}return new o(e,t,n,r)},u=function(e){var t=this;e instanceof t||r("25"),e.destructor(),t.instancePool.length<t.poolSize&&t.instancePool.push(e)},l=o,c=function(e,t){var n=e;return n.instancePool=[],n.getPooled=t||l,n.poolSize||(n.poolSize=10),n.release=u,n},p={addPoolingTo:c,oneArgumentPooler:o,twoArgumentPooler:i,threeArgumentPooler:a,fourArgumentPooler:s};t.exports=p},{113:113,138:138}],25:[function(e,t,n){"use strict";function r(e){return Object.prototype.hasOwnProperty.call(e,m)||(e[m]=f++,p[e[m]]={}),p[e[m]]}var o,i=e(144),a=e(17),s=e(51),u=e(90),l=e(107),c=e(110),p={},d=!1,f=0,h={topAbort:"abort",topAnimationEnd:l("animationend")||"animationend",topAnimationIteration:l("animationiteration")||"animationiteration",topAnimationStart:l("animationstart")||"animationstart",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:l("transitionend")||"transitionend",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},m="_reactListenersID"+String(Math.random()).slice(2),v=i({},s,{ReactEventListener:null,injection:{injectReactEventListener:function(e){e.setHandleTopLevel(v.handleTopLevel),v.ReactEventListener=e}},setEnabled:function(e){v.ReactEventListener&&v.ReactEventListener.setEnabled(e)},isEnabled:function(){return!(!v.ReactEventListener||!v.ReactEventListener.isEnabled())},listenTo:function(e,t){for(var n=t,o=r(n),i=a.registrationNameDependencies[e],s=0;s<i.length;s++){var u=i[s];o.hasOwnProperty(u)&&o[u]||("topWheel"===u?c("wheel")?v.ReactEventListener.trapBubbledEvent("topWheel","wheel",n):c("mousewheel")?v.ReactEventListener.trapBubbledEvent("topWheel","mousewheel",n):v.ReactEventListener.trapBubbledEvent("topWheel","DOMMouseScroll",n):"topScroll"===u?c("scroll",!0)?v.ReactEventListener.trapCapturedEvent("topScroll","scroll",n):v.ReactEventListener.trapBubbledEvent("topScroll","scroll",v.ReactEventListener.WINDOW_HANDLE):"topFocus"===u||"topBlur"===u?(c("focus",!0)?(v.ReactEventListener.trapCapturedEvent("topFocus","focus",n),v.ReactEventListener.trapCapturedEvent("topBlur","blur",n)):c("focusin")&&(v.ReactEventListener.trapBubbledEvent("topFocus","focusin",n),v.ReactEventListener.trapBubbledEvent("topBlur","focusout",n)),o.topBlur=!0,o.topFocus=!0):h.hasOwnProperty(u)&&v.ReactEventListener.trapBubbledEvent(u,h[u],n),o[u]=!0)}},trapBubbledEvent:function(e,t,n){return v.ReactEventListener.trapBubbledEvent(e,t,n)},trapCapturedEvent:function(e,t,n){return v.ReactEventListener.trapCapturedEvent(e,t,n)},supportsEventPageXY:function(){if(!document.createEvent)return!1;var e=document.createEvent("MouseEvent");return null!=e&&"pageX"in e},ensureScrollValueMonitoring:function(){if(void 0===o&&(o=v.supportsEventPageXY()),!o&&!d){var e=u.refreshScrollValues;v.ReactEventListener.monitorScrollValue(e),d=!0}}});t.exports=v},{107:107,110:110,144:144,17:17,51:51,90:90}],26:[function(e,t,n){(function(n){"use strict";function r(e,t,n,r){var o=void 0===e[n];null!=t&&o&&(e[n]=i(t,!0))}var o=e(66),i=e(109),a=(e(22),e(117)),s=e(118);e(143);void 0!==n&&n.env;var u={instantiateChildren:function(e,t,n,o){if(null==e)return null;var i={};return s(e,r,i),i},updateChildren:function(e,t,n,r,s,u,l,c,p){if(t||e){var d,f;for(d in t)if(t.hasOwnProperty(d)){f=e&&e[d];var h=f&&f._currentElement,m=t[d];if(null!=f&&a(h,m))o.receiveComponent(f,m,s,c),t[d]=f;else{f&&(r[d]=o.getHostNode(f),o.unmountComponent(f,!1));var v=i(m,!0);t[d]=v;var g=o.mountComponent(v,s,u,l,c,p);n.push(g)}}for(d in e)!e.hasOwnProperty(d)||t&&t.hasOwnProperty(d)||(f=e[d],r[d]=o.getHostNode(f),o.unmountComponent(f,!1))}},unmountChildren:function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];o.unmountComponent(r,t)}}};t.exports=u}).call(this,void 0)},{109:109,117:117,118:118,143:143,22:22,66:66}],27:[function(e,t,n){"use strict";var r=e(8),o=e(37),i={processChildrenUpdates:o.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkup:r.dangerouslyReplaceNodeWithMarkup};t.exports=i},{37:37,8:8}],28:[function(e,t,n){"use strict";var r=e(113),o=(e(138),!1),i={replaceNodeWithMarkup:null,processChildrenUpdates:null,injection:{injectEnvironment:function(e){o&&r("104"),i.replaceNodeWithMarkup=e.replaceNodeWithMarkup,i.processChildrenUpdates=e.processChildrenUpdates,o=!0}}};t.exports=i},{113:113,138:138}],29:[function(e,t,n){"use strict";function r(e){}function o(e){return!(!e.prototype||!e.prototype.isReactComponent)}function i(e){return!(!e.prototype||!e.prototype.isPureReactComponent)}var a=e(113),s=e(144),u=e(121),l=e(28),c=e(120),p=e(50),d=e(57),f=(e(58),e(62)),h=e(66),m=e(131),v=(e(138),e(142)),g=e(117),y=(e(143),{ImpureClass:0,PureClass:1,StatelessFunctional:2});r.prototype.render=function(){var e=d.get(this)._currentElement.type,t=e(this.props,this.context,this.updater);return t};var _=1,C={construct:function(e){this._currentElement=e,this._rootNodeID=0,this._compositeType=null,this._instance=null,this._hostParent=null,this._hostContainerInfo=null,this._updateBatchNumber=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedNodeType=null,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._topLevelWrapper=null,this._pendingCallbacks=null,this._calledComponentWillUnmount=!1},mountComponent:function(e,t,n,s){this._context=s,this._mountOrder=_++,this._hostParent=t,this._hostContainerInfo=n;var l,c=this._currentElement.props,p=this._processContext(s),f=this._currentElement.type,h=e.getUpdateQueue(),v=o(f),g=this._constructComponent(v,c,p,h);v||null!=g&&null!=g.render?i(f)?this._compositeType=y.PureClass:this._compositeType=y.ImpureClass:(l=g,null===g||!1===g||u.isValidElement(g)||a("105",f.displayName||f.name||"Component"),g=new r(f),this._compositeType=y.StatelessFunctional),g.props=c,g.context=p,g.refs=m,g.updater=h,this._instance=g,d.set(g,this);var C=g.state;void 0===C&&(g.state=C=null),("object"!=typeof C||Array.isArray(C))&&a("106",this.getName()||"ReactCompositeComponent"),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1;var b;return b=g.unstable_handleError?this.performInitialMountWithErrorHandling(l,t,n,e,s):this.performInitialMount(l,t,n,e,s),g.componentDidMount&&e.getReactMountReady().enqueue(g.componentDidMount,g),b},_constructComponent:function(e,t,n,r){return this._constructComponentWithoutOwner(e,t,n,r)},_constructComponentWithoutOwner:function(e,t,n,r){var o=this._currentElement.type;return e?new o(t,n,r):o(t,n,r)},performInitialMountWithErrorHandling:function(e,t,n,r,o){var i,a=r.checkpoint();try{i=this.performInitialMount(e,t,n,r,o)}catch(s){r.rollback(a),this._instance.unstable_handleError(s),this._pendingStateQueue&&(this._instance.state=this._processPendingState(this._instance.props,this._instance.context)),a=r.checkpoint(),this._renderedComponent.unmountComponent(!0),r.rollback(a),i=this.performInitialMount(e,t,n,r,o)}return i},performInitialMount:function(e,t,n,r,o){var i=this._instance;i.componentWillMount&&(i.componentWillMount(),this._pendingStateQueue&&(i.state=this._processPendingState(i.props,i.context))),void 0===e&&(e=this._renderValidatedComponent());var a=f.getType(e);this._renderedNodeType=a;var s=this._instantiateReactComponent(e,a!==f.EMPTY);return this._renderedComponent=s,h.mountComponent(s,r,t,n,this._processChildContext(o),0)},getHostNode:function(){return h.getHostNode(this._renderedComponent)},unmountComponent:function(e){if(this._renderedComponent){var t=this._instance;if(t.componentWillUnmount&&!t._calledComponentWillUnmount)if(t._calledComponentWillUnmount=!0,e){var n=this.getName()+".componentWillUnmount()";p.invokeGuardedCallback(n,t.componentWillUnmount.bind(t))}else t.componentWillUnmount();this._renderedComponent&&(h.unmountComponent(this._renderedComponent,e),this._renderedNodeType=null,this._renderedComponent=null,this._instance=null),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=0,this._topLevelWrapper=null,d.remove(t)}},_maskContext:function(e){var t=this._currentElement.type,n=t.contextTypes;if(!n)return m;var r={};for(var o in n)r[o]=e[o];return r},_processContext:function(e){return this._maskContext(e)},_processChildContext:function(e){var t,n=this._currentElement.type,r=this._instance;if(r.getChildContext&&(t=r.getChildContext()),t){"object"!=typeof n.childContextTypes&&a("107",this.getName()||"ReactCompositeComponent");for(var o in t)o in n.childContextTypes||a("108",this.getName()||"ReactCompositeComponent",o);return s({},e,t)}return e},_checkContextTypes:function(e,t,n){},receiveComponent:function(e,t,n){var r=this._currentElement,o=this._context;this._pendingElement=null,this.updateComponent(t,r,e,o,n)},performUpdateIfNecessary:function(e){null!=this._pendingElement?h.receiveComponent(this,this._pendingElement,e,this._context):null!==this._pendingStateQueue||this._pendingForceUpdate?this.updateComponent(e,this._currentElement,this._currentElement,this._context,this._context):this._updateBatchNumber=null},updateComponent:function(e,t,n,r,o){var i=this._instance;null==i&&a("136",this.getName()||"ReactCompositeComponent");var s,u=!1;this._context===o?s=i.context:(s=this._processContext(o),u=!0);var l=t.props,c=n.props;t!==n&&(u=!0),u&&i.componentWillReceiveProps&&i.componentWillReceiveProps(c,s);var p=this._processPendingState(c,s),d=!0;this._pendingForceUpdate||(i.shouldComponentUpdate?d=i.shouldComponentUpdate(c,p,s):this._compositeType===y.PureClass&&(d=!v(l,c)||!v(i.state,p))),this._updateBatchNumber=null,d?(this._pendingForceUpdate=!1,this._performComponentUpdate(n,c,p,s,e,o)):(this._currentElement=n,this._context=o,i.props=c,i.state=p,i.context=s)},_processPendingState:function(e,t){var n=this._instance,r=this._pendingStateQueue,o=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!r)return n.state;if(o&&1===r.length)return r[0];for(var i=s({},o?r[0]:n.state),a=o?1:0;a<r.length;a++){var u=r[a];s(i,"function"==typeof u?u.call(n,i,e,t):u)}return i},_performComponentUpdate:function(e,t,n,r,o,i){var a,s,u,l=this._instance,c=Boolean(l.componentDidUpdate);c&&(a=l.props,s=l.state,u=l.context),l.componentWillUpdate&&l.componentWillUpdate(t,n,r),this._currentElement=e,this._context=i,l.props=t,l.state=n,l.context=r,this._updateRenderedComponent(o,i),c&&o.getReactMountReady().enqueue(l.componentDidUpdate.bind(l,a,s,u),l)},_updateRenderedComponent:function(e,t){var n=this._renderedComponent,r=n._currentElement,o=this._renderValidatedComponent();if(g(r,o))h.receiveComponent(n,o,e,this._processChildContext(t));else{var i=h.getHostNode(n);h.unmountComponent(n,!1);var a=f.getType(o);this._renderedNodeType=a;var s=this._instantiateReactComponent(o,a!==f.EMPTY);this._renderedComponent=s;var u=h.mountComponent(s,e,this._hostParent,this._hostContainerInfo,this._processChildContext(t),0);this._replaceNodeWithMarkup(i,u,n)}},_replaceNodeWithMarkup:function(e,t,n){l.replaceNodeWithMarkup(e,t,n)},_renderValidatedComponentWithoutOwnerOrContext:function(){return this._instance.render()},_renderValidatedComponent:function(){var e;if(this._compositeType!==y.StatelessFunctional){c.current=this;try{e=this._renderValidatedComponentWithoutOwnerOrContext()}finally{c.current=null}}else e=this._renderValidatedComponentWithoutOwnerOrContext();return null===e||!1===e||u.isValidElement(e)||a("109",this.getName()||"ReactCompositeComponent"),e},attachRef:function(e,t){var n=this.getPublicInstance();null==n&&a("110");var r=t.getPublicInstance();(n.refs===m?n.refs={}:n.refs)[e]=r},detachRef:function(e){delete this.getPublicInstance().refs[e]},getName:function(){var e=this._currentElement.type,t=this._instance&&this._instance.constructor;return e.displayName||t&&t.displayName||e.name||t&&t.name||null},getPublicInstance:function(){var e=this._instance;return this._compositeType===y.StatelessFunctional?null:e},_instantiateReactComponent:null};t.exports=C},{113:113,117:117,120:120,121:121,131:131,138:138,142:142,143:143,144:144,28:28,50:50,57:57,58:58,62:62,66:66}],30:[function(e,t,n){"use strict";var r=e(33),o=e(47),i=e(60),a=e(66),s=e(71),u=e(72),l=e(96),c=e(103),p=e(114);e(143);o.inject();var d={findDOMNode:l,render:i.render,unmountComponentAtNode:i.unmountComponentAtNode,version:u,unstable_batchedUpdates:s.batchedUpdates,unstable_renderSubtreeIntoContainer:p};"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({ComponentTree:{getClosestInstanceFromNode:r.getClosestInstanceFromNode,getNodeFromInstance:function(e){return e._renderedComponent&&(e=c(e)),e?r.getNodeFromInstance(e):null}},Mount:i,Reconciler:a});t.exports=d},{103:103,114:114,143:143,33:33,47:47,60:60,66:66,71:71,72:72,96:96}],31:[function(e,t,n){"use strict";function r(e){if(e){var t=e._currentElement._owner||null;if(t){var n=t.getName();if(n)return" This DOM node was rendered by `"+n+"`."}}return""}function o(e,t){t&&(Q[e._tag]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&v("137",e._tag,e._currentElement._owner?" Check the render method of "+e._currentElement._owner.getName()+".":""),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&v("60"),"object"==typeof t.dangerouslySetInnerHTML&&H in t.dangerouslySetInnerHTML||v("61")),null!=t.style&&"object"!=typeof t.style&&v("62",r(e)))}function i(e,t,n,r){if(!(r instanceof A)){var o=e._hostContainerInfo,i=o._node&&o._node.nodeType===K,s=i?o._node:o._ownerDocument;j(t,s),r.getReactMountReady().enqueue(a,{inst:e,registrationName:t,listener:n})}}function a(){var e=this;w.putListener(e.inst,e.registrationName,e.listener)}function s(){var e=this;N.postMountWrapper(e)}function u(){var e=this;O.postMountWrapper(e)}function l(){var e=this;M.postMountWrapper(e)}function c(){L.track(this)}function p(){var e=this;e._rootNodeID||v("63");var t=V(e);switch(t||v("64"),e._tag){case"iframe":case"object":e._wrapperState.listeners=[k.trapBubbledEvent("topLoad","load",t)];break;case"video":case"audio":e._wrapperState.listeners=[];for(var n in z)z.hasOwnProperty(n)&&e._wrapperState.listeners.push(k.trapBubbledEvent(n,z[n],t));break;case"source":e._wrapperState.listeners=[k.trapBubbledEvent("topError","error",t)];break;case"img":e._wrapperState.listeners=[k.trapBubbledEvent("topError","error",t),k.trapBubbledEvent("topLoad","load",t)];break;case"form":e._wrapperState.listeners=[k.trapBubbledEvent("topReset","reset",t),k.trapBubbledEvent("topSubmit","submit",t)];break;case"input":case"select":case"textarea":e._wrapperState.listeners=[k.trapBubbledEvent("topInvalid","invalid",t)]}}function d(){I.postUpdateWrapper(this)}function f(e){Z.call($,e)||(G.test(e)||v("65",e),$[e]=!0)}function h(e,t){return e.indexOf("-")>=0||null!=t.is}function m(e){var t=e.type;f(t),this._currentElement=e,this._tag=t.toLowerCase(),this._namespaceURI=null,this._renderedChildren=null,this._previousStyle=null,this._previousStyleCopy=null,this._hostNode=null,this._hostParent=null,this._rootNodeID=0,this._domID=0,this._hostContainerInfo=null,this._wrapperState=null,this._topLevelWrapper=null,this._flags=0}var v=e(113),g=e(144),y=e(2),_=e(5),C=e(9),b=e(10),E=e(11),x=e(12),w=e(16),T=e(17),k=e(25),P=e(32),S=e(33),N=e(38),M=e(39),I=e(40),O=e(43),R=(e(58),e(61)),A=e(68),D=(e(130),e(95)),L=(e(138),e(110),e(142),e(108)),U=(e(119),e(143),P),F=w.deleteListener,V=S.getNodeFromInstance,j=k.listenTo,B=T.registrationNameModules,W={string:!0,number:!0},H="__html",q={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null},K=11,z={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},Y={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},X={listing:!0,pre:!0,textarea:!0},Q=g({menuitem:!0},Y),G=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,$={},Z={}.hasOwnProperty,J=1;m.displayName="ReactDOMComponent",m.Mixin={mountComponent:function(e,t,n,r){this._rootNodeID=J++,this._domID=n._idCounter++,this._hostParent=t,this._hostContainerInfo=n;var i=this._currentElement.props;switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":this._wrapperState={listeners:null},e.getReactMountReady().enqueue(p,this);break;case"input":N.mountWrapper(this,i,t),i=N.getHostProps(this,i),e.getReactMountReady().enqueue(c,this),e.getReactMountReady().enqueue(p,this);break;case"option":M.mountWrapper(this,i,t),i=M.getHostProps(this,i);break;case"select":I.mountWrapper(this,i,t),i=I.getHostProps(this,i),e.getReactMountReady().enqueue(p,this);break;case"textarea":O.mountWrapper(this,i,t),i=O.getHostProps(this,i),e.getReactMountReady().enqueue(c,this),e.getReactMountReady().enqueue(p,this)}o(this,i);var a,d;null!=t?(a=t._namespaceURI,d=t._tag):n._tag&&(a=n._namespaceURI,d=n._tag),(null==a||a===b.svg&&"foreignobject"===d)&&(a=b.html),a===b.html&&("svg"===this._tag?a=b.svg:"math"===this._tag&&(a=b.mathml)),this._namespaceURI=a;var f;if(e.useCreateElement){var h,m=n._ownerDocument;if(a===b.html)if("script"===this._tag){var v=m.createElement("div"),g=this._currentElement.type;v.innerHTML="<"+g+"></"+g+">",h=v.removeChild(v.firstChild)}else h=i.is?m.createElement(this._currentElement.type,i.is):m.createElement(this._currentElement.type);else h=m.createElementNS(a,this._currentElement.type);S.precacheNode(this,h),this._flags|=U.hasCachedChildNodes,this._hostParent||x.setAttributeForRoot(h),this._updateDOMProperties(null,i,e);var _=C(h);this._createInitialChildren(e,i,r,_),f=_}else{var E=this._createOpenTagMarkupAndPutListeners(e,i),w=this._createContentMarkup(e,i,r);f=!w&&Y[this._tag]?E+"/>":E+">"+w+"</"+this._currentElement.type+">"}switch(this._tag){case"input":e.getReactMountReady().enqueue(s,this),i.autoFocus&&e.getReactMountReady().enqueue(y.focusDOMComponent,this);break;case"textarea":e.getReactMountReady().enqueue(u,this),i.autoFocus&&e.getReactMountReady().enqueue(y.focusDOMComponent,this);break;case"select":case"button":i.autoFocus&&e.getReactMountReady().enqueue(y.focusDOMComponent,this);break;case"option":e.getReactMountReady().enqueue(l,this)}return f},_createOpenTagMarkupAndPutListeners:function(e,t){var n="<"+this._currentElement.type;for(var r in t)if(t.hasOwnProperty(r)){var o=t[r];if(null!=o)if(B.hasOwnProperty(r))o&&i(this,r,o,e);else{"style"===r&&(o&&(o=this._previousStyleCopy=g({},t.style)),o=_.createMarkupForStyles(o,this));var a=null;null!=this._tag&&h(this._tag,t)?q.hasOwnProperty(r)||(a=x.createMarkupForCustomAttribute(r,o)):a=x.createMarkupForProperty(r,o),a&&(n+=" "+a)}}return e.renderToStaticMarkup?n:(this._hostParent||(n+=" "+x.createMarkupForRoot()),n+=" "+x.createMarkupForID(this._domID))},_createContentMarkup:function(e,t,n){var r="",o=t.dangerouslySetInnerHTML;if(null!=o)null!=o.__html&&(r=o.__html);else{var i=W[typeof t.children]?t.children:null,a=null!=i?null:t.children;if(null!=i)r=D(i);else if(null!=a){var s=this.mountChildren(a,e,n);r=s.join("")}}return X[this._tag]&&"\n"===r.charAt(0)?"\n"+r:r},_createInitialChildren:function(e,t,n,r){var o=t.dangerouslySetInnerHTML;if(null!=o)null!=o.__html&&C.queueHTML(r,o.__html);else{var i=W[typeof t.children]?t.children:null,a=null!=i?null:t.children;if(null!=i)""!==i&&C.queueText(r,i);else if(null!=a)for(var s=this.mountChildren(a,e,n),u=0;u<s.length;u++)C.queueChild(r,s[u])}},receiveComponent:function(e,t,n){var r=this._currentElement;this._currentElement=e,this.updateComponent(t,r,e,n)},updateComponent:function(e,t,n,r){var i=t.props,a=this._currentElement.props;switch(this._tag){case"input":i=N.getHostProps(this,i),a=N.getHostProps(this,a);break;case"option":i=M.getHostProps(this,i),a=M.getHostProps(this,a);break;case"select":i=I.getHostProps(this,i),a=I.getHostProps(this,a);break;case"textarea":i=O.getHostProps(this,i),a=O.getHostProps(this,a)}switch(o(this,a),this._updateDOMProperties(i,a,e),this._updateDOMChildren(i,a,e,r),this._tag){case"input":N.updateWrapper(this);break;case"textarea":O.updateWrapper(this);break;case"select":e.getReactMountReady().enqueue(d,this)}},_updateDOMProperties:function(e,t,n){var r,o,a;for(r in e)if(!t.hasOwnProperty(r)&&e.hasOwnProperty(r)&&null!=e[r])if("style"===r){var s=this._previousStyleCopy;for(o in s)s.hasOwnProperty(o)&&(a=a||{},a[o]="");this._previousStyleCopy=null}else B.hasOwnProperty(r)?e[r]&&F(this,r):h(this._tag,e)?q.hasOwnProperty(r)||x.deleteValueForAttribute(V(this),r):(E.properties[r]||E.isCustomAttribute(r))&&x.deleteValueForProperty(V(this),r);for(r in t){var u=t[r],l="style"===r?this._previousStyleCopy:null!=e?e[r]:void 0;if(t.hasOwnProperty(r)&&u!==l&&(null!=u||null!=l))if("style"===r)if(u?u=this._previousStyleCopy=g({},u):this._previousStyleCopy=null,l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(a=a||{},a[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(a=a||{},a[o]=u[o])}else a=u;else if(B.hasOwnProperty(r))u?i(this,r,u,n):l&&F(this,r);else if(h(this._tag,t))q.hasOwnProperty(r)||x.setValueForAttribute(V(this),r,u);else if(E.properties[r]||E.isCustomAttribute(r)){var c=V(this);null!=u?x.setValueForProperty(c,r,u):x.deleteValueForProperty(c,r)}}a&&_.setValueForStyles(V(this),a,this)},_updateDOMChildren:function(e,t,n,r){var o=W[typeof e.children]?e.children:null,i=W[typeof t.children]?t.children:null,a=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,s=t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html,u=null!=o?null:e.children,l=null!=i?null:t.children,c=null!=o||null!=a,p=null!=i||null!=s;null!=u&&null==l?this.updateChildren(null,n,r):c&&!p&&this.updateTextContent(""),null!=i?o!==i&&this.updateTextContent(""+i):null!=s?a!==s&&this.updateMarkup(""+s):null!=l&&this.updateChildren(l,n,r)},getHostNode:function(){return V(this)},unmountComponent:function(e){switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":var t=this._wrapperState.listeners;if(t)for(var n=0;n<t.length;n++)t[n].remove();break;case"input":case"textarea":L.stopTracking(this);break;case"html":case"head":case"body":v("66",this._tag)}this.unmountChildren(e),S.uncacheNode(this),w.deleteAllListeners(this),this._rootNodeID=0,this._domID=0,this._wrapperState=null},getPublicInstance:function(){return V(this)}},g(m.prototype,m.Mixin,R.Mixin),t.exports=m},{10:10,108:108,11:11,110:110,113:113,119:119,12:12,130:130,138:138,142:142,143:143,144:144,16:16,17:17,2:2,25:25,32:32,33:33,38:38,39:39,40:40,43:43,5:5,58:58,61:61,68:68,9:9,95:95}],32:[function(e,t,n){"use strict";var r={hasCachedChildNodes:1};t.exports=r},{}],33:[function(e,t,n){"use strict";function r(e,t){return 1===e.nodeType&&e.getAttribute(h)===String(t)||8===e.nodeType&&e.nodeValue===" react-text: "+t+" "||8===e.nodeType&&e.nodeValue===" react-empty: "+t+" "}function o(e){for(var t;t=e._renderedComponent;)e=t;return e}function i(e,t){var n=o(e);n._hostNode=t,t[v]=n}function a(e){var t=e._hostNode;t&&(delete t[v],e._hostNode=null)}function s(e,t){if(!(e._flags&m.hasCachedChildNodes)){var n=e._renderedChildren,a=t.firstChild;e:for(var s in n)if(n.hasOwnProperty(s)){var u=n[s],l=o(u)._domID;if(0!==l){for(;null!==a;a=a.nextSibling)if(r(a,l)){i(u,a);continue e}p("32",l)}}e._flags|=m.hasCachedChildNodes}}function u(e){if(e[v])return e[v];for(var t=[];!e[v];){if(t.push(e),!e.parentNode)return null;e=e.parentNode}for(var n,r;e&&(r=e[v]);e=t.pop())n=r,t.length&&s(r,e);return n}function l(e){var t=u(e);return null!=t&&t._hostNode===e?t:null}function c(e){if(void 0===e._hostNode&&p("33"),e._hostNode)return e._hostNode;for(var t=[];!e._hostNode;)t.push(e),e._hostParent||p("34"),e=e._hostParent;for(;t.length;e=t.pop())s(e,e._hostNode);return e._hostNode}var p=e(113),d=e(11),f=e(32),h=(e(138),d.ID_ATTRIBUTE_NAME),m=f,v="__reactInternalInstance$"+Math.random().toString(36).slice(2),g={getClosestInstanceFromNode:u,getInstanceFromNode:l,getNodeFromInstance:c,precacheChildNodes:s,precacheNode:i,uncacheNode:a};t.exports=g},{11:11,113:113,138:138,32:32}],34:[function(e,t,n){"use strict";function r(e,t){return{_topLevelWrapper:e,_idCounter:1,_ownerDocument:t?t.nodeType===o?t:t.ownerDocument:null,_node:t,_tag:t?t.nodeName.toLowerCase():null,_namespaceURI:t?t.namespaceURI:null}}var o=(e(119),9);t.exports=r},{119:119}],35:[function(e,t,n){"use strict";var r=e(144),o=e(9),i=e(33),a=function(e){this._currentElement=null,this._hostNode=null,this._hostParent=null,this._hostContainerInfo=null,this._domID=0};r(a.prototype,{mountComponent:function(e,t,n,r){var a=n._idCounter++;this._domID=a,this._hostParent=t,this._hostContainerInfo=n;var s=" react-empty: "+this._domID+" ";if(e.useCreateElement){var u=n._ownerDocument,l=u.createComment(s);return i.precacheNode(this,l),o(l)}return e.renderToStaticMarkup?"":"\x3c!--"+s+"--\x3e"},receiveComponent:function(){},getHostNode:function(){return i.getNodeFromInstance(this)},unmountComponent:function(){i.uncacheNode(this)}}),t.exports=a},{144:144,33:33,9:9}],36:[function(e,t,n){"use strict";var r={useCreateElement:!0,useFiber:!1};t.exports=r},{}],37:[function(e,t,n){"use strict";var r=e(8),o=e(33),i={dangerouslyProcessChildrenUpdates:function(e,t){var n=o.getNodeFromInstance(e);r.processUpdates(n,t)}};t.exports=i},{33:33,8:8}],38:[function(e,t,n){"use strict";function r(){this._rootNodeID&&d.updateWrapper(this)}function o(e){return"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}function i(e){var t=this._currentElement.props,n=l.executeOnChange(t,e);p.asap(r,this);var o=t.name;if("radio"===t.type&&null!=o){for(var i=c.getNodeFromInstance(this),s=i;s.parentNode;)s=s.parentNode;for(var u=s.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),d=0;d<u.length;d++){var f=u[d];if(f!==i&&f.form===i.form){var h=c.getInstanceFromNode(f);h||a("90"),p.asap(r,h)}}}return n}var a=e(113),s=e(144),u=e(12),l=e(23),c=e(33),p=e(71),d=(e(138),e(143),{getHostProps:function(e,t){var n=l.getValue(t),r=l.getChecked(t);return s({type:void 0,step:void 0,min:void 0,max:void 0},t,{defaultChecked:void 0,defaultValue:void 0,value:null!=n?n:e._wrapperState.initialValue,checked:null!=r?r:e._wrapperState.initialChecked,onChange:e._wrapperState.onChange})},mountWrapper:function(e,t){var n=t.defaultValue;e._wrapperState={initialChecked:null!=t.checked?t.checked:t.defaultChecked,initialValue:null!=t.value?t.value:n,listeners:null,onChange:i.bind(e),controlled:o(t)}},updateWrapper:function(e){var t=e._currentElement.props,n=t.checked;null!=n&&u.setValueForProperty(c.getNodeFromInstance(e),"checked",n||!1);var r=c.getNodeFromInstance(e),o=l.getValue(t);if(null!=o)if(0===o&&""===r.value)r.value="0";else if("number"===t.type){var i=parseFloat(r.value,10)||0;(o!=i||o==i&&r.value!=o)&&(r.value=""+o)}else r.value!==""+o&&(r.value=""+o);else null==t.value&&null!=t.defaultValue&&r.defaultValue!==""+t.defaultValue&&(r.defaultValue=""+t.defaultValue),null==t.checked&&null!=t.defaultChecked&&(r.defaultChecked=!!t.defaultChecked)},postMountWrapper:function(e){var t=e._currentElement.props,n=c.getNodeFromInstance(e);switch(t.type){case"submit":case"reset":break;case"color":case"date":case"datetime":case"datetime-local":case"month":case"time":case"week":n.value="",n.value=n.defaultValue;break;default:n.value=n.value}var r=n.name;""!==r&&(n.name=""),n.defaultChecked=!n.defaultChecked,n.defaultChecked=!n.defaultChecked,""!==r&&(n.name=r)}});t.exports=d},{113:113,12:12,138:138,143:143,144:144,23:23,33:33,71:71}],39:[function(e,t,n){"use strict";function r(e){var t="";return i.Children.forEach(e,function(e){null!=e&&("string"==typeof e||"number"==typeof e?t+=e:u||(u=!0))}),t}var o=e(144),i=e(121),a=e(33),s=e(40),u=(e(143),!1),l={mountWrapper:function(e,t,n){var o=null;if(null!=n){var i=n;"optgroup"===i._tag&&(i=i._hostParent),null!=i&&"select"===i._tag&&(o=s.getSelectValueContext(i))}var a=null;if(null!=o){var u;if(u=null!=t.value?t.value+"":r(t.children),a=!1,Array.isArray(o)){for(var l=0;l<o.length;l++)if(""+o[l]===u){a=!0;break}}else a=""+o===u}e._wrapperState={selected:a}},postMountWrapper:function(e){var t=e._currentElement.props;null!=t.value&&a.getNodeFromInstance(e).setAttribute("value",t.value)},getHostProps:function(e,t){var n=o({selected:void 0,children:void 0},t);null!=e._wrapperState.selected&&(n.selected=e._wrapperState.selected);var i=r(t.children);return i&&(n.children=i),n}};t.exports=l},{121:121,143:143,144:144,33:33,40:40}],40:[function(e,t,n){"use strict";function r(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var e=this._currentElement.props,t=s.getValue(e);null!=t&&o(this,Boolean(e.multiple),t)}}function o(e,t,n){var r,o,i=u.getNodeFromInstance(e).options;if(t){for(r={},o=0;o<n.length;o++)r[""+n[o]]=!0;for(o=0;o<i.length;o++){var a=r.hasOwnProperty(i[o].value);i[o].selected!==a&&(i[o].selected=a)}}else{for(r=""+n,o=0;o<i.length;o++)if(i[o].value===r)return void(i[o].selected=!0);i.length&&(i[0].selected=!0)}}function i(e){var t=this._currentElement.props,n=s.executeOnChange(t,e);return this._rootNodeID&&(this._wrapperState.pendingUpdate=!0),l.asap(r,this),n}var a=e(144),s=e(23),u=e(33),l=e(71),c=(e(143),!1),p={getHostProps:function(e,t){return a({},t,{onChange:e._wrapperState.onChange,value:void 0})},mountWrapper:function(e,t){var n=s.getValue(t);e._wrapperState={pendingUpdate:!1,initialValue:null!=n?n:t.defaultValue,listeners:null,onChange:i.bind(e),wasMultiple:Boolean(t.multiple)},void 0===t.value||void 0===t.defaultValue||c||(c=!0)},getSelectValueContext:function(e){return e._wrapperState.initialValue},postUpdateWrapper:function(e){var t=e._currentElement.props;e._wrapperState.initialValue=void 0;var n=e._wrapperState.wasMultiple;e._wrapperState.wasMultiple=Boolean(t.multiple);var r=s.getValue(t);null!=r?(e._wrapperState.pendingUpdate=!1,o(e,Boolean(t.multiple),r)):n!==Boolean(t.multiple)&&(null!=t.defaultValue?o(e,Boolean(t.multiple),t.defaultValue):o(e,Boolean(t.multiple),t.multiple?[]:""))}};t.exports=p},{143:143,144:144,23:23,33:33,71:71}],41:[function(e,t,n){"use strict";function r(e,t,n,r){return e===n&&t===r}function o(e){var t=document.selection,n=t.createRange(),r=n.text.length,o=n.duplicate();o.moveToElementText(e),o.setEndPoint("EndToStart",n);var i=o.text.length;return{start:i,end:i+r}}function i(e){var t=window.getSelection&&window.getSelection();if(!t||0===t.rangeCount)return null;var n=t.anchorNode,o=t.anchorOffset,i=t.focusNode,a=t.focusOffset,s=t.getRangeAt(0);try{s.startContainer.nodeType,s.endContainer.nodeType}catch(e){return null}var u=r(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),l=u?0:s.toString().length,c=s.cloneRange();c.selectNodeContents(e),c.setEnd(s.startContainer,s.startOffset);var p=r(c.startContainer,c.startOffset,c.endContainer,c.endOffset),d=p?0:c.toString().length,f=d+l,h=document.createRange();h.setStart(n,o),h.setEnd(i,a);var m=h.collapsed;return{start:m?f:d,end:m?d:f}}function a(e,t){var n,r,o=document.selection.createRange().duplicate();void 0===t.end?(n=t.start,r=n):t.start>t.end?(n=t.end,r=t.start):(n=t.start,r=t.end),o.moveToElementText(e),o.moveStart("character",n),o.setEndPoint("EndToStart",o),o.moveEnd("character",r-n),o.select()}function s(e,t){if(window.getSelection){var n=window.getSelection(),r=e[c()].length,o=Math.min(t.start,r),i=void 0===t.end?o:Math.min(t.end,r);if(!n.extend&&o>i){var a=i;i=o,o=a}var s=l(e,o),u=l(e,i);if(s&&u){var p=document.createRange();p.setStart(s.node,s.offset),n.removeAllRanges(),o>i?(n.addRange(p),n.extend(u.node,u.offset)):(p.setEnd(u.node,u.offset),n.addRange(p))}}}var u=e(124),l=e(105),c=e(106),p=u.canUseDOM&&"selection"in document&&!("getSelection"in window),d={getOffsets:p?o:i,setOffsets:p?a:s};t.exports=d},{105:105,106:106,124:124}],42:[function(e,t,n){"use strict";var r=e(113),o=e(144),i=e(8),a=e(9),s=e(33),u=e(95),l=(e(138),e(119),function(e){this._currentElement=e,this._stringText=""+e,this._hostNode=null,this._hostParent=null,this._domID=0,this._mountIndex=0,this._closingComment=null,this._commentNodes=null});o(l.prototype,{mountComponent:function(e,t,n,r){var o=n._idCounter++,i=" react-text: "+o+" ";if(this._domID=o,this._hostParent=t,e.useCreateElement){var l=n._ownerDocument,c=l.createComment(i),p=l.createComment(" /react-text "),d=a(l.createDocumentFragment());return a.queueChild(d,a(c)),this._stringText&&a.queueChild(d,a(l.createTextNode(this._stringText))),a.queueChild(d,a(p)),s.precacheNode(this,c),this._closingComment=p,d}var f=u(this._stringText);return e.renderToStaticMarkup?f:"\x3c!--"+i+"--\x3e"+f+"\x3c!-- /react-text --\x3e"},receiveComponent:function(e,t){if(e!==this._currentElement){this._currentElement=e;var n=""+e;if(n!==this._stringText){this._stringText=n;var r=this.getHostNode();i.replaceDelimitedText(r[0],r[1],n)}}},getHostNode:function(){var e=this._commentNodes;if(e)return e;if(!this._closingComment)for(var t=s.getNodeFromInstance(this),n=t.nextSibling;;){if(null==n&&r("67",this._domID),8===n.nodeType&&" /react-text "===n.nodeValue){this._closingComment=n;break}n=n.nextSibling}return e=[this._hostNode,this._closingComment],this._commentNodes=e,e},unmountComponent:function(){this._closingComment=null,this._commentNodes=null,s.uncacheNode(this)}}),t.exports=l},{113:113,119:119,138:138,144:144,33:33,8:8,9:9,95:95}],43:[function(e,t,n){"use strict";function r(){this._rootNodeID&&c.updateWrapper(this)}function o(e){var t=this._currentElement.props,n=s.executeOnChange(t,e);return l.asap(r,this),n}var i=e(113),a=e(144),s=e(23),u=e(33),l=e(71),c=(e(138),e(143),{getHostProps:function(e,t){return null!=t.dangerouslySetInnerHTML&&i("91"),a({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue,onChange:e._wrapperState.onChange})},mountWrapper:function(e,t){var n=s.getValue(t),r=n;if(null==n){var a=t.defaultValue,u=t.children;null!=u&&(null!=a&&i("92"),Array.isArray(u)&&(u.length<=1||i("93"),u=u[0]),a=""+u),null==a&&(a=""),r=a}e._wrapperState={initialValue:""+r,listeners:null,onChange:o.bind(e)}},updateWrapper:function(e){var t=e._currentElement.props,n=u.getNodeFromInstance(e),r=s.getValue(t);if(null!=r){var o=""+r;o!==n.value&&(n.value=o),null==t.defaultValue&&(n.defaultValue=o)}null!=t.defaultValue&&(n.defaultValue=t.defaultValue)},postMountWrapper:function(e){var t=u.getNodeFromInstance(e),n=t.textContent;n===e._wrapperState.initialValue&&(t.value=n)}});t.exports=c},{113:113,138:138,143:143,144:144,23:23,33:33,71:71}],44:[function(e,t,n){"use strict";function r(e,t){"_hostNode"in e||u("33"),"_hostNode"in t||u("33");for(var n=0,r=e;r;r=r._hostParent)n++;for(var o=0,i=t;i;i=i._hostParent)o++;for(;n-o>0;)e=e._hostParent,n--;for(;o-n>0;)t=t._hostParent,o--;for(var a=n;a--;){if(e===t)return e;e=e._hostParent,t=t._hostParent}return null}function o(e,t){"_hostNode"in e||u("35"),"_hostNode"in t||u("35");for(;t;){if(t===e)return!0;t=t._hostParent}return!1}function i(e){return"_hostNode"in e||u("36"),e._hostParent}function a(e,t,n){for(var r=[];e;)r.push(e),e=e._hostParent;var o;for(o=r.length;o-->0;)t(r[o],"captured",n);for(o=0;o<r.length;o++)t(r[o],"bubbled",n)}function s(e,t,n,o,i){for(var a=e&&t?r(e,t):null,s=[];e&&e!==a;)s.push(e),e=e._hostParent;for(var u=[];t&&t!==a;)u.push(t),t=t._hostParent;var l;for(l=0;l<s.length;l++)n(s[l],"bubbled",o);for(l=u.length;l-->0;)n(u[l],"captured",i)}var u=e(113);e(138);t.exports={isAncestor:o,getLowestCommonAncestor:r,getParentInstance:i,traverseTwoPhase:a,traverseEnterLeave:s}},{113:113,138:138}],45:[function(e,t,n){"use strict";var r=e(121),o=e(30),i=o;r.addons&&(r.__SECRET_INJECTED_REACT_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=i),t.exports=i},{121:121,30:30}],46:[function(e,t,n){"use strict";function r(){this.reinitializeTransaction()}var o=e(144),i=e(71),a=e(89),s=e(130),u={initialize:s,close:function(){d.isBatchingUpdates=!1}},l={initialize:s,close:i.flushBatchedUpdates.bind(i)},c=[l,u];o(r.prototype,a,{getTransactionWrappers:function(){return c}});var p=new r,d={isBatchingUpdates:!1,batchedUpdates:function(e,t,n,r,o,i){var a=d.isBatchingUpdates;return d.isBatchingUpdates=!0,a?e(t,n,r,o,i):p.perform(e,null,t,n,r,o,i)}};t.exports=d},{130:130,144:144,71:71,89:89}],47:[function(e,t,n){"use strict";function r(){x||(x=!0,y.EventEmitter.injectReactEventListener(g),y.EventPluginHub.injectEventPluginOrder(s),y.EventPluginUtils.injectComponentTree(d),y.EventPluginUtils.injectTreeTraversal(h),y.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:E,EnterLeaveEventPlugin:u,ChangeEventPlugin:a,SelectEventPlugin:b,BeforeInputEventPlugin:i}),y.HostComponent.injectGenericComponentClass(p),y.HostComponent.injectTextComponentClass(m),y.DOMProperty.injectDOMPropertyConfig(o),y.DOMProperty.injectDOMPropertyConfig(l),y.DOMProperty.injectDOMPropertyConfig(C),y.EmptyComponent.injectEmptyComponentFactory(function(e){return new f(e)}),y.Updates.injectReconcileTransaction(_),y.Updates.injectBatchingStrategy(v),y.Component.injectEnvironment(c))}var o=e(1),i=e(3),a=e(7),s=e(14),u=e(15),l=e(21),c=e(27),p=e(31),d=e(33),f=e(35),h=e(44),m=e(42),v=e(46),g=e(52),y=e(55),_=e(65),C=e(73),b=e(74),E=e(75),x=!1;t.exports={inject:r}},{1:1,14:14,15:15,21:21,27:27,3:3,31:31,33:33,35:35,42:42,44:44,46:46,52:52,55:55,65:65,7:7,73:73,74:74,75:75}],48:[function(e,t,n){"use strict";var r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;t.exports=r},{}],49:[function(e,t,n){"use strict";var r,o={injectEmptyComponentFactory:function(e){r=e}},i={create:function(e){return r(e)}};i.injection=o,t.exports=i},{}],50:[function(e,t,n){"use strict";function r(e,t,n){try{t(n)}catch(e){null===o&&(o=e)}}var o=null,i={invokeGuardedCallback:r,invokeGuardedCallbackWithCatch:r,rethrowCaughtError:function(){if(o){var e=o;throw o=null,e}}};t.exports=i},{}],51:[function(e,t,n){"use strict";function r(e){o.enqueueEvents(e),o.processEventQueue(!1)}var o=e(16),i={handleTopLevel:function(e,t,n,i){r(o.extractEvents(e,t,n,i))}};t.exports=i},{16:16}],52:[function(e,t,n){"use strict";function r(e){for(;e._hostParent;)e=e._hostParent;var t=p.getNodeFromInstance(e),n=t.parentNode;return p.getClosestInstanceFromNode(n)}function o(e,t){this.topLevelType=e,this.nativeEvent=t,this.ancestors=[]}function i(e){var t=f(e.nativeEvent),n=p.getClosestInstanceFromNode(t),o=n;do e.ancestors.push(o),o=o&&r(o);while(o);for(var i=0;i<e.ancestors.length;i++)n=e.ancestors[i],m._handleTopLevel(e.topLevelType,n,e.nativeEvent,f(e.nativeEvent))}function a(e){e(h(window))}var s=e(144),u=e(123),l=e(124),c=e(24),p=e(33),d=e(71),f=e(102),h=e(135);s(o.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),c.addPoolingTo(o,c.twoArgumentPooler);var m={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:l.canUseDOM?window:null,setHandleTopLevel:function(e){m._handleTopLevel=e},setEnabled:function(e){m._enabled=!!e},isEnabled:function(){return m._enabled},trapBubbledEvent:function(e,t,n){return n?u.listen(n,t,m.dispatchEvent.bind(null,e)):null},trapCapturedEvent:function(e,t,n){return n?u.capture(n,t,m.dispatchEvent.bind(null,e)):null},monitorScrollValue:function(e){var t=a.bind(null,e);u.listen(window,"scroll",t)},dispatchEvent:function(e,t){if(m._enabled){var n=o.getPooled(e,t);try{d.batchedUpdates(i,n)}finally{o.release(n)}}}};t.exports=m},{102:102,123:123,124:124,135:135,144:144,24:24,33:33,71:71}],53:[function(e,t,n){"use strict";var r={logTopLevelRenders:!1};t.exports=r},{}],54:[function(e,t,n){"use strict";function r(e){return s||a("111",e.type),new s(e)}function o(e){return new u(e)}function i(e){return e instanceof u}var a=e(113),s=(e(138),null),u=null,l={injectGenericComponentClass:function(e){s=e},injectTextComponentClass:function(e){u=e}},c={createInternalComponent:r,createInstanceForText:o,isTextComponent:i,injection:l};t.exports=c},{113:113,138:138}],55:[function(e,t,n){"use strict";var r=e(11),o=e(16),i=e(18),a=e(28),s=e(49),u=e(25),l=e(54),c=e(71),p={Component:a.injection,DOMProperty:r.injection,EmptyComponent:s.injection,EventPluginHub:o.injection,EventPluginUtils:i.injection,EventEmitter:u.injection,HostComponent:l.injection,Updates:c.injection};t.exports=p},{11:11,16:16,18:18,25:25,28:28,49:49,54:54,71:71}],56:[function(e,t,n){"use strict";function r(e){return i(document.documentElement,e)}var o=e(41),i=e(127),a=e(132),s=e(133),u={hasSelectionCapabilities:function(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&"text"===e.type||"textarea"===t||"true"===e.contentEditable)},getSelectionInformation:function(){var e=s();return{focusedElem:e,selectionRange:u.hasSelectionCapabilities(e)?u.getSelection(e):null}},restoreSelection:function(e){var t=s(),n=e.focusedElem,o=e.selectionRange;t!==n&&r(n)&&(u.hasSelectionCapabilities(n)&&u.setSelection(n,o),a(n))},getSelection:function(e){var t;if("selectionStart"in e)t={start:e.selectionStart,end:e.selectionEnd};else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var n=document.selection.createRange();n.parentElement()===e&&(t={start:-n.moveStart("character",-e.value.length),end:-n.moveEnd("character",-e.value.length)})}else t=o.getOffsets(e);return t||{start:0,end:0}},setSelection:function(e,t){var n=t.start,r=t.end;if(void 0===r&&(r=n),"selectionStart"in e)e.selectionStart=n,e.selectionEnd=Math.min(r,e.value.length);else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var i=e.createTextRange();i.collapse(!0),i.moveStart("character",n),i.moveEnd("character",r-n),i.select()}else o.setOffsets(e,t)}};t.exports=u},{127:127,132:132,133:133,41:41}],57:[function(e,t,n){"use strict";var r={remove:function(e){e._reactInternalInstance=void 0},get:function(e){return e._reactInternalInstance},has:function(e){return void 0!==e._reactInternalInstance},set:function(e,t){e._reactInternalInstance=t}};t.exports=r},{}],58:[function(e,t,n){"use strict";t.exports={debugTool:null}},{}],59:[function(e,t,n){"use strict";var r=e(92),o=/\/?>/,i=/^<\!\-\-/,a={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(e){var t=r(e);return i.test(e)?e:e.replace(o," "+a.CHECKSUM_ATTR_NAME+'="'+t+'"$&')},canReuseMarkup:function(e,t){var n=t.getAttribute(a.CHECKSUM_ATTR_NAME);return n=n&&parseInt(n,10),r(e)===n}};t.exports=a},{92:92}],60:[function(e,t,n){"use strict";function r(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++)if(e.charAt(r)!==t.charAt(r))return r;return e.length===t.length?-1:n}function o(e){return e?e.nodeType===A?e.documentElement:e.firstChild:null}function i(e){return e.getAttribute&&e.getAttribute(I)||""}function a(e,t,n,r,o){var i;if(b.logTopLevelRenders){var a=e._currentElement.props.child,s=a.type;i="React mount: "+("string"==typeof s?s:s.displayName||s.name),console.time(i)}var u=w.mountComponent(e,n,null,_(e,t),o,0);i&&console.timeEnd(i),e._renderedComponent._topLevelWrapper=e,V._mountImageIntoNode(u,t,e,r,n)}function s(e,t,n,r){var o=k.ReactReconcileTransaction.getPooled(!n&&C.useCreateElement);o.perform(a,null,e,t,o,n,r),k.ReactReconcileTransaction.release(o)}function u(e,t,n){for(w.unmountComponent(e,n),t.nodeType===A&&(t=t.documentElement);t.lastChild;)t.removeChild(t.lastChild)}function l(e){var t=o(e);if(t){var n=y.getInstanceFromNode(t);return!(!n||!n._hostParent)}}function c(e){return!(!e||e.nodeType!==R&&e.nodeType!==A&&e.nodeType!==D)}function p(e){var t=o(e),n=t&&y.getInstanceFromNode(t);return n&&!n._hostParent?n:null}function d(e){var t=p(e);return t?t._hostContainerInfo._topLevelWrapper:null}var f=e(113),h=e(9),m=e(11),v=e(121),g=e(25),y=(e(120),e(33)),_=e(34),C=e(36),b=e(53),E=e(57),x=(e(58),e(59)),w=e(66),T=e(70),k=e(71),P=e(131),S=e(109),N=(e(138),e(115)),M=e(117),I=(e(143),m.ID_ATTRIBUTE_NAME),O=m.ROOT_ATTRIBUTE_NAME,R=1,A=9,D=11,L={},U=1,F=function(){this.rootID=U++};F.prototype.isReactComponent={},F.prototype.render=function(){return this.props.child},F.isReactTopLevelWrapper=!0;var V={TopLevelWrapper:F,_instancesByReactRootID:L,scrollMonitor:function(e,t){t()},_updateRootComponent:function(e,t,n,r,o){return V.scrollMonitor(r,function(){T.enqueueElementInternal(e,t,n),o&&T.enqueueCallbackInternal(e,o)}),e},_renderNewRootComponent:function(e,t,n,r){c(t)||f("37"),g.ensureScrollValueMonitoring();var o=S(e,!1);k.batchedUpdates(s,o,t,n,r);var i=o._instance.rootID;return L[i]=o,o},renderSubtreeIntoContainer:function(e,t,n,r){return null!=e&&E.has(e)||f("38"),V._renderSubtreeIntoContainer(e,t,n,r)},_renderSubtreeIntoContainer:function(e,t,n,r){T.validateCallback(r,"ReactDOM.render"),v.isValidElement(t)||f("39","string"==typeof t?" Instead of passing a string like 'div', pass React.createElement('div') or <div />.":"function"==typeof t?" Instead of passing a class like Foo, pass React.createElement(Foo) or <Foo />.":null!=t&&void 0!==t.props?" This may be caused by unintentionally loading two independent copies of React.":"");var a,s=v.createElement(F,{child:t});if(e){var u=E.get(e);a=u._processChildContext(u._context)}else a=P;var c=d(n);if(c){var p=c._currentElement,h=p.props.child;if(M(h,t)){var m=c._renderedComponent.getPublicInstance(),g=r&&function(){r.call(m)};return V._updateRootComponent(c,s,a,n,g),m}V.unmountComponentAtNode(n)}var y=o(n),_=y&&!!i(y),C=l(n),b=_&&!c&&!C,x=V._renderNewRootComponent(s,n,b,a)._renderedComponent.getPublicInstance();return r&&r.call(x),x},render:function(e,t,n){return V._renderSubtreeIntoContainer(null,e,t,n)},unmountComponentAtNode:function(e){c(e)||f("40");var t=d(e);return t?(delete L[t._instance.rootID],k.batchedUpdates(u,t,e,!1),!0):(l(e),1===e.nodeType&&e.hasAttribute(O),!1)},_mountImageIntoNode:function(e,t,n,i,a){if(c(t)||f("41"),i){var s=o(t);if(x.canReuseMarkup(e,s))return void y.precacheNode(n,s);var u=s.getAttribute(x.CHECKSUM_ATTR_NAME);s.removeAttribute(x.CHECKSUM_ATTR_NAME);var l=s.outerHTML;s.setAttribute(x.CHECKSUM_ATTR_NAME,u);var p=e,d=r(p,l),m=" (client) "+p.substring(d-20,d+20)+"\n (server) "+l.substring(d-20,d+20);t.nodeType===A&&f("42",m)}if(t.nodeType===A&&f("43"),a.useCreateElement){for(;t.lastChild;)t.removeChild(t.lastChild);h.insertTreeBefore(t,e,null)}else N(t,e),y.precacheNode(n,t.firstChild)}};t.exports=V},{109:109,11:11,113:113,115:115,117:117,120:120,121:121,131:131,138:138,143:143,25:25,33:33,34:34,36:36,53:53,57:57,58:58,59:59,66:66,70:70,71:71,9:9}],61:[function(e,t,n){"use strict";function r(e,t,n){return{type:"INSERT_MARKUP",content:e,fromIndex:null,fromNode:null,toIndex:n,afterNode:t}}function o(e,t,n){return{type:"MOVE_EXISTING",content:null,fromIndex:e._mountIndex,fromNode:d.getHostNode(e),toIndex:n,afterNode:t}}function i(e,t){return{type:"REMOVE_NODE",content:null,fromIndex:e._mountIndex,fromNode:t,toIndex:null,afterNode:null}}function a(e){return{type:"SET_MARKUP",content:e,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function s(e){return{type:"TEXT_CONTENT",content:e,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function u(e,t){return t&&(e=e||[],e.push(t)),e}function l(e,t){p.processChildrenUpdates(e,t)}var c=e(113),p=e(28),d=(e(57),e(58),e(120),e(66)),f=e(26),h=(e(130),e(97)),m=(e(138),{Mixin:{_reconcilerInstantiateChildren:function(e,t,n){return f.instantiateChildren(e,t,n)},_reconcilerUpdateChildren:function(e,t,n,r,o,i){var a;return a=h(t,0),f.updateChildren(e,a,n,r,o,this,this._hostContainerInfo,i,0),a},mountChildren:function(e,t,n){var r=this._reconcilerInstantiateChildren(e,t,n);this._renderedChildren=r;var o=[],i=0;for(var a in r)if(r.hasOwnProperty(a)){var s=r[a],u=d.mountComponent(s,t,this,this._hostContainerInfo,n,0);s._mountIndex=i++,o.push(u)}return o},updateTextContent:function(e){var t=this._renderedChildren;f.unmountChildren(t,!1);for(var n in t)t.hasOwnProperty(n)&&c("118");l(this,[s(e)])},updateMarkup:function(e){var t=this._renderedChildren;f.unmountChildren(t,!1);for(var n in t)t.hasOwnProperty(n)&&c("118");l(this,[a(e)])},updateChildren:function(e,t,n){this._updateChildren(e,t,n)},_updateChildren:function(e,t,n){var r=this._renderedChildren,o={},i=[],a=this._reconcilerUpdateChildren(r,e,i,o,t,n);if(a||r){var s,c=null,p=0,f=0,h=0,m=null;for(s in a)if(a.hasOwnProperty(s)){var v=r&&r[s],g=a[s];v===g?(c=u(c,this.moveChild(v,m,p,f)),f=Math.max(v._mountIndex,f),v._mountIndex=p):(v&&(f=Math.max(v._mountIndex,f)),c=u(c,this._mountChildAtIndex(g,i[h],m,p,t,n)),h++),p++,m=d.getHostNode(g)}for(s in o)o.hasOwnProperty(s)&&(c=u(c,this._unmountChild(r[s],o[s])));c&&l(this,c),this._renderedChildren=a}},unmountChildren:function(e){var t=this._renderedChildren;f.unmountChildren(t,e),this._renderedChildren=null},moveChild:function(e,t,n,r){if(e._mountIndex<r)return o(e,t,n)},createChild:function(e,t,n){return r(n,t,e._mountIndex)},removeChild:function(e,t){return i(e,t)},_mountChildAtIndex:function(e,t,n,r,o,i){return e._mountIndex=r,this.createChild(e,n,t)},_unmountChild:function(e,t){var n=this.removeChild(e,t);return e._mountIndex=null,n}}});t.exports=m},{113:113,120:120,130:130,138:138,26:26,28:28,57:57,58:58,66:66,97:97}],62:[function(e,t,n){"use strict";var r=e(113),o=e(121),i=(e(138),{HOST:0,COMPOSITE:1,EMPTY:2,getType:function(e){return null===e||!1===e?i.EMPTY:o.isValidElement(e)?"function"==typeof e.type?i.COMPOSITE:i.HOST:void r("26",e)}});t.exports=i},{113:113,121:121,138:138}],63:[function(e,t,n){"use strict";function r(e){return!(!e||"function"!=typeof e.attachRef||"function"!=typeof e.detachRef)}var o=e(113),i=(e(138),{addComponentAsRefTo:function(e,t,n){r(n)||o("119"),n.attachRef(t,e)},removeComponentAsRefFrom:function(e,t,n){r(n)||o("120");var i=n.getPublicInstance();i&&i.refs[t]===e.getPublicInstance()&&n.detachRef(t)}});t.exports=i},{113:113,138:138}],64:[function(e,t,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},{}],65:[function(e,t,n){"use strict";function r(e){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=i.getPooled(null),this.useCreateElement=e}var o=e(144),i=e(6),a=e(24),s=e(25),u=e(56),l=(e(58),e(89)),c=e(70),p={initialize:u.getSelectionInformation,close:u.restoreSelection},d={initialize:function(){var e=s.isEnabled();return s.setEnabled(!1),e},close:function(e){s.setEnabled(e)}},f={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},h=[p,d,f],m={getTransactionWrappers:function(){return h},getReactMountReady:function(){return this.reactMountReady},getUpdateQueue:function(){return c},checkpoint:function(){return this.reactMountReady.checkpoint()},rollback:function(e){this.reactMountReady.rollback(e)},destructor:function(){i.release(this.reactMountReady),this.reactMountReady=null}};o(r.prototype,l,m),a.addPoolingTo(r),t.exports=r},{144:144,24:24,25:25,56:56,58:58,6:6,70:70,89:89}],66:[function(e,t,n){"use strict";function r(){o.attachRefs(this,this._currentElement)}var o=e(67),i=(e(58),e(143),{mountComponent:function(e,t,n,o,i,a){var s=e.mountComponent(t,n,o,i,a);return e._currentElement&&null!=e._currentElement.ref&&t.getReactMountReady().enqueue(r,e),s},getHostNode:function(e){return e.getHostNode()},unmountComponent:function(e,t){o.detachRefs(e,e._currentElement),e.unmountComponent(t)},receiveComponent:function(e,t,n,i){var a=e._currentElement;if(t!==a||i!==e._context){var s=o.shouldUpdateRefs(a,t);s&&o.detachRefs(e,a),e.receiveComponent(t,n,i),s&&e._currentElement&&null!=e._currentElement.ref&&n.getReactMountReady().enqueue(r,e)}},performUpdateIfNecessary:function(e,t,n){e._updateBatchNumber===n&&e.performUpdateIfNecessary(t)}});t.exports=i},{143:143,58:58,67:67}],67:[function(e,t,n){"use strict";function r(e,t,n){"function"==typeof e?e(t.getPublicInstance()):i.addComponentAsRefTo(t,e,n)}function o(e,t,n){"function"==typeof e?e(null):i.removeComponentAsRefFrom(t,e,n)}var i=e(63),a={};a.attachRefs=function(e,t){if(null!==t&&"object"==typeof t){var n=t.ref;null!=n&&r(n,e,t._owner)}},a.shouldUpdateRefs=function(e,t){var n=null,r=null;null!==e&&"object"==typeof e&&(n=e.ref,r=e._owner);var o=null,i=null;return null!==t&&"object"==typeof t&&(o=t.ref,i=t._owner),n!==o||"string"==typeof o&&i!==r},a.detachRefs=function(e,t){if(null!==t&&"object"==typeof t){var n=t.ref;null!=n&&o(n,e,t._owner)}},t.exports=a},{63:63}],68:[function(e,t,n){"use strict";function r(e){this.reinitializeTransaction(),this.renderToStaticMarkup=e,this.useCreateElement=!1,this.updateQueue=new s(this)}var o=e(144),i=e(24),a=e(89),s=(e(58),e(69)),u=[],l={enqueue:function(){}},c={getTransactionWrappers:function(){return u},getReactMountReady:function(){return l},getUpdateQueue:function(){return this.updateQueue},destructor:function(){},checkpoint:function(){},rollback:function(){}};o(r.prototype,a,c),i.addPoolingTo(r),t.exports=r},{144:144,24:24,58:58,69:69,89:89}],69:[function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=e(70),i=(e(143),function(){function e(t){r(this,e),this.transaction=t}return e.prototype.isMounted=function(e){return!1},e.prototype.enqueueCallback=function(e,t,n){this.transaction.isInTransaction()&&o.enqueueCallback(e,t,n)},e.prototype.enqueueForceUpdate=function(e){this.transaction.isInTransaction()&&o.enqueueForceUpdate(e)},e.prototype.enqueueReplaceState=function(e,t){this.transaction.isInTransaction()&&o.enqueueReplaceState(e,t)},e.prototype.enqueueSetState=function(e,t){this.transaction.isInTransaction()&&o.enqueueSetState(e,t)},e}());t.exports=i},{143:143,70:70}],70:[function(e,t,n){"use strict";function r(e){u.enqueueUpdate(e)}function o(e){var t=typeof e;if("object"!==t)return t;var n=e.constructor&&e.constructor.name||t,r=Object.keys(e);return r.length>0&&r.length<20?n+" (keys: "+r.join(", ")+")":n}function i(e,t){var n=s.get(e);return n||null}var a=e(113),s=(e(120),e(57)),u=(e(58),e(71)),l=(e(138),e(143),{isMounted:function(e){var t=s.get(e);return!!t&&!!t._renderedComponent},enqueueCallback:function(e,t,n){l.validateCallback(t,n);var o=i(e);if(!o)return null;o._pendingCallbacks?o._pendingCallbacks.push(t):o._pendingCallbacks=[t],r(o)},enqueueCallbackInternal:function(e,t){e._pendingCallbacks?e._pendingCallbacks.push(t):e._pendingCallbacks=[t],r(e)},enqueueForceUpdate:function(e){var t=i(e,"forceUpdate");t&&(t._pendingForceUpdate=!0,r(t))},enqueueReplaceState:function(e,t,n){var o=i(e,"replaceState");o&&(o._pendingStateQueue=[t],o._pendingReplaceState=!0,void 0!==n&&null!==n&&(l.validateCallback(n,"replaceState"),o._pendingCallbacks?o._pendingCallbacks.push(n):o._pendingCallbacks=[n]),r(o))},enqueueSetState:function(e,t){var n=i(e,"setState");n&&((n._pendingStateQueue||(n._pendingStateQueue=[])).push(t),r(n))},enqueueElementInternal:function(e,t,n){e._pendingElement=t,e._context=n,r(e)},validateCallback:function(e,t){e&&"function"!=typeof e&&a("122",t,o(e))}});t.exports=l},{113:113,120:120,138:138,143:143,57:57,58:58,71:71}],71:[function(e,t,n){"use strict";function r(){P.ReactReconcileTransaction&&b||c("123")}function o(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=d.getPooled(),this.reconcileTransaction=P.ReactReconcileTransaction.getPooled(!0)}function i(e,t,n,o,i,a){return r(),b.batchedUpdates(e,t,n,o,i,a)}function a(e,t){return e._mountOrder-t._mountOrder}function s(e){var t=e.dirtyComponentsLength;t!==g.length&&c("124",t,g.length),g.sort(a),y++;for(var n=0;n<t;n++){var r=g[n],o=r._pendingCallbacks;r._pendingCallbacks=null;var i;if(h.logTopLevelRenders){var s=r;r._currentElement.type.isReactTopLevelWrapper&&(s=r._renderedComponent),i="React update: "+s.getName(),console.time(i)}if(m.performUpdateIfNecessary(r,e.reconcileTransaction,y),i&&console.timeEnd(i),o)for(var u=0;u<o.length;u++)e.callbackQueue.enqueue(o[u],r.getPublicInstance())}}function u(e){if(r(),!b.isBatchingUpdates)return void b.batchedUpdates(u,e);g.push(e),null==e._updateBatchNumber&&(e._updateBatchNumber=y+1)}function l(e,t){b.isBatchingUpdates||c("125"),_.enqueue(e,t),C=!0}var c=e(113),p=e(144),d=e(6),f=e(24),h=e(53),m=e(66),v=e(89),g=(e(138),[]),y=0,_=d.getPooled(),C=!1,b=null,E={initialize:function(){this.dirtyComponentsLength=g.length},close:function(){this.dirtyComponentsLength!==g.length?(g.splice(0,this.dirtyComponentsLength),T()):g.length=0}},x={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},w=[E,x];p(o.prototype,v,{getTransactionWrappers:function(){return w},destructor:function(){this.dirtyComponentsLength=null,d.release(this.callbackQueue),this.callbackQueue=null,P.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(e,t,n){return v.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,e,t,n)}}),f.addPoolingTo(o);var T=function(){for(;g.length||C;){if(g.length){var e=o.getPooled();e.perform(s,null,e),o.release(e)}if(C){C=!1;var t=_;_=d.getPooled(),t.notifyAll(),d.release(t)}}},k={injectReconcileTransaction:function(e){e||c("126"),P.ReactReconcileTransaction=e},injectBatchingStrategy:function(e){e||c("127"),"function"!=typeof e.batchedUpdates&&c("128"),"boolean"!=typeof e.isBatchingUpdates&&c("129"),b=e}},P={ReactReconcileTransaction:null,batchedUpdates:i,enqueueUpdate:u,flushBatchedUpdates:T,injection:k,asap:l};t.exports=P},{113:113,138:138,144:144,24:24,53:53,6:6,66:66,89:89}],72:[function(e,t,n){"use strict";t.exports="15.6.1"},{}],73:[function(e,t,n){"use strict";var r={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},o={accentHeight:"accent-height",accumulate:0,additive:0,alignmentBaseline:"alignment-baseline",allowReorder:"allowReorder",alphabetic:0,amplitude:0,arabicForm:"arabic-form",ascent:0,attributeName:"attributeName",attributeType:"attributeType",autoReverse:"autoReverse",azimuth:0,baseFrequency:"baseFrequency",baseProfile:"baseProfile",baselineShift:"baseline-shift",bbox:0,begin:0,bias:0,by:0,calcMode:"calcMode",capHeight:"cap-height",clip:0,clipPath:"clip-path",clipRule:"clip-rule",clipPathUnits:"clipPathUnits",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",contentScriptType:"contentScriptType",contentStyleType:"contentStyleType",cursor:0,cx:0,cy:0,d:0,decelerate:0,descent:0,diffuseConstant:"diffuseConstant",direction:0,display:0,divisor:0,dominantBaseline:"dominant-baseline",dur:0,dx:0,dy:0,edgeMode:"edgeMode",elevation:0,enableBackground:"enable-background",end:0,exponent:0,externalResourcesRequired:"externalResourcesRequired",fill:0,fillOpacity:"fill-opacity",fillRule:"fill-rule",filter:0,filterRes:"filterRes",filterUnits:"filterUnits",floodColor:"flood-color",floodOpacity:"flood-opacity",focusable:0,fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",glyphRef:"glyphRef",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",hanging:0,horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",ideographic:0,imageRendering:"image-rendering",in:0,in2:0,intercept:0,k:0,k1:0,k2:0,k3:0,k4:0,kernelMatrix:"kernelMatrix",kernelUnitLength:"kernelUnitLength",kerning:0,keyPoints:"keyPoints",keySplines:"keySplines",keyTimes:"keyTimes",lengthAdjust:"lengthAdjust",letterSpacing:"letter-spacing",lightingColor:"lighting-color",limitingConeAngle:"limitingConeAngle",local:0,markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",markerHeight:"markerHeight",markerUnits:"markerUnits",markerWidth:"markerWidth",mask:0,maskContentUnits:"maskContentUnits",maskUnits:"maskUnits",mathematical:0,mode:0,numOctaves:"numOctaves",offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pathLength:"pathLength",patternContentUnits:"patternContentUnits",patternTransform:"patternTransform",patternUnits:"patternUnits",pointerEvents:"pointer-events",points:0,pointsAtX:"pointsAtX",pointsAtY:"pointsAtY",pointsAtZ:"pointsAtZ",preserveAlpha:"preserveAlpha",preserveAspectRatio:"preserveAspectRatio",primitiveUnits:"primitiveUnits",r:0,radius:0,refX:"refX",refY:"refY",renderingIntent:"rendering-intent",repeatCount:"repeatCount",repeatDur:"repeatDur",requiredExtensions:"requiredExtensions",requiredFeatures:"requiredFeatures",restart:0,result:0,rotate:0,rx:0,ry:0,scale:0,seed:0,shapeRendering:"shape-rendering",slope:0,spacing:0,specularConstant:"specularConstant",specularExponent:"specularExponent",speed:0,spreadMethod:"spreadMethod",startOffset:"startOffset",stdDeviation:"stdDeviation",stemh:0,stemv:0,stitchTiles:"stitchTiles",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",string:0,stroke:0,strokeDasharray:"stroke-dasharray",strokeDashoffset:"stroke-dashoffset",strokeLinecap:"stroke-linecap",strokeLinejoin:"stroke-linejoin",strokeMiterlimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",surfaceScale:"surfaceScale",systemLanguage:"systemLanguage",tableValues:"tableValues",targetX:"targetX",targetY:"targetY",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",textLength:"textLength",to:0,transform:0,u1:0,u2:0,underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicode:0,unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",values:0,vectorEffect:"vector-effect",version:0,vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",viewBox:"viewBox",viewTarget:"viewTarget",visibility:0,widths:0,wordSpacing:"word-spacing",writingMode:"writing-mode",x:0,xHeight:"x-height",x1:0,x2:0,xChannelSelector:"xChannelSelector",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlns:0,xmlnsXlink:"xmlns:xlink",xmlLang:"xml:lang",xmlSpace:"xml:space",y:0,y1:0,y2:0,yChannelSelector:"yChannelSelector",z:0,zoomAndPan:"zoomAndPan"},i={Properties:{},DOMAttributeNamespaces:{xlinkActuate:r.xlink,xlinkArcrole:r.xlink,xlinkHref:r.xlink,xlinkRole:r.xlink,xlinkShow:r.xlink,xlinkTitle:r.xlink,xlinkType:r.xlink,xmlBase:r.xml,xmlLang:r.xml,xmlSpace:r.xml},DOMAttributeNames:{}};Object.keys(o).forEach(function(e){i.Properties[e]=0,o[e]&&(i.DOMAttributeNames[e]=o[e])}),t.exports=i},{}],74:[function(e,t,n){"use strict";function r(e){if("selectionStart"in e&&u.hasSelectionCapabilities(e))return{start:e.selectionStart,end:e.selectionEnd};if(window.getSelection){var t=window.getSelection();return{anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}}if(document.selection){var n=document.selection.createRange();return{parentElement:n.parentElement(),text:n.text,top:n.boundingTop,left:n.boundingLeft}}}function o(e,t){if(y||null==m||m!==c())return null;var n=r(m);if(!g||!d(g,n)){g=n;var o=l.getPooled(h.select,v,e,t);return o.type="select",o.target=m,i.accumulateTwoPhaseDispatches(o),o}return null}var i=e(19),a=e(124),s=e(33),u=e(56),l=e(80),c=e(133),p=e(111),d=e(142),f=a.canUseDOM&&"documentMode"in document&&document.documentMode<=11,h={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:["topBlur","topContextMenu","topFocus","topKeyDown","topKeyUp","topMouseDown","topMouseUp","topSelectionChange"]}},m=null,v=null,g=null,y=!1,_=!1,C={eventTypes:h,extractEvents:function(e,t,n,r){if(!_)return null;var i=t?s.getNodeFromInstance(t):window;switch(e){case"topFocus":(p(i)||"true"===i.contentEditable)&&(m=i,v=t,g=null);break;case"topBlur":m=null,v=null,g=null;break;case"topMouseDown":y=!0;break;case"topContextMenu":case"topMouseUp":return y=!1,o(n,r);case"topSelectionChange":if(f)break;case"topKeyDown":case"topKeyUp":return o(n,r)}return null},didPutListener:function(e,t,n){"onSelect"===t&&(_=!0)}};t.exports=C},{111:111,124:124,133:133,142:142,19:19,33:33,56:56,80:80}],75:[function(e,t,n){"use strict";function r(e){return"."+e._rootNodeID}function o(e){return"button"===e||"input"===e||"select"===e||"textarea"===e}var i=e(113),a=e(123),s=e(19),u=e(33),l=e(76),c=e(77),p=e(80),d=e(81),f=e(83),h=e(84),m=e(79),v=e(85),g=e(86),y=e(87),_=e(88),C=e(130),b=e(99),E=(e(138),{}),x={};["abort","animationEnd","animationIteration","animationStart","blur","canPlay","canPlayThrough","click","contextMenu","copy","cut","doubleClick","drag","dragEnd","dragEnter","dragExit","dragLeave","dragOver","dragStart","drop","durationChange","emptied","encrypted","ended","error","focus","input","invalid","keyDown","keyPress","keyUp","load","loadedData","loadedMetadata","loadStart","mouseDown","mouseMove","mouseOut","mouseOver","mouseUp","paste","pause","play","playing","progress","rateChange","reset","scroll","seeked","seeking","stalled","submit","suspend","timeUpdate","touchCancel","touchEnd","touchMove","touchStart","transitionEnd","volumeChange","waiting","wheel"].forEach(function(e){var t=e[0].toUpperCase()+e.slice(1),n="on"+t,r="top"+t,o={phasedRegistrationNames:{bubbled:n,captured:n+"Capture"},dependencies:[r]};E[e]=o,x[r]=o});var w={},T={eventTypes:E,extractEvents:function(e,t,n,r){var o=x[e];if(!o)return null;var a;switch(e){case"topAbort":case"topCanPlay":case"topCanPlayThrough":case"topDurationChange":case"topEmptied":case"topEncrypted":case"topEnded":case"topError":case"topInput":case"topInvalid":case"topLoad":case"topLoadedData":case"topLoadedMetadata":case"topLoadStart":case"topPause":case"topPlay":case"topPlaying":case"topProgress":case"topRateChange":case"topReset":case"topSeeked":case"topSeeking":case"topStalled":case"topSubmit":case"topSuspend":case"topTimeUpdate":case"topVolumeChange":case"topWaiting":a=p;break;case"topKeyPress":if(0===b(n))return null;case"topKeyDown":case"topKeyUp":a=f;break;case"topBlur":case"topFocus":a=d;break;case"topClick":if(2===n.button)return null;case"topDoubleClick":case"topMouseDown":case"topMouseMove":case"topMouseUp":case"topMouseOut":case"topMouseOver":case"topContextMenu":a=h;break;case"topDrag":case"topDragEnd":case"topDragEnter":case"topDragExit":case"topDragLeave":case"topDragOver":case"topDragStart":case"topDrop":a=m;break;case"topTouchCancel":case"topTouchEnd":case"topTouchMove":case"topTouchStart":a=v;break;case"topAnimationEnd":case"topAnimationIteration":case"topAnimationStart":a=l;break;case"topTransitionEnd":a=g;break;case"topScroll":a=y;break;case"topWheel":a=_;break;case"topCopy":case"topCut":case"topPaste":a=c}a||i("86",e);var u=a.getPooled(o,t,n,r);return s.accumulateTwoPhaseDispatches(u),u},didPutListener:function(e,t,n){if("onClick"===t&&!o(e._tag)){var i=r(e),s=u.getNodeFromInstance(e);w[i]||(w[i]=a.listen(s,"click",C))}},willDeleteListener:function(e,t){if("onClick"===t&&!o(e._tag)){var n=r(e);w[n].remove(),delete w[n]}}};t.exports=T},{113:113,123:123,130:130,138:138,19:19,33:33,76:76,77:77,79:79,80:80,81:81,83:83,84:84,85:85,86:86,87:87,88:88,99:99}],76:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(80),i={animationName:null,elapsedTime:null,pseudoElement:null};o.augmentClass(r,i),t.exports=r},{80:80}],77:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(80),i={clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}};o.augmentClass(r,i),t.exports=r},{80:80}],78:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(80),i={data:null};o.augmentClass(r,i),t.exports=r},{80:80}],79:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(84),i={dataTransfer:null};o.augmentClass(r,i),t.exports=r},{84:84}],80:[function(e,t,n){"use strict";function r(e,t,n,r){this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n;var o=this.constructor.Interface;for(var i in o)if(o.hasOwnProperty(i)){var s=o[i];s?this[i]=s(n):"target"===i?this.target=r:this[i]=n[i]}var u=null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue;return this.isDefaultPrevented=u?a.thatReturnsTrue:a.thatReturnsFalse,this.isPropagationStopped=a.thatReturnsFalse,this}var o=e(144),i=e(24),a=e(130),s=(e(143),["dispatchConfig","_targetInst","nativeEvent","isDefaultPrevented","isPropagationStopped","_dispatchListeners","_dispatchInstances"]),u={type:null,target:null,currentTarget:a.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};o(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=a.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=a.thatReturnsTrue)},persist:function(){this.isPersistent=a.thatReturnsTrue},isPersistent:a.thatReturnsFalse,destructor:function(){var e=this.constructor.Interface;for(var t in e)this[t]=null;for(var n=0;n<s.length;n++)this[s[n]]=null}}),r.Interface=u,r.augmentClass=function(e,t){var n=this,r=function(){};r.prototype=n.prototype;var a=new r;o(a,e.prototype),e.prototype=a,e.prototype.constructor=e,e.Interface=o({},n.Interface,t),e.augmentClass=n.augmentClass,i.addPoolingTo(e,i.fourArgumentPooler)},i.addPoolingTo(r,i.fourArgumentPooler),t.exports=r},{130:130,143:143,144:144,24:24}],81:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(87),i={relatedTarget:null};o.augmentClass(r,i),t.exports=r},{87:87}],82:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(80),i={data:null};o.augmentClass(r,i),t.exports=r},{80:80}],83:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(87),i=e(99),a=e(100),s=e(101),u={key:a,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:s,charCode:function(e){return"keypress"===e.type?i(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?i(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}};o.augmentClass(r,u),t.exports=r},{100:100,101:101,87:87,99:99}],84:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(87),i=e(90),a=e(101),s={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:a,button:function(e){var t=e.button;return"which"in e?t:2===t?2:4===t?1:0},buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},pageX:function(e){return"pageX"in e?e.pageX:e.clientX+i.currentScrollLeft},pageY:function(e){return"pageY"in e?e.pageY:e.clientY+i.currentScrollTop}};o.augmentClass(r,s),t.exports=r},{101:101,87:87,90:90}],85:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(87),i=e(101),a={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:i};o.augmentClass(r,a),t.exports=r},{101:101,87:87}],86:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(80),i={propertyName:null,elapsedTime:null,pseudoElement:null};o.augmentClass(r,i),t.exports=r},{80:80}],87:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(80),i=e(102),a={view:function(e){if(e.view)return e.view;var t=i(e);if(t.window===t)return t;var n=t.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(e){return e.detail||0}};o.augmentClass(r,a),t.exports=r},{102:102,80:80}],88:[function(e,t,n){"use strict";function r(e,t,n,r){return o.call(this,e,t,n,r)}var o=e(84),i={deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null};o.augmentClass(r,i),t.exports=r},{84:84}],89:[function(e,t,n){"use strict";var r=e(113),o=(e(138),{}),i={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(e,t,n,o,i,a,s,u){this.isInTransaction()&&r("27");var l,c;try{this._isInTransaction=!0,l=!0,this.initializeAll(0),c=e.call(t,n,o,i,a,s,u),l=!1}finally{try{if(l)try{this.closeAll(0)}catch(e){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return c},initializeAll:function(e){for(var t=this.transactionWrappers,n=e;n<t.length;n++){var r=t[n];try{this.wrapperInitData[n]=o,this.wrapperInitData[n]=r.initialize?r.initialize.call(this):null}finally{if(this.wrapperInitData[n]===o)try{this.initializeAll(n+1)}catch(e){}}}},closeAll:function(e){this.isInTransaction()||r("28");for(var t=this.transactionWrappers,n=e;n<t.length;n++){var i,a=t[n],s=this.wrapperInitData[n];try{i=!0,s!==o&&a.close&&a.close.call(this,s),i=!1}finally{if(i)try{this.closeAll(n+1)}catch(e){}}}this.wrapperInitData.length=0}};t.exports=i},{113:113,138:138}],90:[function(e,t,n){"use strict";var r={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(e){r.currentScrollLeft=e.x,r.currentScrollTop=e.y}};t.exports=r},{}],91:[function(e,t,n){"use strict";function r(e,t){return null==t&&o("30"),null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}var o=e(113);e(138);t.exports=r},{113:113,138:138}],92:[function(e,t,n){"use strict";function r(e){for(var t=1,n=0,r=0,i=e.length,a=-4&i;r<a;){for(var s=Math.min(r+4096,a);r<s;r+=4)n+=(t+=e.charCodeAt(r))+(t+=e.charCodeAt(r+1))+(t+=e.charCodeAt(r+2))+(t+=e.charCodeAt(r+3));t%=o,n%=o}for(;r<i;r++)n+=t+=e.charCodeAt(r);return t%=o,n%=o,t|n<<16}var o=65521;t.exports=r},{}],93:[function(e,t,n){"use strict";var r=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e};t.exports=r},{}],94:[function(e,t,n){"use strict";function r(e,t,n,r){if(null==t||"boolean"==typeof t||""===t)return"";var o=isNaN(t);return r||o||0===t||i.hasOwnProperty(e)&&i[e]?""+t:("string"==typeof t&&(t=t.trim()),t+"px")}var o=e(4),i=(e(143),o.isUnitlessNumber);t.exports=r},{143:143,4:4}],95:[function(e,t,n){"use strict";function r(e){var t=""+e,n=i.exec(t);if(!n)return t;var r,o="",a=0,s=0;for(a=n.index;a<t.length;a++){switch(t.charCodeAt(a)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 39:r="&#x27;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}s!==a&&(o+=t.substring(s,a)),s=a+1,o+=r}return s!==a?o+t.substring(s,a):o}function o(e){return"boolean"==typeof e||"number"==typeof e?""+e:r(e)}var i=/["'&<>]/;t.exports=o},{}],96:[function(e,t,n){"use strict";function r(e){if(null==e)return null;if(1===e.nodeType)return e;var t=a.get(e);if(t)return t=s(t),t?i.getNodeFromInstance(t):null;"function"==typeof e.render?o("44"):o("45",Object.keys(e))}var o=e(113),i=(e(120),e(33)),a=e(57),s=e(103);e(138),e(143);t.exports=r},{103:103,113:113,120:120,138:138,143:143,33:33,57:57}],97:[function(e,t,n){(function(n){"use strict";function r(e,t,n,r){if(e&&"object"==typeof e){var o=e;void 0===o[n]&&null!=t&&(o[n]=t)}}function o(e,t){if(null==e)return e;var n={};return i(e,r,n),n}var i=(e(22),e(118));e(143);void 0!==n&&n.env,t.exports=o}).call(this,void 0)},{118:118,143:143,22:22}],98:[function(e,t,n){"use strict";function r(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}t.exports=r},{}],99:[function(e,t,n){"use strict";function r(e){var t,n=e.keyCode;return"charCode"in e?0===(t=e.charCode)&&13===n&&(t=13):t=n,t>=32||13===t?t:0}t.exports=r},{}],100:[function(e,t,n){"use strict";function r(e){if(e.key){var t=i[e.key]||e.key;if("Unidentified"!==t)return t}if("keypress"===e.type){var n=o(e);return 13===n?"Enter":String.fromCharCode(n)}return"keydown"===e.type||"keyup"===e.type?a[e.keyCode]||"Unidentified":""}var o=e(99),i={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};t.exports=r},{99:99}],101:[function(e,t,n){"use strict";function r(e){var t=this,n=t.nativeEvent;if(n.getModifierState)return n.getModifierState(e);var r=i[e];return!!r&&!!n[r]}function o(e){return r}var i={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};t.exports=o},{}],102:[function(e,t,n){"use strict";function r(e){var t=e.target||e.srcElement||window;return t.correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}t.exports=r},{}],103:[function(e,t,n){"use strict";function r(e){for(var t;(t=e._renderedNodeType)===o.COMPOSITE;)e=e._renderedComponent;return t===o.HOST?e._renderedComponent:t===o.EMPTY?null:void 0}var o=e(62);t.exports=r},{62:62}],104:[function(e,t,n){"use strict";function r(e){var t=e&&(o&&e[o]||e[i]);if("function"==typeof t)return t}var o="function"==typeof Symbol&&Symbol.iterator,i="@@iterator";t.exports=r},{}],105:[function(e,t,n){"use strict";function r(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function o(e){for(;e;){if(e.nextSibling)return e.nextSibling;e=e.parentNode}}function i(e,t){for(var n=r(e),i=0,a=0;n;){if(3===n.nodeType){if(a=i+n.textContent.length,i<=t&&a>=t)return{node:n,offset:t-i};i=a}n=r(o(n))}}t.exports=i},{}],106:[function(e,t,n){"use strict";function r(){return!i&&o.canUseDOM&&(i="textContent"in document.documentElement?"textContent":"innerText"),i}var o=e(124),i=null;t.exports=r},{124:124}],107:[function(e,t,n){"use strict";function r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n["ms"+e]="MS"+t,n["O"+e]="o"+t.toLowerCase(),n}function o(e){if(s[e])return s[e];if(!a[e])return e;var t=a[e];for(var n in t)if(t.hasOwnProperty(n)&&n in u)return s[e]=t[n];return""}var i=e(124),a={animationend:r("Animation","AnimationEnd"),animationiteration:r("Animation","AnimationIteration"),animationstart:r("Animation","AnimationStart"),transitionend:r("Transition","TransitionEnd")},s={},u={};i.canUseDOM&&(u=document.createElement("div").style,"AnimationEvent"in window||(delete a.animationend.animation,delete a.animationiteration.animation,delete a.animationstart.animation),"TransitionEvent"in window||delete a.transitionend.transition),t.exports=o},{124:124}],108:[function(e,t,n){"use strict";function r(e){var t=e.type,n=e.nodeName;return n&&"input"===n.toLowerCase()&&("checkbox"===t||"radio"===t)}function o(e){return e._wrapperState.valueTracker}function i(e,t){e._wrapperState.valueTracker=t}function a(e){delete e._wrapperState.valueTracker}function s(e){var t;return e&&(t=r(e)?""+e.checked:e.value),t}var u=e(33),l={_getTrackerFromNode:function(e){return o(u.getInstanceFromNode(e))},track:function(e){if(!o(e)){var t=u.getNodeFromInstance(e),n=r(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];t.hasOwnProperty(n)||"function"!=typeof s.get||"function"!=typeof s.set||(Object.defineProperty(t,n,{enumerable:s.enumerable,configurable:!0,get:function(){return s.get.call(this)},set:function(e){l=""+e,s.set.call(this,e)}}),i(e,{getValue:function(){return l},setValue:function(e){l=""+e},stopTracking:function(){a(e),delete t[n]}}))}},updateValueIfChanged:function(e){if(!e)return!1;var t=o(e);if(!t)return l.track(e),!0;var n=t.getValue(),r=s(u.getNodeFromInstance(e));return r!==n&&(t.setValue(r),!0)},stopTracking:function(e){var t=o(e);t&&t.stopTracking()}};t.exports=l},{33:33}],109:[function(e,t,n){"use strict";function r(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}function o(e){return"function"==typeof e&&void 0!==e.prototype&&"function"==typeof e.prototype.mountComponent&&"function"==typeof e.prototype.receiveComponent}function i(e,t){var n;if(null===e||!1===e)n=l.create(i);else if("object"==typeof e){var s=e,u=s.type;if("function"!=typeof u&&"string"!=typeof u){var d="";d+=r(s._owner),a("130",null==u?u:typeof u,d)}"string"==typeof s.type?n=c.createInternalComponent(s):o(s.type)?(n=new s.type(s),n.getHostNode||(n.getHostNode=n.getNativeNode)):n=new p(s)}else"string"==typeof e||"number"==typeof e?n=c.createInstanceForText(e):a("131",typeof e);return n._mountIndex=0,n._mountImage=null,n}var a=e(113),s=e(144),u=e(29),l=e(49),c=e(54),p=(e(122),e(138),e(143),function(e){this.construct(e)});s(p.prototype,u,{_instantiateReactComponent:i}),t.exports=i},{113:113,122:122,138:138,143:143,144:144,29:29,49:49,54:54}],110:[function(e,t,n){"use strict";function r(e,t){if(!i.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,r=n in document;if(!r){var a=document.createElement("div");a.setAttribute(n,"return;"),r="function"==typeof a[n]}return!r&&o&&"wheel"===e&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var o,i=e(124);i.canUseDOM&&(o=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("","")),t.exports=r},{124:124}],111:[function(e,t,n){"use strict";function r(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!o[e.type]:"textarea"===t}var o={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};t.exports=r},{}],112:[function(e,t,n){"use strict";function r(e){return'"'+o(e)+'"'}var o=e(95);t.exports=r},{95:95}],113:[function(e,t,n){"use strict";function r(e){for(var t=arguments.length-1,n="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);n+=" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.";var o=new Error(n);throw o.name="Invariant Violation",o.framesToPop=1,o}t.exports=r},{}],114:[function(e,t,n){"use strict";var r=e(60);t.exports=r.renderSubtreeIntoContainer},{60:60}],115:[function(e,t,n){"use strict";var r,o=e(124),i=e(10),a=/^[ \r\n\t\f]/,s=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,u=e(93),l=u(function(e,t){if(e.namespaceURI!==i.svg||"innerHTML"in e)e.innerHTML=t;else{r=r||document.createElement("div"),r.innerHTML="<svg>"+t+"</svg>";for(var n=r.firstChild;n.firstChild;)e.appendChild(n.firstChild)}});if(o.canUseDOM){var c=document.createElement("div");c.innerHTML=" ",""===c.innerHTML&&(l=function(e,t){if(e.parentNode&&e.parentNode.replaceChild(e,e),a.test(t)||"<"===t[0]&&s.test(t)){e.innerHTML=String.fromCharCode(65279)+t;var n=e.firstChild;1===n.data.length?e.removeChild(n):n.deleteData(0,1)}else e.innerHTML=t}),c=null}t.exports=l},{10:10,124:124,93:93}],116:[function(e,t,n){"use strict";var r=e(124),o=e(95),i=e(115),a=function(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t};r.canUseDOM&&("textContent"in document.documentElement||(a=function(e,t){if(3===e.nodeType)return void(e.nodeValue=t);i(e,o(t))})),t.exports=a},{115:115,124:124,95:95}],117:[function(e,t,n){"use strict";function r(e,t){var n=null===e||!1===e,r=null===t||!1===t;if(n||r)return n===r;var o=typeof e,i=typeof t;return"string"===o||"number"===o?"string"===i||"number"===i:"object"===i&&e.type===t.type&&e.key===t.key}t.exports=r},{}],118:[function(e,t,n){"use strict";function r(e,t){return e&&"object"==typeof e&&null!=e.key?l.escape(e.key):t.toString(36)}function o(e,t,n,i){var d=typeof e;if("undefined"!==d&&"boolean"!==d||(e=null),null===e||"string"===d||"number"===d||"object"===d&&e.$$typeof===s)return n(i,e,""===t?c+r(e,0):t),1;var f,h,m=0,v=""===t?c:t+p;if(Array.isArray(e))for(var g=0;g<e.length;g++)f=e[g],h=v+r(f,g),m+=o(f,h,n,i);else{var y=u(e);if(y){var _,C=y.call(e);if(y!==e.entries)for(var b=0;!(_=C.next()).done;)f=_.value,h=v+r(f,b++),m+=o(f,h,n,i);else for(;!(_=C.next()).done;){var E=_.value;E&&(f=E[1],h=v+l.escape(E[0])+p+r(f,0),m+=o(f,h,n,i))}}else if("object"===d){var x=String(e);a("31","[object Object]"===x?"object with keys {"+Object.keys(e).join(", ")+"}":x,"")}}return m}function i(e,t,n){return null==e?0:o(e,"",t,n)}var a=e(113),s=(e(120),e(48)),u=e(104),l=(e(138),e(22)),c=(e(143),"."),p=":";t.exports=i},{104:104,113:113,120:120,138:138,143:143,22:22,48:48}],119:[function(e,t,n){"use strict";var r=(e(144),e(130)),o=(e(143),r);t.exports=o},{130:130,143:143,144:144}],120:[function(t,n,r){"use strict";var o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;n.exports=o.ReactCurrentOwner},{}],121:[function(t,n,r){"use strict";n.exports=e},{}],122:[function(t,n,r){"use strict";var o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;n.exports=o.getNextDebugID},{}],123:[function(e,t,n){"use strict";var r=e(130),o={listen:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}}):e.attachEvent?(e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}):void 0},capture:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!0),{remove:function(){e.removeEventListener(t,n,!0)}}):{remove:r}},registerDefault:function(){}};t.exports=o},{130:130}],124:[function(e,t,n){"use strict";var r=!("undefined"==typeof window||!window.document||!window.document.createElement),o={canUseDOM:r,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};t.exports=o},{}],125:[function(e,t,n){"use strict";function r(e){return e.replace(o,function(e,t){return t.toUpperCase()})}var o=/-(.)/g;t.exports=r},{}],126:[function(e,t,n){"use strict";function r(e){return o(e.replace(i,"ms-"))}var o=e(125),i=/^-ms-/;t.exports=r},{125:125}],127:[function(e,t,n){"use strict";function r(e,t){return!(!e||!t)&&(e===t||!o(e)&&(o(t)?r(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}var o=e(140);t.exports=r},{140:140}],128:[function(e,t,n){"use strict";function r(e){var t=e.length;if((Array.isArray(e)||"object"!=typeof e&&"function"!=typeof e)&&a(!1),"number"!=typeof t&&a(!1),0===t||t-1 in e||a(!1),"function"==typeof e.callee&&a(!1),e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(e){}for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}function o(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}function i(e){return o(e)?Array.isArray(e)?e.slice():r(e):[e]}var a=e(138);t.exports=i},{138:138}],129:[function(e,t,n){"use strict";function r(e){var t=e.match(c);return t&&t[1].toLowerCase()}function o(e,t){var n=l;l||u(!1);var o=r(e),i=o&&s(o);if(i){n.innerHTML=i[1]+e+i[2];for(var c=i[0];c--;)n=n.lastChild}else n.innerHTML=e;var p=n.getElementsByTagName("script");p.length&&(t||u(!1),a(p).forEach(t));for(var d=Array.from(n.childNodes);n.lastChild;)n.removeChild(n.lastChild);return d}var i=e(124),a=e(128),s=e(134),u=e(138),l=i.canUseDOM?document.createElement("div"):null,c=/^\s*<(\w+)/;t.exports=o},{124:124,128:128,134:134,138:138}],130:[function(e,t,n){"use strict";function r(e){return function(){return e}}var o=function(){};o.thatReturns=r,o.thatReturnsFalse=r(!1),o.thatReturnsTrue=r(!0),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},t.exports=o},{}],131:[function(e,t,n){"use strict";var r={};t.exports=r},{}],132:[function(e,t,n){"use strict";function r(e){try{e.focus()}catch(e){}}t.exports=r},{}],133:[function(e,t,n){"use strict";function r(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}t.exports=r},{}],134:[function(e,t,n){"use strict";function r(e){return a||i(!1),d.hasOwnProperty(e)||(e="*"),s.hasOwnProperty(e)||(a.innerHTML="*"===e?"<link />":"<"+e+"></"+e+">",s[e]=!a.firstChild),s[e]?d[e]:null}var o=e(124),i=e(138),a=o.canUseDOM?document.createElement("div"):null,s={},u=[1,'<select multiple="true">',"</select>"],l=[1,"<table>","</table>"],c=[3,"<table><tbody><tr>","</tr></tbody></table>"],p=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],d={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:u,option:u,caption:l,colgroup:l,tbody:l,tfoot:l,thead:l,td:c,th:c};["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"].forEach(function(e){d[e]=p,s[e]=!0}),t.exports=r},{124:124,138:138}],135:[function(e,t,n){"use strict";function r(e){return e.Window&&e instanceof e.Window?{x:e.pageXOffset||e.document.documentElement.scrollLeft,y:e.pageYOffset||e.document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}t.exports=r},{}],136:[function(e,t,n){"use strict";function r(e){return e.replace(o,"-$1").toLowerCase()}var o=/([A-Z])/g;t.exports=r},{}],137:[function(e,t,n){"use strict";function r(e){return o(e).replace(i,"-ms-")}var o=e(136),i=/^ms-/;t.exports=r},{136:136}],138:[function(e,t,n){"use strict";function r(e,t,n,r,i,a,s,u){if(o(t),!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,a,s,u],p=0;l=new Error(t.replace(/%s/g,function(){return c[p++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}}var o=function(e){};t.exports=r},{}],139:[function(e,t,n){"use strict";function r(e){var t=e?e.ownerDocument||e:document,n=t.defaultView||window;return!(!e||!("function"==typeof n.Node?e instanceof n.Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}t.exports=r},{}],140:[function(e,t,n){"use strict";function r(e){return o(e)&&3==e.nodeType}var o=e(139);t.exports=r},{139:139}],141:[function(e,t,n){"use strict";function r(e){var t={};return function(n){return t.hasOwnProperty(n)||(t[n]=e.call(this,n)),t[n]}}t.exports=r},{}],142:[function(e,t,n){"use strict";function r(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!==e&&t!==t}function o(e,t){if(r(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(var a=0;a<n.length;a++)if(!i.call(t,n[a])||!r(e[n[a]],t[n[a]]))return!1;return!0}var i=Object.prototype.hasOwnProperty;t.exports=o},{}],143:[function(e,t,n){"use strict";var r=e(130),o=r;t.exports=o},{130:130}],144:[function(e,t,n){"use strict";function r(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var o=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,u=r(e),l=1;l<arguments.length;l++){n=Object(arguments[l]);for(var c in n)i.call(n,c)&&(u[c]=n[c]);if(o){s=o(n);for(var p=0;p<s.length;p++)a.call(n,s[p])&&(u[s[p]]=n[s[p]])}}return u}},{}],145:[function(e,t,n){"use strict";function r(e,t,n,r,o){}t.exports=r},{138:138,143:143,148:148}],146:[function(e,t,n){"use strict";var r=e(147);t.exports=function(e){return r(e,!1)}},{147:147}],147:[function(e,t,n){"use strict";var r=e(130),o=e(138),i=e(143),a=e(148),s=e(145);t.exports=function(e,t){function n(e){var t=e&&(w&&e[w]||e[T]);if("function"==typeof t)return t}function u(e,t){return e===t?0!==e||1/e==1/t:e!==e&&t!==t}function l(e){this.message=e,this.stack=""}function c(e){function n(n,r,i,s,u,c,p){if(s=s||k,c=c||i,p!==a)if(t)o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else;return null==r[i]?n?new l(null===r[i]?"The "+u+" `"+c+"` is marked as required in `"+s+"`, but its value is `null`.":"The "+u+" `"+c+"` is marked as required in `"+s+"`, but its value is `undefined`."):null:e(r,i,s,u,c)}var r=n.bind(null,!1);return r.isRequired=n.bind(null,!0),r}function p(e){function t(t,n,r,o,i,a){var s=t[n];if(C(s)!==e)return new l("Invalid "+o+" `"+i+"` of type `"+b(s)+"` supplied to `"+r+"`, expected `"+e+"`.");return null}return c(t)}function d(e){function t(t,n,r,o,i){if("function"!=typeof e)return new l("Property `"+i+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var s=t[n];if(!Array.isArray(s)){return new l("Invalid "+o+" `"+i+"` of type `"+C(s)+"` supplied to `"+r+"`, expected an array.")}for(var u=0;u<s.length;u++){var c=e(s,u,r,o,i+"["+u+"]",a);if(c instanceof Error)return c}return null}return c(t)}function f(e){function t(t,n,r,o,i){if(!(t[n]instanceof e)){var a=e.name||k;return new l("Invalid "+o+" `"+i+"` of type `"+x(t[n])+"` supplied to `"+r+"`, expected instance of `"+a+"`.")}return null}return c(t)}function h(e){function t(t,n,r,o,i){for(var a=t[n],s=0;s<e.length;s++)if(u(a,e[s]))return null;return new l("Invalid "+o+" `"+i+"` of value `"+a+"` supplied to `"+r+"`, expected one of "+JSON.stringify(e)+".")}return Array.isArray(e)?c(t):r.thatReturnsNull}function m(e){function t(t,n,r,o,i){if("function"!=typeof e)return new l("Property `"+i+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var s=t[n],u=C(s);if("object"!==u)return new l("Invalid "+o+" `"+i+"` of type `"+u+"` supplied to `"+r+"`, expected an object.");for(var c in s)if(s.hasOwnProperty(c)){var p=e(s,c,r,o,i+"."+c,a);if(p instanceof Error)return p}return null}return c(t)}function v(e){function t(t,n,r,o,i){for(var s=0;s<e.length;s++){if(null==(0,e[s])(t,n,r,o,i,a))return null}return new l("Invalid "+o+" `"+i+"` supplied to `"+r+"`.")}if(!Array.isArray(e))return r.thatReturnsNull;for(var n=0;n<e.length;n++){var o=e[n];if("function"!=typeof o)return i(!1,"Invalid argument supplid to oneOfType. Expected an array of check functions, but received %s at index %s.",E(o),n),r.thatReturnsNull}return c(t)}function g(e){function t(t,n,r,o,i){var s=t[n],u=C(s);if("object"!==u)return new l("Invalid "+o+" `"+i+"` of type `"+u+"` supplied to `"+r+"`, expected `object`.");for(var c in e){var p=e[c];if(p){var d=p(s,c,r,o,i+"."+c,a);if(d)return d}}return null}return c(t)}function y(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(y);if(null===t||e(t))return!0;var r=n(t);if(!r)return!1;var o,i=r.call(t);if(r!==t.entries){for(;!(o=i.next()).done;)if(!y(o.value))return!1}else for(;!(o=i.next()).done;){var a=o.value;if(a&&!y(a[1]))return!1}return!0;default:return!1}}function _(e,t){return"symbol"===e||("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}function C(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":_(t,e)?"symbol":t}function b(e){if(void 0===e||null===e)return""+e;var t=C(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function E(e){var t=b(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}function x(e){return e.constructor&&e.constructor.name?e.constructor.name:k}var w="function"==typeof Symbol&&Symbol.iterator,T="@@iterator",k="<<anonymous>>",P={array:p("array"),bool:p("boolean"),func:p("function"),number:p("number"),object:p("object"),string:p("string"),symbol:p("symbol"),any:function(){return c(r.thatReturnsNull)}(),arrayOf:d,element:function(){function t(t,n,r,o,i){var a=t[n];if(!e(a)){return new l("Invalid "+o+" `"+i+"` of type `"+C(a)+"` supplied to `"+r+"`, expected a single ReactElement.")}return null}return c(t)}(),instanceOf:f,node:function(){function e(e,t,n,r,o){return y(e[t])?null:new l("Invalid "+r+" `"+o+"` supplied to `"+n+"`, expected a ReactNode.")}return c(e)}(),objectOf:m,oneOf:h,oneOfType:v,shape:g};return l.prototype=Error.prototype,P.checkPropTypes=s,P.PropTypes=P,P}},{130:130,138:138,143:143,145:145,148:148}],148:[function(e,t,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},{}]},{},[45])(45)}()}()});;!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","react-dom"],t):"object"==typeof exports?exports.SharedWidgets=t(require("react"),require("react-dom")):e.SharedWidgets=t(e.React,e.ReactDOM)}(this,function(e,t){return function(e){function t(n){if(o[n])return o[n].exports;var i=o[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var o={};return t.m=e,t.c=o,t.p="/dist/",t(0)}([function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(1);t.SuppressClickBustingClass=n.SuppressClickBustingClass;var i=o(2);t.setConfig=i.setConfig;var r=o(3);t.TabStyles=r.TabStyles;var s=o(4);t.assign=s.assign;var a=o(9);t.conditional=a.conditional,t.testId=a.testId,t.isAlphabeticChar=a.isAlphabeticChar;var l=o(10);t.InteractiveDomHoC=l.InteractiveDomHoC,t.InteractiveDomHoCDecorator=l.InteractiveDomHoCDecorator,t.InteractiveDomWrapper=l.InteractiveDomWrapper;var d=o(17);t.VerticalOriginOption=d.VerticalOriginOption,t.HorizontalOriginOption=d.HorizontalOriginOption,t.Overlay=d.Overlay;var c=o(14);t.PointerEventAdapterManager=c.PointerEventAdapterManager;var u=o(12);t.PointerEventWrapper=u.PointerEventWrapper,t.PointerEventHoC=u.PointerEventHoC,t.PointerEventHoCDecorator=u.PointerEventHoCDecorator;var p=o(15);t.mergeEventHandlers=p.mergeEventHandlers,t.convertToStatefulComponentClass=p.convertToStatefulComponentClass,t.getComponentName=p.getComponentName;var h=o(27);t.StackingComponentHOC=h.StackingComponentHOC,t.StackingComponentWrapper=h.StackingComponentWrapper;var g=o(28);t.HostedStackedElementContainer=g.HostedStackedElementContainer;var y=o(29);t.SingletonStyleSheet=y.SingletonStyleSheet,t.StyleSheet=y.StyleSheet;var I=o(30);t.Unicode=I.Unicode;var f=o(31);t.isMouseEvent=f.isMouseEvent,t.isTouchEvent=f.isTouchEvent,t.getClientPosition=f.getClientPosition;var b=o(32);t.ButtonType=b.ButtonType,t.ButtonWidget=b.ButtonWidget;var m=o(35);t.CheckBoxWidget=m.CheckBoxWidget;var v=o(38);t.CheckBoxWithLabelGroupWidget=v.CheckBoxWithLabelGroupWidget;var M=o(39);t.CheckBoxWithLabelWidget=M.CheckBoxWithLabelWidget;var L=o(41);t.DateTimeInputWidget=L.DateTimeInputWidget,t.DateTimeInputType=L.DateTimeInputType;var w=o(47);t.DialogPositioningBehavior=w.DialogPositioningBehavior,t.DialogType=w.DialogType,t.DialogWidget=w.DialogWidget;var C=o(62);t.DialogFooterButtonsWidget=C.DialogFooterButtonsWidget;var D=o(63);t.DiscreteProgressBarWidget_UNFINISHED=D.DiscreteProgressBarWidget_UNFINISHED;var S=o(36);t.Block=S.Block,t.InlineBlock=S.InlineBlock,t.Img=S.Img;var T=o(65);t.DropdownWidget=T.DropdownWidget;var H=o(66);t.DropdownType=H.DropdownType,t.GenericDropdownWidget=H.GenericDropdownWidget;var j=o(34);t.DynamicThemeComponent=j.DynamicThemeComponent;var P=o(75);t.FlyoutListMenuWidget=P.FlyoutListMenuWidget;var x=o(68);t.GenericFlyoutListMenuWidget=x.GenericFlyoutListMenuWidget;var N=o(40);t.InputLabelWidget=N.InputLabelWidget;var A=o(76);t.LineTextFieldWidget=A.LineTextFieldWidget;var O=o(74);t.TextMenuDisplayFormatter=O.TextMenuDisplayFormatter;var z=o(42);t.OutlineTextFieldWidget=z.OutlineTextFieldWidget;var B=o(77);t.RadioLayoutType=B.RadioLayoutType,t.RadioButtonWithLabelGroupWidget=B.RadioButtonWithLabelGroupWidget;var E=o(80);t.RichTextEditOutlineWidget_UNFINISHED=E.RichTextEditOutlineWidget_UNFINISHED;var W=o(81);t.RichTextEditWidget_UNFINISHED=W.RichTextEditWidget_UNFINISHED;var k=o(82);t.SearchFieldWidget=k.SearchFieldWidget;var R=o(83);t.StepperType=R.StepperType,t.StepperWidget=R.StepperWidget;var Z=o(43);t.TextInputType=Z.TextInputType,t.TextFieldInputWidget=Z.TextFieldInputWidget;var _=o(88);t.ToggleTextWidget=_.ToggleTextWidget,t.SelectedToggle=_.SelectedToggle;var G=o(90);t.ColorGridWidget=G.ColorGridWidget,t.ColorGridPreset=G.ColorGridPreset;var F=o(91);t.ColorPickerWidget=F.ColorPickerWidget;var U=o(92);t.ActivitySpinnerWidget=U.ActivitySpinnerWidget;var Y=o(94);t.ContinuousSliderWidget=Y.ContinuousSliderWidget;var J=o(106);t.DiscreteSliderWidget=J.DiscreteSliderWidget;var V=o(107);t.OpenEndedRangeSliderWidget=V.OpenEndedRangeSliderWidget;var Q=o(108);t.RangeSliderWidget=Q.RangeSliderWidget},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SuppressClickBustingClass="tabDontBustMyClicks"},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(3),i=o(5),r=o(6),s=o(7),a=o(8),l=function(e){e.styleMediaQueries&&s.StyleMediaQueryManager.setMediaStyleQueries(e.styleMediaQueries)},d=function(e){e.styles&&(n.overrideTabStyles(e.styles),a.WidgetManager.rerenderWidgets())},c=function(e){e.defaultStackingRootId&&r.StackingRootConfig.setDefaultRootContainerId(e.defaultStackingRootId)},u=function(e){e.defaultScrollingRootId&&i.ScrollingRootConfig.setDefaultRootContainerId(e.defaultScrollingRootId)},p=function(e){d(e),c(e),u(e),l(e)};t.setConfig=p},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(4),i=6,r=i,s="Benton Sans, Arial, Helvetica, sans-serif",a=["#000000","#1B1B1B","#333333","#555555","#666666","#898989","#FFFFFF","#F5F5F5","#E6E6E6","#D4D4D4","#C0C0C0","#B4B4B4"],l=["#F28E2B","#F9A655","#FFBE7D","#B07AA1","#C290B4","#D4A6C8","#B6992D","#D3B348","#F1CE63","#D37295","#E799B3","#FABFD2","#59A14F","#72B966","#8CD17D","#E15759","#F17B79","#FF9D9A","#499894","#69AAA5","#86BCB6","#9D7660","#BA9582","#D7B5A6","#4E79A7","#75A1C7","#A0CBE8","#79706E","#998F8C","#BAB0AC","#606B76","#818B91","#A7ACAD","#76B7B2","#FF9DA7","#EDC948"],d=["#EFEBE8","#F5F1F0","#F9F8F7","#F0EAE8","#F5F0EF","#FAF5F4","#F5EDDC","#FAF4E7","#FEFAF1","#E9EBE0","#F0F1E8","#F7F7F0","#EBEBEB","#F2F2F2","#F9F9F9","#DFE7E8","#E9F0F1","#F2F9F9","#F3EBF3","#F7F1F6","#FBF7FB","#E2E6F0","#E9EDF5","#F0F3FA","#E6ECF0","#EEF1F3","#F2F6F7","#DDEBF0","#E7F1F5","#F0F7FA","#DFEDEB","#E9F3F2","#F3FAF9","#E8EDDA","#EFF3E3","#F7FAF0","#F5EAD7","#F6EEE3","#FAF5F0","#F9E9E0","#F9EEE8","#F9F3EF"],c={XXLarge:24,XLarge:18,Large:13,Default:12,Small:11,Tiny:10},u={PrimaryDark:"rgba(0, 0, 0, 0.90)",Primary:"rgba(0, 0, 0, 0.80)",PrimaryMedium:"rgba(0, 0, 0, 0.70)",PrimaryLight:"rgba(0, 0, 0, 0.60)",Secondary:"rgba(0, 0, 0, 0.56)",Disabled:"rgba(0, 0, 0, 0.35)",InvertedPrimary:"rgba(255, 255, 255, 1)",InvertedSecondary:"rgba(255, 255, 255, .56)",InvertedDisabled:"rgba(255, 255, 255, .35)"},p={Grey250:"rgb(250, 250, 250)",Grey245:"rgb(245, 245, 245)",Grey235:"rgb(235, 235, 235)",Grey230:"rgb(230, 230, 230)",Grey225:"rgb(225, 225, 225)",Grey212:"rgb(212, 212, 212)",Grey203:"rgb(203, 203, 203)",Grey180:"rgb(180, 180, 180)",Grey180Disabled:"rgba(180, 180, 180, 0.35)",Grey102:"rgb(102, 102, 102)",Grey51:"rgb(51, 51, 51)",Grey51Disabled:"rgba(51, 51, 51, 0.20)"},h={White:"rgb(255, 255, 255)",WhiteTransparent:"rgba(255, 255, 255, 0.25)",WhiteDisabled:"rgba(255, 255, 255, 0.35)",WhiteTransparentLine:"rgba(255, 255, 255, 0.5)",WhiteTransparentLineHover:"rgba(255, 255, 255, 0.8)",Black:"rgb(0, 0, 0)",Transparent:"rgba(0, 0, 0, 0)",ActionLight:"rgb(235, 143, 80)",ActionDark:"rgb(209, 107, 54)",AttentionLight:"rgb(235, 68, 84)",AttentionDark:"rgb(201, 58, 71)",AttentionDarkDisabled:"rgba(201, 58, 71, 0.35)",Continuous:"rgb(0, 177, 128)",ContinuousDark:"rgb(0, 151, 104)",Discrete:"rgb(73, 150, 178)",DiscreteDark:"rgb(54, 126,156)",GoLight:"rgb(45, 204, 151)",GoDark:"rgb(47, 163, 125)",GoDarkDisabled:"rgba(47, 163, 125, 0.35)",Shaded:"rgba(0, 0, 0, 0.07)",DesktopBlue:"rgb(53, 92, 128)",ServerBlue:"rgb(42, 87, 117)",OnlineBlue:"rgb(40, 94, 127)",OpaqueGlass:p.Grey245,Focus:"rgb(52, 152, 219)",L1:p.Grey250,L2:p.Grey245,L2_5:p.Grey235,L3:p.Grey230,L4:p.Grey225,L5:p.Grey212,L6:p.Grey203,L7:p.Grey180,L8:p.Grey102,L9:p.Grey51,L9Disabled:p.Grey51Disabled,F1:p.Grey250,F2:p.Grey245,F2_5:p.Grey235,F3:p.Grey230,F4:p.Grey225,F5:p.Grey212,F6:p.Grey203,F7:p.Grey180,F7Disabled:p.Grey180Disabled,F8:p.Grey102,F9:p.Grey51},g={Colors:h,Shadow:{High:"0px 4px 10px 0 rgba(0,0,0,0.1),0px 2px 10px 0px rgba(0,0,0,0.1)",Medium:"2px 2px 10px -2px rgba(0,0,0,.22)",Low:"rgba(51, 51, 51, 0.1) 1px 2px 1px 0"},Spacing:{SmallSpace:i/2,DefaultSpace:i,MediumSpace:2*i,LargeSpace:3*i,ExtraLargeSpace:4*i},Sizing:{BaseUnit:r,RowHeight:24,ButtonMinWidth:15*r,BorderWidth:1,ButtonBorderWidth:2,BorderRadius:1,SelectionBorderWidth:r/2,ListRowHeight:20,MultiLineInputLineHeight:14,ColorSwatchSize:15},Typography:{FontFamily:s,Sizing:c,Color:u},Opacity:{OpaqueGlass:.33,ClearGlass:.01},ColorPickerPresets:{Dark:a.concat(l),Light:a.concat(d)}};t.TabStyles=g;var y=function(e){g.Colors=n.assign({},g.Colors,e.Colors),g.Opacity=n.assign({},g.Opacity,e.Opacity),g.Shadow=n.assign({},g.Shadow,e.Shadow),g.Sizing=n.assign({},g.Sizing,e.Sizing),g.Spacing=n.assign({},g.Spacing,e.Spacing),e.Typography&&(g.Typography.FontFamily=e.Typography.FontFamily?e.Typography.FontFamily:g.Typography.FontFamily,g.Typography.Color=n.assign({},g.Typography.Color,e.Typography.Color),g.Typography.Sizing=n.assign({},g.Typography.Sizing,e.Typography.Sizing))};t.overrideTabStyles=y},function(e,t){"use strict";function o(e){if(null===e||void 0===e)throw new TypeError("assign cannot be called with null or undefined");return Object(e)}Object.defineProperty(t,"__esModule",{value:!0});var n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,r=Object.assign||function(e,t){for(var r,s,a=o(e),l=1;l<arguments.length;l++){r=Object(arguments[l]);for(var d in r)n.call(r,d)&&(a[d]=r[d]);if(Object.getOwnPropertySymbols){s=Object.getOwnPropertySymbols(r);for(var c=0;c<s.length;c++)i.call(r,s[c])&&(a[s[c]]=r[s[c]])}}return a};t.assign=r},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e.setDefaultRootContainerId=function(t){e.defaultScrollingRootId=t},e.getDefaultRootContainer=function(){var t=e.defaultScrollingRootId?document.getElementById(e.defaultScrollingRootId):document.body;if(!t)throw Error("Could not find scrolling root with the id scrollingRootId.");return t},e}();t.ScrollingRootConfig=o},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e.setDefaultRootContainerId=function(t){e.defaultStackingRootId=t},e.getDefaultRootContainer=function(){var t=e.defaultStackingRootId?document.getElementById(e.defaultStackingRootId):document.body;if(!t)throw Error("Could not find stacking root.");return t},e}();t.StackingRootConfig=o},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(2),i=function(){function e(){}return e.setMediaStyleQueries=function(t){e.mediaQueryLists={};for(var o=0;o<t.length;o++){var n=t[o],i=e.registerMediaQuery(n),r=e.getMediaQueryListListener(n);r(i),i.addListener(r)}},e.registerMediaQuery=function(t){var o=t.mediaQuery;return o in e.mediaQueryLists||(e.mediaQueryLists[o]=window.matchMedia(o)),e.mediaQueryLists[o]},e.getMediaQueryListListener=function(e){return function(t){t.matches?n.setConfig({styles:e.matchingStyle}):n.setConfig({styles:e.nonMatchingStyle})}},e}();t.StyleMediaQueryManager=i},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e.registerWidget=function(t){e.widgets.push(t)},e.unregisterWidget=function(t){e.widgets=e.widgets.filter(function(e){return e!==t})},e.rerenderWidgets=function(){for(var t=0;t<e.widgets.length;t++)e.widgets[t].forceUpdate()},e}();o.widgets=[],t.WidgetManager=o},function(e,t){"use strict";function o(e,t){return e?t:null}function n(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.join("-")}function i(e){return e&&/^[a-z0-9]$/i.test(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.conditional=o,t.testId=n,t.isAlphabeticChar=i},function(e,t,o){"use strict";function n(e,t){var o=t.props,n=o.disabled,i=o.interactiveStyles;return i?a.assign({},e,t.state.hover&&!n&&i.hover,t.state.focus&&!n&&i.focus,t.state.active&&!n&&i.active,n&&i.disabled):e}function i(e,t){var o=n(t.props.style,e),i=e.props.pointerDown,r={pointerDown:d.mergeEventHandlers(i,function(){e.interactiveIsMounted&&(e.setState({active:!0}),e.props.handleActive&&e.props.handleActive(!0),e.removePointerUpListener||u(e))})},c=t.props,p=c.onMouseOver,h=c.onMouseOut,g=c.onKeyDown,y=c.onKeyUp,I=c.onFocus,f=c.onBlur,b={onMouseOver:d.mergeEventHandlers(p,function(){e.interactiveIsMounted&&(e.setState({hover:!0}),e.props.handleHover&&e.props.handleHover(!0))}),onMouseOut:d.mergeEventHandlers(h,function(){e.interactiveIsMounted&&(e.setState({hover:!1}),e.props.handleHover&&e.props.handleHover(!1))}),onKeyDown:d.mergeEventHandlers(g,function(t){e.interactiveIsMounted&&(" "!==t.key&&"Enter"!==t.key||(e.setState({active:!0}),e.props.handleActive&&e.props.handleActive(!0)))}),onKeyUp:d.mergeEventHandlers(y,function(t){e.interactiveIsMounted&&(" "!==t.key&&"Enter"!==t.key||(e.setState({active:!1}),e.props.handleActive&&e.props.handleActive(!1)))}),onFocus:d.mergeEventHandlers(I,function(){e.interactiveIsMounted&&(e.setState({focus:!0}),e.props.handleFocus&&e.props.handleFocus(!0))}),onBlur:d.mergeEventHandlers(f,function(){e.interactiveIsMounted&&(e.setState({focus:!1}),e.props.handleFocus&&e.props.handleFocus(!1))})},m=a.assign({style:o,disabled:e.props.disabled},b),v=a.assign({},e.props,r),M=s.createElement(l.PointerEventWrapper,v,s.cloneElement(t,m));return M}var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=o(11),a=o(4),l=o(12),d=o(15),c=o(16),u=function(e){var t=function(){e.interactiveIsMounted&&(e.setState({active:!1}),e.props.handleActive&&e.props.handleActive(!1),e.removePointerUpListener(),e.removePointerUpListener=void 0)};e.removePointerUpListener=c.GlobalPointerUpListener.subscribe(t)},p=function(e){function t(t){var o=e.call(this,t)||this;return o.state=a.assign({},o.state,{hover:!1,active:!1,focus:!1}),o.interactiveIsMounted=!0,o}return r(t,e),t.prototype.componentWillUnmount=function(){this.interactiveIsMounted=!1,this.removePointerUpListener&&this.removePointerUpListener()},t.prototype.render=function(){var e=s.Children.only(this.props.children);return i(this,e)},t}(s.Component);t.InteractiveDomWrapper=p;var h=function(e){var t=d.convertToStatefulComponentClass(e),o=(n=function(e){function o(t){var o=e.call(this,t)||this;return o.state=a.assign({},o.state,{hover:!1,active:!1,focus:!1}),o.interactiveIsMounted=!0,o}return r(o,e),o.prototype.callComponentClassWillUnmount=function(){var e=t.prototype.componentWillUnmount;e&&e.apply(this)},o.prototype.componentWillUnmount=function(){this.callComponentClassWillUnmount(),this.interactiveIsMounted=!1,this.removePointerUpListener&&this.removePointerUpListener()},o.prototype.render=function(){return i(this,e.prototype.render.call(this))},o}(t),n.displayName="InteractiveDom("+d.getComponentName(e)+")",n);return o;var n};t.InteractiveDomHoC=h;var g=h;t.InteractiveDomHoCDecorator=g},function(t,o){t.exports=e},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=o(11),r=o(13),s=o(14),a=o(15),l=function(e){function t(t){var o=e.call(this,t)||this;return o.pointerEventAdapter=s.PointerEventAdapterManager.adapterFactory(),o}return n(t,e),t.prototype.componentDidMount=function(){if(this.pointerEventAdapter.didMount){var e=r.findDOMNode(this);this.pointerEventAdapter.didMount(e,this.props)}},t.prototype.componentWillUnmount=function(){this.pointerEventAdapter.willUnmount&&this.pointerEventAdapter.willUnmount()},t.prototype.render=function(){var e=this.pointerEventAdapter.getHtmlAttributes(this.props),t=i.Children.only(this.props.children),o={};Object.keys(e).forEach(function(n){o[n]=a.mergeEventHandlers(e[n],t.props[n])});var n=i.cloneElement(t,o,t.props.children);return n},t}(i.Component);t.PointerEventWrapper=l;var d=function(e){var t=a.convertToStatefulComponentClass(e),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){return i.createElement(l,this.props,e.prototype.render.call(this))},t}(t);return o.displayName="PointerEventHoC("+a.getComponentName(e)+")",o};t.PointerEventHoC=d;var c=d;t.PointerEventHoCDecorator=c},function(e,o){e.exports=t},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e.prototype.getHtmlAttributes=function(e){var t={onDoubleClick:e.pointerDoubleClick?function(t){e.disabled||e.pointerDoubleClick(t)}:void 0,onMouseDown:e.pointerDown?function(t){e.disabled||e.pointerDown(t)}:void 0,onMouseUp:e.pointerUp?function(t){e.disabled||e.pointerUp(t)}:void 0,onClick:e.pointerClick?function(t){e.disabled||e.pointerClick(t)}:void 0};return t},e}(),n=function(){function e(){}return e}();n.adapterFactory=function(){return new o},t.PointerEventAdapterManager=n},function(e,t,o){"use strict";function n(e){return!e.prototype.render}function i(e){if(n(e)){var t=e;return o=function(e){function o(){return null!==e&&e.apply(this,arguments)||this}return a(o,e),o.prototype.render=function(){return t(this.props)},o}(l.Component),o.displayName=s(t),o}return e;var o}function r(e,t){return e&&t&&function(o){e(o),t(o)}||e||t}function s(e){return e.displayName||e.name||"AnonymousComponent"}var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var l=o(11);t.convertToStatefulComponentClass=i,t.mergeEventHandlers=r,t.getComponentName=s},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e.subscribeOrUnsubscribeWindows=function(t,o,n){o?(t.addEventListener("mouseup",n),t.addEventListener("touchend",n)):(t.removeEventListener("mouseup",n),t.removeEventListener("touchend",n));for(var i=t.document.getElementsByTagName("iframe"),r=0;r<i.length;r++)e.trySubscribeOrUnscribeWindows(i[r].contentWindow,o,n)},e.trySubscribeOrUnscribeWindows=function(t,o,n){try{e.subscribeOrUnsubscribeWindows(t,o,n)}catch(i){}},e.subscribe=function(t){return e.trySubscribeOrUnscribeWindows(window,!0,t),function(){e.trySubscribeOrUnscribeWindows(window,!1,t)}},e}();t.GlobalPointerUpListener=o},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i,r=o(11),s=o(11),a=o(13),l=o(18),d=o(27),c=o(6),u=o(5),p=100,h=50;!function(e){e[e.top=0]="top",e[e.centerY=1]="centerY",e[e.bottom=2]="bottom"}(i||(i={})),t.VerticalOriginOption=i;var g;!function(e){e[e.left=0]="left",e[e.centerX=1]="centerX",e[e.right=2]="right"}(g||(g={})),t.HorizontalOriginOption=g;var y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onResize=l(function(){return t.setPlacement()},p),t}return n(t,e),t.prototype.componentDidMount=function(){this.addScrollingRootBehavior(),window.addEventListener("resize",this.onResize)},t.prototype.componentWillUnmount=function(){this.removeScrollingRootBehavior(),window.removeEventListener("resize",this.onResize)},t.prototype.componentDidUpdate=function(e){this.resetScrollingRootBehaviorIfNeeded(e),this.setPlacement()},t.prototype.addScrollingRootBehavior=function(){this.setOnScroll(),this.setScrollingRoot(),this.onScroll&&(this.scrollingRoot.addEventListener("scroll",this.onScroll),this.scrollingRoot.addEventListener("wheel",this.onScroll))},t.prototype.removeScrollingRootBehavior=function(){this.onScroll&&(this.scrollingRoot.removeEventListener("scroll",this.onScroll),this.scrollingRoot.removeEventListener("wheel",this.onScroll))},t.prototype.resetScrollingRootBehaviorIfNeeded=function(e){e.handleScrollOnScrollingRoot===this.props.handleScrollOnScrollingRoot&&e.shouldAutoPositionOnScrollingRootScroll===this.props.shouldAutoPositionOnScrollingRootScroll||(this.removeScrollingRootBehavior(),this.addScrollingRootBehavior())},t.prototype.setOnScroll=function(){var e=this;if(this.props.shouldAutoPositionOnScrollingRootScroll||this.props.handleScrollOnScrollingRoot){var t=function(){e.props.shouldAutoPositionOnScrollingRootScroll&&e.setPlacement(),e.props.handleScrollOnScrollingRoot&&e.props.handleScrollOnScrollingRoot()};this.onScroll=l(t,h)}else this.onScroll=null},t.prototype.setScrollingRoot=function(){if(this.scrollingRoot=this.props.scrollingRootId?document.getElementById(this.props.scrollingRootId):u.ScrollingRootConfig.getDefaultRootContainer(),!this.scrollingRoot)throw Error("Could not find scrolling root with the id scrollingRootId.")},t.prototype.getAnchorPosition=function(){var e=this.props.anchorEl?this.props.anchorEl:a.findDOMNode(this),t=e.getBoundingClientRect(),o=e.offsetWidth,n=e.offsetHeight,i={top:t.top,left:t.left};return i.right=t.right||i.left+o,i.bottom=t.bottom||i.top+n,i.centerX=i.left+(i.right-i.left)/2,i.centerY=i.top+(i.bottom-i.top)/2,i},t.prototype.getStackedElCurrentShapeInPositionCoords=function(){var e=this.getStackedEl();return{top:0,centerX:e.offsetHeight/2,bottom:e.offsetHeight,left:0,centerY:e.offsetWidth/2,right:e.offsetWidth}},t.prototype.getContainerRect=function(){var e=this.props.stackingRootId?document.getElementById(this.props.stackingRootId):c.StackingRootConfig.getDefaultRootContainer();if(!e)throw Error("Could not find stacking root.");return e.getBoundingClientRect()},t.prototype.setPlacement=function(){if(this.stackingWrapper&&this.stackingWrapper.getMountPoint()){var e=this.getStackedElAdjustedPosition(),t=this.getStackedEl();t.style.top=e.top+"px",t.style.left=e.left+"px",t.style.position="absolute"}},t.prototype.getStackedEl=function(){return this.stackingWrapper.getMountPoint().firstChild},t.prototype.getStackedElAdjustedPosition=function(){var e=this.getDefaultStackedElViewportPosition();this.props.allowAutoPosition&&(e=this.getAutoPositionIfNeeded(e));var t=this.getAdjustStackedElPositionForContainer(e);return t=this.getAdjustedStackedElPositionFromProps(t)},t.prototype.getDefaultStackedElViewportPosition=function(){return this.getStackedElViewportPosition(this.props.anchorOrigin,this.props.stackedOrigin)},t.prototype.getAdjustStackedElPositionForContainer=function(e){var t=this.getContainerRect(),o={top:e.top-t.top,left:e.left-t.left};return o},t.prototype.getAdjustedStackedElPositionFromProps=function(e){return{top:e.top+(this.props.topFromOverlaidPosition||0),left:e.left+(this.props.leftFromOverlaidPosition||0)}},t.prototype.getStackedElViewportPosition=function(e,t){var o=this.getAnchorPosition(),n=this.getStackedElCurrentShapeInPositionCoords(),r=i[e.vertical],s=g[e.horizontal],a=i[t.vertical],l=g[t.horizontal],d=o[r],c=o[s],u=n[a],p=n[l],h={top:d-u,left:c-p};return h},t.prototype.getAutoPositionIfNeeded=function(e){var t=this.getStackedElCurrentShapeInPositionCoords(),o=this.getOppositeOriginPosition(),n=20,i=window.innerHeight-n,r=window.innerWidth-n,s=e.top<0||e.top+t.bottom>i,a=e.left<0||e.left+t.right>r;return s&&o.top+t.bottom<=i&&(e.top=Math.max(0,o.top)),a&&o.left+t.right<=r&&(e.left=Math.max(0,o.left)),e},t.prototype.getOppositeOriginPosition=function(){var e=this.getOppositeOriginsOptions(this.props.anchorOrigin),t=this.getOppositeOriginsOptions(this.props.stackedOrigin);return this.getStackedElViewportPosition(e,t)},t.prototype.getOppositeOriginsOptions=function(e){return{horizontal:this.getOppositeHorizontalOption(e.horizontal),vertical:this.getOppositeVerticalOption(e.vertical)}},t.prototype.getOppositeVerticalOption=function(e){return e===i.centerY?i.centerY:e===i.top?i.bottom:i.top},t.prototype.getOppositeHorizontalOption=function(e){return e===g.centerX?g.centerX:e===g.left?g.right:g.left},t.prototype.setStackingWrapper=function(e){this.stackingWrapper=e,this.setPlacement()},t.prototype.render=function(){var e=this;return s.createElement("div",{style:{display:"none"}},s.createElement(d.StackingComponentWrapper,{stackingRootId:this.props.stackingRootId,ref:function(t){return e.setStackingWrapper(t)},zIndex:this.props.zIndex},this.props.children))},t}(r.Component);y.defaultProps={anchorOrigin:{vertical:i.top,horizontal:g.left},stackedOrigin:{vertical:i.top,horizontal:g.left}},t.Overlay=y},function(e,t,o){function n(e,t,o){var n=!0,a=!0;if("function"!=typeof e)throw new TypeError(s);return r(o)&&(n="leading"in o?!!o.leading:n,a="trailing"in o?!!o.trailing:a),i(e,t,{leading:n,maxWait:t,trailing:a})}var i=o(19),r=o(20),s="Expected a function";e.exports=n},function(e,t,o){function n(e,t,o){function n(t){var o=b,n=m;return b=m=void 0,C=t,M=e.apply(n,o)}function c(e){return C=e,L=setTimeout(h,t),D?n(e):M}function u(e){var o=e-w,n=e-C,i=t-o;return S?d(i,v-n):i}function p(e){var o=e-w,n=e-C;return void 0===w||o>=t||o<0||S&&n>=v}function h(){var e=r();return p(e)?g(e):void(L=setTimeout(h,u(e)))}function g(e){return L=void 0,T&&b?n(e):(b=m=void 0,M)}function y(){void 0!==L&&clearTimeout(L),C=0,b=w=m=L=void 0}function I(){return void 0===L?M:g(r())}function f(){var e=r(),o=p(e);if(b=arguments,m=this,w=e,o){if(void 0===L)return c(w);if(S)return L=setTimeout(h,t),n(w)}return void 0===L&&(L=setTimeout(h,t)),M}var b,m,v,M,L,w,C=0,D=!1,S=!1,T=!0;if("function"!=typeof e)throw new TypeError(a);return t=s(t)||0,i(o)&&(D=!!o.leading,S="maxWait"in o,v=S?l(s(o.maxWait)||0,t):v,T="trailing"in o?!!o.trailing:T),f.cancel=y,f.flush=I,f}var i=o(20),r=o(21),s=o(24),a="Expected a function",l=Math.max,d=Math.min;e.exports=n},function(e,t){function o(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=o},function(e,t,o){var n=o(22),i=function(){return n.Date.now()};e.exports=i},function(e,t,o){var n=o(23),i="object"==typeof self&&self&&self.Object===Object&&self,r=n||i||Function("return this")();e.exports=r},function(e,t){(function(t){var o="object"==typeof t&&t&&t.Object===Object&&t;e.exports=o}).call(t,function(){return this}())},function(e,t,o){function n(e){if("number"==typeof e)return e;if(r(e))return s;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var o=d.test(e);return o||c.test(e)?u(e.slice(2),o?2:8):l.test(e)?s:+e}var i=o(20),r=o(25),s=NaN,a=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,d=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;e.exports=n},function(e,t,o){function n(e){return"symbol"==typeof e||i(e)&&a.call(e)==r}var i=o(26),r="[object Symbol]",s=Object.prototype,a=s.toString;e.exports=n},function(e,t){function o(e){return null!=e&&"object"==typeof e}e.exports=o},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=o(11),r=o(13),s=o(6),a=o(15),l=function(e){function t(t){var o=e.call(this,t)||this;if(o.stackingRoot=o.props.stackingRootId?document.getElementById(o.props.stackingRootId):s.StackingRootConfig.getDefaultRootContainer(),!o.stackingRoot)throw Error("Could not find stacking root.");return o.warnIfRootIsNotPositioned(),o}return n(t,e),t.prototype.warnIfRootIsNotPositioned=function(){var e=window.getComputedStyle(this.stackingRoot).position;if("relative"!==e&&"absolute"!==e)throw Error("Root Container does not have relative or absolute positioning.  Since some shared widgets absolutely\n      position relative to the container this may interfere with positioning")},t.prototype.componentDidMount=function(){this.renderLayer()},t.prototype.componentDidUpdate=function(){this.renderLayer()},t.prototype.componentWillUnmount=function(){this.unrenderLayer()},t.prototype.getMountPoint=function(){return this.mountPoint},t.prototype.renderLayer=function(){this.createMountPointIfNeeded();var e=i.Children.only(this.props.children);r.unstable_renderSubtreeIntoContainer(this,e,this.mountPoint)},t.prototype.createMountPointIfNeeded=function(){this.mountPoint||(this.mountPoint=document.createElement("div"),this.mountPoint.style.zIndex=""+this.props.zIndex,this.mountPoint.style.position="absolute",this.mountPoint.style.top="0",this.mountPoint.style.left="0",this.stackingRoot.appendChild(this.mountPoint))},t.prototype.unrenderLayer=function(){this.mountPoint&&(r.unmountComponentAtNode(this.mountPoint),this.stackingRoot.removeChild(this.mountPoint),this.mountPoint=null)},t.prototype.render=function(){return null},t}(i.Component);t.StackingComponentWrapper=l,t.StackingComponentHOC=function(e){var t=a.convertToStatefulComponentClass(e),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){return i.createElement(l,this.props,e.prototype.render.call(this))},t}(t);return o.displayName="StackingComponentHOC("+a.getComponentName(e)+")",o}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(13),i=function(){function e(){var e=this;this.internalEncapsulatedIsShown=!1,this.render=function(t){if(e.internalEncapsulatedIsShown)throw new Error("Cannot render the element; it is already shown");e.anchor=document.createElement("div"),n.render(t,e.anchor),e.internalEncapsulatedIsShown=!0},this.remove=function(){e.internalEncapsulatedIsShown&&(n.unmountComponentAtNode(e.anchor),e.anchor=null),e.internalEncapsulatedIsShown=!1},this.isShown=function(){return e.internalEncapsulatedIsShown}}return e}();t.HostedStackedElementContainer=i},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="shared-widgets",n=function(){function e(){if(this.idCounter=1,this.classNameLookup={},this.rawSelectorLookup={},"undefined"!=typeof document){var e=document.createElement("style");document.head.appendChild(e);for(var t=0;t<document.styleSheets.length;t++){var o=document.styleSheets[t];o.ownerNode===e&&(this.styleSheet=o)}}}return e.prototype.addRawSelector=function(e,t){var o=this.toRuleBody(t);if(e in this.rawSelectorLookup)throw new Error(e+" has already been defined.");this.rawSelectorLookup[e]=!0,this.addRule(e+" {"+o+"}")},e.prototype.addClass=function(e,t){var n=this.toRuleBody(e),i=this.classNameLookup[n];if(i){if(t&&t!==i)throw new Error("Attempting to define css rule using class name '"+t+"', but a class with the given\n           rule body already exists under class name '"+i+"'. Rule body: "+n+".");return i}return t||(t=o+"_"+this.idCounter++),this.classNameLookup[n]=t,this.addRule("."+t+" {"+n+"}"),t},e.prototype.addAnimation=function(e,t){var o=e.options,n=JSON.stringify(e),i=this.classNameLookup[n];if(i){if(t&&t!==i)throw new Error("Attempting to define css animation using class name '"+t+"', but a css rule with that\n           definition already exists under class name '"+i+"'. Definition: "+e);return i}var r=this.addKeyframes(e.keyframes),s=this.addClass({"animation-duration":o.durationMs/1e3+"s","animation-timing-function":o.timingFunction,"animation-iteration-count":""+(o.count===1/0?"infinite":o.count),"animation-direction":o.direction,"animation-name":r},t);return this.classNameLookup[n]=s,s},e.prototype.dispose=function(){var e=this.styleSheet.ownerNode;e.parentElement.removeChild(e)},e.prototype.addKeyframes=function(e){var t=this,n=e.fromCSSLines,i=e.toCSSLines,r=e.tweenFrames,s=o+"_"+this.idCounter++,a=[{percent:0,cssLines:n},{percent:100,cssLines:i}].concat(r),l=a.map(function(e){return e?e.percent+"% { "+t.toRuleBody(e.cssLines)+" }":""});return this.addRule("@keyframes "+s+" { "+l.join(" ")+"}"),s},e.prototype.toRuleBody=function(e){return Object.keys(e).map(function(t){if(t.toLowerCase()!==t)throw new Error("The CSS prop '"+t+"' should be written kebab-case, not camelCase");return t+": "+e[t]+";"}).join("")},e.prototype.addRule=function(e){try{this.styleSheet.insertRule(e,this.styleSheet.cssRules.length)}catch(t){throw new Error(t+". Stylesheet injection of "+e+" failed.  This browser may not support the given CSS rule or selector")}},e}();t.StyleSheet=n;var i=new n;t.SingletonStyleSheet=i},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={NonBreakingSpace:" "};t.Unicode=o},function(e,t){"use strict";function o(e){var t=e;return"number"==typeof t.clientX}function n(e){var t=e;return!!t.touches}function i(e){if(o(e))return{x:e.clientX,y:e.clientY};if(n(e))return{x:e.touches[0].clientX,y:e.touches[0].clientY};throw Error("Could not identify event as either MouseEvent or TouchEvent")}Object.defineProperty(t,"__esModule",{value:!0}),t.isMouseEvent=o,t.isTouchEvent=n,t.getClientPosition=i},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i,r=o(11),s=o(4),a=o(3),l=o(33),d=o(10),c=o(34);!function(e){e[e.Attention=0]="Attention",e[e.Grey=1]="Grey",e[e.Go=2]="Go",e[e.Outline=3]="Outline",e[e.LightOutline=4]="LightOutline",e[e.OutlineGo=5]="OutlineGo",e[e.OutlineAttention=6]="OutlineAttention",e[e.Text=7]="Text",e[e.DarkText=8]="DarkText",e[e.DarkBoldText=9]="DarkBoldText"}(i||(i={})),t.ButtonType=i;var u=a.TabStyles.Colors,p=a.TabStyles.Sizing,h=a.TabStyles.Typography,g=function(){return p.RowHeight},y=function(){return{backgroundColor:u.F7Disabled,borderColor:u.Transparent,color:h.Color.Disabled}},I=function(){return s.assign({fontSize:h.Sizing.Default,fontFamily:h.FontFamily,fontWeight:"normal",color:h.Color.Primary,cursor:"default",display:"inline-block",paddingLeft:g(),paddingRight:g(),paddingTop:0,paddingBottom:0,position:"relative",textAlign:"center",borderStyle:"solid",borderWidth:p.BorderWidth,borderRadius:p.BorderRadius,height:p.RowHeight,lineHeight:p.RowHeight-2*p.BorderWidth+"px",minWidth:p.ButtonMinWidth,boxSizing:"border-box",outline:"none",whiteSpace:"nowrap"},l.PreventUserSelect)},f=function(){return{base:s.assign({},I(),{backgroundColor:u.AttentionLight,borderColor:u.AttentionLight,color:h.Color.InvertedPrimary}),interactive:{hover:{backgroundColor:u.AttentionLight,borderColor:u.L8,color:h.Color.InvertedPrimary},focus:{backgroundColor:u.AttentionLight,borderColor:u.L8,color:h.Color.InvertedPrimary},active:{backgroundColor:u.AttentionDark,borderColor:u.AttentionDark,color:h.Color.InvertedPrimary},disabled:y()}}},b=function(){return{base:s.assign({},I(),{backgroundColor:u.GoLight,borderColor:u.GoLight,color:h.Color.InvertedPrimary}),interactive:{hover:{backgroundColor:u.GoLight,borderColor:u.L8,color:h.Color.InvertedPrimary},focus:{backgroundColor:u.GoLight,borderColor:u.L8,color:h.Color.InvertedPrimary},active:{backgroundColor:u.GoDark,borderColor:u.GoDark,color:h.Color.InvertedPrimary},disabled:y()}}},m=function(){return{base:s.assign({},I(),{backgroundColor:u.F5,borderColor:u.L5,color:h.Color.Primary}),interactive:{hover:{backgroundColor:u.F5,borderColor:u.L8,color:h.Color.Primary},focus:{backgroundColor:u.F5,borderColor:u.L8,color:h.Color.Primary},active:{backgroundColor:u.F8,borderColor:u.L8,color:h.Color.InvertedPrimary},disabled:y()}}},v=function(){return{base:s.assign({},I(),{backgroundColor:u.White,borderColor:u.L6,color:h.Color.PrimaryMedium}),interactive:{hover:{backgroundColor:u.White,borderColor:u.L8,color:h.Color.Primary},focus:{backgroundColor:u.White,borderColor:u.Focus,color:h.Color.PrimaryMedium},active:{backgroundColor:u.F2,borderColor:u.L9,color:h.Color.Primary},disabled:s.assign({},y(),{backgroundColor:u.White,borderColor:u.L9Disabled,color:h.Color.Disabled})}}},M=function(){return{base:s.assign({},I(),{backgroundColor:u.Transparent,borderColor:u.L6,color:h.Color.InvertedPrimary}),interactive:{hover:{backgroundColor:u.Transparent,borderColor:u.White,color:h.Color.InvertedPrimary},focus:{backgroundColor:u.Transparent,borderColor:u.White,color:h.Color.InvertedPrimary},active:{backgroundColor:u.WhiteTransparent,borderColor:u.White,color:h.Color.InvertedPrimary},disabled:s.assign({},y(),{borderColor:u.WhiteDisabled,backgroundColor:u.Transparent,color:h.Color.InvertedDisabled})}}},L=function(){return{base:s.assign({},I(),{fontWeight:"bold",backgroundColor:u.Transparent,borderColor:u.Transparent,color:u.GoLight}),interactive:{hover:{backgroundColor:u.F2,borderColor:u.F2,color:u.GoLight},focus:{backgroundColor:u.F2,borderColor:u.F2,color:u.GoLight},active:{backgroundColor:u.F2,borderColor:u.F2,color:u.GoDark},disabled:s.assign({},y(),{backgroundColor:u.Transparent,borderColor:u.Transparent,color:u.GoDarkDisabled})}}},w=function(){return{base:s.assign({},I(),{backgroundColor:u.White,borderColor:u.GoLight,color:h.Color.PrimaryDark,borderWidth:p.ButtonBorderWidth,lineHeight:p.RowHeight-2*p.ButtonBorderWidth+"px"}),interactive:{hover:{backgroundColor:u.White,borderColor:u.GoDark,color:u.Black},focus:{backgroundColor:u.White,borderColor:u.Focus,color:u.Black},active:{backgroundColor:u.F2,borderColor:u.GoDark,color:u.Black},disabled:s.assign({},y(),{backgroundColor:u.White,borderColor:u.GoDarkDisabled,color:h.Color.Disabled})}}},C=function(){return{base:s.assign({},I(),{backgroundColor:u.White,borderColor:u.AttentionLight,color:h.Color.PrimaryDark,borderWidth:p.ButtonBorderWidth,lineHeight:p.RowHeight-2*p.ButtonBorderWidth+"px"}),interactive:{hover:{backgroundColor:u.White,borderColor:u.AttentionDark,color:u.Black},focus:{backgroundColor:u.White,borderColor:u.Focus,color:u.Black},active:{backgroundColor:u.F2,borderColor:u.AttentionDark,color:u.Black},disabled:s.assign({},y(),{backgroundColor:u.White,borderColor:u.AttentionDarkDisabled,color:h.Color.Disabled})}}},D=function(){return{base:s.assign({},I(),{backgroundColor:u.Transparent,borderColor:u.Transparent,color:h.Color.Primary}),interactive:{hover:{backgroundColor:u.F2,borderColor:u.F2,color:h.Color.Primary},focus:{backgroundColor:u.F2,borderColor:u.F2,color:h.Color.Primary},active:{backgroundColor:u.F2_5,borderColor:u.F2_5,color:u.Black},disabled:s.assign({},y(),{backgroundColor:u.Transparent,borderColor:u.Transparent,color:h.Color.Disabled})}}},S=function(){return{base:s.assign({},I(),{fontWeight:"bold",backgroundColor:u.Transparent,borderColor:u.Transparent,color:h.Color.Primary}),interactive:{hover:{backgroundColor:u.F2,borderColor:u.F2,color:h.Color.Primary},focus:{backgroundColor:u.F2,borderColor:u.F2,color:h.Color.Primary},active:{backgroundColor:u.F2_5,borderColor:u.F2_5,color:u.Black},disabled:s.assign({},y(),{backgroundColor:u.Transparent,borderColor:u.Transparent,color:h.Color.Disabled})}}},T=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.boundHandleClick=function(e){return t.handleClick(e)},t.boundHandleKeyUp=function(e){return t.handleKeyUp(e)},t.boundHandleKeyDown=function(e){return t.handleKeyDown(e)},t.boundHandleBlur=function(){return t.handleBlur()},t.isKeyboardPressed=!1,t}return n(t,e),t.prototype.handleClick=function(e){this.props.disabled||this.props.handleClick(e)},t.prototype.handleKeyUp=function(e){this.props.disabled||!this.isKeyboardPressed||" "!==e.key&&"Enter"!==e.key||(this.props.handleClick(e),this.isKeyboardPressed=!1)},t.prototype.handleKeyDown=function(e){this.props.disabled||" "!==e.key&&"Enter"!==e.key||(this.isKeyboardPressed=!0,e.preventDefault())},t.prototype.handleBlur=function(){this.isKeyboardPressed=!1},t.prototype.render=function(){var e;switch(this.props.buttonType){case i.Attention:e=f();break;case i.Grey:e=m();break;case i.Go:e=b();break;case i.Outline:e=v();break;case i.LightOutline:e=M();break;case i.OutlineGo:e=w();break;case i.OutlineAttention:e=C();break;case i.Text:e=L();break;case i.DarkText:e=D();break;case i.DarkBoldText:e=S();break;default:throw new Error("ButtonWidget attempted to render invalid ButtonType: "+this.props.buttonType)}return r.createElement(d.InteractiveDomWrapper,{interactiveStyles:e.interactive,disabled:this.props.disabled,pointerClick:this.boundHandleClick},r.createElement("div",{style:s.assign({},e.base,this.props.style),onKeyUp:this.boundHandleKeyUp,onKeyDown:this.boundHandleKeyDown,onBlur:this.boundHandleBlur,tabIndex:this.props.disabled?-1:0,role:"button",title:this.props.title?this.props.title:this.props.label,"data-tb-test-id":this.props.testId+"-Button"},this.props.label,this.props.children))},t}(c.DynamicThemeComponent);t.ButtonWidget=T},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PreventUserSelect={userSelect:"none",WebkitUserSelect:"none",msUserSelect:"none",MozUserSelect:"none"}},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=o(11),r=o(8),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.componentDidMount=function(){r.WidgetManager.registerWidget(this)},t.prototype.componentWillUnmount=function(){r.WidgetManager.unregisterWidget(this)},t}(i.Component);t.DynamicThemeComponent=s},function(e,t,o){"use strict";function n(e,t){var o;return o=e.checked?e.disabled?u.CheckBoxIcon.selectedDisabled:e.hover||t.hover||t.focus?u.CheckBoxIcon.selectedActive:u.CheckBoxIcon.selected:e.disabled?u.CheckBoxIcon.unselectedDisabled:e.hover||t.hover||t.focus?u.CheckBoxIcon.unselectedActive:u.CheckBoxIcon.unselected}var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};Object.defineProperty(t,"__esModule",{value:!0});var s=o(11),a=o(4),l=o(9),d=o(36),c=o(10),u=o(37),p=o(34),h=o(3),g=function(){return{baseDiv:{marginLeft:h.TabStyles.Spacing.DefaultSpace-u.CheckBoxIcon.padding,marginRight:h.TabStyles.Spacing.DefaultSpace-u.CheckBoxIcon.padding,verticalAlign:"middle",height:u.CheckBoxIcon.height,width:u.CheckBoxIcon.width,minWidth:u.CheckBoxIcon.width,flexShrink:0},noLeftMargin:{marginLeft:-u.CheckBoxIcon.padding},checkbox:{opacity:0,height:u.CheckBoxIcon.height,width:u.CheckBoxIcon.width,margin:0,cursor:"default",verticalAlign:"top"},fakeCheckBox:{height:u.CheckBoxIcon.height,width:u.CheckBoxIcon.width,position:"absolute",verticalAlign:"top"}}},y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.handleFormChange=function(e){this.props.disabled||this.props.handleChange(e.target.checked)},t.prototype.render=function(){var e=this,t=n(this.props,this.state),o=g(),i=a.assign({},o.baseDiv,l.conditional(this.props.removeLeftMargin,o.noLeftMargin));return s.createElement(d.InlineBlock,{style:i},s.createElement(d.Img,{style:o.fakeCheckBox,src:t}),s.createElement("input",{style:o.checkbox,type:"checkbox",onChange:function(t){return e.handleFormChange(t)},checked:this.props.checked,disabled:this.props.disabled,"data-tb-test-id":this.props.testId+"-CheckBox",id:this.props.id,name:this.props.name}))},t}(p.DynamicThemeComponent);y=r([c.InteractiveDomHoCDecorator],y),t.CheckBoxWidget=y},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=o(11),r=o(11),s=o(4),a=o(33),l={boxSizing:"border-box",position:"relative",margin:0,padding:0,lineHeight:"normal"},d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){return r.createElement("div",s.assign({},this.props,{style:s.assign({},l,this.props.style)}))},t}(i.Component);t.Block=d;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){return r.createElement("div",s.assign({},this.props,{style:s.assign({},l,{display:"inline-block"},this.props.style)}))},t}(i.Component);t.InlineBlock=c;var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){return r.createElement("img",s.assign({},this.props,{role:this.props.role||"presentation",style:s.assign({},a.PreventUserSelect,this.props.style)}))},t}(i.Component);t.Img=u},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CloseButtonIcon={height:14,width:14,enabled:"data:image/svg+xml;base64,  PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJEaWFsb2d1ZUNsb3NlWCIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSIxNHB4IiBoZWlnaHQ9IjE0cHgiIHZpZXdCb3g9IjAgMCAxNCAxNCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTQgMTQ7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHBhdGggaWQ9IlgiIHN0eWxlPSJmaWxsOiM2NjY2NjY7IiBkPSJNNy43LDdsNC43LTQuN2MwLjItMC4yLDAuMi0wLjUsMC0wLjdzLTAuNS0wLjItMC43LDBMNyw2LjNMMi4zLDEuNmMtMC4yLTAuMi0wLjUtMC4yLTAuNywwICBzLTAuMiwwLjUsMCwwLjdMNi4zLDdsLTQuNyw0LjdjLTAuMiwwLjItMC4yLDAuNSwwLDAuN3MwLjUsMC4yLDAuNywwTDcsNy43bDQuNyw0LjdjMC4yLDAuMiwwLjUsMC4yLDAuNywwczAuMi0wLjUsMC0wLjdMNy43LDd6Ii8+Cjwvc3ZnPg==",active:"data:image/svg+xml;base64,  PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJEaWFsb2d1ZUNsb3NlWCIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSIxNHB4IiBoZWlnaHQ9IjE0cHgiIHZpZXdCb3g9IjAgMCAxNCAxNCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTQgMTQ7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHBhdGggaWQ9IlgiIHN0eWxlPSJmaWxsOiMzMzMzMzM7IiBkPSJNNy43LDdsNC43LTQuN2MwLjItMC4yLDAuMi0wLjUsMC0wLjdzLTAuNS0wLjItMC43LDBMNyw2LjNMMi4zLDEuNmMtMC4yLTAuMi0wLjUtMC4yLTAuNywwICBzLTAuMiwwLjUsMCwwLjdMNi4zLDdsLTQuNyw0LjdjLTAuMiwwLjItMC4yLDAuNSwwLDAuN3MwLjUsMC4yLDAuNywwTDcsNy43bDQuNyw0LjdjMC4yLDAuMiwwLjUsMC4yLDAuNywwczAuMi0wLjUsMC0wLjdMNy43LDd6Ii8+Cjwvc3ZnPg=="},t.CheckBoxIcon={height:16,width:16,padding:1,selected:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDE2IDE2IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxNiAxNjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8Zz4KCTxyZWN0IHg9IjIiIHk9IjIiIHN0eWxlPSJmaWxsOiNGRkZGRkY7IiB3aWR0aD0iMTIiIGhlaWdodD0iMTIiLz4KCTxwYXRoIHN0eWxlPSJmaWxsOiM2NjY2NjY7IiBkPSJNMTQsMnYxMkgyVjJIMTQgTTE0LDFIMkMxLjUsMSwxLDEuNCwxLDJ2MTJjMCwwLjYsMC41LDEsMSwxaDEyYzAuNiwwLDEtMC40LDEtMVYyICAgQzE1LDEuNCwxNC42LDEsMTQsMUwxNCwxeiIvPgo8L2c+CjxwYXRoIHN0eWxlPSJmaWxsOiM2NjY2NjY7IiBkPSJNNy4yLDEyLjNjLTAuMiwwLTAuNC0wLjEtMC41LTAuMmwtMy0zTDQuOCw4bDIuMywyLjNsNC02LjdsMS4zLDAuOEw3LjksMTIgIEM3LjcsMTIuMiw3LjUsMTIuMyw3LjIsMTIuM0w3LjIsMTIuM3oiLz4KPC9zdmc+",selectedActive:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDE2IDE2IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxNiAxNjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8Zz4KCTxyZWN0IHg9IjIiIHk9IjIiIHN0eWxlPSJmaWxsOiNGRkZGRkY7IiB3aWR0aD0iMTIiIGhlaWdodD0iMTIiLz4KCTxwYXRoIHN0eWxlPSJmaWxsOiMzMzMzMzM7IiBkPSJNMTQsMnYxMkgyVjJIMTQgTTE0LDFIMkMxLjUsMSwxLDEuNCwxLDJ2MTJjMCwwLjYsMC41LDEsMSwxaDEyYzAuNiwwLDEtMC40LDEtMVYyICAgQzE1LDEuNCwxNC42LDEsMTQsMUwxNCwxeiIvPgo8L2c+CjxwYXRoIHN0eWxlPSJmaWxsOiMzMzMzMzM7IiBkPSJNNy4yLDEyLjNjLTAuMiwwLTAuNC0wLjEtMC41LTAuMmwtMy0zTDQuOCw4bDIuMywyLjNsNC02LjdsMS4zLDAuOEw3LjksMTIgIEM3LjcsMTIuMiw3LjUsMTIuMyw3LjIsMTIuM0w3LjIsMTIuM3oiLz4KPC9zdmc+",selectedDisabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDE2IDE2IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxNiAxNjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8Zz4KCTxyZWN0IHg9IjIiIHk9IjIiIHN0eWxlPSJmaWxsOiNGRkZGRkY7IiB3aWR0aD0iMTIiIGhlaWdodD0iMTIiLz4KCTxwYXRoIHN0eWxlPSJvcGFjaXR5OjAuMjU7ZmlsbDojMzMzMzMzO2VuYWJsZS1iYWNrZ3JvdW5kOm5ldyAgICA7IiBkPSJNMTQsMnYxMkgyVjJIMTQgTTE0LDFIMkMxLjUsMSwxLDEuNSwxLDJ2MTIgICBjMCwwLjYsMC41LDEsMSwxaDEyYzAuNiwwLDEtMC40LDEtMVYyQzE1LDEuNSwxNC42LDEsMTQsMUwxNCwxeiIvPgo8L2c+CjxwYXRoIHN0eWxlPSJvcGFjaXR5OjAuMjU7ZmlsbDojMzMzMzMzO2VuYWJsZS1iYWNrZ3JvdW5kOm5ldyAgICA7IiBkPSJNNy4yLDEyLjNjLTAuMiwwLTAuNC0wLjEtMC41LTAuMmwtMy0zTDQuOCw4bDIuMywyLjNsNC02LjcgIGwxLjMsMC44TDcuOSwxMkM3LjcsMTIuMiw3LjUsMTIuMyw3LjIsMTIuM0w3LjIsMTIuM3oiLz4KPC9zdmc+",unselected:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDE2IDE2IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxNiAxNjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8Zz4KCTxyZWN0IHg9IjIiIHk9IjIiIHN0eWxlPSJmaWxsOiNGRkZGRkY7IiB3aWR0aD0iMTIiIGhlaWdodD0iMTIiLz4KCTxwYXRoIHN0eWxlPSJmaWxsOiNDQkNCQ0I7IiBkPSJNMTQsMnYxMkgyVjJIMTQgTTE0LDFIMkMxLjUsMSwxLDEuNCwxLDJ2MTJjMCwwLjUsMC41LDEsMSwxaDEyYzAuNiwwLDEtMC41LDEtMVYyICAgQzE1LDEuNCwxNC42LDEsMTQsMUwxNCwxeiIvPgo8L2c+Cjwvc3ZnPg==",unselectedActive:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDE2IDE2IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxNiAxNjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8Zz4KCTxyZWN0IHg9IjIiIHk9IjIiIHN0eWxlPSJmaWxsOiNGRkZGRkY7IiB3aWR0aD0iMTIiIGhlaWdodD0iMTIiLz4KCTxwYXRoIHN0eWxlPSJmaWxsOiMzMzMzMzM7IiBkPSJNMTQsMnYxMkgyVjJIMTQgTTE0LDFIMkMxLjQsMSwxLDEuNCwxLDJ2MTJjMCwwLjYsMC41LDEsMSwxaDEyYzAuNiwwLDEtMC40LDEtMVYyICAgQzE1LDEuNCwxNC42LDEsMTQsMUwxNCwxeiIvPgo8L2c+Cjwvc3ZnPg==",unselectedDisabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDE2IDE2IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxNiAxNjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8Zz4KCTxyZWN0IHg9IjIiIHk9IjIiIHN0eWxlPSJmaWxsOiNGRkZGRkY7IiB3aWR0aD0iMTIiIGhlaWdodD0iMTIiLz4KCTxwYXRoIHN0eWxlPSJvcGFjaXR5OjAuMjU7ZmlsbDojMzMzMzMzOyIgZD0iTTE0LDJ2MTJIMlYySDE0IE0xNCwxSDJDMS41LDEsMSwxLjQsMSwydjEyYzAsMC42LDAuNSwxLDEsMWgxMmMwLjYsMCwxLTAuNCwxLTFWMiAgIEMxNSwxLjQsMTQuNiwxLDE0LDFMMTQsMXoiLz4KPC9nPgo8L3N2Zz4="},t.OutlineDropdownArrowIcon={height:18,width:18,enabled:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJhc3NldHMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iMThweCIgaGVpZ2h0PSIxOHB4IiB2aWV3Qm94PSIwIDAgMTggMTgiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDE4IDE4OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8cGF0aCBzdHlsZT0iZmlsbDojNjY2NjY2OyIgZD0iTTUuOCw3LjNsMy41LDQuNmMwLjEsMC4xLDAuMiwwLjEsMC4zLDBsMy42LTQuNkMxMy4zLDcuMSwxMy4yLDcsMTMsN0g2QzUuOCw3LDUuNyw3LjEsNS44LDcuM3oiLz4NCjwvc3ZnPg==",active:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJhc3NldHMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iMThweCIgaGVpZ2h0PSIxOHB4IiB2aWV3Qm94PSIwIDAgMTggMTgiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDE4IDE4OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8cGF0aCBzdHlsZT0iZmlsbDojMzMzMzMzOyIgZD0iTTUuOCw3LjNsMy41LDQuNmMwLjEsMC4xLDAuMiwwLjEsMC4zLDBsMy42LTQuNmMwLjEtMC4yLDAtMC4zLTAuMi0wLjNINkM1LjgsNyw1LjcsNy4xLDUuOCw3LjN6Ii8+DQo8L3N2Zz4=",disabled:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJhc3NldHMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iMThweCIgaGVpZ2h0PSIxOHB4IiB2aWV3Qm94PSIwIDAgMTggMTgiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDE4IDE4OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8cGF0aCBzdHlsZT0ib3BhY2l0eTowLjI1O2ZpbGw6IzMzMzMzMzsiIGQ9Ik01LjgsNy4zbDMuNSw0LjZjMC4xLDAuMSwwLjIsMC4xLDAuMywwbDMuNi00LjZDMTMuMyw3LjEsMTMuMiw3LDEzLDdINg0KCUM1LjgsNyw1LjcsNy4xLDUuOCw3LjN6Ii8+DQo8L3N2Zz4="},t.OutlineDropdownArrowDarkBackgroundIcon={height:18,width:18,enabled:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJhc3NldHMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iMThweCIgaGVpZ2h0PSIxOHB4IiB2aWV3Qm94PSIwIDAgMTggMTgiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDE4IDE4OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8cGF0aCBzdHlsZT0ib3BhY2l0eTowLjU7ZmlsbDojRkZGRkZGOyIgZD0iTTUuOCw3LjNsMy41LDQuNmMwLjEsMC4xLDAuMiwwLjEsMC4zLDBsMy42LTQuNkMxMy4zLDcuMSwxMy4yLDcsMTMsN0g2QzUuOCw3LDUuNyw3LjEsNS44LDcuM3oiLz4NCjwvc3ZnPg==",active:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJhc3NldHMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iMThweCIgaGVpZ2h0PSIxOHB4IiB2aWV3Qm94PSIwIDAgMTggMTgiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDE4IDE4OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8cGF0aCBzdHlsZT0iZmlsbDojRkZGRkZGOyIgZD0iTTUuOCw3LjNsMy41LDQuNmMwLjEsMC4xLDAuMiwwLjEsMC4zLDBsMy42LTQuNmMwLjEtMC4yLDAtMC4zLTAuMi0wLjNINkM1LjgsNyw1LjcsNy4xLDUuOCw3LjN6Ii8+DQo8L3N2Zz4=",disabled:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJhc3NldHMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iMThweCIgaGVpZ2h0PSIxOHB4IiB2aWV3Qm94PSIwIDAgMTggMTgiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDE4IDE4OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8cGF0aCBzdHlsZT0ib3BhY2l0eTowLjM1O2ZpbGw6I0ZGRkZGRjsiIGQ9Ik01LjgsNy4zbDMuNSw0LjZjMC4xLDAuMSwwLjIsMC4xLDAuMywwbDMuNi00LjZDMTMuMyw3LjEsMTMuMiw3LDEzLDdINg0KCUM1LjgsNyw1LjcsNy4xLDUuOCw3LjN6Ii8+DQo8L3N2Zz4="},t.LineAndTextDropdownArrowIcon={height:20,width:20,enabled:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJEcm9wZG93biIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjAgMCAyMCAyMCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjAgMjA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxwYXRoIGlkPSJUcmlhbmdsZSIgc3R5bGU9ImZpbGw6IzY2NjY2NjsiIGQ9Ik01LjMsN2g4LjVDMTQsNywxNC4xLDcuMywxNCw3LjRsLTQuMiw1LjNjLTAuMSwwLjItMC40LDAuMi0wLjUsMEw1LDcuNA0KCUM0LjksNy4zLDUsNyw1LjMsN3oiLz4NCjwvc3ZnPg==",active:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJEcm9wZG93biIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjAgMCAyMCAyMCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjAgMjA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxwYXRoIGlkPSJUcmlhbmdsZSIgc3R5bGU9ImZpbGw6IzMzMzMzMzsiIGQ9Ik01LjMsN2g4LjVDMTQsNywxNC4xLDcuMywxNCw3LjRsLTQuMiw1LjNjLTAuMSwwLjItMC40LDAuMi0wLjUsMEw1LDcuNA0KCUM0LjksNy4zLDUsNyw1LjMsN3oiLz4NCjwvc3ZnPg==",disabled:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMaW5lX2Fycm93X2Ryb3Bkb3duX2Fycm93X2Rpc2FibGVkIg0KCSB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjIwcHgiIGhlaWdodD0iMjBweCINCgkgdmlld0JveD0iMCAwIDIwIDIwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAyMCAyMDsiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPHBhdGggaWQ9IlRyaWFuZ2xlIiBzdHlsZT0ib3BhY2l0eTowLjM1O2ZpbGw6IzMzMzMzMzsiIGQ9Ik01LjMsN2g4LjVDMTQsNywxNC4xLDcuMywxNCw3LjRsLTQuMiw1LjNjLTAuMSwwLjItMC40LDAuMi0wLjUsMEw1LDcuNA0KCUM0LjksNy4zLDUsNyw1LjMsN3oiLz4NCjwvc3ZnPg=="},t.LineAndTextDropdownArrowDarkBackgroundIcon={height:20,width:20,enabled:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJEcm9wZG93biIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjAgMCAyMCAyMCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjAgMjA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxwYXRoIGlkPSJUcmlhbmdsZSIgc3R5bGU9Im9wYWNpdHk6MC41O2ZpbGw6I0ZGRkZGRjsiIGQ9Ik01LjMsN2g4LjVDMTQsNywxNC4xLDcuMywxNCw3LjRsLTQuMiw1LjNjLTAuMSwwLjItMC40LDAuMi0wLjUsMEw1LDcuNA0KCUM0LjksNy4zLDUsNyw1LjMsN3oiLz4NCjwvc3ZnPg==",active:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJEcm9wZG93biIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjAgMCAyMCAyMCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjAgMjA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxwYXRoIGlkPSJUcmlhbmdsZSIgc3R5bGU9ImZpbGw6I0ZGRkZGRjsiIGQ9Ik01LjMsN2g4LjVDMTQsNywxNC4xLDcuMywxNCw3LjRsLTQuMiw1LjNjLTAuMSwwLjItMC40LDAuMi0wLjUsMEw1LDcuNA0KCUM0LjksNy4zLDUsNyw1LjMsN3oiLz4NCjwvc3ZnPg==",disabled:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMaW5lX2Fycm93X2Ryb3Bkb3duX2Fycm93X2Rpc2FibGVkIg0KCSB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjIwcHgiIGhlaWdodD0iMjBweCINCgkgdmlld0JveD0iMCAwIDIwIDIwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAyMCAyMDsiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPHBhdGggaWQ9IlRyaWFuZ2xlIiBzdHlsZT0ib3BhY2l0eTowLjM1O2ZpbGw6I0ZGRkZGRjsiIGQ9Ik01LjMsN2g4LjVDMTQsNywxNC4xLDcuMywxNCw3LjRsLTQuMiw1LjNjLTAuMSwwLjItMC40LDAuMi0wLjUsMEw1LDcuNA0KCUM0LjksNy4zLDUsNyw1LjMsN3oiLz4NCjwvc3ZnPg=="},t.MenuItemArrowIcon={height:18,width:18,enabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJhc3NldHMiIHg9IjBweCIgeT0iMHB4IiB3aWR0aD0iMThweCIgaGVpZ2h0PSIxOHB4IiB2aWV3Qm94PSIwIDAgMTggMTgiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDE4IDE4OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxwYXRoIHN0eWxlPSJmaWxsOiM2NjY2NjY7IiBkPSJNNy4zLDEzLjJsNC42LTMuNWMwLjEtMC4xLDAuMS0wLjIsMC0wLjNMNy4zLDUuOEM3LjEsNS43LDcsNS44LDcsNnY3QzcsMTMuMiw3LjEsMTMuMyw3LjMsMTMuMnoiLz4KPC9zdmc+",active:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJhc3NldHMiIHg9IjBweCIgeT0iMHB4IiB3aWR0aD0iMThweCIgaGVpZ2h0PSIxOHB4IiB2aWV3Qm94PSIwIDAgMTggMTgiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDE4IDE4OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxwYXRoIHN0eWxlPSJmaWxsOiMzMzMzMzM7IiBkPSJNNy4zLDEzLjJsNC42LTMuNWMwLjEtMC4xLDAuMS0wLjIsMC0wLjNMNy4zLDUuOEM3LjEsNS43LDcsNS44LDcsNnY3QzcsMTMuMiw3LjEsMTMuMyw3LjMsMTMuMnoiLz4KPC9zdmc+",disabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJhc3NldHMiIHg9IjBweCIgeT0iMHB4IiB3aWR0aD0iMThweCIgaGVpZ2h0PSIxOHB4IiB2aWV3Qm94PSIwIDAgMTggMTgiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDE4IDE4OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxwYXRoIHN0eWxlPSJvcGFjaXR5OjAuMjU7ZmlsbDojMzMzMzMzO2VuYWJsZS1iYWNrZ3JvdW5kOm5ldyAgICA7IiBkPSJNNy4zLDEzLjJsNC42LTMuNWMwLjEtMC4xLDAuMS0wLjIsMC0wLjNMNy4zLDUuOCAgQzcuMSw1LjcsNyw1LjgsNyw2djdDNywxMy4yLDcuMSwxMy4zLDcuMywxMy4yeiIvPgo8L3N2Zz4="},t.RadioButtonIcon={height:16,width:16,padding:1,selected:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJTZWxlY3RlZF9yZXN0IiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDE2IDE2IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxNiAxNjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8cGF0aCBzdHlsZT0iZmlsbDojRkZGRkZGOyIgZD0iTTgsMS41QzQuNCwxLjUsMS41LDQuNCwxLjUsOHMyLjksNi41LDYuNSw2LjVzNi41LTIuOSw2LjUtNi41UzExLjYsMS41LDgsMS41TDgsMS41eiIvPgo8Y2lyY2xlIHN0eWxlPSJmaWxsOiM2NjY3NjY7IiBjeD0iOCIgY3k9IjgiIHI9IjMiLz4KPHBhdGggc3R5bGU9ImZpbGw6IzY2Njc2NjsiIGQ9Ik04LDJjMy4zLDAsNiwyLjcsNiw2cy0yLjcsNi02LDZzLTYtMi43LTYtNlM0LjcsMiw4LDIgTTgsMUM0LjEsMSwxLDQuMSwxLDhzMy4xLDcsNyw3czctMy4xLDctNyAgUzExLjksMSw4LDFMOCwxeiIvPgo8L3N2Zz4=",selectedActive:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJTZWxlY3RlZF9ob3ZlciIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSIxNnB4IiBoZWlnaHQ9IjE2cHgiIHZpZXdCb3g9IjAgMCAxNiAxNiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTYgMTY7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHBhdGggc3R5bGU9ImZpbGw6I0ZGRkZGRjsiIGQ9Ik04LDEuNUM0LjQsMS41LDEuNSw0LjQsMS41LDhzMi45LDYuNSw2LjUsNi41czYuNS0yLjksNi41LTYuNVMxMS42LDEuNSw4LDEuNUw4LDEuNXoiLz4KPGNpcmNsZSBzdHlsZT0iZmlsbDojMzMzMzMzOyIgY3g9IjgiIGN5PSI4IiByPSIzIi8+CjxwYXRoIHN0eWxlPSJmaWxsOiMzMzMzMzM7IiBkPSJNOCwyYzMuMywwLDYsMi43LDYsNnMtMi43LDYtNiw2cy02LTIuNy02LTZTNC43LDIsOCwyIE04LDFDNC4xLDEsMSw0LjEsMSw4czMuMSw3LDcsN3M3LTMuMSw3LTcgIFMxMS45LDEsOCwxTDgsMXoiLz4KPC9zdmc+",selectedDisabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJTZWxlY3RlZF9ob3ZlciIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSIxNnB4IiBoZWlnaHQ9IjE2cHgiIHZpZXdCb3g9IjAgMCAxNiAxNiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTYgMTY7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHBhdGggc3R5bGU9Im9wYWNpdHk6MC4yNTtmaWxsOiNGRkZGRkY7IiBkPSJNOCwxLjVDNC40LDEuNSwxLjUsNC40LDEuNSw4czIuOSw2LjUsNi41LDYuNXM2LjUtMi45LDYuNS02LjVTMTEuNiwxLjUsOCwxLjVMOCwxLjV6Ii8+CjxjaXJjbGUgc3R5bGU9Im9wYWNpdHk6MC4yNTtmaWxsOiMzMzMzMzM7ZW5hYmxlLWJhY2tncm91bmQ6bmV3ICAgIDsiIGN4PSI4IiBjeT0iOCIgcj0iMyIvPgo8cGF0aCBzdHlsZT0ib3BhY2l0eTowLjI1O2ZpbGw6IzMzMzMzMztlbmFibGUtYmFja2dyb3VuZDpuZXcgICAgOyIgZD0iTTgsMmMzLjMsMCw2LDIuNyw2LDZzLTIuNyw2LTYsNnMtNi0yLjctNi02UzQuNywyLDgsMiBNOCwxICBDNC4xLDEsMSw0LjEsMSw4czMuMSw3LDcsN3M3LTMuMSw3LTdTMTEuOSwxLDgsMUw4LDF6Ii8+Cjwvc3ZnPg==",unselected:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJSZXN0IiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDE2IDE2IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxNiAxNjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8cGF0aCBzdHlsZT0iZmlsbDojRkZGRkZGOyIgZD0iTTgsMS41QzQuNCwxLjUsMS41LDQuNCwxLjUsOHMyLjksNi41LDYuNSw2LjVzNi41LTIuOSw2LjUtNi41UzExLjYsMS41LDgsMS41TDgsMS41eiIvPgo8cGF0aCBzdHlsZT0iZmlsbDojQ0JDQkNBOyIgZD0iTTgsMmMzLjMsMCw2LDIuNyw2LDZzLTIuNyw2LTYsNnMtNi0yLjctNi02UzQuNywyLDgsMiBNOCwxQzQuMSwxLDEsNC4xLDEsOHMzLjEsNyw3LDdzNy0zLjEsNy03ICBTMTEuOSwxLDgsMUw4LDF6Ii8+Cjwvc3ZnPg==",unselectedActive:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJVbnNlbGVjdGVkX2hvdmVyIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgdmlld0JveD0iMCAwIDE2IDE2IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxNiAxNjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8cGF0aCBzdHlsZT0iZmlsbDojRkZGRkZGOyIgZD0iTTgsMS41QzQuNCwxLjUsMS41LDQuNCwxLjUsOHMyLjksNi41LDYuNSw2LjVzNi41LTIuOSw2LjUtNi41UzExLjYsMS41LDgsMS41TDgsMS41eiIvPgo8cGF0aCBzdHlsZT0iZmlsbDojMzMzMzMzOyIgZD0iTTgsMmMzLjMsMCw2LDIuNyw2LDZzLTIuNyw2LTYsNnMtNi0yLjctNi02UzQuNywyLDgsMiBNOCwxQzQuMSwxLDEsNC4xLDEsOHMzLjEsNyw3LDdzNy0zLjEsNy03ICBTMTEuOSwxLDgsMUw4LDF6Ii8+Cjwvc3ZnPg==",unselectedDisabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJEaXNhYmxlZCIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSIxNnB4IiBoZWlnaHQ9IjE2cHgiIHZpZXdCb3g9IjAgMCAxNiAxNiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTYgMTY7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHBhdGggc3R5bGU9ImZpbGw6I0ZGRkZGRjsiIGQ9Ik04LDEuNUM0LjQsMS41LDEuNSw0LjQsMS41LDhzMi45LDYuNSw2LjUsNi41czYuNS0yLjksNi41LTYuNVMxMS42LDEuNSw4LDEuNUw4LDEuNXoiLz4KPHBhdGggc3R5bGU9Im9wYWNpdHk6MC4yNTtmaWxsOiMzMzMzMzM7ZW5hYmxlLWJhY2tncm91bmQ6bmV3ICAgIDsiIGQ9Ik04LDJjMy4zLDAsNiwyLjcsNiw2cy0yLjcsNi02LDZzLTYtMi43LTYtNlM0LjcsMiw4LDIgTTgsMSAgQzQuMSwxLDEsNC4xLDEsOHMzLjEsNyw3LDdzNy0zLjEsNy03UzExLjksMSw4LDFMOCwxeiIvPgo8L3N2Zz4="},t.StepperRightIcon={height:23,width:18,active:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIyMiI+CiA8Zz4KICA8dGl0bGU+YmFja2dyb3VuZDwvdGl0bGU+CiAgPHJlY3QgZmlsbD0ibm9uZSIgaWQ9ImNhbnZhc19iYWNrZ3JvdW5kIiBoZWlnaHQ9IjI0IiB3aWR0aD0iMjAiIHk9Ii0xIiB4PSItMSIvPgogPC9nPgoKIDxnPgogIDx0aXRsZT5MYXllciAxPC90aXRsZT4KICA8cGF0aCBpZD0ic3ZnXzEiIGZpbGw9IiMzMzMzMzMiIGQ9Im03LjMsMTUuNDM5MjNsNC42LC0zLjVjMC4xLC0wLjEgMC4xLC0wLjIgMCwtMC4zbC00LjYsLTMuNmMtMC4yLC0wLjEgLTAuMywwIC0wLjMsMC4ybDAsN2MwLDAuMiAwLjEsMC4zIDAuMywwLjJ6Ii8+CiA8L2c+Cjwvc3ZnPg==",enabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIyMiI+CiA8Zz4KICA8dGl0bGU+YmFja2dyb3VuZDwvdGl0bGU+CiAgPHJlY3QgeD0iLTEiIHk9Ii0xIiB3aWR0aD0iMjAiIGhlaWdodD0iMjQiIGlkPSJjYW52YXNfYmFja2dyb3VuZCIgZmlsbD0ibm9uZSIvPgogPC9nPgoKIDxnPgogIDx0aXRsZT5MYXllciAxPC90aXRsZT4KICA8cGF0aCBkPSJtNy4zLDE1LjQzOTIzbDQuNiwtMy41YzAuMSwtMC4xIDAuMSwtMC4yIDAsLTAuM2wtNC42LC0zLjZjLTAuMiwtMC4xIC0wLjMsMCAtMC4zLDAuMmwwLDdjMCwwLjIgMC4xLDAuMyAwLjMsMC4yeiIgZmlsbD0iIzY2NjY2NiIgaWQ9InN2Z18xIi8+CiA8L2c+Cjwvc3ZnPg==",disabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIyMiI+CiA8Zz4KICA8dGl0bGU+YmFja2dyb3VuZDwvdGl0bGU+CiAgPHJlY3QgeD0iLTEiIHk9Ii0xIiB3aWR0aD0iMjAiIGhlaWdodD0iMjQiIGlkPSJjYW52YXNfYmFja2dyb3VuZCIgZmlsbD0ibm9uZSIvPgogPC9nPgoKIDxnPgogIDx0aXRsZT5MYXllciAxPC90aXRsZT4KICA8cGF0aCBkPSJtNy4zLDE1LjQzOTIzbDQuNiwtMy41YzAuMSwtMC4xIDAuMSwtMC4yIDAsLTAuM2wtNC42LC0zLjZjLTAuMiwtMC4xIC0wLjMsMCAtMC4zLDAuMmwwLDdjMCwwLjIgMC4xLDAuMyAwLjMsMC4yeiIgZmlsbD0iIzMzMzMzMyIgb3BhY2l0eT0iMC4yNSIgaWQ9InN2Z18xIi8+CiA8L2c+Cjwvc3ZnPg=="},t.StepperLeftIcon={height:23,width:18,active:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIyMiI+CiA8Zz4KICA8dGl0bGU+YmFja2dyb3VuZDwvdGl0bGU+CiAgPHJlY3QgZmlsbD0ibm9uZSIgaWQ9ImNhbnZhc19iYWNrZ3JvdW5kIiBoZWlnaHQ9IjI0IiB3aWR0aD0iMjAiIHk9Ii0xIiB4PSItMSIvPgogPC9nPgoKIDxnPgogIDx0aXRsZT5MYXllciAxPC90aXRsZT4KICA8cGF0aCB0cmFuc2Zvcm09InJvdGF0ZSgxODAgOS40ODc1MDAxOTA3MzQ4NjMsMTEuNzM5MjMwMTU1OTQ0ODI0KSAiIHN0cm9rZT0ibnVsbCIgaWQ9InN2Z18xIiBmaWxsPSIjMzMzMzMzIiBkPSJtNy4zLDE1LjQzOTIzbDQuNiwtMy41YzAuMSwtMC4xIDAuMSwtMC4yIDAsLTAuM2wtNC42LC0zLjZjLTAuMiwtMC4xIC0wLjMsMCAtMC4zLDAuMmwwLDdjMCwwLjIgMC4xLDAuMyAwLjMsMC4yeiIvPgogPC9nPgo8L3N2Zz4=",enabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIyMiI+CiA8Zz4KICA8dGl0bGU+YmFja2dyb3VuZDwvdGl0bGU+CiAgPHJlY3QgeD0iLTEiIHk9Ii0xIiB3aWR0aD0iMjAiIGhlaWdodD0iMjQiIGlkPSJjYW52YXNfYmFja2dyb3VuZCIgZmlsbD0ibm9uZSIvPgogPC9nPgoKIDxnPgogIDx0aXRsZT5MYXllciAxPC90aXRsZT4KICA8cGF0aCBkPSJtNy4zLDE1LjQzOTIzbDQuNiwtMy41YzAuMSwtMC4xIDAuMSwtMC4yIDAsLTAuM2wtNC42LC0zLjZjLTAuMiwtMC4xIC0wLjMsMCAtMC4zLDAuMmwwLDdjMCwwLjIgMC4xLDAuMyAwLjMsMC4yeiIgZmlsbD0iIzY2NjY2NiIgaWQ9InN2Z18xIiBzdHJva2U9Im51bGwiIHRyYW5zZm9ybT0icm90YXRlKDE4MCA5LjQ4NzUwMDE5MDczNDg2MywxMS43MzkyMzAxNTU5NDQ4MjQpICIvPgogPC9nPgo8L3N2Zz4=",disabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIyMiI+CiA8Zz4KICA8dGl0bGU+YmFja2dyb3VuZDwvdGl0bGU+CiAgPHJlY3QgeD0iLTEiIHk9Ii0xIiB3aWR0aD0iMjAiIGhlaWdodD0iMjQiIGlkPSJjYW52YXNfYmFja2dyb3VuZCIgZmlsbD0ibm9uZSIvPgogPC9nPgoKIDxnPgogIDx0aXRsZT5MYXllciAxPC90aXRsZT4KICA8cGF0aCBkPSJtNy4zLDE0LjQzOTIzbDQuNiwtMy41YzAuMSwtMC4xIDAuMSwtMC4yIDAsLTAuM2wtNC42LC0zLjZjLTAuMiwtMC4xIC0wLjMsMCAtMC4zLDAuMmwwLDdjMCwwLjIgMC4xLDAuMyAwLjMsMC4yeiIgZmlsbD0iIzMzMzMzMyIgb3BhY2l0eT0iMC4yNSIgaWQ9InN2Z18xIiB0cmFuc2Zvcm09InJvdGF0ZSgxODAgOS40ODc1MDAxOTA3MzQ4NjMsMTAuNzM5MjMwMTU1OTQ0ODI0KSAiIHN0cm9rZT0ibnVsbCIvPgogPC9nPgo8L3N2Zz4="},t.StepperUpIcon={height:11,width:18,active:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxMSI+CiA8Zz4KICA8dGl0bGU+YmFja2dyb3VuZDwvdGl0bGU+CiAgPHJlY3QgeD0iLTEiIHk9Ii0xIiB3aWR0aD0iMTgiIGhlaWdodD0iMTIiIGlkPSJjYW52YXNfYmFja2dyb3VuZCIgZmlsbD0ibm9uZSIvPgogPC9nPgoKIDxnPgogIDx0aXRsZT5MYXllciAxPC90aXRsZT4KICA8cGF0aCB0cmFuc2Zvcm09InJvdGF0ZSgtOTAgOC40ODc1MDAxOTA3MzQ4NjUsNS43MzkyMzA2MzI3ODE5ODMpICIgZD0ibTYuMyw5LjQzOTIzMWw0LjYsLTMuNWMwLjEsLTAuMSAwLjEsLTAuMiAwLC0wLjNsLTQuNiwtMy42Yy0wLjIsLTAuMSAtMC4zLDAgLTAuMywwLjJsMCw3YzAsMC4yIDAuMSwwLjMgMC4zLDAuMnoiIGZpbGw9IiMzMzMzMzMiIGlkPSJzdmdfMSIvPgogPC9nPgo8L3N2Zz4=",enabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxMSI+CiA8Zz4KICA8dGl0bGU+YmFja2dyb3VuZDwvdGl0bGU+CiAgPHJlY3QgeD0iLTEiIHk9Ii0xIiB3aWR0aD0iMTgiIGhlaWdodD0iMTIiIGlkPSJjYW52YXNfYmFja2dyb3VuZCIgZmlsbD0ibm9uZSIvPgogPC9nPgoKIDxnPgogIDx0aXRsZT5MYXllciAxPC90aXRsZT4KICA8cGF0aCB0cmFuc2Zvcm09InJvdGF0ZSgtOTAgOC40ODc1MDAxOTA3MzQ4NjUsNS43MzkyMzA2MzI3ODE5ODMpICIgZD0ibTYuMyw5LjQzOTIzMWw0LjYsLTMuNWMwLjEsLTAuMSAwLjEsLTAuMiAwLC0wLjNsLTQuNiwtMy42Yy0wLjIsLTAuMSAtMC4zLDAgLTAuMywwLjJsMCw3YzAsMC4yIDAuMSwwLjMgMC4zLDAuMnoiIGZpbGw9IiM2NjY2NjYiIGlkPSJzdmdfMSIvPgogPC9nPgo8L3N2Zz4=",disabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxMSI+CiA8Zz4KICA8dGl0bGU+YmFja2dyb3VuZDwvdGl0bGU+CiAgPHJlY3QgeD0iLTEiIHk9Ii0xIiB3aWR0aD0iMTgiIGhlaWdodD0iMTIiIGlkPSJjYW52YXNfYmFja2dyb3VuZCIgZmlsbD0ibm9uZSIvPgogPC9nPgoKIDxnPgogIDx0aXRsZT5MYXllciAxPC90aXRsZT4KICA8cGF0aCB0cmFuc2Zvcm09InJvdGF0ZSgtOTAgOC40ODc1MDAxOTA3MzQ4NjUsNS43MzkyMzA2MzI3ODE5ODMpICIgZD0ibTYuMyw5LjQzOTIzMWw0LjYsLTMuNWMwLjEsLTAuMSAwLjEsLTAuMiAwLC0wLjNsLTQuNiwtMy42Yy0wLjIsLTAuMSAtMC4zLDAgLTAuMywwLjJsMCw3YzAsMC4yIDAuMSwwLjMgMC4zLDAuMnoiIGZpbGw9IiMzMzMzMzMiIG9wYWNpdHk9IjAuMjUiIGlkPSJzdmdfMSIvPgogPC9nPgo8L3N2Zz4="},t.StepperDownIcon={height:10,width:18,active:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxMCI+CiA8Zz4KICA8dGl0bGU+YmFja2dyb3VuZDwvdGl0bGU+CiAgPHJlY3QgeD0iLTEiIHk9Ii0xIiB3aWR0aD0iMTgiIGhlaWdodD0iMTIiIGlkPSJjYW52YXNfYmFja2dyb3VuZCIgZmlsbD0ibm9uZSIvPgogPC9nPgoKIDxnPgogIDx0aXRsZT5MYXllciAxPC90aXRsZT4KICA8cGF0aCB0cmFuc2Zvcm09InJvdGF0ZSg5MCA4LjQ4NzUwMDE5MDczNDg2NSw1LjczOTIzMTU4NjQ1NjMpICIgZD0ibTYuMyw5LjQzOTIzMWw0LjYsLTMuNWMwLjEsLTAuMSAwLjEsLTAuMiAwLC0wLjNsLTQuNiwtMy42Yy0wLjIsLTAuMSAtMC4zLDAgLTAuMywwLjJsMCw3YzAsMC4yIDAuMSwwLjMgMC4zLDAuMnoiIGZpbGw9IiMzMzMzMzMiIGlkPSJzdmdfMSIvPgogPC9nPgo8L3N2Zz4=",enabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxMCI+CiA8Zz4KICA8dGl0bGU+YmFja2dyb3VuZDwvdGl0bGU+CiAgPHJlY3QgeD0iLTEiIHk9Ii0xIiB3aWR0aD0iMTgiIGhlaWdodD0iMTIiIGlkPSJjYW52YXNfYmFja2dyb3VuZCIgZmlsbD0ibm9uZSIvPgogPC9nPgoKIDxnPgogIDx0aXRsZT5MYXllciAxPC90aXRsZT4KICA8cGF0aCB0cmFuc2Zvcm09InJvdGF0ZSg5MCA4LjQ4NzUwMDE5MDczNDg2NSw1LjczOTIzMTU4NjQ1NjMpICIgZD0ibTYuMyw5LjQzOTIzMWw0LjYsLTMuNWMwLjEsLTAuMSAwLjEsLTAuMiAwLC0wLjNsLTQuNiwtMy42Yy0wLjIsLTAuMSAtMC4zLDAgLTAuMywwLjJsMCw3YzAsMC4yIDAuMSwwLjMgMC4zLDAuMnoiIGZpbGw9IiM2NjY2NjYiIGlkPSJzdmdfMSIvPgogPC9nPgo8L3N2Zz4=",disabled:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxMCI+CiA8Zz4KICA8dGl0bGU+YmFja2dyb3VuZDwvdGl0bGU+CiAgPHJlY3QgeD0iLTEiIHk9Ii0xIiB3aWR0aD0iMTgiIGhlaWdodD0iMTIiIGlkPSJjYW52YXNfYmFja2dyb3VuZCIgZmlsbD0ibm9uZSIvPgogPC9nPgoKIDxnPgogIDx0aXRsZT5MYXllciAxPC90aXRsZT4KICA8cGF0aCB0cmFuc2Zvcm09InJvdGF0ZSg5MCA4LjQ4NzUwMDE5MDczNDg2NSw1LjczOTIzMTU4NjQ1NjMpICIgZD0ibTYuMyw5LjQzOTIzMWw0LjYsLTMuNWMwLjEsLTAuMSAwLjEsLTAuMiAwLC0wLjNsLTQuNiwtMy42Yy0wLjIsLTAuMSAtMC4zLDAgLTAuMywwLjJsMCw3YzAsMC4yIDAuMSwwLjMgMC4zLDAuMnoiIGZpbGw9IiMzMzMzMzMiIG9wYWNpdHk9IjAuMjUiIGlkPSJzdmdfMSIvPgogPC9nPgo8L3N2Zz4="},t.TextFieldClearIcon={height:12,width:12,clear:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjEycHgiIGhlaWdodD0iMTJweCIgdmlld0JveD0iMCAwIDEyIDEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxMiAxMjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPgoJLnN0MHtmaWxsOiM2NjY2NjY7fQo8L3N0eWxlPgo8Zz4KCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik04LjksMi45TDMsOC45Yy0wLjIsMC4yLTAuNiwwLjItMC44LDBsMCwwQzIsOC43LDIsOC4zLDIuMiw4LjFsNS45LTUuOUM4LjMsMiw4LjcsMiw4LjksMi4ybDAsMCAgIEM5LjEsMi40LDkuMSwyLjcsOC45LDIuOXoiLz4KCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0zLDIuMmw1LjksNS45YzAuMiwwLjIsMC4yLDAuNiwwLDAuOGwwLDBjLTAuMiwwLjItMC42LDAuMi0wLjgsMEwyLjIsM0MyLDIuOCwyLDIuNCwyLjIsMi4ybDAsMCAgIEMyLjUsMiwyLjgsMiwzLDIuMnoiLz4KPC9nPgo8L3N2Zz4=",clearActive:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjEycHgiIGhlaWdodD0iMTJweCIgdmlld0JveD0iMCAwIDEyIDEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxMiAxMjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPgoJLnN0MHtmaWxsOiMzMzMzMzM7fQo8L3N0eWxlPgo8Zz4KCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik04LjksMi45TDMsOC45Yy0wLjIsMC4yLTAuNiwwLjItMC44LDBsMCwwQzIsOC43LDIsOC4zLDIuMiw4LjFsNS45LTUuOUM4LjMsMiw4LjcsMiw4LjksMi4ybDAsMCAgIEM5LjEsMi40LDkuMSwyLjcsOC45LDIuOXoiLz4KCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0zLDIuMmw1LjksNS45YzAuMiwwLjIsMC4yLDAuNiwwLDAuOGwwLDBjLTAuMiwwLjItMC42LDAuMi0wLjgsMEwyLjIsM0MyLDIuOCwyLDIuNCwyLjIsMi4ybDAsMCAgIEMyLjUsMiwyLjgsMiwzLDIuMnoiLz4KPC9nPgo8L3N2Zz4="},t.SearchIcon={height:12,width:12,search:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjEycHgiIGhlaWdodD0iMTJweCIgdmlld0JveD0iMCAwIDEyIDEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxMiAxMjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8Zz4KCTxwYXRoIHN0eWxlPSJmaWxsLXJ1bGU6ZXZlbm9kZDtjbGlwLXJ1bGU6ZXZlbm9kZDtmaWxsOiM2NjY2NjY7IiBkPSJNNy41LDBDNS4wMTUsMCwzLDIuMDE1LDMsNC41UzUuMDE1LDksNy41LDlTMTIsNi45ODUsMTIsNC41ICAgUzkuOTg1LDAsNy41LDB6IE03LjUsOEM1LjU2Nyw4LDQsNi40MzMsNCw0LjVTNS41NjcsMSw3LjUsMVMxMSwyLjU2NywxMSw0LjVTOS40MzMsOCw3LjUsOHoiLz4KCTxwYXRoIHN0eWxlPSJmaWxsLXJ1bGU6ZXZlbm9kZDtjbGlwLXJ1bGU6ZXZlbm9kZDtmaWxsOiM2NjY2NjY7IiBkPSJNNS4wMjYsNy44NThsLTMuOTYsMy45NmMtMC4yNDMsMC4yNDMtMC42NDEsMC4yNDMtMC44ODQsMGwwLDAgICBjLTAuMjQzLTAuMjQzLTAuMjQzLTAuNjQxLDAtMC44ODRsMy45Ni0zLjk2YzAuMjQzLTAuMjQzLDAuNjQxLTAuMjQzLDAuODg0LDBsMCwwQzUuMjY5LDcuMjE3LDUuMjY5LDcuNjE1LDUuMDI2LDcuODU4eiIvPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+Cjwvc3ZnPg==",searchActive:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjEycHgiIGhlaWdodD0iMTJweCIgdmlld0JveD0iMCAwIDEyIDEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxMiAxMjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8Zz4KCTxwYXRoIHN0eWxlPSJmaWxsOiMzMzMzMzM7IiBkPSJNNy41LDBDNSwwLDMsMiwzLDQuNVM1LDksNy41LDlTMTIsNywxMiw0LjVTMTAsMCw3LjUsMHogTTcuNSw4QzUuNiw4LDQsNi40LDQsNC41UzUuNiwxLDcuNSwxICAgUzExLDIuNiwxMSw0LjVTOS40LDgsNy41LDh6Ii8+Cgk8cGF0aCBzdHlsZT0iZmlsbDojMzMzMzMzOyIgZD0iTTUsNy45bC00LDRjLTAuMiwwLjItMC42LDAuMi0wLjksMGwwLDBjLTAuMi0wLjItMC4yLTAuNiwwLTAuOWw0LTRDNC40LDYuNyw0LjgsNi43LDUsN2wwLDAgICBDNS4zLDcuMiw1LjMsNy42LDUsNy45eiIvPgo8L2c+Cjwvc3ZnPg=="},t.ActivitySpinnerIcon={underlaySize:65,size:50,edgeBrowserImage:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MCA1MCIgc3R5bGU9ImN1cnNvcjp3YWl0O292ZXJmbG93OmhpZGRlbjstd2Via2l0LWFuaW1hdGlvbjpzdmctc3Bpbm5lci1hbmltYXRpb24gMXMgbGluZWFyIGluZmluaXRlO2FuaW1hdGlvbjpzdmctc3Bpbm5lci1hbmltYXRpb24gMXMgbGluZWFyIGluZmluaXRlO3RyYW5zZm9ybS1vcmlnaW46Y2VudGVyOyI+PHN0eWxlIHR5cGU9InRleHQvY3NzIj5ALXdlYmtpdC1rZXlmcmFtZXMgc3ZnLXNwaW5uZXItYW5pbWF0aW9uezEwMCV7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDM2MGRlZyk7fX1Aa2V5ZnJhbWVzIHN2Zy1zcGlubmVyLWFuaW1hdGlvbnsxMDAle3RyYW5zZm9ybTpyb3RhdGUoMzYwZGVnKTt9fTwvc3R5bGU+PGc+PHBhdGggZD0iTTQyLjcsNy4zTDQwLDEwYzMuOCwzLjgsNi4yLDkuMSw2LjIsMTVjMCwxMS43LTkuNSwyMS4xLTIxLjEsMjEuMUMxMy4zLDQ2LjEsMy45LDM2LjcsMy45LDI1SDBjMCwxMy44LDExLjIsMjUsMjUsMjVjMTMuOCwwLDI1LTExLjIsMjUtMjVDNTAsMTguMSw0Ny4yLDExLjksNDIuNyw3LjN6IiBzdHlsZT0iZmlsbDojNjE2NTcwOyIvPjwvZz48L3N2Zz4=",animation:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2aWV3Qm94PSIwIDAgNTAgNTAiIHN0eWxlPSJjdXJzb3I6d2FpdDtvdmVyZmxvdzpoaWRkZW47LXdlYmtpdC1hbmltYXRpb246c3ZnLXNwaW5uZXItYW5pbWF0aW9uIDFzIGxpbmVhciBpbmZpbml0ZTthbmltYXRpb246c3ZnLXNwaW5uZXItYW5pbWF0aW9uIDFzIGxpbmVhciBpbmZpbml0ZTt0cmFuc2Zvcm0tb3JpZ2luOmNlbnRlcjsiPjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+QC13ZWJraXQta2V5ZnJhbWVzIHN2Zy1zcGlubmVyLWFuaW1hdGlvbnsxMDAley13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgzNjBkZWcpO319QGtleWZyYW1lcyBzdmctc3Bpbm5lci1hbmltYXRpb257MTAwJXt0cmFuc2Zvcm06cm90YXRlKDM2MGRlZyk7fX08L3N0eWxlPjxnPjxwYXRoIGQ9Ik00Mi43LDcuM0w0MCwxMGMzLjgsMy44LDYuMiw5LjEsNi4yLDE1YzAsMTEuNy05LjUsMjEuMS0yMS4xLDIxLjFDMTMuMyw0Ni4xLDMuOSwzNi43LDMuOSwyNUgwYzAsMTMuOCwxMS4yLDI1LDI1LDI1YzEzLjgsMCwyNS0xMS4yLDI1LTI1QzUwLDE4LjEsNDcuMiwxMS45LDQyLjcsNy4zeiIgc3R5bGU9ImZpbGw6IzYxNjU3MDsiLz48L2c+PGc+PGRlZnM+PHBhdGggaWQ9InN2Zy1zcGlubmVyLWNpcmNsZSIgZD0iTTI1LDUwQzExLjIsNTAsMCwzOC44LDAsMjVDMCwxMS4yLDExLjIsMCwyNSwwYzEzLjgsMCwyNSwxMS4yLDI1LDI1QzUwLDM4LjgsMzguOCw1MCwyNSw1MHogTTI1LDMuOUMxMy4zLDMuOSwzLjksMTMuMywzLjksMjVjMCwxMS43LDkuNSwyMS4xLDIxLjEsMjEuMVM0Ni4xLDM2LjcsNDYuMSwyNUM0Ni4xLDEzLjMsMzYuNywzLjksMjUsMy45eiIvPjwvZGVmcz48Y2xpcFBhdGggaWQ9InN2Zy1zcGlubmVyLWNsaXBwYXRoIj48dXNlIHhsaW5rOmhyZWY9IiNzdmctc3Bpbm5lci1jaXJjbGUiIHN0eWxlPSJvdmVyZmxvdzp2aXNpYmxlOyIvPjwvY2xpcFBhdGg+PGxpbmVhckdyYWRpZW50IGlkPSJzdmctc3Bpbm5lci1ncmFkaWVudCIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHgxPSIwIiB5MT0iMTIuNDk5OCIgeDI9IjUwIiB5Mj0iMTIuNDk5OCI+PHN0b3Agb2Zmc2V0PSIwIiBzdHlsZT0ic3RvcC1jb2xvcjojNjE2NTcwO3N0b3Atb3BhY2l0eTowIi8+PHN0b3Agb2Zmc2V0PSIwLjE1IiBzdHlsZT0ic3RvcC1jb2xvcjojNjE2NTcwO3N0b3Atb3BhY2l0eTowLjA0Ii8+PHN0b3Agb2Zmc2V0PSIwLjMiIHN0eWxlPSJzdG9wLWNvbG9yOiM2MTY1NzA7c3RvcC1vcGFjaXR5OjAuMTYiLz48c3RvcCBvZmZzZXQ9IjAuNDUiIHN0eWxlPSJzdG9wLWNvbG9yOiM2MTY1NzA7c3RvcC1vcGFjaXR5OjAuMzYiLz48c3RvcCBvZmZzZXQ9IjAuNjEiIHN0eWxlPSJzdG9wLWNvbG9yOiM2MTY1NzA7c3RvcC1vcGFjaXR5OjAuNjQiLz48c3RvcCBvZmZzZXQ9IjAuNzYiIHN0eWxlPSJzdG9wLWNvbG9yOiM2MTY1NzAiLz48L2xpbmVhckdyYWRpZW50Pjxwb2x5Z29uIHBvaW50cz0iMjUsMjUgMCwyNSAwLDAgNTAsMCIgc3R5bGU9ImNsaXAtcGF0aDp1cmwoI3N2Zy1zcGlubmVyLWNsaXBwYXRoKTtmaWxsOnVybCgjc3ZnLXNwaW5uZXItZ3JhZGllbnQpOyIvPjwvZz48L3N2Zz4="},t.SliderHandleIcon={height:20,width:20,enabled:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJDaXJjbGUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iMjBweCIgaGVpZ2h0PSIyMHB4IiB2aWV3Qm94PSIwIDAgMjAgMjAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDIwIDIwOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8Y2lyY2xlIGlkPSJXaGl0ZUZpbGxlZEJhY2tncm91bmRfMV8iIHN0eWxlPSJmaWxsOiNGRkZGRkY7IiBjeD0iMTAiIGN5PSIxMCIgcj0iNy41Ii8+DQo8cGF0aCBpZD0iQ2lyY2xlXzFfIiBzdHlsZT0iZmlsbDojNjY2NjY2OyIgZD0iTTEwLDNjMy44LDAsNywzLjIsNyw3cy0zLjIsNy03LDdzLTctMy4yLTctN1M2LjIsMywxMCwzIE0xMCwyYy00LjQsMC04LDMuNi04LDgNCglzMy42LDgsOCw4czgtMy42LDgtOFMxNC40LDIsMTAsMkwxMCwyeiIvPg0KPC9zdmc+",active:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJDaXJjbGUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iMjBweCIgaGVpZ2h0PSIyMHB4IiB2aWV3Qm94PSIwIDAgMjAgMjAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDIwIDIwOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8Y2lyY2xlIGlkPSJXaGl0ZUZpbGxlZEJhY2tncm91bmQiIHN0eWxlPSJmaWxsOiNGRkZGRkY7IiBjeD0iMTAiIGN5PSIxMCIgcj0iNy41Ii8+DQo8cGF0aCBpZD0iQ2lyY2xlXzJfIiBzdHlsZT0iZmlsbDojMzMzMzMzOyIgZD0iTTEwLDNjMy44LDAsNywzLjIsNyw3cy0zLjIsNy03LDdzLTctMy4yLTctN1M2LjIsMywxMCwzIE0xMCwyYy00LjQsMC04LDMuNi04LDgNCglzMy42LDgsOCw4czgtMy42LDgtOFMxNC40LDIsMTAsMkwxMCwyeiIvPg0KPC9zdmc+",disabled:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJDaXJjbGUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iMjBweCIgaGVpZ2h0PSIyMHB4IiB2aWV3Qm94PSIwIDAgMjAgMjAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDIwIDIwOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8Y2lyY2xlIGlkPSJXaGl0ZUZpbGxlZEJhY2tncm91bmRfMV8iIHN0eWxlPSJmaWxsOiNFQkVCRUI7IiBjeD0iMTAiIGN5PSIxMCIgcj0iNy41Ii8+DQo8cGF0aCBpZD0iQ2lyY2xlXzFfIiBzdHlsZT0iZmlsbDojQjRCNEI0OyIgZD0iTTEwLDNjMy44LDAsNywzLjIsNyw3cy0zLjIsNy03LDdzLTctMy4yLTctN1M2LjIsMywxMCwzIE0xMCwyYy00LjQsMC04LDMuNi04LDgNCglzMy42LDgsOCw4czgtMy42LDgtOFMxNC40LDIsMTAsMkwxMCwyeiIvPg0KPC9zdmc+DQo="},t.SliderLeftHandleIcon={height:20,width:20,artworkOffsetFromRightSide:4,enabled:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMZWZ0SGFsZkNpcmNsZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4Ig0KCSB5PSIwcHgiIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjAgMCAyMCAyMCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjAgMjA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxwYXRoIGlkPSJXaGl0ZUZpbGxlZEJhY2tncm91bmQiIHN0eWxlPSJmaWxsOiNGRkZGRkY7IiBkPSJNMTEuMiwyLjVjLTQuMywwLTcuNywzLjMtNy43LDcuNXMzLjUsNy41LDcuOCw3LjVoNC4zdi0xNUgxMS4yeiIvPg0KPHBhdGggaWQ9IkxlZnRIYWxmQ2lyY2xlXzJfIiBzdHlsZT0iZmlsbDojNjY2NjY2OyIgZD0iTTE1LDN2MTRoLTMuNkM3LjMsMTcsNCwxMy45LDQsMTBzMy4zLTcsNy40LTdIMTUgTTE2LDJoLTQuNg0KCUM2LjcsMiwzLDUuNiwzLDEwczMuNyw4LDguNCw4SDE2VjJMMTYsMnoiLz4NCjwvc3ZnPg0K",active:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMZWZ0SGFsZkNpcmNsZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4Ig0KCSB5PSIwcHgiIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjAgMCAyMCAyMCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjAgMjA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxwYXRoIGlkPSJXaGl0ZUZpbGxlZEJhY2tncm91bmRfMV8iIHN0eWxlPSJmaWxsOiNGRkZGRkY7IiBkPSJNMTEuMiwyLjVjLTQuMywwLTcuNywzLjMtNy43LDcuNXMzLjUsNy41LDcuOCw3LjVoNC4zdi0xNUgxMS4yeiIvPg0KPHBhdGggaWQ9IkxlZnRIYWxmQ2lyY2xlXzFfIiBzdHlsZT0iZmlsbDojMzMzMzMzOyIgZD0iTTE1LDN2MTRoLTMuNkM3LjMsMTcsNCwxMy45LDQsMTBzMy4zLTcsNy40LTdIMTUgTTE2LDJoLTQuNg0KCUM2LjcsMiwzLDUuNiwzLDEwczMuNyw4LDguNCw4SDE2VjJMMTYsMnoiLz4NCjwvc3ZnPg0K",disabled:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMZWZ0SGFsZkNpcmNsZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4Ig0KCSB5PSIwcHgiIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjAgMCAyMCAyMCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjAgMjA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxwYXRoIGlkPSJXaGl0ZUZpbGxlZEJhY2tncm91bmRfMV8iIHN0eWxlPSJmaWxsOiNFQkVCRUI7IiBkPSJNMTEuMiwyLjVjLTQuMywwLTcuNywzLjMtNy43LDcuNXMzLjUsNy41LDcuOCw3LjVoNC4zdi0xNUgxMS4yeiIvPg0KPGcgaWQ9IkxlZnRIYWxmQ2lyY2xlXzJfIj4NCgk8cGF0aCBzdHlsZT0iZmlsbDojQjRCNEI0OyIgZD0iTTE1LDN2MTRoLTMuNkM3LjMsMTcsNCwxMy45LDQsMTBzMy4zLTcsNy40LTdIMTUgTTE2LDJoLTQuNkM2LjcsMiwzLDUuNiwzLDEwczMuNyw4LDguNCw4SDE2VjINCgkJTDE2LDJ6Ii8+DQo8L2c+DQo8L3N2Zz4NCg=="},t.SliderRightHandleIcon={height:20,width:20,artworkOffsetFromLeftSide:2,enabled:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJSaWdodEhhbGZDaXJjbGUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCINCgkgeT0iMHB4IiB3aWR0aD0iMjBweCIgaGVpZ2h0PSIyMHB4IiB2aWV3Qm94PSIwIDAgMjAgMjAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDIwIDIwOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8cGF0aCBpZD0iV2hpdGVGaWxsZWRCYWNrZ3JvdW5kXzFfIiBzdHlsZT0iZmlsbDojRkZGRkZGOyIgZD0iTTcuOCwyLjZjNC4zLDAsNy44LDMuMyw3LjgsNy40cy0zLjUsNy40LTcuOCw3LjRIMy41VjIuNkg3Ljh6Ii8+DQo8cGF0aCBpZD0iUmlnaHRIYWxmQ2lyY2xlXzFfIiBzdHlsZT0iZmlsbDojNjY2NjY2OyIgZD0iTTQsM2gzLjZjNC4xLDAsNy40LDMuMSw3LjQsN3MtMy4zLDctNy40LDdINFYzIE0zLDJ2MTZoNC42DQoJYzQuNiwwLDguNC0zLjYsOC40LThzLTMuNy04LTguNC04SDNMMywyeiIvPg0KPC9zdmc+DQo=",active:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJSaWdodEhhbGZDaXJjbGUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCINCgkgeT0iMHB4IiB3aWR0aD0iMjBweCIgaGVpZ2h0PSIyMHB4IiB2aWV3Qm94PSIwIDAgMjAgMjAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDIwIDIwOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8cGF0aCBpZD0iV2hpdGVGaWxsZWRCYWNrZ3JvdW5kXzFfIiBzdHlsZT0iZmlsbDojRkZGRkZGOyIgZD0iTTcuOCwyLjZjNC4zLDAsNy44LDMuMyw3LjgsNy40cy0zLjUsNy40LTcuOCw3LjRIMy41VjIuNkg3Ljh6Ii8+DQo8cGF0aCBpZD0iUmlnaHRIYWxmQ2lyY2xlXzFfIiBzdHlsZT0iZmlsbDojMzMzMzMzOyIgZD0iTTQsM2gzLjZjNC4xLDAsNy40LDMuMSw3LjQsN3MtMy4zLDctNy40LDdINFYzIE0zLDJ2MTZoNC42DQoJYzQuNiwwLDguNC0zLjYsOC40LThzLTMuNy04LTguNC04SDNMMywyeiIvPg0KPC9zdmc+DQo=",disabled:"data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJSaWdodEhhbGZDaXJjbGUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCINCgkgeT0iMHB4IiB3aWR0aD0iMjBweCIgaGVpZ2h0PSIyMHB4IiB2aWV3Qm94PSIwIDAgMjAgMjAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDIwIDIwOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8cGF0aCBpZD0iV2hpdGVGaWxsZWRCYWNrZ3JvdW5kXzFfIiBzdHlsZT0iZmlsbDojRUJFQkVCOyIgZD0iTTcuOCwyLjZjNC4zLDAsNy44LDMuMyw3LjgsNy40cy0zLjUsNy40LTcuOCw3LjRIMy41VjIuNkg3Ljh6Ii8+DQo8cGF0aCBpZD0iUmlnaHRIYWxmQ2lyY2xlXzFfIiBzdHlsZT0iZmlsbDojQjRCNEI0OyIgZD0iTTQsM2gzLjZjNC4xLDAsNy40LDMuMSw3LjQsN3MtMy4zLDctNy40LDdINFYzIE0zLDJ2MTZoNC42DQoJYzQuNiwwLDguNC0zLjYsOC40LThzLTMuNy04LTguNC04SDNMMywyeiIvPg0KPC9zdmc+"}},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=o(11),r=o(4),s=o(39),a=o(36),l=o(34),d=o(37),c=o(3),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.getContainerStyleOfIndex=function(e){return e!==this.props.checkBoxWithLabelPropsList.length-1?{paddingBottom:c.TabStyles.Sizing.ListRowHeight-c.TabStyles.Sizing.MultiLineInputLineHeight-(d.CheckBoxIcon.height-c.TabStyles.Sizing.MultiLineInputLineHeight)/2}:{}},t.prototype.render=function(){var e=this;return i.createElement(a.Block,{role:"group"},this.props.checkBoxWithLabelPropsList.map(function(t,o){var n=r.assign({},t.containerStyle,e.getContainerStyleOfIndex(o)),a=r.assign({},t,{containerStyle:n,key:o});return i.createElement(s.CheckBoxWithLabelWidget,a)}))},t}(l.DynamicThemeComponent);t.CheckBoxWithLabelGroupWidget=u},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};Object.defineProperty(t,"__esModule",{value:!0});var r=o(11),s=o(35),a=o(36),l=o(1),d=o(34),c=o(37),u=o(10),p=o(40),h=o(3),g=function(){return{label:{display:"flex",alignItems:"flex-start",lineHeight:h.TabStyles.Sizing.MultiLineInputLineHeight},text:{width:"100%",overflow:"hidden",textOverflow:"ellipsis",paddingTop:(c.CheckBoxIcon.height-h.TabStyles.Sizing.MultiLineInputLineHeight)/2}}},y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){var e=g();return r.createElement(a.Block,{className:l.SuppressClickBustingClass,style:this.props.containerStyle,role:"checkbox","aria-checked":this.props.checked},r.createElement(p.InputLabelWidget,{disabled:this.props.disabled,testId:this.props.testId,style:e.label},r.createElement(s.CheckBoxWidget,{disabled:this.props.disabled,checked:this.props.checked,handleChange:this.props.handleChange,hover:this.state.hover,removeLeftMargin:this.props.removeLeftMargin,testId:this.props.testId}),r.createElement(a.InlineBlock,{"aria-label":this.props.label,style:e.text},this.props.label)))},t}(d.DynamicThemeComponent);y=i([u.InteractiveDomHoCDecorator],y),t.CheckBoxWithLabelWidget=y},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};Object.defineProperty(t,"__esModule",{value:!0});var r=o(11),s=o(4),a=o(3),l=o(10),d=o(34),c=a.TabStyles.Typography,u=function(){return{base:{fontSize:c.Sizing.Default,fontFamily:c.FontFamily,fontWeight:"normal",color:c.Color.Primary,lineHeight:"normal"},disabled:{color:c.Color.Disabled}}},p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){var e,t=u();return e=this.props.disabled?s.assign({},t.base,this.props.style,t.disabled):s.assign({},t.base,this.props.style),r.createElement("label",{style:e,"data-tb-test-id":this.props.testId+"-Label"},this.props.children)},t}(d.DynamicThemeComponent);p=i([l.InteractiveDomHoCDecorator],p),t.InputLabelWidget=p},function(e,t,o){"use strict";function n(e){var t=e.match(/^(?:(\d\d\d\d)-(1[0-2]|0?[1-9])-([12][0-9]|3[01]|0?[1-9]))?(?:T?(00|1[0-9]|2[0-3]|0[0-9]|[0-9]):([0-5][0-9]|[0-9])(?::([0-5][0-9]|[0-9]))?(?:(?:\+|\-)([0-9][0-4]|[0-9]):?:([0-5][0-9]|[0-9]))?)?/);return new Date(Date.UTC(+t[1]||0,+t[2]-1||0,+t[3]||0,+t[4]||0,+t[5]||0,+t[6]||0,0))}function i(e){var t=2-e.toString().length+1;return Array(+(t>0&&t)).join("0")+e}function r(e,t){if(!e)return null;if("string"==typeof e||e instanceof String)return e.toString();if(e instanceof Date){if(e=new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds()),isNaN(e.getDate()))return null;if(t===g.Date)return e.getFullYear()+"-"+i(e.getMonth()+1)+"-"+i(e.getDate());if(t===g.Time)return i(e.getHours())+":"+i(e.getMinutes());if(t===g.DateTime)return e.getFullYear()+"-"+i(e.getMonth()+1)+"-"+i(e.getDate())+"T"+i(e.getHours())+":"+i(e.getMinutes())}return null}var s=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var a=o(11),l=o(4),d=o(36),c=o(34),u=o(42),p=o(9),h=o(43),g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t}(h.TextInputType);g.Date=new g("date"),g.DateTime=new g("datetime-local"),g.Time=new g("time"),t.DateTimeInputType=g;var y=function(e){function t(t){var o=e.call(this,t)||this;return o.boundhandleKeyDown=function(e){return o.handleKeyDown(e)},o.boundHandleChangeWrapper=function(e){return o.handleChangeWrapper(e)},o.state={inputFocus:!1,inputActive:!1,inputHover:!1},o}return s(t,e),t.prototype.handleChangeWrapper=function(e){var t=n(e);t&&this.props.handleChange(t)},t.prototype.getInputStyle=function(){var e=u.getTextOutlineStyles();return l.assign({},e.input.base,{paddingRight:0},this.props.inputStyle)},t.prototype.handleKeyDown=function(e){this.props.disabled},t.prototype.render=function(){var e={style:this.props.containerStyle},t=u.getTextOutlineStyles(),o=this.getInputStyle(),n={style:o,interactiveStyles:t.input.interactive,text:r(this.props.value,this.props.type),testId:p.testId(this.props.testId,"DateTimeWidget"),type:this.props.type,handleChange:this.boundHandleChangeWrapper,handleEnter:this.props.handleEnter,disabled:this.props.disabled,readOnly:this.props.readOnly,onKeyDown:this.boundhandleKeyDown,name:this.props.name};return a.createElement(d.Block,e,a.createElement(h.TextFieldInputWidget,n))},t}(c.DynamicThemeComponent);t.DateTimeInputWidget=y},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__assign||Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++){t=arguments[o];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var r=o(11),s=o(4),a=o(37),l=o(9),d=o(36),c=o(3),u=o(43);t.TextInputType=u.TextInputType;var p=o(44),h=o(46),g=o(30),y=c.TabStyles.Colors,I=c.TabStyles.Sizing,f=c.TabStyles.Spacing,b=c.TabStyles.Typography,m=function(){return{input:{base:{borderWidth:I.BorderWidth,borderRadius:I.BorderRadius,borderColor:y.L6,borderStyle:"solid",height:I.RowHeight,paddingLeft:f.DefaultSpace,outline:"none",backgroundColor:y.Transparent,fontSize:b.Sizing.Default,fontFamily:b.FontFamily,color:b.Color.Primary,position:"relative",fontWeight:"normal",lineHeight:"normal",WebkitUserSelect:"text",userSelect:"text",paddingRight:a.TextFieldClearIcon.width+2*f.DefaultSpace},interactive:{hover:{borderColor:y.L8},active:{borderColor:y.L8},focus:{borderColor:y.L8},disabled:{borderColor:y.L9Disabled,color:b.Color.Disabled}},noClearIconButton:{paddingRight:f.DefaultSpace}},errorInput:{borderColor:y.AttentionLight},errorLabel:{fontSize:b.Sizing.Tiny,fontFamily:b.FontFamily,fontWeight:"normal",color:y.AttentionLight,lineHeight:"normal"},errorContainer:{paddingTop:f.SmallSpace},placeholder:{base:{fontSize:b.Sizing.Default,fontFamily:b.FontFamily,fontWeight:"normal",color:b.Color.Secondary,position:"absolute",left:f.DefaultSpace,textAlign:"start",lineHeight:I.RowHeight+"px"},disabled:{color:b.Color.Disabled}}}};t.getTextOutlineStyles=m;var v=function(e){function t(t){var o=e.call(this,t)||this;return o.boundHandleClearHover=function(e){return o.handleClearHover(e)},o.state=s.assign({},o.state,{clearHover:!1}),o}return n(t,e),t.prototype.componentWillReceiveProps=function(e){e.text||(this.state=s.assign({},this.state,{clearHover:!1}))},t.prototype.handleClearHover=function(e){this.props.disabled||this.setState({clearHover:e})},t.prototype.getInputStyle=function(){var e=m();return s.assign({},e.input.base,l.conditional(!this.props.handleClearText,e.input.noClearIconButton),l.conditional(this.state.clearHover,e.input.interactive.hover),this.props.hasError?e.errorInput:null,this.props.inputStyle)},t.prototype.render=function(){var e=this,t=m(),o=s.assign({},t.placeholder.base,this.props.placeholderStyle,l.conditional(this.props.disabled,t.placeholder.disabled)),n=this.isPlaceholderShowing(),a=this.props.hasError?null:t.input.interactive,c={type:this.props.type,style:this.getInputStyle(),interactiveStyles:a,text:this.props.text,testId:this.props.testId,handleChange:this.props.handleChange,handleEnter:this.props.handleEnter,handleEscape:this.props.handleEscape,disabled:this.props.disabled,handleActive:function(t){return e.handleInputActive(t)},handleFocus:function(t){return e.handleInputFocus(t)},handleBlur:this.props.handleBlur,readOnly:this.props.readOnly,maxLength:this.props.maxLength,name:this.props.name,ariaLabel:this.props.placeholder,inputRef:this.props.inputRef,shouldSelectTextOnFocus:this.props.shouldSelectTextOnFocus},h={pointerClick:this.props.handleClearText,handleHover:this.boundHandleClearHover,testId:this.props.testId,active:this.state.inputActive||this.state.inputHover||this.state.inputFocus,disabled:this.props.disabled},y=this.props.handleClearText?r.createElement(p.TextFieldWithClearIcon,{handleClearText:this.props.handleClearText,textFieldInputProps:c,textFieldClearButtonProps:h}):r.createElement(u.TextFieldInputWidget,i({},c));return r.createElement(d.Block,{style:this.props.containerStyle},n?r.createElement("label",{style:o,"data-tb-test-id":this.props.testId+"-Placeholder"},this.props.placeholder):null,y,this.props.displayErrorTextSection?r.createElement(d.Block,{style:t.errorContainer},r.createElement("label",{style:t.errorLabel,"data-tb-test-id":this.props.testId+"-ErrorLabel"},this.props.hasError?this.props.errorText:g.Unicode.NonBreakingSpace)):null)},t}(h.TextFieldBase);t.OutlineTextFieldWidget=v},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};Object.defineProperty(t,"__esModule",{value:!0});var r=o(11),s=o(11),a=o(4),l=o(10),d=o(29),c=o(3),u="shared-widgets-text-input";d.SingletonStyleSheet.addRawSelector("."+u+":focus",{"background-color":c.TabStyles.Colors.Transparent});try{d.SingletonStyleSheet.addRawSelector("."+u+"::-ms-clear",{display:"none"})}catch(p){}var h=function(){function e(e){this.value=e}return e.prototype.toString=function(){return this.value},e}();h.Text=new h("text"),h.Password=new h("password"),t.TextInputType=h;var g={input:{width:"100%",boxSizing:"border-box"}},y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.boundInputRef=function(e){t.props.inputRef&&t.props.inputRef(e)},t.boundHandleInputFocus=function(e){return t.handleFocusWrapper(e)},t}return n(t,e),t.prototype.handleChangeWrapper=function(e){this.props.disabled||this.props.handleChange(e.target.value)},t.prototype.handleFocusWrapper=function(e){if(this.props.shouldSelectTextOnFocus){var t=e.target;t.value&&t.setSelectionRange(0,t.value.length)}},t.prototype.render=function(){var e=this,t=this.props.type?this.props.type.toString():"text",o={className:u,type:t,style:a.assign({},g.input,this.props.style),value:this.props.text||"","data-tb-test-id":this.props.testId+"-TextInput",onChange:function(t){return e.handleChangeWrapper(t)},onKeyDown:function(t){!e.props.disabled&&e.props.onKeyDown&&e.props.onKeyDown(t)},onKeyUp:function(t){e.props.disabled||!e.props.handleEnter&&!e.props.handleEscape||("Enter"===t.key&&e.props.handleEnter&&e.props.handleEnter(),"Escape"===t.key&&e.props.handleEscape&&e.props.handleEscape())},onFocus:this.boundHandleInputFocus,disabled:this.props.disabled,readOnly:this.props.readOnly,maxLength:this.props.maxLength,name:this.props.name,"aria-label":this.props.ariaLabel,onBlur:this.props.handleBlur,ref:this.boundInputRef};return s.createElement("input",o)},t}(r.Component);y.defaultProps={shouldSelectTextOnFocus:!0},y=i([l.InteractiveDomHoCDecorator],y),t.TextFieldInputWidget=y},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__assign||Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++){t=arguments[o];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var r=o(11),s=o(13),a=o(4),l=o(43),d=o(45),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.boundHandleClearTextWrapper=function(){return t.handleClearTextWrapper()},t.boundHandleBlur=function(){return t.handleBlurWrapper()},t.boundHandleTextFieldClearButtonRef=function(e){return t.handleTextFieldClearButtonRef(e)},t.wasClearTextFired=!1,t.boundInputRef=function(e){return t.inputRef(e)},t}return n(t,e),t.prototype.inputRef=function(e){this.props.textFieldInputProps.inputRef&&this.props.textFieldInputProps.inputRef(e),this.inputElement=e},t.prototype.handleClearTextWrapper=function(){var e=this;this.props.textFieldInputProps.disabled||(this.wasClearTextFired=!0,this.props.handleClearText(),this.inputElement.focus(),setTimeout(function(){e.resetWasClearTextFired()},50))},t.prototype.handleBlurWrapper=function(){var e=this;setTimeout(function(){return e.wasClearTextFired||e.isTextFieldClearButtonActiveElement()?void e.resetWasClearTextFired():void(e.props.textFieldInputProps.handleBlur&&e.props.textFieldInputProps.handleBlur())},0)},t.prototype.isTextFieldClearButtonActiveElement=function(){return!!this.textFieldClearButton&&document.activeElement===s.findDOMNode(this.textFieldClearButton)},t.prototype.handleTextFieldClearButtonRef=function(e){this.textFieldClearButton=e},t.prototype.resetWasClearTextFired=function(){this.wasClearTextFired=!1},t.prototype.render=function(){var e={inputRef:this.boundInputRef,handleBlur:this.boundHandleBlur},t=a.assign({},this.props.textFieldInputProps,e),o={ref:this.boundHandleTextFieldClearButtonRef,pointerClick:this.boundHandleClearTextWrapper},n=a.assign({},this.props.textFieldClearButtonProps,o),s=this.props.textFieldInputProps.text&&!this.props.textFieldInputProps.disabled?r.createElement(d.TextFieldClearButton,i({},n)):void 0;return r.createElement("span",{style:{lineHeight:"normal"}},r.createElement(l.TextFieldInputWidget,i({},t)),s)},t}(r.Component);t.TextFieldWithClearIcon=c},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=o(11),r=o(11),s=o(4),a=o(36),l=o(3),d=o(10),c=o(9),u=o(37),p=l.TabStyles.Sizing,h=l.TabStyles.Spacing,g=function(){var e=(p.RowHeight-u.TextFieldClearIcon.height)/2,t=p.RowHeight-e-u.TextFieldClearIcon.height;return{icon:{position:"absolute",right:0,paddingRight:h.DefaultSpace,paddingLeft:h.DefaultSpace,paddingTop:e,paddingBottom:t}}},y=function(e){function t(t){var o=e.call(this,t)||this;return o.boundHandlePointerClick=function(e){return o.handlePointerClick(e)},o.boundHandleActive=function(e){return o.handleActive(e)},o.boundHandleFocus=function(e){return o.handleFocus(e)},o.boundHandleHover=function(e){return o.handleHover(e)},o.state={active:!1,hover:!1,focus:!1},o}return n(t,e),t.prototype.handlePointerClick=function(e){e.stopPropagation(),this.props.pointerClick&&this.props.pointerClick(e)},t.prototype.handleHover=function(e){this.setState({hover:e}),this.props.handleHover&&this.props.handleHover(e)},t.prototype.handleActive=function(e){this.setState({active:e}),this.props.handleActive&&this.props.handleActive(e)},t.prototype.handleFocus=function(e){this.setState({focus:e}),this.props.handleFocus&&this.props.handleFocus(e)},t.prototype.getIcon=function(e,t){return!e.disabled&&(e.active||t.active||t.focus||t.hover)?u.TextFieldClearIcon.clearActive:u.TextFieldClearIcon.clear},t.prototype.render=function(){var e=g(),t={pointerClick:this.boundHandlePointerClick,handleActive:this.boundHandleActive,handleFocus:this.boundHandleFocus,handleHover:this.boundHandleHover},o=s.assign({},this.props,t);return r.createElement(d.InteractiveDomWrapper,o,r.createElement(a.Img,{style:e.icon,tabIndex:-1,src:this.getIcon(this.props,this.state),"data-tb-test-id":c.testId(this.props.testId,"ClearIcon")}))},t}(i.Component);t.TextFieldClearButton=y},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=o(4),r=o(34),s=function(e){function t(t){var o=e.call(this,t)||this;return o.state=i.assign({},o.state,{inputFocus:!1,inputActive:!1,inputHover:!1}),o}return n(t,e),t.prototype.handleInputActive=function(e){this.props.disabled||this.setState({inputActive:e})},t.prototype.handleInputFocus=function(e){this.props.disabled||this.setState({inputFocus:e})},t.prototype.handleBlur=function(){this.props.disabled||this.props.handleBlur&&this.props.handleBlur()},t.prototype.handleInputHover=function(e){this.props.disabled||this.setState({inputHover:e})},t.prototype.isPlaceholderShowing=function(){return!this.props.text&&this.props.disabled||!(this.props.text||this.state.inputActive||this.state.inputFocus)},t}(r.DynamicThemeComponent);s.defaultProps={shouldSelectTextOnFocus:!0},t.TextFieldBase=s},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i,r=o(11),s=o(13),a=o(18),l=o(4),d=o(48),c=o(3),u=o(9),p=o(56),h=o(34),g=o(57),y=o(59),I=o(17),f=o(60),b=o(61);!function(e){e[e.Centered=0]="Centered",e[e.Maximized=1]="Maximized",e[e.Draggable=2]="Draggable",e[e.Anchored=3]="Anchored"}(i||(i={})),t.DialogPositioningBehavior=i;var m;!function(e){e[e.NormalWithTitleBar=0]="NormalWithTitleBar",e[e.NormalWithoutTitleBar=1]="NormalWithoutTitleBar",e[e.Uber=2]="Uber"}(m||(m={})),t.DialogType=m;var v="SharedWidgetsDialogLabel";t.SharedWidgetsDialogLabel=v;var M=500,L=100,w=0,C=function(){return{Dialog:{borderWidth:c.TabStyles.Sizing.BorderWidth,borderStyle:"solid",borderColor:c.TabStyles.Colors.L5,borderRadius:c.TabStyles.Sizing.BorderRadius,backgroundColor:c.TabStyles.Colors.White,cursor:"default",boxShadow:c.TabStyles.Shadow.Medium,display:"flex",flexDirection:"column"}}},D=function(e){function t(t){var o=e.call(this,t)||this;return o.boundGetDialogClientRect=function(){return o.getDialogFloaterClientRect()},o.boundDragBoundedDialogPosition=function(e){return o.dragBoundedDialogFloaterPosition(e)},o.boundHandleFloaterWidgetRef=function(e){return o.handleFloaterWidgetRef(e)},o.boundHandleOverlayRef=function(e){return o.handleOverlayRef(e)},o.boundHandleSizingWrapperRef=function(e){return o.handleSizingWrapperRef(e)},o.boundHandleOrientationChange=function(){return o.handleOrientationChange()},o.boundHandleAdjustPositionOnResize=a(function(){return o.handleAdjustPositionOnResize()},L),o.instanceId=w++,o.state={hasBeenDragged:!1},o}return n(t,e),t.prototype.addResizeEventListener=function(){window.addEventListener("resize",this.boundHandleAdjustPositionOnResize)},t.prototype.removeResizeEventListener=function(){window.removeEventListener("resize",this.boundHandleAdjustPositionOnResize)},t.prototype.handleAdjustPositionOnResize=function(){this.props.shouldAdjustPositionOnWindowResize&&(this.sizingWrapper&&this.sizingWrapper.updateSize(),this.repositionDialog())},t.prototype.repositionDialog=function(){switch(this.props.positioningBehavior){case i.Centered:case i.Maximized:this.floaterWidget.centerInVisualViewport();break;case i.Draggable:this.state.hasBeenDragged?this.repositionDraggedDialog():this.floaterWidget.centerInVisualViewport();break;case i.Anchored:this.overlay&&this.overlay.setPlacement();break;default:throw new Error("Invalid Dialog Positioning Behavior: "+this.props.positioningBehavior)}},t.prototype.handleFloaterWidgetRef=function(e){this.floaterWidget=e},t.prototype.handleOverlayRef=function(e){this.overlay=e},t.prototype.handleSizingWrapperRef=function(e){this.sizingWrapper=e},t.prototype.getDialogFloaterClientRect=function(){return this.floaterWidget?this.floaterWidget.getFloaterClientRect():null},t.prototype.dragBoundedDialogFloaterPosition=function(e){this.state.hasBeenDragged||this.setState({hasBeenDragged:!0}),this.floaterWidget&&this.floaterWidget.setPosition(this.getBoundedFloaterPos(e))},t.prototype.handleOrientationChange=function(){var e=this;return this.resizeAndRepositionTimeoutId?(clearTimeout(this.resizeAndRepositionTimeoutId),void(this.resizeAndRepositionTimeoutId=setTimeout(this.resizeAndRepositionCallback,M))):void this.hideDialogAndThen(function(t){e.forceRepaintHack(),e.resizeAndRepositionCallback=function(){e.resizeAndRepositionTimeoutId=null,e.resizeAndRepositionCallback=null,e.sizingWrapper.updateSize(),t&&t(),e.repositionDialog()},e.resizeAndRepositionTimeoutId=setTimeout(e.resizeAndRepositionCallback,M)})},t.prototype.saveDraggedDialogPositionBeforeHide=function(){this.dragPositionBeforeHide=this.getDialogFloaterClientRect()},t.prototype.repositionDraggedDialog=function(){var e;this.dragPositionBeforeHide?(e=this.dragPositionBeforeHide,this.dragPositionBeforeHide=void 0):e=this.getDialogFloaterClientRect(),this.floaterWidget.setPosition(this.getBoundedFloaterPos(e))},t.prototype.hideDialogAndThen=function(e){var t;switch(this.props.positioningBehavior){case i.Centered:case i.Maximized:this.floaterWidget.setPosition({top:-1e4,left:-1e4});break;case i.Draggable:this.saveDraggedDialogPositionBeforeHide(),this.floaterWidget.setPosition({top:-1e4,left:-1e4});break;case i.Anchored:var o=s.findDOMNode(this.sizingWrapper),n=o.style.display;o.style.display="none",t=function(){o.style.display=n};break;default:throw new Error("Invalid Dialog Positioning Behavior: "+this.props.positioningBehavior)}e(t)},t.prototype.forceRepaintHack=function(){var e=s.findDOMNode(this),t=e.style.display;e.style.display="none",e.offsetHeight,e.style.display=t},t.prototype.getBoundedFloaterPos=function(e){var t=this.floaterWidget.getFloaterClientRect(),o={top:e.top,left:e.left,width:t.width,height:t.height},n={top:0,left:0,width:window.innerWidth,height:window.innerHeight};return g.computePositionToContainBounds(o,n)},t.prototype.getPositionedDialogElem=function(e){switch(this.props.positioningBehavior){case i.Centered:case i.Draggable:case i.Maximized:return r.createElement(p.FloaterWidget,{testId:u.testId(this.props.testId,"Dialog"),stackingRootId:this.props.stackingRootId,ref:this.boundHandleFloaterWidgetRef,zIndex:this.props.zIndex,shouldRecenterOnUpdate:!!this.props.shouldRecenterOnUpdate&&!this.state.hasBeenDragged},e);case i.Anchored:return r.createElement(I.Overlay,{anchorEl:this.props.anchorEl,anchorOrigin:this.props.anchorOrigin||{vertical:I.VerticalOriginOption.bottom,horizontal:I.HorizontalOriginOption.left},stackedOrigin:this.props.stackedOrigin||{vertical:I.VerticalOriginOption.top,horizontal:I.HorizontalOriginOption.left},stackingRootId:this.props.stackingRootId,allowAutoPosition:!0,zIndex:this.props.zIndex,leftFromOverlaidPosition:this.props.dialogStyle?this.props.dialogStyle.left:void 0,topFromOverlaidPosition:this.props.dialogStyle?this.props.dialogStyle.top:void 0,ref:this.boundHandleOverlayRef},e);default:throw new Error("Invalid Dialog Positioning Behavior: "+this.props.positioningBehavior)}},t.prototype.getGlassElem=function(){return r.createElement(y.GlassWidget,{testId:u.testId(this.props.testId,"Dialog"),handleClick:this.props.handleGlassClick,isTransparent:this.props.isGlassTransparent,stackingRootId:this.props.stackingRootId,zIndex:this.props.zIndex})},t.prototype.componentDidMount=function(){b.OrientationChange.addListener(this.boundHandleOrientationChange),this.props.shouldAdjustPositionOnWindowResize&&this.addResizeEventListener()},t.prototype.componentDidUpdate=function(e){this.props.shouldAdjustPositionOnWindowResize!==e.shouldAdjustPositionOnWindowResize&&(this.props.shouldAdjustPositionOnWindowResize?this.addResizeEventListener():this.removeResizeEventListener())},t.prototype.componentWillUnmount=function(){b.OrientationChange.removeListener(this.boundHandleOrientationChange),this.props.shouldAdjustPositionOnWindowResize&&this.removeResizeEventListener()},t.prototype.render=function(){var e=C(),t=l.assign({},this.props,{getDraggableDialogClientRect:this.boundGetDialogClientRect,setDraggableDialogPosition:this.boundDragBoundedDialogPosition,instanceId:this.instanceId,testId:u.testId(this.props.testId,"Dialog")}),o={isMaximized:this.props.positioningBehavior===i.Maximized,style:l.assign({},e.Dialog,this.props.dialogStyle,{width:this.props.dialogWidth}),ref:this.boundHandleSizingWrapperRef},n=r.createElement(f.ViewportConstrainedDomWrapper,o,r.createElement(d.DialogContent,t));return r.createElement("div",{style:{display:"none"}},u.conditional(this.props.isModal,this.getGlassElem()),this.getPositionedDialogElem(n))},t}(h.DynamicThemeComponent);t.DialogWidget=D},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=o(11),r=o(11),s=o(13),a=o(49),l=o(4),d=o(9),c=o(50),u=o(51),p=o(52),h=o(47),g=o(36),y=o(55),I=function(){return{DialogContent:{outline:"none",display:"flex",flexDirection:"column"}}},f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.boundHandleDialogKeyDown=function(e){return t.handleDialogKeyDown(e)},t.boundHandleDialogHeaderRef=function(e){return t.handleDialogHeaderRef(e)},t.boundHandleDialogKeyUp=function(e){return t.handleDialogKeyUp(e)},t}return n(t,e),t.prototype.handleDialogHeaderRef=function(e){this.dialogHeader=s.findDOMNode(e)},t.prototype.handleDialogKeyUp=function(e){"Escape"===e.key&&this.props.onCloseRequest()},t.prototype.handleDialogKeyDown=function(e){if("Tab"===e.key){var t=a(this.dialog),o=t.length>0?t[0]:null,n=t.length>0?t[t.length-1]:null;e.target!==n||e.shiftKey?e.target===o&&e.shiftKey&&(e.preventDefault(),n.focus()):(e.preventDefault(),o.focus())}},t.prototype.componentDidMount=function(){this.elementToReturnFocus=document.activeElement,this.dialog=s.findDOMNode(this),this.props.disableAutoFocus||this.initializeFocusOnMount(),this.setFocusEventListener(),document.addEventListener("focus",this.focusEventListener,!0),this.dialog.offsetHeight>this.dialog.parentElement.clientHeight&&(this.dialog.style.height=this.dialog.parentElement.clientHeight+"px")},t.prototype.initializeFocusOnMount=function(){var e=a(this.dialog);if(0===e.length)throw Error("Something within the dialog must be focusable as to dismiss it");var t=0;if(this.dialogHeader)for(var o=0;o<e.length;o++)if(!this.dialogHeader.contains(e[o])){t=o;break}var n=e[t];y.timeoutFocus(n)},t.prototype.setFocusEventListener=function(){var e=this;this.focusEventListener=function(t){if(!e.props.isModal){var o=t.target;e.dialog.contains(o)||(e.elementToReturnFocus=o)}}},t.prototype.componentWillUnmount=function(){document.removeEventListener("focus",this.focusEventListener,!0),this.props.shouldReturnFocusOnClose&&this.returnFocusToElement()},t.prototype.returnFocusToElement=function(){y.timeoutFocus(this.elementToReturnFocus)},t.prototype.render=function(){var e=I(),t=l.assign({},this.props,{ref:this.boundHandleDialogHeaderRef});return r.createElement(g.Block,{"data-tb-test-id":d.testId(this.props.testId,"Content"),tabIndex:-1,style:e.DialogContent,onKeyDown:this.boundHandleDialogKeyDown,onKeyUp:this.boundHandleDialogKeyUp,role:"dialog","aria-labelledby":d.conditional(!!this.props.title,h.SharedWidgetsDialogLabel+String(this.props.instanceId))},d.conditional(this.props.type!==h.DialogType.Uber,r.createElement(p.DialogHeader,t)),r.createElement(c.DialogBody,this.props),d.conditional(this.props.showFooter,r.createElement(u.DialogFooter,this.props)))},t}(i.Component);t.DialogContent=f},function(e,t){function o(){var e=[];return function t(o){if(o===document.documentElement)return!1;for(var n=0,i=e.length;n<i;n++)if(e[n][0]===o)return e[n][1];var r=!1,s=window.getComputedStyle(o);return"hidden"===s.visibility||"none"===s.display?r=!0:o.parentNode&&(r=t(o.parentNode)),e.push([o,r]),r}}e.exports=function(e){for(var t,n,i=[],r=[],s=o(),a=e.querySelectorAll("input, select, a[href], textarea, button, [tabindex]"),l=0,d=a.length;l<d;l++)t=a[l],n=t.tabIndex,n<0||"INPUT"===t.tagName&&"hidden"===t.type||t.disabled||s(t)||(0===n?i.push(t):r.push({tabIndex:n,node:t}));var c=r.sort(function(e,t){return e.tabIndex-t.tabIndex}).map(function(e){return e.node});return Array.prototype.push.apply(c,i),c}},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=o(11),r=o(11),s=o(4),a=o(9),l=o(47),d=o(36),c=o(3),u=function(){return{Body:{outline:"none",overflow:"auto"}}},p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.getPaddingStyle=function(){var e=c.TabStyles.Spacing.LargeSpace,t=c.TabStyles.Spacing.LargeSpace,o=c.TabStyles.Spacing.LargeSpace,n=0;switch(this.props.type){case l.DialogType.NormalWithTitleBar:n=c.TabStyles.Spacing.LargeSpace;break;case l.DialogType.NormalWithoutTitleBar:n=0;break;case l.DialogType.Uber:n=c.TabStyles.Spacing.MediumSpace;break;default:throw Error("Dialog type not handled")}return this.props.showFooter&&(o=0),{padding:n+"px "+t+"px "+o+"px "+e+"px"}},t.prototype.render=function(){var e=u(),t=s.assign({},e.Body,this.getPaddingStyle(),this.props.dialogBodyStyle);return r.createElement(d.Block,{"data-tb-test-id":a.testId(this.props.testId,"Body"),style:t,id:a.testId(this.props.testId,"Body-Id")},this.props.children)},t}(i.Component);t.DialogBody=p},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(11),i=o(9),r=o(36),s=o(3),a=8*s.TabStyles.Sizing.BaseUnit,l=function(){return{Footer:{paddingLeft:s.TabStyles.Spacing.LargeSpace,paddingRight:s.TabStyles.Spacing.LargeSpace,paddingTop:0,paddingBottom:0,height:a,flexShrink:0},FooterContent:{height:"100%"}}},d=function(e){var t=l();return n.createElement(r.Block,{"data-tb-test-id":i.testId(e.testId,"Footer"),style:t.Footer},i.conditional(!!e.footerContent,n.createElement(r.Block,{style:t.FooterContent},e.footerContent)))};t.DialogFooter=d},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=o(11),r=o(11),s=o(13),a=o(4),l=o(53),d=o(9),c=o(47),u=o(36),p=o(12),h=o(3),g=o(54),y=o(31),I=5*h.TabStyles.Sizing.BaseUnit,f=function(){return{DraggableHeader:{cursor:"move"},Header:{height:I,flexShrink:0},TitleBar:a.assign({},g.TextEllipsis,{color:h.TabStyles.Colors.F8,backgroundColor:h.TabStyles.Colors.F2,height:"100%",paddingRight:h.TabStyles.Spacing.LargeSpace,paddingLeft:h.TabStyles.Spacing.LargeSpace,display:"flex",alignItems:"center",lineHeight:"normal"}),TitleBarWithCloseButton:{paddingRight:0},Title:a.assign({},g.TextEllipsis,{fontFamily:h.TabStyles.Typography.FontFamily,fontSize:h.TabStyles.Typography.Sizing.Default,flexGrow:1})}},b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.boundHandleStart=function(e){return t.handleStart(e)},t.boundHandleMove=function(e){return t.handleMove(e)},t.boundHandleStop=function(e){return t.handleStop(e)},t.boundHandleCloseButtonRef=function(e){return t.handleCloseButtonRef(e)},t}return n(t,e),t.prototype.componentDidMount=function(){this.titleBar=s.findDOMNode(this),this.props.positioningBehavior===c.DialogPositioningBehavior.Draggable&&this.addMouseEventListeners()},t.prototype.componentDidUpdate=function(e){this.props.positioningBehavior!==e.positioningBehavior&&(e.positioningBehavior===c.DialogPositioningBehavior.Draggable&&this.removeMouseEventListeners(),this.props.positioningBehavior===c.DialogPositioningBehavior.Draggable&&this.addMouseEventListeners())},t.prototype.componentWillUnmount=function(){this.props.positioningBehavior===c.DialogPositioningBehavior.Draggable&&this.removeMouseEventListeners()},t.prototype.addMouseEventListeners=function(){window.addEventListener("touchend",this.boundHandleStop),window.addEventListener("mouseup",this.boundHandleStop)},t.prototype.removeMouseEventListeners=function(){window.removeEventListener("touchend",this.boundHandleStop),window.removeEventListener("touchmove",this.boundHandleMove),window.removeEventListener("mouseup",this.boundHandleStop),window.removeEventListener("mousemove",this.boundHandleMove)},t.prototype.handleStart=function(e){if(!this.isEventWithinCloseButton(e)&&this.props.positioningBehavior===c.DialogPositioningBehavior.Draggable){e.preventDefault();var t=y.getClientPosition(e),o=this.props.getDraggableDialogClientRect();this.startXPosition=t.x-o.left,this.startYPosition=t.y-o.top,window.addEventListener("touchmove",this.boundHandleMove),window.addEventListener("mousemove",this.boundHandleMove)}},t.prototype.isEventWithinCloseButton=function(e){var t=e.target;return!!this.closeButton&&this.closeButton.contains(t)},t.prototype.handleMove=function(e){e.preventDefault();var t=y.getClientPosition(e);this.props.setDraggableDialogPosition({top:t.y-this.startYPosition,left:t.x-this.startXPosition})},t.prototype.handleStop=function(e){window.removeEventListener("mousemove",this.boundHandleMove),window.removeEventListener("touchmove",this.boundHandleMove)},t.prototype.handleCloseButtonRef=function(e){this.closeButton=s.findDOMNode(e)},t.prototype.render=function(){var e=f(),t=a.assign({},e.Header,d.conditional(this.props.positioningBehavior===c.DialogPositioningBehavior.Draggable,e.DraggableHeader)),o=this.props.type===c.DialogType.NormalWithTitleBar,n=a.assign({},e.TitleBar,d.conditional(this.props.showCloseButton,e.TitleBarWithCloseButton)),i={testId:this.props.testId,requestClose:this.props.onCloseRequest,ref:this.boundHandleCloseButtonRef};return r.createElement(p.PointerEventWrapper,{pointerDown:this.boundHandleStart},r.createElement(u.Block,{"data-tb-test-id":d.testId(this.props.testId,"Header"),style:t},d.conditional(o,r.createElement(u.Block,{"data-tb-test-id":d.testId(this.props.testId,"TitleBar"),style:n},d.conditional(!!this.props.title,r.createElement(u.Block,{style:e.Title,id:c.SharedWidgetsDialogLabel+String(this.props.instanceId)},this.props.title)),d.conditional(this.props.showCloseButton,r.createElement(l.CloseButtonWidget,i))))))},t}(i.Component);t.DialogHeader=b},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=o(11),r=o(4),s=o(3),a=o(10),l=o(9),d=o(36),c=o(37),u=o(34),p=function(){return{containerBase:{width:5*s.TabStyles.Sizing.BaseUnit,height:5*s.TabStyles.Sizing.BaseUnit,display:"flex",alignItems:"center",justifyContent:"center",cursor:"auto",outline:"none",flexShrink:0},imageContainer:{display:"flex",alignItems:"center",justifyContent:"center",width:3*s.TabStyles.Sizing.BaseUnit,height:3*s.TabStyles.Sizing.BaseUnit}}},h=function(e){function t(t){var o=e.call(this,t)||this;return o.boundHandleHover=function(e){return o.handleHover(e)},o.boundHandleFocus=function(e){return o.handleFocus(e)},o.boundHandleActive=function(e){return o.handleActive(e)},o.boundHandleKeyDown=function(e){return o.handleKeyDown(e)},o.state={hover:!1,active:!1,focus:!1},o}return n(t,e),t.prototype.handleHover=function(e){this.setState({hover:e})},t.prototype.handleFocus=function(e){this.setState({focus:e})},t.prototype.handleActive=function(e){this.setState({active:e})},t.prototype.handleKeyDown=function(e){"Enter"!==e.key&&" "!==e.key||this.props.requestClose()},t.prototype.render=function(){var e,t,o=p();return this.state.hover||this.state.focus||this.state.active?(e=c.CloseButtonIcon.active,t=r.assign({},o.imageContainer,{backgroundColor:s.TabStyles.Colors.F3})):(e=c.CloseButtonIcon.enabled,t=o.imageContainer),i.createElement(a.InteractiveDomWrapper,{pointerClick:this.props.requestClose,handleHover:this.boundHandleHover,handleActive:this.boundHandleActive,handleFocus:this.boundHandleFocus},i.createElement(d.Block,{style:o.containerBase,tabIndex:0,onKeyDown:this.boundHandleKeyDown,role:"button",title:"Close dialog","data-tb-test-id":l.testId(this.props.testId,"CloseButton")},i.createElement(d.Block,{style:t},i.createElement(d.Img,{src:e,draggable:!1,style:{width:c.CloseButtonIcon.width,height:c.CloseButtonIcon.height}}))))},t}(u.DynamicThemeComponent);t.CloseButtonWidget=h},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"};t.TextEllipsis=o},function(e,t){"use strict";function o(e){for(;e;){if(e===window.document.body)return!0;e=e.parentElement}return!1}function n(e){setTimeout(function(){e&&o(e)&&e.focus()})}Object.defineProperty(t,"__esModule",{value:!0}),t.isAttachedToDocument=o,t.timeoutFocus=n},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=o(11),r=o(13),s=o(11),a=o(4),l=o(36),d=o(9),c=o(57),u=o(27),p=o(58),h={Floater:{position:"absolute",outline:0,pointerEvents:"auto"}},g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.boundFloaterRefHandler=function(e){return t.floaterRefHandler(e)},t}return n(t,e),t.prototype.floaterRefHandler=function(e){this.floater=r.findDOMNode(e),this.props.handleFloaterRef&&this.props.handleFloaterRef(e)},t.prototype.getCenteredFloaterRectInLayoutCoords=function(){var e=p.getVisualViewportRectRelativeToLayoutViewport(),t={width:this.floater.offsetWidth,height:this.floater.offsetHeight},o=c.computePositionToCenterAreaInBounds(t,e);return c.makeClientRect(o,t)},t.prototype.getMinimumPageRectInLayoutCoords=function(){var e=p.getElementPositionRelativeToLayoutViewport(document.documentElement),t={width:document.documentElement.clientWidth,height:document.documentElement.clientHeight},o=p.getVisualViewportRectRelativeToLayoutViewport(),n={width:o.right-e.left,height:o.bottom-e.top},i=c.getMaxWidthAndHeight(t,n);return c.makeClientRect(e,i)},t.prototype.centerInVisualViewport=function(){var e=this.getCenteredFloaterRectInLayoutCoords(),t=this.getMinimumPageRectInLayoutCoords(),o=c.computePositionToContainBounds(e,t);this.setPosition(o)},t.prototype.getFloaterClientRect=function(){return this.floater.getBoundingClientRect()},t.prototype.setPosition=function(e){var t=this.floater.offsetParent||document.documentElement,o=p.getElementPositionRelativeToLayoutViewport(t),n=c.subtractPositions(e,o);this.floater.style.top=n.top+"px",this.floater.style.left=n.left+"px"},t.prototype.componentDidMount=function(){this.centerInVisualViewport()},t.prototype.componentDidUpdate=function(e){var t=this;this.props.shouldRecenterOnUpdate&&(this.centerTimeoutHandle=setTimeout(function(){t.centerInVisualViewport()},0))},t.prototype.componentWillUnmount=function(){this.centerTimeoutHandle&&(clearTimeout(this.centerTimeoutHandle),this.centerTimeoutHandle=null)},t.prototype.render=function(){var e={"data-tb-test-id":d.testId(this.props.testId,"Floater"),style:a.assign({},h.Floater,this.props.customFloaterStyle||{}),ref:this.boundFloaterRefHandler};return s.createElement(l.Block,e,this.props.children)},t}(i.Component);t.FloaterWidgetDefault=g;var y=u.StackingComponentHOC(g);t.FloaterWidget=y},function(e,t){"use strict";function o(e){return{top:e.top+e.height/2,left:e.left+e.width/2}}function n(e,t){return{top:e.top-t.top,left:e.left-t.left}}function i(e,t){return{width:Math.max(e.width,t.width),height:Math.max(e.height,t.height)}}function r(e,t){var n=o(t);return{top:n.top-e.height/2,left:n.left-e.width/2}}function s(e,t){var o=t.top+t.height,n=t.left+t.width;return{top:Math.max(t.top,Math.min(e.top,o-e.height)),left:Math.max(t.left,Math.min(e.left,n-e.width))}}function a(e,t){return{top:e.top,left:e.left,bottom:e.top+t.height,right:e.left+t.width,width:t.width,height:t.height}}function l(e,t){return t.left>=e.left&&t.left<=e.left+e.width&&t.top>=e.top&&t.top<=e.top+e.height}function d(e,t){return a({left:e.left+t,top:e.top},{width:e.width-t,height:e.height})}function c(e,t){return a({left:isNaN(t)?NaN:e.left,top:e.top},{width:e.width+t,height:e.height})}Object.defineProperty(t,"__esModule",{value:!0}),t.computeCenter=o,t.subtractPositions=n,t.getMaxWidthAndHeight=i,t.computePositionToCenterAreaInBounds=r,t.computePositionToContainBounds=s,t.makeClientRect=a,t.doesRectangleContainPoint=l,t.addClientRectLeft=d,t.addClientRectRight=c},function(e,t,o){"use strict";function n(e){return e.getBoundingClientRect()}function i(){var e=document.documentElement.getBoundingClientRect();return{top:-e.top,left:-e.left}}function r(){var e=s(),t=a();return l.makeClientRect(e,t)}function s(){var e=i(),t={top:window.pageYOffset,left:window.pageXOffset};return l.subtractPositions(t,e)}function a(){return{width:window.innerWidth,height:window.innerHeight}}Object.defineProperty(t,"__esModule",{value:!0});var l=o(57);t.getElementPositionRelativeToLayoutViewport=n,t.getLayoutViewportPositionRelativeToPage=i,t.getVisualViewportRectRelativeToLayoutViewport=r,t.getVisualViewportPositionRelativeToLayoutViewport=s,t.getVisualViewportSize=a},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=o(11),r=o(4),s=o(36),a=o(9),l=o(3),d=o(10),c=o(34),u=o(27),p=function(){return{Glass:{position:"fixed",top:0,left:0,bottom:0,right:0,padding:0,margin:0,pointerEvents:"auto"},Clear:{backgroundColor:l.TabStyles.Colors.White,opacity:l.TabStyles.Opacity.ClearGlass},Opaque:{backgroundColor:l.TabStyles.Colors.OpaqueGlass,opacity:l.TabStyles.Opacity.OpaqueGlass}}},h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){var e=this,t=p(),o=r.assign({},t.Glass,this.props.isTransparent?t.Clear:t.Opaque);return i.createElement(d.InteractiveDomWrapper,{pointerClick:function(t){t.preventDefault(),e.props.handleClick&&e.props.handleClick()}},i.createElement(s.Block,{style:o,"data-tb-test-id":a.testId(this.props.testId,"Glass")}))},t}(c.DynamicThemeComponent);t.GlassWidgetBase=h;var g=u.StackingComponentHOC(h);t.GlassWidget=g},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=o(11),r=o(11),s=o(4),a=o(9),l=o(58),d=20,c=function(e){function t(t){var o=e.call(this,t)||this;return o.state=o.getStateForCurrentViewport(),o}return n(t,e),t.prototype.getStateForCurrentViewport=function(){return{visualViewportSize:l.getVisualViewportSize(),documentClientSize:{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight}}},t.prototype.getMaxSize=function(){var e={width:this.state.visualViewportSize.width,height:this.state.visualViewportSize.height};return this.props.style&&(this.props.style.minWidth||(e.width=Math.max(e.width,this.state.documentClientSize.width)),this.props.style.minHeight||(e.height=Math.max(e.height,this.state.documentClientSize.height))),{width:e.width-2*d,height:e.height-2*d}},t.prototype.updateSize=function(){this.setState(this.getStateForCurrentViewport())},t.prototype.render=function(){var e=this.getMaxSize(),t=s.assign({},{maxWidth:e.width,maxHeight:e.height},this.props.style,a.conditional(this.props.isMaximized,{width:e.width,height:e.height}));return r.createElement("div",{style:t},this.props.children)},t}(i.Component);t.ViewportConstrainedDomWrapper=c},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=250;t.PendingOrientationChangeTimeoutMs=o;var n=200;t.PendingResizeTimeoutMs=n;var i=function(){function e(){}return e.init=function(){window.addEventListener("orientationchange",e.handleOrientationChange),window.addEventListener("resize",e.handleResize)},e.handleOrientationChange=function(){null!==e.latestPendingResizeTimestamp&&Date.now()-e.latestPendingResizeTimestamp<=n?e.fireOrientationChange():e.latestPendingOrientationChangeTimestamp=Date.now()},e.handleResize=function(){null!==e.latestPendingOrientationChangeTimestamp&&Date.now()-e.latestPendingOrientationChangeTimestamp<=o?e.fireOrientationChange():e.latestPendingResizeTimestamp=Date.now()},e.fireOrientationChange=function(){e.latestPendingOrientationChangeTimestamp=null,e.latestPendingResizeTimestamp=null,e.listeners.forEach(function(e){e()})},e.addListener=function(t){t&&e.listeners.push(t)},e.removeListener=function(t){e.listeners=e.listeners.filter(function(e){return e!==t})},e}();i.latestPendingOrientationChangeTimestamp=null,i.latestPendingResizeTimestamp=null,i.listeners=[],t.OrientationChange=i,i.init()},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(11),i=o(32),r=o(9),s=o(36),a=o(3),l=function(){return{ButtonsContainer:{display:"flex",alignItems:"center",justifyContent:"flex-end",height:"100%"},FooterButton:{paddingLeft:a.TabStyles.Spacing.MediumSpace}}},d=function(e){var t=l();return n.createElement(s.Block,{"data-tb-test-id":r.testId(e.testId,"Confirm-Cancel-Footer"),style:t.ButtonsContainer},e.buttons.map(function(e,o){return n.createElement(s.InlineBlock,{style:r.conditional(0!==o,t.FooterButton),key:o},n.createElement(i.ButtonWidget,e))}))};t.DialogFooterButtonsWidget=d},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=o(11),r=o(64),s=o(34),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){var e=this.props.currentStep/this.props.totalSteps;return i.createElement(r.ProgressBarContainer,{width:this.props.width},i.createElement(r.ProgressCompleteBar,{fractionComplete:e},1===e?null:i.createElement(r.ProgressBarAnimation,{containerWidth:this.props.width*e})))},t}(s.DynamicThemeComponent);t.DiscreteProgressBarWidget_UNFINISHED=a},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(11),i=o(4),r=o(29),s=o(3),a=o(36),l=function(){return{backgroundColor:s.TabStyles.Colors.F3,borderRadius:s.TabStyles.Sizing.BorderRadius,height:s.TabStyles.Sizing.BaseUnit}},d=function(e){var t=i.assign({},l(),{width:e.width});return n.createElement(a.Block,{style:t},e.children)};t.ProgressBarContainer=d;var c=function(){return{backgroundColor:s.TabStyles.Colors.GoLight,position:"absolute",top:0,left:0,height:"100%"}},u=function(e){var t=i.assign({},c(),{width:100*e.fractionComplete+"%"});return n.createElement(a.Block,{style:t},e.children)};t.ProgressCompleteBar=u;var p=function(){return s.TabStyles.Sizing.BaseUnit},h=function(){return{position:"absolute",top:0,width:p(),height:"100%",backgroundColor:s.TabStyles.Colors.GoDark}},g=function(e){var t=e.containerWidth,o=r.SingletonStyleSheet.addAnimation({keyframes:{fromCSSLines:{transform:"translate3d(0px, 0px, 0px)"},toCSSLines:{transform:"translate3d("+(t-p())+"px, 0px, 0px)"}},options:{count:1/0,durationMs:1e3,direction:"alternate",timingFunction:"ease-in-out"}});return n.createElement(a.Block,{style:h(),className:o})};t.ProgressBarAnimation=g},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(11),i=o(4),r=o(66),s=o(73),a=function(e){var t=i.assign({},e,{menuItemInfos:s.convertMenuItemInfoToGeneric(e.menuItemInfos)});return n.createElement(r.GenericDropdownWidget,t)};t.DropdownWidget=a},function(e,t,o){"use strict";function n(e){return{container:{},button:{base:h.assign({borderWidth:D.BorderWidth,borderRadius:D.BorderRadius,borderColor:e.primaryLineColors.normal,borderStyle:"solid",backgroundColor:S.Transparent,height:D.RowHeight,paddingLeft:T.DefaultSpace,paddingRight:T.LargeSpace+T.DefaultSpace,outline:"none",fontSize:H.Sizing.Default,fontFamily:H.FontFamily,fontWeight:"normal",color:e.primaryTextColors.normal,cursor:"default"},I.TextEllipsis,f.PreventUserSelect),interactive:{hover:{borderColor:e.primaryLineColors.hover},active:{borderColor:e.primaryLineColors.active},focus:{borderColor:e.primaryLineColors.focus},disabled:{borderColor:e.primaryLineColors.disabled,color:e.primaryTextColors.disabled}}},value:{lineHeight:e.innerRowHeight+"px"},iconContainer:{position:"absolute",right:0,height:e.innerRowHeight,borderWidth:D.BorderWidth,borderColor:e.secondaryLineColors.normal,borderStyle:"none none none solid"},icon:{marginTop:(e.innerRowHeight-M.OutlineDropdownArrowIcon.height)/2}}}function i(e){return{container:{},button:{base:h.assign({borderTop:"none",borderRight:"none",borderLeft:"none",borderBottomWidth:D.BorderWidth,borderBottomColor:e.primaryLineColors.normal,borderBottomStyle:"solid",backgroundColor:S.Transparent,height:D.RowHeight,paddingRight:T.LargeSpace+T.DefaultSpace,outline:"none",fontSize:H.Sizing.Default,fontFamily:H.FontFamily,fontWeight:"normal",color:e.primaryTextColors.normal,cursor:"default"},I.TextEllipsis,f.PreventUserSelect),interactive:{hover:{borderBottomColor:e.primaryLineColors.hover},active:{borderBottomColor:e.primaryLineColors.active},focus:{borderBottomColor:e.primaryLineColors.focus},disabled:{borderBottomColor:e.primaryLineColors.disabled,color:e.primaryTextColors.disabled}}},value:{top:D.BorderWidth,lineHeight:e.innerRowHeight+"px"},iconContainer:{position:"absolute",right:-4,border:"none"},icon:{marginTop:(e.innerRowHeight-M.LineAndTextDropdownArrowIcon.height)/2},label:{display:"block",boxSizing:"border-box",position:"relative",fontSize:H.Sizing.Tiny,fontFamily:H.FontFamily,fontWeight:"normal",color:e.secondaryTextColors.normal,lineHeight:H.Sizing.Small+"px"}}}function r(e){return{container:{display:"inline-block",width:"auto"},button:{base:h.assign({border:"none",backgroundColor:S.Transparent,height:D.RowHeight,outline:"none",fontSize:H.Sizing.Default,fontFamily:H.FontFamily,fontWeight:"normal",color:e.primaryTextColors.normal,cursor:"default",lineHeight:D.RowHeight+"px",display:"inline-block",paddingRight:M.LineAndTextDropdownArrowIcon.width},f.PreventUserSelect),interactive:{active:{color:e.primaryTextColors.active},disabled:{color:e.primaryTextColors.disabled}}},value:{lineHeight:"inherit"},iconContainer:{position:"absolute"},icon:{marginTop:(D.RowHeight-M.LineAndTextDropdownArrowIcon.height)/2}}}function s(e,t){var o=j();switch(e){case d.Outline:return t?o.OutlineDropdownDarkBackgroundStyle:o.OutlineDropdownStyle;case d.Line:return t?o.LineDropdownDarkBackgroundStyle:o.LineDropdownStyle;case d.Text:return t?o.TextDropdownDarkBackgroundStyle:o.TextDropdownStyle;default:throw new Error("DropdownWidget attempted to render invalid DropdownType: "+e)}}var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),l=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};Object.defineProperty(t,"__esModule",{value:!0});var d,c=o(11),u=o(11),p=o(13),h=o(4),g=o(67),y=o(9),I=o(54),f=o(33),b=o(3),m=o(10),v=o(36),M=o(37),L=o(68),w=o(17),C=o(34),D=b.TabStyles.Sizing,S=b.TabStyles.Colors,T=b.TabStyles.Spacing,H=b.TabStyles.Typography;!function(e){e[e.Outline=0]="Outline",e[e.Line=1]="Line",e[e.Text=2]="Text"}(d||(d={})),t.DropdownType=d;var j=function(){var e=D.RowHeight-2*D.BorderWidth,t={normal:S.L6,hover:S.L8,active:S.L9,focus:S.L8,disabled:S.L9Disabled},o={normal:S.L3,hover:S.L3,active:S.L3,focus:S.L3,disabled:S.L3},s={normal:H.Color.Primary,disabled:H.Color.Disabled,active:S.Black},a={normal:H.Color.Secondary,disabled:H.Color.Disabled,active:S.Black},l={normal:S.WhiteTransparentLine,hover:S.WhiteTransparentLineHover,active:S.White,focus:S.WhiteTransparentLineHover,disabled:S.WhiteDisabled},d={normal:S.WhiteTransparentLine,hover:S.WhiteTransparentLine,active:S.WhiteTransparentLine,focus:S.WhiteTransparentLine,disabled:S.WhiteTransparentLine},c={normal:H.Color.InvertedPrimary,disabled:H.Color.InvertedDisabled,active:S.White},u={normal:H.Color.InvertedSecondary,disabled:H.Color.InvertedDisabled,active:S.White},p={innerRowHeight:e,primaryLineColors:t,secondaryLineColors:o,primaryTextColors:s,secondaryTextColors:a},h={innerRowHeight:e,primaryLineColors:l,secondaryLineColors:d,primaryTextColors:c,secondaryTextColors:u},g=n(p),y=n(h),I=i(p),f=i(h),b=r(p),m=r(h);return{OutlineDropdownStyle:g,OutlineDropdownDarkBackgroundStyle:y,LineDropdownStyle:I,LineDropdownDarkBackgroundStyle:f,TextDropdownStyle:b,TextDropdownDarkBackgroundStyle:m}};t.getDropdownStylesByType=s;var P=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.componentDidUpdate=function(){this.props.dropdownOpen&&this.state.active&&this.setState({active:!1})},t.prototype.getDropdownIconSet=function(){switch(this.props.dropdownType){default:case d.Outline:return this.props.onDarkBackground?M.OutlineDropdownArrowDarkBackgroundIcon:M.OutlineDropdownArrowIcon;case d.Line:case d.Text:return this.props.onDarkBackground?M.LineAndTextDropdownArrowDarkBackgroundIcon:M.LineAndTextDropdownArrowIcon}},t.prototype.getDropdownIcon=function(){var e=this.getDropdownIconSet();return this.props.disabled?e.disabled:this.state.active||this.props.dropdownOpen||this.props.dropdownType===d.Text&&this.state.hover?e.active:e.enabled},t.prototype.render=function(){var e=s(this.props.dropdownType,this.props.onDarkBackground),t=h.assign({},e.button.base,y.conditional(this.props.dropdownOpen,e.button.interactive.active));return u.createElement(v.Block,{disabled:this.props.disabled,style:t,onKeyDown:this.props.onKeyDown,tabIndex:this.props.disabled?-1:0,role:"button","aria-haspopup":!0,"aria-labelledby":this.props.labelledById},u.createElement("span",{style:e.value},this.props.children),u.createElement(v.InlineBlock,{style:e.iconContainer},u.createElement(v.Img,{style:e.icon,src:this.getDropdownIcon()})))},t}(c.Component);P=l([m.InteractiveDomHoCDecorator],P),t.DropdownButtonWidget=P;var x="SharedWidgetsDropdownLabel",N=0,A=function(e){function t(t){var o=e.call(this,t)||this;return o.boundToggleMenu=function(){return o.toggleMenu()},o.boundKeyDown=function(e){return o.handleKeyDown(e)},o.boundOnRequestClose=function(){return o.onRequestClose()},o.boundSetButtonElement=function(e){return o.setButtonElement(e)},o.boundHandleSelect=function(e){return o.handleSelect(e)},o.labelId=x+String(N++),o.setEnabledItems(o.props),o.state={isOpen:!1},o}return a(t,e),t.prototype.componentDidMount=function(){this.domNode=p.findDOMNode(this)},t.prototype.componentWillReceiveProps=function(e){this.setEnabledItems(e)},t.prototype.componentWillUnmount=function(){this.pointerDownOutsideListenerUnsubscribe&&this.pointerDownOutsideListenerUnsubscribe()},t.prototype.getMenuWidth=function(){var e=void 0;if(this.props.flyoutStyle){var t=this.props.flyoutStyle.width;if("auto"===t)return t;e=parseInt(t,10)}else this.props.containerStyle&&(e=parseInt(this.props.containerStyle.width,10));if(this.buttonEl){var o=this.buttonEl.getBoundingClientRect().width;e=Math.max(o,e||0)}return e},t.prototype.getIndexOfSelectedItem=function(){var e=this;return g.findIndex(this.enabledItems,function(t){return t.value===e.props.selectedValue},0,this)},t.prototype.setEnabledItems=function(e){e.menuItemInfos?this.enabledItems=e.menuItemInfos.filter(function(e){return!e.isDivider&&!e.disabled&&!e.isUnselectable}):this.enabledItems=[]},t.prototype.toggleMenu=function(){this.props.disabled||this.setState({isOpen:!this.state.isOpen})},t.prototype.handleSelect=function(e){this.props.onSelect(e,this.state.isOpen),this.onRequestClose()},t.prototype.handleKeyDown=function(e){if(!this.state.isOpen){var t=this.getIndexOfSelectedItem();if(y.isAlphabeticChar(e.key)){var o=g.findIndex(this.enabledItems,function(t){return!!t.keyboardAccessibleValue&&t.keyboardAccessibleValue.charAt(0).toUpperCase()===e.key.toUpperCase()},t+1,this);o>-1&&this.props.onSelect(this.enabledItems[o].value,this.state.isOpen)}else{var n=null;switch(e.key){case" ":case"Enter":this.toggleMenu();break;case"ArrowUp":n=t>0?this.enabledItems[t-1].value:this.enabledItems[this.enabledItems.length-1].value;break;case"ArrowDown":n=t<this.enabledItems.length-1?this.enabledItems[t+1].value:this.enabledItems[0].value;break;case"Home":n=this.enabledItems[0].value;break;case"End":n=this.enabledItems[this.enabledItems.length-1].value;break;default:return}n&&this.props.onSelect(n,this.state.isOpen),e.preventDefault(),e.stopPropagation()}}},t.prototype.onRequestClose=function(){this.toggleMenu()},t.prototype.getButtonDisplayValue=function(){var e=this.getIndexOfSelectedItem();return e>-1?this.enabledItems[e].textForDropdownButton||"":this.props.placeholder||""},t.prototype.setButtonElement=function(e){this.buttonEl=p.findDOMNode(e)},t.prototype.render=function(){var e=s(this.props.dropdownType,this.props.onDarkBackground),t=this.props.dropdownType===d.Line&&!!this.props.label,o=h.assign({},this.props.containerStyle,e.container),n=this.getMenuWidth(),i=h.assign({},this.props.flyoutStyle,{width:n});return u.createElement(v.Block,{style:o,"data-tb-test-id":this.props.testId+"-Dropdown"},y.conditional(t,u.createElement("label",{style:e.label,id:this.labelId},this.props.label)),u.createElement(v.Block,{},u.createElement(P,{disabled:this.props.disabled,dropdownOpen:this.state.isOpen,dropdownType:this.props.dropdownType,onDarkBackground:this.props.onDarkBackground,interactiveStyles:e.button.interactive,onKeyDown:this.boundKeyDown,pointerClick:this.boundToggleMenu,labelledById:y.conditional(t,this.labelId),ref:this.boundSetButtonElement},this.getButtonDisplayValue())),y.conditional(this.state.isOpen,u.createElement(L.GenericFlyoutListMenuWidget,{toggleEl:this.buttonEl,anchorEl:this.buttonEl,stackingRootId:this.props.stackingRootId,shouldReturnFocusToToggleEl:this.props.shouldReturnFocusOnClose,anchorOrigin:{vertical:w.VerticalOriginOption.bottom,horizontal:w.HorizontalOriginOption.left},allowAutoPosition:!0,scrollingRootId:this.props.scrollingRootId,handleScrollOnScrollingRoot:this.boundToggleMenu,onSelect:this.boundHandleSelect,initialHighlightedValue:this.props.selectedValue,maxHeight:this.props.maxHeight,menuStyle:i,menuItemInfos:this.props.menuItemInfos,requestCloseAll:this.boundOnRequestClose,zIndex:this.props.zIndex,testId:this.props.testId})))},t}(C.DynamicThemeComponent);A.defaultProps={shouldReturnFocusOnClose:!0},t.GenericDropdownWidget=A},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t,o,n){void 0===o&&(o=0);for(var i=o;i<e.length+o;i++){var r=i%e.length;if(t.call(n,e[r],r))return r}return-1};t.findIndex=o},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=o(11),r=o(69),s=o(34),a=o(17),l=o(72),d=o(55),c={vertical:a.VerticalOriginOption.bottom,horizontal:a.HorizontalOriginOption.left},u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.componentDidMount=function(){this.props.toggleEl&&(this.pointerDownOutsideListenerUnsubscribe=l.GlobalPointerDownOutsideListener.subscribe(this.props.toggleEl,this.props.requestCloseAll))},t.prototype.componentWillUnmount=function(){this.pointerDownOutsideListenerUnsubscribe&&this.pointerDownOutsideListenerUnsubscribe(),this.props.toggleEl&&this.props.shouldReturnFocusToToggleEl&&d.timeoutFocus(this.props.toggleEl)},t.prototype.render=function(){return i.createElement(a.Overlay,{anchorEl:this.props.anchorEl,stackingRootId:this.props.stackingRootId,anchorOrigin:this.props.anchorOrigin||c,stackedOrigin:this.props.stackedOrigin,allowAutoPosition:this.props.allowAutoPosition,shouldAutoPositionOnScrollingRootScroll:this.props.shouldAutoPositionOnScrollingRootScroll,handleScrollOnScrollingRoot:this.props.handleScrollOnScrollingRoot,scrollingRootId:this.props.scrollingRootId,zIndex:this.props.zIndex},i.createElement(r.ListMenuWidget,{menuItemInfos:this.props.menuItemInfos,onSelect:this.props.onSelect,requestCloseAll:this.props.requestCloseAll,initialHighlightedValue:this.props.initialHighlightedValue,menuStyle:this.props.menuStyle,maxHeight:this.props.maxHeight,stackingRootId:this.props.stackingRootId,zIndex:this.props.zIndex,testId:this.props.testId,onLeftArrowKeyDown:this.props.onLeftArrowKeyDown,onEscapeKeyDown:this.props.onEscapeKeyDown,subMenuAllowAutoPosition:this.props.allowAutoPosition,scrollingRootId:this.props.scrollingRootId,subMenuShouldAutoPositionOnScrollingRootScroll:this.props.shouldAutoPositionOnScrollingRootScroll}))},t}(s.DynamicThemeComponent);u.defaultProps={shouldReturnFocusToToggleEl:!0},t.GenericFlyoutListMenuWidget=u},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=o(13),r=o(11),s=o(4),a=o(36),l=o(9),d=o(67),c=o(3),u=o(70),p=o(34),h=o(71),g=o(72),y=c.TabStyles.Sizing,I=c.TabStyles.Colors,f=c.TabStyles.Spacing,b=c.TabStyles.Typography,m=c.TabStyles.Shadow,v=function(){return{borderWidth:y.BorderWidth,borderRadius:y.BorderRadius,borderColor:I.L6,borderStyle:"solid",backgroundColor:I.White,padding:f.DefaultSpace,outline:"none",fontSize:b.Sizing.Default,fontFamily:b.FontFamily,fontWeight:"normal",color:b.Color.Primary,boxShadow:m.Low}},M=function(e){function t(t){var o=e.call(this,t)||this;o.boundHandleKeyDown=function(e){return o.handleKeyDown(e)},o.stopPropagation=function(e){e.stopPropagation()};var n=[];o.props.menuItemInfos&&(n=o.props.menuItemInfos.filter(function(e){return!e.isDivider&&!e.disabled&&!e.isUnselectable}));var i=d.findIndex(n,function(e){return e.value===o.props.initialHighlightedValue},0,o);return o.state={highlightedItemIndex:i>-1?i:0,enabledMenuItems:n,keyboardFocused:!0},o}return n(t,e),t.prototype.componentDidMount=function(){this.domNode=i.findDOMNode(this),this.pointerDownOutsideListenerUnsubscribe=g.GlobalPointerDownOutsideListener.subscribe(this.domNode,this.props.requestCloseAll),this.addStopPropogationListeners()},t.prototype.componentWillUnmount=function(){this.pointerDownOutsideListenerUnsubscribe(),this.removeStopPropogationListeners()},t.prototype.addStopPropogationListeners=function(){this.domNode.addEventListener("scroll",this.stopPropagation),this.domNode.addEventListener("wheel",this.stopPropagation)},t.prototype.removeStopPropogationListeners=function(){this.domNode.removeEventListener("scroll",this.stopPropagation),this.domNode.removeEventListener("wheel",this.stopPropagation)},t.prototype.handleKeyDown=function(e){if(l.isAlphabeticChar(e.key)){var t=d.findIndex(this.state.enabledMenuItems,function(t){return t.keyboardAccessibleValue&&t.keyboardAccessibleValue.charAt(0).toUpperCase()===e.key.toUpperCase()},this.state.highlightedItemIndex+1,this);t>-1&&this.setHighlightedItemIndexAndKeyboardFocus(t,!0)}else{switch(e.key){case"Escape":this.props.onEscapeKeyDown?this.props.onEscapeKeyDown():this.props.requestCloseAll();break;case"Tab":this.props.requestCloseAll();break;case"ArrowUp":this.state.highlightedItemIndex>0?this.setHighlightedItemIndexAndKeyboardFocus(this.state.highlightedItemIndex-1,!0):this.setHighlightedItemIndexAndKeyboardFocus(this.state.enabledMenuItems.length-1,!0);break;case"ArrowDown":this.state.highlightedItemIndex<this.state.enabledMenuItems.length-1?this.setHighlightedItemIndexAndKeyboardFocus(this.state.highlightedItemIndex+1,!0):this.setHighlightedItemIndexAndKeyboardFocus(0,!0);break;case"ArrowLeft":this.props.onLeftArrowKeyDown&&this.props.onLeftArrowKeyDown();break;case"Home":this.setHighlightedItemIndexAndKeyboardFocus(0,!0);break;case"End":this.setHighlightedItemIndexAndKeyboardFocus(this.state.enabledMenuItems.length-1,!0);break;default:return}e.preventDefault(),e.stopPropagation()}},t.prototype.setHighlightedItemIndexAndKeyboardFocus=function(e,t){this.setState({highlightedItemIndex:e,keyboardFocused:t}),t||this.domNode.focus()},t.prototype.buildMenuFromMenuItemInfos=function(){var e,t=this,o=0,n=0;return this.props.menuItemInfos.map(function(i){if(i.isDivider)e=r.createElement(h.DividerWidget,{key:"divider"+n++});else{var s=t.setHighlightedItemIndexAndKeyboardFocus.bind(t,o,!!i.menuItemInfos),a=function(e){return t.props.onSelect(e)};if(e=r.createElement(u.MenuItemWidget,{value:i.value,key:i.value,isHighlighted:!i.disabled&&!i.isUnselectable&&t.state.highlightedItemIndex===o,onHover:i.disabled||i.isUnselectable?null:s,onSelect:a,keyboardFocused:t.state.keyboardFocused,disabled:i.disabled,isUnselectable:i.isUnselectable,menuItemInfos:i.menuItemInfos,subMenuStyle:i.subMenuStyle,subMenuMaxHeight:i.subMenuMaxHeight,subMenuAllowAutoPosition:t.props.subMenuAllowAutoPosition,subMenuShouldAutoPositionOnScrollingRootScroll:t.props.subMenuShouldAutoPositionOnScrollingRootScroll,stackingRootId:t.props.stackingRootId,scrollingRootId:t.props.scrollingRootId,requestCloseAll:t.props.requestCloseAll,displayFormatterBoundWithData:i.displayFormatterBoundWithData,zIndex:t.props.zIndex,testId:t.props.testId}),i.disabled||i.isUnselectable||o++,!i.value)throw new Error("Each non-divider menu item requires a value")}return e})},t.prototype.render=function(){var e=s.assign({},v(),this.props.menuStyle,{maxHeight:this.props.maxHeight,overflowY:this.props.maxHeight?"auto":null});return r.createElement(a.Block,{style:e,onKeyDown:this.boundHandleKeyDown,tabIndex:-1,role:"menu","data-tb-test-id":this.props.testId+"-ListMenu"},this.buildMenuFromMenuItemInfos())},t}(p.DynamicThemeComponent);t.ListMenuWidget=M},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=o(11),r=o(13),s=o(9),a=o(17),l=o(10),d=o(34),c=o(68),u=o(55),p=function(e){function t(t){var o=e.call(this,t)||this;return o.boundHandleKeyDown=function(e){return o.handleKeyDown(e)},o.boundOnSelect=function(){return o.onSelect()},o.boundOnHover=function(e){return o.onHover(e)},o.boundSetDomNode=function(e){return o.setDomNode(e)},o.boundRequestClose=function(){return o.requestClose()},o.boundOnActive=function(e){return o.onActive(e)},o.hasSubMenu=!!o.props.menuItemInfos,o.state={menuItemActive:!1},o}return n(t,e),t.prototype.componentDidMount=function(){this.updateFocus()},t.prototype.componentDidUpdate=function(){!this.props.isHighlighted&&this.state.menuItemActive&&this.setState({menuItemActive:!1}),this.updateFocus()},t.prototype.updateFocus=function(){var e=r.findDOMNode(this);this.props.isHighlighted&&!this.state.menuItemActive&&this.props.keyboardFocused&&u.timeoutFocus(e)},t.prototype.handleKeyDown=function(e){switch(e.key){case" ":case"Enter":this.boundOnSelect(),e.preventDefault();break;case"ArrowRight":this.hasSubMenu&&this.boundOnSelect();break;default:return}},t.prototype.onSelect=function(){this.props.disabled||this.props.isUnselectable||(this.hasSubMenu?this.setState({menuItemActive:!0}):this.props.onSelect(this.props.value))},t.prototype.onHover=function(e){e&&(this.props.onHover&&this.props.onHover(),this.hasSubMenu&&this.setState({menuItemActive:!0}))},t.prototype.onActive=function(e){this.hasSubMenu||this.setState({menuItemActive:e})},t.prototype.setDomNode=function(e){this.domNode=e},t.prototype.requestClose=function(){this.setState({menuItemActive:!1})},t.prototype.getDisplayElement=function(){var e={disabled:this.props.disabled,active:this.state.menuItemActive,isHighlighted:this.props.isHighlighted,hasSubMenu:this.hasSubMenu,testId:this.props.testId};return i.createElement(this.props.displayFormatterBoundWithData,e)},t.prototype.shouldShowOverlay=function(){return this.state.menuItemActive&&this.props.isHighlighted&&!this.props.disabled&&!this.props.isUnselectable&&this.hasSubMenu},t.prototype.render=function(){var e=this.shouldShowOverlay(),t=this.getDisplayElement();return i.createElement(l.InteractiveDomWrapper,{pointerClick:this.boundOnSelect,handleHover:this.boundOnHover,handleActive:this.boundOnActive,disabled:this.props.disabled},i.createElement("div",{onKeyDown:this.boundHandleKeyDown,tabIndex:this.props.disabled?null:-1,ref:this.boundSetDomNode,role:"menuitem","aria-haspopup":this.hasSubMenu,"aria-disabled":this.props.disabled,"data-tb-test-id":this.props.testId+"-"+this.props.value+"-MenuItem"},t,s.conditional(e,i.createElement(c.GenericFlyoutListMenuWidget,{anchorEl:this.domNode,stackingRootId:this.props.stackingRootId,scrollingRootId:this.props.scrollingRootId,anchorOrigin:{vertical:a.VerticalOriginOption.top,horizontal:a.HorizontalOriginOption.right},stackedOrigin:{vertical:a.VerticalOriginOption.top,horizontal:a.HorizontalOriginOption.left},allowAutoPosition:this.props.subMenuAllowAutoPosition,shouldAutoPositionOnScrollingRootScroll:this.props.subMenuShouldAutoPositionOnScrollingRootScroll,zIndex:this.props.zIndex,onSelect:this.props.onSelect,menuItemInfos:this.props.menuItemInfos,maxHeight:this.props.subMenuMaxHeight,menuStyle:this.props.subMenuStyle,onLeftArrowKeyDown:this.boundRequestClose,onEscapeKeyDown:this.boundRequestClose,requestCloseAll:this.props.requestCloseAll,testId:this.props.testId+"-"+this.props.value}))))},t}(d.DynamicThemeComponent);t.MenuItemWidget=p},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(11),i=o(3),r=i.TabStyles.Sizing,s=i.TabStyles.Colors,a=function(){return{marginTop:r.ListRowHeight/2,marginBottom:r.ListRowHeight/2,marginRight:0,marginLeft:0,borderStyle:"solid",borderWidth:r.BorderWidth,borderColor:s.L3,borderBottom:"none"}},l=function(e){return n.createElement("hr",{style:a(),role:"separator","aria-orientation":"horizontal"})};t.DividerWidget=l},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e.subscribeOrUnsubscribeDocument=function(t,o){o?(t.addEventListener("mousedown",this.handleClickAway.bind(this)),t.addEventListener("touchstart",this.handleClickAway.bind(this))):(t.removeEventListener("mousedown",this.handleClickAway.bind(this)),t.removeEventListener("touchstart",this.handleClickAway.bind(this)));for(var n=t.getElementsByTagName("iframe"),i=0;i<n.length;i++)e.trySubscribeOrUnscribeDocument(n[i].contentDocument,o)},e.trySubscribeOrUnscribeDocument=function(t,o){try{e.subscribeOrUnsubscribeDocument(t,o)}catch(n){}},e.subscribe=function(t,o){return!this.callback&&o&&(this.callback=o),0===this.domNodes.length&&e.trySubscribeOrUnscribeDocument(document,!0),this.domNodes.push(t),function(){e.unsubscribe(t)}},e.unsubscribe=function(t){this.domNodes=this.domNodes.filter(function(e){return e!==t}),0===this.domNodes.length&&(this.callback=null,e.trySubscribeOrUnscribeDocument(document,!1))},e.handleClickAway=function(e){if(this.callback){for(var t=e.target,o=0,n=this.domNodes;o<n.length;o++){var i=n[o];if(i.contains(t))return}this.callback()}},e}();o.domNodes=[],t.GlobalPointerDownOutsideListener=o},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(74),i=function(e){var t=[];return e.forEach(function(e){t.push({menuItemInfos:e.menuItemInfos?i(e.menuItemInfos):void 0,displayFormatterBoundWithData:n.TextMenuDisplayFormatter(e.displayValue),keyboardAccessibleValue:e.displayValue,textForDropdownButton:e.displayValue,value:e.value,disabled:e.disabled,isDivider:e.isDivider,subMenuStyle:e.subMenuStyle,isUnselectable:!1,subMenuMaxHeight:e.subMenuMaxHeight})}),t};t.convertMenuItemInfoToGeneric=i},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=o(11),r=o(4),s=o(9),a=o(36),l=o(54),d=o(33),c=o(3),u=o(37),p=c.TabStyles.Sizing,h=c.TabStyles.Colors,g=c.TabStyles.Spacing,y=c.TabStyles.Typography,I=function(){return{MenuItem:r.assign({height:p.ListRowHeight,paddingLeft:g.DefaultSpace,paddingRight:g.DefaultSpace,lineHeight:p.ListRowHeight+"px",cursor:"default",outline:"none"},l.TextEllipsis,d.PreventUserSelect),Highlighted:{backgroundColor:h.F2_5},Active:{backgroundColor:h.F3},WithSubMenu:{paddingRight:u.MenuItemArrowIcon.width},Disabled:{color:y.Color.Disabled},ArrowIcon:{position:"absolute",right:g.DefaultSpace}}},f=function(e){return function(t){function o(){return null!==t&&t.apply(this,arguments)||this}return n(o,t),o.prototype.getSubMenuIcon=function(){var e=I(),t=this.props.disabled?u.MenuItemArrowIcon.disabled:u.MenuItemArrowIcon.enabled;return this.props.hasSubMenu?i.createElement(a.Img,{style:e.ArrowIcon,src:t}):null},o.prototype.render=function(){var t=I(),o=r.assign({},t.MenuItem,s.conditional(this.props.hasSubMenu,t.WithSubMenu),s.conditional(this.props.isHighlighted,t.Highlighted),s.conditional(this.props.active,t.Active),s.conditional(this.props.disabled,t.Disabled)),n=this.getSubMenuIcon(),a=s.testId(this.props.testId,"TextMenuItem");return i.createElement("div",{style:o,"data-tb-test-id":a},n,e)},o}(i.Component)};t.TextMenuDisplayFormatter=f},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(11),i=o(4),r=o(73),s=o(68),a=function(e){var t=i.assign({},e,{menuItemInfos:r.convertMenuItemInfoToGeneric(e.menuItemInfos)});return n.createElement(s.GenericFlyoutListMenuWidget,t)};t.FlyoutListMenuWidget=a},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=o(11),r=o(4),s=o(9),a=o(36),l=o(3),d=o(46),c=o(43);t.TextInputType=c.TextInputType;var u=o(30),p=l.TabStyles.Colors,h=l.TabStyles.Sizing,g=l.TabStyles.Spacing,y=l.TabStyles.Typography,I=function(){return{baseInput:{base:{borderTop:"none",borderLeft:"none",borderRight:"none",borderBottomWidth:h.BorderWidth,borderBottomRadius:h.BorderRadius,borderBottomColor:p.L6,borderBottomStyle:"solid",height:h.RowHeight,outline:"none",backgroundColor:p.Transparent,fontSize:y.Sizing.Default,fontFamily:y.FontFamily,fontWeight:"normal",color:y.Color.Primary,position:"relative",paddingBottom:g.DefaultSpace,marginBottom:g.DefaultSpace,lineHeight:"normal",WebkitUserSelect:"text",userSelect:"text"},interactive:{hover:{borderBottomColor:p.L8},active:{borderBottomColor:p.GoLight},focus:{borderBottomColor:p.GoLight},disabled:{borderBottomColor:p.L9Disabled,color:y.Color.Disabled}}},errorInput:{borderBottomColor:p.AttentionLight},placeholder:{base:{fontSize:y.Sizing.Default,fontFamily:y.FontFamily,fontWeight:"normal",color:y.Color.Secondary,position:"absolute",textAlign:"start",lineHeight:h.RowHeight+"px",bottom:g.DefaultSpace},disabled:{color:y.Color.Disabled}},errorLabel:{fontSize:y.Sizing.Tiny,fontFamily:y.FontFamily,fontWeight:"normal",color:p.AttentionLight,lineHeight:"normal"},floatingLabel:{fontSize:y.Sizing.Small,fontFamily:y.FontFamily,fontWeight:"normal",color:y.Color.Secondary,lineHeight:h.RowHeight+"px"}}},f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){var e=this,t=I(),o=r.assign({},t.placeholder.base,this.props.placeholderStyle,s.conditional(this.props.disabled,t.placeholder.disabled)),n=r.assign({},t.floatingLabel,this.props.floatingLabelStyle),l=this.isPlaceholderShowing(),d=r.assign({},t.baseInput.base,this.props.hasError?t.errorInput:null,this.props.inputStyle),p=this.props.hasError?null:t.baseInput.interactive,h={type:this.props.type,style:d,interactiveStyles:p,text:this.props.text,testId:this.props.testId,handleChange:this.props.handleChange,handleEnter:this.props.handleEnter,disabled:this.props.disabled,handleActive:function(t){return e.handleInputActive(t)},handleFocus:function(t){return e.handleInputFocus(t)},readOnly:this.props.readOnly,maxLength:this.props.maxLength,name:this.props.name,ariaLabel:this.props.floatingLabel||this.props.placeholder,shouldSelectTextOnFocus:this.props.shouldSelectTextOnFocus};return i.createElement(a.Block,{style:this.props.containerStyle},this.props.floatingLabel?i.createElement(a.Block,{},i.createElement("label",{style:n,"data-tb-test-id":this.props.testId+"-FloatingLabel"},l?u.Unicode.NonBreakingSpace:this.props.floatingLabel)):null,i.createElement(a.Block,{},l?i.createElement("label",{style:o,"data-tb-test-id":this.props.testId+"-Placeholder"},this.props.placeholder):null,i.createElement(c.TextFieldInputWidget,h)),i.createElement(a.Block,{},i.createElement("label",{style:t.errorLabel,"data-tb-test-id":this.props.testId+"-ErrorLabel"},this.props.hasError?this.props.errorText:u.Unicode.NonBreakingSpace)))},t}(d.TextFieldBase);t.LineTextFieldWidget=f},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i,r=o(11),s=o(11),a=o(4),l=o(36),d=o(37),c=o(3),u=o(78),p="RadioButtonWithLabelGroup";!function(e){e[e.Veritical=0]="Veritical",e[e.Horizontal=1]="Horizontal"}(i||(i={})),t.RadioLayoutType=i;var h=function(e){function t(o){var n=e.call(this,o)||this;return n.groupId=t.groupIdIncrementor++,n}return n(t,e),t.prototype.getContainerStyleOfIndex=function(e){return e!==this.props.buttonList.length-1?this.props.layout===i.Horizontal?{paddingRight:c.TabStyles.Spacing.ExtraLargeSpace}:{paddingBottom:c.TabStyles.Sizing.ListRowHeight-c.TabStyles.Sizing.MultiLineInputLineHeight-(d.RadioButtonIcon.height-c.TabStyles.Sizing.MultiLineInputLineHeight)/2}:{}},t.prototype.getContainerStyle=function(){var e={};return this.props.layout===i.Horizontal&&(a.assign(e,{display:"flex",flexWrap:"wrap"}),this.props.justifyHorizontalItems&&a.assign(e,{justifyContent:"space-between"})),e},t.prototype.render=function(){var e=this,t=this.props.buttonList.map(function(t,o){var n=e.getContainerStyleOfIndex(o);return s.createElement(u.RadioButtonWithLabelWidget,{index:o,groupName:e.props.name||p+e.groupId.toString(),value:t.value,testId:t.testId,checked:o===e.props.checkedIndex,disabled:t.disabled,handleChange:e.props.handleChange,label:t.label,containerStyle:n,removeLeftMargin:e.props.removeLeftMargin,key:o})});return s.createElement(l.Block,{role:"radiogroup","aria-label":this.props.ariaLabel,style:this.getContainerStyle(),"data-tb-test-id":"RadioButtonWithLabelGroupWidget-"+this.props.testId},t)},t}(r.Component);h.groupIdIncrementor=0,t.RadioButtonWithLabelGroupWidget=h},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};Object.defineProperty(t,"__esModule",{value:!0});var r=o(11),s=o(4),a=o(79),l=o(36),d=o(1),c=o(37),u=o(10),p=o(40),h=o(3),g=o(34),y=function(){return{label:{display:"flex",alignItems:"flex-start",lineHeight:h.TabStyles.Sizing.MultiLineInputLineHeight,height:"100%"},text:{width:"100%",paddingTop:(c.RadioButtonIcon.height-h.TabStyles.Sizing.MultiLineInputLineHeight)/2}}},I=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){var e=y();return r.createElement(l.Block,{className:d.SuppressClickBustingClass,role:"radio","aria-checked":this.props.checked},r.createElement(p.InputLabelWidget,{disabled:this.props.disabled,testId:this.props.testId,style:s.assign({},e.label,this.props.containerStyle)},r.createElement(a.RadioButtonWidget,{disabled:this.props.disabled,checked:this.props.checked,handleChange:this.props.handleChange,hover:this.state.hover,testId:this.props.testId,groupName:this.props.groupName,removeLeftMargin:this.props.removeLeftMargin,value:this.props.value,index:this.props.index}),r.createElement(l.InlineBlock,{"aria-label":this.props.label,style:e.text},this.props.label)))},t}(g.DynamicThemeComponent);I=i([u.InteractiveDomHoCDecorator],I),t.RadioButtonWithLabelWidget=I},function(e,t,o){"use strict";function n(e,t){var o;return o=e.checked?e.disabled?p.RadioButtonIcon.selectedDisabled:e.hover||t.hover||t.focus?p.RadioButtonIcon.selectedActive:p.RadioButtonIcon.selected:e.disabled?p.RadioButtonIcon.unselectedDisabled:e.hover||t.hover||t.focus?p.RadioButtonIcon.unselectedActive:p.RadioButtonIcon.unselected}var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};Object.defineProperty(t,"__esModule",{value:!0});var s=o(11),a=o(11),l=o(4),d=o(9),c=o(36),u=o(10),p=o(37),h=o(3),g=o(34),y=function(){return{baseDiv:{marginLeft:h.TabStyles.Spacing.DefaultSpace-p.RadioButtonIcon.padding,marginRight:h.TabStyles.Spacing.DefaultSpace-p.RadioButtonIcon.padding,height:p.RadioButtonIcon.height,width:p.RadioButtonIcon.width,minWidth:p.RadioButtonIcon.width,flexShrink:0},noLeftMargin:{marginLeft:-p.RadioButtonIcon.padding},radioButton:{opacity:0,height:p.RadioButtonIcon.height,width:p.RadioButtonIcon.width,margin:0,cursor:"default",verticalAlign:"top"},fakeRadioButton:{height:p.RadioButtonIcon.height,width:p.RadioButtonIcon.width,position:"absolute",verticalAlign:"top"}}},I=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.handleFormChange=function(e){this.props.disabled||this.props.handleChange(this.props.value,this.props.index)},t.prototype.render=function(){var e=this,t=n(this.props,this.state),o=y(),i=l.assign({},o.baseDiv,d.conditional(this.props.removeLeftMargin,o.noLeftMargin));return s.createElement(c.InlineBlock,{style:i},a.createElement(c.Img,{style:o.fakeRadioButton,src:t}),s.createElement("input",{style:o.radioButton,type:"radio",name:this.props.groupName,readOnly:this.props.checked,onChange:this.props.checked?null:function(t){return e.handleFormChange(t)},checked:this.props.checked,disabled:this.props.disabled,"data-tb-test-id":this.props.testId+"-RadioButton",id:this.props.id}))},t}(g.DynamicThemeComponent);I=r([u.InteractiveDomHoCDecorator],I),t.RadioButtonWidget=I},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};Object.defineProperty(t,"__esModule",{value:!0});var r=o(11),s=o(13),a=o(11),l=o(4),d=o(36),c=o(9),u=o(10),p=o(3),h=o(81),g=p.TabStyles.Colors,y=p.TabStyles.Sizing,I=p.TabStyles.Spacing,f=p.TabStyles.Typography,b=function(){var e=5*y.ListRowHeight+2*y.BorderWidth;return{container:{background:g.White},input:{base:{borderWidth:y.BorderWidth,borderRadius:y.BorderRadius,borderColor:g.L6,borderStyle:"solid",paddingLeft:I.DefaultSpace,paddingRight:I.DefaultSpace,outline:"none",backgroundColor:g.Transparent,fontSize:f.Sizing.Default,fontFamily:f.FontFamily,color:f.Color.Primary,position:"relative",fontWeight:"normal",lineHeight:y.ListRowHeight+"px",minHeight:y.RowHeight,maxHeight:e,overflowY:"auto",overflowX:"hidden",wordWrap:"break-word"},interactive:{hover:{borderColor:g.L8},active:{borderColor:g.L8},focus:{borderColor:g.L8},disabled:{borderColor:g.L9Disabled,color:f.Color.Disabled}}},placeholder:{position:"absolute",fontWeight:"normal",fontSize:f.Sizing.Default,fontFamily:f.FontFamily,color:f.Color.Disabled,top:I.SmallSpace,left:I.DefaultSpace,textAlign:"start",lineHeight:y.ListRowHeight+"px"}}};t.getRichTextEditOutlineStyles=b;var m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.boundInputRef=function(e){t.textInputRef=s.findDOMNode(e),t.props.handleInputRef(e)},t.shouldShowPlaceholder=function(){if(t.state.focus)return!1;var e=!t.textInputRef||0===t.textInputRef.innerText.length;return e},t}return n(t,e),t.prototype.render=function(){var e=b(),t=this.shouldShowPlaceholder(),o={style:l.assign({},e.container,this.props.containerStyle)},n={style:e.placeholder,"data-tb-test-id":c.testId(this.props.testId,"Placeholder")},i={style:e.input.base,interactiveStyles:e.input.interactive,testId:this.props.testId,handleInputRef:this.boundInputRef,disabled:this.props.disabled,handleEnter:this.props.handleEnter,handleChange:this.props.handleChange};return a.createElement(d.Block,o,c.conditional(t,a.createElement("label",n,this.props.placeholder)),a.createElement(h.RichTextEditWidget_UNFINISHED,i))},t}(r.Component);m=i([u.InteractiveDomHoCDecorator],m),t.RichTextEditOutlineWidget_UNFINISHED=m},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};Object.defineProperty(t,"__esModule",{value:!0});var r=o(11),s=o(4),a=o(36),l=o(11),d=o(10),c="shared-widgets-content-editable-div",u=function(){return{userSelect:"text",WebkitUserSelect:"text"}},p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.boundOnKeyDown=function(e){return t.handleUserInput(e)},t.boundOnKeyUp=function(e){return t.handleChange(e)},t}return n(t,e),t.prototype.handleUserInput=function(e){this.props.disabled||"Enter"!==e.key||e.shiftKey||this.props.handleEnter&&(this.props.handleEnter(),e.preventDefault(),e.stopPropagation())},t.prototype.handleChange=function(e){this.props.disabled||this.props.handleChange&&this.props.handleChange()},t.prototype.render=function(){var e={className:c,"data-tb-test-id":this.props.testId+"-TextInput",style:s.assign({},u(),this.props.style),contentEditable:!0,onKeyDown:this.boundOnKeyDown,onKeyUp:this.boundOnKeyUp,ref:this.props.handleInputRef};return l.createElement(a.Block,e)},t}(r.Component);p=i([d.InteractiveDomHoCDecorator],p),t.RichTextEditWidget_UNFINISHED=p},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=o(11),r=o(4),s=o(9),a=o(36),l=o(37),d=o(3),c=o(42),u=o(46),p=o(43);t.TextInputType=p.TextInputType;var h=o(44),g=d.TabStyles.Sizing,y=d.TabStyles.Spacing,I=function(){return{iconPadding:{paddingRight:l.SearchIcon.width+2*y.DefaultSpace},icon:{position:"absolute",right:0,paddingRight:y.DefaultSpace,paddingLeft:y.DefaultSpace,marginTop:(g.RowHeight-l.SearchIcon.height)/2},outlineContainer:{width:"100%"}}},f=function(e){function t(t){var o=e.call(this,t)||this;return o.boundHandleClearSearch=function(){return o.handleCancelSearchWrapper()},o.boundHandleCancelHover=function(e){return o.handleCancelHover(e)},o.state=r.assign({},o.state,{cancelHover:!1}),o}return n(t,e),t.prototype.componentWillReceiveProps=function(e){e.text||(this.state=r.assign({},this.state,{cancelHover:!1}))},t.prototype.handleCancelSearchWrapper=function(){this.props.disabled||this.props.handleCancelSearch()},t.prototype.handleCancelHover=function(e){this.props.disabled||this.setState({cancelHover:e})},t.prototype.getIcon=function(){return!this.props.disabled&&(this.state.cancelHover||this.state.inputActive||this.state.inputFocus||this.state.inputHover)?l.SearchIcon.searchActive:l.SearchIcon.search},t.prototype.getInputStyle=function(){var e=c.getTextOutlineStyles(),t=I();return r.assign({},e.input.base,t.iconPadding,this.state.cancelHover?e.input.interactive.hover:{},this.props.inputStyle)},t.prototype.render=function(){var e=this,t=I(),o=c.getTextOutlineStyles(),n=r.assign({},o.placeholder.base,this.props.placeholderStyle,s.conditional(this.props.disabled,o.placeholder.disabled)),l=this.isPlaceholderShowing(),d=this.getInputStyle(),u={type:this.props.type,style:d,interactiveStyles:o.input.interactive,text:this.props.text,testId:this.props.testId,handleChange:this.props.handleChange,handleEnter:this.props.handleEnter,handleEscape:this.props.handleEscape,disabled:this.props.disabled,handleActive:function(t){return e.handleInputActive(t)},handleFocus:function(t){return e.handleInputFocus(t)},handleHover:function(t){return e.handleInputHover(t)},handleBlur:this.props.handleBlur,readOnly:this.props.readOnly,maxLength:this.props.maxLength,name:this.props.name,ariaLabel:this.props.placeholder,shouldSelectTextOnFocus:this.props.shouldSelectTextOnFocus},p={pointerClick:this.props.handleCancelSearch,handleHover:this.boundHandleCancelHover,testId:this.props.testId,active:this.state.inputActive||this.state.inputHover||this.state.inputFocus,disabled:this.props.disabled};return i.createElement(a.Block,{style:this.props.containerStyle},s.conditional(!this.props.text,i.createElement(a.Img,{src:this.getIcon(),style:t.icon,"data-tb-test-id":this.props.testId+"-SearchIcon"})),s.conditional(l,i.createElement("label",{style:n,"data-tb-test-id":this.props.testId+"-Placeholder"},this.props.placeholder)),i.createElement(h.TextFieldWithClearIcon,{handleClearText:this.props.handleCancelSearch,textFieldInputProps:u,textFieldClearButtonProps:p}))},t}(u.TextFieldBase);t.SearchFieldWidget=f},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i,r=o(11),s=o(4),a=o(36),l=o(42),d=o(84),c=o(37),u=o(3),p=o(9),h=o(46),g=o(43),y=o(87);!function(e){e[e.Vertical=0]="Vertical",e[e.Horizontal=1]="Horizontal"}(i||(i={})),t.StepperType=i;var I=u.TabStyles.Spacing,f=u.TabStyles.Sizing,b=function(){return{verticalIconPadding:{paddingRight:c.StepperDownIcon.width+I.DefaultSpace},horizontalIconPadding:{paddingRight:c.StepperRightIcon.width+c.StepperLeftIcon.width+I.DefaultSpace+2*f.BorderWidth},outlineContainer:{width:"100%"}}},m=function(e){function t(t){var o=e.call(this,t)||this;return o.boundhandleKeyDown=function(e){return o.handleKeyDown(e)},o.boundHandleActive=function(e){return o.handleInputActive(e)},o.boundHandleFocus=function(e){return o.handleInputFocus(e)},o.boundHandleHover=function(e){return o.handleInputHover(e)},o.boundHandleIncrementWrapper=function(){return o.handleIncrementWrapper()},o.boundHandleDecrementWrapper=function(){return o.handleDecrementWrapper()},o.boundHandleChangeWrapper=function(e){return o.handleChangeWrapper(e)},o.boundHandleStepperHover=function(e){return o.handleStepperHover(e)},o.state=s.assign({},o.state,{stepperHover:!1}),o}return n(t,e),t.prototype.handleIncrementWrapper=function(){this.props.disabled||this.props.handleIncrement()},t.prototype.handleDecrementWrapper=function(){this.props.disabled||this.props.handleDecrement()},t.prototype.handleChangeWrapper=function(e){this.props.disabled||this.props.readOnly||this.props.handleNumberVerification&&!this.props.handleNumberVerification(e)||this.props.handleChange(e)},t.prototype.getInputStyle=function(){var e=this.props.stepperLayoutType===i.Vertical,t=l.getTextOutlineStyles(),o=b();return s.assign({},t.input.base,p.conditional(this.state.stepperHover,t.input.interactive.hover),this.props.inputStyle,e?o.verticalIconPadding:o.horizontalIconPadding)},t.prototype.getPlaceholderStyle=function(){var e=l.getTextOutlineStyles();return s.assign({},e.placeholder.base,this.props.placeholderStyle,p.conditional(this.props.disabled,e.placeholder.disabled))},t.prototype.handleStepperHover=function(e){this.props.disabled||this.setState({stepperHover:e})},t.prototype.handleKeyDown=function(e){this.props.disabled||("ArrowUp"===e.key?this.handleIncrementWrapper():"ArrowDown"===e.key&&this.handleDecrementWrapper())},t.prototype.render=function(){var e={style:this.props.containerStyle},t=this.isPlaceholderShowing(),o=this.props.stepperLayoutType===i.Vertical,n=o?y.VerticalStepperArrowGroup:d.HorizontalStepperArrowGroup,s=l.getTextOutlineStyles(),c=this.getInputStyle(),u=this.getPlaceholderStyle(),h={style:c,interactiveStyles:s.input.interactive,text:String(this.props.text),testId:p.testId(this.props.testId,"StepperWidget"),handleChange:this.boundHandleChangeWrapper,handleEnter:this.props.handleEnter,disabled:this.props.disabled,handleActive:this.boundHandleActive,handleFocus:this.boundHandleFocus,handleHover:this.boundHandleHover,readOnly:this.props.readOnly,maxLength:this.props.maxLength,onKeyDown:this.boundhandleKeyDown,name:this.props.name},I={testId:p.testId(this.props.testId,"StepperWidget"),isIncrementDisabled:this.props.isIncrementDisabled,isDecrementDisabled:this.props.isDecrementDisabled,disabled:this.props.disabled,inputStyle:this.props.inputStyle,handleIncrement:this.boundHandleIncrementWrapper,handleDecrement:this.boundHandleDecrementWrapper,handleHover:this.boundHandleStepperHover},f={style:u,"data-tb-test-id":this.props.testId+"-Placeholder"};return r.createElement(a.Block,e,p.conditional(t,r.createElement("label",f,this.props.placeholder)),r.createElement(g.TextFieldInputWidget,h),r.createElement(n,I))},t}(h.TextFieldBase);t.StepperWidget=m},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};Object.defineProperty(t,"__esModule",{value:!0});var r=o(11),s=o(4),a=o(36),l=o(85),d=o(10),c=o(86),u=o(37),p=o(3),h=o(9),g=p.TabStyles.Colors,y=p.TabStyles.Sizing,I=function(){return{iconContainer:{position:"absolute",top:y.BorderWidth,borderWidth:y.BorderWidth,borderRadius:0,borderColor:g.L6,borderStyle:"solid",borderTop:"none",borderRight:"none",borderLeft:"none",borderBottom:"none",outline:"none",backgroundColor:g.Transparent},arrowLayout:{position:"static"},incrementStyle:{right:y.BorderWidth},decrementStyle:{borderLeft:"solid",borderRight:"solid",right:y.BorderWidth+u.StepperRightIcon.width}}},f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.getIncrementIconStyle=function(){var e=I();return s.assign({},e.incrementStyle,e.iconContainer,this.props.inputStyle)},t.prototype.getDecrementIconStyle=function(){var e=I();return s.assign({},e.decrementStyle,e.iconContainer,this.props.inputStyle)},t.prototype.render=function(){var e={style:I().arrowLayout},t={style:this.getDecrementIconStyle(),testId:h.testId(this.props.testId,"HorizontalStepperArrowGroup","DecrementIcon"),handleClick:this.boundHandleDecrementWrapper,activeIcon:u.StepperLeftIcon.active,enabledIcon:u.StepperLeftIcon.enabled,disabledIcon:u.StepperLeftIcon.disabled,disabled:this.props.disabled||this.props.isDecrementDisabled},o={style:this.getIncrementIconStyle(),testId:h.testId(this.props.testId,"HorizontalStepperArrowGroup","IncrementIcon"),handleClick:this.boundHandleIncrementWrapper,activeIcon:u.StepperRightIcon.active,enabledIcon:u.StepperRightIcon.enabled,disabledIcon:u.StepperRightIcon.disabled,disabled:this.props.disabled||this.props.isIncrementDisabled};return r.createElement(a.Block,e,r.createElement(l.IconButtonBase,t),r.createElement(l.IconButtonBase,o))},t}(c.StepperArrowGroup);f=i([d.InteractiveDomHoCDecorator],f),t.HorizontalStepperArrowGroup=f},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=o(11),r=o(11),s=o(36),a=o(10),l=o(9),d=function(e){function t(t){var o=e.call(this,t)||this;return o.boundHandleActive=function(e){return o.handleActiveWrapper(e)},o.boundPointerClick=function(){return o.handleClickWrapper()},o.state={active:!1},o}return n(t,e),t.prototype.handleClickWrapper=function(){!this.props.disabled&&this.props.handleClick&&this.props.handleClick()},t.prototype.getIcon=function(){return this.props.disabled?this.props.disabledIcon:this.state.active?this.props.activeIcon:this.props.enabledIcon},t.prototype.handleActiveWrapper=function(e){this.setState({active:e})},t.prototype.render=function(){var e={pointerClick:this.boundPointerClick,handleActive:this.boundHandleActive},t={src:this.getIcon(),draggable:!1,style:this.props.style,"data-tb-test-id":l.testId(this.props.testId,"IconButtonBase")};return r.createElement(a.InteractiveDomWrapper,e,r.createElement(s.Img,t))},t}(i.Component);t.IconButtonBase=d},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=o(11),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.boundHandleIncrementWrapper=function(){return t.handleIncrementWrapper()},t.boundHandleDecrementWrapper=function(){return t.handleDecrementWrapper()},t}return n(t,e),t.prototype.handleIncrementWrapper=function(){this.props.disabled||this.props.handleIncrement()},t.prototype.handleDecrementWrapper=function(){this.props.disabled||this.props.handleDecrement()},t.prototype.handleHoverWrapper=function(e){this.props.disabled||this.props.handleHover(e)},t}(i.Component);t.StepperArrowGroup=r},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s};Object.defineProperty(t,"__esModule",{value:!0});var r=o(11),s=o(4),a=o(36),l=o(85),d=o(10),c=o(86),u=o(37),p=o(3),h=o(9),g=p.TabStyles.Colors,y=p.TabStyles.Sizing,I=function(){return{arrowLayout:{borderLeft:y.BorderWidth+"px solid "+g.L6,borderRight:y.BorderWidth+"px solid transparent",bottom:0,boxSizing:"border-box",margin:y.BorderWidth,position:"absolute",right:0,top:0,width:19},icon:{backgroundColor:"transparent",left:"50%",position:"absolute",transform:"translateX(-50%)"},incrementStyle:{top:y.BorderWidth},decrementStyle:{bottom:2}}},f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.getIncrementIconStyle=function(){var e=I();return s.assign({},e.incrementStyle,e.icon,this.props.inputStyle)},t.prototype.getDecrementIconStyle=function(){var e=I();return s.assign({},e.decrementStyle,e.icon,this.props.inputStyle)},t.prototype.render=function(){var e={style:I().arrowLayout},t={style:this.getIncrementIconStyle(),testId:h.testId(this.props.testId,"VerticalStepperArrowGroup","IncrementIcon"),handleClick:this.boundHandleIncrementWrapper,activeIcon:u.StepperUpIcon.active,enabledIcon:u.StepperUpIcon.enabled,disabledIcon:u.StepperUpIcon.disabled,disabled:this.props.disabled||this.props.isIncrementDisabled},o={style:this.getDecrementIconStyle(),testId:h.testId(this.props.testId,"VerticalStepperArrowGroup","DecrementIcon"),handleClick:this.boundHandleDecrementWrapper,activeIcon:u.StepperDownIcon.active,enabledIcon:u.StepperDownIcon.enabled,disabledIcon:u.StepperDownIcon.disabled,disabled:this.props.disabled||this.props.isDecrementDisabled};return r.createElement(a.Block,e,r.createElement(l.IconButtonBase,t),r.createElement(l.IconButtonBase,o))},t}(c.StepperArrowGroup);f=i([d.InteractiveDomHoCDecorator],f),t.VerticalStepperArrowGroup=f},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i,r=o(11),s=o(4),a=o(34),l=o(33),d=o(3),c=o(89);!function(e){e[e.Left=0]="Left",e[e.Right=1]="Right"}(i||(i={})),t.SelectedToggle=i;var u=function(){return{container:{display:"flex"},toggleBase:s.assign({flexBasis:"100%",display:"flex",alignItems:"center",justifyContent:"center",paddingLeft:d.TabStyles.Spacing.MediumSpace,paddingRight:d.TabStyles.Spacing.MediumSpace,borderWidth:d.TabStyles.Sizing.BorderWidth,borderStyle:"solid",lineHeight:d.TabStyles.Sizing.RowHeight-2*d.TabStyles.Sizing.BorderWidth+"px"},l.PreventUserSelect),selectedToggle:{backgroundColor:d.TabStyles.Colors.F8,color:d.TabStyles.Typography.Color.InvertedPrimary,borderColor:d.TabStyles.Colors.F8},unselectedToggle:{backgroundColor:d.TabStyles.Colors.F1,color:d.TabStyles.Typography.Color.Primary,borderColor:d.TabStyles.Colors.L6},hoverSelectedToggle:{borderColor:d.TabStyles.Colors.L9},hoverUnselectedToggle:{borderColor:d.TabStyles.Colors.L9},focusSelectedToggle:{borderColor:d.TabStyles.Colors.L9},focusUnselectedToggle:{borderColor:d.TabStyles.Colors.L9},activeSelectedToggle:{backgroundColor:d.TabStyles.Colors.F8,color:d.TabStyles.Typography.Color.InvertedPrimary,borderColor:d.TabStyles.Colors.L9},activeUnselectedToggle:{backgroundColor:d.TabStyles.Colors.F8,color:d.TabStyles.Typography.Color.InvertedPrimary,borderColor:d.TabStyles.Colors.L9},unactiveToggle:{backgroundColor:d.TabStyles.Colors.F1,color:d.TabStyles.Typography.Color.Primary,borderColor:d.TabStyles.Colors.L6},firstToggle:{borderTopLeftRadius:d.TabStyles.Sizing.BorderRadius,borderBottomLeftRadius:d.TabStyles.Sizing.BorderRadius},lastToggle:{borderTopRightRadius:d.TabStyles.Sizing.BorderRadius,borderBottomRightRadius:d.TabStyles.Sizing.BorderRadius}}},p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.boundHandleChange=function(e){return t.handleChangeHelper(e)},t}return n(t,e),t.prototype.handleChangeHelper=function(e){1===e?this.props.handleRightToggleSelected():this.props.handleLeftToggleSelected()},t.prototype.render=function(){var e=u();return e.container=s.assign({},e.container,this.props.containerStyle),r.createElement(c.SwitcherTextBase,{checkedIndex:this.props.selectedToggle===i.Right?1:0,toggleTexts:[this.props.leftToggleText,this.props.rightToggleText],handleChange:this.boundHandleChange,style:e,testId:this.props.testId,name:this.props.name,ariaLabel:this.props.ariaLabel})},t}(a.DynamicThemeComponent);t.ToggleTextWidget=p},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=o(11),r=o(11),s=o(4),a=o(36),l=o(1),d=o(9),c=o(40),u="SwitcherTextGroup",p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.boundedChange=function(e){return t.props.handleChange(t.props.idx)},t.boundHandleActive=function(e){return t.handleActive(e)},t}return n(t,e),t.prototype.handleActive=function(e){this.props.handleActive(e?this.props.idx:-1)},t.prototype.render=function(){return r.createElement(c.InputLabelWidget,{style:this.props.style,testId:this.props.testId,interactiveStyles:{hover:this.props.hoverStyle,focus:this.props.focusStyle},handleActive:this.boundHandleActive},r.createElement("input",{style:{opacity:0,position:"absolute"},onChange:this.props.checked?null:this.boundedChange,type:"radio",checked:this.props.checked,name:this.props.groupName,readOnly:this.props.checked,"data-tb-test-id":d.testId(this.props.testId,"input")}),this.props.children)},t}(i.Component),h=function(e){function t(o){var n=e.call(this,o)||this;return n.boundHandleActive=function(e){return n.handleActive(e)},n.groupId=t.groupIdIncrementor++,n.state={activerSwitcherIdx:-1},n}return n(t,e),t.prototype.handleActive=function(e){this.setState({activerSwitcherIdx:e})},t.prototype.getToggleStyling=function(e){var t=s.assign({},this.props.style.toggleBase,0===e?this.props.style.firstToggle:null,e===this.props.toggleTexts.length-1?this.props.style.lastToggle:null);return t=this.state.activerSwitcherIdx>=0?s.assign({},t,this.state.activerSwitcherIdx!==e?this.props.style.unactiveToggle:this.props.checkedIndex===e?this.props.style.activeSelectedToggle:this.props.style.activeUnselectedToggle):s.assign({},t,this.props.checkedIndex===e?this.props.style.selectedToggle:this.props.style.unselectedToggle)},t.prototype.render=function(){var e=this,t=u+String(this.groupId),o=this.props.toggleTexts.map(function(o,n){var i=e.getToggleStyling(n),s=e.props.checkedIndex===n?e.props.style.hoverSelectedToggle:e.props.style.hoverUnselectedToggle,a=e.props.checkedIndex===n?e.props.style.focusSelectedToggle:e.props.style.focusUnselectedToggle;return r.createElement(p,{groupName:e.props.name||t,handleChange:e.props.handleChange,checked:e.props.checkedIndex===n,testId:d.testId(e.props.testId,o),idx:n,style:i,hoverStyle:s,focusStyle:a,key:n,handleActive:e.boundHandleActive},o)});return r.createElement(a.Block,{style:this.props.style.container,className:l.SuppressClickBustingClass,role:"radiogroup","aria-label":this.props.ariaLabel},o)},t}(i.Component);h.groupIdIncrementor=0,t.SwitcherTextBase=h},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=o(11),r=o(4),s=o(36),a=o(9),l=o(11),d=o(47),c=o(10),u=o(3),p=function(){return{border:"1px solid white"}},h=function(e){var t=p();return{base:{width:e.size,height:e.size,backgroundColor:e.color.toLowerCase(),boxSizing:"border-box",cursor:"pointer"},interactive:{hover:t,active:t,disabled:{cursor:"normal"}}}},g=function(e){function t(t){var o=e.call(this,t)||this;return o.boundHandleHover=function(e){return o.handleHover(e)},o.boundHandleActive=function(e){return o.handleActive(e)},o.boundOnClicked=function(){return o.onClicked()},o.state={hover:!1,active:!1},o}return n(t,e),t.prototype.render=function(){var e=h(this.props),t={interactiveStyles:e.interactive,handleHover:this.boundHandleHover,handleActive:this.boundHandleActive,disabled:this.props.disabled};return l.createElement(c.InteractiveDomWrapper,t,l.createElement("div",{style:r.assign({},e.base,this.props.selected?p():{}),onClick:this.boundOnClicked,"aria-selected":this.props.selected,"data-tb-test-id":a.testId(this.props.testId,"ColorSwatch",this.props.color.toLowerCase())},a.conditional(!this.props.disabled,l.createElement("div",{style:this.getInnerBorderStyle()}))))},t.prototype.getInnerBorderStyle=function(){var e=this.props.selected||this.state.hover||this.state.active,t=e&&u.TabStyles.Colors?u.TabStyles.Colors.F9:"transparent";return{borderWidth:1,borderStyle:"solid",borderColor:t,width:"100%",height:"100%",boxSizing:"border-box"}},t.prototype.handleHover=function(e){this.setState({hover:e})},t.prototype.handleActive=function(e){this.setState({active:e})},t.prototype.onClicked=function(){this.props.disabled||this.props.handleClick(this.props.color.toLowerCase())},t}(i.Component);t.ColorSwatchWidget=g;var y;!function(e){e[e.Dark=0]="Dark",e[e.Light=1]="Light"}(y||(y={})),t.ColorGridPreset=y;var I=function(e){function t(t){var o=e.call(this,t)||this;return o.boundOnSwatchClicked=function(e){return o.onSwatchClicked(e)},o.preset=o.props.colorsPreset||y.Dark,o}return n(t,e),t.prototype.render=function(){this.props.colorsPreset&&this.props.colorsPreset!==this.preset&&(this.preset=this.props.colorsPreset);var e=l.createElement(c.InteractiveDomWrapper,{interactiveStyles:{focus:{outline:"none"}}},this.buildColorSwatchGrid());return this.props.isDropdown?l.createElement(d.DialogWidget,this.buildDialogProps(),e):l.createElement(s.Block,{"data-tb-test-id":a.testId(this.props.testId,"ColorGrid")},e)},t.prototype.onSwatchClicked=function(e){this.props.disabled||this.props.handleSwatchClicked(e.toLowerCase())},t.prototype.getColorPreset=function(){return this.preset===y.Light?u.TabStyles.ColorPickerPresets.Light:u.TabStyles.ColorPickerPresets.Dark},t.prototype.buildDialogProps=function(){return{shouldReturnFocusOnClose:this.props.shouldReturnFocusOnClose,testId:a.testId(this.props.testId,"ColorGridWidget"),type:d.DialogType.Uber,positioningBehavior:d.DialogPositioningBehavior.Anchored,anchorEl:this.props.anchorEl,isModal:!0,isGlassTransparent:!0,handleGlassClick:this.props.handleGlassClick,showCloseButton:!1,onCloseRequest:this.props.handleCloseRequest,showFooter:!1,zIndex:this.props.dropdownZIndex}},t.prototype.buildColorSwatchGrid=function(){for(var e=[],o=this.getColorPreset(),n=[],i=[],r=0,s=0;s<o.length;s++){var a=o[s].toLowerCase(),d={color:a,handleClick:this.boundOnSwatchClicked,key:"swatch-"+a,size:u.TabStyles.Sizing.ColorSwatchSize,selected:this.props.selectedColor===a,disabled:this.props.disabled,testId:this.props.testId};i.push(l.createElement(g,d)),r+=1;var c=1===r&&e.length<2||3===r&&e.length>=2;(r===t.colorsPerColumn||c)&&(n.push(l.createElement("div",{style:{border:"1px solid "+u.TabStyles.Colors.L6},key:"group-"+s},i)),c&&n.push(l.createElement("div",{style:{width:u.TabStyles.Sizing.ColorSwatchSize,height:t.dividerHeight},key:"divider-"+s})),r===t.colorsPerColumn&&(e.push(l.createElement("div",{key:"column-"+s,style:{float:"left",marginTop:0,marginRight:0,marginBottom:0,marginLeft:e.length?t.groupSpacing:0}},n)),n=[],r=0),i=[])}return l.createElement("div",{style:{display:"flex"},tabIndex:0},e)},t}(i.Component);I.colorsPerColumn=6,I.groupSpacing=4,I.dividerHeight=5,t.ColorGridWidget=I},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=o(11),r=o(13),s=o(90),a=o(9),l=o(11),d=o(66),c=o(3),u=function(e){var t=c.TabStyles.Sizing.RowHeight,o=.5*t;return{display:"inline-block",width:e.colorLabelWidth||40,height:o,boxSizing:"border-box",backgroundColor:(e.color||"").toLowerCase(),marginTop:(t-(o+2*c.TabStyles.Sizing.BorderWidth))/2}},p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){var e={dropdownType:d.DropdownType.Outline,pointerClick:this.props.handleClick,onKeyDown:this.props.onKeyDown,dropdownOpen:this.props.isPickerOpen,disabled:this.props.disabled,interactiveStyles:d.getDropdownStylesByType(d.DropdownType.Outline).button.interactive};return l.createElement(d.DropdownButtonWidget,e,l.createElement("div",{style:u(this.props)}))},t}(i.Component);t.ColorPickerButton=p;var h=function(e){function t(t){var o=e.call(this,t)||this;return o.boundOnColorSelected=function(e){return o.onColorSelected(e)},o.boundTogglePicker=function(){return o.togglePicker()},o.boundHandleKeyDown=function(e){return o.handleKeyDown(e)},o.boundSetDialogAnchor=function(e){return o.setDialogAnchor(e)},o.state={isPickerVisible:!1},o}return n(t,e),t.prototype.render=function(){var e={handleSwatchClicked:this.boundOnColorSelected,anchorEl:this.dialogAnchor,handleGlassClick:this.boundTogglePicker,handleCloseRequest:this.boundTogglePicker,selectedColor:(this.props.selectedColor||"").toLowerCase(),isDropdown:!0,colorsPreset:this.props.colorsPreset,testId:"colorgrid",dropdownZIndex:this.props.dropdownZIndex,shouldReturnFocusOnClose:this.props.shouldReturnFocusOnClose},t={handleClick:this.boundTogglePicker,color:this.props.selectedColor,disabled:this.props.disabled,isPickerOpen:this.state.isPickerVisible,colorLabelWidth:this.props.colorLabelWidth,ref:this.boundSetDialogAnchor,onKeyDown:this.boundHandleKeyDown};return l.createElement("div",{style:{display:"inline-block"},"data-tb-test-id":a.testId(this.props.testId,"ColorPicker")},l.createElement(p,t),a.conditional(this.state.isPickerVisible,l.createElement(s.ColorGridWidget,e)))},t.prototype.setDialogAnchor=function(e){this.dialogAnchor=r.findDOMNode(e)},t.prototype.onColorSelected=function(e){this.togglePicker(),this.props.handleColorSelected(e.toLowerCase())},t.prototype.togglePicker=function(){this.props.disabled||this.setState({isPickerVisible:!this.state.isPickerVisible})},t.prototype.handleKeyDown=function(e){" "!==e.key&&"Enter"!==e.key||(this.togglePicker(),e.preventDefault(),e.stopPropagation())},t}(i.Component);h.defaultProps={shouldReturnFocusOnClose:!0},t.ColorPickerWidget=h},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=o(11),r=o(11),s=o(36),a=o(37),l=o(9),d=o(93),c=function(){return{underlay:{background:"rgba(255,255,255,.6)",borderRadius:10,textAlign:"center",width:a.ActivitySpinnerIcon.underlaySize,height:a.ActivitySpinnerIcon.underlaySize},spinnerWithUnderlay:{width:a.ActivitySpinnerIcon.size,height:"100%"},spinner:{width:a.ActivitySpinnerIcon.size,height:a.ActivitySpinnerIcon.size}}},u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.render=function(){return this.props.shouldShowUnderlay?r.createElement(s.InlineBlock,{style:c().underlay,"data-tb-test-id":"spinner-underlay"},this.getSpinnerElement()):this.getSpinnerElement()},t.prototype.getSpinnerElement=function(){var e=c();return d.isMSEdgeBrowser()?r.createElement("iframe",{frameBorder:"0",scrolling:"no",src:a.ActivitySpinnerIcon.edgeBrowserImage,type:"image/svg+xml",style:this.props.shouldShowUnderlay?e.spinnerWithUnderlay:e.spinner,"data-tb-test-id":l.testId(this.props.testId,"Spinner")}):r.createElement("object",{data:a.ActivitySpinnerIcon.animation,type:"image/svg+xml",style:this.props.shouldShowUnderlay?e.spinnerWithUnderlay:e.spinner,"data-tb-test-id":l.testId(this.props.testId,"Spinner")})},t}(i.Component);t.ActivitySpinnerWidget=u},function(e,t){"use strict";function o(){return null!==navigator&&/Edge\//.test(navigator.userAgent)}Object.defineProperty(t,"__esModule",{value:!0}),t.isMSEdgeBrowser=o},function(e,t,o){"use strict";function n(e){return r.createElement(s.SliderWidget,i({},e,{handleCountAndRangeType:s.SINGLE_HANDLE_SINGLE_VALUE,continuous:!0}))}var i=this&&this.__assign||Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++){t=arguments[o];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var r=o(11),s=o(95);t.ContinuousSliderWidget=n},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__assign||Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++){t=arguments[o];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var r=o(11),s=o(9),a=o(96),l=o(104),d=o(105),c=o(100),u=o(98);t.SINGLE_HANDLE_SINGLE_VALUE="SINGLE_HANDLE_SINGLE_VALUE",t.SINGLE_HANDLE_RANGE_TO_MIN="SINGLE_HANDLE_RANGE_TO_MIN",t.SINGLE_HANDLE_RANGE_TO_MAX="SINGLE_HANDLE_RANGE_TO_MAX",t.TWO_HANDLES_RANGE_BETWEEN="TWO_HANDLES_RANGE_BETWEEN";var p=function(e){function o(t){var o=e.call(this,t)||this;return o.state={areHandlesBeingDragged:!1},o.sliderValueLogic=new c.SliderValueLogic(t.min,t.max,(!t.continuous)),o.hasSingleValue=o.hasSingleValue.bind(o),o.determineTickCount=o.determineTickCount.bind(o),o.determineTrackIndicatorAndDataBarPositions=o.determineTrackIndicatorAndDataBarPositions.bind(o),o.fireOnChangeForSingleValue=o.fireOnChangeForSingleValue.bind(o),o.fireOnChangeForTwoValues=o.fireOnChangeForTwoValues.bind(o),o.onHandleDragStart=o.onHandleDragStart.bind(o),o.onHandleDragMove=o.onHandleDragMove.bind(o),o.onHandleDragEnd=o.onHandleDragEnd.bind(o),o.onBothHandleDragStart=o.onBothHandleDragStart.bind(o),o.onBothHandleDragMove=o.onBothHandleDragMove.bind(o),o.onBothHandleDragEnd=o.onBothHandleDragEnd.bind(o),o.onHandleKeyDown=o.onHandleKeyDown.bind(o),o}return n(o,e),o.prototype.hasSingleValue=function(e){return"number"==typeof this.props.value},o.prototype.determineTickCount=function(){return this.props.continuous?0:Math.floor(this.props.max)-Math.ceil(this.props.min)+1},o.prototype.determineTrackIndicatorAndDataBarPositions=function(e,o){switch(this.props.handleCountAndRangeType||t.SINGLE_HANDLE_SINGLE_VALUE){case t.SINGLE_HANDLE_RANGE_TO_MIN:return{indicatorBarPosition:{start:0,end:e}};case t.SINGLE_HANDLE_RANGE_TO_MAX:return{indicatorBarPosition:{start:e,end:1}};case t.TWO_HANDLES_RANGE_BETWEEN:var n=void 0;if(this.props.trackDataBarRange){var i=this.sliderValueLogic.calculateSliderPositionAsProportion(this.props.trackDataBarRange.from),r=this.sliderValueLogic.calculateSliderPositionAsProportion(this.props.trackDataBarRange.to);n={start:Math.max(e,i),end:Math.min(o,r)}}return{indicatorBarPosition:{start:e,end:o},dataBarPosition:n};default:return{}}},o.prototype.fireOnChangeForSingleValue=function(e,t){this.props.onChange&&(this.hasSingleValue(this.props.value)?t!==this.props.value&&this.props.onChange(t):e===a.FIRST_HANDLE&&t!==this.props.value.from?this.props.onChange({from:Math.min(t,this.props.value.to),to:this.props.value.to}):e===a.SECOND_HANDLE&&t!==this.props.value.to&&this.props.onChange({from:this.props.value.from,to:Math.max(t,this.props.value.from)}))},o.prototype.fireOnChangeForTwoValues=function(e,t){!this.props.onChange||this.hasSingleValue(this.props.value)||e>t||this.props.onChange({from:e,to:t})},o.prototype.onHandleDragStart=function(e,t){this.setState({areHandlesBeingDragged:!0});var o=this.sliderValueLogic.calculateNewSliderValueFromProportion(t);this.fireOnChangeForSingleValue(e,o)},o.prototype.onHandleDragMove=function(e,t){var o=this.sliderValueLogic.calculateNewSliderValueFromProportion(t);this.fireOnChangeForSingleValue(e,o)},o.prototype.onHandleDragEnd=function(){this.setState({areHandlesBeingDragged:!1})},o.prototype.onBothHandleDragStart=function(){this.setState({areHandlesBeingDragged:!0})},o.prototype.onBothHandleDragMove=function(e,t){var o=this.sliderValueLogic.calculateNewSliderValueFromProportion(e),n=this.sliderValueLogic.calculateNewSliderValueFromProportion(t);this.fireOnChangeForTwoValues(o,n)},o.prototype.onBothHandleDragEnd=function(){this.setState({areHandlesBeingDragged:!1})},o.prototype.onHandleKeyDown=function(e,t){var o;o=this.hasSingleValue(this.props.value)?this.props.value:e===a.FIRST_HANDLE?this.props.value.from:this.props.value.to;var n=this.sliderValueLogic.calculateNewSliderValueForKey(t,o);"undefined"!=typeof n&&this.fireOnChangeForSingleValue(e,n)},o.prototype.componentWillReceiveProps=function(e){this.props.continuous===e.continuous&&this.props.min===e.min&&this.props.max===e.max||(this.sliderValueLogic=new c.SliderValueLogic(e.min,e.max,(!e.continuous)))},o.prototype.render=function(){var e=this.props.handleCountAndRangeType===t.TWO_HANDLES_RANGE_BETWEEN,o=this.hasSingleValue(this.props.value);if(e&&o||!e&&!o)return null;var n=s.testId(this.props.testId,"Slider"),c=u.getSliderStyles(),p=void 0,h=void 0;this.hasSingleValue(this.props.value)?p=this.sliderValueLogic.calculateSliderPositionAsProportion(this.props.value):(p=this.sliderValueLogic.calculateSliderPositionAsProportion(this.props.value.from),h=this.sliderValueLogic.calculateSliderPositionAsProportion(this.props.value.to));var g=this.determineTickCount(),y=this.determineTrackIndicatorAndDataBarPositions(p,h),I=y.indicatorBarPosition,f=y.dataBarPosition;return r.createElement("div",{style:i({},c.OuterContainer,this.props.style||{}),"data-tb-test-id":n},r.createElement("div",{style:c.TrackAndHandleContainer},g>1&&r.createElement(l.SliderTickBarWidget,{testId:this.props.testId,tickCount:g}),r.createElement(d.SliderTrackWidget,{rangeIndicatorBarPosition:I,dataBarPosition:f,handleIsBeingDragged:this.state.areHandlesBeingDragged,testId:this.props.testId}),r.createElement(a.SliderHandleContainer,{onHandleDragStart:this.onHandleDragStart,onHandleDragMove:this.onHandleDragMove,onHandleDragEnd:this.onHandleDragEnd,onHandleKeyDown:this.onHandleKeyDown,onBothHandleDragStart:this.onBothHandleDragStart,onBothHandleDragMove:this.onBothHandleDragMove,onBothHandleDragEnd:this.onBothHandleDragEnd,handles:{firstHandlePosition:p,secondHandlePosition:h},disabled:this.props.disabled,testId:this.props.testId})))},o}(r.Component);t.SliderWidget=p},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__assign||Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++){t=arguments[o];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var r=o(11),s=o(93),a=o(12),l=o(31),d=o(97),c=o(9),u=o(98),p=o(99),h=o(100),g=o(102),y=o(103),I=o(102);t.FIRST_HANDLE=I.FIRST_HANDLE,t.SECOND_HANDLE=I.SECOND_HANDLE;var f=function(e){function t(t){var o=e.call(this,t)||this;return o.state={},o.getHandleCount=o.getHandleCount.bind(o),o.isSingleHandleBeingDragged=o.isSingleHandleBeingDragged.bind(o),o.determineSingleHandleDragOffsetIfNeeded=o.determineSingleHandleDragOffsetIfNeeded.bind(o),o.determineWhichHandleShouldBeDraggedForEvent=o.determineWhichHandleShouldBeDraggedForEvent.bind(o),o.fireHandleDragStartEvents=o.fireHandleDragStartEvents.bind(o),o.fireHandleDragMoveEvents=o.fireHandleDragMoveEvents.bind(o),o.fireHandleDragEndEvents=o.fireHandleDragEndEvents.bind(o),o.setKeyboardFocusOnHandle=o.setKeyboardFocusOnHandle.bind(o),o.dragStart=o.dragStart.bind(o),o.dragMove=o.dragMove.bind(o),o.dragEnd=o.dragEnd.bind(o),o.setContainerRef=o.setContainerRef.bind(o),o.setFirstHandleWidgetRef=o.setFirstHandleWidgetRef.bind(o),o.setSecondHandleWidgetRef=o.setSecondHandleWidgetRef.bind(o),o.onPointerDown=o.onPointerDown.bind(o),o.onPointerMove=o.onPointerMove.bind(o),o.onPointerUp=o.onPointerUp.bind(o),o.onFirstHandleKeyDown=o.onFirstHandleKeyDown.bind(o),o.onSecondHandleKeyDown=o.onSecondHandleKeyDown.bind(o),o.renderFirstHandle=o.renderFirstHandle.bind(o),o.renderSecondHandle=o.renderSecondHandle.bind(o),o}return n(t,e),t.prototype.getHandleCount=function(){return"undefined"==typeof this.props.handles.secondHandlePosition?1:2},t.prototype.isSingleHandleBeingDragged=function(e){return e===g.FIRST_HANDLE||e===g.SECOND_HANDLE},t.prototype.determineSingleHandleDragOffsetIfNeeded=function(e,t,o){if(t){var n;return e===g.FIRST_HANDLE?n=this.props.handles.firstHandlePosition:e===g.SECOND_HANDLE&&(n=this.props.handles.secondHandlePosition),n?n-o:void 0}},t.prototype.determineWhichHandleShouldBeDraggedForEvent=function(e,t){return e?1===this.getHandleCount()?g.SliderHandleContainerDragHandleLogic.determineWhichHandleShouldBeDraggedForTouchAndOneHandle(t,this.firstHandleWidgetRef.getBoundingClientRectForInteractiveArea()):g.SliderHandleContainerDragHandleLogic.determineWhichHandleShouldBeDraggedForTouchAndTwoHandles(t,this.firstHandleWidgetRef.getBoundingClientRectForInteractiveArea(),this.secondHandleWidgetRef.getBoundingClientRectForInteractiveArea()):1===this.getHandleCount()?g.SliderHandleContainerDragHandleLogic.determineWhichHandleShouldBeDraggedForMouseAndOneHandle(t,this.firstHandleWidgetRef.getBoundingClientRectForIcon()):g.SliderHandleContainerDragHandleLogic.determineWhichHandleShouldBeDraggedForMouseAndTwoHandles(t,this.firstHandleWidgetRef.getBoundingClientRectForIcon(),this.secondHandleWidgetRef.getBoundingClientRectForIcon())},t.prototype.fireHandleDragStartEvents=function(e,t,o){this.isSingleHandleBeingDragged(e)?this.props.onHandleDragStart&&!isNaN(t)&&this.props.onHandleDragStart(e,t+(o||0)):this.props.onBothHandleDragStart&&this.props.onBothHandleDragStart()},t.prototype.fireHandleDragMoveEvents=function(e,t){this.isSingleHandleBeingDragged(this.state.handleBeingDragged)?this.props.onHandleDragMove&&!isNaN(e)&&this.props.onHandleDragMove(this.state.handleBeingDragged,e+(this.state.singleHandleDragOffsetAsProportion||0)):!this.props.onBothHandleDragMove||"undefined"==typeof t||isNaN(e)||isNaN(t)||this.props.onBothHandleDragMove(e,t)},t.prototype.fireHandleDragEndEvents=function(e){var t=this.isSingleHandleBeingDragged(e);t&&this.props.onHandleDragEnd?this.props.onHandleDragEnd(e):!t&&this.props.onBothHandleDragEnd&&this.props.onBothHandleDragEnd()},t.prototype.setKeyboardFocusOnHandle=function(e){var t=this.state.handleBeingDragged===g.SECOND_HANDLE?this.secondHandleWidgetRef:this.firstHandleWidgetRef;t&&t.focus()},t.prototype.dragStart=function(e,t,o){if(this.containerElementRef){var n=y.SliderHandleContainerCoordinateLogic.convertClientCoordinateIntoProportionOfContainer(t.x,this.containerElementRef.getBoundingClientRect());this.globalPointerEventCapturer&&this.globalPointerEventCapturer.addListeners();var i=this.determineSingleHandleDragOffsetIfNeeded(e,o,n);this.setState({handleBeingDragged:e,dragOriginInClientCoordinates:t,handlePositionsAtDragStart:this.props.handles,singleHandleDragOffsetAsProportion:i}),this.fireHandleDragStartEvents(e,n,i),this.setKeyboardFocusOnHandle(e)}},t.prototype.dragMove=function(e){if(this.containerElementRef){var t=this.isSingleHandleBeingDragged(this.state.handleBeingDragged);if(t&&this.props.onHandleDragMove){var o=y.SliderHandleContainerCoordinateLogic.convertClientCoordinateIntoProportionOfContainer(e.x,this.containerElementRef.getBoundingClientRect());this.fireHandleDragMoveEvents(o)}else if(!t&&this.props.onBothHandleDragMove){var n=y.SliderHandleContainerCoordinateLogic.calculateProportionalPositionsWhenDraggingBothHandles(this.state.dragOriginInClientCoordinates.x,this.state.handlePositionsAtDragStart.firstHandlePosition,this.state.handlePositionsAtDragStart.secondHandlePosition,e.x,this.containerElementRef.getBoundingClientRect());this.fireHandleDragMoveEvents(n.firstHandlePosition,n.secondHandlePosition)}}},t.prototype.dragEnd=function(){if(this.state.handleBeingDragged){this.globalPointerEventCapturer&&this.globalPointerEventCapturer.removeListeners();var e=this.state.handleBeingDragged;this.setState({handleBeingDragged:void 0,dragOriginInClientCoordinates:void 0,handlePositionsAtDragStart:void 0}),this.fireHandleDragEndEvents(e)}},t.prototype.setContainerRef=function(e){this.containerElementRef=e,this.globalPointerEventCapturer=new d.GlobalPointerEventCapturer(this.containerElementRef,this.onPointerMove,this.onPointerUp)},t.prototype.setFirstHandleWidgetRef=function(e){this.firstHandleWidgetRef=e},t.prototype.setSecondHandleWidgetRef=function(e){this.secondHandleWidgetRef=e},t.prototype.onPointerDown=function(e){if(!this.props.disabled&&this.firstHandleWidgetRef&&(2!==this.getHandleCount()||this.secondHandleWidgetRef)){var t=e,o=l.getClientPosition(t),n=this.determineWhichHandleShouldBeDraggedForEvent(l.isTouchEvent(t),o);n&&(e.preventDefault(),e.stopPropagation(),this.dragStart(n.handle,o,n.directlyOnIcon))}},t.prototype.onPointerMove=function(e){!this.props.disabled&&this.containerElementRef&&(e.preventDefault(),e.stopPropagation(),this.dragMove(l.getClientPosition(e)))},t.prototype.onPointerUp=function(e){this.dragEnd(),this.props.disabled||(e.preventDefault(),e.stopPropagation())},t.prototype.onFirstHandleKeyDown=function(e){this.props.disabled||this.props.onHandleKeyDown&&h.SliderValueLogic.KeysRelevantForManipulatingSlider[e.key]&&(this.props.onHandleKeyDown(g.FIRST_HANDLE,e.key),e.preventDefault(),e.stopPropagation())},t.prototype.onSecondHandleKeyDown=function(e){this.props.disabled||this.props.onHandleKeyDown&&h.SliderValueLogic.KeysRelevantForManipulatingSlider[e.key]&&(this.props.onHandleKeyDown(g.SECOND_HANDLE,e.key),e.preventDefault(),e.stopPropagation())},t.prototype.componentWillUnmount=function(){this.globalPointerEventCapturer&&this.globalPointerEventCapturer.removeListeners()},t.prototype.renderFirstHandle=function(){if(isNaN(this.props.handles.firstHandlePosition))return null;var e=this.state.handleBeingDragged===g.FIRST_HANDLE||this.state.handleBeingDragged===g.BOTH_HANDLES,t=1===this.getHandleCount()?p.NORMAL_HANDLE_ICON:p.LEFT_HANDLE_ICON;return r.createElement(p.SliderHandleWidget,{ref:this.setFirstHandleWidgetRef,disabled:this.props.disabled,position:this.props.handles.firstHandlePosition,icon:t,isBeingDragged:e,onKeyDown:this.onFirstHandleKeyDown,testId:this.props.testId})},t.prototype.renderSecondHandle=function(){if(1===this.getHandleCount()||!this.props.handles.secondHandlePosition||isNaN(this.props.handles.secondHandlePosition))return null;var e=this.state.handleBeingDragged===g.SECOND_HANDLE||this.state.handleBeingDragged===g.BOTH_HANDLES;return r.createElement(p.SliderHandleWidget,{ref:this.setSecondHandleWidgetRef,disabled:this.props.disabled,icon:p.RIGHT_HANDLE_ICON,position:this.props.handles.secondHandlePosition,isBeingDragged:e,onKeyDown:this.onSecondHandleKeyDown,testId:this.props.testId})},t.prototype.renderInnerHandleMouseCursorArea=function(e){if(this.props.disabled||isNaN(this.props.handles.firstHandlePosition)||1===this.getHandleCount()||!this.props.handles.secondHandlePosition||isNaN(this.props.handles.secondHandlePosition))return null;var t=100*this.props.handles.firstHandlePosition,o=100-100*this.props.handles.secondHandlePosition;return r.createElement("span",{style:i({},e,{left:t+"%",right:o+"%"})})},t.prototype.render=function(){var e=c.testId(this.props.testId,"SliderHandleContainer"),t=u.getSliderHandleContainerStyles(),o=t.Container;return s.isMSEdgeBrowser()&&(o.touchAction="none"),r.createElement(a.PointerEventWrapper,{pointerDown:this.onPointerDown,disabled:this.props.disabled},r.createElement("div",{style:o,onTouchStart:this.onPointerDown,ref:this.setContainerRef,"data-tb-test-id":e},this.renderFirstHandle(),this.renderSecondHandle(),this.renderInnerHandleMouseCursorArea(t.InnerHandleMouseCursorArea)))},t}(r.Component);t.SliderHandleContainer=f},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t,o){this.listenersAdded=!1,this.elementRef=e,this.onPointerMove=t,this.onPointerUp=o}return e.prototype.addListeners=function(){this.listenersAdded||(window.addEventListener("touchend",this.onPointerUp),window.addEventListener("mouseup",this.onPointerUp),window.addEventListener("touchmove",this.onPointerMove),window.addEventListener("mousemove",this.onPointerMove),this.elementRef.setCapture&&this.elementRef.setCapture(),this.listenersAdded=!0)},e.prototype.removeListeners=function(){this.listenersAdded&&(window.removeEventListener("touchend",this.onPointerUp),window.removeEventListener("mouseup",this.onPointerUp),window.removeEventListener("touchmove",this.onPointerMove),window.removeEventListener("mousemove",this.onPointerMove),this.elementRef.releaseCapture&&this.elementRef.releaseCapture(),this.listenersAdded=!1)},e}();t.GlobalPointerEventCapturer=o},function(e,t,o){"use strict";var n=this&&this.__assign||Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++){t=arguments[o];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var i=o(3),r=o(37),s={w:Math.ceil(r.SliderHandleIcon.width/2),h:Math.ceil(r.SliderHandleIcon.height/2)},a=40,l=4,d=4,c={w:40,h:40},u={w:c.w/2,h:c.h/2},p=16,h=11,g=14;t.getSliderTrackStyles=function(){var e={Track:{position:"absolute",left:s.w,right:s.w,backgroundColor:i.TabStyles.Colors.F3,height:d,top:(a-d)/2},RangeIndicatorBar:{position:"absolute",top:0,bottom:0,backgroundColor:i.TabStyles.Colors.F7},DataBar:{position:"absolute",top:0,bottom:0,backgroundColor:i.TabStyles.Colors.L8}};return n({},e,{RangeIndicatorBarDarkened:n({},e.RangeIndicatorBar,{backgroundColor:i.TabStyles.Colors.L8}),DataBarDarkened:n({},e.DataBar,{backgroundColor:i.TabStyles.Colors.L9})})},t.getSliderTickBarStyles=function(){return{Bar:{position:"absolute",left:s.w,right:s.w+1,height:l,top:(a-d)/2-h-l},Tick:{position:"absolute",borderLeft:"solid 1px "+i.TabStyles.Colors.F6,height:l,width:0}}},t.getSliderHandleStyles=function(){var e={PositioningContainer:{position:"absolute"},PressIndicationBar:{position:"absolute",borderLeft:"solid 2px "+i.TabStyles.Colors.F9,marginLeft:-1,width:0,height:p,top:-3},HandleInteractiveArea:{position:"absolute",touchAction:"none",width:r.SliderHandleIcon.width,height:r.SliderHandleIcon.height,boxSizing:"content-box",paddingTop:u.h-s.h,paddingBottom:u.h-s.h,paddingLeft:u.w-s.w,paddingRight:u.w-s.w,marginLeft:-1*u.w,WebkitTouchCallout:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none"},HandleIcon:{position:"absolute",touchAction:"none",cursor:"pointer",width:r.SliderHandleIcon.width,height:r.SliderHandleIcon.height,marginLeft:-1*s.w,marginTop:u.h-s.h,outline:"none",WebkitTouchCallout:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none",WebkitTapHighlightColor:"transparent"}};return n({},e,{HandleInteractiveAreaLeft:n({},e.HandleInteractiveArea,{paddingLeft:e.HandleInteractiveArea.paddingLeft-5,paddingRight:e.HandleInteractiveArea.paddingRight+5}),HandleInteractiveAreaRight:n({},e.HandleInteractiveArea,{paddingLeft:e.HandleInteractiveArea.paddingLeft+6,paddingRight:e.HandleInteractiveArea.paddingRight-4}),HandleIconLeft:n({},e.HandleIcon,{marginLeft:e.HandleIcon.marginLeft-5}),HandleIconRight:n({},e.HandleIcon,{marginLeft:e.HandleIcon.marginLeft+6}),DisabledHandleMixin:{touchAction:void 0},DisabledHandleInnerFocusAreaMixin:n({},e.HandleIcon,{touchAction:void 0,cursor:void 0})})},t.getSliderHandleContainerStyles=function(){return{Container:{position:"absolute",top:0,bottom:0,left:0,right:0,marginLeft:s.w+1,marginRight:s.w},InnerHandleMouseCursorArea:{position:"absolute",cursor:"pointer",height:r.SliderHandleIcon.height,top:u.h-s.h}}},t.getSliderStyles=function(){return{OuterContainer:{paddingLeft:g,paddingRight:g,WebkitTapHighlightColor:"transparent",TapHighlightColor:"transparent"},TrackAndHandleContainer:{position:"relative",height:a}}}},function(e,t,o){"use strict";var n=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__assign||Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++){t=arguments[o];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var r=o(11),s=o(10),a=o(37),l=o(9),d=o(57),c=o(98);t.NORMAL_HANDLE_ICON="NORMAL_HANDLE_ICON",t.LEFT_HANDLE_ICON="LEFT_HANDLE_ICON",t.RIGHT_HANDLE_ICON="RIGHT_HANDLE_ICON";var u=function(e){function o(t){var o=e.call(this,t)||this;return o.state={isHovered:!1,isFocused:!1},o.chooseIconAndStylesForRender=o.chooseIconAndStylesForRender.bind(o),o.setImgRef=o.setImgRef.bind(o),o.setInteractiveAreaRef=o.setInteractiveAreaRef.bind(o),o.onHover=o.onHover.bind(o),o.onFocus=o.onFocus.bind(o),o}return n(o,e),o.prototype.chooseIconAndStylesForRender=function(){var e=c.getSliderHandleStyles(),o=void 0,n=void 0,r=void 0;switch(this.props.icon){case t.LEFT_HANDLE_ICON:o=a.SliderLeftHandleIcon,n=e.HandleInteractiveAreaLeft,r=e.HandleIconLeft;break;case t.RIGHT_HANDLE_ICON:o=a.SliderRightHandleIcon,n=e.HandleInteractiveAreaRight,r=e.HandleIconRight;break;default:o=a.SliderHandleIcon,n=e.HandleInteractiveArea,r=e.HandleIcon}this.props.disabled&&(n=i({},n,e.DisabledHandleMixin),r=i({},r,e.DisabledHandleInnerFocusAreaMixin));var s=this.props.disabled?o.disabled:this.state.isHovered||this.props.isBeingDragged||this.state.isFocused?o.active:o.enabled;return{positioningContainerStyle:e.PositioningContainer,pressIndicationBarStyle:e.PressIndicationBar,interactiveAreaStyle:n,imgStyle:r,iconImageDataUrl:s}},o.prototype.setImgRef=function(e){this.imgRef=e},o.prototype.setInteractiveAreaRef=function(e){this.interactiveAreaRef=e},o.prototype.onFocus=function(e){this.props.disabled||this.setState({isFocused:e})},o.prototype.onHover=function(e){this.props.disabled||this.setState({isHovered:e})},o.prototype.focus=function(){this.imgRef&&this.imgRef.focus()},o.prototype.getBoundingClientRectForIcon=function(){if(this.imgRef){var e=this.imgRef.getBoundingClientRect();return this.props.icon===t.LEFT_HANDLE_ICON?d.addClientRectRight(e,-1*a.SliderLeftHandleIcon.artworkOffsetFromRightSide):this.props.icon===t.RIGHT_HANDLE_ICON?d.addClientRectLeft(e,a.SliderRightHandleIcon.artworkOffsetFromLeftSide):e}},o.prototype.getBoundingClientRectForInteractiveArea=function(){if(this.interactiveAreaRef)return this.interactiveAreaRef.getBoundingClientRect()},o.prototype.render=function(){var e=l.testId(this.props.testId,"SliderHandle"),t=100*this.props.position,o=this.chooseIconAndStylesForRender(),n=o.positioningContainerStyle,a=o.pressIndicationBarStyle,d=o.interactiveAreaStyle,c=o.imgStyle,u=o.iconImageDataUrl;return r.createElement(s.InteractiveDomWrapper,{handleHover:this.onHover,handleFocus:this.onFocus},r.createElement("span",{style:i({},n,{left:t+"%"}),"data-tb-test-id":e},this.props.isBeingDragged&&r.createElement("span",{style:a}),r.createElement("span",{style:d,ref:this.setInteractiveAreaRef}),r.createElement("img",{style:c,src:u,tabIndex:this.props.disabled?void 0:0,onKeyDown:this.props.onKeyDown,ref:this.setImgRef,"data-tb-test-id":l.testId(this.props.testId,"SliderHandleIconArea")})))},o}(r.Component);t.SliderHandleWidget=u},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(101),i=function(){function e(e,t,o){this.min=o?Math.ceil(e):e,this.max=o?Math.floor(t):t,this.roundToIntegers=o}return e.prototype.calculateSliderPositionAsProportion=function(e){if(this.min>this.max)return NaN;var t=this.roundToIntegers?Math.round(e):e,o=(t-this.min)/(this.max-this.min);return n.clamp(o,0,1)},e.prototype.calculateNewSliderValueFromProportion=function(e){if(this.min>this.max)return NaN;if(e<0)return this.min;if(e>1)return this.max;var t=this.roundToIntegers?Math.round(e*(this.max-this.min))+this.min:e*(this.max-this.min)+this.min;return n.clamp(t,this.min,this.max)},e.prototype.calculateNewSliderValueForKey=function(e,t){var o=this.roundToIntegers?Math.round(t):t,i=(this.max-this.min)/100,r=(this.max-this.min)/10,s=this.roundToIntegers?1:i,a=this.roundToIntegers?Math.max(Math.round(r),1):r,l=o;switch(e){case"ArrowLeft":case"ArrowDown":l=o-s;break;case"ArrowUp":case"ArrowRight":l=o+s;break;case"PageDown":l=o-a;break;case"PageUp":l=o+a;break;case"Home":l=this.min;break;case"End":l=this.max;break;default:return}return n.clamp(l,this.min,this.max)},e}();i.KeysRelevantForManipulatingSlider={ArrowLeft:!0,ArrowRight:!0,ArrowUp:!0,ArrowDown:!0,PageUp:!0,PageDown:!0,Home:!0,End:!0},t.SliderValueLogic=i},function(e,t){"use strict";function o(e,t,o){return o<t?NaN:Math.min(Math.max(e,t),o)}Object.defineProperty(t,"__esModule",{value:!0}),t.clamp=o},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(57);t.FIRST_HANDLE="FIRST_HANDLE",t.SECOND_HANDLE="SECOND_HANDLE",t.BOTH_HANDLES="BOTH_HANDLES";var i;!function(e){function o(e,o){var i={left:e.x,top:e.y},r=n.doesRectangleContainPoint(o,i);return{handle:t.FIRST_HANDLE,directlyOnIcon:r}}function i(e,o,i){var r={left:e.x,top:e.y};return n.doesRectangleContainPoint(o,r)?{handle:t.FIRST_HANDLE,directlyOnIcon:!0}:n.doesRectangleContainPoint(i,r)?{handle:t.SECOND_HANDLE,directlyOnIcon:!0}:e.x>=o.right&&e.x<=i.left?{handle:t.BOTH_HANDLES,directlyOnIcon:!1}:e.x<=o.right?{handle:t.FIRST_HANDLE,directlyOnIcon:!1}:{handle:t.SECOND_HANDLE,directlyOnIcon:!1}}function r(e,o){var i={left:e.x,top:e.y},r=n.doesRectangleContainPoint(o,i);if(r)return{handle:t.FIRST_HANDLE,directlyOnIcon:!0}}function s(e,o,i){var r={left:e.x,top:e.y},s=n.doesRectangleContainPoint(o,r),a=n.doesRectangleContainPoint(i,r);if(s&&a){var l=Math.abs(r.left-o.left),d=Math.abs(r.left-i.right),c=l<d;return{handle:c?t.FIRST_HANDLE:t.SECOND_HANDLE,directlyOnIcon:!0}}return s?{handle:t.FIRST_HANDLE,directlyOnIcon:!0}:a?{handle:t.SECOND_HANDLE,directlyOnIcon:!0}:void 0}e.determineWhichHandleShouldBeDraggedForMouseAndOneHandle=o,e.determineWhichHandleShouldBeDraggedForMouseAndTwoHandles=i,e.determineWhichHandleShouldBeDraggedForTouchAndOneHandle=r,e.determineWhichHandleShouldBeDraggedForTouchAndTwoHandles=s}(i=t.SliderHandleContainerDragHandleLogic||(t.SliderHandleContainerDragHandleLogic={}))},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=o(101);!function(e){function t(e,t){var o=e-t.left,n=o/Math.max(1,t.width);return i.clamp(n,0,1)}function o(e,t,o,n,i){var r=n-e,s=r/i.width,a=t+s,l=o+s,d=o-t;return a<0?{firstHandlePosition:0,secondHandlePosition:d}:l>1?{firstHandlePosition:1-d,secondHandlePosition:1}:{firstHandlePosition:a,secondHandlePosition:l}}e.convertClientCoordinateIntoProportionOfContainer=t,e.calculateProportionalPositionsWhenDraggingBothHandles=o}(n=t.SliderHandleContainerCoordinateLogic||(t.SliderHandleContainerCoordinateLogic={}))},function(e,t,o){"use strict";function n(e){var t=[];if(1===e)t.push(.5);else if(e>1)for(var o=e-1,n=0;n<e;n++)t.push(n/o);return t}function i(e){var t=n(e.tickCount),o=t.map(function(e){return 100*e}),i=l.getSliderTickBarStyles();return s.createElement("div",{style:i.Bar,"data-tb-test-id":a.testId(e.testId,"SliderTickBar")},o.map(function(e,t){return s.createElement("span",{key:t,style:r({},i.Tick,{left:e+"%"})})}))}var r=this&&this.__assign||Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++){t=arguments[o];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var s=o(11),a=o(9),l=o(98);t.calculateTickProportionalPositions=n,t.SliderTickBarWidget=i},function(e,t,o){"use strict";function n(e){var t,o=a.getSliderTrackStyles();if(e.rangeIndicatorBarPosition){var n=100*e.rangeIndicatorBarPosition.start,l=100*(1-e.rangeIndicatorBarPosition.end),d=e.handleIsBeingDragged?o.RangeIndicatorBarDarkened:o.RangeIndicatorBar;t=r.createElement("div",{style:i({},d,{left:n+"%",right:l+"%"})})}var c;if(e.dataBarPosition){var n=100*e.dataBarPosition.start,l=100*(1-e.dataBarPosition.end),d=e.handleIsBeingDragged?o.DataBarDarkened:o.DataBar;c=r.createElement("div",{style:i({},d,{left:n+"%",right:l+"%"})})}return r.createElement("div",{style:o.Track,"data-tb-test-id":s.testId(e.testId,"SliderTrack")},t,c)}var i=this&&this.__assign||Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++){t=arguments[o];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var r=o(11),s=o(9),a=o(98);t.SliderTrackWidget=n},function(e,t,o){"use strict";function n(e){return r.createElement(s.SliderWidget,i({},e,{handleCountAndRangeType:s.SINGLE_HANDLE_SINGLE_VALUE,continuous:!1}))}var i=this&&this.__assign||Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++){t=arguments[o];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var r=o(11),s=o(95);t.DiscreteSliderWidget=n},function(e,t,o){"use strict";function n(e){var t=e.value,o=e.max,n=e.min,s=e.testId,a=e.onChange,l=e.disabled,d=e.style;return i.createElement(r.SliderWidget,{value:t,max:o,min:n,testId:s,onChange:a,disabled:l,style:d,continuous:!0,handleCountAndRangeType:"MIN"===e.openTo?r.SINGLE_HANDLE_RANGE_TO_MIN:r.SINGLE_HANDLE_RANGE_TO_MAX})}Object.defineProperty(t,"__esModule",{value:!0});var i=o(11),r=o(95);t.OpenEndedRangeSliderWidget=n},function(e,t,o){"use strict";function n(e){var t=e.value,o=e.max,n=e.min,s=e.testId,a=e.onChange,l=e.disabled,d=e.style,c=e.trackDataBarRange;return i.createElement(r.SliderWidget,{value:t,max:o,min:n,testId:s,onChange:a,disabled:l,style:d,trackDataBarRange:c,continuous:!0,handleCountAndRangeType:r.TWO_HANDLES_RANGE_BETWEEN})}Object.defineProperty(t,"__esModule",{value:!0});var i=o(11),r=o(95);t.RangeSliderWidget=n}])});;(function(){'dont use strict';var a={};global.spiff=global.spiff||{};ss.initAssembly(a,'spiffui');var b=function(es,et){dz.call(this,es,et)};b.__typeName='spiff.$0';b.$1=function(){var es=new cr;es.iScrollOptions={preventDefaultException:ss.mkdict(['tagName',new RegExp('^(INPUT|TEXTAREA|BUTTON|SELECT|A)$')]),disableMouse:true,interactiveScrollbars:true,mouseWheel:true};es.ref='iscroll-component';return es};b.$0=function(es){var et=b.$1();et.augmentedScrollX=es.augmentedScrollX;et.augmentedScrollY=es.augmentedScrollY;et.extraCssClass=es.extraCssClass;et.iScrollOptions.scrollX=es.scrollX;et.iScrollOptions.scrollY=es.scrollY;et.scrollStopCallback=es.onScrollStop;et.scrollCallback=es.onScroll;et.alwaysShowScrollbarsIfScrollable=es.alwaysShowScrollbarsIfScrollable;et.startingY=ss.Nullable$1.neg(es.startingY);et.customStyle=es.customStyle;if(es.scrollbars){et.iScrollOptions.scrollbars='custom'}return et};var c=function(es){this.$1=null;this.$1=es};c.__typeName='spiff.$1';var d=function(){dZ.call(this,$("<span class='tabTabLabel' />"))};d.__typeName='spiff.$10';var e=function(es){this.$0=null;this.$0=es};e.__typeName='spiff.$11';var f=function(es){this.$0=null;this.$0=es};f.__typeName='spiff.$12';var g=function(es,et){this.$2=null;this.$0=true;this.$1=true;IScroll.call(this,es,et.iScrollOptions);this.$2=es;this.$0=et.augmentedScrollX;this.$1=et.augmentedScrollY};g.__typeName='spiff.$2';var h=function(){};h.__typeName='spiff.$3';h.$0=function(es,et,eu){var ev=new dc(es,et,eu);ev.source=h.$3[ev.type];ev.inputType=h.$1(ev.type);return ev};h.$1=function(es){var et=6;if(ss.keyExists(h.$9,es)){et=0}else if(ss.keyExists(h.$6,es)){et=1}else if(ss.keyExists(h.$5,es)){et=2}else if(ss.keyExists(h.$7,es)){et=3}else if(ss.keyExists(h.$4,es)){et=5}else if(ss.keyExists(h.$8,es)){et=4}return et};h.$2=function(){h.$9['touchstart']=2;h.$6['touchmove']=2;h.$5['touchend']=2;h.$4['touchcancel']=2;if(tsConfig.is_mobile){if(!tab.BrowserSupport.isTouch){h.$9['mousedown']=1;h.$6['mousemove']=1;h.$5['mouseup']=1;h.$7['mouseout']=1}}else{h.$9['mousedown']=1;h.$6['mousemove']=1;h.$5['mouseup']=1;h.$7['mouseout']=1;h.$8['scroll']=1;h.$5['contextmenu']=1}$.extend(h.$3,h.$9,h.$6,h.$5,h.$7,h.$8,h.$4)};var i=function(){};i.__typeName='spiff.$4';i.$2=function(es,et){if(es===9){i.$3[0]=et}else if(es===27){i.$3[1]=et}else if(es>=33&&es<=40){i.$3[es-31]=et}};i.$0=function(){i.$3=new Array(10)};i.$1=function(){for(var es=0;es<i.$3.length;es++){if(i.$3[es]){return true}}return false};var j=function(){this.$9=null;this.$6=null;this.$4=null;this.$5=null;this.$0=null;this.$8=null;this.$1=false;this.$2=false;this.$3=false;dZ.call(this,$("\n<div class='tabMenuItem' role='menuitem'>\n  <div class='tabMenuItemNameArea'>\n    <span class='tabMenuItemName'/>\n  </div>\n</div>"))};j.__typeName='spiff.$5';var k=function(es,et){this.$6=new j;this.$6.$6=this.$6.getElementBySelector('.tabMenuItemName');this.$6.$6.text(es);if(!et){this.$6.domRoot.addClass('tabDisabled').attr('aria-disabled','true')}};k.__typeName='spiff.$6';var l=function(){this.$3=null;this.$2=null;this.$4=null;dZ.call(this,$("<div class='tab-editable-text-view'><div><div class='view-mode'><span class = 'text-span'/></div><input class='edit-mode' type='text'/></div></div>"));this.$3=this.getElementBySelector('.view-mode');this.$2=this.getElementBySelector('.edit-mode');this.$4=this.$3.find('.text-span')};l.__typeName='spiff.$7';var m=function(){this.$0=null;dZ.call(this,$("<div class='tabTextInputView'><input class='tabTextInputViewInputElement' type='text'/></div>"));this.$0=this.getElementBySelector('.tabTextInputViewInputElement')};m.__typeName='spiff.$8';var n=function(){this.$1=null;this.$0=null;dZ.call(this,$("<div><div class='tabTabLabels'/><div class='tabTabContentArea'/></div>"));this.$1=this.getElementBySelector('.tabTabLabels');this.$0=this.getElementBySelector('.tabTabContentArea')};n.__typeName='spiff.$9';var o=function(){};o.__typeName='spiff.AnchorTarget';global.spiff.AnchorTarget=o;var p=function(){};p.__typeName='spiff.AriaAttrName';global.spiff.AriaAttrName=p;var q=function(){};q.__typeName='spiff.AriaRole';global.spiff.AriaRole=q;var r=function(es){dn.call(this,es)};r.__typeName='spiff.ArrowDropdownButtonComponent';global.spiff.ArrowDropdownButtonComponent=r;var s=function(es){var et=function(){this.$2$1=null;this.$2$2=ss.getDefaultValue(es);w.call(this)};ss.registerGenericClassInstance(et,s,[es],{add_propsUpdated:function(eu){this.$2$1=ss.delegateCombine(this.$2$1,eu)},remove_propsUpdated:function(eu){this.$2$1=ss.delegateRemove(this.$2$1,eu)},get_props:function(){return this.$2$2},set_props:function(eu){this.$2$2=eu},updateProps$1:function(eu){this.set_props(eu);this.raiseActionEvent(this.$2$1)},updateProps:function(){this.raiseActionEvent(this.$2$1)}},function(){return w},function(){return[ss.IDisposable,tab.IViewModel,ss.makeGenericType(cm,[es])]});return et};s.__typeName='spiff.BaseComponentViewModel$1';ss.initGenericClass(s,a,1);global.spiff.BaseComponentViewModel$1=s;var t=function(es){var et=function(eu,ev){ss.makeGenericType(v,[es]).call(this,eu,ev)};ss.registerGenericClassInstance(et,t,[es],{positionMenu:function(eu,ev,ew){var ex=Math.min(document.documentElement.clientWidth,tab.WindowHelper.get_windowSelf().innerWidth)-12;ew.domRoot.css('max-width',ex+'px');var ey=(tsConfig.is_mobile?tab.WindowHelper.get_windowSelf().innerWidth:document.documentElement.clientWidth);var ez=$(window).scrollLeft()+6;var eA=ez+ey-12;var eB=ew.domRoot.outerHeight(false);var eC=Math.min(ew.domRoot.outerWidth(false),ex);var eD=eB-ew.domRoot.height();var eE=tab.PointUtil.fromPosition(tab.DomUtil.getPageOffset(ev.relativeDom));var eF=ev.relativeDom.outerWidth(false);var eG=ev.relativeDom.outerHeight(false);if(ss.isValue(ev.cursorPosition)){eE=tab.PointUtil.fromPosition(ev.cursorPosition);eF=0;eG=0}var eH,eI;var eJ=eu.getVisibleRoom(eE);var eK=null;if(!ev.preferUp&&eJ.roomBelow>=eB+eG){eI=eE.y+eG}else if(eJ.roomAbove>eB){eI=eE.y-eB}else if(eJ.roomBelow-eG>=eJ.roomAbove){eI=eE.y+eG;eK=eJ.roomBelow-eG-eD-6}else{eI=eE.y-eJ.roomAbove+6;eK=eJ.roomAbove-eD-6}if(ev.preferLeft){eH=eE.x+eF-eC}else{eH=eE.x}eH=Math.max(eH,ez);if(eH+eC>eA){eH=eA-eC}eH=Math.max(6,eH);eI-=tab.FullscreenUtil.centeringContainerOffset();var eL={};eL['top']=eI+'px';eL['left']=eH+'px';eL['max-height']=(ss.isValue(eK)?(eK+'px'):'');ew.domRoot.css(eL)}},function(){return ss.makeGenericType(v,[es])},function(){return[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[es])]});et.$0=6;return et};t.__typeName='spiff.BaseMenuView$1';ss.initGenericClass(t,a,1);global.spiff.BaseMenuView$1=t;var u=function(es){var et=function(){this.$1=null;this.$2$1=null;w.call(this)};ss.registerGenericClassInstance(et,u,[es],{add_propsUpdated:function(eu){this.$2$1=ss.delegateCombine(this.$2$1,eu)},remove_propsUpdated:function(eu){this.$2$1=ss.delegateRemove(this.$2$1,eu)},get_props:function(){if(ss.isNullOrUndefined(this.$1)){this.$0()}return this.$1},set_props:function(eu){this.$1=eu},incrementProps:function(){var eu=this.createUpdatedProps();var ev=$.extend(false,new Object,this.get_props(),eu);this.set_props(ev);if(ss.isNullOrUndefined(eu)){}else{this.raiseActionEvent(this.$2$1)}},addChildViewModel:function(eu){var ev=ss.mkdel(this,this.incrementProps);eu.add_propsUpdated(ev);return new tab.CallOnDispose(function(){eu.remove_propsUpdated(ev)})},$0:function(){this.set_props(this.createInitialProps());this.incrementProps()},createInitialProps:function(){return new Object},createUpdatedProps:function(){return null}},function(){return w},function(){return[ss.IDisposable,tab.IViewModel,ss.makeGenericType(cm,[es])]});return et};u.__typeName='spiff.BaseReactViewModel$1';ss.initGenericClass(u,a,1);global.spiff.BaseReactViewModel$1=u;var v=function(es){var et=function(eu,ev){this.$3=null;this.$4=ss.getDefaultValue(es);er.call(this,ev.domRoot);tab.Param.verifyValue(eu,'viewModel');tab.Param.verifyValue(ev,'t');this.$3=ev;this.$4=eu;this.$4.add_disposed(ss.mkdel(this,this.$2));this.$4.add_propertyChanged(ss.mkdel(this,this.onViewModelPropertyChanged))};ss.registerGenericClassInstance(et,v,[es],{get_template:function(){return this.$3},get_rootElement:function(){return this.element},get_viewModel:function(){return this.$4},dispose:function(){this.$4.remove_propertyChanged(ss.mkdel(this,this.onViewModelPropertyChanged));this.$4.remove_disposed(ss.mkdel(this,this.$2));this.$3.dispose();er.prototype.dispose.call(this)},onViewModelPropertyChanged:function(eu,ev){},$2:function(eu){this.dispose()}},function(){return er},function(){return[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[es])]});return et};v.__typeName='spiff.BaseView$1';ss.initGenericClass(v,a,1);global.spiff.BaseView$1=v;var w=function(){this.disposables=new tab.DisposableHolder;this.$1$1=null;this.$1$2=null};w.__typeName='spiff.BaseViewModel';global.spiff.BaseViewModel=w;var x=function(es){var et=function(){React.Component.call(this)};ss.registerGenericClassInstance(et,x,[es],{componentDidMount:function(){if(ss.staticEquals(this.props.reportWidth,null)){return}var eu=this.$0();this.props.reportWidth(this.props.col.name,eu)},shouldComponentUpdate:function(eu,ev){return!ss.staticEquals(this.props,eu)||!ss.staticEquals(this.state,ev)},render:null,$0:function(){var eu=ReactDOM.findDOMNode(this);var ev=eu.getBoundingClientRect();return Math.ceil(ev.right-ev.left)},handleCellClick:function(eu){if(!ss.staticEquals(this.props.onClick,null)){this.props.onClick(this.props.row,this.props.col)}},handleCellRightClick:function(eu){if(!ss.staticEquals(this.props.onRightClick,null)){this.props.onRightClick(eu.target,this.props.row,this.props.col)}}},function(){return React.Component},function(){return[]});return et};x.__typeName='spiff.BodyCell$1';ss.initGenericClass(x,a,1);global.spiff.BodyCell$1=x;var y=function(){React.Component.call(this)};y.__typeName='spiff.BodyRow';y.createBodyRow=function(es){return React.createElement(y,es)};global.spiff.BodyRow=y;var z=function(es){this.$7='hover';this.$6='focus';this.$5='disabled';this.$4=null;this.$8=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.$2$7=null;this.$2$8=null;er.call(this,es);this.$2()};z.__typeName='spiff.Button';global.spiff.Button=z;var A=function(es){var et=function(eu){React.Component.call(this,eu)};ss.registerGenericClassInstance(et,A,[es],{get_className:function(){var eu=['tab-UnifiedButton'];if(ss.isValue(this.props.customClassName)){eu.push(this.props.customClassName)}if(this.props.border){eu.push('bordered')}if(this.props.disabled){eu.push('disabled')}return eu.join(' ')},customContentBefore:function(){return(!ss.staticEquals(this.props.getCustomContentBefore,null)?this.props.getCustomContentBefore():null)},customContentAfter:function(){return(!ss.staticEquals(this.props.getCustomContentAfter,null)?this.props.getCustomContentAfter():null)},render:function(){var eu={className:this.get_className(),style:this.props.buttonStyle,title:(ss.isNullOrUndefined(this.props.tooltip)?this.props.label:this.props.tooltip),onKeyDown:ss.mkdel(this,function(ev){var ew=ev.keyCode;if(ew===32||ew===13){this.$0(dc.create(ev,ReactDOM.findDOMNode(this),null));ev.preventDefault();ev.stopPropagation()}}),'data-test-id':this.props.testId,role:'button'};if(ss.isValue(this.props.tabIndex)){eu.tabIndex=ss.unbox(this.props.tabIndex)}if(ss.isValue(this.props.additionalRoles)&&this.props.additionalRoles.length>0){eu.role+=' '+this.props.additionalRoles.join(' ')}return bw.div({tap:ss.mkdel(this,this.$0)},eu,[this.customContentBefore(),React.DOM.span({className:'tab-Text',style:this.props.labelStyle,key:'textContent'},this.props.label),this.customContentAfter()])},$0:function(eu){if(!this.props.disabled&&!ss.staticEquals(this.props.onTap,null)){this.props.onTap(eu)}}},function(){return React.Component},function(){return[]});return et};A.__typeName='spiff.ButtonBaseComponent$1';ss.initGenericClass(A,a,1);global.spiff.ButtonBaseComponent$1=A;var B=function(es){ss.makeGenericType(A,[Object]).call(this,es)};B.__typeName='spiff.ButtonComponent';B.create=function(es,et,eu){return React.createElement(B,{customClassName:'tabStyledTextButton tabMediumStyledTextButton '+es,label:et,onTap:eu})};global.spiff.ButtonComponent=B;var C=function(){};C.__typeName='spiff.ButtonSize';global.spiff.ButtonSize=C;var D=function(){};D.__typeName='spiff.CellType';global.spiff.CellType=D;var E=function(){ss.makeGenericType(x,[Object]).call(this)};E.__typeName='spiff.CheckboxCell';E.createCheckboxCell=function(es){return React.createElement(E,es)};global.spiff.CheckboxCell=E;var F=function(es,et){ss.makeGenericType(dt,[cA,Object,Object]).call(this,cA.newCheckbox(es.label,es.isSelected),es,et);this.get_widget().set_disabled(es.disabled)};F.__typeName='spiff.CheckboxComponent';global.spiff.CheckboxComponent=F;var G=function(es,et,eu,ev){this.$a=null;this.$b=null;this.$3$1=null;eb.call(this,es,et,eu,null,false);this.$a=es;this.add_propertyChanged(ss.mkdel(this,this.$9));this.$b=new z(this.$a.get_searchBoxClear());this.$b.onClick(ss.mkdel(this,this.$8));this.$b.set_hoverTooltipText(ev);this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_propertyChanged(ss.mkdel(this,this.$9));this.$b.dispose()})));this.$7()};G.__typeName='spiff.ClearableTextInputView';G.newClearableTextInputView=function(es,et,eu){var ev=new H;return new G(ev,es,et,eu)};global.spiff.ClearableTextInputView=G;var H=function(){this.$0=null;this.$1=null;this.$2=null;dZ.call(this,$("<div class='tabTextInputView'><span class='tabClearableTextBoxClearButton'/><div class='tabTextInputViewInputElementContainer'><input class='tabTextInputViewInputElement' type='text'/></div></div>"));this.$0=this.getElementBySelector('.tabTextInputViewInputElement');this.$1=this.getElementBySelector('.tabTextInputViewInputElementContainer');this.$2=this.getElementBySelector('.tabClearableTextBoxClearButton')};H.__typeName='spiff.ClearableTextInputViewTemplate';global.spiff.ClearableTextInputViewTemplate=H;var I=function(){};I.__typeName='spiff.ClickBuster';I.add_clickBustDetected=function(es){I.$1$1=ss.delegateCombine(I.$1$1,es)};I.remove_clickBustDetected=function(es){I.$1$1=ss.delegateRemove(I.$1$1,es)};I.preventGhostClick=function(es,et,eu){if(!tab.BrowserSupport.isTouch||!tab.BrowserSupport.get_addEventListener()){return}if(ss.isNullOrUndefined(I.$3)){I.$3=[];document.addEventListener('click',I.$0,true)}I.$3.push({item1:es,item2:et});window.setTimeout(I.$1,ss.coalesce(eu,600))};I.$1=function(){ss.removeAt(I.$3,0)};I.$0=function(es){var et=es;var eu=$(es.target).parents('.'+I.suppressClickBustingClass).length>0;if(eu){return}var ev=et.pageX;var ew=et.pageY;for(var ex=0;ex<I.$3.length;ex++){var ey=I.$3[ex];if(Math.abs(ey.item1-ev)<25&&Math.abs(ey.item2-ew)<25){es.stopPropagation();es.preventDefault();if(ss.isValue(I.$1$1)){I.$1$1(es)}}}};global.spiff.ClickBuster=I;var J=function(){this.$b=new tab.DisposableHolder;this.$e=0;this.$f=0;this.$g=null;this.$c='clickHandler'+J.$2++;this.$d=null;this.$a=null;this.$1$1=null;this.$1$2=null;this.$1$3=null};J.__typeName='spiff.ClickHandler';J.targetAndClick=function(es,et){return(new J).setTarget(es).onClick(et)};J.targetAndRightClick=function(es,et){return(new J).setTarget(es).onRightClick(et)};J.targetAndPress=function(es,et){return(new J).setTarget(es).onPress(et)};global.spiff.ClickHandler=J;var K=function(){React.Component.call(this);var es=new R;es.isSelecting=false;this.state=es};K.__typeName='spiff.ComboBoxComponent';K.createCustomIconElements=function(es){if(ss.isNullOrEmptyString(es)){return null}return[React.DOM.div({className:'tab-Icon '+es})]};global.spiff.ComboBoxComponent=K;var L=function(es){cU.call(this);this.itemClass='tabMenuItemComboDropdownTheme tab-ctrl-formatted-text';this.menuClass='tabMenuComboDropdownTheme tab-ctrl-formatted-widget '+es};L.__typeName='spiff.ComboBoxDropdownMenuTheme';global.spiff.ComboBoxDropdownMenuTheme=L;var M=function(es,et,eu,ev){this.$2=null;this.$3=null;this.$0=null;this.$1=null;this.$2=es;this.$3=et;this.$0=eu;this.$1=ev};M.__typeName='spiff.ComboBoxItem';global.spiff.ComboBoxItem=M;var N=function(){cU.call(this);this.itemClass='tabMenuItemComboTheme';this.menuClass='tabMenuComboTheme'};N.__typeName='spiff.ComboBoxMenuTheme';global.spiff.ComboBoxMenuTheme=N;var O=function(){};O.__typeName='spiff.ComboBoxMenuThemeChoice';global.spiff.ComboBoxMenuThemeChoice=O;var P=function(){this.styleClass=null;this.buttonStyleClass=null;this.selectedText=null;this.selectedIconClass=null;this.hasTooltip=false;this.enabled=false;Object.call(this)};P.__typeName='spiff.ComboBoxProps';global.spiff.ComboBoxProps=P;var Q=function(){};Q.__typeName='spiff.ComboBoxSizing';global.spiff.ComboBoxSizing=Q;var R=function(){this.isSelecting=false};R.__typeName='spiff.ComboBoxState';global.spiff.ComboBoxState=R;var S=function(){this.icon=null;this.name=null;this.button=null;dZ.call(this,$("<span class='tabComboBox tab-ctrl-formatted-widget tab-ctrl-formatted-darker-border-hover'>\n    <span class='tabComboBoxIcon'/>\n    <div class='tabComboBoxNameContainer tab-ctrl-formatted-fixedsize'><span class='tabComboBoxName'/></div>\n    <div class='tabComboBoxButtonHolder'><span class='tabComboBoxButton'/></div>\n</span>"));this.icon=this.getElementBySelector('.tabComboBoxIcon');this.name=this.getElementBySelector('.tabComboBoxName');this.button=this.getElementBySelector('.tabComboBoxButtonHolder')};S.__typeName='spiff.ComboBoxTemplate';global.spiff.ComboBoxTemplate=S;var T=function(){};T.__typeName='spiff.ComboBoxTheme';global.spiff.ComboBoxTheme=T;var U=function(es,et){this.clickHandler=null;this.$d=null;this.$c=null;ss.makeGenericType(v,[V]).call(this,es,et);this.$d=es;this.$c=et;this.$d.add_selectedItemChanged(ss.mkdel(this,this.$b));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$d.remove_selectedItemChanged(ss.mkdel(this,this.$b))})));this.$d.add_itemsChanged(ss.mkdel(this,this.$7));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$d.remove_itemsChanged(ss.mkdel(this,this.$7))})));this.$d.add_enabledChanged(ss.mkdel(this,this.$5));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$d.remove_enabledChanged(ss.mkdel(this,this.$5))})));this.$d.add_isSelectionInvalidChanged(ss.mkdel(this,this.$6));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$d.remove_isSelectionInvalidChanged(ss.mkdel(this,this.$6))})));this.clickHandler=dR.targetAndClick(this.$c.domRoot[0],ss.mkdel(this,this.$9));this.clickHandler.set_stopPropagationOnEvent(false);this.disposables.add$1(this.clickHandler);this.$c.domRoot.keydown(ss.mkdel(this,this.$a));this.$c.domRoot.addClass(U.classesForTheme[this.$d.get_theme()]);this.$d.add_menuHidden(ss.mkdel(this,this.$8));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$d.remove_menuHidden(ss.mkdel(this,this.$8))})));this.$b(this.$d.get_selectedItem());this.$5();this.$6()};U.__typeName='spiff.ComboBoxView';global.spiff.ComboBoxView=U;var V=function(){this.$j=[];this.$m=null;this.$f=null;this.$p=0;this.$l=0;this.$o=0;this.$n=true;this.$g=true;this.$i=false;this.$k='';this.$e=null;this.$h=true;this.$3$1=null;this.$3$2=null;this.$3$3=null;this.$3$4=null;this.$3$5=null;this.$3$6=null;this.$3$7=false;this.menuItems=null;this.selectedMenuItem=null;this.generateProps=false;this.$3$8=false;this.$3$9=null;ss.makeGenericType(u,[P]).call(this);this.set_showDropdownIcon(false);this.generateProps=false};V.__typeName='spiff.ComboBoxViewModel';V.newUnificationComboBoxViewModel=function(){var es=new V;es.set_theme(2);es.set_menuTheme(2);return es};V.newLineAndArrowComboBoxViewModel=function(){var es=new V;es.set_theme(3);es.set_menuTheme(2);return es};V.newReactLineAndArrowComboBoxViewModel=function(){var es=new V;es.set_theme(3);es.set_menuTheme(2);es.generateProps=true;return es};global.spiff.ComboBoxViewModel=V;var W=function(es){this.compositeSearchWidgetTemplate=null;this.$8=null;this.initialSearchTextInfo=null;this.$7=false;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.$2$7=null;this.$2$8=null;er.call(this,es.get_domRootElement());this.compositeSearchWidgetTemplate=es;this.compositeSearchWidgetTemplate.get_clearButton().add_click(ss.mkdel(this,this.$2));this.compositeSearchWidgetTemplate.get_searchButton().add_click(ss.mkdel(this,this.$6));this.compositeSearchWidgetTemplate.get_textInputView().add_propertyChanged(ss.mkdel(this,this.$3));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.compositeSearchWidgetTemplate.get_clearButton().remove_click(ss.mkdel(this,this.$2));this.compositeSearchWidgetTemplate.get_searchButton().remove_click(ss.mkdel(this,this.$6));this.compositeSearchWidgetTemplate.get_textInputView().remove_propertyChanged(ss.mkdel(this,this.$3));this.compositeSearchWidgetTemplate.disposeTemplate()})));this.disposables.add$1(bC.bindWithDispose(this.get_textInputView().get_inputElement(),'mousedown',ss.mkdel(this,this.$4)));this.disposables.add$1(bC.bindWithDispose(this.get_textInputView().get_inputElement(),'touchstart',ss.mkdel(this,this.$4)));this.get_textInputView().get_inputElement().attr('autocomplete','off');this.get_textInputView().get_inputElement().attr('autocorrect','off');this.get_textInputView().get_inputElement().attr('autocapitalize','off');this.get_textInputView().get_inputElement().attr('spellcheck','false')};W.__typeName='spiff.CompositeSearchWidget';global.spiff.CompositeSearchWidget=W;var X=function(){this.initialSearchText='';this.initialSearchTextDomClassName=''};X.__typeName='spiff.CompositeSearchWidgetInitialSearchTextInfo';global.spiff.CompositeSearchWidgetInitialSearchTextInfo=X;var Y=function(){this.searchTextInputView=null;this.$1=null;this.$0=null;dZ.call(this,$("<div class='tabCompositeSearchWidget'><div>"));this.searchTextInputView=eb.newTextInputView('','',null,false);this.get_textInputView().addToDom(this.domRoot);this.$1=cz.newNativeButton();this.$1.addClass('tabCompositeSearchWidget-SearchButton');this.get_searchButton().addToDom(this.domRoot);this.$0=cz.newNativeButton();this.$0.addClass('tabCompositeSearchWidget-ClearButton');this.get_clearButton().get_labelElement().css('display','none');this.$0.addToDom(this.domRoot)};Y.__typeName='spiff.CompositeSearchWidgetTemplate';global.spiff.CompositeSearchWidgetTemplate=Y;var Z=function(es,et){this.$2=null;dn.$ctor1.call(this,es,et);this.$2={tap:ss.mkdel(this,function(eu){this.$0()})}};Z.__typeName='spiff.CustomButtonComponent';Z.create=function(es){return React.createElement(Z,es)};global.spiff.CustomButtonComponent=Z;var ba=function(es,et,eu,ev,ew){this.$4=null;M.call(this,et,eu,ev,ew);this.$4=es};ba.__typeName='spiff.CustomComboBoxItem';global.spiff.CustomComboBoxItem=ba;var bb=function(es,et){this.$0=null;if(ss.isValue(es)){this.$0='url('+tableau.util.assetUrl(es,true)+'), '+et}else{this.$0=et}};bb.__typeName='spiff.CustomCursor';bb.copyFromElement=function(es){var et=(ss.isValue(es)?es.css('cursor'):'');return new bb(null,et)};global.spiff.CustomCursor=bb;var bc=function(){this.contentWindow=null;this.verticalScrollbar=null;this.verticalScrollbarIndicator=null;this.horizontalScrollbar=null;this.horizontalScrollbarIndicator=null;cs.call(this,"<div class='tabCustomScroller'>\n            <div class='tabScrollerContentWindow'><span class='tabScrollerContent'/></div>\n            <div class='tabVerticalScrollbar'><div class='tabScrollbarIndicator'/></div>\n            <div class='tabHorizontalScrollbar'><div class='tabScrollbarIndicator'/></div>\n        </div>");this.content=this.getElementBySelector('.tabScrollerContent');this.scroll=this.domRoot;this.contentWindow=this.getElementBySelector('.tabScrollerContentWindow');this.verticalScrollbar=this.getElementBySelector('.tabVerticalScrollbar');this.verticalScrollbarIndicator=this.getElementBySelector('.tabVerticalScrollbar .tabScrollbarIndicator');this.horizontalScrollbar=this.getElementBySelector('.tabHorizontalScrollbar');this.horizontalScrollbarIndicator=this.getElementBySelector('.tabHorizontalScrollbar .tabScrollbarIndicator')};bc.__typeName='spiff.CustomIScrollTemplate';global.spiff.CustomIScrollTemplate=bc;var bd=function(es){ct.call(this,es,new bc);this.$9();this.$a();if(es.get_hasScrollBars()){this.addScroller();this.setUpEvents();this.$b()}};bd.__typeName='spiff.CustomIScrollView';bd.$0=function(es,et,eu){return Math.max(ss.round(es*et/Math.max(eu,1)),8)};global.spiff.CustomIScrollView=bd;var be=function(){this.$0=null;cN.call(this)};be.__typeName='spiff.CustomMenuItem';be.newCustomMenuItem=function(es){var et=new be;et.set_domRoot(es);return et};global.spiff.CustomMenuItem=be;var bf=function(){cs.call(this,"<div class='tabScroller'><span class='tabScrollerContent'/></div>");this.content=this.getElementBySelector('.tabScrollerContent');this.scroll=this.domRoot};bf.__typeName='spiff.DefaultIScrollTemplate';global.spiff.DefaultIScrollTemplate=bf;var bg=function(es){this.$a=null;this.$9=null;ct.call(this,es,new bf);this.addScroller();this.setUpEvents()};bg.__typeName='spiff.DefaultIScrollView';global.spiff.DefaultIScrollView=bg;var bh=function(){this.canAccept=null;this.onFeedbackType=null;this.onDragOver=null;this.onDragExit=null;this.onAcceptDrop=null;this.onGetDropTarget=null;this.onGetDropCursor=null};bh.__typeName='spiff.DelegateDropTarget';global.spiff.DelegateDropTarget=bh;var bi=function(es,et){this.$g=null;this.$u=null;this.$p=null;this.$s=null;this.$e=null;this.$f=null;this.$i=false;this.$v=false;this.$r=true;this.$l=null;this.$o=null;this.$j=false;this.$t=false;this.$m=0;this.$n=0;this.$h=false;this.$k=false;this.$q=false;this.$d=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.showTitleTooltip=false;er.call(this,$("\n<div class='tab-dialog'>\n  <div class='tab-dialogTitleBar'>\n    <div class='tab-dialogTitle'></div>\n    <div class='tab-dialogCloseButton'></div>\n  </div>\n  <div class='tab-dialogBodyContainer'></div>\n  <div class='tab-dialogResizer tab-icon-resize-se'><div class='tab-dialogResizerHit'/></div>\n  <div class='tab-dialogSpinnerContainer'></div>\n</div>\n"));this.set_titleUnescaped(es);this.set_body(et);this.$f=cz.newNativeButton();this.$f.add_click(ss.mkdel(this,this.$7));this.element.find('.tab-dialogCloseButton').append(this.$f.element);this.$f.tabIndex(-2);this.$g=this.element;this.$u=this.element.find('.tab-dialogTitleBar');this.$p=this.element.find('.tab-dialogResizer');this.$s=this.element.find('.tab-dialogSpinnerContainer');this.$s.hide();var eu=$('#loadingSpinner');if(eu.length===1){this.$s.append(eu.html())}this.set_resizeable(false);this.$g.attr('tabindex','-1');bK.add_firstTouch(ss.mkdel(this,this.$4));bK.add_lastTouch(ss.mkdel(this,this.$5));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){bK.remove_firstTouch(ss.mkdel(this,this.$4))})));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){bK.remove_lastTouch(ss.mkdel(this,this.$5))})));bo.attachDropTarget(this.$g,bi.$3)};bi.__typeName='spiff.Dialog';global.spiff.Dialog=bi;var bj=function(es){this.$f=null;this.$i=0;this.$j=0;this.$g=false;this.$h=0;bI.call(this,es,'discrete',true)};bj.__typeName='spiff.Discrete';global.spiff.Discrete=bj;var bk=function(){M.call(this,null,null,null,null)};bk.__typeName='spiff.DividerComboBoxItem';global.spiff.DividerComboBoxItem=bk;var bl=function(es,et,eu,ev){this.$z=false;this.$A=0;this.$y=null;this.template=null;bi.call(this,es,et);this.template=new dZ(et);this.$z=eu;this.$A=ev;this.$w()};bl.__typeName='spiff.DockableSideDialog';global.spiff.DockableSideDialog=bl;var bm=function(){};bm.__typeName='spiff.DocumentBodySizeUsage';global.spiff.DocumentBodySizeUsage=bm;var bn=function(es){this.$9=false;this.$b=null;this.$a=null;this.$8=false;bI.call(this,es,'drag',true)};bn.__typeName='spiff.Drag';global.spiff.Drag=bn;var bo=function(){};bo.__typeName='spiff.DragDropManager';bo.add_dragStarted=function(es){bo.$1$1=ss.delegateCombine(bo.$1$1,es)};bo.remove_dragStarted=function(es){bo.$1$1=ss.delegateRemove(bo.$1$1,es)};bo.add_dragMoved=function(es){bo.$1$2=ss.delegateCombine(bo.$1$2,es)};bo.remove_dragMoved=function(es){bo.$1$2=ss.delegateRemove(bo.$1$2,es)};bo.add_dragEnded=function(es){bo.$1$3=ss.delegateCombine(bo.$1$3,es)};bo.remove_dragEnded=function(es){bo.$1$3=ss.delegateRemove(bo.$1$3,es)};bo.add_currentTargetChanged=function(es){bo.$1$4=ss.delegateCombine(bo.$1$4,es)};bo.remove_currentTargetChanged=function(es){bo.$1$4=ss.delegateRemove(bo.$1$4,es)};bo.get_isDragging=function(){return ss.isValue(bo.get_currentDrag())};bo.$f=function(){return tab.Logger.lazyGetLogger(bo)};bo.get_lastDragEvent=function(){return bo.$x};bo.get_currentTarget=function(){return bo.$n};bo.set_currentTarget=function(es){var et=!ss.referenceEquals(bo.$n,es);bo.$n=es;if(et&&!ss.staticEquals(bo.$1$4,null)){bo.$1$4(bo.$n)}};bo.get_currentDrag=function(){return bo.$1$5};bo.set_currentDrag=function(es){bo.$1$5=es};bo.init=function(){bo.$q=new dS.$ctor1(document.body,bo.$t)};bo.$0=function(es,et){var eu=es.get(0);var ev=eu.getAttribute('class');if(ss.isNullOrEmptyString(ev)){eu.setAttribute('class',et);return}var ew=ev.split(' ');if(ss.indexOf(ew,et)===-1){eu.setAttribute('class',ew.concat([et]).join(' '))}};bo.$b=function(es,et){var eu=es.get(0);var ev=eu.getAttribute('class');if(ss.isNullOrEmptyString(ev)){return}var ew=ev.split(' ');var ex=ss.indexOf(ew,et);if(ex>=0){ew.splice(ex,1);eu.setAttribute('class',ew.join(' '))}};bo.attachDropTarget=function(es,et){bo.$0(es,'tabDropTarget');es.data('tabDropTarget',et)};bo.detachDropTarget=function(es){es.removeData('tabDropTarget');bo.$b(es,'tabDropTarget')};bo.isDragTarget=function(es){return es.hasClass('tabDropTarget')};bo.attachDragSource=function(es,et){bo.$0(es,'tabDragSource');es.data('tabDragSource',et)};bo.removeDragSource=function(es){es.removeData('tabDragSource');bo.$b(es,'tabDragSource')};bo.isDragSource=function(es){return es.hasClass('tabDragSource')};bo.$2=function(){bo.$r=new bq;bo.$r.show();if(bo.get_currentDrag().get_hasPayload()&&bo.get_currentDrag().get_dragType()==='dragmove'){bo.setDragCursor(bb.copyFromElement(bo.$u))}bo.$s=new dS.$ctor1(bo.$r.element.get(0),bo.$t);bo.$p=new tab.DisposableHolder;bo.$p.add$1(bo.$r);bo.$p.add$1(bo.$s);bo.$p.add$1(bC.bindWithDispose($(document.body),'keydown',bo.$9));bo.$p.add$1(bC.bindWithDispose($(document.body),'keyup',bo.$a))};bo.$3=function(){bo.$p=tab.MiscUtil.dispose$1(bo.$p)};bo.startDrag=function(es,et){if(ss.isNullOrUndefined(es)||ss.isNullOrUndefined(et)||!es.get_hasPayload()){return}bo.$x=et;bo.cancelDrag(null);bo.set_currentDrag(es);bo.$c(bo.get_currentDrag().get_dragAvatar());bo.$e();bo.$m=tab.WindowHelper.requestAnimationFrame(bo.$e);bo.$2();bo.$d(et);if(ss.isValue(bo.$1$1)){bo.$1$1(bo.get_currentDrag())}};bo.cancelDrag=function(es){if(ss.isNullOrUndefined(bo.get_currentDrag())){return}if(ss.isNullOrUndefined(es)||ss.referenceEquals(es,bo.get_currentDrag())){bo.get_currentDrag().cancelDrag();bo.$6(null,true,false,function(){return $.Deferred().resolve(false).promise()})}};bo.drop=function(es,et,eu){bo.get_currentDrag().isCopyDrag=ss.isValue(et)&&et;bo.get_currentDrag().set_isShiftDrag(ss.isValue(eu)&&eu);bo.$6(es,false,bo.get_currentDrag().isCopyDrag,function(){if(ss.isValue(es)){return es.acceptDrop(bo.get_currentDrag()).always(function(ev){})}else{bo.get_currentDrag().dropToNowhereAction();return $.Deferred().resolve(true).promise()}})};bo.firstTouch=function(es){var et=$(es.target).closest('.tabDragSource');if(ss.isNullOrUndefined(et)||et.length===0){bo.$v=null;bo.$u=null;return}bo.$v=et.data('tabDragSource');bo.$u=et};bo.dragEnd=function(es){if(ss.isNullOrUndefined(bo.get_currentDrag())){return}switch(bo.get_currentDrag().get_dragType()){case'dragdrop':{bo.drop(bo.get_currentTarget(),es.get_isCtrlKey(),es.shiftKey);break}case'dragmove':{bo.$6(null,false,false,function(){bo.get_currentDrag().endDragAt(es);return $.Deferred().resolve(true).promise()});break}}};bo.dragMove=function(es){if(ss.isNullOrUndefined(bo.get_currentDrag())){return}bC.stopEvent(es);bo.$x=es;bo.get_currentDrag().isCopyDrag=es.get_isCtrlKey();bo.get_currentDrag().set_isShiftDrag(es.shiftKey);tab.WindowHelper.clearSelection();var et=tab.DateUtil.get_nowAsTime();if(et-bo.$w>75){if(ss.isValue(bo.$m)){tab.WindowHelper.cancelAnimationFrame(ss.unbox(bo.$m))}bo.$e()}bo.$d(es);if(ss.isValue(bo.$1$2)){bo.$1$2(bo.get_currentDrag())}};bo.$9=function(es){if(ss.isNullOrUndefined(bo.get_currentDrag())){return}bC.stopEvent(es);switch(es.which){case 16:{bo.get_lastDragEvent().shiftKey=true;bo.dragMove(bo.get_lastDragEvent());break}}};bo.$a=function(es){if(ss.isNullOrUndefined(bo.get_currentDrag())){return}bC.stopEvent(es);switch(es.which){case 16:{bo.get_lastDragEvent().shiftKey=false;bo.dragMove(bo.get_lastDragEvent());break}case 27:{bo.cancelDrag(bo.get_currentDrag());break}}};bo.$d=function(es){switch(bo.get_currentDrag().get_dragType()){case'dragdrop':{var et=bo.findDropTarget(es);if(ss.isValue(bo.get_currentTarget())){if(!ss.referenceEquals(bo.get_currentTarget(),et)){bo.get_currentTarget().dragExit(bo.get_currentDrag())}else if(bo.get_currentTarget().get_feedbackType()==='dropfeedbackuponentry'){return}}if(ss.isValue(et)){var eu=et.dragOver(bo.get_currentDrag());while(ss.isValue(eu)&&!ss.referenceEquals(eu,et)){et=eu;eu=et.dragOver(bo.get_currentDrag())}et=eu}if(ss.isValue(et)){bo.setDragCursor(et.getDropCursor(bo.get_currentDrag()))}else{bo.setDragCursor(bo.get_currentDrag().get_defaultDropCursor())}bo.set_currentTarget(et);break}case'dragmove':{bo.get_currentDrag().moveTo(es);break}default:{break}}};bo.setDragCursor=function(es){es.setCursor(bo.$r.element)};bo.dragStart=function(es){if(bo.get_isDragging()){return}var et=bo.$v;if(ss.isNullOrUndefined(et)){var eu=$(es.target).closest('.tabDragSource');et=eu.data('tabDragSource')}if(ss.isNullOrUndefined(et)){return}var ev=et.startDrag(es);if(ss.isNullOrUndefined(ev)){return}bo.startDrag(ev,es)};bo.$6=function(es,et,eu,ev){bo.$c(null);bo.$3();if(ss.isValue(bo.$m)){tab.WindowHelper.cancelAnimationFrame(ss.unbox(bo.$m));bo.$m=null}ev().always(function(ew){if(ss.isValue(bo.$1$3)){bo.$1$3({drag:bo.get_currentDrag(),target:es,dropAccepted:ew,canceled:et,isCopyDrop:eu})}bo.set_currentDrag(null);bo.set_currentTarget(null)})};bo.$c=function(es){if(ss.isValue(bo.$o)){bo.$o.get_rootElement().detach();var et=bo.$o;et.dispose();bo.$o=null}bo.$o=es;if(ss.isValue(bo.$o)){bo.$o.get_rootElement().addClass('dragAvatar').css('position','absolute').css('pointer-events','none');bo.$o.addToDom($('body'))}};bo.$e=function(){if(ss.isNullOrUndefined(bo.$o)){return}var es=function(eu,ev,ew){if(ev<ss.Int32.div(ew,2)){return 0}else if(ev>eu-ss.Int32.div(ew,2)){return eu-ew}else{return ev-ss.Int32.div(ew,2)}};var et=tab.DomUtil.get_documentBody();tab.DomUtil.setElementPosition(bo.$o.get_rootElement(),es(et.scrollWidth,bo.$x.pageX,tab.DoubleUtil.roundToInt(bo.$o.get_rootElement().outerWidth())),es(et.scrollHeight,bo.$x.pageY,tab.DoubleUtil.roundToInt(bo.$o.get_rootElement().outerHeight())));bo.$w=tab.DateUtil.get_nowAsTime();bo.$m=tab.WindowHelper.requestAnimationFrame(bo.$e)};bo.$7=function(es){bo.$4();var et=es.clientX;var eu=es.clientY;if(tab.BrowserSupport.get_useAlternateHitStrategy()){if(ss.isValue(es.touches)&&es.touches.length>0&&ss.isValue(es.touches[0].screenX)){et=es.touches[0].screenX;eu=es.touches[0].screenY}else{et=es.originalEvent['screenX'];eu=es.originalEvent['screenY']}}var ev=$(document.elementFromPoint(et,eu));bo.$5();return ev};bo.$4=function(){for(var es=0;es<bo.$y.length;es++){var et=bo.$y[es];et.disableHitTests()}};bo.$5=function(){for(var es=0;es<bo.$y.length;es++){var et=bo.$y[es];et.enableHitTests()}};bo.findDropTarget=function(es){if(!bo.get_isDragging()){return null}var et=bo.get_currentDrag();var eu=bo.$8(es);for(var ev=0;ev<eu.length;ev++){var ew=eu[ev];var ex=ew.data('tabDropTarget');if(bo.$1(ex,et)){return ex.getDropTarget(ew)}}return null};bo.$8=function(es){var et=[];var eu=bo.$7(es).closest('.tabDropTarget');if(eu.length>0){et.push(eu);eu.parents('.tabDropTarget').each(function(ev,ew){et.push($(ew))})}return et};bo.$1=function(es,et){return ss.isValue(es)&&ss.isValue(et)&&ss.isValue(es.dragOver(et))};bo.registerDragGlass=function(es){bo.$y.push(es)};bo.unregisterDragGlass=function(es){ss.remove(bo.$y,es)};global.spiff.DragDropManager=bo;var bp=function(es,et){this.isCopyDrag=false;this.draggedObject=null;this.$0=null;this.$1=false;this.$1$1=null;this.draggedObject=es;this.$0=et;this.isCopyDrag=false;this.$1=false};bp.__typeName='spiff.DragInstance';global.spiff.DragInstance=bp;var bq=function(es){bJ.call(this,es,false);bo.registerDragGlass(this)};bq.__typeName='spiff.DragSafeGlass';global.spiff.DragSafeGlass=bq;var br=function(es){this.$0=null;this.$0=es.element.clone(false).addClass('dragAvatar')};br.__typeName='spiff.DragSortListItemDragAvatar';global.spiff.DragSortListItemDragAvatar=br;var bs=function(){React.Component.call(this);this.state={isSelecting:false}};bs.__typeName='spiff.DropdownComponent';global.spiff.DropdownComponent=bs;var bt=function(es,et){ss.makeGenericType(dt,[bu,Object,Object]).call(this,bt.$0(es),es,et)};bt.__typeName='spiff.EditableTextLabelComponent';bt.$0=function(es){var et=bu.newEditableTextView(es.initialContent,es.placeHolderText,es.editOnDoubleClick);if(!tab.MiscUtil.isNullOrEmpty$1(es.tooltip)){et.get_inputElement().attr('title',es.tooltip);et.get_textElement().find('.text-span').get(0).title=es.tooltip}et.showHover=ss.isNullOrUndefined(es.showHover)||es.showHover;et.showTooltip=es.showTooltip;et.add_committed(function(){es.onCommit(et.get_text())});if(!ss.isNullOrEmptyString(es.styleOverrideClass)){tab.StyleUtil.appendCSSRuleToStyleSheet$1(es.styleOverrideClass+'-override-style','.'+es.styleOverrideClass+' .tab-editable-text-view > div',es.styleOverride)}return et};global.spiff.EditableTextLabelComponent=bt;var bu=function(es,et,eu,ev){this.$9=null;this.$3$1=null;this.$3$2=null;this.$3$3=null;this.$3$4=false;this.showHover=false;this.showTooltip=false;eb.call(this,es,et,eu,null,false);this.$9=es;this.updateTextElement(et);var ew=new z(this.get_textElement());if(ev){this.disposables.add$1(dR.targetAndDoubleClick(ew.element.get(0),ss.mkdel(this,function(ey){this.edit()})))}else{ew.add_click(ss.mkdel(this,this.edit));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){ew.remove_click(ss.mkdel(this,this.edit));ew.dispose()})))}this.get_textElement().show();this.get_inputElement().hide();this.get_inputElement().blur(ss.mkdel(this,function(ey){this.commit()}));this.add_enterKeyPressed(ss.mkdel(this,function(){this.commit()}));this.add_propertyChanged(ss.mkdel(this,function(){this.updateTextElement(this.get_text())}));if(!tsConfig.is_mobile){var ex=new bV(this,null,ss.mkdel(this,function(ey){if(this.showHover){this.element.addClass('hover');this.$8(true)}}),ss.mkdel(this,function(ey){if(this.showHover){this.element.removeClass('hover');this.$8(false)}}));this.disposables.add$1(ex)}this.set_isEditing(false);this.showHover=true};bu.__typeName='spiff.EditableTextView';bu.newEditableTextView=function(es,et,eu){var ev=new l;return new bu(ev,es,et,eu)};global.spiff.EditableTextView=bu;var bv=function(){React.Component.call(this)};bv.__typeName='spiff.EmptyBody';bv.createEmptyBody=function(es){return React.createElement(bv,es)};global.spiff.EmptyBody=bv;var bw=function(es){this.$2=null;this.$1=null;this.$3=null;React.Component.call(this,es,null);this.$2=dT.createEmpty()};bw.__typeName='spiff.EventForwarder';bw.$0=function(es,et,eu,ev){var ew=new bx;ew.tagName=es;ew.htmlAttributes=eu;ew.spec=et;ew.key=eu.key;var ex=ew;if(ss.isValue(eu.ref)){ex.ref=eu.ref;delete eu['ref']}if(ss.isValue(ev)&&ev.length===1){return React.createElement(bw,ex,ev[0])}return React.createElement(bw,ex,ev)};bw.div=function(es,et,eu){return bw.$0('div',es,et,eu)};bw.span=function(es,et,eu){return bw.$0('span',es,et,eu)};bw.$1=function(es,et){return!_.every(Object.keys(et),function(eu){return ss.contains(Object.keys(es),eu)})};global.spiff.EventForwarder=bw;var bx=function(){this.tagName=null;this.htmlAttributes=null;this.spec=null};bx.__typeName='spiff.EventForwarderProps';global.spiff.EventForwarderProps=bx;var by=function(){};by.__typeName='spiff.EventHandleSpecExtensions';by.isHandling=function(es,et){var eu=es;return ss.isValue(eu[et])};by.isUsingHover=function(es){return by.isHandling(es,'hover')||by.isHandling(es,'moving')};by.setHandler=function(es,et,eu){es[et]=eu};by.removeHandler=function(es,et){es[et]=null};by.usingPressDrag=function(es){return by.isHandling(es,'pressDragStart')||by.isHandling(es,'pressDragMove')||by.isHandling(es,'pressDragEnd')||by.isHandling(es,'doublePressDragStart')||by.isHandling(es,'doublePressDragMove')||by.isHandling(es,'doublePressDragEnd')};global.spiff.EventHandleSpecExtensions=by;var bz=function(){};bz.__typeName='spiff.EventInputType';global.spiff.EventInputType=bz;var bA=function(es){this.$1=null;this.$0=null;this.$6=null;this.$3=null;this.$5=false;this.$4=null;this.$2=false;this.$1=new bn(es);this.$0=new bj(es);this.$6=new di(es);if(by.isUsingHover(es)){this.$3=new bT(es)}};bA.__typeName='spiff.EventRecognizer';bA.$0=function(){return bA.$2};bA.$1=function(es){if(bA.$2!==es){bA.$2=es}};global.spiff.EventRecognizer=bA;var bB=function(){};bB.__typeName='spiff.EventSource';global.spiff.EventSource=bB;var bC=function(){};bC.__typeName='spiff.EventUtil';bC.bindWithDispose=function(es,et,eu){var ev=ss.formatString('{0}.{1}',et,++bC.$0);es.on(ev,eu);return new tab.CallOnDispose(function(){es.off(ev)})};bC.addEventListenerWithDispose=function(es,et,eu,ev){es.addEventListener(et.toString(),eu,ev);return new tab.CallOnDispose(function(){es.removeEventListener(et.toString(),eu,ev)})};bC.isCtrlKey=function(es){if(ss.isNullOrUndefined(es)){return false}return(tab.BrowserSupport.get_isMac()?es.metaKey:es.ctrlKey)};bC.getDragFileList=function(es){if(ss.isNullOrUndefined(es)||ss.isNullOrUndefined(es.dataTransfer)){return null}return es.dataTransfer.files};bC.stopEvent=function(es){es.stopPropagation();es.preventDefault()};global.spiff.EventUtil=bC;var bD=function(es){da.call(this,es)};bD.__typeName='spiff.ExclusiveMultiSelectGroupSelection';bD.buildExclusiveMultiSelectGroupSelection=function(es){return function(et,eu){var ev=new bD(et.length);var ew=et.length;for(var ex=0;ex<ew;++ex){if(eu(et[ex])){ev.get_selectedIndexes()[ex]=true}}ev.validateAllSelectedState();return ev}};global.spiff.ExclusiveMultiSelectGroupSelection=bD;var bE=function(es){dJ.call(this,es)};bE.__typeName='spiff.ExclusiveSingleSelectGroupSelection';bE.buildExclusiveSingleSelectGroupSelection=function(es){return function(et,eu){var ev=new bE(et.length);var ew=et.length;for(var ex=0;ex<ew;++ex){if(eu(et[ex])){ev.get_selectedIndexes()[ex]=true}}ev.validateAllSelectedState();return ev}};global.spiff.ExclusiveSingleSelectGroupSelection=bE;var bF=function(){ss.makeGenericType(x,[Object]).call(this)};bF.__typeName='spiff.FixedValueCell';bF.createFixedValueCell=function(es){return React.createElement(bF,es)};global.spiff.FixedValueCell=bF;var bG=function(){{bG.$0('focus',bG.$3);bG.$0('blur',bG.$1);bG.$0('keydown',bG.$4);bG.$0('keyup',bG.$4);bK.add_firstTouch(bG.$2)}};bG.__typeName='spiff.FocusManager';bG.shutdown=function(){if(ss.isNullOrUndefined(bG.$9)){return}bG.$6('focus',bG.$3);bG.$6('blur',bG.$1);bG.$6('keydown',bG.$4);bG.$6('keyup',bG.$4);bK.remove_firstTouch(bG.$2);bG.$9=null};bG.initialize=function(){if(ss.isNullOrUndefined(bG.$9)){bG.$9=new bG}};bG.$0=function(es,et){document.body.addEventListener(es,et,true)};bG.$6=function(es,et){document.body.removeEventListener(es,et,true)};bG.updateFocusIndicatorVisibility=function(){$(document.activeElement).toggleClass('tab-showFocusIndicator',!bG.$a)};bG.$3=function(es){if(ss.referenceEquals(document.activeElement,document.body)){return}if(document.hasFocus()&&ss.referenceEquals(document.activeElement,es.target)&&i.$1()){bG.$a=false}bG.updateFocusIndicatorVisibility()};bG.$1=function(es){window.setTimeout(function(){if(document.hasFocus()){$(es.target).removeClass('tab-showFocusIndicator')}else{i.$0()}})};bG.$4=function(es){var et=es.keyCode;i.$2(et,es.type==='keydown')};bG.$2=function(es,et){bG.$a=true};bG.wasFocusedByClick=function(){return bG.$a};bG.trapFocus=function(es){es.off(bG.$7).on(bG.$7,bG.$5)};bG.untrapFocus=function(es){es.off(bG.$7)};bG.$5=function(es){if(es.which===9){var et=$(es.currentTarget).find(':tabbable');if(ss.referenceEquals(es.target,et.last()[0])&&!es.shiftKey){et.first().focus()}else if(ss.referenceEquals(es.target,et.first()[0])&&es.shiftKey){et.last().focus()}else if(et.length>0){return}es.preventDefault();es.stopPropagation()}};global.spiff.FocusManager=bG;var bH=function(es){dn.call(this,es)};bH.__typeName='spiff.GenericDropdownButtonComponent';bH.create=function(es){return React.createElement(bH,es)};global.spiff.GenericDropdownButtonComponent=bH;var bI=function(es,et,eu,ev){this.$2=null;this.slop=5;this.numTouches=1;this.type='gesture';this.isPotentialPress=false;this.isActivePress=false;this.pressTimer=null;this.doubleTapTimer=null;this.potentialPressTimer=null;if(ss.isValue(et)){this.type=et}if(ss.isValue(eu)){this.slop=(eu?bI.defaultSlop:0)}if(ss.isValue(ev)){this.numTouches=ev}this.$2={};this.update(es)};bI.__typeName='spiff.Gesture';bI.$0=function(es,et){return es.data('tab-'+et)};global.spiff.Gesture=bI;var bJ=function(es,et){this.$3=null;this.$2=null;this.$2$1=null;er.call(this,$("<div class='tab-glass clear-glass'></div>"));this.$3=es||document.body;if(!ss.referenceEquals(this.$3,document.body)){this.element.css('position','absolute')}var eu={};by.setHandler(eu,'firstTouch',ss.mkdel(this,this.handleClick));if(et){eu.doubleTap=function(ev){ev.preventDefault()};eu.pinchStart=function(ev){ev.preventDefault()}}this.$2=dR.targetAndConfig(this.element[0],eu).onClick(ss.mkdel(this,this.handleClick)).onRightClick(ss.mkdel(this,this.handleClick))};bJ.__typeName='spiff.Glass';global.spiff.Glass=bJ;var bK=function(){};bK.__typeName='spiff.GlobalUIEvents';bK.add_firstTouch=function(es){bK.$1$1=ss.delegateCombine(bK.$1$1,es)};bK.remove_firstTouch=function(es){bK.$1$1=ss.delegateRemove(bK.$1$1,es)};bK.add_press=function(es){bK.$1$2=ss.delegateCombine(bK.$1$2,es)};bK.remove_press=function(es){bK.$1$2=ss.delegateRemove(bK.$1$2,es)};bK.add_tap=function(es){bK.$1$3=ss.delegateCombine(bK.$1$3,es)};bK.remove_tap=function(es){bK.$1$3=ss.delegateRemove(bK.$1$3,es)};bK.add_lastTouch=function(es){bK.$1$4=ss.delegateCombine(bK.$1$4,es)};bK.remove_lastTouch=function(es){bK.$1$4=ss.delegateRemove(bK.$1$4,es)};bK.add_rightClick=function(es){bK.$1$5=ss.delegateCombine(bK.$1$5,es)};bK.remove_rightClick=function(es){bK.$1$5=ss.delegateRemove(bK.$1$5,es)};bK.add_dragEnd=function(es){bK.$1$6=ss.delegateCombine(bK.$1$6,es)};bK.remove_dragEnd=function(es){bK.$1$6=ss.delegateRemove(bK.$1$6,es)};bK.add_dismissTemporaryElements=function(es){bK.$1$7=ss.delegateCombine(bK.$1$7,es)};bK.remove_dismissTemporaryElements=function(es){bK.$1$7=ss.delegateRemove(bK.$1$7,es)};bK.fireFirstTouch=function(es,et){bK.$0(bK.$1$1,es,et)};bK.firePress=function(es,et){bK.$0(bK.$1$2,es,et)};bK.fireTap=function(es,et){bK.$0(bK.$1$3,es,et)};bK.fireLastTouch=function(es,et){bK.$0(bK.$1$4,es,et)};bK.fireRightClick=function(es,et){bK.$0(bK.$1$5,es,et)};bK.fireDragEnd=function(es,et){bK.$0(bK.$1$6,es,et)};bK.fireDismissTemporaryElements=function(){if(!ss.staticEquals(bK.$1$7,null)){bK.$1$7()}};bK.$0=function(es,et,eu){if(!ss.staticEquals(es,null)){es(et,eu)}};global.spiff.GlobalUIEvents=bK;var bL=function(es){this.$1=null;this.$0=null;React.Component.call(this,es);this.state={};this.$0=ss.mkdel(this,function(et){this.$1=et})};bL.__typeName='spiff.GridIScrollHandler';global.spiff.GridIScrollHandler=bL;var bM=function(es){this.groupSize=0;this.allSelected=false;this.$1$1=null;this.groupSize=es;this.allSelected=false;this.set_selectedIndexes({})};bM.__typeName='spiff.GroupSelection';global.spiff.GroupSelection=bM;var bN=function(es){this.$1={hovered:false};dn.call(this,es)};bN.__typeName='spiff.HeaderColumn';bN.createHeaderColumn=function(es){return React.createElement(bN,es)};global.spiff.HeaderColumn=bN;var bO=function(es){this.$0=null;this.$1=null;dn.call(this,es);this.$1=ss.mkdel(this,this.handleReportHeaderWidth)};bO.__typeName='spiff.HeaderRow';bO.createHeaderRow=function(es){return React.createElement(bO,es)};global.spiff.HeaderRow=bO;var bP=function(es,et){this.$2=false;dn.$ctor1.call(this,es,et);this.state={value:es.initialValue,emptyTextBox:false}};bP.__typeName='spiff.HorizontalSliderComponent';global.spiff.HorizontalSliderComponent=bP;var bQ=function(es,et){React.Component.call(this,es,et)};bQ.__typeName='spiff.HorizontalSpinnerComponent';global.spiff.HorizontalSpinnerComponent=bQ;var bR=function(){};bR.__typeName='spiff.HorizontalSpinnerDirection';global.spiff.HorizontalSpinnerDirection=bR;var bS=function(){this.styleClass='tab-outline-spinner';this.extraCssClass=null;this.disabled=false;this.onSpinnerClicked=null};bS.__typeName='spiff.HorizontalSpinnerProps';global.spiff.HorizontalSpinnerProps=bS;var bT=function(es){this.$a=0;this.$b=0;this.$9=true;this.$8=false;this.$7=null;this.$6=0;bI.call(this,es,'hover',false);this.$6=(ss.isValue(es.hoverDelay)?es.hoverDelay:150)};bT.__typeName='spiff.Hover';global.spiff.Hover=bT;var bU=function(){};bU.__typeName='spiff.HoverAddClassBehavior';bU.attach=function(es,et,eu){et=ss.coalesce(et,'hover');return new bV(es,eu,function(ev){bU.$0(ev,et)},function(ev){bU.$1(ev,et)})};bU.$0=function(es,et){$(es.currentTarget).addClass(et)};bU.$1=function(es,et){$(es.currentTarget).removeClass(et)};global.spiff.HoverAddClassBehavior=bU;var bV=function(es,et,eu,ev){this.$4=null;this.$5=null;this.$6=null;this.$7=null;this.$7=es;this.$4=et;this.$5=eu;this.$6=ev;this.$7.add_disposed(ss.mkdel(this,this.$2));if(ss.isValue(et)){this.$7.element.on('mouseenter'+this.$3(),et,ss.mkdel(this,this.$0));this.$7.element.on('mouseleave'+this.$3(),et,ss.mkdel(this,this.$1))}else{this.$7.element.on('mouseenter'+this.$3(),ss.mkdel(this,this.$0));this.$7.element.on('mouseleave'+this.$3(),ss.mkdel(this,this.$1))}};bV.__typeName='spiff.HoverBehavior';global.spiff.HoverBehavior=bV;var bW=function(){};bW.__typeName='spiff.ICompositeSearchWidgetTemplate';global.spiff.ICompositeSearchWidgetTemplate=bW;var bX=function(){this.iconElement=null;z.call(this,$('<a>').addClass('tab-iconButton'));this.setEnabled(true)};bX.__typeName='spiff.IconButton';global.spiff.IconButton=bX;var bY=function(es){React.Component.call(this,es);this.state=this.$0()};bY.__typeName='spiff.IconButtonComponent';global.spiff.IconButtonComponent=bY;var bZ=function(){this.isActive=false};bZ.__typeName='spiff.IconButtonState';global.spiff.IconButtonState=bZ;var ca=function(){};ca.__typeName='spiff.IContent';global.spiff.IContent=ca;var cb=function(){};cb.__typeName='spiff.IDragResponder';global.spiff.IDragResponder=cb;var cc=function(){};cc.__typeName='spiff.IDragSource';global.spiff.IDragSource=cc;var cd=function(){};cd.__typeName='spiff.IDropTarget';global.spiff.IDropTarget=cd;var ce=function(){};ce.__typeName='spiff.IHasEnabledState';global.spiff.IHasEnabledState=ce;var cf=function(){};cf.__typeName='spiff.IListItemContentCreator';global.spiff.IListItemContentCreator=cf;var cg=function(){};cg.__typeName='spiff.IListItemDragAvatarCreator';global.spiff.IListItemDragAvatarCreator=cg;var ch=function(){};ch.__typeName='spiff.IListViewDragFeedback';global.spiff.IListViewDragFeedback=ch;var ci=function(){};ci.__typeName='spiff.IListViewScrollHandler';global.spiff.IListViewScrollHandler=ci;var cj=function(){ss.makeGenericType(x,[Object]).call(this)};cj.__typeName='spiff.ImageCell';cj.createBodyCell=function(es){return React.createElement(cj,es)};global.spiff.ImageCell=cj;var ck=function(){};ck.__typeName='spiff.IMouseCaptureEventHandler';global.spiff.IMouseCaptureEventHandler=ck;var cl=function(){};cl.__typeName='spiff.InputType';global.spiff.InputType=cl;var cm=function(es){var et=function(){};ss.registerGenericInterfaceInstance(et,cm,[es],{add_propsUpdated:null,remove_propsUpdated:null,get_props:null},function(){return[]});return et};cm.__typeName='spiff.IPropsProvider$1';ss.initGenericInterface(cm,a,1);global.spiff.IPropsProvider$1=cm;var cn=function(){};cn.__typeName='spiff.IScrollable';global.spiff.IScrollable=cn;var co=function(es,et){this.$4=null;this.$5=null;this.iScroll=null;React.Component.call(this,es,et);this.state={hovered:false,scrolling:false}};co.__typeName='spiff.IScrollComponent';global.spiff.IScrollComponent=co;var cp=function(){};cp.__typeName='spiff.IScroller';global.spiff.IScroller=cp;var cq=function(){};cq.__typeName='spiff.IScrollingControl';global.spiff.IScrollingControl=cq;var cr=function(){this.extraCssClass=null;this.iScrollOptions=null;this.refreshDelay=0;this.keepPositionOnRecreate=true;this.alwaysShowScrollbarsIfScrollable=false;this.startingY=null;this.augmentedScrollX=true;this.augmentedScrollY=true;this.customStyle=null;this.scrollStopCallback=null;this.scrollCallback=null};cr.__typeName='spiff.IScrollProps';global.spiff.IScrollProps=cr;var cs=function(es){this.content=null;this.scroll=null;dZ.call(this,$(es))};cs.__typeName='spiff.IScrollTemplate';global.spiff.IScrollTemplate=cs;var ct=function(es,et){this.scrollEndCleanup=new tab.DisposableHolder;this.scroller=null;dv.call(this,es,et)};ct.__typeName='spiff.IScrollView';global.spiff.IScrollView=ct;var cu=function(){};cu.__typeName='spiff.ISelectable';global.spiff.ISelectable=cu;var cv=function(){};cv.__typeName='spiff.ITabControlTemplate';global.spiff.ITabControlTemplate=cv;var cw=function(){};cw.__typeName='spiff.ITextInputViewTemplate';global.spiff.ITextInputViewTemplate=cw;var cx=function(){};cx.__typeName='spiff.IUberPopupContent';global.spiff.IUberPopupContent=cx;var cy=function(){};cy.__typeName='spiff.JQueryGestureExtensions';cy.fireTableauGesture=function(es,et,eu,ev){if(ss.isNullOrUndefined(eu)){var ew=new Object;ew.type='touchend';ew.timeStamp=tab.DateUtil.get_nowAsTime();ew.keyCode=null;ew.ctrlKey=false;ew.altKey=false;ew.metaKey=false;ew.shiftKey=false;ew.charOrCode=null;ew.clientX=0;ew.clientY=0;ew.touches=new Array;ew.targetTouches=new Array;ew.changedTouches=new Array;ew.target=es;eu=ew}var ex;switch(et){case'dragMove':case'dragStart':case'dragEnd':{ex='drag';break}case'hover':case'moving':case'mouseleave':{ex='hover';break}case'pinchStart':case'pinchMove':case'pinchEnd':{ex='pinch';break}default:{ex='discrete';break}}var ey=dc.create(eu,es,null);bI.$0($(es),ex).$0(et,ey,ev||{})};global.spiff.JQueryGestureExtensions=cy;var cz=function(es,et){this.$b='.label';z.call(this,es);this.$b=et};cz.__typeName='spiff.LabelButton';cz.newAnchorButton=function(){return new cz($("<a href='#' class='tab-link-button'><span class='label hide'></span></a>"),'.label')};cz.newAnchorButton$1=function(es,et){var eu=new cz($("<a href='#' class='tab-link-button'><span class='label hide'></span></a>"),'.label');eu.element.attr('href',es);eu.element.attr('target',ss.coalesce(et,'_blank').toString());return eu};cz.newNativeButton=function(){return new cz($("<button class='tab-button' type='button'><span class='icon'></span><span class='label hide'></span></button>"),'.label')};cz.newMenuButton=function(){return new cz($("<button class='tab-button' type='button'>\n            <div class='paired-icon'>\n                <span class='icon menu-button'></span>\n                <span class='tabComboBoxButton'></span>\n            </div>\n            <span class='label hide'></span></button>"),'.label')};cz.newTextButton=function(es,et){var eu=new cz($("<span class='tab-text-button'><span class='label hide'></span></span>"),'.label');if(ss.isValue(es)){eu.add_click(es);eu.disposables.add$1(new tab.CallOnDispose(function(){eu.remove_click(es)}))}if(ss.isValue(et)){eu.set_label(et)}return eu};global.spiff.LabelButton=cz;var cA=function(es,et){this.$e='.label';ec.call(this,es);this.$e=et};cA.__typeName='spiff.LabelToggleButton';cA.newCheckbox=function(es,et){var eu=cA.$0("<span class='tab-icon-toggle'><span class='icon'></span><span class='label hide'></span></span>",es,et);eu.element.addClass('tab-unification-check').find('.icon').append($("<span class='innerIcon'></span>").addClass('tab-img-check'));return eu};cA.newRadioButton=function(es,et){var eu=cA.$0("<span class='tab-icon-toggle'><span class='icon'></span><span class='label hide'></span></span>",es,et);eu.element.addClass('tab-unification-radio').find('.icon').append($("<span class='innerIcon'></span>"));return eu};cA.newNativeCheckbox=function(es,et){return cA.$0("<span class='tab-checkbox'><input type='checkbox'></input><span class='label hide'></span></span>",es,et)};cA.newNativeRadioButton=function(es,et){var eu=cA.$0("<span class='tab-radio'><input type='radio'></input><span class='label hide'></span></span>",es,et);eu.set_preventMouseDeselect(true);return eu};cA.newLabelToggleButton=function(es,et){return cA.$0("<span class='tab-icon-toggle'><span class='icon'></span><span class='label hide'></span></span>",es,et)};cA.$0=function(es,et,eu){var ev=new cA($(es),'.label');ev.set_label(et);ev.set_selected(eu);var ew=ev;var ex=ew.get_inputElement();if(ss.isValue(ex)){ex.click(function(ey){ey.preventDefault()})}return ew};global.spiff.LabelToggleButton=cA;var cB=function(es){this.$3=null;this.$4=null;React.Component.call(this,es,null);this.state=this.$0();this.$3={firstTouch:ss.mkdel(this,function(et){this.handleEnterPress()})};this.$4=ss.coalesce(this.props.textBoxWidth,'auto')};cB.__typeName='spiff.LineEditWithButtonComponent';global.spiff.LineEditWithButtonComponent=cB;var cC=function(es,et){var eu=function(ev,ew){React.Component.call(this,ev,ew)};ss.registerGenericClassInstance(eu,cC,[es,et],{render:function(){var ev=_.map(this.props.items,ss.mkdel(this,function(ew){var ex=this.getEventHandleSpecForItem(ew);var ey={className:'tabListItem',key:this.getItemKey(ew.data)};if(ss.isNullOrUndefined(ex)){return React.DOM.div(ey,this.buildItem(ew.data))}else{return bw.div(ex,ey,[this.buildItem(ew.data)])}}));return React.DOM.div({className:'tabList'},ev)},getItemKey:null,buildItem:null,getEventHandleSpecForItem:function(ev){return null}},function(){return React.Component},function(){return[]});return eu};cC.__typeName='spiff.ListComponent$2';ss.initGenericClass(cC,a,2);global.spiff.ListComponent$2=cC;var cD=function(es,et){this.$1$1=null;this.$1$2=null;this.set_parentListView(es);this.set_draggableListItemView(et)};cD.__typeName='spiff.ListItemDragSource';global.spiff.ListItemDragSource=cD;var cE=function(es){this.$f=null;this.$g=null;dE.call(this);this.set_selectionType(es)};cE.__typeName='spiff.ListItemGroup';global.spiff.ListItemGroup=cE;var cF=function(es,et){this.$g=null;this.$f=null;ec.call(this,cF.$0(es));tab.Param.verifyValue(et,'viewModel');tab.Param.verifyValue(et.get_id(),'viewModel.Id');this.$g=et;this.$g.add_propertyChanged(ss.mkdel(this,this.$e));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$g.remove_propertyChanged(ss.mkdel(this,this.$e))})));this.set_selectionId(et.get_id());this.set_widgetId(et.get_id());this.$f=es};cF.__typeName='spiff.ListItemView';cF.$0=function(es){var et=$('<div/>').addClass('tab-list-item');et.append(es);return et};global.spiff.ListItemView=cF;var cG=function(es,et,eu,ev,ew){this.$2=null;this.$0=null;this.$5=false;this.$4=false;this.$1=false;this.$6=false;this.$3=false;w.call(this);this.$2=es;if(ss.isValue(et)){this.$0=et}this.$5=eu;this.$4=ev;this.$3=ew};cG.__typeName='spiff.ListItemViewModel';cG.newListItem=function(es,et,eu,ev,ew){tab.Param.verifyString(es,'id');return new cG(es,et,eu,ev,ew)};global.spiff.ListItemViewModel=cG;var cH=function(){this.itemDatas=null;this.selectionIndexes=null;this.invalidIndexes=null;this.itemIds=null};cH.__typeName='spiff.ListItemViewModelCollectionBuilder';global.spiff.ListItemViewModelCollectionBuilder=cH;var cI=function(es,et){this.$l=[];this.$k=null;this.$3$1=null;this.$m=null;this.$3$2=null;ss.makeGenericType(v,[cK]).call(this,es,new cL);this.get_viewModel().add_selectionModelUpdated(ss.mkdel(this,this.$c));this.get_viewModel().add_spotlightedItemChanged(ss.mkdel(this,this.$d));this.get_viewModel().add_itemMoved(ss.mkdel(this,this.$e));this.disposables.add(ss.mkdel(this,function(){this.get_viewModel().remove_selectionModelUpdated(ss.mkdel(this,this.$c));this.get_viewModel().remove_spotlightedItemChanged(ss.mkdel(this,this.$d));this.get_viewModel().remove_itemMoved(ss.mkdel(this,this.$e))}));this.set_scrollHandler(new f(this.element));this.get_dom().get_listItemContainer().keypress(ss.mkdel(this,this.$9)).keydown(ss.mkdel(this,this.$9));this.$k=et;this.$5()};cI.__typeName='spiff.ListView';cI.createListView=function(es,et){return new cI(es,et)};global.spiff.ListView=cI;var cJ=function(){this.$b='dragging';this.$c='dragHover';this.$e=null;this.$f=null;this.$n=0;this.$l=0;this.$g=null;this.$h=0;this.$k=null;this.$m=0;this.$j=0;this.$i=0;this.$d=null;this.$1$1=null;this.$1$2=null;this.$1$3=null};cJ.__typeName='spiff.ListViewDragSortFeedback';global.spiff.ListViewDragSortFeedback=cJ;var cK=function(es,et){this.$8=null;this.$6=null;this.$7=null;this.$5=null;this.$4=null;this.$9=null;this.$3=true;this.$a=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.$2$7=null;this.$2$8=null;w.call(this);this.$8={};this.$6=new cE(et);this.$6.add_selectionChanged(ss.mkdel(this,this.onSelectionChanged));this.update(es)};cK.__typeName='spiff.ListViewModel';global.spiff.ListViewModel=cK;var cL=function(){this.$0=null;dZ.call(this,$("<div class='tab-list'><div class='tab-list-itemHolder'></div></div>"));this.$0=this.getElementBySelector('.tab-list-itemHolder')};cL.__typeName='spiff.ListViewTemplate';global.spiff.ListViewTemplate=cL;var cM=function(es){this.menuItems=null;this.defaultItem=null;this.menuItems=es;this.defaultItem=_.find(es,function(et){return et.isDefault})};cM.__typeName='spiff.Menu';global.spiff.Menu=cM;var cN=function(){this.name=null;this.description=null;this.readId=null;this.iconClass=null;this.iconClassTwo=null;this.itemClass=null;this.checkState=0;this.enabled=false;this.isDivider=false;this.isTextInput=false;this.isDefault=false;this.subMenu=null;this.data=null;this.id=null;++cN.$0;this.id='menuItem'+cN.$0};cN.__typeName='spiff.MenuItem';cN.newDivider=function(){var es=new cN;es.isDivider=true;es.enabled=false;return es};cN.newTextInput=function(es,et){var eu=new cN;eu.isTextInput=true;if(!ss.staticEquals(es,null)){eu.data=es;eu.enabled=true}eu.description=et;return eu};cN.newActionItem=function(es,et,eu,ev){var ew=new cN;ew.name=es;ew.readId=ev;if(ss.isValue(et)){ew.data=et;ew.enabled=eu}return ew};cN.newActionItemWithItemClass=function(es,et,eu){var ev=new cN;ev.name=es;ev.itemClass=eu;if(ss.isValue(et)){ev.data=et;ev.enabled=true}return ev};cN.newItemWithIcon=function(es,et,eu){var ev=new cN;ev.data=es;ev.name=et;ev.iconClass=eu;ev.iconClassTwo=null;ev.enabled=true;return ev};cN.newItemWithIconAndDescription=function(es,et,eu,ev){var ew=new cN;ew.data=es;ew.name=et;ew.iconClass=eu;ew.enabled=true;ew.description=ev;return ew};cN.newItem=function(es,et,eu,ev){var ew=new cN;ew.data=es;ew.name=et;if(ss.isValue(eu)){ew.checkState=eu}if(ss.isValue(ev)){ew.subMenu=ev;ew.enabled=ev.menuItems.some(function(ex){return ex.enabled})}else{ew.enabled=true}return ew};global.spiff.MenuItem=cN;var cO=function(){};cO.__typeName='spiff.MenuItemCheckState';global.spiff.MenuItemCheckState=cO;var cP=function(){dZ.call(this,$("<div class='tabMenuItemDivider' role='separator' />"))};cP.__typeName='spiff.MenuItemDividerTemplate';global.spiff.MenuItemDividerTemplate=cP;var cQ=function(){this.textInput=null;dZ.call(this,$("\n<div class='tabMenuItemTextInputPanel' role='menuitem'>\n  <div class='tabMenuItemTextInputHolder'>\n    <input class='tabMenuItemTextInput' type='text'>\n  </div>\n</div>"));this.textInput=this.getElementBySelector('.tabMenuItemTextInput')};cQ.__typeName='spiff.MenuItemTextInputTemplate';global.spiff.MenuItemTextInputTemplate=cQ;var cR=function(){this.content=null;dZ.call(this,$("<div class='tabMenu' tabindex='-1' role='menu'><div class='tabMenuContent'/></div>"));this.content=this.getElementBySelector('.tabMenuContent')};cR.__typeName='spiff.MenuTemplate';global.spiff.MenuTemplate=cR;var cS=function(es,et){this.menuStack=[];this.dom=null;this.menuViewModel=null;this.glass=null;this.$b={};this.menuDisposables=new tab.DisposableHolder;ss.makeGenericType(t,[cT]).call(this,es,et);this.menuViewModel=es;this.dom=et;this.menuStack[0]=this.dom;this.menuViewModel.add_menuChanged(ss.mkdel(this,this.updateMenu));this.menuViewModel.add_shown(ss.mkdel(this,this.shown));this.menuViewModel.add_hidden(ss.mkdel(this,this.hidden));this.menuViewModel.add_menuItemSelectionChanged(ss.mkdel(this,this.$9));this.element.addClass(this.menuViewModel.get_theme().menuClass);this.element.on('blur',ss.mkdel(this,this.onBlur))};cS.__typeName='spiff.MenuView';cS.getMenuItem=function(es){return es.data('tabMenuMenuItem')};cS.getMenuItemLevel=function(es){return ss.coalesce(es.data('tabMenuMenuItemLevel'),1)};cS.$0=function(es){es.stopPropagation()};global.spiff.MenuView=cS;var cT=function(es){this.$0=null;this.$2=null;this.$3=null;this.$1=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.$2$7=false;this.$2$8=false;this.$2$9=false;this.$2$10=null;w.call(this);this.set_shouldAnimateOnClose(es);this.set_theme(new eo);this.$0=ss.mkdel(this,function(){_.defer(ss.mkdel(this,this.dispose))});this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_hidden(this.$0)})))};cT.__typeName='spiff.MenuViewModel';cT.createForMenu=function(es,et,eu,ev,ew){var ex=new cT(ew);ex.set_menu(es);var ey=ex;if(ss.isValue(et)){ey.add_menuItemClicked(et);ey.disposables.add$1(new tab.CallOnDispose(function(){ey.remove_menuItemClicked(et)}))}ey.set_disposeOnHide(true);ey.set_theme(eu||new eo);if(ss.isValue(ev)){ey.add_hidden(ev);ey.disposables.add$1(new tab.CallOnDispose(function(){ey.remove_hidden(ev)}))}tab.ObjectRegistry.newView(cS).call(null,[ey]);return ey};cT.handleMenuActionItemClicked=function(es){if($.isFunction(es.data)){es.data()}};global.spiff.MenuViewModel=cT;var cU=function(){this.menuClass='tabMenuBaseTheme';this.itemClass='tabMenuItemBaseTheme';this.dividerClass='tabMenuItemDividerBaseTheme';this.noIconClass='tabMenuNoIcons';this.noDescClass='tabMenuNoDesc'};cU.__typeName='spiff.MenuViewTheme';global.spiff.MenuViewTheme=cU;var cV=function(es,et){this.$y=null;this.template=null;bi.call(this,es,et.domRoot);this.template=et;this.$w()};cV.__typeName='spiff.ModalDialog';cV.$ctor1=function(es,et){this.$y=null;this.template=null;bi.call(this,es,et);this.template=new dZ(et);this.$w()};global.spiff.ModalDialog=cV;var cW=function(){};cW.__typeName='spiff.MouseCapture';cW.$6=function(){return tab.Logger.lazyGetLogger(cW)};cW.$7=function(){return!tsConfig.is_mobile&&tab.BrowserSupport.get_addEventListener()};cW.$5=function(){return tab.BrowserSupport.get_isIE()&&tabBootstrap.Utility.get_embedMode()!=='notEmbedded'};cW.setCapture=function(es,et,eu){tab.Param.verifyValue(es,'element');tab.Param.verifyValue(et,'handler');if(cW.$7()){if(ss.isNullOrUndefined(cW.$8)||ss.isNullOrUndefined(eu)||!eu){cW.releaseCapture();document.addEventListener('mousemove',cW.$2,true);document.addEventListener('mouseup',cW.$4,true);document.addEventListener('mouseout',cW.$3,true);cW.$8=et}else{}}};cW.releaseCapture=function(){if(cW.$7()){document.removeEventListener('mousemove',cW.$2,true);document.removeEventListener('mouseup',cW.$4,true);document.removeEventListener('mouseout',cW.$3,true)}};cW.$2=function(es){if(ss.isValue(cW.$8)){cW.$8.handleCapturedMouseMove(es)}};cW.$4=function(es){cW.$1(es)};cW.$3=function(es){if(cW.$5()&&cW.$0(es)){cW.$1(es)}};cW.$1=function(es){cW.releaseCapture();if(ss.isValue(cW.$8)){cW.$8.handleCapturedMouseComplete(es);cW.$8=null}};cW.$0=function(es){var et=es.toElement;return ss.isNullOrUndefined(et)||et.nodeName==='HTML'};global.spiff.MouseCapture=cW;var cX=function(){};cX.__typeName='spiff.MouseEventUtil';cX.get_clickEvent=function(){return(tab.BrowserSupport.isTouch?'touchstart':'click')};cX.getMouseButtonEnum=function(es){cX.$0();var et='none';var eu=es['which'];if(ss.isValue(eu)){var ev=eu;if(ss.keyExists(cX.$3,ev)){et=cX.$3[ev]}}else if(ss.isValue(es['button'])){var ew=es['button'];if(ss.keyExists(cX.$2,ew)){et=cX.$2[ew]}}return et};cX.$0=function(){if(!cX.$1){cX.$2={};cX.$2[1]='left';cX.$2[4]='middle';cX.$2[2]='right';cX.$3={};cX.$3[1]='left';cX.$3[2]='middle';cX.$3[3]='right';cX.$1=true}};global.spiff.MouseEventUtil=cX;var cY=function(es,et,eu,ev){cY.$ctor1.call(this,es,et,eu,cY.$0,ev)};cY.__typeName='spiff.MoveDragInstance';cY.$ctor1=function(es,et,eu,ev,ew){this.$4=null;this.$3=null;this.$2=null;bp.call(this,es,ew);this.$4=et;this.$3=eu;this.$2=ev};global.spiff.MoveDragInstance=cY;var cZ=function(es,et,eu){this.$3=null;this.$2=null;this.$4=null;this.$1=null;this.$0=false;this.$1$1=null;this.$1$2=null;this.$3=es;this.$2=et;this.$1='useScrollSize';this.$0=eu;bo.attachDragSource(this.$3,this)};cZ.__typeName='spiff.MoveDragSource';global.spiff.MoveDragSource=cZ;var da=function(es){bM.call(this,es)};da.__typeName='spiff.MultiSelectGroupSelection';da.buildMultiSelectGroupSelection$1=function(es){return function(et,eu){var ev=new da(et.length);var ew=et.length;for(var ex=0;ex<ew;++ex){if(eu(et[ex])){ev.get_selectedIndexes()[ex]=true}}ev.validateAllSelectedState();return ev}};da.buildMultiSelectGroupSelection=function(es){return function(et,eu){var ev=new da(et.length);if(eu){ev.handleTapAll()}return ev}};global.spiff.MultiSelectGroupSelection=da;var db=function(){bh.call(this);this.onFeedbackType=function(){return'dropfeedbackuponentry'};this.onDragOver=function(es,et){return et};this.onAcceptDrop=function(es){return $.Deferred().resolve(false)};this.onGetDropCursor=function(es){return bb.noOp}};db.__typeName='spiff.NoopDropTarget';global.spiff.NoopDropTarget=db;var dc=function(es,et,eu){this.originalEvent=null;this.reactEvent=null;this.inputType=0;this.source=0;this.type=null;this.target=null;this.currentTarget=null;this.timeStamp=0;this.keyCode=0;this.ctrlKey=false;this.altKey=false;this.metaKey=false;this.shiftKey=false;this.clientX=0;this.clientY=0;this.pageX=0;this.pageY=0;this.touches=null;this.targetTouches=null;this.changedTouches=null;this.touchesById=null;this.gestureName=null;this.$0=null;this.originalEvent=es;this.reactEvent=eu;this.type=es.type;this.timeStamp=es.timeStamp;this.keyCode=es['keyCode'];this.ctrlKey=es.ctrlKey;this.altKey=es.altKey;this.metaKey=es.metaKey;this.shiftKey=es.shiftKey;this.clientX=es['clientX'];this.clientY=es['clientY'];if(ss.isValue(es.touches)){this.touches=es.touches;this.targetTouches=es.targetTouches;this.changedTouches=es.changedTouches;var ev=es.target;this.target=((ev.nodeType===3)?ev.parentNode:ev);this.currentTarget=et}else{this.targetTouches=((es.type==='mouseup')?[]:[es]);this.touches=this.targetTouches;this.changedTouches=[es];this.currentTarget=es.currentTarget;this.target=es.target}var ew=this.touches.length;this.touchesById=new Array(ew);while(ew>0){ew-=1;var ex=this.touches[ew].identifier||0;this.touchesById[ex]=this.touches[ew]}ew=this.changedTouches.length;while(ew>0){ew-=1;var ey=this.changedTouches[ew].identifier||0;this.touchesById[ey]=this.changedTouches[ew]}};dc.__typeName='spiff.NormalizedEvent';dc.get_allHandledEvents=function(){return Object.keys(h.$3)};dc.create=function(es,et,eu){return h.$0(es,et,eu)};global.spiff.NormalizedEvent=dc;var dd=function(){ss.makeGenericType(x,[Object]).call(this)};dd.__typeName='spiff.NumberCell';dd.createBodyCell=function(es){return React.createElement(dd,es)};global.spiff.NumberCell=dd;var de=function(){};de.__typeName='spiff.OnBlurBehavior';global.spiff.OnBlurBehavior=de;var df=function(){};df.__typeName='spiff.OrientationHandler';df.add_orientationChanged=function(es){df.$1$1=ss.delegateCombine(df.$1$1,es)};df.remove_orientationChanged=function(es){df.$1$1=ss.delegateRemove(df.$1$1,es)};df.get_isLandscape=function(){return df.$e===90||df.$e===-90};df.get_isPortrait=function(){return df.$e===0||df.$e===180};df.get_windowInstHelper=function(){return df.$k};df.init=function(){if(!tsConfig.is_mobile_device){df.$e=0;return}df.$j=df.$1();df.$k=new tab.WindowHelper(df.$j);df.$e=df.$3();df.$f=df.$k.get_innerWidth();if(tab.BrowserSupport.get_orientationChange()){$(df.$j).on('orientationchange'.toString(),df.$6)}$(df.$j).on('resize'.toString(),df.$7);if('addEventListener'in window.self){window.addEventListener('unload',df.$a,true)}};df.$a=function(es){df.unbindEvents()};df.unbindEvents=function(){if(ss.isNullOrUndefined(df.$j)){return}$(df.$j).off('orientationchange'.toString(),df.$6);$(df.$j).off('resize'.toString(),df.$7)};df.$1=function(){var es=tab.WindowHelper.get_windowSelf();if(tabBootstrap.Utility.get_embedMode()!=='notEmbedded'){try{while(ss.isValue(es.parent)&&!ss.referenceEquals(es.parent,es)){var et=es.parent;var eu=new tab.WindowHelper(et);if(ss.isNullOrUndefined(eu.get_outerWidth())){break}es=et}}catch(ev){}}return es};df.$6=function(es){df.$h=new Date;df.$5()};df.$5=function(){var es=new Date;if(es-df.$h>=2500||df.$g||df.$9()||df.$8()){df.$b();df.$2()}else{df.$0();df.$i=window.setTimeout(df.$5,75)}};df.$7=function(es){if(df.$g||df.$9()){df.$b();df.$2()}};df.$2=function(){df.$0();if(df.$8()){df.$e=df.$3();df.$g=false;if(ss.isValue(df.$1$1)){df.$1$1()}}};df.$9=function(){var es=df.$k.get_innerWidth();if(df.$f!==es){return true}return false};df.$8=function(){var es=df.$3();if(df.$e!==es){return true}return false};df.$b=function(){df.$f=df.$k.get_innerWidth();df.$g=true};df.$3=function(){var es;if(!tab.BrowserSupport.get_isAndroid()){es=df.$4();if(ss.isValue(es)){return ss.unbox(es)}}es=((df.$k.get_innerWidth()<df.$k.get_innerHeight())?0:90);return ss.unbox(es)};df.$4=function(){try{return df.$j.orientation}catch(es){}return null};df.$0=function(){df.$i=tab.MiscUtil.clearTimeout(df.$i)};global.spiff.OrientationHandler=df;var dg=function(es,et){var eu=function(ev){React.Component.call(this,ev)};ss.registerGenericClassInstance(eu,dg,[es,et],{render:function(){var ev=_.map(this.props.items,ss.mkdel(this,function(ez,eA){var eB=this.getEventHandleSpecForItem(ez);var eC=['tabListItem'];if(eA%2===1){eC.push('tabListItemAlternate')}var eD={className:eC.join(' '),key:this.getUniqueKey(ez.data)};if(ss.isNullOrUndefined(eB)){return React.DOM.div(eD,this.buildItem(ez.data))}else{return bw.div(eB,eD,[this.buildItem(ez.data)])}}));var ew=new dA;ew.scrollY=true;ew.scrollbars=true;ew.onScrollStop=ss.mkdel(this,this.onScrollStop);ew.alwaysShowScrollbarsIfScrollable=this.shouldScrollbarAlwaysBeShown();ew.startingY=this.props.startingY;var ex=ew;var ey=dz.createScroller(ex,ev);return React.DOM.div({className:'tabPagableList'},ey)},buildItem:null,getUniqueKey:null,onScrollStop:null,getEventHandleSpecForItem:function(ev){return null},shouldScrollbarAlwaysBeShown:function(){return false}},function(){return React.Component},function(){return[]});return eu};dg.__typeName='spiff.PagableListComponent$2';ss.initGenericClass(dg,a,2);global.spiff.PagableListComponent$2=dg;var dh=function(es){this.$1=null;ss.makeGenericType(dg,[Object,dY]).call(this,es)};dh.__typeName='spiff.PagableTableRowList';global.spiff.PagableTableRowList=dh;var di=function(es){this.$6=false;this.$8=null;this.$9=null;this.$7=null;this.$5=null;bI.call(this,es,'pinch',true,2)};di.__typeName='spiff.Pinch';global.spiff.Pinch=di;var dj=function(){ss.makeGenericType(x,[Object]).call(this)};dj.__typeName='spiff.PlainTextCell';dj.createBodyCell=function(es){return React.createElement(dj,es)};global.spiff.PlainTextCell=dj;var dk=function(es){cI.call(this,es,es.get_listItemCreator())};dk.__typeName='spiff.PopupListView';global.spiff.PopupListView=dk;var dl=function(es,et,eu){this.$b=null;cK.call(this,es,eu);this.$b=et};dl.__typeName='spiff.PopupListViewModel';global.spiff.PopupListViewModel=dl;var dm=function(){};dm.__typeName='spiff.PureRender';dm.mixIn=function(es){var et=function(eu,ev){return dm.$0(es,eu,ev)};es['shouldComponentUpdate']=et};dm.$0=function(es,et,eu){var ev=!tab.MiscUtil.shallowEquals(es.props,et)||!tab.MiscUtil.shallowEquals(es.state,eu);if(!ev){}return ev};global.spiff.PureRender=dm;var dn=function(es){React.Component.call(this,es)};dn.__typeName='spiff.PureRenderComponent';dn.$ctor1=function(es,et){React.Component.call(this,es,et)};global.spiff.PureRenderComponent=dn;var dp=function(){};dp.__typeName='spiff.ReactComponentExtensions';dp.generateUniqueKeys=function(es){return function(et,eu){var ev={};for(var ew=0;ew<et.length;++ew){ev[et[ew].toString()]=0}for(var ex=0;ex<eu.length;++ex){ev[eu[ex]]=1}return _.map(et,function(ey){var ez=ey.toString();var eA=ev[ez];if(eA===0){ev[ez]=1;return ez}var eB=null;do eB=[ez,'_',++eA].join('');while(ss.isValue(ev[eB]));ev[ez]=eA;ev[eB]=1;return eB})}};global.spiff.ReactComponentExtensions=dp;var dq=function(){};dq.__typeName='spiff.ReactElement';dq.div$1=function(es,et){return React.DOM.div.apply(null,[{className:es}].concat(et))};dq.div=function(es,et){var eu=(ss.isValue(es)?es.join(' '):null);return React.DOM.div.apply(null,[{className:eu}].concat(et))};dq.span$1=function(es,et){return React.DOM.span.apply(null,[{className:es}].concat(et))};dq.span=function(es,et){var eu=(ss.isValue(es)?es.join(' '):null);return React.DOM.span.apply(null,[{className:eu}].concat(et))};dq.br=function(es){return React.DOM.br({className:es})};global.spiff.ReactElement=dq;var dr=function(es,et,eu){var ev=function(ew){this.$5=ss.getDefaultValue(es);this.$1$1=null;this.$1$2=null;this.set_rootElement($("<div class='tab-ReactView' />"));this.$4(this.get_rootElement().get(0));this.$5=ew;this.$5.add_disposed(ss.mkdel(this,this.$1));this.$5.add_propsUpdated(ss.mkdel(this,this.$0))};ss.registerGenericClassInstance(ev,dr,[es,et,eu],{get_viewModel:function(){return this.$5},get_rootElement:function(){return this.$1$1},set_rootElement:function(ew){this.$1$1=ew},$3:function(){return this.$1$2},$4:function(ew){this.$1$2=ew},addToDom:function(ew){ew.append(this.$3());this.$2(this.$5.get_props())},onAddedToDom:function(){},$0:function(){this.$2(this.$5.get_props())},$2:function(ew){ReactDOM.render(React.createElement(et,ew),this.$3())},dispose:function(){ReactDOM.unmountComponentAtNode(this.$3());this.get_rootElement().remove();this.$5.remove_propsUpdated(ss.mkdel(this,this.$0));this.$5.remove_disposed(ss.mkdel(this,this.$1))},$1:function(ew){this.dispose()},addClass:function(ew){this.get_rootElement().addClass(ew)}},function(){return null},function(){return[ss.IDisposable,tab.IAppendableView,ss.makeGenericType(tab.IView$1,[es])]});ev.$0="<div class='tab-ReactView' />";tab.ObjectRegistry.registerType(ev,ev).call(null);return ev};dr.__typeName='spiff.ReactHostView$3';ss.initGenericClass(dr,a,3);global.spiff.ReactHostView$3=dr;var ds=function(){};ds.__typeName='spiff.ReactRefs';ds.attachDragSource=function(es){var et=null;return function(eu){if(ss.isValue(eu)){et=ReactDOM.findDOMNode(eu);bo.attachDragSource($(et),es())}else{bo.removeDragSource($(et))}}};ds.attachDropTarget=function(es){var et=null;return function(eu){if(ss.isValue(eu)){et=ReactDOM.findDOMNode(eu);bo.attachDropTarget($(et),es())}else{bo.detachDropTarget($(et))}}};global.spiff.ReactRefs=ds;var dt=function(es,et,eu){var ev=function(ew,ex,ey){this.$3$1=null;React.Component.call(this,ex,ey);this.set_widget(ew);this.get_widget().add_propertyChanged(ss.mkdel(this,this.handleWidgetPropertyChanged))};ss.registerGenericClassInstance(ev,dt,[es,et,eu],{get_widget:function(){return this.$3$1},set_widget:function(ew){this.$3$1=ew},render:function(){return React.DOM.div(null,'')},componentDidMount:function(){var ew=$(ReactDOM.findDOMNode(this));this.get_widget().addToDom(ew)},componentWillUnmount:function(){this.get_widget().remove_propertyChanged(ss.mkdel(this,this.handleWidgetPropertyChanged));this.get_widget().dispose()},componentWillReceiveProps:function(ew){this.updateWidgetState(ew)},handleWidgetPropertyChanged:null,updateWidgetState:null},function(){return React.Component},function(){return[]});return ev};dt.__typeName='spiff.ReactSpiffAdapter$3';ss.initGenericClass(dt,a,3);global.spiff.ReactSpiffAdapter$3=dt;var du=function(es,et,eu){this.$5='bottomRight';cZ.call(this,es,et,false);this.$5=eu};du.__typeName='spiff.ResizeDragSource';global.spiff.ResizeDragSource=du;var dv=function(es,et){ss.makeGenericType(v,[dw]).call(this,es,et)};dv.__typeName='spiff.ScrollableView';dv.createScrollableView=function(es){if(es.get_hasCustomIndicator()){return new bd(es)}else{return new bg(es)}};global.spiff.ScrollableView=dv;var dw=function(){this.$3=null;this.$4=null;this.$2$1=null;this.$2$2=null;this.isCenteredVertically=false;w.call(this);this.$0(true)};dw.__typeName='spiff.ScrollableViewModel';dw.$ctor1=function(es){this.$3=null;this.$4=null;this.$2$1=null;this.$2$2=null;this.isCenteredVertically=false;w.call(this);this.$0(es)};global.spiff.ScrollableViewModel=dw;var dx=function(es){var et=function(eu){this.$0=null;this.$1=0;dn.call(this,eu);var ev=new bh;ev.canAccept=function(ew){return ss.isInstanceOfType(ew.get_payload(),es)};ev.onAcceptDrop=ss.mkdel(this,function(ew){window.clearInterval(this.$1);return $.Deferred().resolve(true)});ev.onDragOver=ss.mkdel(this,function(ew,ex){this.props.scrollCallback();window.clearInterval(this.$1);this.$1=window.setInterval(this.props.scrollCallback,100);return ex});ev.onDragExit=ss.mkdel(this,function(ew){window.clearInterval(this.$1)});this.$0=ev};ss.registerGenericClassInstance(et,dx,[es],{render:function(){return React.DOM.div({style:this.props.cssProps,ref:this.props.dropTargetRefConnectorCallback(this.$0)})},componentWillUnmount:function(){window.clearInterval(this.$1)}},function(){return dn},function(){return[]});et.$0=100;return et};dx.__typeName='spiff.ScrollEdgeAreaComponent$1';ss.initGenericClass(dx,a,1);global.spiff.ScrollEdgeAreaComponent$1=dx;var dy=function(){};dy.__typeName='spiff.ScrollerType';global.spiff.ScrollerType=dy;var dz=function(es,et){React.Component.call(this,es,et)};dz.__typeName='spiff.ScrollingComponent';dz.$0=function(es){var et=es.forceScrollerType;if(ss.isNullOrUndefined(et)){et=0}return ss.unbox(et)};dz.createScroller=function(es,et){var eu=dz.$0(es);var ev=dz.$1[eu];if(et.length===1){return React.createElement(ev,es,et[0])}return React.createElement(ev,es,et)};global.spiff.ScrollingComponent=dz;var dA=function(){this.extraCssClass=null;this.customStyle=null;this.forceScrollerType=null;this.scrollX=false;this.scrollY=false;this.scrollbars=true;this.mouseWheel=true;this.alwaysShowScrollbarsIfScrollable=false;this.onScrollStop=null;this.onScroll=null;this.startingY=null;this.augmentedScrollX=true;this.augmentedScrollY=true;this.onScrollingControlRefUpdated=null};dA.__typeName='spiff.ScrollingProps';global.spiff.ScrollingProps=dA;var dB=function(es){ss.makeGenericType(A,[Object]).call(this,es)};dB.__typeName='spiff.SelectableButtonComponent';global.spiff.SelectableButtonComponent=dB;var dC=function(es){React.Component.call(this,es);this.state=this.$1(this.props.selection)};dC.__typeName='spiff.SelectableButtonGroupComponent';dC.getDesiredHeight=function(es){return $('.tab-vScrollable',es).get(0).scrollHeight};dC.getMinimumWidth=function(es){return $('.tab-vScrollable',es).get(0).scrollWidth};global.spiff.SelectableButtonGroupComponent=dC;var dD=function(){this.disabled=false;this.label=null;this.tooltip=null;this.getCustomContentBefore=null;this.getCustomContentAfter=null;this.testId=null};dD.__typeName='spiff.SelectableButtonGroupItem';global.spiff.SelectableButtonGroupItem=dD;var dE=function(){this.$7=null;this.$9=null;this.$a=0;this.$8='tabSelected';this.$1$1=null;this.$7=[];this.$9={}};dE.__typeName='spiff.SelectableGroup';global.spiff.SelectableGroup=dE;var dF=function(es,et,eu){this.$1=false;this.$2=false;this.$0=false;ss.CancelEventArgs.call(this);this.$1=es;this.$2=et;this.$0=eu};dF.__typeName='spiff.SelectionEventArgs';global.spiff.SelectionEventArgs=dF;var dG=function(){};dG.__typeName='spiff.SelectionMethod';global.spiff.SelectionMethod=dG;var dH=function(){this.$0=null;this.$0=dT.createEmpty()};dH.__typeName='spiff.SharedWidgetsPointerEventAdapter';global.spiff.SharedWidgetsPointerEventAdapter=dH;var dI=function(es,et){this.relativeDom=null;this.preferUp=false;this.preferLeft=false;this.expanded=false;this.additionalMenuClass=null;this.cursorPosition=null;this.$1$1=0;this.relativeDom=es;this.set_minWidth((et?tab.DoubleUtil.roundToInt(es.outerWidth()):0))};dI.__typeName='spiff.ShowMenuOptions';global.spiff.ShowMenuOptions=dI;var dJ=function(es){bM.call(this,es)};dJ.__typeName='spiff.SingleSelectGroupSelection';dJ.buildSingleSelectGroupSelection$1=function(es){return function(et,eu){var ev=new dJ(et.length);var ew=et.length;if(ew===0){}for(var ex=0;ex<ew;++ex){if(eu(et[ex])){ev.get_selectedIndexes()[ex]=true}}ev.validateAllSelectedState();return ev}};dJ.buildSingleSelectGroupSelection=function(es){return function(et,eu){var ev=new dJ(et.length);if(eu){ev.handleTapAll()}return ev}};global.spiff.SingleSelectGroupSelection=dJ;var dK=function(es,et){this.$0=null;this.$1=null;this.$0=es;this.$1=et};dK.__typeName='spiff.SpiffBrowserViewport';dK.getViewport=function(es){if(!ss.staticEquals(dK.getSpiffBrowserViewportFunc,null)){dK.getSpiffBrowserViewportFunc(es)}else{es(new dK(null,null))}};global.spiff.SpiffBrowserViewport=dK;var dL=function(es,et){this.$5=null;this.$6=null;React.Component.call(this,es,et);this.$5=ss.mkdel(this,function(eu){this.$6=eu})};dL.__typeName='spiff.StatelessDropdownComponent';global.spiff.StatelessDropdownComponent=dL;var dM=function(es){this.$j=null;this.$i=null;this.$h=false;dn.call(this,es)};dM.__typeName='spiff.StatelessHorizontalSliderComponent';dM.create=function(es){return React.createElement(dM,es)};global.spiff.StatelessHorizontalSliderComponent=dM;var dN=function(es){cz.call(this,dN.$0(es),'.tab-styled-button-middle');this.set_focusClass('tab-focus');this.set_disabledClass('tab-disabled')};dN.__typeName='spiff.StyledButton';dN.createStyledButton=function(es,et,eu,ev){var ew=new dN(eu);ew.set_label(et);ew.add_click(es);ew.disposables.add$1(new tab.CallOnDispose(function(){ew.remove_click(es)}));if(ss.isValue(ev)){ew.tabIndex(ss.unbox(ev))}return ew};dN.$0=function(es){return $('<span>').addClass('tab-styled-button').addClass(es).append($('<span>').addClass('tab-styled-button-left')).append($('<span>').addClass('tab-styled-button-middle')).append($('<span>').addClass('tab-styled-button-right'))};global.spiff.StyledButton=dN;var dO=function(es,et){ss.makeGenericType(dt,[cz,Object,Object]).call(this,dP.createUnificationLabelButton(es.clickHandler,es.label,es.buttonClass,ss.coalesce(es.buttonStyle,0),es.tabIndex),es,et);this.get_widget().set_disabled(ss.coalesce(es.disabled,false));this.get_widget().set_hoverTooltipText(es.tooltipText)};dO.__typeName='spiff.StyledButtonComponent';global.spiff.StyledButtonComponent=dO;var dP=function(){};dP.__typeName='spiff.StyledTextButton';dP.createUnificationLabelButton=function(es,et,eu,ev,ew){var ex=dP.$0(es,et,eu,1,ew);var ey;switch(ev){case 0:{ey='tabStyledTextButtonFilledGreen';break}case 1:{ey='tabStyledTextButtonFilledRed';break}case 2:{ey='tabStyledTextButtonFilledGrey';break}case 3:{ey='tabStyledTextButtonOutline';break}default:{ey='';break}}ex.addClass(ey);return ex};dP.createUnificationIconTextButton=function(es,et,eu){var ev=new cz($("<span class='tabTextIconButton'><span class='icon'/><span class='label hide'/></span>"),'.label');if(!ss.staticEquals(es,null)){ev.onClick(function(ew){es()})}if(!ss.isNullOrEmptyString(et)){ev.set_label(et)}if(!ss.isNullOrEmptyString(eu)){ev.addClass(eu)}return ev};dP.createActionButton=function(es,et,eu,ev,ew){var ex=dP.$0(es,et,eu,ev,ew);ex.addClass('tabStyledTextButtonAction');return ex};dP.$0=function(es,et,eu,ev,ew){var ex=cz.newTextButton(es,et);ex.addClass('tabStyledTextButton');switch(ev){case 2:{ex.addClass('tabLargeStyledTextButton');break}case 1:{ex.addClass('tabMediumStyledTextButton');break}}ex.addClass(eu);if(ss.isValue(ew)){ex.tabIndex(ss.unbox(ew))}return ex};global.spiff.StyledTextButton=dP;var dQ=function(es){this.$1=new dE;this.$5=null;this.$3={};this.$2=new tab.DisposableHolder;this.$4=null;this.$1$1=null;if(ss.isNullOrUndefined(es)){es=new n}this.$5=es};dQ.__typeName='spiff.TabControl';global.spiff.TabControl=dQ;var dR=function(es,et){this.eventConfig=null;this.handler=null;this.$1=new tab.DisposableHolder;this.$2=0;this.$3=0;this.$4=true;this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$1$4=null;this.eventConfig=et||{};by.setHandler(this.eventConfig,'firstTouch',ss.mkdel(this,this.handlePressEvent));by.setHandler(this.eventConfig,'tap',ss.mkdel(this,this.handleClickEvent));by.setHandler(this.eventConfig,'rightClick',ss.mkdel(this,this.handleRightClickEvent));this.handler=new dS.$ctor1(es,this.eventConfig)};dR.__typeName='spiff.TableauClickHandler';dR.target=function(es){return new dR(es,null)};dR.targetAndConfig=function(es,et){return new dR(es,et)};dR.targetAndClick=function(es,et){return(new dR(es,null)).onClick(et)};dR.targetAndPress=function(es,et){return(new dR(es,null)).onPress(et)};dR.targetAndRightClick=function(es,et){return(new dR(es,null)).onRightClick(et)};dR.targetAndDoubleClick=function(es,et){return(new dR(es,null)).onDoubleClick(et)};global.spiff.TableauClickHandler=dR;var dS=function(){this.config=null;this.$2=null;this.$3=null};dS.__typeName='spiff.TableauEventHandler';dS.$ctor1=function(es,et){this.config=null;this.$2=null;this.$3=null;this.config=et||{};this.config.domElem=es;this.configureDomElem(es);this.setupEventRecognizer(this.config);this.$0(es)};dS.$0=function(es,et){return es[et]};global.spiff.TableauEventHandler=dS;var dT=function(){this.$2$1=null;dS.call(this);this.set_eventHandlingAttributesForReact(this.$4())};dT.__typeName='spiff.TableauEventHandlerForReact';dT.createEmpty=function(){return new dT};dT.$0=function(es){if(ss.isNullOrUndefined(dT.$1)){dT.$1={};dT.$1['touchstart']='onTouchStart';dT.$1['touchmove']='onTouchMove';dT.$1['touchend']='onTouchEnd';dT.$1['touchcancel']='onTouchCancel';dT.$1['mousedown']='onMouseDown';dT.$1['mousemove']='onMouseMove';dT.$1['mouseup']='onMouseUp';dT.$1['mouseout']='onMouseOut';dT.$1['scroll']='onScroll';dT.$1['contextmenu']='onContextMenu'}return dT.$1[es]};global.spiff.TableauEventHandlerForReact=dT;var dU=function(){this.$3={indexOfFirstVisibleSection:0,indexOfLastVisibleSection:0};React.Component.call(this)};dU.__typeName='spiff.TableBody';dU.createTableBody=function(es){return React.createElement(dU,es)};global.spiff.TableBody=dU;var dV=function(){this.name=null;this.dataKey=null;this.text=null;this.tooltip=null;this.defaultSortDirection=0;this.resizable=false;this.sortable=false;this.growToFit=false;this.preferredWidth=null;this.preferredCellType=1};dV.__typeName='spiff.TableColumn';global.spiff.TableColumn=dV;var dW=function(){};dW.__typeName='spiff.TableColumnSort';global.spiff.TableColumnSort=dW;var dX=function(){this.$b=null;this.$a=null;this.$7=0;this.$9=null;this.$8=null;this.$c=null;this.$6=null;React.Component.call(this);this.$9=ss.mkdel(this,this.$3);this.$8=ss.mkdel(this,this.$2);this.$c=ss.mkdel(this,this.$5);this.$6=ss.mkdel(this,this.$0)};dX.__typeName='spiff.TableComponent';dX.createTable=function(es){return React.createElement(dX,es)};global.spiff.TableComponent=dX;var dY=function(){this.key=null;this.data=null};dY.__typeName='spiff.TableRow';global.spiff.TableRow=dY;var dZ=function(es){this.disposables=new tab.DisposableHolder;this.domRoot=null;this.domRoot=es};dZ.__typeName='spiff.Template';dZ.fromHtml=function(es){return new dZ($(es))};global.spiff.Template=dZ;var ea=function(es,et){dn.$ctor1.call(this,es,et)};ea.__typeName='spiff.TextDropdownButtonComponent';global.spiff.TextDropdownButtonComponent=ea;var eb=function(es,et,eu,ev,ew){this.$5=null;this.$6=null;this.$4=false;this.$2$1=null;this.$2$2=null;er.call(this,es.get_domRootElement());this.$5=es;this.$6=et;this.$5.get_inputElement().val(this.$6);this.$5.get_inputElement().attr('placeholder',eu);this.$5.get_inputElement().attr('title',eu);if(ss.isValue(ev)){var ex='textinput-'+this.get_instanceId();es.get_inputElement().attr('id',ex);es.get_inputElement().before($(ss.formatString("<label for='{0}'>{1}</label>",ex,ev)))}if(ew){es.get_inputElement().attr('readonly','readonly')}this.$5.get_inputElement().on('compositionstart compositionupdate',ss.mkdel(this,function(ey){this.$4=true})).on('compositionend',ss.mkdel(this,function(ey){this.$4=false})).on('keydown',ss.mkdel(this,this.$3)).on('input',ss.mkdel(this,this.$2))};eb.__typeName='spiff.TextInputView';eb.newTextInputView=function(es,et,eu,ev){var ew=new m;return new eb(ew,es,et,eu,ev)};global.spiff.TextInputView=eb;var ec=function(es,et){this.$c=null;this.$d=null;this.$3$1=null;this.$3$2=null;this.$3$3=null;this.$3$4=false;z.call(this,es);this.$d=ec.$0();this.$c=ss.coalesce(et,'selected')};ec.__typeName='spiff.ToggleButton';ec.createButton=function(es,et,eu){var ev=new ec(es,et);ev.set_selected(eu.get_toggleValue());var ew=function(ex,ey){if(ey.get_propertyName()==='selected'){eu.raiseToggled()}};ev.add_propertyChanged(ew);ev.disposables.add$1(new tab.CallOnDispose(function(){ev.remove_propertyChanged(ew)}));return ev};ec.$0=function(){ec.$1++;return'toggleBtn-'+ec.$1.toString()};global.spiff.ToggleButton=ec;var ed=function(es,et){this.$0=false;this.$2$1=null;this.$2$2=null;w.call(this);this.$0=et;this.set_data({});this.add_toggled(es);this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_toggled(es)})))};ed.__typeName='spiff.ToggleButtonViewModel';global.spiff.ToggleButtonViewModel=ed;var ee=function(){};ee.__typeName='spiff.UberPopupHorizontalAlign';global.spiff.UberPopupHorizontalAlign=ee;var ef=function(){};ef.__typeName='spiff.UberPopupHorizontalAttach';global.spiff.UberPopupHorizontalAttach=ef;var eg=function(){};eg.__typeName='spiff.UberPopupMode';global.spiff.UberPopupMode=eg;var eh=function(){this.horizontalAlign=0;this.horizontalAttach=0;this.theme=0;this.preferUp=false;this.coverRelativeElement=false;this.limitPopupHeight=false;this.maxPopupHeight=null;this.additionalClassNames=null;this.isToolbarFlyout=false;this.isBeingPositionedRelativeToASharedDialogWidget=false;this.focusOnShown=true;this.popupMode=0;this.globalTouchWhitelist=null;this.glassZIndex=eh.startingGlassZIndex;this.useCaret=false};eh.__typeName='spiff.UberPopupShowOptions';eh.$ctor1=function(es,et,eu,ev,ew,ex,ey,ez,eA,eB,eC,eD,eE){this.horizontalAlign=0;this.horizontalAttach=0;this.theme=0;this.preferUp=false;this.coverRelativeElement=false;this.limitPopupHeight=false;this.maxPopupHeight=null;this.additionalClassNames=null;this.isToolbarFlyout=false;this.isBeingPositionedRelativeToASharedDialogWidget=false;this.focusOnShown=true;this.popupMode=0;this.globalTouchWhitelist=null;this.glassZIndex=eh.startingGlassZIndex;this.useCaret=false;this.horizontalAlign=es;this.horizontalAttach=et;this.theme=eu;this.preferUp=ev;this.coverRelativeElement=ew;this.limitPopupHeight=ex;this.maxPopupHeight=ey;this.additionalClassNames=ez;this.isToolbarFlyout=eA;this.popupMode=eB;this.globalTouchWhitelist=eC;this.glassZIndex=eD;this.focusOnShown=eE};global.spiff.UberPopupShowOptions=eh;var ei=function(){this.content=null;this.caret=null;this.caretBorder=null;dZ.call(this,$("<div class='tabUberPopup'><div class='tabUberPopupContent'/><div class='tabUberArrow'/><div class='tabUberArrow2'/></div>"));this.content=this.getElementBySelector('.tabUberPopupContent');this.caret=this.getElementBySelector('.tabUberArrow');this.caretBorder=this.getElementBySelector('.tabUberArrow2');this.caret.hide();this.caretBorder.hide()};ei.__typeName='spiff.UberPopupTemplate';global.spiff.UberPopupTemplate=ei;var ej=function(){};ej.__typeName='spiff.UberPopupTheme';global.spiff.UberPopupTheme=ej;var ek=function(es,et){this.popupViewModel=null;this.glass=null;this.contentView=null;this.visible=false;ss.makeGenericType(v,[el]).call(this,es,et);this.popupViewModel=es;this.popupViewModel.add_shown(ss.mkdel(this,this.shown));this.popupViewModel.add_hidden(ss.mkdel(this,this.hidden));this.$6()};ek.__typeName='spiff.UberPopupView';global.spiff.UberPopupView=ek;var el=function(es){this.$0=null;this.$1=null;this.options=new eh;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;w.call(this);this.$1=es;this.set_resizeContent(function(){});this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_hidden(ss.mkdel(this,this.dispose))})))};el.__typeName='spiff.UberPopupViewModel';el.$ctor1=function(es){el.call(this,function(){return es})};el.createForContent=function(es,et,eu,ev){var ew=new el(et);if(!ss.staticEquals(eu,null)){ew.add_hidden(eu);ew.addDisposables(new tab.CallOnDispose(function(){ew.remove_hidden(eu)}))}ew.set_content(es);ew.set_disposeOnHide(true);tab.ObjectRegistry.newView(ek).call(null,[ew]);if(ev){ew.disposables.add$1(new tab.CallOnDispose(function(){es.disposeViewModel()}))}return ew};el.createForContent$1=function(es,et,eu,ev){return el.createForContent(es,function(){return et},eu,ev)};el.createForContentUsingCaretStyle=function(es,et,eu,ev,ew){var ex=el.createForContent(es,function(){return et},ev,ew);ex.set_mode(2);var ey=new eh;ey.popupMode=2;ey.preferUp=true;ey.additionalClassNames=['tabUberCaretStyle',eu];ey.horizontalAttach=0;ey.horizontalAlign=1;ey.useCaret=true;ex.options=ey;return ex};global.spiff.UberPopupViewModel=el;var em=function(){};em.__typeName='spiff.UnificationClassNames';global.spiff.UnificationClassNames=em;var en=function(){cU.call(this);this.menuClass='tabMenuUnificationTheme dark';this.itemClass='tabMenuItemUnificationTheme';this.dividerClass='tabMenuItemDividerUnificationTheme'};en.__typeName='spiff.UnificationDarkMenuTheme';global.spiff.UnificationDarkMenuTheme=en;var eo=function(){cU.call(this);this.menuClass='tabMenuUnificationTheme light';this.itemClass='tabMenuItemUnificationTheme';this.dividerClass='tabMenuItemDividerUnificationTheme'};eo.__typeName='spiff.UnificationLightMenuTheme';global.spiff.UnificationLightMenuTheme=eo;var ep=function(es,et){this.$b=null;React.Component.call(this,es,et);this.state=ep.$0(this.props.initialValue)};ep.__typeName='spiff.VerticalSpinnerComponent';ep.$0=function(es){return{value:es,pendingValue:es,displayValue:es.toString()}};global.spiff.VerticalSpinnerComponent=ep;var eq=function(){this.styleClass='tab-outline-spinner';this.extraCssClass=null;this.label=null;this.initialValue=0;this.maxValue=null;this.minValue=null;this.maxLength=16;this.stepSize=1;this.disabled=false;this.disabledText=null;this.onValueChanged=null;this.actionDelay=0};eq.__typeName='spiff.VerticalSpinnerProps';global.spiff.VerticalSpinnerProps=eq;var er=function(es){this.disposables=new tab.DisposableHolder;this.$0=0;this.$1=null;this.$1$1=null;this.$1$2=null;this.element=null;this.addedToDom=false;tab.Param.verifyValue(es,'element');this.element=es;es.addClass('tab-widget');es.data('widgetInstance',this);er.$3++;this.$0=er.$3};er.__typeName='spiff.Widget';er.enableTextSelectionOnElement=function(es){es.removeClass('tab-unselectable');es.addClass(er.selectableNodeClass);es.off('.tab-disableSelection')};er.disableTextSelectionOnElement=function(es){if(tab.BrowserSupport.get_isIE()){return}if(tab.BrowserSupport.get_isMobile()){return}es.removeClass(er.selectableNodeClass);es.addClass('tab-unselectable');if(tab.BrowserSupport.get_selectStart()){var et='selectstart'+'.tab-disableSelection';es.on(et,function(eu){if(tab.DomUtil.isFocusableTextElement(eu.target)){return}eu.preventDefault()})}};er.findWidget=function(es,et){tab.Param.verifyValue(es,'element');var eu=es;var ev;et=et||er;do{ev=eu.data('widgetInstance');if(ss.isValue(ev)&&!ss.isAssignableFrom(et,ss.getInstanceType(ev))){ev=null}eu=eu.parent('.tab-widget')}while(ss.isNullOrUndefined(ev)&&!eu.is('body')&&eu.length>0);return(ss.isNullOrUndefined(ev)?null:ev)};er.getWidgets=function(es,et){var eu=[];et=et||er;var ev;es.each(function(ew,ex){ev=$(ex).data('widgetInstance');if(ss.isValue(ev)&&ss.isAssignableFrom(et,ss.getInstanceType(ev))){eu.push(ev)}});return eu};global.spiff.Widget=er;ss.initClass(dz,a,{get_scrollingControl:null,componentDidMount:null,componentWillUnmount:null,render:null},React.Component);ss.initClass(b,a,{get_scrollingControl:function(){var es=this.refs['iscroll-component'];if(ss.isValue(es)&&ss.isValue(es.iScroll)){return new c(es.iScroll)}return null},componentDidMount:function(){if(!ss.staticEquals(this.props.onScrollingControlRefUpdated,null)){this.props.onScrollingControlRefUpdated(this.get_scrollingControl())}},componentWillUnmount:function(){if(!ss.staticEquals(this.props.onScrollingControlRefUpdated,null)){this.props.onScrollingControlRefUpdated(null)}},render:function(){var es=b.$0(this.props);return React.createElement(co,es,this.props.children)}},dz);ss.initInterface(cq,a,{get_x:null,get_y:null,get_maxScrollX:null,get_maxScrollY:null,get_canScroll:null,scrollBy:null,scrollTo:null,scrollToElement:null,destroy:null,resetPosition:null,refresh:null,handleEvent:null});ss.initClass(c,a,{get_x:function(){return this.$1.x},get_y:function(){return-this.$1.y},get_maxScrollX:function(){return this.$1.maxScrollX},get_maxScrollY:function(){return-this.$1.maxScrollY},get_canScroll:function(){return this.$1.hasHorizontalScroll||this.$1.hasVerticalScroll},scrollBy:function(es,et){this.$0(ss.mkdel(this,function(){this.$1.scrollBy(-es,-et,0,null)}))},scrollTo:function(es,et){this.$0(ss.mkdel(this,function(){this.$1.scrollTo(-es,-et,0,null)}))},scrollToElement:function(es,et,eu){this.$0(ss.mkdel(this,function(){this.$1.scrollToElement(es,0,et,eu)}))},destroy:function(){this.$1.destroy()},resetPosition:function(){this.$1.resetPosition()},refresh:function(){this.$1.refresh()},handleEvent:function(es){this.$1.handleEvent(es)},$0:function(es){window.setTimeout(ss.mkdel(this,function(){this.$1.refresh();es()}),0)}},null,[cq]);ss.initClass(dZ,a,{getElementsBySelector:function(es){return this.domRoot.find(es)},getElementBySelector:function(es){var et=this.getElementsBySelector(es);return et},dispose:function(){this.disposables.dispose();this.domRoot.remove()},addDisposable:function(es){if(ss.isValue(es)){this.disposables.add$1(es)}}},null,[ss.IDisposable]);ss.initClass(d,a,{},dZ,[ss.IDisposable]);ss.initInterface(ci,a,{get_scrollViewPagePosition:null,get_scrollViewSize:null,scrollToElement:null});ss.initClass(e,a,{get_scrollViewPagePosition:function(){return tab.DomUtil.getElementPosition(this.$0.element)},get_scrollViewSize:function(){return{w:tab.DoubleUtil.roundToInt(this.$0.element.outerWidth()),h:tab.DoubleUtil.roundToInt(this.$0.element.outerHeight())}},scrollToElement:function(es,et){var eu=es.offsetTop;var ev=eu+es.offsetHeight;var ew=this.$0.get_scrollerY();var ex=ew+tab.DoubleUtil.roundToInt(this.$0.element.height());if(eu<ew){var ey=((eu<=et)?0:eu);this.$0.scrollTo(this.$0.get_scrollerX(),ey,0,null)}else if(ev>ex){this.$0.scrollTo(this.$0.get_scrollerX(),ew+ev-ex,0,null)}}},null,[ci]);ss.initClass(f,a,{get_scrollViewPagePosition:function(){return tab.DomUtil.getElementPosition(this.$0)},get_scrollViewSize:function(){return{w:this.$0[0].offsetWidth,h:this.$0[0].offsetHeight}},scrollToElement:function(es,et){var eu=es.offsetTop;var ev=eu+es.offsetHeight;var ew=tab.DoubleUtil.roundToInt(this.$0.scrollTop());var ex=ew+this.$0[0].offsetHeight;if(eu<ew){var ey=((eu<=et)?0:eu);this.$0.scrollTop(ey)}else if(ev>ex){this.$0.scrollTop(ew+ev-ex)}}},null,[ci]);ss.initClass(g,a,{refresh:function(){IScroll.prototype.refresh.call(this);if(this.$0){var es=$(this.$2).find('.iScrollHorizontalScrollbar');es.toggleClass('noScroll',!this.hasHorizontalScroll)}if(this.$1){var et=$(this.$2).find('.iScrollVerticalScrollbar');et.toggleClass('noScroll',!this.hasVerticalScroll)}}},IScroll);ss.initClass(h,a,{});ss.initClass(i,a,{});ss.initClass(j,a,{$7:function(){return this.$9||(this.$9=this.getElementBySelector('.tabMenuItemNameArea'))}},dZ,[ss.IDisposable]);ss.initClass(k,a,{$2:function(es,et){switch(es){case 1:{this.$6.$4=$("<div class='tabMenuItemIcon tabMenuItemCheckIcon'/>");this.$6.domRoot.attr('role','menuitemcheckbox').attr('aria-checked','true').prepend(this.$6.$4);this.$6.$2=true;break}case 2:{this.$6.$4=$("<div class='tabMenuItemIcon tabMenuItemRadioIcon'/>");this.$6.domRoot.attr('role','menuitemcheckbox').attr('aria-checked','true').prepend(this.$6.$4);this.$6.$2=true;break}default:{if(es===0&&!ss.isNullOrEmptyString(et)){this.$6.$4=$(ss.formatString("<div class='tabMenuItemIcon {0}'/>",et));this.$6.domRoot.prepend(this.$6.$4);this.$6.$2=true}break}}return this},$3:function(es){if(ss.isNullOrEmptyString(es)){return this}this.$6.$5=$(ss.formatString("<span class='tabMenuItemIconTwo {0}'/>",es));this.$6.$7().append(this.$6.$5);this.$6.$3=true;return this},$1:function(es){if(ss.isNullOrEmptyString(es)){return this}this.$6.$0=$("<div class='tabMenuItemDesc'/>");this.$6.$0.text(es);this.$6.$7().append(this.$6.$0);this.$6.$1=true;return this},$4:function(es){if(ss.isNullOrUndefined(es)){return this}this.$6.$8=$("<div class='tabMenuItemSubMenuIcon'/>");this.$6.domRoot.append(this.$6.$8);return this},$5:function(es){for(var et=0;et<es.length;et++){var eu=es[et];if(ss.isValue(eu)){this.$6.domRoot.addClass(eu)}}return this},$0:function(){var es=this.$6;this.$6=null;return es},dispose:function(){this.$6.dispose()}},null,[ss.IDisposable]);ss.initInterface(cw,a,{get_domRootElement:null,get_inputElement:null});ss.initClass(l,a,{get_domRootElement:function(){return this.domRoot},$0:function(){return this.$3},get_inputElement:function(){return this.$2},$1:function(){return this.$4}},dZ,[ss.IDisposable,cw]);ss.initClass(m,a,{get_domRootElement:function(){return this.domRoot},get_inputElement:function(){return this.$0}},dZ,[ss.IDisposable,cw]);ss.initInterface(cv,a,{get_root:null,get_tabs:null,get_contentArea:null,createTabLabel:null});ss.initClass(n,a,{get_root:function(){return this.domRoot},get_tabs:function(){return this.$1},get_contentArea:function(){return this.$0},createTabLabel:function(es,et){return new d}},dZ,[ss.IDisposable,cv]);ss.initEnum(o,a,{_blank:'_blank',_self:'_self',_top:'_top'},true);ss.initClass(p,a,{});ss.initClass(q,a,{});ss.initClass(dn,a,{render:null,shouldComponentUpdate:function(es,et){return dm.$0(this,es,et)}},React.Component);dn.$ctor1.prototype=dn.prototype;ss.initClass(r,a,{render:function(){return React.DOM.div({className:'tab-ArrowDropdownButton'},React.DOM.div({className:'arrow down'}))}},dn);ss.initClass(w,a,{add_disposed:function(es){this.$1$1=ss.delegateCombine(this.$1$1,es)},remove_disposed:function(es){this.$1$1=ss.delegateRemove(this.$1$1,es)},add_propertyChanged:function(es){this.$1$2=ss.delegateCombine(this.$1$2,es)},remove_propertyChanged:function(es){this.$1$2=ss.delegateRemove(this.$1$2,es)},dispose:function(){if(ss.isValue(this.$1$1)){this.$1$1(this);this.$1$1=null}this.$1$2=null;this.disposables.dispose()},notifyPropertyChanged:function(es){if(!ss.staticEquals(this.$1$2,null)){this.$1$2(this,new tab.PropertyChangedEventArgs(es))}},raiseEvent:function(es,et){if(ss.isValue(es)){es(this,et||ss.EventArgs.Empty)}},raiseActionEvent$1:function(es){return function(et,eu){if(ss.isValue(et)){et(eu)}}},raiseActionEvent:function(es){if(ss.isValue(es)){es()}}},null,[ss.IDisposable,tab.IViewModel]);ss.initClass(er,a,{add_disposed:function(es){this.$1$1=ss.delegateCombine(this.$1$1,es)},remove_disposed:function(es){this.$1$1=ss.delegateRemove(this.$1$1,es)},add_propertyChanged:function(es){this.$1$2=ss.delegateCombine(this.$1$2,es)},remove_propertyChanged:function(es){this.$1$2=ss.delegateRemove(this.$1$2,es)},get_name:function(){return ss.getTypeFullName(ss.getInstanceType(this))},get_instanceId:function(){return this.$0},get_eventNamespace:function(){return ss.formatString('.{0}_{1}',this.$0,ss.replaceAllString(ss.getTypeFullName(ss.getInstanceType(this)),'.','_'))},get_widgetId:function(){return this.$1},set_widgetId:function(es){if(!ss.isNullOrEmptyString(this.$1)&&tab.StyleUtil.isValidCssClassName(this.$1)){this.element.removeClass(this.$1)}this.$1=es;if(!ss.isNullOrEmptyString(this.$1)&&tab.StyleUtil.isValidCssClassName(this.$1)){this.element.addClass(this.$1)}},get_hoverTooltipText:function(){return this.element.attr('title')},set_hoverTooltipText:function(es){tab.DomUtil.setNativeTooltip(this.element,es)},enableTextSelection:function(){er.enableTextSelectionOnElement(this.element);return this},disableTextSelection:function(){er.disableTextSelectionOnElement(this.element);return this},dispose:function(){this.disposables.dispose();this.element.removeData('widgetInstance');this.element.remove();this.onDisposed(ss.EventArgs.Empty)},toString:function(){return this.get_name()},raisePropertyChanged:function(es){if(ss.isValue(this.$1$2)){this.$1$2(this,new tab.PropertyChangedEventArgs(es))}},createNamespacedEventName:function(es){return es+this.get_eventNamespace()},stopPropogationOfInputEvents:function(){tab.DomUtil.stopPropagationOfInputEvents(this.element,this.get_eventNamespace())},handleInputEvents:function(es){tab.DomUtil.handleInputEvents(this.element,this.get_eventNamespace(),es)},onDisposed:function(es){if(ss.isValue(this.$1$1)){this.$1$1(this,ss.EventArgs.Empty)}},addToDom:function(es){es.append(this.element);this.onAddedToDom()},prependToDom:function(es){es.prepend(this.element);this.onAddedToDom()},onAddedToDom:function(){this.addedToDom=true},addClass:function(es){this.element.addClass(es)}},null,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(y,a,{shouldComponentUpdate:function(es,et){return!ss.staticEquals(this.props,es)||!ss.staticEquals(this.state,et)},render:function(){var es=this.props.row;var et=this.props.colWidths;var eu=[];eu.push('tab-table-brow');if(this.props.showGridLines){eu.push('tab-table-brow-gridline')}if(this.props.isSelected){eu.push(y.$1)}var ev=(ss.isValue(es)?_.map(this.props.cols,ss.mkdel(this,function(ey,ez){var eA={key:ez,col:ey,row:es,val:es.data[ey.dataKey],cssWidth:(ss.isValue(et)?(et.widths[ey.name]+'px'):'auto'),reportWidth:this.props.handleReportCellWidth,isSelected:this.props.isSelected,onClick:this.props.onClick,onRightClick:this.props.onRightClick};var eB;switch(ey.preferredCellType){case 1:{eB=dj.createBodyCell(eA);break}case 0:{eB=dd.createBodyCell(eA);break}case 2:{eB=cj.createBodyCell(eA);break}default:{throw new ss.NotImplementedException('Unexpected cell type')}}return eB})):null);var ew={className:eu.join(' '),style:{height:y.innerHeight,whiteSpace:'nowrap'}};var ex={};return bw.div(ex,{ref:'bodyRow'},[React.DOM.div(ew,ev)])}},React.Component);ss.initClass(z,a,{add_press:function(es){this.$2$1=ss.delegateCombine(this.$2$1,es)},remove_press:function(es){this.$2$1=ss.delegateRemove(this.$2$1,es)},add_click:function(es){this.$2$2=ss.delegateCombine(this.$2$2,es)},remove_click:function(es){this.$2$2=ss.delegateRemove(this.$2$2,es)},add_shiftClick:function(es){this.$2$3=ss.delegateCombine(this.$2$3,es)},remove_shiftClick:function(es){this.$2$3=ss.delegateRemove(this.$2$3,es)},add_ctrlClick:function(es){this.$2$4=ss.delegateCombine(this.$2$4,es)},remove_ctrlClick:function(es){this.$2$4=ss.delegateRemove(this.$2$4,es)},add_hover:function(es){this.$2$5=ss.delegateCombine(this.$2$5,es)},remove_hover:function(es){this.$2$5=ss.delegateRemove(this.$2$5,es)},add_mouseEnter:function(es){this.$2$6=ss.delegateCombine(this.$2$6,es)},remove_mouseEnter:function(es){this.$2$6=ss.delegateRemove(this.$2$6,es)},add_mouseLeave:function(es){this.$2$7=ss.delegateCombine(this.$2$7,es)},remove_mouseLeave:function(es){this.$2$7=ss.delegateRemove(this.$2$7,es)},$9:function(es){this.$2$8=ss.delegateCombine(this.$2$8,es)},$a:function(es){this.$2$8=ss.delegateRemove(this.$2$8,es)},get_disabled:function(){return this.element.prop('disabled')},set_disabled:function(es){this.element.prop('disabled',es);this.element.toggleClass(this.$5,es);if(es){this.element.removeClass(this.$7)}},get_hoverClass:function(){return this.$7},set_hoverClass:function(es){this.$7=es},get_focusClass:function(){return this.$6},set_focusClass:function(es){this.$6=es},get_disabledClass:function(){return this.$5},set_disabledClass:function(es){this.$5=es},get_context:function(){return this.$4},set_context:function(es){this.$4=es},get_tableauClickHandler:function(){return this.$8},tabIndex:function(es){this.element.attr('tabindex',es.toString());return this},onClick:function(es){var et=ss.mkdel(this,function(){es(this)});this.add_click(et);return new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_click(et)}))},onDoubleClick:function(es){this.$8.onDoubleClick(ss.mkdel(this,this.handleDoubleClick));var et=ss.mkdel(this,function(){es(this)});this.$9(et);return new tab.CallOnDispose(ss.mkdel(this,function(){this.$a(et)}))},onShiftClick:function(es){var et=ss.mkdel(this,function(){es(this)});this.add_shiftClick(et);return new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_shiftClick(et)}))},onMouseEnter:function(es){var et=ss.mkdel(this,function(){es(this)});this.add_mouseEnter(et);return new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_mouseEnter(et)}))},onMouseMove:function(es){var et=ss.mkdel(this,function(){es(this)});this.add_hover(et);return new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_hover(et)}))},onMouseLeave:function(es){var et=ss.mkdel(this,function(){es(this)});this.add_mouseLeave(et);return new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_mouseLeave(et)}))},$2:function(){this.element.focusin(ss.mkdel(this,this.handleFocusIn)).focusout(ss.mkdel(this,this.handleFocusOut)).keypress(ss.mkdel(this,this.$3));this.disposables.add$1(bC.bindWithDispose(this.element,'mouseenter',ss.mkdel(this,this.handleMouseEnter)));var es={};es.hoverDelay=0;by.setHandler(es,'mouseleave',ss.mkdel(this,this.handleMouseLeave));by.setHandler(es,'hover',ss.mkdel(this,this.handleHover));this.$8=dR.targetAndConfig(this.element.get(0),es).onClick(ss.mkdel(this,this.handleClick)).onPress(ss.mkdel(this,this.handlePress));this.disposables.add$1(this.$8)},raiseEvent:function(es){if(ss.isValue(es)){es()}},$3:function(es){if(es.which===13){bC.stopEvent(es);this.handleClick(null)}if(es.which===32){bC.stopEvent(es);this.handleClick(null)}},handleFocusOut:function(es){this.element.removeClass(this.$6)},handleFocusIn:function(es){this.element.addClass(this.$6)},handleHover:function(){if(!this.get_disabled()){this.element.addClass(this.$7)}this.raiseEvent(this.$2$5)},handleMouseEnter:function(es){this.raiseEvent(this.$2$6)},handleMouseLeave:function(){this.element.removeClass(this.$7);this.raiseEvent(this.$2$7)},handleClick:function(es){if(this.get_disabled()){return}if(ss.isValue(this.$2$3)&&ss.isValue(es)&&es.shiftKey){this.raiseEvent(this.$2$3)}else if(ss.isValue(this.$2$4)&&bC.isCtrlKey(es)){this.raiseEvent(this.$2$4)}else{this.raiseEvent(this.$2$2)}},handleDoubleClick:function(es){if(this.get_disabled()){return}this.raiseEvent(this.$2$8)},handlePress:function(){if(this.get_disabled()){return}this.raiseEvent(this.$2$1)}},er,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(B,a,{},ss.makeGenericType(A,[Object]));ss.initEnum(C,a,{medium:1,large:2});ss.initEnum(D,a,{numberCell:0,plainTextCell:1,imageCell:2});ss.initClass(E,a,{render:function(){var es=this.props;var et=[];et.push('tb-checkbox');if(es.isSelected){et.push('tb-checked')}return React.DOM.span({className:'tb-checkbox-cell'},React.DOM.span({className:et.join(' ')}))}},ss.makeGenericType(x,[Object]));ss.initClass(F,a,{updateWidgetState:function(es){this.get_widget().set_label(es.label);this.get_widget().set_disabled(es.disabled);this.get_widget().set_selected(es.isSelected)},handleWidgetPropertyChanged:function(es,et){if(et.get_propertyName()==='selected'){if(!ss.staticEquals(this.props.onSelectedChanged,null)&&this.props.isSelected!==this.get_widget().get_selected()){this.props.onSelectedChanged(this.get_widget().get_selected())}}}},ss.makeGenericType(dt,[cA,Object,Object]));ss.initClass(eb,a,{add_enterKeyPressed:function(es){this.$2$1=ss.delegateCombine(this.$2$1,es)},remove_enterKeyPressed:function(es){this.$2$1=ss.delegateRemove(this.$2$1,es)},add_escapeKeyPressed:function(es){this.$2$2=ss.delegateCombine(this.$2$2,es)},remove_escapeKeyPressed:function(es){this.$2$2=ss.delegateRemove(this.$2$2,es)},get_text:function(){return this.$6},set_text:function(es){if(ss.referenceEquals(this.$6,es)){return}this.get_inputElement().val(es).trigger('input')},get_inputElement:function(){return this.$5.get_inputElement()},$2:function(es){var et=this.get_inputElement().val();if(!ss.referenceEquals(this.$6,et)){this.$6=et;this.raisePropertyChanged('text')}},$3:function(es){if(this.$4){return}switch(es.which){case 13:{if(!ss.staticEquals(this.$2$1,null)){bC.stopEvent(es);this.$2$1()}break}case 27:{if(!ss.staticEquals(this.$2$2,null)){this.$2$2();es.stopPropagation()}break}}}},er,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(G,a,{add_clearButtonClicked:function(es){this.$3$1=ss.delegateCombine(this.$3$1,es)},remove_clearButtonClicked:function(es){this.$3$1=ss.delegateRemove(this.$3$1,es)},get_dom:function(){return this.$a},get_searchBoxClearButton:function(){return this.$b},$7:function(){if(!ss.isNullOrEmptyString(this.get_text())){this.$a.get_searchBoxClear().show();this.$a.get_inputElementContainer().addClass('clearButtonOn')}else{this.$a.get_searchBoxClear().hide();this.$a.get_inputElementContainer().removeClass('clearButtonOn')}},$9:function(es,et){this.$7()},$8:function(es){this.set_text('');if(!ss.staticEquals(this.$3$1,null)){this.$3$1()}}},eb,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(H,a,{get_domRootElement:function(){return this.domRoot},get_inputElement:function(){return this.$0},get_inputElementContainer:function(){return this.$1},get_searchBoxClear:function(){return this.$2}},dZ,[ss.IDisposable,cw]);ss.initClass(I,a,{});ss.initClass(J,a,{$j:function(es){this.$1$1=ss.delegateCombine(this.$1$1,es)},$k:function(es){this.$1$1=ss.delegateRemove(this.$1$1,es)},$h:function(es){this.$1$2=ss.delegateCombine(this.$1$2,es)},$i:function(es){this.$1$2=ss.delegateRemove(this.$1$2,es)},$l:function(es){this.$1$3=ss.delegateCombine(this.$1$3,es)},$m:function(es){this.$1$3=ss.delegateRemove(this.$1$3,es)},get_target:function(){return this.$g},dispose:function(){this.$8();this.$b.dispose();if(!ss.isValue(this.$g)){return}this.$g.off('.'+this.$c);this.$g=null},onPress:function(es){this.$j(es);this.$b.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$k(es)})));return this},onClick:function(es){this.$h(es);this.$b.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$i(es)})));return this},onRightClick:function(es){this.$l(es);this.$b.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$m(es)})));return this},setTarget:function(es){this.$g=es;es.on(this.$0('touchstart'),ss.mkdel(this,this.$7));this.$b.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){es.off(this.$0('touchstart'))})));if(tsConfig.is_mobile){if(!tab.BrowserSupport.isTouch){es.on(this.$0('mousedown'),ss.mkdel(this,this.$3)).on(this.$0('click'),ss.mkdel(this,this.$2));this.$b.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){es.off(this.$0('mousedown')).off(this.$0('click'))})))}}else{es.on(this.$0('mousedown'),ss.mkdel(this,this.$3)).on(this.$0('click'),ss.mkdel(this,this.$2)).on(this.$0('contextmenu'),ss.mkdel(this,this.$2));this.$b.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){es.off(this.$0('mousedown')).off(this.$0('click')).off(this.$0('contextmenu'))})))}return this},$0:function(es){return es+'.'+this.$c},$8:function(){if(ss.isValue(this.$g)){this.$g.off(this.$0('touchend'));this.$g.off(this.$0('touchcancel'))}if(ss.isValue(this.$d)){document.body.removeEventListener('touchmove'.toString(),this.$d,true);this.$d=null}this.$a=tab.MiscUtil.clearTimeout(this.$a)},$3:function(es){this.$e=es.pageX;this.$f=es.pageY;this.$9();if(ss.isValue(this.$1$1)){this.$1$1(es)}},$1:function(es){var et=(ss.isValue(es)?es['originalEvent']:null);if(ss.isValue(et)&&ss.isValue(et.touches)&&ss.isValue(et.touches[0])){return et.touches[0]}return null},$7:function(es){if(!tsConfig.is_mobile){if(tab.DomUtil.handleTouchEvents(es.target)){es.preventDefault()}else{return}}var et=this.$1(es);var eu=0;var ev=0;if(ss.isValue(et)){eu=ss.coalesce(et.pageX,0);ev=ss.coalesce(et.pageY,0)}this.$g.on(this.$0('touchend'),ss.mkdel(this,this.$5));this.$g.on(this.$0('touchcancel'),ss.mkdel(this,this.$4));this.$9();if(tab.BrowserSupport.get_addEventListener()){this.$d=ss.thisFix(ss.mkdel(this,this.$6));document.body.addEventListener('touchmove'.toString(),this.$d,true)}this.$e=eu;this.$f=ev;if(ss.isValue(this.$1$1)){this.$1$1(es)}},$5:function(es){if(!tsConfig.is_mobile){if(tab.DomUtil.handleTouchEvents(es.target)){es.preventDefault()}else{return}}this.$2(es)},$9:function(){this.$a=tab.MiscUtil.clearTimeout(this.$a);this.$a=window.setTimeout(ss.mkdel(this,this.$8),300)},$6:function(es,et){var eu=et;if(!tsConfig.is_mobile){if(tab.DomUtil.handleTouchEvents(es)){et.preventDefault()}else{return}}var ev=eu.touches[0].pageX;var ew=eu.touches[0].pageY;if(Math.abs(ev-this.$e)>10||Math.abs(ew-this.$f)>10){this.$8()}},$4:function(es){if(!tsConfig.is_mobile){if(tab.DomUtil.handleTouchEvents(es.target)){es.preventDefault()}else{return}}this.$8()},$2:function(es){es.stopPropagation();this.$8();if(es.type==='contextmenu'){es.preventDefault();if(ss.isValue(this.$1$3)){this.$1$3(es)}}else{if(ss.isValue(this.$1$2)){this.$1$2(es)}if(es.type==='touchend'){I.preventGhostClick(this.$e,this.$f)}}}},null,[ss.IDisposable]);ss.initClass(K,a,{render:function(){var es=$.extend(new Object,this.props);es.onSelectionChanged=ss.mkdel(this,function(ew){this.onSelect(ew,this.props.onSelectionChanged)});var et=React.createElement(dC,es);var eu=new Object;eu.styleClass=this.props.styleClass;eu.isSelecting=this.state.isSelecting;eu.getDesiredHeight=dC.getDesiredHeight;eu.getMinimumWidth=dC.getMinimumWidth;eu.onSelectorToggled=ss.mkdel(this,this.$1);eu.onFocusLost=ss.mkdel(this,this.$0);eu.tabIndex=-1;eu.renderButton=ss.mkdel(this,function(){return React.createElement(ea,{styleClass:this.props.buttonStyleClass,selectionIconClass:this.props.selectedIconClass,selectionText:this.props.selectedText})});var ev=React.createElement(dL,eu,et);return ev},onSelect:function(es,et){var eu=new R;eu.isSelecting=false;this.setState(eu);if(!ss.staticEquals(et,null)){et(es)}},$1:function(){if(!this.props.enabled){var es=new R;es.isSelecting=false;this.setState(es)}else{var et=new R;et.isSelecting=!this.state.isSelecting;this.setState(et)}},$0:function(){var es=new R;es.isSelecting=false;this.setState(es)}},React.Component);ss.initClass(cU,a,{});ss.initClass(L,a,{},cU);ss.initClass(M,a,{get_iconClass:function(){return this.$2},get_name:function(){return this.$3},get_data:function(){return this.$0},get_description:function(){return this.$1},asMenuItem:function(){return cN.newItemWithIconAndDescription(this,this.get_name(),this.get_iconClass(),this.get_description())}});ss.initClass(N,a,{},cU);ss.initEnum(O,a,{standard:0,dropdown:1,unification:2});ss.initClass(P,a,{},Object);ss.initEnum(Q,a,{standard:0,autoFit:1});ss.initClass(R,a,{});ss.initClass(S,a,{},dZ,[ss.IDisposable]);ss.initEnum(T,a,{standard:0,compact:1,unification:2,lineAndArrow:3});ss.initClass(U,a,{$8:function(){this.$c.icon.removeClass('tabComboBoxNoIconPressed');this.$c.domRoot.removeClass(U.pressedClass)},$9:function(es){if(!this.$d.get_enabled()){return}this.$c.domRoot.addClass(U.pressedClass);if(this.$d.get_showDropdownIcon()){this.$c.icon.addClass('tabComboBoxNoIconPressed')}this.$d.comboClicked(this.$c.domRoot)},$a:function(es){var et=0;switch(es.which){case 40:{et=1;break}case 38:{et=-1;break}default:{return}}es.preventDefault();es.stopPropagation();var eu=ss.indexOf(this.$d.get_items(),this.$d.get_selectedItem());if(eu<0){return}eu+=et;if(eu>=0&&eu<this.$d.get_items().length){this.$d.set_selectedItem(this.$d.get_items()[eu])}},$b:function(es){if(ss.isInstanceOfType(es,ba)){return}this.$c.icon.remove();if(ss.isNullOrUndefined(es)){var et=(ss.isValue(this.$d.get_summary())?this.$d.get_summary():'&nbsp;');this.$c.name.html(et);return}this.$c.icon=$('<span/>').addClass('tabComboBoxIcon').addClass(es.get_iconClass()).appendTo(this.$c.domRoot);if(!ss.isValue(es.get_iconClass())){this.$c.domRoot.addClass(U.noIconClass)}this.$c.name.text(es.get_name())},$7:function(){this.$b(this.$d.get_selectedItem())},$5:function(){this.$c.domRoot.toggleClass(U.disabledClass,!this.$d.get_enabled())},$6:function(){this.$c.domRoot.toggleClass('invalid',this.$d.get_isSelectionInvalid())},onAddedToDom:function(){er.prototype.onAddedToDom.call(this);if(this.$d.get_sizing()===1){var es=tab.ObjectRegistry.newView(cS).call(null,[this.$d.get_menu()]);var et=$('<div>').css({visibility:'hidden',position:'absolute',left:0+'px',top:0+'px'});$(document.body).append(et);es.addToDom(et);this.$c.domRoot.css({width:es.element.width()+'px'});es.dispose();et.remove()}}},ss.makeGenericType(v,[V]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[V])]);ss.initInterface(ce,a,{add_enabledChanged:null,remove_enabledChanged:null,get_enabled:null,set_enabled:null});ss.initClass(V,a,{add_itemsChanged:function(es){this.$3$1=ss.delegateCombine(this.$3$1,es)},remove_itemsChanged:function(es){this.$3$1=ss.delegateRemove(this.$3$1,es)},add_selectedItemChanged:function(es){this.$3$2=ss.delegateCombine(this.$3$2,es)},remove_selectedItemChanged:function(es){this.$3$2=ss.delegateRemove(this.$3$2,es)},add_menuHidden:function(es){this.$3$3=ss.delegateCombine(this.$3$3,es)},remove_menuHidden:function(es){this.$3$3=ss.delegateRemove(this.$3$3,es)},add_enabledChanged:function(es){this.$3$4=ss.delegateCombine(this.$3$4,es)},remove_enabledChanged:function(es){this.$3$4=ss.delegateRemove(this.$3$4,es)},add_isSelectionInvalidChanged:function(es){this.$3$5=ss.delegateCombine(this.$3$5,es)},remove_isSelectionInvalidChanged:function(es){this.$3$5=ss.delegateRemove(this.$3$5,es)},get_hasTooltip:function(){return this.$h},set_hasTooltip:function(es){this.$h=es},get_theme:function(){return this.$p},set_theme:function(es){this.$p=es},get_menu:function(){if(ss.isNullOrUndefined(this.$f)){this.$5()}return this.$f},get_menuTheme:function(){return this.$l},set_menuTheme:function(es){this.$l=es},get_sizing:function(){return this.$o},set_sizing:function(es){this.$o=es},get_menuStyleClass:function(){return this.$k},set_menuStyleClass:function(es){this.$k=es},get_items:function(){return this.$j},get_selectedItem:function(){return this.$m},set_selectedItem:function(es){if(ss.referenceEquals(this.$m,es)&&!this.get_allowSetToSameValue()){return}this.$m=es;this.$b();this.raiseActionEvent$1(M).call(this,this.$3$2,this.$m)},get_summary:function(){return this.$3$6},set_summary:function(es){this.$3$6=es},get_showSelectedItem:function(){return this.$n},set_showSelectedItem:function(es){this.$n=es},get_showDropdownIcon:function(){return this.$3$7},set_showDropdownIcon:function(es){this.$3$7=es},get_enabled:function(){return this.$g},set_enabled:function(es){if(this.$g===es){return}this.$g=es;this.$b();this.raiseActionEvent(this.$3$4)},get_isSelectionInvalid:function(){return this.$i},set_isSelectionInvalid:function(es){if(this.$i===es){return}this.$i=es;this.raiseActionEvent(this.$3$5)},get_additionalMenuClass:function(){return this.$e},set_additionalMenuClass:function(es){this.$e=es},get_allowSetToSameValue:function(){return this.$3$8},set_allowSetToSameValue:function(es){this.$3$8=es},get_selectedText:function(){return(ss.isValue(this.get_selectedItem())?this.get_selectedItem().get_name():'')},get_selectedIconClass:function(){return(ss.isValue(this.get_selectedItem())?this.get_selectedItem().get_iconClass():'')},$c:function(){var es=this.get_items();for(var et=0;et<es.length;et++){var eu=es[et];if(!tab.MiscUtil.isNullOrEmpty$1(eu.get_iconClass())){return true}}return false},get_dropdownStyleClass:function(){return this.$3$9},set_dropdownStyleClass:function(es){this.$3$9=es},$d:function(){var es='tab-unification-line-arrow-dropdown';if(!this.get_enabled()){es+=' disabled'}if(this.$c()){es+=' hasIcons'}return es},dispose:function(){if(ss.isValue(this.$f)){this.$f.dispose()}w.prototype.dispose.call(this);this.$f=null},setItems:function(es){ss.clear(this.$j);var et=ss.getEnumerator(es);try{while(et.moveNext()){var eu=et.current();this.$j.push(eu)}}finally{et.dispose()}this.$8();this.$b()},setItemsWithInitialSelection:function(es,et){ss.clear(this.$j);var eu=ss.getEnumerator(es);try{while(eu.moveNext()){var ev=eu.current();this.$j.push(ev)}}finally{eu.dispose()}this.$m=et;this.$8();this.$b()},addItem:function(es){this.$j.push(es);this.$8();this.$b()},clearItems:function(){ss.clear(this.$j);this.$8();this.set_selectedItem(null);this.$b()},$a:function(){return this.$j.length>0&&(this.$g||this.get_sizing()===1)},updateCurrentMenu:function(){if(!this.$a()||!ss.isValue(this.$f)){return}this.$2();this.$f.set_menu(new cM(this.menuItems));this.$f.set_selectedItem(this.selectedMenuItem)},$5:function(){if(!this.$a()){return}this.$2();this.$f=cT.createForMenu(new cM(this.menuItems),ss.mkdel(this,this.$6),this.$3(),null,true);this.$f.set_selectedItem(this.selectedMenuItem);this.$f.set_focusedItem(this.selectedMenuItem);this.$f.add_hidden(ss.mkdel(this,this.$9))},comboClicked:function(es){if(!this.$a()){return}this.$5();this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$f.remove_hidden(ss.mkdel(this,this.$9))})));var et=new dI(es,true);et.additionalMenuClass='tabComboBoxMenu';var eu=et;if(ss.isValue(this.$e)){eu.additionalMenuClass+=' '+this.$e}this.$f.show(eu)},$b:function(){if(this.generateProps){this.incrementProps()}},$2:function(){var es=[];var et=null;if(ss.isValue(this.$j)){for(var eu=0;eu<this.$j.length;eu++){var ev=this.$j[eu];if(this.$n||!ss.referenceEquals(ev,this.$m)){var ew=ev.asMenuItem();if(ss.referenceEquals(ev,this.$m)){et=ew}es.push(ew)}}}this.menuItems=es;this.selectedMenuItem=et},$3:function(){switch(this.$l){case 0:{return new N}case 1:{return new L(this.get_menuStyleClass())}case 2:{return new eo}default:{return new N}}},$9:function(){if(ss.isValue(this.$3$3)){this.$3$3()}},$8:function(){if(ss.isValue(this.$3$1)){this.$3$1()}},$6:function(es){var et=es.data;this.set_selectedItem(et)},$7:function(es){this.set_selectedItem(es.mapSelected(M).call(es,ss.mkdel(this,function(et){return this.get_items()[et]}))[0])},$4:function(es){return K.createCustomIconElements(es.get_iconClass())},createUpdatedProps:function(){if(!this.generateProps){return null}var es=new P;es.items=_.map(this.get_items(),ss.mkdel(this,function(et){var eu=new dD;eu.label=et.get_name();eu.getCustomContentBefore=ss.mkdel(this,function(){return this.$4(et)});eu.tooltip=(!this.get_props().hasTooltip?'':null);return eu}));es.selection=dJ.buildSingleSelectGroupSelection$1(M).call(null,Array.prototype.slice.call(this.get_items()),ss.mkdel(this,function(et){return ss.equals(et,this.get_selectedItem())}));es.selectedText=this.get_selectedText();es.selectedIconClass=this.get_selectedIconClass();es.onSelectionChanged=ss.mkdel(this,this.$7);es.hasTooltip=this.get_hasTooltip();es.hasAnyIcons=this.$c();es.buttonStyleClass=this.$d();es.styleClass=this.get_dropdownStyleClass();es.enabled=this.get_enabled();return es}},ss.makeGenericType(u,[P]),[ss.IDisposable,tab.IViewModel,ss.makeGenericType(cm,[P]),ce]);ss.initClass(W,a,{add_inputTextChanged:function(es){this.$2$1=ss.delegateCombine(this.$2$1,es)},remove_inputTextChanged:function(es){this.$2$1=ss.delegateRemove(this.$2$1,es)},add_listItemClicked:function(es){this.$2$2=ss.delegateCombine(this.$2$2,es)},remove_listItemClicked:function(es){this.$2$2=ss.delegateRemove(this.$2$2,es)},add_listItemMouseEnter:function(es){this.$2$3=ss.delegateCombine(this.$2$3,es)},remove_listItemMouseEnter:function(es){this.$2$3=ss.delegateRemove(this.$2$3,es)},add_listItemMouseMove:function(es){this.$2$4=ss.delegateCombine(this.$2$4,es)},remove_listItemMouseMove:function(es){this.$2$4=ss.delegateRemove(this.$2$4,es)},add_textInputElementClicked:function(es){this.$2$5=ss.delegateCombine(this.$2$5,es)},remove_textInputElementClicked:function(es){this.$2$5=ss.delegateRemove(this.$2$5,es)},add_textInputClearButtonClicked:function(es){this.$2$6=ss.delegateCombine(this.$2$6,es)},remove_textInputClearButtonClicked:function(es){this.$2$6=ss.delegateRemove(this.$2$6,es)},add_textInputSearchButtonClicked:function(es){this.$2$7=ss.delegateCombine(this.$2$7,es)},remove_textInputSearchButtonClicked:function(es){this.$2$7=ss.delegateRemove(this.$2$7,es)},get_template:function(){return this.compositeSearchWidgetTemplate.get_template()},get_domRoot:function(){return this.compositeSearchWidgetTemplate.get_domRootElement()},get_textInputView:function(){return this.compositeSearchWidgetTemplate.get_textInputView()},get_searchButton:function(){return this.compositeSearchWidgetTemplate.get_searchButton()},get_clearButton:function(){return this.compositeSearchWidgetTemplate.get_clearButton()},get_listViewModel:function(){return this.$2$8},set_listViewModel:function(es){this.$2$8=es},setPlaceholderText:function(es){this.get_textInputView().get_inputElement().attr('placeholder',es)},showList:function(es,et,eu){this.removeList();if(es.length>0){this.set_listViewModel(new dl(es,et,0));if(!ss.staticEquals(this.$2$2,null)){this.get_listViewModel().add_selectionChanged(ss.mkdel(this,function(){this.$2$2(this.get_listViewModel().get_firstSelectedItem())}))}if(!ss.staticEquals(this.$2$3,null)){this.get_listViewModel().add_listItemMouseEnter(ss.mkdel(this,function(ew){this.$2$3(ew)}))}if(!ss.staticEquals(this.$2$4,null)){this.get_listViewModel().add_listItemMouseMove(ss.mkdel(this,function(ew){this.$2$4(ew)}))}var ev=new dk(this.get_listViewModel());ev.addClass('tabCompositeSearchWidgetList');ev.addToDom(eu||this.get_domRoot())}},showListInsideUberPopup:function(es,et,eu,ev,ew){if(es.length<=0){this.removeList();return}this.set_listViewModel(new dl(es,et,0));if(!ss.staticEquals(this.$2$2,null)){this.get_listViewModel().add_selectionChanged(ss.mkdel(this,function(){this.$2$2(this.get_listViewModel().get_firstSelectedItem())}))}if(!ss.staticEquals(this.$2$3,null)){this.get_listViewModel().add_listItemMouseEnter(ss.mkdel(this,function(eA){this.$2$3(eA)}))}if(!ss.staticEquals(this.$2$4,null)){this.get_listViewModel().add_listItemMouseMove(ss.mkdel(this,function(eA){this.$2$4(eA)}))}if(ss.isNullOrUndefined(this.$8)){this.$8=el.createForContent$1(this.get_listViewModel(),eu,null,true);this.$8.set_resizeContent(ss.mkdel(this,this.$5));var ex=(ss.isValue(ev)?['tabCompositeSearchWidgetList',ev]:['tabCompositeSearchWidgetList']);var ey=this.$8;var ez=new eh;ez.additionalClassNames=ex;ez.globalTouchWhitelist=[this.get_textInputView().element.get(0),this.get_searchButton().element.get(0),this.get_clearButton().element.get(0)];ez.horizontalAttach=1;ez.limitPopupHeight=true;ez.maxPopupHeight=ew;ez.popupMode=1;ez.theme=1;ez.focusOnShown=false;ey.options=ez;this.$8.add_hidden(ss.mkdel(this,function(){this.$8=null;this.handleRemoveList()}));this.$8.show()}else{this.$8.set_content(this.get_listViewModel())}},$5:function(es,et){var eu=es.children('.tab-list').eq(0);var ev=eu.prop('scrollHeight');if(ev<1){et.show();ev=eu.prop('scrollHeight');et.hide()}var ew=this.$8.get_relativeElement().outerWidth();eu.css('min-width',ew+'px').css('max-width',Math.max(ew,400)+'px');var ex=this.$8.options;if(ss.isValue(ex.maxPopupHeight)&&ev>ss.unbox(ex.maxPopupHeight)){eu.css('overflow-y','scroll')}},removeList:function(){if(ss.isValue(this.$8)){this.$8.hide(false)}else{this.handleRemoveList()}},handleRemoveList:function(){if(ss.isValue(this.get_listViewModel())){this.get_listViewModel().dispose();this.set_listViewModel(null)}},$2:function(){this.get_textInputView().get_inputElement().focus();this.get_textInputView().set_text('');if(!ss.staticEquals(this.$2$6,null)){this.$2$6()}},$6:function(){if(!ss.staticEquals(this.$2$7,null)){this.$2$7()}},setSearchText:function(es){this.$7=true;this.get_textInputView().set_text(es);this.$7=false},$3:function(es,et){if(!ss.staticEquals(this.$2$1,null)&&!this.$7){this.$2$1(this.get_textInputView().get_text())}},$4:function(es){this.get_textInputView().get_inputElement().get(0).focus();if(!ss.staticEquals(this.$2$5,null)){this.$2$5()}}},er,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(X,a,{});ss.initInterface(bW,a,{get_template:null,get_domRootElement:null,get_textInputView:null,get_searchButton:null,get_clearButton:null,disposeTemplate:null});ss.initClass(Y,a,{get_domRootElement:function(){return this.domRoot},get_template:function(){return this},get_textInputView:function(){return this.searchTextInputView},get_searchButton:function(){return this.$1},get_clearButton:function(){return this.$0},disposeTemplate:function(){this.dispose()}},dZ,[ss.IDisposable,bW]);ss.initClass(Z,a,{render:function(){var es='tab-custom-button';var et={role:'button'};if(!this.props.disabled){et.onKeyDown=ss.mkdel(this,this.$1);et.tabIndex=0}else{es+=' disabled'}et.className=es;return bw.div(this.$2,et,[this.props.buttonContent()])},$1:function(es){switch(es.which){case 13:case 32:{this.$0();break}default:{return}}es.stopPropagation();es.preventDefault()},$0:function(){if(!this.props.disabled&&!ss.staticEquals(this.props.handleClick,null)){this.props.handleClick()}}},dn);ss.initClass(ba,a,{get_domRoot:function(){return this.$4},asMenuItem:function(){return be.newCustomMenuItem(this.get_domRoot())}},M);ss.initClass(bb,a,{setCursor:function(es){es.css('cursor',this.$0)}});ss.initClass(cs,a,{},dZ,[ss.IDisposable]);ss.initClass(bc,a,{},cs,[ss.IDisposable]);ss.initClass(dv,a,{get_scrollbarBuffer:null,get_scrollerX:null,get_scrollerY:null,scrollTo:null,scrollToElement:null},ss.makeGenericType(v,[dw]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[dw])]);ss.initClass(ct,a,{get_scrollerX:function(){return(ss.isNullOrUndefined(this.scroller)?0:-this.scroller.x)},get_scrollerY:function(){return(ss.isNullOrUndefined(this.scroller)?0:-this.scroller.y)},get_dom:function(){return this.get_template()},get_scrollableViewModel:function(){return this.get_viewModel()},get_scrollbarBuffer:null,get_verticalScrollbar:null,get_horizontalScrollbar:null,addScroller:function(){this.createScroller();this.postCreationScrollerSetup();this.get_dom().scroll.toggleClass('tabScrollerCanScrollX',this.get_scrollableViewModel().get_scrollX());this.get_dom().scroll.toggleClass('tabScrollerCanScrollY',this.get_scrollableViewModel().get_scrollY())},createScroller:null,postCreationScrollerSetup:function(){this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.scroller.destroy()})));this.scroller.on('scrollStart',ss.mkdel(this,this.$8));this.scroller.on('scrollEnd',ss.mkdel(this,this.$7));this.get_dom().scroll.addClass('tabScrollerIScroll');this.disposables.add$1(J.targetAndClick(this.get_verticalScrollbar(),function(es){es.stopPropagation()}));this.disposables.add$1(J.targetAndClick(this.get_horizontalScrollbar(),function(es){es.stopPropagation()}));this.get_dom().domRoot.on(tab.BrowserSupport.get_mouseWheelEvent(),function(es){es.stopPropagation()})},setUpEvents:function(){this.get_scrollableViewModel().add_contentChanged(ss.mkdel(this,this.$5));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_scrollableViewModel().remove_contentChanged(ss.mkdel(this,this.$5))})));this.get_scrollableViewModel().add_refresh(ss.mkdel(this,this.handleRefresh));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_scrollableViewModel().remove_refresh(ss.mkdel(this,this.handleRefresh))})))},onAddedToDom:function(){er.prototype.onAddedToDom.call(this);this.addNewContent()},$5:function(){this.get_dom().content.empty();this.addNewContent()},addNewContent:null,handleRefresh:function(){if(this.get_viewModel().get_hasScrollBars()){this.scroller.refresh();this.$6()}else{this.get_verticalScrollbar().addClass('noScroll');this.get_horizontalScrollbar().addClass('noScroll')}},$6:function(){this.get_verticalScrollbar().removeClass('noScroll');if(!this.scroller.hasVerticalScroll){this.get_verticalScrollbar().addClass('noScroll')}this.get_horizontalScrollbar().removeClass('noScroll');if(!this.scroller.hasHorizontalScroll){this.get_horizontalScrollbar().addClass('noScroll')}},$8:function(){if(tsConfig.is_mobile&&(this.scroller.directionX===0||!this.scroller.hasHorizontalScroll)&&(this.scroller.directionY===0||!this.scroller.hasVerticalScroll)){return}if(tab.BrowserSupport.get_mouseCapture()){tab.DomUtil.setCapture(this.get_dom().scroll[0],true);this.scrollEndCleanup.add$1(new tab.CallOnDispose(function(){tab.DomUtil.releaseCapture()}))}else if(tab.BrowserSupport.get_addEventListener()&&!tsConfig.is_mobile){var es=ss.mkdel(this,function(eu){this.sendEventToScroller(eu)});var et=ss.mkdel(this,function(eu){var ev=eu.toElement;if(ss.isNullOrUndefined(ev)||ev.nodeName==='HTML'){if('createEvent'in document){var ew=document.createEvent('MouseEvent');ew.initEvent('mouseup',false,false);this.sendEventToScroller(ew)}}});document.addEventListener('mousemove',es,true);document.addEventListener('mouseup',es,true);document.addEventListener('mouseout',et,true);this.scrollEndCleanup.add$1(new tab.CallOnDispose(function(){document.removeEventListener('mousemove',es,true);document.removeEventListener('mouseup',es,true);document.removeEventListener('mouseout',et,true)}))}this.get_dom().scroll.addClass('tabScrolling')},sendEventToScroller:function(es){this.scroller.handleEvent(es);for(var et=0;et<this.scroller.indicators.length;et++){var eu=this.scroller.indicators[et];if(!ss.referenceEquals(es.type,'mousemove'.toString())||eu.moved){eu.handleEvent(es)}}},$7:function(){this.scrollEndCleanup.dispose();this.get_dom().scroll.removeClass('tabScrolling')},scrollTo:function(es,et,eu,ev){this.scroller.scrollTo(-es,-et,eu,ev)},scrollToElement:function(es,et,eu,ev){this.scroller.scrollToElement(es,et,eu,ev)}},dv,[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[dw])]);ss.initClass(bd,a,{get_scrollbarBuffer:function(){return 0},get_customDom:function(){return this.get_template()},get_verticalScrollbar:function(){return this.get_customDom().verticalScrollbar},get_horizontalScrollbar:function(){return this.get_customDom().horizontalScrollbar},$9:function(){this.get_scrollableViewModel().get_indicatorOptions().resize=false;this.get_scrollableViewModel().add_refresh(ss.mkdel(this,this.$c));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_scrollableViewModel().remove_refresh(ss.mkdel(this,this.$c))})));if(!tsConfig.is_mobile){this.get_scrollableViewModel().get_indicatorOptions().interactive=true}if(this.get_scrollableViewModel().get_scrollY()){this.get_scrollableViewModel().get_indicatorOptions().el=this.get_verticalScrollbar()[0]}else if(this.get_scrollableViewModel().get_scrollX()){this.get_scrollableViewModel().get_indicatorOptions().el=this.get_horizontalScrollbar()[0]}},$a:function(){if(this.get_scrollableViewModel().isCenteredVertically){this.get_customDom().contentWindow.addClass('centeredVertically')}if(this.get_scrollableViewModel().get_hasScrollBars()){this.get_customDom().contentWindow.addClass('scrollable')}},createScroller:function(){this.scroller=new IScroll(this.get_customDom().contentWindow[0],this.get_scrollableViewModel().get_options())},$b:function(){if(tab.BrowserSupport.get_addEventListener()){var es=ss.mkdel(this,function(et){this.sendEventToScroller(et)});if(!tsConfig.is_mobile){this.get_template().domRoot[0].addEventListener(tab.BrowserSupport.get_mouseWheelEvent(),es,false);this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_template().domRoot[0].removeEventListener(tab.BrowserSupport.get_mouseWheelEvent(),es,false)})))}}},addNewContent:function(){this.get_dom().content.append(this.get_scrollableViewModel().get_content());this.$c();this.handleRefresh()},$c:function(){if(this.get_scrollableViewModel().get_scrollY()){this.get_customDom().verticalScrollbarIndicator.height(bd.$0(tab.DoubleUtil.roundToInt(this.get_customDom().verticalScrollbar.height()),tab.DoubleUtil.roundToInt(this.get_customDom().contentWindow.height()),tab.DoubleUtil.roundToInt(this.get_customDom().content.height()))+'px')}else if(this.get_scrollableViewModel().get_scrollX()){this.get_customDom().horizontalScrollbarIndicator.width(bd.$0(tab.DoubleUtil.roundToInt(this.get_customDom().horizontalScrollbar.width()),tab.DoubleUtil.roundToInt(this.get_customDom().contentWindow.width()),tab.DoubleUtil.roundToInt(this.get_customDom().content.width()))+'px')}}},ct,[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[dw])]);ss.initClass(cN,a,{get_selectable:function(){return this.enabled&&!this.isDivider}});ss.initClass(be,a,{get_domRoot:function(){return this.$0},set_domRoot:function(es){this.$0=es}},cN);ss.initClass(bf,a,{},cs,[ss.IDisposable]);ss.initClass(bg,a,{get_scrollbarSize:function(){return 9},get_scrollbarBuffer:function(){return 10},get_verticalScrollbar:function(){return this.$a},get_horizontalScrollbar:function(){return this.$9},createScroller:function(){this.scroller=new IScroll(this.get_dom().scroll[0],this.get_scrollableViewModel().get_options());if(this.get_scrollableViewModel().get_scrollY()){this.get_dom().content.css('margin-right',this.get_scrollbarBuffer()+'px')}if(this.get_scrollableViewModel().get_scrollX()){this.get_dom().content.css('margin-bottom',this.get_scrollbarBuffer()+'px')}this.$a=this.get_dom().scroll.find('.iScrollVerticalScrollbar').css('width',this.get_scrollbarSize()+'px');this.$9=this.get_dom().scroll.find('.iScrollHorizontalScrollbar').css('height',this.get_scrollbarSize()+'px')},addNewContent:function(){this.get_dom().content.append(this.get_scrollableViewModel().get_content());this.handleRefresh()}},ct,[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[dw])]);ss.initInterface(cd,a,{get_feedbackType:null,dragOver:null,dragExit:null,acceptDrop:null,getDropTarget:null,getDropCursor:null});ss.initClass(bh,a,{get_feedbackType:function(){return(!ss.staticEquals(this.onFeedbackType,null)?this.onFeedbackType():'dropfeedbackuponentry')},dragOver:function(es){if(!ss.staticEquals(this.canAccept,null)&&!this.canAccept(es)){return null}return(!ss.staticEquals(this.onDragOver,null)?this.onDragOver(es,this):this)},dragExit:function(es){if(!ss.staticEquals(this.onDragExit,null)){this.onDragExit(es)}},acceptDrop:function(es){if(!ss.staticEquals(this.canAccept,null)&&!this.canAccept(es)){return $.Deferred().resolve(false)}return(!ss.staticEquals(this.onAcceptDrop,null)?this.onAcceptDrop(es):$.Deferred().resolve(false))},getDropTarget:function(es){return(!ss.staticEquals(this.onGetDropTarget,null)?this.onGetDropTarget(es,this):this)},getDropCursor:function(es){return(!ss.staticEquals(this.onGetDropCursor,null)?this.onGetDropCursor(es):bb.noOp)}},null,[cd]);ss.initClass(bi,a,{add_closing:function(es){this.$2$1=ss.delegateCombine(this.$2$1,es)},remove_closing:function(es){this.$2$1=ss.delegateRemove(this.$2$1,es)},add_closed:function(es){this.$2$2=ss.delegateCombine(this.$2$2,es)},remove_closed:function(es){this.$2$2=ss.delegateRemove(this.$2$2,es)},add_resizeMove:function(es){this.$2$3=ss.delegateCombine(this.$2$3,es)},remove_resizeMove:function(es){this.$2$3=ss.delegateRemove(this.$2$3,es)},add_resizeEnd:function(es){this.$2$4=ss.delegateCombine(this.$2$4,es)},remove_resizeEnd:function(es){this.$2$4=ss.delegateRemove(this.$2$4,es)},get_body:function(){return this.$e},set_body:function(es){if(ss.referenceEquals(this.$e,es)){return}if(ss.isValue(this.$e)){this.$e.off(this.get_eventNamespace())}this.$e=es;this.element.find('.tab-dialogBodyContainer').html('').append(es);this.setInitialFocus()},get_bodyHeight:function(){return tab.DoubleUtil.roundToInt(this.$g.height())},get_position:function(){return{x:this.$m,y:this.$n}},set_position:function(es){if(this.get_maximized()){return}if(ss.isNullOrUndefined(es)){this.positionInWindow()}else{this.$m=es.x;this.$n=es.y;tab.DomUtil.setElementPosition(this.$g,this.$m,this.$n,null,false);this.$g.css('position','fixed')}this.raisePropertyChanged('position')},get_isActive:function(){return this.$h},set_isActive:function(es){if(es!==this.$h){this.$h=es;this.$g.toggleClass('active',es);this.raisePropertyChanged('isActive')}},get_draggable:function(){return!this.get_maximized()&&ss.isValue(this.$l)},get_resizeable:function(){return!this.get_maximized()&&ss.isValue(this.$o)},set_resizeable:function(es){if(this.get_maximized()){return}if(es){if(ss.isNullOrUndefined(this.$o)){this.$o=new du(this.$p,this.$g,'bottomRight');this.$o.add_endAction(ss.mkdel(this,this.$b));this.$o.add_moveAction(ss.mkdel(this,this.$c))}this.$g.addClass('resizeable')}else{if(ss.isValue(this.$o)){this.$o.remove_endAction(ss.mkdel(this,this.$b));this.$o.remove_moveAction(ss.mkdel(this,this.$c));this.$o.dispose();this.$o=null}this.$g.removeClass('resizeable')}},get_zIndex:function(){return tab.DomUtil.getComputedZIndex(this.element[0])},set_zIndex:function(es){this.element.css('z-index',es.toString())},get_maximized:function(){return this.$j},set_maximized:function(es){this.$j=es;this.$g.toggleClass('maximized',es)},get_startingPositionX:function(){return this.$2$5},set_startingPositionX:function(es){this.$2$5=es},get_startingPositionY:function(){return this.$2$6},set_startingPositionY:function(es){this.$2$6=es},get_titleUnescaped:function(){return this.get_titleElement().text()},set_titleUnescaped:function(es){this.get_titleElement().text(es);if(this.showTitleTooltip){this.get_titleElement().attr('title',this.get_titleElement().text())}},get_isShown:function(){return this.$i},get_setFocusOnShow:function(){return this.$r},set_setFocusOnShow:function(es){this.$r=es},get_closeButton:function(){return this.$f},get_closeButtonVisible:function(){return this.element.find('.tab-dialogCloseButton').is(':visible')},set_closeButtonVisible:function(es){if(es){this.element.find('.tab-dialogCloseButton').show()}else{this.element.find('.tab-dialogCloseButton').hide()}},get_stayInWindow:function(){return this.get_stayInWindow()},set_stayInWindow:function(es){if(es&&!this.$t){this.$2()}else if(!es){this.$9()}this.$t=es},get_useClosingAnimation:function(){return this.$v},set_useClosingAnimation:function(es){this.$v=es},get_dialogElement:function(){return this.$g},get_titleBarElement:function(){return this.$u},get_titleElement:function(){return this.element.find('.tab-dialogTitle')},get_resizerElement:function(){return this.$p},configMoveDragSource:function(es){if(ss.isValue(this.$l)){throw new ss.Exception('dialog can only be configured once.')}this.$l=es(this);if(ss.isValue(this.$l)){this.$l.add_endAction(ss.mkdel(this,this.$8));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$l.remove_endAction(ss.mkdel(this,this.$8));this.$l.dispose()})))}},showSpinner:function(){this.$s.show()},hideSpinner:function(){this.$s.hide()},show:function(){this.ensureAttachedAndSized();this.element.show();this.$i=true;this.moveToTop();if(this.get_setFocusOnShow()){this.setInitialFocus()}this.set_isActive(true)},close:function(es){this.$a();if(!this.get_isShown()){if(!ss.staticEquals(es,null)){es()}return}var et=new ss.CancelEventArgs;this.onClosing(et);if(et.cancel){return}tab.DomUtil.blur();this.$d=es;if(this.get_useClosingAnimation()){this.element.fadeOut('fast',ss.mkdel(this,this.$3))}else{this.element.hide();this.$3()}},closeAndDispose:function(){this.close(ss.mkdel(this,this.dispose))},$3:function(){this.detach();if(!ss.staticEquals(this.$d,null)){this.$d();this.$d=null}this.onClosed(new ss.EventArgs)},onClosing:function(es){if(!ss.staticEquals(this.$2$1,null)){this.$2$1(this,es)}},onClosed:function(es){if(!ss.staticEquals(this.$2$2,null)){this.$2$2(this,es)}},isAttached:function(){return ss.referenceEquals(this.element.parent().get(0),document.body)},ensureAttachedAndSized:function(){if(!this.isAttached()){this.element.appendTo(document.body);this.bindToEvents()}this.positionInWindow()},bindToEvents:function(){this.element.on(this.createNamespacedEventName('keydown'),ss.mkdel(this,this.onKeyDown))},$a:function(){this.$k=false;this.$q=false},$4:function(es,et){if(!this.$i){return}this.$a();this.$q=true;if(ss.isValue(es)&&!tab.DomUtil.isEqualOrAncestorOf(this.get_closeButton().element[0],es.target)&&tab.DomUtil.isEqualOrAncestorOf(this.element[0],es.target)){this.moveToTop();this.$k=true}},$5:function(es,et){if(!this.$i||!this.$q){return}if(this.$k&&tab.DomUtil.isEqualOrAncestorOf(this.element.get(0),es.target)||ss.isNullOrUndefined(es)){if(!this.get_isActive()){this.set_isActive(true)}}else{if($('body').children('.tab-glass').length!==0){this.$a();return}this.set_isActive(false)}},unbindEvents:function(){this.element.off(this.get_eventNamespace())},$2:function(){df.add_orientationChanged(ss.mkdel(this,this.ensureOnScreen));$(window).on(this.createNamespacedEventName('resize'),ss.mkdel(this,function(){this.ensureOnScreen()}))},$9:function(){df.remove_orientationChanged(ss.mkdel(this,this.ensureOnScreen));$(window).off(this.createNamespacedEventName('resize'))},detach:function(){this.$i=false;this.element.hide();this.element.detach();this.unbindEvents();if(ss.referenceEquals(bi.$9,this)){bi.$9=null}},dispose:function(){if(ss.isValue(this.$f)){this.$f.remove_click(ss.mkdel(this,this.$7));this.$f.dispose();this.$f=null}if(ss.isValue(this.$o)){this.$o.remove_endAction(ss.mkdel(this,this.$b));this.$o.remove_moveAction(ss.mkdel(this,this.$c));this.$o.dispose();this.$o=null}this.$9();this.$i=false;this.$2$2=null;this.$2$1=null;this.unbindEvents();er.prototype.dispose.call(this);if(ss.referenceEquals(bi.$9,this)){bi.$9=null}},setInitialFocus:function(){if(this.$i){var es=this.element.find('.tab-dialogBodyContainer :tabbable');if(es.length>0){es.eq(0).focus()}else{this.$g.eq(0).focus()}}},ensureOnScreen:function(){if(!this.get_isShown()||this.get_maximized()){return}dK.getViewport(ss.mkdel(this,function(es){if(ss.isNullOrUndefined(es)||ss.isNullOrUndefined(es.get_dimensions())){return}var et=tab.DoubleUtil.roundToInt(this.$g.outerWidth(true));var eu=tab.DoubleUtil.roundToInt(this.$g.outerHeight(true));if(this.get_resizeable()){if(et>es.get_dimensions().w){var ev=tab.DoubleUtil.roundToInt(this.$g.width());this.$g.width(es.get_dimensions().w-(et-ev));et=es.get_dimensions().w}if(eu>es.get_dimensions().h){var ew=tab.DoubleUtil.roundToInt(this.$g.height());this.$g.height(es.get_dimensions().h-(eu-ew));eu=es.get_dimensions().h}}var ex=null;if(this.$m+et>es.get_dimensions().w){ex=Math.max(0,es.get_dimensions().w-et)}var ey=null;if(this.$n+eu>es.get_dimensions().h){ey=Math.max(0,es.get_dimensions().h-eu)}if(ss.isValue(ex)||ss.isValue(ey)){var ez=ex;if(ss.isNullOrUndefined(ez)){ez=this.$m}ex=ez;var eA=ey;if(ss.isNullOrUndefined(eA)){eA=this.$n}ey=eA;this.set_position({x:ss.unbox(ex),y:ss.unbox(ey)})}}))},positionInWindow:function(){this.positionInWindow$1(0,0)},positionInWindow$1:function(es,et){if(this.get_maximized()){return}dK.getViewport(ss.mkdel(this,function(eu){var ev=0;var ew=0;var ex=tab.DoubleUtil.roundToInt(this.$g.outerWidth(true))+es;var ey=tab.DoubleUtil.roundToInt(this.$g.outerHeight(true))+et;var ez=tab.DoubleUtil.roundToInt($(window).width());var eA=tab.DoubleUtil.roundToInt($(window).height());var eB=0;var eC=0;if(ss.isValue(eu.get_dimensions())){ez=eu.get_dimensions().w;eA=eu.get_dimensions().h;var eD=new tab.WindowHelper(window.self);eB=eu.get_dimensions().l-eD.get_pageXOffset();eC=eu.get_dimensions().t-eD.get_pageYOffset()}if(ss.isValue(this.get_startingPositionX())){var eE=Math.min(ss.unbox(this.get_startingPositionX())+ex,ez);ev=Math.max(0,eE-ex)}else{ev=Math.max(0,Math.round((ez-ex)/2)+eB)}if(ss.isValue(this.get_startingPositionY())){var eF=Math.min(ss.unbox(this.get_startingPositionY())+ey,eA);ew=Math.max(0,eF-ey)}else{ew=Math.max(0,Math.round((eA-ey)/2)+eC)}this.set_position({x:ev,y:ew})}))},moveToTop:function(){if(!this.$i){return}this.set_isActive(true);if(ss.isNullOrUndefined(bi.$9)){bi.$9=this}else if(!ss.referenceEquals(bi.$9,this)){bi.$9.set_isActive(false);bi.$9=this;this.element.appendTo(document.body);tab.DomUtil.blur()}},$b:function(es){if(!ss.staticEquals(this.$2$4,null)){this.$2$4()}this.set_isActive(true);this.$a()},$c:function(es){if(!ss.staticEquals(this.$2$3,null)){this.$2$3()}},$8:function(es){this.set_position(tab.PointUtil.fromPosition(this.$g.position()));this.set_isActive(true);this.$a()},$7:function(){this.close(null)},onKeyDown:function(es){if(es.which===9){this.$6(es);return}},$6:function(es){var et=this.element.find(':tabbable');var eu=et.filter(':first');var ev=et.filter(':last');if(ss.referenceEquals(es.target,eu[0])&&es.shiftKey){ev.focusDelayed(1);bC.stopEvent(es)}else if(ss.referenceEquals(es.target,ev[0])&&!es.shiftKey){eu.focusDelayed(1);bC.stopEvent(es)}}},er,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(bI,a,{$1:function(){return'tab-'+this.type},update:function(es){if(ss.isValue(es)){$.extend(this.$2,es);$(this.$2.domElem).data(this.$1(),this)}},start:function(es){},move:function(es){},end:function(es){},cancel:function(){},$0:function(es,et,eu){if(by.isHandling(this.$2,es)){var ev=et;$.extend(ev,eu);ev.gestureName=this.type;ev.$0=es;var ew=dS.$0(this.$2,es);ew(ev)}},dispose:function(){this.cancel();$(this.$2.domElem).removeData(this.$1())}},null,[ss.IDisposable]);ss.initClass(bj,a,{start:function(es){var et=es.touches[0];if(es.touches.length!==this.numTouches){this.reset();return}var eu=this.$c(es);if(!this.$e(bK.fireFirstTouch,es)){return}this.$0('firstTouch',es,eu);this.$i=et.pageX;this.$j=et.pageY;this.$g=true;this.pressTimer=tab.MiscUtil.clearTimeout(this.pressTimer);if(!ss.isValue(this.$f)){this.$h=(new Date).getTime();this.potentialPressTimer=window.setTimeout(ss.mkdel(this,function(){this.$6(es,eu)}),500);this.pressTimer=window.setTimeout(ss.mkdel(this,function(){this.$7(es,eu)}),750)}},move:function(es){if(this.$d(es)){this.reset()}if(es.type==='touchmove'){this.$0('touchMove',es,this.$c(es))}},end:function(es){var et=this.$c(es);if(this.isActivePress){this.$8(es,et)}this.$3();if(this.$g){if(ss.isValue(this.$f)&&ss.unbox(this.$f)){this.$4(es,et)}else{this.$a(es,et)}}if(es.type==='contextmenu'){if(!this.$e(bK.fireRightClick,es)){return}this.$9(es,et)}if(es.touches.length===0){if(!this.$e(bK.fireLastTouch,es)){return}this.$0('lastTouch',es,et)}},cancel:function(){this.reset()},reset:function(){this.$3();this.$g=false;this.$f=null;this.isPotentialPress=false;this.isActivePress=false;this.doubleTapTimer=tab.MiscUtil.clearTimeout(this.doubleTapTimer)},$5:function(es,et,eu,ev){this.$0(es,et,eu);if(ss.isValue(ev)&&ev['reset']===true){this.reset()}},$4:function(es,et){this.doubleTapTimer=tab.MiscUtil.clearTimeout(this.doubleTapTimer);this.$5('doubleTap',es,et,ss.mkdict(['reset',true]))},$7:function(es,et){this.isPotentialPress=false;if(!this.$e(bK.firePress,es)){return}this.$5('press',es,et,ss.mkdict(['reset',true]));this.isActivePress=true},$6:function(es,et){this.isPotentialPress=true;this.$5('potentialPress',es,et)},$8:function(es,et){this.$5('pressEnd',es,et);this.isActivePress=false},$3:function(){this.potentialPressTimer=tab.MiscUtil.clearTimeout(this.potentialPressTimer);this.pressTimer=tab.MiscUtil.clearTimeout(this.pressTimer);if(this.isPotentialPress){this.$5('cancelPotentialPress',{},null)}},$a:function(es,et){this.$f=true;if(!this.$e(bK.fireTap,es)){return}if(by.isHandling(this.$2,'doubleTap')){this.doubleTapTimer=window.setTimeout(ss.mkdel(this,function(){this.reset();this.$0('cancelPotentialDoubleTap',es,et)}),390-this.$b())}else{this.reset()}this.$0('tap',es,et)},$9:function(es,et){this.$0('rightClick',es,et)},$e:function(es,et){var eu=false;var ev=ss.mkdel(this,function(ew){this.reset();if(ew){bC.stopEvent(et)}eu=true});es(et,ev);return!eu},$b:function(){var es=(new Date).getTime()-this.$h;return es},$d:function(es){var et=es.changedTouches[0];return Math.abs(et.pageX-this.$i)>this.slop||Math.abs(et.pageY-this.$j)>this.slop},$c:function(es){var et={};et.pageX=es.changedTouches[0].pageX;et.pageY=es.changedTouches[0].pageY;et.clientX=es.changedTouches[0].clientX;et.clientY=es.changedTouches[0].clientY;et.startX=es.changedTouches[0].pageX;et.startY=es.changedTouches[0].pageY;return et}},bI,[ss.IDisposable]);ss.initClass(bk,a,{asMenuItem:function(){return cN.newDivider()}},M);ss.initClass(bl,a,{get_glass:function(){return this.$y},ensureAttachedAndSized:function(){if(ss.isValue(this.$y)||this.isAttached()){return}if(this.$z){this.$y=new bJ;this.$y.set_opaque(true);this.$y.show();this.element.css('z-index',(this.$y.get_zIndex()+1).toString())}bi.prototype.ensureAttachedAndSized.call(this)},bindToEvents:function(){bi.prototype.bindToEvents.call(this);this.disposables.add$1(bC.bindWithDispose($(window),'resize',ss.mkdel(this,this.onWindowResize)));this.disposables.add$1(bC.bindWithDispose($(window),'keydown',ss.mkdel(this,this.onDocumentKeyDown)))},detach:function(){this.$x();bi.prototype.detach.call(this)},dispose:function(){this.$x();if(ss.isValue(this.template)){this.template.dispose();this.template=null}bi.prototype.dispose.call(this)},$x:function(){if(this.$z&&ss.isValue(this.$y)){this.$y.dispose();this.$y=null}},$w:function(){this.configMoveDragSource(bi.defaultStationaryDialogConfigurer);if(tsConfig.is_mobile){this.set_startingPositionY(100);this.set_startingPositionX(0);this.get_dialogElement().css('height','50%')}else{this.set_startingPositionX(2000);this.set_startingPositionY(this.$A);this.get_dialogElement().css('height','95%')}},onWindowResize:function(es){this.positionInWindow()},onDocumentKeyDown:function(es){if(es.which===27){this.close(null);es.preventDefault();return}}},bi,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initEnum(bm,a,{useScrollSize:'useScrollSize',useClientSize:'useClientSize'},true);ss.initInterface(ck,a,{handleCapturedMouseMove:null,handleCapturedMouseComplete:null});ss.initClass(bn,a,{start:function(es){var et=es.touches[0];if(ss.isValue(es.target)&&es.target.tagName.toUpperCase()==='IMG'&&!tsConfig.is_mobile){es.preventDefault()}if(es.touches.length!==this.numTouches){if(this.$9){this.$0('dragEnd',es,this.$a)}this.$6();this.$8=true;return}if(ss.isValue(this.$b)&&!tab.BrowserSupport.isTouch){this.end(es)}this.$8=false;this.$b=this.$3(et);this.$a=this.$b;this.isPotentialPress=false;if(by.isHandling(this.$2,'potentialPress')){this.$7()}},move:function(es){if(this.$8){return}if(this.isPotentialPress&&es.touches.length===this.numTouches){es.preventDefault()}this.$a=this.$4(es);if(this.$9){this.$0('dragMove',es,this.$a)}else if(this.$5(es)){this.$9=true;this.$0('dragStart',es,this.$a);this.$0('dragMove',es,this.$a);if(ss.isValue(this.$2.dragEnd)){cW.setCapture(document.body,this,false)}}},end:function(es){var et;if(!this.$9){var eu=es.touches.length===this.numTouches&&ss.isValue(es.touches[0].identifier)&&this.$5(es);if(!eu){this.$6();return}this.$b=this.$3(es.touches[0]);this.$a=this.$b;et=this.$4(es);this.$8=false;this.$9=true;this.$0('dragStart',es,et);return}cW.releaseCapture();et=this.$4(es);this.$6();if(by.isHandling(this.$2,'dragEnd')){var ev=dc.create(es.originalEvent,null,null);$.extend(ev,this.$a);var ew=function(){bo.cancelDrag(null)};bK.fireDragEnd(ev,ew)}this.$0('dragEnd',es,et)},cancel:function(){this.$8=true},$3:function(es){return{pageX:es.pageX,pageY:es.pageY}},$4:function(es){var et=es.changedTouches[0];if(ss.isNullOrUndefined(this.$b)){this.$b=this.$3(et)}if(ss.isNullOrUndefined(this.$a)){this.$a=this.$b}var eu={clientX:et.clientX,clientY:et.clientY};eu.pageX=et.pageX;eu.pageY=et.pageY;eu.startX=this.$b.pageX;eu.startY=this.$b.pageY;eu.deltaX=eu.pageX-this.$b.pageX;eu.deltaY=eu.pageY-this.$b.pageY;eu.deltaXSinceLast=eu.pageX-this.$a.pageX;eu.deltaYSinceLast=eu.pageY-this.$a.pageY;eu.scale=1;return eu},$5:function(es){var et=es.touches[0];if(ss.isNullOrUndefined(this.$b)){return false}return Math.abs(et.pageX-this.$b.pageX)>this.slop||Math.abs(et.pageY-this.$b.pageY)>this.slop},$6:function(){this.$b=null;this.$9=false;this.isPotentialPress=false;this.potentialPressTimer=tab.MiscUtil.clearTimeout(this.potentialPressTimer)},$7:function(){this.potentialPressTimer=window.setTimeout(ss.mkdel(this,function(){if(!this.$9){this.isPotentialPress=true}}),500)},handleCapturedMouseMove:function(es){var et=es['offsetX'];var eu=es['offsetY'];if(et<0||et>document.body.offsetWidth||eu<0||eu>document.body.offsetHeight){var ev=dc.create(es,this.$2.domElem,null);this.move(ev)}},handleCapturedMouseComplete:function(es){var et=document.createEvent('MouseEvents');et.initMouseEvent('mouseup'.toString(),false,true,window.self,null,this.$a.pageX,this.$a.pageY,this.$a.clientX,this.$a.clientY,es.ctrlKey,es.altKey,es.shiftKey,es.metaKey,null,null);document.body.dispatchEvent(et)}},bI,[ss.IDisposable,ck]);ss.initClass(bo,a,{});ss.initClass(bp,a,{add_shiftStateChanged:function(es){this.$1$1=ss.delegateCombine(this.$1$1,es)},remove_shiftStateChanged:function(es){this.$1$1=ss.delegateRemove(this.$1$1,es)},get_payload:function(){return this.draggedObject},get_hasPayload:function(){return ss.isValue(this.draggedObject)},get_isShiftDrag:function(){return this.$1},set_isShiftDrag:function(es){if(this.$1!==es){this.$1=es;if(!ss.staticEquals(this.$1$1,null)){this.$1$1()}}},get_dragAvatar:function(){return this.$0},get_dragType:function(){return'dragdrop'},get_readyToDrop:function(){return true},get_defaultDropCursor:function(){return bb.noOp},moveTo:function(es){},endDragAt:function(es){},cancelDrag:function(){},payloadEquals:function(es){if(ss.referenceEquals(this.draggedObject,es)){return true}if($.isArray(this.draggedObject)){var et=this.draggedObject;if(et.length===1&&ss.referenceEquals(et[0],es)){return true}}return false},dropToNowhereAction:function(){}});ss.initClass(bJ,a,{add_click:function(es){this.$2$1=ss.delegateCombine(this.$2$1,es)},remove_click:function(es){this.$2$1=ss.delegateRemove(this.$2$1,es)},get_zIndex:function(){return tab.DomUtil.getComputedZIndex(this.element[0])},set_zIndex:function(es){this.element.css('z-index',es.toString())},get_opaque:function(){return this.element.hasClass('opaque-glass')},set_opaque:function(es){this.element.toggleClass('clear-glass',!es);this.element.toggleClass('opaque-glass',es)},set_preventWebPageScroll:function(es){if(es){this.element.on(tab.BrowserSupport.get_mouseWheelEvent(),function(et){et.preventDefault()})}else{this.element.off(tab.BrowserSupport.get_mouseWheelEvent(),function(et){et.preventDefault()})}},show:function(){if(!ss.referenceEquals(this.element.parent()[0],this.$3)){this.element.appendTo(this.$3)}if(this.get_opaque()){this.element.toggleClass('glass-fade-in-immediate',true)}this.element.show()},hide:function(){this.element.hide()},setColor:function(es){this.element.css('background-color',es)},dispose:function(){this.set_preventWebPageScroll(false);if(ss.isValue(this.$2)){this.$2.dispose();this.$2=null}er.prototype.dispose.call(this)},handleClick:function(es){if(ss.isValue(this.$2$1)){this.$2$1()}}},er,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(bq,a,{dispose:function(){bo.unregisterDragGlass(this);bJ.prototype.dispose.call(this)},disableHitTests:function(){this.element.css('pointer-events','none')},enableHitTests:function(){this.element.css('pointer-events','auto')}},bJ,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(br,a,{get_rootElement:function(){return this.$0},get_viewModel:function(){return null},dispose:function(){this.$0=null},addToDom:function(es){es.append(this.get_rootElement());this.onAddedToDom()},onAddedToDom:function(){}},null,[ss.IDisposable,tab.IAppendableView,ss.makeGenericType(tab.IView$1,[tab.IViewModel])]);ss.initClass(bs,a,{componentWillReceiveProps:function(es){if(es.resetSelector){this.setState({isSelecting:false})}},render:function(){var es=new Object;es.styleClass=this.props.styleClass;es.isSelecting=this.state.isSelecting;es.getDesiredHeight=this.props.getDesiredHeight;es.getMinimumWidth=this.props.getMinimumWidth;es.children=this.props.children;es.renderButton=this.props.renderButton;es.tabIndex=this.props.tabIndex;es.onSelectorToggled=ss.mkdel(this,this.$1);es.onFocusLost=ss.mkdel(this,this.$0);return React.createElement(dL,es)},$1:function(){this.setState({isSelecting:!this.state.isSelecting})},$0:function(){this.setState({isSelecting:false})}},React.Component);ss.initClass(bt,a,{handleWidgetPropertyChanged:function(es,et){},updateWidgetState:function(es){if(!this.get_widget().get_isEditing()){this.get_widget().set_text(es.initialContent);this.get_widget().updateTextElement(es.initialContent);this.get_widget().get_inputElement().val(es.initialContent);if(!tab.MiscUtil.isNullOrEmpty$1(es.tooltip)){this.get_widget().get_textElement().find('.text-span').get(0).title=es.tooltip;this.get_widget().get_inputElement().attr('title',es.tooltip)}}}},ss.makeGenericType(dt,[bu,Object,Object]));ss.initClass(bu,a,{add_hoverStateChanged:function(es){this.$3$1=ss.delegateCombine(this.$3$1,es)},remove_hoverStateChanged:function(es){this.$3$1=ss.delegateRemove(this.$3$1,es)},add_editing:function(es){this.$3$2=ss.delegateCombine(this.$3$2,es)},remove_editing:function(es){this.$3$2=ss.delegateRemove(this.$3$2,es)},add_committed:function(es){this.$3$3=ss.delegateCombine(this.$3$3,es)},remove_committed:function(es){this.$3$3=ss.delegateRemove(this.$3$3,es)},get_textElement:function(){return this.$9.$0()},get_isEditing:function(){return this.$3$4},set_isEditing:function(es){this.$3$4=es},get_textDisplayWidth:function(){return Math.min(tab.DoubleUtil.roundToInt(this.$9.$1().width()),tab.DoubleUtil.roundToInt(this.$9.$0().width()))},$8:function(es){if(ss.isValue(this.$3$1)){this.$3$1(es)}},updateTextElement:function(es){this.$9.$1().text(es);var et=this.$9.$1().get(0);et.title=(this.showTooltip?es:'')},edit:function(){this.get_textElement().hide();this.get_inputElement().show();this.get_inputElement().focus();tab.DomUtil.selectAllInputText(this.get_inputElement());this.set_isEditing(true);this.element.addClass('editing');if(ss.isValue(this.$3$2)){this.$3$2()}},commit:function(){if(this.get_isEditing()){this.set_isEditing(false);this.get_inputElement().hide();this.get_textElement().show();this.element.removeClass('editing');if(ss.isValue(this.$3$3)){this.$3$3()}}},$7:function(){var es=tab.DoubleUtil.roundToInt(this.element.parent().height());this.element.height(es);var et=this.element.children('div');var eu=tab.DoubleUtil.roundToInt(et.height());this.get_textElement().css('height',eu+'px');this.get_textElement().css('line-height',eu+'px');this.get_inputElement().css('height',eu+'px');this.get_inputElement().css('line-height',eu+'px')},onAddedToDom:function(){this.$7();er.prototype.onAddedToDom.call(this)}},eb,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(bv,a,{shouldComponentUpdate:function(es,et){return!ss.staticEquals(this.props,es)||!ss.staticEquals(this.state,et)},render:function(){return React.DOM.div({className:'tab-table-body tab-table-empty-body'},this.props.emptyChild)}},React.Component);ss.initClass(bw,a,{render:function(){return React.createElement(this.props.tagName,$.extend({},this.$2.get_eventHandlingAttributesForReact(),this.props.htmlAttributes),this.props.children)},componentDidMount:function(){this.$0()},componentDidUpdate:function(){this.$0()},componentWillUnmount:function(){if(ss.isValue(this.$2)){this.$2.dispose()}},$0:function(){if(ss.isValue(this.props.spec)){var es=ReactDOM.findDOMNode(this);if(!ss.referenceEquals(this.$1,es)||bw.$1(this.$3,this.props.spec)){this.$2.updateEventHandleSpec(es,this.props.spec);this.$1=es;this.$3=this.props.spec}}}},React.Component);ss.initClass(bx,a,{});ss.initClass(by,a,{});ss.initEnum(bz,a,{start:0,move:1,end:2,out:3,scroll:4,cancel:5,unSupported:6});ss.initClass(bA,a,{suppressHover:function(){this.$3.suppressHover()},unsuppressHover:function(){this.$3.unsuppressHover()},cancelHover:function(){this.$3.cancel()},handleEvent:function(es,et){if(this.$5&&bA.$0()!=='left'){this.$5=false}if(es.get_isScrollEvent()){this.$5=false}else if(es.get_isOutEvent()){if(by.isUsingHover(et)){this.$3.out(es)}}else if(es.get_isStartEvent()){this.handleStartEvent(es,et)}else if(es.get_isMoveEvent()){this.handleMoveEvent(es,et)}else{this.handleEndCancelEvent(es,et)}},handleStartEvent:function(es,et){this.$2=false;this.$4=cX.getMouseButtonEnum(es.originalEvent);if(es.get_isMouseEvent()){if(!es.get_isLeftMouseEvent()){return}this.$5=true;bA.$1(this.$4)}this.handleStart(es,by.isUsingHover(et))},handleMoveEvent:function(es,et){if(by.isUsingHover(et)){this.$3.move(es)}if(es.get_isMouseEvent()){if(this.$4!=='left'||!this.$5){return}}this.$0.move(es);this.$1.move(es);if(ss.isValue(this.$6)){this.$6.move(es)}},handleEndCancelEvent:function(es,et){bA.$1('none');if(by.isUsingHover(et)){this.$3.end(es)}if(ss.isValue(this.$6)){this.$6.end(es)}this.$1.end(es);if(es.get_isMouseEvent()){this.$5=false;if(es.get_isRightClickEvent()||this.$4==='right'){this.$2=true}if(tab.BrowserSupport.get_isMac()&&this.$2&&es.type==='mouseup'||this.$2&&!es.get_isRightClickEvent()){return}}this.$0.end(es)},cancelAllGestures:function(){if(ss.isValue(this.$1)){this.$1.cancel()}if(ss.isValue(this.$0)){this.$0.cancel()}if(ss.isValue(this.$6)){this.$6.cancel()}if(ss.isValue(this.$3)){this.$3.cancel()}},updateAllGestures:function(es){if(ss.isValue(this.$1)){this.$1.update(es)}if(ss.isValue(this.$0)){this.$0.update(es)}if(ss.isValue(this.$6)){this.$6.update(es)}if(ss.isValue(this.$3)){this.$3.update(es)}},setupPressDrag:function(es){var et=by.usingPressDrag(es);if(!et){return}var eu=ss.mkdel(this,function(ex){if(by.isHandling(es,'press')){var ey=dS.$0(es,'press');ey(ex)}var ez={};by.setHandler(ez,'dragStart',dS.$0(es,'pressDragStart'));by.setHandler(ez,'dragMove',dS.$0(es,'pressDragMove'));by.setHandler(ez,'dragEnd',dS.$0(es,'pressDragEnd'));by.setHandler(ez,'pinchStart',dS.$0(es,'doublePressDragStart'));by.setHandler(ez,'pinchMove',dS.$0(es,'doublePressDragMove'));by.setHandler(ez,'pinchEnd',dS.$0(es,'doublePressDragEnd'));this.$1.update(ez);if(ss.isValue(this.$6)){this.$6.update(ez)}});var ev=ss.mkdel(this,function(ex){if(by.isHandling(es,'lastTouch')){var ey=dS.$0(es,'lastTouch');ey(ex)}this.$1.update(es);if(ss.isValue(this.$6)){this.$6.update(es)}});var ew={};by.setHandler(ew,'press',eu);by.setHandler(ew,'lastTouch',ev);this.$0.update(ew)},handleStart:function(es,et){if(et){this.$3.start(es)}this.$0.start(es);this.$1.start(es);if(ss.isValue(this.$6)){this.$6.start(es)}},dispose:function(){if(ss.isValue(this.$0)){this.$0.dispose()}if(ss.isValue(this.$1)){this.$1.dispose()}if(ss.isValue(this.$3)){this.$3.dispose()}if(ss.isValue(this.$6)){this.$6.dispose()}}},null,[ss.IDisposable]);ss.initEnum(bB,a,{mouse:1,touch:2});ss.initClass(bC,a,{});ss.initClass(bM,a,{get_theAllItemIsSelected:function(){return this.allSelected},set_theAllItemIsSelected:function(es){if(this.groupSize>0){this.allSelected=es;if(es===true){this.set_selectedIndexes(null)}else{this.set_selectedIndexes({})}}},get_selectedIndexes:function(){return this.$1$1},set_selectedIndexes:function(es){this.$1$1=es},get_selectedCount:function(){return(ss.isValue(this.get_selectedIndexes())?ss.count(Object.keys(this.get_selectedIndexes())):0)},validateAllSelectedState:function(){if(ss.isValue(this.get_selectedIndexes())&&ss.count(Object.keys(this.get_selectedIndexes()))===this.groupSize){this.set_theAllItemIsSelected(true)}},mapSelected:function(es){return function(et){return this.mapSelected$1(es).call(this,et,true)}},mapSelected$1:function(es){return function(et,eu){var ev;if(this.get_theAllItemIsSelected()&&eu){ev=[];var ew=this.groupSize;for(var ex=0;ex<ew;++ex){ev.push(ex)}}else{ev=_.map(this.get_selectedIndexes(),function(ey,ez){return ez}).sort()}return _.map(ev,function(ey){return et(ey)})}},handleTap:null,handleTapAll:null,isSelected:null,clone:null});ss.initClass(da,a,{get_selectedCount:function(){return(this.get_theAllItemIsSelected()?this.groupSize:ss.count(Object.keys(this.get_selectedIndexes())))},handleTap:function(es){if(this.get_theAllItemIsSelected()){this.set_theAllItemIsSelected(false);for(var et=0;et<this.groupSize;++et){if(et!==es){this.get_selectedIndexes()[et]=true}}}else if(this.get_selectedIndexes()[es]){delete this.get_selectedIndexes()[es]}else{this.get_selectedIndexes()[es]=true;this.validateAllSelectedState()}},handleTapAll:function(){this.set_theAllItemIsSelected(!this.get_theAllItemIsSelected())},clone:function(){var es=new da(this.groupSize);es.allSelected=this.allSelected;es.set_selectedIndexes(_.clone(this.get_selectedIndexes()));return es},isSelected:function(es){return this.get_theAllItemIsSelected()||ss.isValue(this.get_selectedIndexes())&&ss.keyExists(this.get_selectedIndexes(),es)}},bM);ss.initClass(bD,a,{get_selectedCount:function(){return(ss.isValue(this.get_selectedIndexes())?ss.count(Object.keys(this.get_selectedIndexes())):0)},mapSelected:function(es){return function(et){return this.mapSelected$1(es).call(this,et,false)}},validateAllSelectedState:function(){if(ss.isValue(this.get_selectedIndexes())&&ss.count(Object.keys(this.get_selectedIndexes()))===0){this.set_theAllItemIsSelected(true)}},handleTap:function(es){if(this.get_theAllItemIsSelected()){this.set_theAllItemIsSelected(false);this.get_selectedIndexes()[es]=true}else if(this.get_selectedIndexes()[es]){delete this.get_selectedIndexes()[es];this.validateAllSelectedState()}else{this.get_selectedIndexes()[es]=true}},handleTapAll:function(){if(this.get_theAllItemIsSelected()){this.set_theAllItemIsSelected(false);for(var es=0;es<this.groupSize;++es){this.get_selectedIndexes()[es]=true}}else{this.set_theAllItemIsSelected(true)}},clone:function(){var es=new bD(this.groupSize);es.allSelected=this.allSelected;es.set_selectedIndexes(_.clone(this.get_selectedIndexes()));return es},isSelected:function(es){return ss.isValue(this.get_selectedIndexes())&&ss.keyExists(this.get_selectedIndexes(),es)}},da);ss.initClass(dJ,a,{validateAllSelectedState:function(){if(ss.isValue(this.get_selectedIndexes())&&(ss.count(Object.keys(this.get_selectedIndexes()))===this.groupSize||ss.count(Object.keys(this.get_selectedIndexes()))===0)){{this.set_theAllItemIsSelected(true)}}},handleTap:function(es){if(this.get_theAllItemIsSelected()){this.set_theAllItemIsSelected(false)}if(!this.get_selectedIndexes()[es]){if(ss.count(Object.keys(this.get_selectedIndexes()))>0){ss.clearKeys(this.get_selectedIndexes())}this.get_selectedIndexes()[es]=true}this.validateAllSelectedState()},handleTapAll:function(){if(!this.get_theAllItemIsSelected()){this.set_theAllItemIsSelected(true)}},clone:function(){var es=new dJ(this.groupSize);es.allSelected=this.allSelected;es.set_selectedIndexes(_.clone(this.get_selectedIndexes()));return es},isSelected:function(es){return ss.isValue(this.get_selectedIndexes())&&ss.keyExists(this.get_selectedIndexes(),es)},selectNext:function(es){var et=0;var eu=et;if(this.get_selectedCount()===1){et=this.mapSelected(ss.Int32).call(this,function(ev){return ev-0})[0];eu=et+es}if(eu>=this.groupSize){if(et===this.groupSize-1){eu=0}else{eu=this.groupSize-1}}this.$0(eu)},selectPrevious:function(es){var et=this.groupSize-1;var eu=et;if(this.get_selectedCount()===1){et=this.mapSelected(ss.Int32).call(this,function(ev){return ev-0})[0];eu=et-es}if(eu<0){if(et===0){eu=this.groupSize-1}else{eu=0}}this.$0(eu)},selectFirst:function(){this.$0(0)},selectLast:function(){this.$0(this.groupSize-1)},$0:function(es){es=Math.max(0,es);es=Math.min(this.groupSize-1,es);if(this.groupSize>0){this.allSelected=false;this.set_selectedIndexes({});this.get_selectedIndexes()[es]=true}}},bM);ss.initClass(bE,a,{mapSelected:function(es){return function(et){return this.mapSelected$1(es).call(this,et,false)}},validateAllSelectedState:function(){if(ss.isValue(this.get_selectedIndexes())&&ss.count(Object.keys(this.get_selectedIndexes()))===0){this.set_theAllItemIsSelected(true)}},clone:function(){var es=new bE(this.groupSize);es.allSelected=this.allSelected;es.set_selectedIndexes(_.clone(this.get_selectedIndexes()));return es}},dJ);ss.initClass(bF,a,{render:function(){return React.DOM.span({title:this.props.fixedValue},this.props.fixedValue)}},ss.makeGenericType(x,[Object]));ss.initClass(bG,a,{});ss.initClass(bH,a,{render:function(){var es=ss.coalesce(this.props.styleClass,'tab-unification-line-arrow-dropdown');var et=null;if(this.props.isDisabled){es=es+' disabled'}if(this.props.disableArrowDown){et={display:'none'}}return React.DOM.div({className:'tab-GenericDropdownButton '+es},React.DOM.div({className:'tab-SelectionDisplay'},this.props.selectionDisplay()),React.DOM.div({className:'tab-DownArrowButton',style:et},React.DOM.div({className:'arrow down'})))}},dn);ss.initClass(bK,a,{});ss.initClass(bL,a,{render:function(){var es=new dA;es.customStyle={top:this.props.marginTop};es.extraCssClass=this.props.rootCssClass;es.scrollX=true;es.scrollY=true;es.onScroll=ss.mkdel(this,function(et){this.props.onScroll(-et.x,-et.y)});es.onScrollStop=ss.mkdel(this,function(et,eu){this.props.onScroll(-et.x,-et.y)});es.startingY=this.state.writeOnlyScrollTop;es.onScrollingControlRefUpdated=this.$0;return dz.createScroller(es,[this.props.children])},componentDidMount:function(){if(!ss.staticEquals(this.props.onRefUpdated,null)){this.props.onRefUpdated(this)}},componentWillUnmount:function(){if(!ss.staticEquals(this.props.onRefUpdated,null)){this.props.onRefUpdated(null)}},setScrollPosition$1:function(es,et){this.setState({writeOnlyScrollTop:et})},scrollBy$1:function(es,et){var eu=this.$1;this.scrollBy$2(es,et,eu.get_x(),eu.get_y(),eu.get_maxScrollX(),eu.get_maxScrollY())},scrollBy$2:function(es,et,eu,ev,ew,ex){var ey=eu+es;var ez=Math.min(Math.max(ey,0),ew);var eA=ev+et;var eB=Math.min(Math.max(eA,0),ex);this.setScrollPosition$1(ez,eB)},setScrollPosition:function(es,et){this.$1.scrollTo(es,et)},scrollBy:function(es,et){var eu=this.$1;this.scrollBy$2(es,et,eu.get_x(),eu.get_y(),eu.get_maxScrollX(),eu.get_maxScrollY())},getScrollbarWidth:function(){return 9},canScroll:function(){return this.$1.get_canScroll()},dispose:function(){this.$1.destroy()},resetPosition:function(){this.$1.resetPosition()},refresh:function(){this.$1.refresh()},handleEvent:function(es){this.$1.handleEvent(es)},getScrollContainer:function(){return ReactDOM.findDOMNode(this)}},React.Component,[Object]);ss.initClass(bN,a,{componentWillMount:function(){this.setState(this.$1)},render:function(){var es=this.props.col;var et=es.sortable;var eu=es.resizable;var ev=[];var ew='';ev.push('tab-table-hcell');if(et){ev.push('tab-table-hcell-sortable')}if(this.props.sorted){var ex=(this.props.sortAscending?'tab-table-hcell-sort-asc':'tab-table-hcell-sort-desc');ev.push(ex);ew=ex+'-icon'}if(eu){ev.push('tab-table-hcell-resizable')}var ey={className:ev.join(' ')};if(ss.isValue(es.tooltip)){ey.title=es.tooltip}var ez=React.DOM.span({className:'tab-table-hcell-text'},es.text);var eA={className:'tab-table-hdivider tb-disable-selection'};var eB={tap:ss.mkdel(this,function(eC){if(et&&!ss.staticEquals(this.props.onHeaderClicked,null)){this.props.onHeaderClicked(es.dataKey,es.defaultSortDirection)}})};return React.DOM.span({className:'tab-table-hcol',style:{width:this.props.cssWidth}},React.DOM.div({className:ew}),bw.div(eB,{},[React.DOM.div(ey,ez)]),(!es.resizable?null:React.DOM.div(eA)))},componentDidMount:function(){if(ss.staticEquals(this.props.reportWidth,null)){return}var es=this.$0();this.props.reportWidth(this.props.col.name,es)},$0:function(){var es=ReactDOM.findDOMNode(this);var et=es.getBoundingClientRect();return Math.ceil(et.right-et.left)}},dn);ss.initClass(bO,a,{componentWillMount:function(){this.$0={}},componentDidMount:function(){if(!ss.staticEquals(this.props.measureColumnWidths,null)){this.props.measureColumnWidths(this.$0)}},handleReportHeaderWidth:function(es,et){this.$0[es]=Math.max(et,(ss.keyExists(this.$0,es)?this.$0[es]:0))},render:function(){var es=ss.arrayClone(this.props.cols);var et=this.props.colWidths;var eu=this.props.onColumnResize;var ev=this.props.onHeaderClicked;var ew=_.map(es,ss.mkdel(this,function(ex){return bN.createHeaderColumn({key:ex.name,col:ex,sorted:ss.referenceEquals(this.props.sortKey,ex.dataKey),sortAscending:this.props.sortAscending,reportWidth:(ss.isNullOrUndefined(ex.preferredWidth)?this.$1:null),cssWidth:(ss.isNullOrUndefined(et)?'auto':(et.widths[ex.name]+'px')),onColumnResize:eu,onHeaderClicked:ev})}));return React.DOM.div({className:'tab-table-hrow'},React.DOM.span({className:'tab-table-hcols'},ew))}},dn);ss.initClass(bP,a,{render:function(){return dM.create({commitValue:ss.mkdel(this,this.$0),disabled:this.props.disabled,emptyTextBox:this.state.emptyTextBox,extraCssClass:this.props.extraCssClass,maxValue:this.props.maxValue,minValue:this.props.minValue,showPercentageSign:this.props.showPercentageSign,styleClass:this.props.styleClass,tabIndex:this.props.tabIndex,value:this.state.value,displayValueChanged:ss.mkdel(this,this.$1),width:this.props.width})},$1:function(es){if(this.props.disabled){return}if(ss.isNullOrUndefined(es)){this.setState({value:0,emptyTextBox:true})}else{this.setState({value:ss.unbox(es),emptyTextBox:false})}this.$2=true},$0:function(es,et){if(this.props.disabled){return}var eu=this.$2||es!==this.state.value||et;if(!ss.staticEquals(this.props.onValueChanged,null)&&eu){this.props.onValueChanged(es);this.$2=false}}},dn);ss.initClass(bQ,a,{render:function(){var es=React.DOM.div({className:'tab-unification-spinner-btn-group tab-unification-spinner-btn-group-horizontal'},bw.div({tap:ss.mkdel(this,function(et){this.$0(0)})},{className:'tab-unification-spinner-btn'},[React.DOM.span({className:'tab-img-triangle-left'})]),bw.div({tap:ss.mkdel(this,function(et){this.$0(1)})},{className:'tab-unification-spinner-btn'},[React.DOM.span({className:'tab-img-triangle-right'})]));es=React.DOM.div({className:'tab-unification-spinner-ctrl'+(this.props.disabled?' disabled':'')},es);es=React.DOM.div({className:this.props.styleClass},es);if(ss.isValue(this.props.extraCssClass)){es=React.DOM.div({className:this.props.extraCssClass},es)}return es},$0:function(es){if(this.props.disabled){return}if(!ss.staticEquals(this.props.onSpinnerClicked,null)){this.props.onSpinnerClicked(es)}}},React.Component);ss.initEnum(bR,a,{left:0,right:1});ss.initClass(bS,a,{});ss.initClass(bT,a,{start:function(es){this.cancel();this.$9=false},move:function(es){var et=es.touches[0];if(!this.$9){return}if(!this.$5(es)){return}var eu=this.$4(es);if(ss.isValue(this.$7)){this.cancel()}this.$0('moving',es,eu);this.$a=et.pageX;this.$b=et.pageY;this.$7=window.setTimeout(ss.mkdel(this,function(){if(!this.$8){this.$0('hover',es,eu)}this.$3()}),this.$6)},end:function(es){if(es.touches.length===0){this.$9=true}},out:function(es){var et=es.originalEvent['relatedTarget'];if(!ss.referenceEquals(this.$2.domElem,et)&&!tab.DomUtil.isAncestorOf(this.$2.domElem,et)){this.cancel();this.$0('mouseleave',es,this.$4(es))}},suppressHover:function(){if(!this.$8){}this.$8=true},unsuppressHover:function(){if(this.$8){}this.$8=false;this.$9=true},cancel:function(){this.$3();this.$a=0;this.$b=0;this.$9=true},$3:function(){this.$7=tab.MiscUtil.clearTimeout(this.$7)},$5:function(es){var et=es.touches[0];var eu=Math.abs(et.pageX-this.$a);var ev=Math.abs(et.pageY-this.$b);return eu+ev>this.slop},$4:function(es){var et={};et.pageX=es.changedTouches[0].pageX;et.pageY=es.changedTouches[0].pageY;et.clientX=es.changedTouches[0].clientX;et.clientY=es.changedTouches[0].clientY;return et}},bI,[ss.IDisposable]);ss.initClass(bU,a,{});ss.initClass(bV,a,{$3:function(){return ss.formatString('.{0}',ss.replaceAllString(ss.getTypeFullName(ss.getInstanceType(this)),'.','_'))},dispose:function(){if(ss.isNullOrUndefined(this.$7)){return}this.$7.remove_disposed(ss.mkdel(this,this.$2));if(ss.isValue(this.$4)){var es=this.$7.element;var et=this.$4;es.off(this.$3(),et)}else{this.$7.element.off(this.$3())}this.$7=null},$0:function(es){if(ss.isValue(this.$5)){this.$5(es)}},$1:function(es){if(ss.isValue(this.$6)){this.$6(es)}},$2:function(es,et){this.dispose()}},null,[ss.IDisposable]);ss.initClass(bX,a,{get_buttonElement:function(){return this.element},setEnabled:function(es){if(es){this.get_buttonElement().removeClass('tab-disabled');this.get_buttonElement().addClass('tab-enabled')}else{this.get_buttonElement().removeClass('tab-enabled');this.get_buttonElement().addClass('tab-disabled')}return this},setIcon:function(es){if(!ss.isValue(this.iconElement)){this.iconElement=$('<span>');this.iconElement.appendTo(this.get_buttonElement())}this.iconElement.removeClass().addClass('tab-iconButtonIcon').addClass(es);return this}},z,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(bY,a,{get_className:function(){var es=['tab-IconBtn'];es.push(this.props.customClassName);if(this.props.disabled){es.push('disabled')}return es.join(' ')},$0:function(){var es=new bZ;es.isActive=(ss.isValue(this.state)?this.state.isActive:false);return es},render:function(){return bw.div({tap:ss.mkdel(this,this.$1),firstTouch:ss.mkdel(this,function(es){if(tsConfig.is_mobile){var et=new bZ;et.isActive=true;this.setState(et)}}),lastTouch:ss.mkdel(this,function(es){if(tsConfig.is_mobile){var et=new bZ;et.isActive=false;this.setState(et)}})},{className:this.get_className(),title:this.props.title,onMouseEnter:ss.mkdel(this,function(es){if(!tsConfig.is_mobile){var et=new bZ;et.isActive=true;this.setState(et)}}),onMouseLeave:ss.mkdel(this,function(es){if(!tsConfig.is_mobile){var et=new bZ;et.isActive=false;this.setState(et)}})},[React.DOM.div({className:'tab-Icon '+this.props.iconClassName+(this.state.isActive?' active':'')})])},$1:function(es){if(!this.props.disabled&&!ss.staticEquals(this.props.onTap,null)){this.props.onTap(es)}}},React.Component);ss.initClass(bZ,a,{});ss.initInterface(ca,a,{get_viewType:null,get_viewModel:null,disposeViewModel:null});ss.initInterface(cb,a,{dragStarted:null,dragEnded:null});ss.initInterface(cc,a,{startDrag:null});ss.initInterface(cf,a,{createListItemContent:null});ss.initInterface(cg,a,{createListItemDragAvatar:null});ss.initInterface(ch,a,{add_dragStarting:null,remove_dragStarting:null,add_dragEnded:null,remove_dragEnded:null,get_avatarCreator:null,set_avatarCreator:null,startDrag:null});ss.initClass(cj,a,{render:function(){var es=this.props.val;var et={className:cj.$0,style:{width:this.props.cssWidth}};var eu={tap:ss.mkdel(this,this.handleCellClick),rightClick:ss.mkdel(this,this.handleCellRightClick)};return bw.div(eu,et,[React.DOM.div({className:cj.$1},es)])}},ss.makeGenericType(x,[Object]));ss.initEnum(cl,a,{integer:0,string:1});ss.initInterface(cn,a,{get_canScrollX:null,get_canScrollY:null,get_docSize:null,get_actualViewSize:null,set_actualViewSize:null,get_effectiveViewSize:null,get_scrollPos:null,set_scrollPos:null,setXPos:null,setYPos:null});ss.initClass(co,a,{render:function(){var es=['tab-iscroll-component'];if(this.state.hovered){es.push('hover')}if(this.state.scrolling){es.push('tabScrolling')}if(ss.isValue(this.props.extraCssClass)){es.push(this.props.extraCssClass)}if(this.props.alwaysShowScrollbarsIfScrollable){es.push('showIfScrollable')}var et=ss.arrayFromEnumerable(es).join(' ');return React.DOM.div({ref:'iscroll-wrapper',className:et,style:this.props.customStyle,onMouseOver:ss.mkdel(this,this.handleOnMouseOver),onMouseOut:ss.mkdel(this,this.handleOnMouseOut)},React.DOM.div({className:'tab-iscroll-content'},this.props.children))},componentDidMount:function(){this.$5=bC.bindWithDispose($(window),'resize',ss.mkdel(this,this.$1));var es=ReactDOM.findDOMNode(this.refs['iscroll-wrapper']);this.iScroll=new g(es,this.props);this.iScroll.on('scrollStart',ss.mkdel(this,this.handleScrollStart));this.iScroll.on('scroll',ss.mkdel(this,this.$2));this.iScroll.on('scrollEnd',ss.mkdel(this,function(){this.handleScrollStop();this.$0()}));this.$3()},componentWillUnmount:function(){this.$5=tab.MiscUtil.dispose$1(this.$5);this.iScroll.destroy();this.iScroll=null;this.$4=tab.MiscUtil.clearTimeout(this.$4)},componentDidUpdate:function(es){if(!ss.referenceEquals(this.props.startingY,es.startingY)&&ss.isValue(this.props.startingY)){this.iScroll.scrollTo(this.iScroll.x,ss.unbox(this.props.startingY),0,null);this.$0()}this.$3()},handleOnMouseOver:function(es){this.setState({hovered:true,scrolling:this.state.scrolling})},handleOnMouseOut:function(es){this.setState({hovered:false,scrolling:this.state.scrolling})},handleScrollStart:function(){this.setState({hovered:this.state.hovered,scrolling:true})},$2:function(){if(!ss.staticEquals(this.props.scrollCallback,null)){this.props.scrollCallback(this.iScroll.getComputedPosition())}},handleScrollStop:function(){this.setState({hovered:this.state.hovered,scrolling:false})},$1:function(es){this.$3()},$3:function(){this.$4=window.setTimeout(ss.mkdel(this,function(){if(ss.isValue(this.iScroll)){this.iScroll.refresh()}}),this.props.refreshDelay)},$0:function(){if(!ss.staticEquals(this.props.scrollStopCallback,null)){var es=new Object;es.x=this.iScroll.maxScrollX;es.y=this.iScroll.maxScrollY;var et=es;this.props.scrollStopCallback(this.iScroll.getComputedPosition(),et)}}},React.Component);ss.initInterface(cp,a,{get_canScrollX:null,get_canScrollY:null,get_scrollPos:null,get_maxScroll:null,get_visibleArea:null,scrollX:null,scrollY:null,setScrollTarget:null,refresh:null});ss.initClass(cr,a,{});ss.initInterface(cu,a,{add_selectableDisposed:null,remove_selectableDisposed:null,add_selectedChanging:null,remove_selectedChanging:null,add_selectedChanged:null,remove_selectedChanged:null,get_selectionId:null,set_selectionId:null,get_selected:null,set_selected:null,get_selectedClass:null,set_selectedClass:null});ss.initInterface(cx,a,{updateUberPopupViewModel:null},[ca]);ss.initClass(cy,a,{});ss.initClass(cz,a,{get_labelElement:function(){return this.element.find(this.$b)},get_label:function(){return this.get_labelElement().text()},set_label:function(es){this.get_labelElement().text(es);if(ss.isNullOrEmptyString(es)){this.get_labelElement().addClass('hide')}else{this.get_labelElement().removeClass('hide')}},setLabelContents:function(es){if(ss.isValue(es)){this.get_labelElement().html(es);this.get_labelElement().removeClass('hide')}else{this.get_labelElement().html('');this.get_labelElement().addClass('hide')}}},z,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(ec,a,{add_selectableDisposed:function(es){this.$3$1=ss.delegateCombine(this.$3$1,es)},remove_selectableDisposed:function(es){this.$3$1=ss.delegateRemove(this.$3$1,es)},add_selectedChanging:function(es){this.$3$2=ss.delegateCombine(this.$3$2,es)},remove_selectedChanging:function(es){this.$3$2=ss.delegateRemove(this.$3$2,es)},add_selectedChanged:function(es){this.$3$3=ss.delegateCombine(this.$3$3,es)},remove_selectedChanged:function(es){this.$3$3=ss.delegateRemove(this.$3$3,es)},get_selectedClass:function(){return this.$c},set_selectedClass:function(es){if(ss.referenceEquals(this.$c,es)){return}if(this.get_selected()){this.element.toggleClass(this.$c,false);this.element.toggleClass(es,true)}this.$c=es},get_selectionId:function(){return this.$d},set_selectionId:function(es){this.$d=es},get_selected:function(){return this.element.hasClass(this.$c)},set_selected:function(es){if(this.get_selected()===es){return}this.element.toggleClass(this.$c,es);this.raisePropertyChanged('selected');this.$b(this.$3$3,null)},get_preventMouseDeselect:function(){return this.$3$4},set_preventMouseDeselect:function(es){this.$3$4=es},handleClick:function(es){if(this.get_disabled()){return}var et=!this.get_selected();if(this.get_preventMouseDeselect()&&!et){return}if(!ss.staticEquals(this.$3$2,null)){var eu=new dF(et,ss.isValue(es)&&es.shiftKey,bC.isCtrlKey(es));this.$3$2(this,eu);if(eu.cancel){return}}this.set_selected(et);z.prototype.handleClick.call(this,es)},$b:function(es,et){if(!ss.staticEquals(es,null)){es(this,et)}},onDisposed:function(es){this.$b(this.$3$1,null);er.prototype.onDisposed.call(this,es)}},z,[tab.IWidget,tab.IAppendableView,ss.IDisposable,cu]);ss.initClass(cA,a,{get_labelElement:function(){return this.element.find(this.$e)},get_inputElement:function(){return this.element.find('input')},get_label:function(){return this.get_labelElement().text()},set_label:function(es){this.get_labelElement().text(es);if(ss.isNullOrEmptyString(es)){this.get_labelElement().addClass('hide')}else{this.get_labelElement().removeClass('hide')}},get_selected:function(){return ec.prototype.get_selected.call(this)},set_selected:function(es){if(this.get_selected()===es){return}var et=this.get_inputElement();if(ss.isValue(et)){et.prop('checked',(es?'checked':''))}ec.prototype.set_selected.call(this,es)},get_disabled:function(){return z.prototype.get_disabled.call(this)},set_disabled:function(es){var et=this.get_inputElement();if(ss.isValue(et)){et.prop('disabled',es)}z.prototype.set_disabled.call(this,es)}},ec,[tab.IWidget,tab.IAppendableView,ss.IDisposable,cu]);ss.initClass(cB,a,{handleBlur:function(es){if(this.props.blurBehavior===0){this.$2()}else if(this.props.blurBehavior===1){this.handleEnterPress()}},componentWillReceiveProps:function(es){if(!ss.referenceEquals(this.props.initialValue,es.initialValue)){this.setState({displayedText:es.initialValue})}},$2:function(){this.setState({displayedText:this.props.initialValue})},$0:function(){return{displayedText:(tab.MiscUtil.isNullOrEmpty$1(this.props.initialValue)?'':this.props.initialValue)}},handleInput:function(es){if(this.props.inputFilter===0){es=ss.replaceAllString(es,',','');es=ss.replaceAllString(es,'.','');var et={};if(ss.isNullOrEmptyString(es)||ss.Int32.tryParse(es,et)){this.setState({displayedText:es})}}else{this.setState({displayedText:es})}},$1:function(es){if(es.keyCode===27){es.preventDefault();es.stopPropagation();this.$2()}},handleEnterPress:function(){if(!ss.staticEquals(this.props.onCommit,null)&&!ss.referenceEquals(this.props.initialValue,this.state.displayedText)){this.props.onCommit(this.state.displayedText)}if(this.props.blurBehavior===0){this.$2()}},render:function(){var es=this.$3;var et=new Object;et.iconClassName='confirmArrowIcon';et.customClassName='confirmButton';var eu=bw.div(es,{className:'confirmButtonDiv'},[React.createElement(bY,et)]);var ev=React.createElement(SharedWidgets.TextFieldInputWidget,{text:this.state.displayedText,maxLength:9,handleChange:ss.mkdel(this,this.handleInput),handleEnter:ss.mkdel(this,this.handleEnterPress),name:'rowCount-input',style:{display:'inline-block',lineHeight:'24px',paddingBottom:'0px',paddingTop:'0px',marginBottom:'0px',marginLeft:'3px',borderStyle:'none',width:this.$4,height:'24px'}});return React.DOM.div({className:'lineEditWithButtonComponent',onKeyDown:ss.mkdel(this,this.$1),onBlur:ss.mkdel(this,this.handleBlur)},ev,eu)}},React.Component);ss.initClass(cD,a,{get_parentListView:function(){return this.$1$1},set_parentListView:function(es){this.$1$1=es},get_draggableListItemView:function(){return this.$1$2},set_draggableListItemView:function(es){this.$1$2=es},startDrag:function(es){if(ss.isNullOrUndefined(this.get_parentListView())||ss.isNullOrUndefined(this.get_draggableListItemView())||ss.isNullOrUndefined(this.get_parentListView().get_dragFeedback())){return null}return this.get_parentListView().get_dragFeedback().startDrag(this.get_parentListView(),this.get_draggableListItemView())}},null,[cc]);ss.initClass(dE,a,{add_selectionChanged:function(es){this.$1$1=ss.delegateCombine(this.$1$1,es)},remove_selectionChanged:function(es){this.$1$1=ss.delegateRemove(this.$1$1,es)},get_selectedClass:function(){return this.$8},set_selectedClass:function(es){this.$8=es},get_selectionType:function(){return this.$a},set_selectionType:function(es){this.$a=es},get_items:function(){return this.$7},get_selectedItems:function(){var es=[];var et=ss.getEnumerator(Object.keys(this.$9));try{while(et.moveNext()){var eu=et.current();es.push(this.$9[eu])}}finally{et.dispose()}return es},get_selectedItem:function(){if(this.get_numberOfSelectedItems()===0){return null}var es=Object.keys(this.$9)[0];return this.$9[es]},get_numberOfSelectedItems:function(){return ss.getKeyCount(this.$9)},addItem:function(es){es.set_selectedClass(this.$8);this.$7.push(es);if(es.get_selected()){this.$6(es,false,false)}this.$0(es)},containsItem:function(es){return ss.contains(this.get_items(),es)},dispose:function(){ss.clearKeys(this.$9);this.get_items().forEach(ss.mkdel(this,this.$5));ss.clear(this.get_items())},onItemDisposed:function(es,et){var eu=es;this.$5(eu);if(this.isItemSelected$1(eu)){delete this.$9[eu.get_selectionId()]}ss.remove(this.$7,eu)},$0:function(es){es.add_selectableDisposed(ss.mkdel(this,this.onItemDisposed));es.add_selectedChanging(ss.mkdel(this,this.handleSelectionChanging));es.add_selectedChanged(ss.mkdel(this,this.handleSelectionChanged))},$5:function(es){es.remove_selectableDisposed(ss.mkdel(this,this.onItemDisposed));es.remove_selectedChanging(ss.mkdel(this,this.handleSelectionChanging));es.remove_selectedChanged(ss.mkdel(this,this.handleSelectionChanged))},selectAll:function(){this.selectItems(this.get_items(),false)},isItemSelected$1:function(es){return ss.isValue(es)&&ss.keyExists(this.$9,es.get_selectionId())},isItemSelected:function(es){return ss.keyExists(this.$9,es)},selectItem:function(es){this.$6(es,false,true)},selectSingleItem:function(es){this.$6(es,true,true)},$6:function(es,et,eu){var ev=false;if(et||this.get_selectionType()===0){ev=this.$1(es)}ev=this.$2(es)||ev;if(eu&&ev){this.$4()}},selectItems:function(es,et){switch(this.get_selectionType()){case 0:{var eu=((ss.isValue(es)&&es.length>0)?es[0]:null);this.selectItem(eu);break}case 1:case 2:{var ev=false;if(et){ev=this.$1(null)}if(ss.isValue(es)){for(var ew=0,ex=es.length;ew<ex;ew++){ev=this.$2(es[ew])||ev}}if(ev){this.$4()}break}}},$2:function(es){if(ss.isNullOrUndefined(es)){return false}if(ss.isNullOrUndefined(es.get_selectionId())){return false}if(this.isItemSelected$1(es)){return false}if(!this.containsItem(es)){return false}this.$9[es.get_selectionId()]=es;es.set_selected(true);return true},clearSelection:function(es){if(this.$1(es)){this.$4()}},$1:function(es){var et=ss.getKeyCount(this.$9);var eu=ss.getEnumerator(Object.keys(this.$9));try{while(eu.moveNext()){var ev=eu.current();if(ss.isValue(es)&&ss.referenceEquals(ev,es.get_selectionId())){continue}this.$3(this.$9[ev])}}finally{eu.dispose()}return et>0&&ss.getKeyCount(this.$9)!==et},unselectItem:function(es){if(!this.isItemSelected$1(es)){return}this.$3(es);this.$4()},$3:function(es){delete this.$9[es.get_selectionId()];es.set_selected(false)},handleSelectionChanging:function(es,et){var eu=es;if(et.get_selecting()){this.selectItem(eu)}else if(this.get_selectionType()!==0){this.unselectItem(eu)}else if(ss.referenceEquals(this.get_selectedItem(),eu)){et.cancel=true}},handleSelectionChanged:function(es,et){var eu=es;var ev=this.isItemSelected$1(eu);if(eu.get_selected()&&!ev){this.$2(eu)}else if(!eu.get_selected()&&ev){this.$3(eu)}},$4:function(){if(!ss.staticEquals(this.$1$1,null)){this.$1$1()}}},null,[ss.IDisposable]);ss.initClass(cE,a,{$e:function(es){this.$d(ss.indexOf(this.get_items(),es))},$d:function(es){if(es<0||es>=this.get_items().length){return}this.$f=es;this.$g=null},$b:function(){this.$f=null;this.$g=null},addItem:function(es){dE.prototype.addItem.call(this,es);if(es.get_selected()&&ss.isNullOrUndefined(this.$f)&&this.get_selectionType()===0){this.$e(es)}},onItemDisposed:function(es,et){this.$b();dE.prototype.onItemDisposed.call(this,es,et)},dispose:function(){this.$b();dE.prototype.dispose.call(this)},selectItem:function(es){this.selectItemAtIndex(ss.indexOf(this.get_items(),es))},selectSingleItem:function(es){var et=ss.indexOf(this.get_items(),es);if(et<0){return}dE.prototype.selectSingleItem.call(this,es);this.$d(et)},selectItemAtIndex:function(es){dE.prototype.selectItem.call(this,this.get_items()[es]);this.$d(es)},selectItems:function(es,et){this.$c(es,et);this.$g=null},$c:function(es,et){dE.prototype.selectItems.call(this,es,et)},clearSelection:function(es){dE.prototype.clearSelection.call(this,es);this.$b()},selectItemForKey:function(es,et){if(this.get_selectionType()===2){return null}if(!ss.isValue(this.$f)){return null}var eu=es===38;var ev=es===40;if(eu||ev){if(!this.get_items()[ss.unbox(this.$f)].get_selected()){this.selectItem(this.get_items()[ss.unbox(this.$f)])}var ew=ss.unbox(this.$f)+(eu?-1:1);if(ew<0||ew>=this.get_items().length){return null}if(this.get_selectionType()===1&&et){var ex=this.$g;if(ss.isValue(this.$g)){var ey=Math.min(ss.unbox(this.$g),ss.unbox(this.$f));var ez=Math.max(ss.unbox(this.$g),ss.unbox(this.$f));if(ew>=ey&&ew<=ez){this.unselectItem(this.get_items()[ss.unbox(this.$f)])}}else{ex=this.$f}this.selectItem(this.get_items()[ew]);this.$g=ex}else{this.selectSingleItem(this.get_items()[ew]);this.$g=null}this.$f=ew;return this.get_items()[ew]}return null},handleSelectionChanging:function(es,et){var eu=es;var ev=ss.indexOf(this.get_items(),eu);if(ev<0){return}if(this.get_selectionType()===0){dE.prototype.handleSelectionChanging.call(this,es,et);return}var ew=this.$f;var ex=this.$g;this.$d(ev);if(this.get_selectionType()===2||et.get_ctrlKey()){if(et.get_selecting()){this.selectItem(eu)}else{this.unselectItem(eu)}return}if(et.get_shiftKey()&&(ss.isValue(ew)||ss.isValue(ex))){this.$g=ss.coalesce(ex,ew);var ey=Math.min(ss.unbox(this.$g),ss.unbox(this.$f));var ez=Math.max(ss.unbox(this.$g),ss.unbox(this.$f));var eA=[];for(var eB=ey;eB<=ez;eB++){eA.push(this.get_items()[eB])}this.$c(eA,true);et.cancel=true;return}this.selectSingleItem(eu);if(ss.referenceEquals(this.get_selectedItem(),eu)){et.cancel=true}},handleSelectionChanged:function(es,et){dE.prototype.handleSelectionChanged.call(this,es,et);this.$e(es)}},dE,[ss.IDisposable]);ss.initClass(cF,a,{get_viewModel:function(){return this.$g},get_selected:function(){return(this.addedToDom?ec.prototype.get_selected.call(this):this.$g.get_selected())},set_selected:function(es){ec.prototype.set_selected.call(this,es);this.get_viewModel().set_selected(es)},get_isInvalid:function(){return this.$g.get_isInvalid()},set_isInvalid:function(es){this.$f.toggleClass('invalid',es);this.get_viewModel().set_isInvalid(es)},get_isBold:function(){return this.$g.get_isBold()},set_isBold:function(es){this.$f.toggleClass('bold',es);this.get_viewModel().set_isBold(es)},get_disabled:function(){return z.prototype.get_disabled.call(this)},set_disabled:function(es){this.$f.toggleClass(this.get_disabledClass(),es);z.prototype.set_disabled.call(this,es)},init:function(){this.set_selected(this.$g.get_selected())},$e:function(es,et){switch(et.get_propertyName()){case'selected':{this.set_selected(this.get_viewModel().get_selected());break}case'invalid':{this.set_isInvalid(this.get_viewModel().get_isInvalid());break}case'bold':{this.set_isBold(this.get_viewModel().get_isBold());break}case'spotlighted':{this.element.toggleClass('tab-list-item-spotlighted',this.get_viewModel().get_spotlighted());break}}}},ec,[tab.IWidget,tab.IAppendableView,ss.IDisposable,cu]);ss.initClass(cG,a,{get_id:function(){return this.$2},get_data:function(){return this.$0},get_selected:function(){return this.$5},set_selected:function(es){if(this.$5===es){return}this.$5=es;this.notifyPropertyChanged('selected')},get_isInvalid:function(){return this.$4},set_isInvalid:function(es){if(this.$4===es){return}this.$4=es;this.notifyPropertyChanged('invalid')},get_isBold:function(){return this.$3},set_isBold:function(es){if(this.$3===es){return}this.$3=es;this.notifyPropertyChanged('bold')},get_draggable:function(){return this.$1},set_draggable:function(es){if(this.$1===es){return}this.$1=es;this.notifyPropertyChanged('draggable')},get_spotlighted:function(){return this.$6},set_spotlighted:function(es){if(this.$6===es){return}this.$6=es;this.notifyPropertyChanged('spotlighted')}},w,[ss.IDisposable,tab.IViewModel]);ss.initClass(cH,a,{create:function(){this.$0();var es=[];for(var et=0,eu=this.itemDatas.length;et<eu;et++){var ev=this.itemIds[et];var ew=(ss.isValue(this.selectionIndexes)?ss.contains(this.selectionIndexes,et):false);var ex=(ss.isValue(this.invalidIndexes)?ss.contains(this.invalidIndexes,et):false);var ey=this.itemDatas[et];var ez=new cG(ev,ey,ew,ex,false);ez.set_draggable(eu>1);var eA=ez;es.push(eA)}return es},$0:function(){tab.Param.verifyValue(this.itemDatas,'ItemDatas');tab.Param.verifyValue(this.itemIds,'ItemIds')}});ss.initClass(cI,a,{get_dragFeedback:function(){return this.$3$1},set_dragFeedback:function(es){this.$3$1=es},add_listItemsUpdated:function(es){this.$3$2=ss.delegateCombine(this.$3$2,es)},remove_listItemsUpdated:function(es){this.$3$2=ss.delegateRemove(this.$3$2,es)},get_dom:function(){return this.get_template()},get_domRoot:function(){return this.get_dom().domRoot},get_itemViews:function(){return this.$l},$j:function(){return((this.$l.length>0)?this.$l[0].element[0].offsetTop:0)},get_scrollerPosition:function(){return this.get_scrollHandler().get_scrollViewPagePosition()},get_scrollerSize:function(){return this.get_scrollHandler().get_scrollViewSize()},get_scrollHandler:function(){return this.$m},set_scrollHandler:function(es){this.$m=es||new f(this.element)},useScrollableView:function(es){this.set_scrollHandler(new e(es))},$5:function(){for(var es=0;es<this.get_viewModel().get_collection().length;es++){var et={$:this.get_viewModel().get_collection()[es]};if(ss.isValue(et.$)){var eu=this.$k.createListItemContent(et.$);var ev=new cF(eu,et.$);ev.init();ev.onDoubleClick(ss.mkdel(this,this.$8));ev.set_disabled(!this.get_viewModel().get_enabled());ev.set_isInvalid(et.$.get_isInvalid());ev.set_isBold(et.$.get_isBold());ev.onMouseEnter(ss.mkdel({itemViewModel:et,$this:this},function(ew){this.$this.$a(this.itemViewModel.$)}));ev.onMouseMove(ss.mkdel({itemViewModel:et,$this:this},function(ew){this.$this.$b(this.itemViewModel.$)}));this.$i(ev);this.$l.push(ev);this.get_viewModel().addItemToGroup(ev);ev.addToDom(this.get_dom().get_listItemContainer());et.$.add_propertyChanged(ss.mkdel(this,this.$f))}}this.$g(this.$3$2)},$c:function(es){if(!ss.isValue(es)){return}this.$h(this.$l[ss.unbox(es)])},$d:function(es){if(ss.isValue(es)){this.$h(this.$l[ss.unbox(es)])}},$8:function(es){this.get_viewModel().selectionSubmitted()},$a:function(es){this.get_viewModel().handleListItemMouseEnter(es)},$b:function(es){this.get_viewModel().handleListItemMouseMove(es)},$9:function(es){var et=this.get_viewModel().get_listItemGroup().selectItemForKey(es.which,es.shiftKey);if(ss.isValue(et)){bC.stopEvent(es);this.$h(et)}},onViewModelPropertyChanged:function(es,et){if(et.get_propertyName()==='collection'){this.$6();this.get_dom().get_listItemContainer().empty();this.$5()}else if(et.get_propertyName()==='enabled'){this.$l.forEach(ss.mkdel(this,function(eu){eu.set_disabled(!this.get_viewModel().get_enabled());this.$i(eu)}))}ss.makeGenericType(v,[cK]).prototype.onViewModelPropertyChanged.call(this,es,et)},$f:function(es,et){if(et.get_propertyName()==='draggable'){var eu=this.$7(es);this.$i(eu)}},$i:function(es){if(es.get_viewModel().get_draggable()&&!es.get_disabled()){bo.attachDragSource(es.element,new cD(this,es))}else{bo.removeDragSource(es.element)}},tabIndex:function(es){this.get_dom().get_listItemContainer().attr('tabindex',es.toString());return this},showItemAtIndex:function(es){this.$h(this.get_itemViews()[es])},$h:function(es){if(ss.isNullOrUndefined(es)){return}var et=es.element[0];this.$m.scrollToElement(et,this.$j())},$e:function(es,et){if(es===et||es<0||es>=this.get_itemViews().length||et<0||et>=this.get_itemViews().length){return}var eu=this.get_itemViews()[es];eu.element.hide();if(et<es){eu.element.insertBefore(this.get_itemViews()[et].element)}else{eu.element.insertAfter(this.get_itemViews()[et].element)}eu.element.fadeIn();ss.removeAt(this.get_itemViews(),es);ss.insert(this.get_itemViews(),et,eu)},dispose:function(){this.get_viewModel().remove_selectionModelUpdated(ss.mkdel(this,this.$c));this.get_viewModel().remove_itemMoved(ss.mkdel(this,this.$e));this.$6();ss.makeGenericType(v,[cK]).prototype.dispose.call(this)},$6:function(){this.$l.forEach(ss.mkdel(this,function(es){es.get_viewModel().remove_propertyChanged(ss.mkdel(this,this.$f));es.dispose()}));ss.clear(this.$l)},$g:function(es){if(ss.isValue(es)){es()}},$7:function(es){for(var et=0,eu=this.$l.length;et<eu;et++){if(ss.referenceEquals(this.$l[et].get_selectionId(),es.get_id())){return this.$l[et]}}return null}},ss.makeGenericType(v,[cK]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[cK])]);ss.initClass(cJ,a,{add_dragStarting:function(es){this.$1$1=ss.delegateCombine(this.$1$1,es)},remove_dragStarting:function(es){this.$1$1=ss.delegateRemove(this.$1$1,es)},add_dragEnded:function(es){this.$1$2=ss.delegateCombine(this.$1$2,es)},remove_dragEnded:function(es){this.$1$2=ss.delegateRemove(this.$1$2,es)},get_dragClassName:function(){return this.$b},set_dragClassName:function(es){this.$b=es},get_dragHoverClassName:function(){return this.$c},set_dragHoverClassName:function(es){this.$c=es},get_avatarCreator:function(){return this.$1$3},set_avatarCreator:function(es){this.$1$3=es},dispose:function(){bo.remove_dragStarted(ss.mkdel(this,this.$8));bo.remove_dragEnded(ss.mkdel(this,this.$7));this.$9();this.$0()},startDrag:function(es,et){if(ss.isNullOrUndefined(es)||ss.isNullOrUndefined(es.get_itemViews())){return null}var eu=ss.indexOf(es.get_itemViews(),et);if(eu<0){return null}this.$5(es,eu);this.$6(tab.DoubleUtil.roundToInt(this.$e.outerWidth()));this.$e.toggleClass(this.get_dragClassName(),true);this.$a();if(!ss.staticEquals(this.$1$1,null)){this.$1$1(this.$f)}bo.add_dragStarted(ss.mkdel(this,this.$8));bo.add_dragEnded(ss.mkdel(this,this.$7));var ev=this.$1(es.get_itemViews()[eu]);return new cY(this.$e,ss.mkdel(this,this.$3),ss.mkdel(this,this.$4),ev)},$5:function(es,et){this.$k=es;this.$m=this.$k.get_itemViews().length;this.$j=this.$k.get_scrollerPosition().y;this.$i=this.$j+this.$k.get_scrollerSize().h;this.$n=et;this.$l=et;var eu=es.get_itemViews()[et];this.$f=eu.get_viewModel();this.$e=eu.element},$6:function(es){this.$g=this.$2(es).appendTo($('body')).hide();this.$h=ss.Int32.div(tab.DoubleUtil.roundToInt(this.$g.outerHeight()),2)},$2:function(es){return $("<div class='tab-list-item-insertion-pointer'>").width(es)},$1:function(es){if(ss.isValue(this.get_avatarCreator())){return this.get_avatarCreator().createListItemDragAvatar(es.get_viewModel())}return new br(es)},$8:function(es){bo.remove_dragStarted(ss.mkdel(this,this.$8));bo.setDragCursor(new bb(null,'move'));bo.setDragCursor(new bb(null,'-webkit-grabbing'));bo.setDragCursor(new bb(null,'-moz-grabbing'));bo.setDragCursor(new bb(null,'grabbing'))},$7:function(es){bo.remove_dragEnded(ss.mkdel(this,this.$7));this.$0();this.$9()},$3:function(es){if(ss.isNullOrUndefined(this.$e)){return}this.$0();var et=this.$k.get_itemViews()[this.$l].element;var eu=tab.DomUtil.getElementPosition(et);var ev=this.$l>0&&(es.pageY<this.$j||es.pageY<eu.y);var ew=this.$l<this.$m-1&&(es.pageY>this.$i||es.pageY>eu.y+et.outerHeight());if(!ev&&!ew){return}var ex=(ev?-1:1);this.$l+=ex;this.$k.showItemAtIndex(this.$l);this.$a();this.$d=window.setTimeout(ss.mkdel(this,function(){this.$3(bo.get_lastDragEvent())}),10)},$a:function(){if(this.$l===this.$n){this.$g.hide();this.$e.toggleClass(this.get_dragHoverClassName(),true);return}this.$e.toggleClass(this.get_dragHoverClassName(),false);var es=this.$k.get_itemViews()[this.$l].element;var et=tab.DomUtil.getElementPosition(es);if(this.$l>this.$n){et.y+=tab.DoubleUtil.roundToInt(es.outerHeight())}tab.DomUtil.setElementPosition(this.$g,et.x,et.y-this.$h,null,false);this.$g.show()},$4:function(es){this.$0();this.$9();if(this.$n!==this.$l){this.$k.get_viewModel().moveItem(this.$n,this.$l)}if(!ss.staticEquals(this.$1$2,null)){this.$1$2(this.$f,this.$n!==this.$l)}},$9:function(){if(ss.isValue(this.$g)){this.$g.remove();this.$g=null}if(ss.isValue(this.$e)){this.$e.removeClass(this.get_dragHoverClassName());this.$e.removeClass(this.get_dragClassName());this.$e=null}},$0:function(){this.$d=tab.MiscUtil.clearTimeout(this.$d)}},null,[ch,ss.IDisposable]);ss.initClass(cK,a,{add_propsUpdated:function(es){this.$2$1=ss.delegateCombine(this.$2$1,es)},remove_propsUpdated:function(es){this.$2$1=ss.delegateRemove(this.$2$1,es)},add_selectionChanged:function(es){this.$2$2=ss.delegateCombine(this.$2$2,es)},remove_selectionChanged:function(es){this.$2$2=ss.delegateRemove(this.$2$2,es)},add_submitSelection:function(es){this.$2$3=ss.delegateCombine(this.$2$3,es)},remove_submitSelection:function(es){this.$2$3=ss.delegateRemove(this.$2$3,es)},add_listItemMouseEnter:function(es){this.$2$4=ss.delegateCombine(this.$2$4,es)},remove_listItemMouseEnter:function(es){this.$2$4=ss.delegateRemove(this.$2$4,es)},add_listItemMouseMove:function(es){this.$2$5=ss.delegateCombine(this.$2$5,es)},remove_listItemMouseMove:function(es){this.$2$5=ss.delegateRemove(this.$2$5,es)},add_selectionModelUpdated:function(es){this.$2$6=ss.delegateCombine(this.$2$6,es)},remove_selectionModelUpdated:function(es){this.$2$6=ss.delegateRemove(this.$2$6,es)},add_spotlightedItemChanged:function(es){this.$2$7=ss.delegateCombine(this.$2$7,es)},remove_spotlightedItemChanged:function(es){this.$2$7=ss.delegateRemove(this.$2$7,es)},add_itemMoved:function(es){this.$2$8=ss.delegateCombine(this.$2$8,es)},remove_itemMoved:function(es){this.$2$8=ss.delegateRemove(this.$2$8,es)},get_originalCollection:function(){return this.$7},get_collection:function(){return this.$5},get_filter:function(){return this.$4},set_filter:function(es){this.$4=es;this.$0()},get_sort:function(){return this.$9},set_sort:function(es){this.$9=es;this.$0()},$2:function(){return!ss.staticEquals(this.$4,null)||!ss.staticEquals(this.$9,null)},get_props:function(){return this.$8},get_selectionType:function(){return this.$6.get_selectionType()},get_listItemGroup:function(){return this.$6},get_firstSelectedItem:function(){var es=this.$1(1);return((es.length>0)?es[0]:null)},get_selectedItems:function(){return this.$1(this.$6.get_numberOfSelectedItems())},get_enabled:function(){return this.$3},set_enabled:function(es){if(this.$3===es){return}this.$3=es;this.notifyPropertyChanged('enabled')},dispose:function(){this.$6.remove_selectionChanged(ss.mkdel(this,this.onSelectionChanged));this.$6.dispose();ss.clear(this.$7);ss.clear(this.$5);w.prototype.dispose.call(this)},selectionSubmitted:function(){this.raiseActionEvent(this.$2$3)},handleListItemMouseEnter:function(es){this.raiseActionEvent$1(cG).call(this,this.$2$4,es)},handleListItemMouseMove:function(es){this.raiseActionEvent$1(cG).call(this,this.$2$5,es)},update:function(es){this.$7=ss.arrayClone(es);this.$0();this.$8.items=_.map(this.get_collection(),function(et){return{data:et.get_data()}});this.raiseActionEvent(this.$2$1)},addItemToGroup:function(es){this.$6.addItem(es)},$0:function(){if(this.$2()){this.$5=(ss.isValue(this.$4)?this.$7.filter(this.$4):ss.arrayClone(this.$7));if(ss.isValue(this.$9)){this.$5.sort(this.$9)}}else{this.$5=this.$7}this.notifyPropertyChanged('collection')},onSelectionChanged:function(){this.raiseActionEvent(this.$2$2)},$1:function(es){var et=[];var eu=this.$6.get_numberOfSelectedItems();if(eu===1){et.push(this.$6.get_selectedItem().get_viewModel());return et}var ev=Math.min(eu,es);for(var ew=0,ex=this.get_collection().length;ew<ex&&et.length<ev;ew++){if(this.$6.isItemSelected(this.get_collection()[ew].get_id())){et.push(this.get_collection()[ew])}}return et},setSelectedItems:function(es){if(this.get_collection().length===0){return}this.$6.remove_selectionChanged(ss.mkdel(this,this.onSelectionChanged));this.get_listItemGroup().clearSelection(null);var et=null;for(var eu=0,ev=es.length;eu<ev;eu++){var ew=es[eu];et=Math.min(ss.coalesce(et,ew),ew);this.get_collection()[ew].set_selected(true);if(this.get_listItemGroup().get_selectionType()===0){break}}this.raiseActionEvent$1(ss.makeGenericType(ss.Nullable$1,[ss.Int32])).call(this,this.$2$6,ss.coalesce(et,0));this.$6.add_selectionChanged(ss.mkdel(this,this.onSelectionChanged))},setInvalidItems:function(es){for(var et=0,eu=this.get_collection().length;et<eu;++et){this.get_collection()[et].set_isInvalid(ss.contains(es,et))}},selectItemById:function(es){for(var et=0,eu=this.get_collection().length;et<eu;et++){var ev=this.get_collection()[et];if(ss.referenceEquals(ev.get_id(),es)){this.selectItemAtIndex(et);break}}},selectItemAtIndex:function(es){this.$6.remove_selectionChanged(ss.mkdel(this,this.onSelectionChanged));var et=this.get_collection()[es];var eu=!et.get_selected();if(this.$6.get_selectionType()===0){this.clearSelection()}et.set_selected(true);if(eu){this.raiseActionEvent(this.$2$2)}this.raiseActionEvent$1(ss.makeGenericType(ss.Nullable$1,[ss.Int32])).call(this,this.$2$6,es);this.$6.add_selectionChanged(ss.mkdel(this,this.onSelectionChanged))},clearSpotlighting:function(){if(ss.isValue(this.$a)&&ss.isValue(this.get_collection()[this.$a])){this.get_collection()[this.$a].set_spotlighted(false)}this.$a=null;this.raiseActionEvent$1(ss.makeGenericType(ss.Nullable$1,[ss.Int32])).call(this,this.$2$7,this.$a)},spotlightItemAtIndex:function(es){if(ss.isValue(this.$a)&&ss.isValue(this.get_collection()[this.$a])){this.get_collection()[this.$a].set_spotlighted(false)}var et=this.get_collection()[es];if(ss.isNullOrUndefined(et)){return}et.set_spotlighted(true);this.$a=es;this.raiseActionEvent$1(ss.makeGenericType(ss.Nullable$1,[ss.Int32])).call(this,this.$2$7,this.$a)},clearSelection:function(){this.$6.clearSelection(null)},moveItem:function(es,et){if(es===et){return}var eu=this.get_collection()[es];ss.removeAt(this.get_collection(),es);ss.insert(this.get_collection(),et,eu);if(!ss.staticEquals(this.$2$8,null)){this.$2$8(es,et)}}},w,[ss.IDisposable,tab.IViewModel,ss.makeGenericType(cm,[Object])]);ss.initClass(cL,a,{get_domRootElement:function(){return this.domRoot},get_listItemContainer:function(){return this.$0}},dZ,[ss.IDisposable]);ss.initClass(cM,a,{});ss.initEnum(cO,a,{none:0,check:1,radio:2});ss.initClass(cP,a,{},dZ,[ss.IDisposable]);ss.initClass(cQ,a,{},dZ,[ss.IDisposable]);ss.initClass(cR,a,{},dZ,[ss.IDisposable]);ss.initClass(cS,a,{$a:function(){var es=this.dom.domRoot;for(var et=0;et<this.menuStack.length;et++){var eu=this.menuStack[et];es=es.add(eu.domRoot)}return es},dispose:function(){this.menuViewModel.remove_menuChanged(ss.mkdel(this,this.updateMenu));this.menuViewModel.remove_shown(ss.mkdel(this,this.shown));this.menuViewModel.remove_hidden(ss.mkdel(this,this.hidden));this.menuViewModel.remove_menuItemSelectionChanged(ss.mkdel(this,this.$9));var es=ss.mkdel(this,function(){this.menuDisposables.dispose();for(var et=0;et<this.menuStack.length;et++){var eu=this.menuStack[et];eu.dispose()}ss.clear(this.menuStack);this.removeGlass();ss.makeGenericType(v,[cT]).prototype.dispose.call(this)});this.$5(es)},removeGlass:function(){if(ss.isValue(this.glass)){this.glass.remove_click(ss.mkdel(this,this.glassClicked));this.glass.dispose();this.glass=null}},getElementForMenuItem:function(es){return(ss.isValue(es)?this.$b[es.id]:null)},getMenuElementForMenuItem:function(es){var et=this.getElementForMenuItem(es);if(ss.isNullOrUndefined(et)){return null}var eu=this.menuStack[cS.getMenuItemLevel(et)-1];if(ss.isNullOrUndefined(eu)){return null}else{return eu.domRoot}},updateMenu:function(){this.dom.content.children().remove();this.$b={};this.menuDisposables.dispose();this.menuDisposables=new tab.DisposableHolder;this.buildMenu(this.dom,this.menuViewModel.get_menu())},hidden:function(){var es=ss.mkdel(this,function(){this.dom.domRoot.detach();this.removeGlass()});this.$5(es)},shown:function(es){if(es.get_minWidth()!==0){var et=tab.DoubleUtil.roundToInt(this.dom.domRoot.outerWidth(true))-tab.DoubleUtil.roundToInt(this.dom.domRoot.width());this.dom.domRoot.css('min-width',es.get_minWidth()-et+'px')}var eu=989;if(es.relativeDom.length>0){var ev=tab.DomUtil.getComputedZIndex(es.relativeDom[0]);if(ev>=eu){eu=Math.max(1000,ev+1)}}this.removeGlass();var ew=new bJ;ew.set_zIndex(eu-1);this.glass=ew;this.glass.add_click(ss.mkdel(this,this.glassClicked));this.glass.show();this.dom.domRoot.css('z-index',eu);if(ss.isValue(es.additionalMenuClass)){this.dom.domRoot.addClass(es.additionalMenuClass)}dK.getViewport(ss.mkdel(this,function(ey){this.dom.domRoot.appendTo($('body'));this.positionMenu(ey,es,this.dom);this.dom.domRoot.css('visibility','visible');this.onAddedToDom();this.dom.domRoot.show();this.onSized()}));this.disposables.add$1(bC.bindWithDispose($(window),'resize',ss.mkdel(this,function(ey){this.menuViewModel.hide()})));var ex=ss.mkdel(this,function(ey){this.menuViewModel.hide()});tab.WindowHelper.addListener(window.self,'popstate',ex);this.disposables.add$1(new tab.CallOnDispose(function(){tab.WindowHelper.removeListener(window.self,'popstate',ex)}));bK.add_dismissTemporaryElements(ss.mkdel(this,this.onDismissTemporaryElements));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){bK.remove_dismissTemporaryElements(ss.mkdel(this,this.onDismissTemporaryElements))})))},onSized:function(){},$9:function(es,et){var eu=this.$b[es.id];if(ss.isValue(eu)&&eu.is(':visible')){eu.toggleClass('tabMenuSelectedItem',et);if(et){this.scrollToMenuItem(eu)}}},scrollToMenuItem:function(es){es.offsetParent().scrollTop(tab.DoubleUtil.roundToInt(es.position().top))},glassClicked:function(){this.menuViewModel.hide()},onDismissTemporaryElements:function(){this.menuViewModel.hide()},showSubmenu:null,activateSubmenu:function(es,et){var eu=et.data('tabMenuMenuItemLevel');if(ss.isValue(eu)&&eu<this.menuStack.length){return}var ev=new cR;ev.domRoot.addClass(this.menuViewModel.get_theme().menuClass);ev.domRoot.attr('data-sub-menu-depth',this.menuStack.length.toString());this.menuStack.push(ev);this.buildMenu(ev,es.subMenu);this.showSubmenu(es,et,ev);ev.domRoot.focus();ev.domRoot.on('blur',ss.mkdel(this,this.onBlur))},buildMenu:function(es,et){var eu=false;var ev=false;var ew=false;var ex=[];var ey=dR.targetAndClick(es.domRoot.get(0),ss.mkdel(this,this.$8));this.menuDisposables.add$1(ey);for(var ez=0;ez<et.menuItems.length;ez++){var eA=et.menuItems[ez];var eB;if(eA.isDivider){eB=(new cP).domRoot.addClass(this.menuViewModel.get_theme().dividerClass)}else{if(eA.isTextInput){var eC=this.$6(eA);eB=eC.domRoot}else if(ss.isInstanceOfType(eA,be)){eB=eA.get_domRoot()}else{var eD=(new k(eA.name,eA.enabled)).$2(eA.checkState,eA.iconClass).$3(eA.iconClassTwo).$1(eA.description).$4(eA.subMenu).$5([this.menuViewModel.get_theme().itemClass,eA.itemClass]).$0();eu=eu||eD.$2;ev=ev||eD.$3;ew=ew||eD.$1;eD.domRoot.data('tabMenuMenuItem',eA);eD.domRoot.data('tabMenuMenuItemLevel',this.menuStack.length);eB=eD.domRoot}eB.addClass('tabMenuMenuItem');if(eA.isDefault){eB.addClass('tabMenuDefaultItem')}}ex.push(eB);this.$b[eA.id]=eB}es.content.append(ex);if(!eu){es.domRoot.addClass(this.menuViewModel.get_theme().noIconClass)}if(ev){es.domRoot.addClass('tabMenuHasIconTwo')}if(!ew){es.domRoot.addClass(this.menuViewModel.get_theme().noDescClass)}if(ss.isValue(this.menuViewModel.get_selectedItem())){this.$9(this.menuViewModel.get_selectedItem(),true)}},$8:function(es){var et=$(es.target).closest('.tabMenuMenuItem');var eu=et.data('tabMenuMenuItem');if(ss.isNullOrUndefined(eu)){return}else if(ss.isValue(eu.subMenu)){this.activateSubmenu(eu,et)}else{this.menuViewModel.clickMenuItem(eu)}},onBlur:function(es){window.setTimeout(ss.mkdel(this,function(){var et=this.$a();if(et.index(document.activeElement)<0&&et.find(document.activeElement).length===0){this.get_viewModel().hide()}}))},$7:function(es){es.stopPropagation();switch(es.which){case 13:{var et=es.data['callback'];if($.isFunction(et)){et($(es.target).val())}break}case 9:{es.preventDefault();es.target.blur();this.menuViewModel.iterateFocus((es.shiftKey?-1:1),null);break}}},$6:function(es){var et=new cQ;et.textInput.keydown(ss.mkdict(['callback',es.data]),ss.mkdel(this,this.$7)).keypress(cS.$0).focus(ss.mkdel(this,function(eu){this.get_viewModel().set_focusedItem(es)})).attr('placeholder',es.description);if(!ss.isNullOrEmptyString(es.itemClass)){et.domRoot.addClass(es.itemClass)}this.disposables.add$1(new tab.CallOnDispose(function(){et.textInput.off()}));return et},$5:function(es){if($.fx.off||!this.menuViewModel.get_shouldAnimateOnClose()){es()}else{this.$a().fadeOut(50,es)}}},ss.makeGenericType(t,[cT]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[cT])]);ss.initClass(cT,a,{add_shown:function(es){this.$2$1=ss.delegateCombine(this.$2$1,es)},remove_shown:function(es){this.$2$1=ss.delegateRemove(this.$2$1,es)},add_hidden:function(es){this.$2$2=ss.delegateCombine(this.$2$2,es)},remove_hidden:function(es){this.$2$2=ss.delegateRemove(this.$2$2,es)},add_menuChanged:function(es){this.$2$3=ss.delegateCombine(this.$2$3,es)},remove_menuChanged:function(es){this.$2$3=ss.delegateRemove(this.$2$3,es)},add_menuItemClicked:function(es){this.$2$4=ss.delegateCombine(this.$2$4,es)},remove_menuItemClicked:function(es){this.$2$4=ss.delegateRemove(this.$2$4,es)},add_menuItemSelectionChanged:function(es){this.$2$5=ss.delegateCombine(this.$2$5,es)},remove_menuItemSelectionChanged:function(es){this.$2$5=ss.delegateRemove(this.$2$5,es)},add_menuItemFocusChanged:function(es){this.$2$6=ss.delegateCombine(this.$2$6,es)},remove_menuItemFocusChanged:function(es){this.$2$6=ss.delegateRemove(this.$2$6,es)},get_visible:function(){return this.$2$7},set_visible:function(es){this.$2$7=es},get_isExpanded:function(){return this.$2$8},set_isExpanded:function(es){this.$2$8=es},get_shouldAnimateOnClose:function(){return this.$2$9},set_shouldAnimateOnClose:function(es){this.$2$9=es},set_disposeOnHide:function(es){this.remove_hidden(this.$0);if(es){this.add_hidden(this.$0)}},get_menu:function(){return this.$2},set_menu:function(es){if(_.isEqual(this.$2,es)){return}this.$2=es;if(!ss.staticEquals(this.$2$3,null)){this.$2$3()}},get_theme:function(){return this.$2$10},set_theme:function(es){this.$2$10=es},get_selectedItem:function(){return this.$3},set_selectedItem:function(es){if(ss.isValue(this.$3)){if(ss.isValue(this.$2$5)){this.$2$5(this.$3,false)}}if(ss.isNullOrUndefined(es)){this.$3=null;return}this.$3=es;if(!ss.staticEquals(this.$2$5,null)){this.$2$5(this.$3,true)}},get_focusedItem:function(){return this.$1},set_focusedItem:function(es){if(ss.referenceEquals(this.$1,es)){return}if(ss.isValue(this.$1)&&!ss.staticEquals(this.$2$6,null)){this.$2$6(this.$1,false)}if(ss.isNullOrUndefined(es)||!es.enabled){this.$1=null;return}this.$1=es;if(!ss.staticEquals(this.$2$6,null)){this.$2$6(this.$1,true)}},show:function(es){this.set_isExpanded(es.expanded);if(this.get_visible()){return}this.set_visible(true);if(!ss.staticEquals(this.$2$1,null)){this.$2$1(es)}},dispose:function(){this.hide();w.prototype.dispose.call(this)},hide:function(){if(this.get_visible()===false){return}this.set_visible(false);this.raiseActionEvent(this.$2$2)},clickMenuItem:function(es){if(!es.enabled){return}this.hide();if(!ss.staticEquals(this.$2$4,null)){this.$2$4(es)}},iterateFocus:function(es,et){var eu=this.findMenuForMenuItem(this.get_focusedItem());if(ss.isNullOrUndefined(eu)){return}var ev=et;if(ss.isNullOrUndefined(ev)){ev=ss.indexOf(eu.menuItems,this.get_focusedItem())}var ew=ev;var ex=ew;do{ex+=es;if(ex>=eu.menuItems.length){ex=0}else if(ex<0){ex=eu.menuItems.length-1}}while(!eu.menuItems[ex].get_selectable()&&ex!==ew);if(ex!==ew){this.set_focusedItem(eu.menuItems[ex])}},focusByNamePrefix:function(es){es=es.toLowerCase();var et=this.findMenuForMenuItem(this.get_focusedItem());if(ss.isNullOrUndefined(et)){return}var eu=ss.indexOf(et.menuItems,this.get_focusedItem())+1;if(eu>=et.menuItems.length){eu=0}var ev=eu;do{if(et.menuItems[ev].enabled&&!et.menuItems[ev].isDivider){if(ss.isValue(et.menuItems[ev].name)&&ss.startsWithString(et.menuItems[ev].name.toLowerCase(),es)){this.set_focusedItem(et.menuItems[ev]);return}}++ev;if(ev>=et.menuItems.length){ev=0}}while(ev!==eu)},findMenuForMenuItem:function(es){if(ss.isNullOrUndefined(es)){return null}var et=null;et=function(eu){if(ss.contains(eu.menuItems,es)){return eu}for(var ev=0;ev<eu.menuItems.length;ev++){var ew=eu.menuItems[ev];if(ss.isValue(ew.subMenu)){var ex=et(ew.subMenu);if(ss.isValue(ex)){return ex}}}return null};return et(this.get_menu())},findItemContainingSubMenu:function(es){if(ss.isNullOrUndefined(es)||ss.referenceEquals(this.get_menu(),es)){return null}var et=null;et=function(eu){var ev=null;for(var ew=0;ew<eu.menuItems.length;ew++){var ex=eu.menuItems[ew];if(ss.isValue(ex.subMenu)){ev=(ss.referenceEquals(ex.subMenu,es)?ex:et(ex.subMenu));if(ss.isValue(ev)){break}}}return ev};return et(this.get_menu())}},w,[ss.IDisposable,tab.IViewModel]);ss.initClass(cV,a,{get_glass:function(){return this.$y},ensureAttachedAndSized:function(){if(ss.isValue(this.$y)||this.isAttached()){return}this.$y=new bJ;this.$y.set_opaque(true);this.$y.show();this.element.css('z-index',(this.$y.get_zIndex()+1).toString());bi.prototype.ensureAttachedAndSized.call(this)},bindToEvents:function(){bi.prototype.bindToEvents.call(this);this.disposables.add$1(bC.bindWithDispose($(window),'resize',ss.mkdel(this,this.onWindowResize)));this.disposables.add$1(bC.bindWithDispose($(window),'keyup',ss.mkdel(this,this.onDocumentKeyUp)))},detach:function(){this.$x();bi.prototype.detach.call(this)},dispose:function(){this.$x();if(ss.isValue(this.template)){this.template.dispose();this.template=null}bi.prototype.dispose.call(this)},$x:function(){if(ss.isValue(this.$y)){this.$y.dispose();this.$y=null}},$w:function(){this.configMoveDragSource(bi.defaultStationaryDialogConfigurer)},onWindowResize:function(es){this.positionInWindow()},onDocumentKeyUp:function(es){if(es.which===27){this.close(null);es.preventDefault();es.stopPropagation();return}}},bi,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);cV.$ctor1.prototype=cV.prototype;ss.initClass(cW,a,{});ss.initClass(cX,a,{});ss.initClass(cY,a,{get_dragType:function(){return'dragmove'},moveTo:function(es){if(ss.isValue(this.$4)){this.$4(es)}},endDragAt:function(es){if(ss.isValue(this.$3)){this.$3(es)}},cancelDrag:function(){if(ss.isValue(this.$2)){this.$2()}}},bp);cY.$ctor1.prototype=cY.prototype;ss.initClass(cZ,a,{add_moveAction:function(es){this.$1$1=ss.delegateCombine(this.$1$1,es)},remove_moveAction:function(es){this.$1$1=ss.delegateRemove(this.$1$1,es)},add_endAction:function(es){this.$1$2=ss.delegateCombine(this.$1$2,es)},remove_endAction:function(es){this.$1$2=ss.delegateRemove(this.$1$2,es)},get_offset:function(){return this.$4},set_offset:function(es){this.$4=es},get_elementToDrag:function(){return this.$3},get_elementToChange:function(){return this.$2},get_documentBodySize:function(){return this.$1},set_documentBodySize:function(es){this.$1=es},dispose:function(){bo.removeDragSource(this.$3)},calculateOffset:function(es){var et=this.$2.position();return{x:es.pageX-tab.DoubleUtil.roundToInt(et.left),y:es.pageY-tab.DoubleUtil.roundToInt(et.top)}},startDrag:function(es){this.$4=this.calculateOffset(es);this.$3.addClass('dragging');if(this.$0){this.$2.addClass('dragging')}return new cY(this.$3,ss.mkdel(this,this.dragMove),ss.mkdel(this,this.dragEnd),null)},dragMove:function(es){this.performMove(es);if(ss.isValue(this.$1$1)){this.$1$1(es)}},performMove:function(es){var et=es.pageX-this.$4.x;var eu=es.pageY-this.$4.y;var ev=((this.$1==='useClientSize')?document.body.clientWidth:document.body.scrollWidth);var ew=((this.$1==='useClientSize')?document.body.clientHeight:document.body.scrollHeight);et=Math.max(0,Math.min(ev-tab.DoubleUtil.roundToInt(this.$2.outerWidth()),et));eu=Math.max(0,Math.min(ew-tab.DoubleUtil.roundToInt(this.$2.outerHeight()),eu));tab.DomUtil.setElementPosition(this.$2,et,eu)},dragEnd:function(es){this.performMove(es);this.$3.removeClass('dragging');if(this.$0){this.$2.removeClass('dragging')}if(ss.isValue(this.$1$2)){this.$1$2(es)}}},null,[ss.IDisposable,cc]);ss.initClass(db,a,{},bh,[cd]);ss.initClass(dc,a,{get_isMouseEvent:function(){return this.source===1},get_isTouchEvent:function(){return this.source===2},get_isStartEvent:function(){return this.inputType===0},get_isMoveEvent:function(){return this.inputType===1},get_isOutEvent:function(){return this.inputType===3},get_isEndEvent:function(){return this.inputType===2},get_isScrollEvent:function(){return this.inputType===4},get_isRightClickEvent:function(){return this.type==='contextmenu'&&this.source===1},get_isLeftMouseEvent:function(){if(this.get_isMouseEvent()){var es=cX.getMouseButtonEnum(this.originalEvent);if(es==='left'){if(tab.BrowserSupport.get_isMac()&&this.ctrlKey){return false}return true}}return false},get_isCtrlKey:function(){return(tab.BrowserSupport.get_isMac()?this.metaKey:this.ctrlKey)},get_gestureInfo:function(){return this},get_allTouchesShareCurrentTarget:function(){var es=this.touches[0].target;var et=this.touches[1].target;if(!ss.isInstanceOfType(es,Element)||!ss.isInstanceOfType(et,Element)){return false}var eu=document.body;var ev=this.currentTarget;var ew=false;while(!ew&&ss.isValue(es)&&ss.isValue(et)){ew=true;if(!ss.referenceEquals(es,ev)&&!ss.referenceEquals(es,eu)&&ss.isInstanceOfType(es,Element)){es=es.parentNode;ew=false}if(!ss.referenceEquals(et,ev)&&!ss.referenceEquals(et,eu)&&ss.isInstanceOfType(et,Element)){et=et.parentNode;ew=false}if(ss.referenceEquals(es,et)){ew=true}}return ss.referenceEquals(es,et)},getSelectAction:function(){var es='simple';var et=this.get_isCtrlKey();if(this.shiftKey){es='range'}if(et){es='toggle'}return es},preventDefault:function(){if(typeof(this.originalEvent['preventDefault'])==='function'){this.originalEvent.preventDefault()}},stopPropagation:function(){if(typeof(this.originalEvent['stopPropagation'])==='function'){this.originalEvent.stopPropagation()}if(ss.isValue(this.reactEvent)){this.reactEvent.stopPropagation()}}});ss.initClass(dd,a,{render:function(){var es=this.props.val;var et={className:dd.$0,style:{width:this.props.cssWidth}};var eu={tap:ss.mkdel(this,this.handleCellClick),rightClick:ss.mkdel(this,this.handleCellRightClick)};return bw.div(eu,et,[React.DOM.div({},es)])}},ss.makeGenericType(x,[Object]));ss.initEnum(de,a,{reset:0,commit:1,none:2});ss.initClass(df,a,{});ss.initClass(dh,a,{$0:function(es,et){this.$1[es]=Math.max(et,(ss.keyExists(this.$1,es)?this.$1[es]:0))},componentWillMount:function(){this.$1={}},componentDidMount:function(){if(!ss.staticEquals(this.props.measureColumnWidths,null)){this.props.measureColumnWidths(this.$1)}},buildItem:function(es){var et=this.props.cols;var eu=this.props.colWidths;var ev=this.props.onClick;var ew=null;if(!ss.staticEquals(this.props.measureColumnWidths,null)){ew=ss.mkdel(this,function(ex,ey){this.$0(ex,ey)})}return y.createBodyRow({row:es,cols:et,colWidths:eu,onClick:ev,onRightClick:this.props.onRightClick,isSelected:ss.isValue(es)&&ss.contains(this.props.selectedKeys,es.key),showGridLines:this.props.showGridLines,handleReportCellWidth:ew})},getUniqueKey:function(es){return es.key},onScrollStop:function(es,et){if(es.y===et.y&&!ss.staticEquals(this.props.fetchNextPage,null)){this.props.fetchNextPage()}}},ss.makeGenericType(dg,[Object,dY]));ss.initClass(di,a,{start:function(es){if(es.touches.length<this.numTouches){return}if(this.$6){return}this.$8=es.touches[0];this.$9=es.touches[1];this.$7=this.$4();this.$5=this.$7;var et=this.$3();this.$0('pinchStart',es,et);this.$6=true},move:function(es){if(!this.$6){return}if(es.touches.length<2){this.end(es);return}this.$8=es.touches[0];this.$9=es.touches[1];this.$5=this.$3();this.$0('pinchMove',es,this.$5)},end:function(es){if(es.touches.length>this.numTouches){return}if(this.$6){this.$6=false;var et=this.$3();this.$0('pinchEnd',es,et)}},$4:function(){var es=this.$8;var et=this.$9;var eu=et.pageX-es.pageX;var ev=et.pageY-es.pageY;var ew=Math.sqrt(eu*eu+ev*ev);var ex=ss.Int32.div(eu,2)+es.pageX;var ey=ss.Int32.div(ev,2)+es.pageY;var ez={pageX:ex,pageY:ey,distance:ew};return ez},$3:function(){var es=this.$8;var et=this.$9;var eu=et.pageX-es.pageX;var ev=et.pageY-es.pageY;var ew=Math.sqrt(eu*eu+ev*ev);var ex=ss.Int32.div(eu,2)+es.pageX;var ey=ss.Int32.div(ev,2)+es.pageY;var ez={pageX:ex,pageY:ey,scale:ew/this.$7.distance,deltaX:ex-this.$7.pageX,deltaY:ey-this.$7.pageY,startX:this.$7.pageX,startY:this.$7.pageY,deltaXSinceLast:ex-this.$5.pageX,deltaYSinceLast:ey-this.$5.pageY};return ez}},bI,[ss.IDisposable]);ss.initClass(dj,a,{render:function(){var es=this.props.val;var et={title:(ss.isValue(es)?es.toString():''),className:dj.$0,style:{width:this.props.cssWidth}};var eu={tap:ss.mkdel(this,this.handleCellClick),rightClick:ss.mkdel(this,this.handleCellRightClick)};return bw.div(eu,et,[React.DOM.div({},es)])}},ss.makeGenericType(x,[Object]));ss.initClass(dk,a,{},cI,[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[cK])]);ss.initClass(dl,a,{get_viewType:function(){return dk},get_viewModel:function(){return this},get_listItemCreator:function(){return this.$b},disposeViewModel:function(){this.dispose()},updateUberPopupViewModel:function(es){}},cK,[ss.IDisposable,tab.IViewModel,ss.makeGenericType(cm,[Object]),ca,cx]);ss.initClass(dm,a,{});ss.initClass(dp,a,{});ss.initClass(dq,a,{});ss.initClass(ds,a,{});ss.initClass(du,a,{calculateOffset:function(es){var et=tab.PointUtil.fromPosition(this.get_elementToChange().position());var eu={x:0,y:0};switch(this.$5){case'bottomRight':{eu.x=et.x+tab.DoubleUtil.roundToInt(this.get_elementToChange().width())-es.pageX;eu.y=et.y+tab.DoubleUtil.roundToInt(this.get_elementToChange().height())-es.pageY;break}case'topLeft':{eu.x=es.pageX-et.x;eu.y=es.pageY-et.y;break}case'left':{eu.x=es.pageX-et.x;break}case'right':{eu.x=et.x+tab.DoubleUtil.roundToInt(this.get_elementToChange().width())-es.pageX;break}case'top':{eu.y=es.pageY-et.y;break}case'bottom':{eu.y=et.y+tab.DoubleUtil.roundToInt(this.get_elementToChange().height())-es.pageY;break}}return eu},performMove:function(es){var et=tab.PointUtil.fromPosition(this.get_elementToChange().position());var eu=tab.DoubleUtil.roundToInt(this.get_elementToChange().width());var ev=tab.DoubleUtil.roundToInt(this.get_elementToChange().height());var ew=((this.get_documentBodySize()==='useClientSize')?tab.DomUtil.get_documentBody().clientWidth:tab.DomUtil.get_documentBody().scrollWidth);var ex=((this.get_documentBodySize()==='useClientSize')?tab.DomUtil.get_documentBody().clientHeight:tab.DomUtil.get_documentBody().scrollHeight);switch(this.$5){case'bottomRight':{this.get_elementToChange().width(Math.min(es.pageX+this.get_offset().x,ew)-et.x);this.get_elementToChange().height(Math.min(es.pageY+this.get_offset().y,ex)-et.y);break}case'topLeft':{this.get_elementToChange().width(eu+(et.x-Math.max(es.pageX-this.get_offset().x,0)));this.get_elementToChange().height(ev+(et.y-Math.max(es.pageY-this.get_offset().y,0)));tab.DomUtil.setElementPosition(this.get_elementToChange(),et.x+eu-tab.DoubleUtil.roundToInt(this.get_elementToChange().width()),et.y+ev-tab.DoubleUtil.roundToInt(this.get_elementToChange().height()));break}case'left':{this.get_elementToChange().width(eu+(et.x-Math.max(es.pageX-this.get_offset().x,0)));tab.DomUtil.setElementPosition(this.get_elementToChange(),et.x+eu-tab.DoubleUtil.roundToInt(this.get_elementToChange().width()),et.y);break}case'right':{this.get_elementToChange().width(Math.min(es.pageX+this.get_offset().x,ew)-et.x);break}case'top':{this.get_elementToChange().height(ev+(et.y-Math.max(es.pageY-this.get_offset().y,0)));tab.DomUtil.setElementPosition(this.get_elementToChange(),et.x,et.y+ev-tab.DoubleUtil.roundToInt(this.get_elementToChange().height()));break}case'bottom':{this.get_elementToChange().height(Math.min(es.pageY+this.get_offset().y,ex)-et.y);break}}}},cZ,[ss.IDisposable,cc]);ss.initClass(dw,a,{add_contentChanged:function(es){this.$2$1=ss.delegateCombine(this.$2$1,es)},remove_contentChanged:function(es){this.$2$1=ss.delegateRemove(this.$2$1,es)},add_refresh:function(es){this.$2$2=ss.delegateCombine(this.$2$2,es)},remove_refresh:function(es){this.$2$2=ss.delegateRemove(this.$2$2,es)},get_content:function(){return this.$3},set_content:function(es){this.$3=es;this.raiseActionEvent(this.$2$1)},get_options:function(){return this.$4},get_scrollX:function(){return(ss.isValue(this.$4.scrollX)?this.$4.scrollX:false)},set_scrollX:function(es){this.$4.scrollX=es;if(this.get_hasCustomIndicator()){this.get_indicatorOptions().listenX=es}},get_scrollY:function(){return(ss.isValue(this.$4.scrollY)?this.$4.scrollY:false)},set_scrollY:function(es){this.$4.scrollY=es;if(this.get_hasCustomIndicator()){this.get_indicatorOptions().listenY=es}},get_hasScrollBars:function(){return this.get_scrollY()||this.get_scrollX()},get_hasCustomIndicator:function(){return ss.isValue(this.$4.indicators)},set_hasCustomIndicator:function(es){if(es){if(ss.isNullOrUndefined(this.$4.indicators)){this.get_options().indicators=new Object;this.get_options().indicators.listenX=this.get_scrollX();this.get_options().indicators.listenY=this.get_scrollY()}}else{this.get_options().indicators=null}},get_indicatorOptions:function(){return this.get_options().indicators},$0:function(es){this.$4={};this.set_hasCustomIndicator(es);if(tsConfig.is_mobile){this.$1()}else{this.$2()}},$2:function(){if(!this.get_hasCustomIndicator()){this.$4.scrollbars='custom';this.$4.interactiveScrollbars=true}this.$4.mouseWheel=true;this.$4.disableMouse=true},$1:function(){if(!this.get_hasCustomIndicator()){this.$4.scrollbars='custom'}},triggerRefresh:function(){this.raiseActionEvent(this.$2$2)}},w,[ss.IDisposable,tab.IViewModel]);dw.$ctor1.prototype=dw.prototype;ss.initEnum(dy,a,{iScroll:0});ss.initClass(dA,a,{});ss.initClass(dB,a,{get_className:function(){var es=[ss.makeGenericType(A,[Object]).prototype.get_className.call(this)];es.push('selectable');if(this.props.isSelected){es.push('selected');if(this.props.isButtonTextMarkedAsExcluded){es.push('excluded')}}else{es.push('unselected');es.push('tab-DesignTint')}return es.join(' ')}},ss.makeGenericType(A,[Object]));ss.initClass(dC,a,{$7:function(){return this.state.currentSelection},$6:function(){return this.props.showApplyAndCancelButtons&&!ss.referenceEquals(this.state.currentSelection,this.state.currentlyAppliedSelection)},$1:function(es){var et=es;if(ss.isValue(et)){et=et.clone()}return{currentlyAppliedSelection:es,currentSelection:et}},componentWillReceiveProps:function(es){if(!ss.referenceEquals(es.selection,this.state.currentlyAppliedSelection)){this.setState(this.$1(es.selection))}},$0:function(){if(ss.referenceEquals(this.$7(),this.state.currentlyAppliedSelection)){return}this.setState(this.$1(this.$7()));if(!ss.staticEquals(this.props.onSelectionChanged,null)){this.props.onSelectionChanged(this.$7())}},$5:function(){this.setState(this.$1(this.state.currentlyAppliedSelection))},render:function(){var es=this.props.allOption&&this.$7().groupSize>0;var et;et=dp.generateUniqueKeys(String).call(null,_.map(this.props.items,function(ew){return ew.label}),[(es?'__ALL__':null)]);var eu=(!ss.isNullOrEmptyString(this.props.className)?('tab-vScrollable '+this.props.className):'tab-vScrollable');if(this.props.showApplyAndCancelButtons){eu+=' apply-cancel'}var ev='tab-SelectableButtonGroup'+(this.props.hasAnyIcons?' hasIcons':'');return React.DOM.div({className:ev},React.DOM.div({className:eu,role:'listbox'},(es?ss.mkdel(this,function(){return React.createElement(dB,{border:this.props.borders,label:this.props.allItem.label,tooltip:this.props.allItem.tooltip,buttonStyle:this.props.buttonStyle,labelStyle:this.props.labelStyle,isSelected:this.$7().get_theAllItemIsSelected(),isButtonTextMarkedAsExcluded:false,onTap:ss.mkdel(this,function(ew){this.$3()}),key:'__ALL__',getCustomContentBefore:this.props.allItem.getCustomContentBefore,getCustomContentAfter:this.props.allItem.getCustomContentAfter,additionalRoles:['option']})})():null),_.map(this.props.items,ss.mkdel(this,function(ew,ex){return React.createElement(dB,{border:this.props.borders,disabled:ew.disabled,label:ew.label,tooltip:ew.tooltip,buttonStyle:this.props.buttonStyle,labelStyle:this.props.labelStyle,isSelected:this.$7().isSelected(ex),isButtonTextMarkedAsExcluded:this.props.isSelectionExclusive,onTap:ss.mkdel(this,function(ey){this.$4(ex)}),key:et[ex],testId:ew.testId,getCustomContentBefore:ew.getCustomContentBefore,getCustomContentAfter:ew.getCustomContentAfter,additionalRoles:['option']})}))),(this.props.showApplyAndCancelButtons?ss.mkdel(this,function(){return React.DOM.div({className:'tab-ApplyCancelPanel'},React.createElement(B,{label:this.props.applyButtonLabel,customClassName:'apply',border:false,onTap:ss.mkdel(this,function(ew){this.$0()}),disabled:!this.$6()}),React.createElement(B,{label:this.props.cancelButtonLabel,customClassName:'cancel',border:false,onTap:ss.mkdel(this,function(ew){this.$5()}),disabled:!this.$6()}))})():null))},$3:function(){this.$7().handleTapAll();this.$2()},$4:function(es){this.$7().handleTap(es);this.$2()},$2:function(){if(this.props.showApplyAndCancelButtons){this.setState(this.state)}else{this.$0()}}},React.Component);ss.initClass(dD,a,{});ss.initClass(dF,a,{get_selecting:function(){return this.$1},get_shiftKey:function(){return this.$2},get_ctrlKey:function(){return this.$0}},ss.CancelEventArgs);ss.initEnum(dG,a,{single:0,multiGrouped:1,multiToggle:2});ss.initClass(dH,a,{didMount:function(es,et){var eu={};if(!ss.staticEquals(et.pointerClick,null)){eu.tap=function(ev){et.pointerClick(ev.reactEvent)}}if(!ss.staticEquals(et.pointerDown,null)){eu.firstTouch=function(ev){et.pointerDown(ev.reactEvent)}}if(!ss.staticEquals(et.pointerUp,null)){eu.lastTouch=function(ev){et.pointerUp(ev.reactEvent)}}this.$0.updateEventHandleSpec(es,eu)},getHtmlAttributes:function(es){return this.$0.get_eventHandlingAttributesForReact()},willUnmount:function(){this.$0.dispose()}},null,[Object]);ss.initClass(dI,a,{get_minWidth:function(){return this.$1$1},set_minWidth:function(es){this.$1$1=es}});ss.initClass(dK,a,{get_dimensions:function(){return this.$0},get_getVisibleRoomFunc:function(){return this.$1},getVisibleRoom:function(es){if(!ss.staticEquals(this.get_getVisibleRoomFunc(),null)){return this.get_getVisibleRoomFunc()(es)}var et=2147483647;return{roomAbove:2147483647,roomBelow:2147483647,roomLeft:2147483647,roomRight:2147483647}}});ss.initClass(dL,a,{componentDidMount:function(){bK.add_firstTouch(ss.mkdel(this,this.$2));bK.add_dismissTemporaryElements(ss.mkdel(this,this.$1));$(window).on('resize'.toString(),ss.mkdel(this,this.$0))},componentWillUnmount:function(){bK.remove_firstTouch(ss.mkdel(this,this.$2));bK.remove_dismissTemporaryElements(ss.mkdel(this,this.$1));$(window).off('resize'.toString(),ss.mkdel(this,this.$0))},componentDidUpdate:function(){if(this.props.isSelecting){dK.getViewport(ss.mkdel(this,this.$4))}},$2:function(es,et){if(ss.isValue(this.$6)&&this.$6.contains(es.target)){return}this.props.onFocusLost()},$1:function(){this.props.onFocusLost()},$0:function(es){if(this.props.isSelecting){dK.getViewport(ss.mkdel(this,this.$4))}},$4:function(es){var et=ReactDOM.findDOMNode(this.refs['selector']);var eu=ReactDOM.findDOMNode(this.refs['relative']);if(ss.isNullOrUndefined(et)||ss.isNullOrUndefined(eu)){return}var ev=$(et);var ew=this.props.getDesiredHeight(ev);var ex=$(eu);var ey=tab.PointUtil.fromPosition(ex.offset());var ez=es.getVisibleRoom(ey);var eA=ex.innerHeight();var eB=ez.roomBelow-eA-3;var eC=ez.roomAbove-3;var eD=eB>=Math.min(ew,eC);var eE=(eD?eB:eC);ew=Math.min(ew,ss.Int32.trunc(eE));var eF=(eD?'auto':(eA+'px'));var eG=(eD?(eA+'px'):'auto');ev.css('bottom',eF);ev.css('top',eG);ev.height(ew);if(!ss.staticEquals(this.props.getMinimumWidth,null)){var eH=this.props.getMinimumWidth(ev);if(eH>ez.roomRight){var eI=eH-ez.roomRight+13;ev.css('left',-1*eI+'px')}ev.css('min-width',eH)}},$3:function(es){if(!ss.staticEquals(this.props.onKeyDown,null)){this.props.onKeyDown(es)}},render:function(){var es='tab-Dropdown';if(!ss.isNullOrUndefined(this.props.styleClass)){es+=' '+this.props.styleClass}return React.DOM.div({className:es,role:'combobox',onKeyDown:ss.mkdel(this,this.$3),'aria-expanded':this.props.isSelecting,ref:this.$5},bw.div({tap:ss.mkdel(this,function(et){this.props.onSelectorToggled()})},{className:'tab-DropdownButton',role:'button',tabIndex:ss.coalesce(this.props.tabIndex,0),ref:'relative'},[this.props.renderButton()]),(this.props.isSelecting?this.renderSelector():null))},renderSelector:function(){return[React.DOM.div({className:'tab-SelectorContainerOuter',key:'selector-container-outer',ref:'selector'},React.DOM.div({className:'tab-SelectorContainer',key:'selector-container'},this.props.children))]}},React.Component);ss.initClass(dM,a,{$f:function(){if(ss.isNullOrUndefined(this.$i)){return null}var es=this.$i.value;if(ss.isNullOrEmptyString(es)){return null}var et=parseInt(tableau.format.convertFullwidthNumberToAscii(es));return this.$c(et)},$g:function(){if(ss.isNullOrUndefined(this.$j)){return 0}var es=parseInt(this.$j.value);return this.$c(es)},componentWillMount:function(){this.$0()},componentWillUnmount:function(){this.$a()},$0:function(){this.$b();bK.add_dragEnd(ss.mkdel(this,this.$3))},$a:function(){bK.remove_dragEnd(ss.mkdel(this,this.$3))},$b:function(){this.$h=false},$3:function(es,et){if(this.$h){this.$2(this.$g(),false);this.$b()}},render:function(){var es=React.DOM.input({type:'range',value:this.props.value.toString(),min:this.props.minValue,max:this.props.maxValue,className:'tabHorizontalSlider',style:{width:this.props.width},disabled:this.props.disabled,onInput:ss.mkdel(this,this.$4),onChange:ss.mkdel(this,this.$4),onMouseUp:ss.mkdel(this,this.$6),onMouseDown:ss.mkdel(this,this.$5),ref:ss.mkdel(this,this.$e),key:'sliderInput'});var et={type:'text',value:(this.props.emptyTextBox?'':this.props.value.toString()),className:'tabHorizontalSliderPercentageText',disabled:this.props.disabled,onInput:ss.mkdel(this,this.$8),onChange:ss.mkdel(this,this.$8),onKeyUp:ss.mkdel(this,this.$9),onBlur:ss.mkdel(this,this.$7),ref:ss.mkdel(this,this.$d),key:'sliderBox'};if(ss.isValue(this.props.tabIndex)){et.tabIndex=ss.unbox(this.props.tabIndex)}var eu=React.DOM.input(et);var ev=[];ev.push(eu);if(this.props.showPercentageSign){ev.push(React.DOM.div({className:'tabHorizontalSliderPercentageSign',key:'percentageSign'},'%'))}return React.DOM.div({className:this.props.styleClass+(this.props.disabled?' disabled':'')+(ss.isNullOrUndefined(this.props.extraCssClass)?'':(' '+this.props.extraCssClass))},React.DOM.div({className:'unification-slider-control tabHorizontalSliderContainer'},es),ev)},$7:function(es){this.$2(ss.coalesce(this.$f(),0),false)},$9:function(es){if(es.which===13){this.$2(ss.coalesce(this.$f(),0),true)}},$8:function(es){this.$1(this.$f())},$6:function(es){if(this.$h){this.$2(this.$g(),false)}else{this.$1(this.$g())}},$5:function(es){this.$h=true},$4:function(es){this.$1(this.$g())},$1:function(es){if(this.props.disabled){return}this.props.displayValueChanged(es)},$2:function(es,et){if(this.props.disabled){return}this.props.commitValue(es,et)},$e:function(es){this.$j=null;if(ss.isValue(es)){this.$j=es}},$d:function(es){this.$i=null;if(ss.isValue(es)){this.$i=es}},$c:function(es){if(_.isNaN(es)||es<this.props.minValue){return this.props.minValue}else if(es>this.props.maxValue){return this.props.maxValue}return es}},dn);ss.initClass(dN,a,{},cz,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(dO,a,{updateWidgetState:function(es){this.get_widget().set_label(es.label);this.get_widget().set_disabled(ss.coalesce(es.disabled,false));this.get_widget().set_hoverTooltipText(es.tooltipText)},handleWidgetPropertyChanged:function(es,et){}},ss.makeGenericType(dt,[cz,Object,Object]));ss.initClass(dP,a,{});ss.initClass(dQ,a,{add_tabChanged:function(es){this.$1$1=ss.delegateCombine(this.$1$1,es)},remove_tabChanged:function(es){this.$1$1=ss.delegateRemove(this.$1$1,es)},get_domRoot:function(){return this.$5.get_root()},get_tabs:function(){return this.$5.get_tabs()},get_contentArea:function(){return this.$5.get_contentArea()},get_activeTabId:function(){return this.$4},set_activeTabId:function(es){if(!ss.referenceEquals(this.$4,es)){this.$4=es;if(ss.isValue(this.$1$1)){this.$1$1()}}},addTab:function(es,et,eu,ev){if(ss.keyExists(this.$3,es)){return}var ew=this.$5.createTabLabel(es,et);ew.domRoot.addClass('tabTabLabelId-'+es);var ex=new ec(ew.domRoot);var ey=ss.mkdel(this,function(ez,eA){if(eA.get_propertyName()==='selected'&&ex.get_selected()){this.$0(eu.get_rootElement(),es)}});ex.add_propertyChanged(ey);this.$2.add$1(new tab.CallOnDispose(function(){ex.remove_propertyChanged(ey)}));this.$2.add$1(ex);this.$1.addItem(ex);this.$3[es]=ex;this.$5.get_tabs().append(ew.domRoot);eu.addToDom(this.$5.get_contentArea());if(ev){this.selectTab(es)}else{ex.set_disabled(true)}},selectTab:function(es){if(!ss.keyExists(this.$3,es)){return}this.$1.selectItem(this.$3[es])},enableTab:function(es,et){if(!ss.keyExists(this.$3,es)){return}this.$3[es].set_disabled(!et);this.selectTab(this.get_activeTabId())},dispose:function(){this.$2.dispose();this.$1.dispose()},$0:function(es,et){this.$5.get_contentArea().children().hide();es.show();this.set_activeTabId(et)}},null,[ss.IDisposable]);ss.initClass(dR,a,{$9:function(es){this.$1$1=ss.delegateCombine(this.$1$1,es)},$a:function(es){this.$1$1=ss.delegateRemove(this.$1$1,es)},$5:function(es){this.$1$2=ss.delegateCombine(this.$1$2,es)},$6:function(es){this.$1$2=ss.delegateRemove(this.$1$2,es)},$7:function(es){this.$1$3=ss.delegateCombine(this.$1$3,es)},$8:function(es){this.$1$3=ss.delegateRemove(this.$1$3,es)},$b:function(es){this.$1$4=ss.delegateCombine(this.$1$4,es)},$c:function(es){this.$1$4=ss.delegateRemove(this.$1$4,es)},get_stopPropagationOnEvent:function(){return this.$4},set_stopPropagationOnEvent:function(es){this.$4=es},dispose:function(){if(ss.isValue(this.handler)){this.handler.dispose();this.handler=null}this.$1.dispose()},onPress:function(es){this.$9(es);this.$1.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$a(es)})));return this},onClick:function(es){this.$5(es);this.$1.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$6(es)})));return this},onDoubleClick:function(es){this.$7(es);this.$1.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$8(es)})));this.$0('doubleTap',ss.mkdel(this,this.handleDoubleClickEvent));return this},onRightClick:function(es){this.$b(es);this.$1.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$c(es)})));return this},$0:function(es,et){if(!by.isHandling(this.eventConfig,es)){var eu={};by.setHandler(eu,es,et);this.handler.update(eu);$.extend(this.eventConfig,eu)}},raiseEvent:function(es,et,eu){if(ss.isValue(et)){if(eu){es.stopPropagation()}et(es)}},handlePressEvent:function(es){this.$2=es.pageX;this.$3=es.pageY;this.raiseEvent(es,this.$1$1,false)},handleClickEvent:function(es){this.raiseEvent(es,this.$1$2,this.$4);if(es.type==='touchend'){I.preventGhostClick(this.$2,this.$3)}},handleDoubleClickEvent:function(es){this.raiseEvent(es,this.$1$3,this.$4)},handleRightClickEvent:function(es){es.preventDefault();this.raiseEvent(es,this.$1$4,this.$4)}},null,[ss.IDisposable]);ss.initClass(dS,a,{get_domElement:function(){return this.config.domElem},setupEventRecognizer:function(es){this.$2=new bA(es);this.$2.setupPressDrag(es)},suppressHover:function(){if(by.isUsingHover(this.config)){this.$2.suppressHover()}},unsuppressHover:function(){if(by.isUsingHover(this.config)){this.$2.unsuppressHover()}},cancelHover:function(){if(by.isUsingHover(this.config)){this.$2.cancelHover()}},getHandledEvents:function(){var es=[];var et=this.config;var eu=ss.getEnumerator(Object.keys(et));try{while(eu.moveNext()){var ev=eu.current();if(ss.isValue(et[ev])&&ss.referenceEquals(ss.getInstanceType(et[ev]),Function)){es.push(ev)}}}finally{eu.dispose()}return es},update:function(es){$.extend(this.config,es);this.$2.updateAllGestures(this.config);this.$2.setupPressDrag(this.config)},destroy:function(){this.dispose()},dispose:function(){if(ss.isValue(this.$3)){var es=ss.getEnumerator(dc.get_allHandledEvents());try{while(es.moveNext()){var et=es.current();this.$3.domElement.removeEventListener(et.toString(),this.$3.eventHandler)}}finally{es.dispose()}}if(ss.isValue(this['debugger'])){this['debugger']['destroy']()}this.$2.dispose()},configureDomElem:function(es){if(!ss.equalsT(es.tagName.toLowerCase(),'input')&&(ss.isNullOrUndefined(es.style['user-select'])||ss.staticEquals(es.style['user-select'],''))&&(ss.isNullOrUndefined(es.style['-webkit-user-select'])||ss.staticEquals(es.style['-webkit-user-select'],''))){es.style['-webkit-user-select']='none'}es.style['-webkit-touch-callout']='none';es.style['-webkit-tap-highlight-color']='transparent';es.style['-ms-touch-action']='none'},$1:function(es){if(es.touches.length>1&&!es.get_allTouchesShareCurrentTarget()){this.$2.cancelAllGestures();return true}return false},handler:function(es){var et=!tsConfig.is_mobile&&es.get_isTouchEvent();var eu=tab.DomUtil.handleTouchEvents(es.target);if(et&&!eu){return}else if(et&&eu){if(ss.keyExists(es.originalEvent,'preventDefault')){es.originalEvent.preventDefault()}}if(this.$1(es)){return}this.$2.handleEvent(es,this.config)},$0:function(es){var et=ss.mkdel(this,function(ew){var ex=dc.create(ew,this.config.domElem,null);this.handler(ex)});this.$3={domElement:es,eventHandler:et};var eu=ss.getEnumerator(dc.get_allHandledEvents());try{while(eu.moveNext()){var ev=eu.current();es.addEventListener(ev.toString(),et,false)}}finally{eu.dispose()}}},null,[ss.IDisposable]);dS.$ctor1.prototype=dS.prototype;ss.initClass(dT,a,{get_eventHandlingAttributesForReact:function(){return this.$2$1},set_eventHandlingAttributesForReact:function(es){this.$2$1=es},updateEventHandleSpec:function(es,et){this.config=et||{};this.config.domElem=es;this.configureDomElem(es);this.setupEventRecognizer(this.config)},$4:function(){var es={};var et=ss.mkdel(this,function(ex){var ey=dc.create(ex.nativeEvent,this.config.domElem,ex);this.handler(ey)});var eu=ss.getEnumerator(dc.get_allHandledEvents());try{while(eu.moveNext()){var ev=eu.current();var ew=dT.$0(ev);if(ss.isValue(ew)){es[ew]=et}else{}}}finally{eu.dispose()}return es}},dS,[ss.IDisposable]);ss.initClass(dU,a,{componentWillMount:function(){this.setState(this.$3)},render:function(){var es=this.props.rows;if(ss.isNullOrUndefined(es)||es.length===0){return React.DOM.div({className:'tab-table-body'})}var et=this.$1();var eu=this.state.indexOfFirstVisibleSection*dU.sectionHeight;var ev=React.DOM.div({style:{paddingTop:eu,height:es.length*y.outerHeight-eu}},et);var ew=[];ew.push('tab-table-body');if(this.props.showHeaders){ew.push('tab-table-body-below-headers')}return React.DOM.div({className:ew.join(' ')},ev)},$1:function(){return React.createElement(dh,{items:_.map(this.props.rows,function(es){return{data:es}}),fetchNextPage:this.props.fetchNextPage,cols:this.props.cols,colWidths:this.props.colWidths,measureColumnWidths:this.props.measureColumnWidths,onClick:this.props.onClick,onRightClick:this.props.onRightClick,selectedKeys:this.props.selectedKeys,showGridLines:this.props.showGridLines})},componentDidMount:function(){this.$0(this.props.requestedFocusedRowIndex)},componentWillReceiveProps:function(es){if(!ss.referenceEquals(es.requestedFocusedRowIndex,this.props.requestedFocusedRowIndex)){this.$0(es.requestedFocusedRowIndex)}},$0:function(es){if(ss.isValue(es)){this.setState({focusedRowIndex:Math.min(Math.max(ss.unbox(es),0),this.props.rows.length-1)},ss.mkdel(this,function(){this.$2();return null}))}},$2:function(){var es=$(ReactDOM.findDOMNode(this));var et=tab.DoubleUtil.roundToInt(es.scrollTop());var eu=tab.DoubleUtil.roundToInt(es.height())-dX.scrollbarWidth;var ev=ss.unbox(this.state.focusedRowIndex)*y.outerHeight;var ew=ev+y.outerHeight;if(ev<et){window.setTimeout(function(){es.scrollTop(ev)},0)}else if(ew>et+eu){window.setTimeout(function(){es.scrollTop(ew-eu)},0)}}},React.Component);ss.initClass(dV,a,{});ss.initEnum(dW,a,{ascending:0,descending:1});ss.initClass(dX,a,{componentWillReceiveProps:function(es){this.$4(es)},componentWillMount:function(){this.setState({isShowingLoadingIndicator:true})},componentDidMount:function(){var es=ReactDOM.findDOMNode(this).getBoundingClientRect();this.$7=Math.ceil(es.right-es.left);this.$4(this.props)},$5:function(es,et){var eu={};eu[es.name]=et},$3:function(es){this.$b=es;this.$4(this.props)},$2:function(es){this.$a=es;this.$4(this.props)},$4:function(es){if(ss.isValue(this.$a)&&(!es.showHeaders||ss.isValue(this.$b))){var et={};var eu={};var ev=0;_.each(es.cols,ss.mkdel(this,function(eD){var eE=eD.name;var eF;if(ss.isValue(eD.preferredWidth)){eF=ss.unbox(eD.preferredWidth)}else{eF=Math.max(this.$a[eE],(ss.isValue(this.$b)?this.$b[eE]:0))}et[eE]=eF;var eG=(ss.isNullOrUndefined(es.maxColumnWidth)?dX.$2:ss.unbox(es.maxColumnWidth));eu[eE]=((eG===-1)?eF:Math.min(eF,dX.$2));ev+=eu[eE]}));var ew=this.$7-ev;var ex=0;for(var ey=0;ey<es.cols.length&&ew>0;ey++){var ez=es.cols[ey];var eA=et[ez.name]-eu[ez.name];if(eA>0){var eB=Math.min(eA,ew);eu[ez.name]+=eB;ew-=eB}if(ez.growToFit){ex+=1}}if(ew>0&&ex>0){var eC=ss.Int32.div(ew,ex);_.each(es.cols,function(eD){if(eD.growToFit){eu[eD.name]+=eC}})}this.setState({colWidths:{widths:eu}});if(!ss.staticEquals(es.reportWidth,null)){es.reportWidth(ev+dX.scrollbarWidth)}}return null},render:function(){var es=this.props.cols;var et=this.props.rows;var eu=this.state.colWidths;var ev=this.state.scrollLeft;var ew=null;var ex=null;if(this.props.showHeaders){ew=bO.createHeaderRow({key:'header',cols:es,colWidths:eu||this.$1(),sortKey:this.props.sortKey,sortAscending:this.props.sortAscending,onHeaderClicked:this.props.onHeaderClicked,measureColumnWidths:this.$9,scrollLeft:ev,onColumnResize:this.$c})}if(ss.isValue(et)&&et.length>0){ex=dU.createTableBody({key:'body',showHeaders:this.props.showHeaders,showGridLines:this.props.showGridLines,cols:es,colWidths:eu,measureColumnWidths:this.$8,reportScrollLeft:this.$6,rows:et,requestedFocusedRowIndex:this.props.requestedFocusedRowIndex,selectedKeys:this.props.selectedKeys||dX.$1,onClick:this.props.onCellClick,onRightClick:this.props.onCellRightClick,fetchNextPage:this.props.fetchNextPage})}else{ex=bv.createEmptyBody({key:'emptyBody',emptyChild:React.DOM.div({},this.props.emptyChild)})}var ey=new dA;ey.augmentedScrollY=false;ey.extraCssClass='tab-react-data-grid-hscroll';ey.mouseWheel=false;ey.scrollbars=true;ey.scrollX=true;ey.scrollY=false;var ez=ey;var eA=dz.createScroller(ez,[React.DOM.div({className:'tb-react-data-grid',tabIndex:0,style:{outline:'none',height:this.props.height}},ew,ex)]);return React.DOM.div({ref:'TableComponent'},eA)},$1:function(){if(ss.isNullOrUndefined(this.$b)){return null}var es=0;var et=0;_.each(this.props.cols,ss.mkdel(this,function(ex){if(ss.isValue(ex.preferredWidth)){es+=ss.unbox(ex.preferredWidth)}else{es+=this.$b[ex.name]}if(ex.resizable){et++}}));var eu=this.$7-dX.scrollbarWidth-es;var ev={widths:{}};if(eu>0&&et>0){var ew=ss.Int32.div(eu,et);_.each(this.props.cols,ss.mkdel(this,function(ex){if(ex.resizable){var ey;if(ss.isValue(ex.preferredWidth)){ey=ss.unbox(ex.preferredWidth)}else{ey=this.$b[ex.name]}ev.widths[ex.name]=ey+ew}}))}else if(et===0){ev.widths=this.$b}return ev},$0:function(es){if(es!==this.state.scrollLeft){this.setState({scrollLeft:es})}}},React.Component);ss.initClass(dY,a,{});ss.initClass(ea,a,{render:function(){var es='tab-SelectionText'+(this.props.isSelectionTextMarkedAsExcluded?' excluded':'');var et=ss.coalesce(this.props.styleClass,'tab-unification-outline-dropdown');return React.createElement(bH,{styleClass:'tab-TextDropdownButton '+et,selectionDisplay:ss.mkdel(this,function(){return[(!ss.isNullOrEmptyString(this.props.selectionIconClass)?ss.mkdel(this,function(){return React.DOM.span({className:'tab-Icon '+this.props.selectionIconClass,key:'icon'})})():null),React.DOM.span({className:es,key:'text'},this.props.selectionText)]})})}},dn);ss.initClass(ed,a,{add_toggled:function(es){this.$2$1=ss.delegateCombine(this.$2$1,es)},remove_toggled:function(es){this.$2$1=ss.delegateRemove(this.$2$1,es)},get_toggleValue:function(){return this.$0},set_toggleValue:function(es){if(es!==this.get_toggleValue()){this.raiseToggled()}this.$0=es},get_data:function(){return this.$2$2},set_data:function(es){this.$2$2=es},raiseToggled:function(){if(!ss.staticEquals(this.$2$1,null)){this.$2$1()}}},w,[ss.IDisposable,tab.IViewModel]);ss.initEnum(ee,a,{left:0,center:1,right:2});ss.initEnum(ef,a,{left:0,right:1});ss.initEnum(eg,a,{blockAndAutoHide:0,doNotBlockAndAutoHide:1,doNotBlockAndStayOpen:2});ss.initClass(eh,a,{isPopupHeightLimited:function(){return this.limitPopupHeight||ss.isValue(this.maxPopupHeight)}});eh.$ctor1.prototype=eh.prototype;ss.initClass(ei,a,{get_caretHeight:function(){if(!ss.isValue(ei.$1)){ei.$1=tab.DoubleUtil.roundToInt(this.caret.outerHeight())}return ss.unbox(ei.$1)}},dZ,[ss.IDisposable]);ss.initEnum(ej,a,{standard:0,minimalist:1});ss.initClass(ek,a,{get_uberPopupShadowHeight:null,get_uberPopupMinimalistShadowHeight:function(){return 0},get_width:function(){return this.element.outerWidth(false)},get_height:function(){return this.element.outerHeight(false)},get_dom:function(){return this.get_template()},$6:function(){this.element.attr('tabindex','-1').on('keydown',ss.mkdel(this,function(es){if(es.which===27&&!(es.metaKey||es.shiftKey||es.ctrlKey||es.altKey)){this.get_viewModel().hide(false);es.preventDefault();es.stopPropagation()}}));if(this.get_viewModel().options.popupMode===0){this.get_viewModel().add_shown(ss.mkdel(this,function(){bG.trapFocus(this.element)}))}},dispose:function(){this.disposeContent();this.popupViewModel.remove_shown(ss.mkdel(this,this.shown));this.popupViewModel.remove_hidden(ss.mkdel(this,this.hidden));this.disposeGlass();this.$a();ss.makeGenericType(v,[el]).prototype.dispose.call(this)},disposeContent:function(){if(ss.isValue(this.contentView)){this.contentView.dispose()}},updateMode:function(){if(!this.visible){return}switch(this.popupViewModel.get_mode()){case 0:{this.$a();this.showGlass();break}case 1:{this.hideGlass();this.$5();break}case 2:{this.$a();this.hideGlass();break}}},onViewModelPropertyChanged:function(es,et){if(et.get_propertyName()==='mode'){this.updateMode()}else if(et.get_propertyName()==='size'){this.positionPopup()}else if(et.get_propertyName()==='content'){this.updateContent()}},shown:function(){var es=this.get_viewModel().options;this.updateContent();this.visible=true;this.updateMode();if(es.theme===1){this.element.addClass('tabUberPopupMinimal')}if(es.useCaret){this.get_dom().domRoot.addClass('tabUberCaretStyle')}this.element.css('left','0px').css('top','0px');this.element.appendTo('body');this.contentView.addToDom(this.get_template().content);if(ss.isValue(es.additionalClassNames)){es.additionalClassNames.forEach(ss.mkdel(this,function(et){this.element.addClass(et)}))}if(this.popupViewModel.options.isToolbarFlyout&&tsConfig.is_mobile){this.element.show();this.positionPopup()}else{this.element.hide();this.positionPopup();this.element.show();if(this.get_viewModel().options.focusOnShown){window.setTimeout(ss.mkdel(this,function(){if(!$.contains(this.element[0],document.activeElement)){this.element.focus()}}))}}},hidden:function(){this.visible=false;this.hideGlass();this.element.hide();this.element.detach()},showGlass:function(){if(ss.isNullOrUndefined(this.glass)){this.glass=new bJ;this.glass.set_zIndex(this.popupViewModel.options.glassZIndex);this.glass.add_click(ss.mkdel(this,this.glassClicked))}this.glass.show()},hideGlass:function(){if(ss.isValue(this.glass)){this.glass.hide()}},disposeGlass:function(){if(ss.isValue(this.glass)){this.glass.remove_click(ss.mkdel(this,this.glassClicked));this.glass.dispose();this.glass=null}},glassClicked:function(){this.element.fadeOut(50,ss.mkdel(this,function(){this.popupViewModel.hide(true)}))},$5:function(){bK.add_firstTouch(ss.mkdel(this,this.$8));bK.add_dismissTemporaryElements(ss.mkdel(this,this.$7))},$a:function(){bK.remove_firstTouch(ss.mkdel(this,this.$8));bK.remove_dismissTemporaryElements(ss.mkdel(this,this.$7))},$8:function(es,et){if(this.get_template().domRoot.get(0).contains(es.target)){return}if(ss.isValue(this.popupViewModel.options.globalTouchWhitelist)){for(var eu=0;eu<this.popupViewModel.options.globalTouchWhitelist.length;eu++){var ev=this.popupViewModel.options.globalTouchWhitelist[eu];if(ev.contains(es.target)){return}}}this.popupViewModel.hide(false)},$7:function(){this.popupViewModel.hide(false)},positionPopup:function(){if(ss.isNullOrUndefined(this.get_viewModel().get_relativeElement())||this.get_viewModel().get_relativeElement().length<1){return}this.get_viewModel().get_resizeContent()(this.get_template().content,this.element);this.element.css('z-index',this.popupViewModel.options.glassZIndex+1);var es=this.get_viewModel().options;if(!es.isPopupHeightLimited()){this.element.css('max-height','100%')}this.positionPopupHorizontally();if(es.isToolbarFlyout){this.$9()}else{this.positionPopupVertically()}this.get_dom().caret.toggle(es.useCaret);this.get_dom().caretBorder.toggle(es.useCaret)},positionPopupHorizontally:function(){var es=this.get_viewModel().options;var et=this.get_viewModel().get_relativeElement();var eu=$(et.prop('ownerDocument'));var ev=this.get_width();var ew=tab.DomUtil.getPageOffset(et).left;if(es.horizontalAlign===1){ew+=et.outerWidth(false)/2;ew-=ev/2}else if(es.horizontalAlign===2){ew+=et.outerWidth(false);ew-=ev}var ex=ew+ev-eu.width();if(ex>0){ew-=ex}if(es.horizontalAttach===0){this.element.css('right','');this.element.css('left',Math.max(ew,0)+'px')}else{var ey=$('body').outerWidth(true);var ez=ey-(ew+ev);ez-=Math.max(0,ez+ev-ey);this.element.css('left','');this.element.css('right',ez+'px')}if(es.isToolbarFlyout){this.element.css('min-width',tab.DoubleUtil.roundToInt(et.outerWidth(false)))}},$9:function(){var es=this.get_viewModel().options;var et=this.get_viewModel().get_relativeElement();var eu=$('body');var ev=tab.DomUtil.getPageOffset(et).top;if(es.preferUp){ev+=1;ev+=(es.coverRelativeElement?et.outerHeight(false):0);var ew=eu.outerHeight(true);this.element.css('top','');this.element.css('bottom',ss.Int32.trunc(ew-ev)+'px')}else{ev-=1;ev+=(es.coverRelativeElement?0:et.outerHeight(false));this.element.css('bottom','');this.element.css('top',ss.Int32.trunc(ev)+'px')}},positionPopupVertically:function(){var es=this.get_viewModel().options;var et=this.get_viewModel().get_relativeElement();var eu=tab.DomUtil.getPageOffset(et);var ev=tab.DomUtil.roomAroundPosition(eu);var ew=et.outerHeight(false);var ex=((es.theme===1)?this.get_uberPopupMinimalistShadowHeight():this.get_uberPopupShadowHeight());if(es.isPopupHeightLimited()){this.$b(ev,ex,ew)}var ey=this.get_height();var ez=ev.roomBelow>=ey+ew+ex;var eA=ev.roomAbove>ey+ex;var eB=this.popupViewModel.options.useCaret;if(eB){eA=ev.roomAbove>ey+this.get_dom().get_caretHeight()+4+ex}var eC=eu.top+ew;var eD=eu.top-ey;var eE;if(es.preferUp&&eA){eE=eD}else if(ez&&!eB){eE=eC}else if(eA){eE=eD}else if(ev.roomBelow>=ev.roomAbove&&!eB){eE=eu.top-(ey-ev.roomBelow+ex)}else{eE=eu.top-ev.roomAbove+ex}if(eB){eE-=this.get_dom().get_caretHeight()+4}this.element.css('top',eE+'px')},$b:function(es,et,eu){var ev=this.get_viewModel().options;var ew=null;if(ev.limitPopupHeight){ew=Math.max(es.roomAbove,es.roomBelow-eu)-et}if(ss.isValue(ev.maxPopupHeight)){var ex=ew;if(ss.isNullOrUndefined(ex)){ex=Number.MAX_VALUE}var ey=ex;ew=Math.min(ey,ss.unbox(ev.maxPopupHeight))}if(ss.isValue(ew)){this.element.css('max-height',ew+'px')}},updateContent:function(){this.disposeContent();var es=this.get_template().content;es.children().detach();this.contentView=this.get_viewModel().createContentView();if(this.visible){this.contentView.addToDom(es)}}},ss.makeGenericType(v,[el]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[el])]);ss.initClass(el,a,{add_shown:function(es){this.$2$1=ss.delegateCombine(this.$2$1,es)},remove_shown:function(es){this.$2$1=ss.delegateRemove(this.$2$1,es)},add_hidden:function(es){this.$2$2=ss.delegateCombine(this.$2$2,es)},remove_hidden:function(es){this.$2$2=ss.delegateRemove(this.$2$2,es)},add_commit:function(es){this.$2$3=ss.delegateCombine(this.$2$3,es)},remove_commit:function(es){this.$2$3=ss.delegateRemove(this.$2$3,es)},get_mode:function(){return this.options.popupMode},set_mode:function(es){if(this.options.popupMode===es){return}this.options.popupMode=es;this.notifyPropertyChanged('mode')},get_content:function(){return this.$0},set_content:function(es){this.$0=es;if(ss.isValue(this.$0)){this.$0.updateUberPopupViewModel(this)}this.notifyPropertyChanged('content');this.notifyPropertyChanged('size')},set_disposeOnHide:function(es){this.remove_hidden(ss.mkdel(this,this.dispose));if(es){this.add_hidden(ss.mkdel(this,this.dispose))}},get_relativeElement:function(){return this.$1()},set_relativeElement:function(es){this.$1=function(){return es}},get_resizeContent:function(){return this.$2$4},set_resizeContent:function(es){this.$2$4=es},createContentView:function(){return tab.ObjectRegistry.newView$1(ss.makeGenericType(tab.IView$1,[tab.IViewModel])).call(null,this.get_content().get_viewType(),[this.get_content().get_viewModel()])},updatePosition:function(){this.notifyPropertyChanged('size')},show:function(){if(ss.isNullOrUndefined(this.$2$1)){return}this.$2$1()},hide:function(es){if(es&&ss.isValue(this.$2$3)){this.$2$3()}this.raiseActionEvent(this.$2$2)},addDisposables:function(es){this.disposables.add$1(es)}},w,[ss.IDisposable,tab.IViewModel]);el.$ctor1.prototype=el.prototype;ss.initClass(em,a,{});ss.initClass(en,a,{},cU);ss.initClass(eo,a,{},cU);ss.initClass(ep,a,{render:function(){var es=this.state.displayValue;if(this.props.disabled&&ss.isValue(this.props.disabledText)){es=this.props.disabledText}var et=React.DOM.input({type:'text',value:es,onChange:ss.mkdel(this,this.$8),onBlur:ss.mkdel(this,this.$0),disabled:this.props.disabled,maxLength:this.props.maxLength,onKeyDown:ss.mkdel(this,this.$5),onKeyUp:ss.mkdel(this,this.$6)});var eu=React.DOM.div({className:'tab-unification-spinner-btn-group tab-unification-spinner-btn-group-vertical'},bw.div({tap:ss.mkdel(this,function(ew){this.$7()})},{className:'tab-unification-spinner-btn'},[React.DOM.span({className:'tab-img-triangle-up'})]),bw.div({tap:ss.mkdel(this,function(ew){this.$2()})},{className:'tab-unification-spinner-btn'},[React.DOM.span({className:'tab-img-triangle-down'})]));var ev=React.DOM.div({className:'tab-unification-spinner-ctrl'+(this.props.disabled?' disabled':'')},et,eu);if(ss.isValue(this.props.label)){ev=React.DOM.div(null,React.DOM.span({className:'tab-unification-spinner-label'+(this.props.disabled?' disabled':'')},this.props.label),ev)}ev=React.DOM.div({className:ss.coalesce(this.props.styleClass,'tab-outline-spinner')},ev);if(ss.isValue(this.props.extraCssClass)){ev=React.DOM.div({className:this.props.extraCssClass},ev)}return ev},componentWillReceiveProps:function(es){this.setState(ep.$0(es.initialValue))},componentWillUnmount:function(){this.$1()},$8:function(es){this.$1();var et=es.target;this.setState({value:this.state.value,pendingValue:this.state.pendingValue,displayValue:et.value})},$0:function(es){this.$1();var et={};if(!ss.Int32.tryParse(this.state.displayValue,et)){et.$=this.state.value}this.$a(et.$)},$5:function(es){switch(es.keyCode){case 38:{this.$1();this.$9(this.state.pendingValue+this.props.stepSize);break}case 40:{this.$1();this.$9(this.state.pendingValue-this.props.stepSize);break}case 13:{this.$0(null);break}}},$6:function(es){switch(es.keyCode){case 38:case 40:{this.$3(this.state.pendingValue);break}}},$7:function(){if(this.props.disabled){return}this.$3(this.state.pendingValue+this.props.stepSize)},$2:function(){if(this.props.disabled){return}this.$3(this.state.pendingValue-this.props.stepSize)},$3:function(es){this.$1();if(this.props.actionDelay===0){this.$a(es)}else{this.$9(es);this.$b=window.setTimeout(ss.mkdel(this,function(){this.$a(this.state.pendingValue)}),this.props.actionDelay)}},$1:function(){this.$b=tab.MiscUtil.clearTimeout(this.$b)},$a:function(es){es=this.$4(es);var et=es!==this.state.value;this.setState(ep.$0(es));if(et&&!ss.staticEquals(this.props.onValueChanged,null)){this.props.onValueChanged(es)}},$4:function(es){if(ss.isValue(this.props.minValue)){es=Math.max(es,ss.unbox(this.props.minValue))}if(ss.isValue(this.props.maxValue)){es=Math.min(es,ss.unbox(this.props.maxValue))}return es},$9:function(es){es=this.$4(es);this.setState({value:this.state.value,pendingValue:es,displayValue:es.toString()})}},React.Component);ss.initClass(eq,a,{});(function(){bC.$0=0})();(function(){dz.$1=null;dz.$1={};dz.$1[0]=b})();(function(){d.$0="<span class='tabTabLabel' />"})();(function(){cX.$2=null;cX.$3=null;cX.$1=false})();(function(){h.$3={};h.$9={};h.$6={};h.$5={};h.$7={};h.$8={};h.$4={};h.$2()})();(function(){dc.$0=0})();(function(){i.$3=new Array(10)})();(function(){j.$0="\n<div class='tabMenuItem' role='menuitem'>\n  <div class='tabMenuItemNameArea'>\n    <span class='tabMenuItemName'/>\n  </div>\n</div>"})();(function(){l.$0="<div class='tab-editable-text-view'><div><div class='view-mode'><span class = 'text-span'/></div><input class='edit-mode' type='text'/></div></div>"})();(function(){m.$0="<div class='tabTextInputView'><input class='tabTextInputViewInputElement' type='text'/></div>"})();(function(){n.$0="<div><div class='tabTabLabels'/><div class='tabTabContentArea'/></div>"})();(function(){er.$2='widgetInstance';er.$1='tab-widget';er.$0='.tab-disableSelection';er.$3=0;er.selectableNodeClass=null;if(tab.FeatureParamsLookup.getBool(33)===true){$(document.head).append('<style type="text/css">.tab-DesignTint { background-color: #F1F1FC; }</style>')}er.selectableNodeClass='tab-selectable'})();(function(){cW.$8=null})();(function(){I.suppressClickBustingClass=SharedWidgets.SuppressClickBustingClass;I.$2=25;I.$3=null;I.$1$1=null})();(function(){bb.noOp=new bb('cursors/dragnop-black.cur','auto');bb.delete$1=new bb('cursors/dragdel-black.cur','auto');bb.copy=new bb('cursors/dragcopy-black.cur','auto');bb.move=new bb('cursors/dragmove-black.cur','auto')})();(function(){bK.$1$1=null;bK.$1$2=null;bK.$1$3=null;bK.$1$4=null;bK.$1$5=null;bK.$1$6=null;bK.$1$7=null})();(function(){bT.hoverTime=150;bT.fastHoverTime=120})();(function(){bI.doubleTapTime=390;bI.potentialPressTime=500;bI.pressTime=750;bI.defaultSlop=5;bI.$1='tab-'})();(function(){bJ.glassClass='tab-glass';bJ.$1="<div class='tab-glass clear-glass'></div>";bJ.$0='clear-glass';bJ.$2='opaque-glass'})();(function(){bo.$g='tabDragSource';bo.$i='.tabDragSource';bo.$h='tabDragSource';bo.$j='tabDropTarget';bo.$l='.tabDropTarget';bo.$k='tabDropTarget';bo.$n=null;bo.$o=null;bo.$v=null;bo.$u=null;bo.$x=null;bo.$w=0;bo.$m=null;bo.$t=null;bo.$q=null;bo.$r=null;bo.$y=[];bo.$s=null;bo.$p=null;bo.$1$1=null;bo.$1$2=null;bo.$1$3=null;bo.$1$4=null;bo.$1$5=null;bo.$t={};bo.$t.dragStart=bo.dragStart;bo.$t.dragMove=bo.dragMove;bo.$t.dragEnd=bo.dragEnd;bo.$t.pressEnd=bo.dragEnd;bo.$t.firstTouch=bo.firstTouch})();(function(){bA.$2='none'})();(function(){dT.$1=null})();(function(){dj.$0='tab-table-bcell tab-table-textcell'})();(function(){dd.$0='tab-table-bcell tab-table-numcell'})();(function(){cj.$0='tab-table-bcell tab-table-imgcell';cj.$1='tab-table-imgcell-container'})();(function(){y.$0='bodyRow';y.innerHeight=30;y.outerHeight=y.innerHeight;y.$1='tab-table-brow-selected'})();(function(){ec.defaultSelectedClassName='selected';ec.selectedProperty='selected';ec.toggleClassProperty='selectedClass';ec.$1=0})();(function(){cA.$2="<span class='tab-checkbox'><input type='checkbox'></input><span class='label hide'></span></span>";cA.$4="<span class='tab-radio'><input type='radio'></input><span class='label hide'></span></span>";cA.$5="<span class='tab-icon-toggle'><span class='icon'></span><span class='label hide'></span></span>";cA.$3="<span class='innerIcon'></span>";cA.$6='.label';cA.$1='hide';cA.$7='tab-unification-check';cA.$8='tab-img-check';cA.$9='tab-unification-radio'})();(function(){eb.textPropertyName='text'})();(function(){H.$0="<div class='tabTextInputView'><span class='tabClearableTextBoxClearButton'/><div class='tabTextInputViewInputElementContainer'><input class='tabTextInputViewInputElement' type='text'/></div></div>"})();(function(){J.$1=10;J.$0=300;J.$2=0})();(function(){dC.$0='__ALL__'})();(function(){dK.getSpiffBrowserViewportFunc=null})();(function(){dL.$2='selector';dL.$0='relative';dL.$1=3;dL.$3=13})();(function(){cN.$0=0})();(function(){S.$0="<span class='tabComboBox tab-ctrl-formatted-widget tab-ctrl-formatted-darker-border-hover'>\n    <span class='tabComboBoxIcon'/>\n    <div class='tabComboBoxNameContainer tab-ctrl-formatted-fixedsize'><span class='tabComboBoxName'/></div>\n    <div class='tabComboBoxButtonHolder'><span class='tabComboBoxButton'/></div>\n</span>"})();(function(){cR.$0="<div class='tabMenu' tabindex='-1' role='menu'><div class='tabMenuContent'/></div>"})();(function(){cP.$0="<div class='tabMenuItemDivider' role='separator' />"})();(function(){cQ.$0="\n<div class='tabMenuItemTextInputPanel' role='menuitem'>\n  <div class='tabMenuItemTextInputHolder'>\n    <input class='tabMenuItemTextInput' type='text'>\n  </div>\n</div>"})();(function(){cS.defaultMenuItem='tabMenuDefaultItem';cS.classMenuItem='tabMenuMenuItem';cS.keyMenuItem='tabMenuMenuItem';cS.menuFadeDurationMs=50;cS.$4='tabMenuMenuItemLevel';cS.$2='tabMenuHasIconTwo';cS.$1=989;cS.$3=1000})();(function(){V.$0='hasIcons'})();(function(){U.iconPressedClass='tabComboBoxNoIconPressed';U.invalidClass='invalid';U.noIconClass='tabComboBoxNoIcon';U.pressedClass='pressed';U.disabledClass='disabled';U.classesForTheme=ss.mkdict([0,'tabComboStdTheme',1,'tabComboCompactTheme',2,'tabComboStdTheme tabUnification',3,'tabComboStdTheme tab-unification-line-arrow-dropdown'])})();(function(){cF.listItemSpotlightedClassName='tab-list-item-spotlighted';cF.boldClass='bold';cF.invalidClass='invalid'})();(function(){cG.selectedProperty='selected';cG.invalidProperty='invalid';cG.draggableProperty='draggable';cG.spotlightedProperty='spotlighted';cG.boldProperty='bold'})();(function(){cK.collectionProperty='collection';cK.enabledProperty='enabled'})();(function(){cL.$0="<div class='tab-list'><div class='tab-list-itemHolder'></div></div>"})();(function(){tab.ObjectRegistry.registerType(dk,dk).call(null)})();(function(){eh.startingGlassZIndex=987})();(function(){bG.$8='tab-showFocusIndicator';bG.$7='keydown.'+ss.getTypeName(bG);bG.$a=true;bG.$9=null})();(function(){ek.minimalistThemeClass='tabUberPopupMinimal'})();(function(){W.listClassName='tabCompositeSearchWidgetList';W.$0=400})();(function(){cz.$1="<a href='#' class='tab-link-button'><span class='label hide'></span></a>";cz.$0="<button class='tab-button' type='button'><span class='icon'></span><span class='label hide'></span></button>";cz.$2="<button class='tab-button' type='button'>\n            <div class='paired-icon'>\n                <span class='icon menu-button'></span>\n                <span class='tabComboBoxButton'></span>\n            </div>\n            <span class='label hide'></span></button>";cz.$3="<span class='tab-text-button'><span class='label hide'></span></span>";cz.$4='.label'})();(function(){Y.$0="<div class='tabCompositeSearchWidget'><div>"})();(function(){bc.$0="<div class='tabCustomScroller'>\n            <div class='tabScrollerContentWindow'><span class='tabScrollerContent'/></div>\n            <div class='tabVerticalScrollbar'><div class='tabScrollbarIndicator'/></div>\n            <div class='tabHorizontalScrollbar'><div class='tabScrollbarIndicator'/></div>\n        </div>"})();(function(){bf.$0="<div class='tabScroller'><span class='tabScrollerContent'/></div>"})();(function(){bg.$1=1;bg.$0=9})();(function(){bd.centeredVerticallyClassName='centeredVertically';bd.scrollableClassName='scrollable';bd.$1=8})();(function(){cY.$0=function(){}})();(function(){df.$c=2500;df.$d=75;df.$j=null;df.$k=null;df.$e=0;df.$f=0;df.$i=null;df.$h=null;df.$g=false;df.$1$1=null;df.init()})();(function(){bi.positionProperty='position';bi.isActiveProperty='isActive';bi.$0='active';bi.$2='.tab-dialogCloseButton';bi.$1='.tab-dialogBodyContainer';bi.$7='.tab-dialogTitleBar';bi.$8='.tab-dialogTitle';bi.$5='.tab-dialogResizer';bi.$6='.tab-dialogSpinnerContainer';bi.$4="\n<div class='tab-dialog'>\n  <div class='tab-dialogTitleBar'>\n    <div class='tab-dialogTitle'></div>\n    <div class='tab-dialogCloseButton'></div>\n  </div>\n  <div class='tab-dialogBodyContainer'></div>\n  <div class='tab-dialogResizer tab-icon-resize-se'><div class='tab-dialogResizerHit'/></div>\n  <div class='tab-dialogSpinnerContainer'></div>\n</div>\n";bi.$9=null;bi.$3=new db;bi.defaultDraggableDialogConfigurer=null;bi.defaultStationaryDialogConfigurer=null;bi.defaultDraggableDialogConfigurer=function(es){var et=new cZ(es.$u,es.$g,false);et.set_documentBodySize('useClientSize');return et};bi.defaultStationaryDialogConfigurer=function(){return null}})();(function(){bu.$0='editing';bu.$1='hover'})();(function(){cJ.$0=10})();(function(){SharedWidgets.PointerEventAdapterManager.adapterFactory=function(){return new dH}})();(function(){dP.$1="<span class='tabTextIconButton'><span class='icon'/><span class='label hide'/></span>"})();(function(){tab.ObjectRegistry.registerType(dQ,dQ).call(null)})();(function(){dX.dataGridClass='tb-react-data-grid';dX.$0='TableComponent';dX.$2=200;dX.$1=[];dX.scrollbarWidth=20;dX.minimumColumnWidth=35})();(function(){dU.sectionRows=10;dU.sectionHeight=dU.sectionRows*y.outerHeight})();(function(){ei.contentClassName='tabUberPopupContent';ei.caretClassName='tabUberArrow';ei.caretBorderClassName='tabUberArrow2';ei.$0="<div class='tabUberPopup'><div class='tabUberPopupContent'/><div class='tabUberArrow'/><div class='tabUberArrow2'/></div>";ei.$1=null})();(function(){em.designTint='tab-DesignTint';em.text='tab-Text';em.bold='tab-bold';em.italic='tab-italic';em.underline='tab-underline';em.darkBackground='tab-darkBackground';em.title='tab-Title';em.button='tab-UnifiedButton';em.icon='tab-Icon';em.iconButton='tab-IconBtn';em.vScrollable='tab-vScrollable';em.selectableButtonGroup='tab-SelectableButtonGroup';em.selectionMark='tab-SelectionMark';em.active='active';em.hover='hover';em.hitTestArea='tab-HitTestArea';em.focused='focused';em.bordered='bordered';em.disabled='disabled';em.selectable='selectable';em.selected='selected';em.unselected='unselected';em.excluded='excluded';em.search='tab-Search';em.searchField='tab-UnifiedSearchField';em.searchClearButton='tab-SearchClearButton';em.positioningContainer='tab-PositioningContainer';em.searchInput='tab-SearchInput';em.ghostText='tab-GhostText';em.textInput='tab-TextInput';em.glass='tab-Glass';em.catQF='tab-NewQF-CategoricalQuickFilter';em.titleAndCtrl='tab-TitleAndControls';em.horizontalLayout='tab-HorizontalLayout';em.qfTitleBarButton='tab-NewQFTitleBarBtn';em.dropdownButtonIcon='tab-NewQFTitleBarDropdownBtnIcon';em.searchButtonIcon='tab-NewQFTitleBarSearchBtnIcon';em.clearButtonEnabledIcon='tab-NewQFTitleBarFilteredBtnIcon';em.clearButtonDisabledIcon='tab-NewQFTitleBarNonFilteredBtnIcon';em.domainButtonAllIcon='tab-NewQFTitleBarDomainAllIcon';em.domainButtonContextIcon='tab-NewQFTitleBarDomainContextIcon';em.domainButtonRelevantIcon='tab-NewQFTitleBarDomainRelevantIcon';em.applyCancelPanel='tab-ApplyCancelPanel';em.applyCancel='apply-cancel';em.apply$1='apply';em.cancel='cancel';em.sliderControlClass='unification-slider-control';em.sliderContainerClass='tabHorizontalSliderContainer';em.sliderInputClass='tabHorizontalSlider';em.sliderTextBoxClass='tabHorizontalSliderPercentageText';em.sliderPercentageClass='tabHorizontalSliderPercentageSign'})()})();;
/*! BEGIN LegacyDojoModuleInterfaces */
(function(){'dont use strict';var a={};global.tab=global.tab||{};ss.initAssembly(a,'vqllegacydojomoduleinterfaces');var b=function(w){var x=function(){};ss.registerGenericInterfaceInstance(x,b,[w],{},function(){return[ss.IDisposable,tab.IAppendableView,ss.makeGenericType(tab.IView$1,[w])]});ss.setMetadata(x,{variance:[1]});return x};b.__typeName='tab.ICategoricalLegendView$1';ss.initGenericInterface(b,a,1);global.tab.ICategoricalLegendView$1=b;var c=function(){};c.__typeName='tab.ICategoricalLegendViewModel';global.tab.ICategoricalLegendViewModel=c;var d=function(){};d.__typeName='tab.IContinuousSlider';global.tab.IContinuousSlider=d;var e=function(){};e.__typeName='tab.IContinuousSliderViewModel';global.tab.IContinuousSliderViewModel=e;var f=function(){};f.__typeName='tab.ICurrentPagePanelWidgetShim';global.tab.ICurrentPagePanelWidgetShim=f;var g=function(){};g.__typeName='tab.IFilterPanelWidgetShim';global.tab.IFilterPanelWidgetShim=g;var h=function(){};h.__typeName='tab.ILegacyDojoUIModule';global.tab.ILegacyDojoUIModule=h;var i=function(){};i.__typeName='tab.ILegacyDojoWidgetMaker';global.tab.ILegacyDojoWidgetMaker=i;var j=function(w){var x=function(){};ss.registerGenericInterfaceInstance(x,j,[w],{},function(){return[ss.IDisposable,tab.IAppendableView,ss.makeGenericType(tab.IView$1,[w])]});ss.setMetadata(x,{variance:[1]});return x};j.__typeName='tab.ILegacyLegendView$1';ss.initGenericInterface(j,a,1);global.tab.ILegacyLegendView$1=j;var k=function(){};k.__typeName='tab.ILegacyLegendViewModel';global.tab.ILegacyLegendViewModel=k;var l=function(w){var x=function(){};ss.registerGenericInterfaceInstance(x,l,[w],{},function(){return[ss.IDisposable,tab.IAppendableView,ss.makeGenericType(tab.IView$1,[w])]});ss.setMetadata(x,{variance:[1]});return x};l.__typeName='tab.ILegacyQuickFilterDisplayView$1';ss.initGenericInterface(l,a,1);global.tab.ILegacyQuickFilterDisplayView$1=l;var m=function(){};m.__typeName='tab.ILegacyQuickFilterDisplayViewModel';global.tab.ILegacyQuickFilterDisplayViewModel=m;var n=function(){};n.__typeName='tab.ILegacyWidgetShim';global.tab.ILegacyWidgetShim=n;var o=function(w){var x=function(){};ss.registerGenericInterfaceInstance(x,o,[w],{},function(){return[ss.IDisposable,tab.IAppendableView,ss.makeGenericType(tab.IView$1,[w])]});ss.setMetadata(x,{variance:[1]});return x};o.__typeName='tab.IPageView$1';ss.initGenericInterface(o,a,1);global.tab.IPageView$1=o;var p=function(){};p.__typeName='tab.IPageViewModel';global.tab.IPageViewModel=p;var q=function(w){var x=function(){};ss.registerGenericInterfaceInstance(x,q,[w],{updateViewProperties:null},function(){return[ss.IDisposable,tab.IAppendableView,ss.makeGenericType(tab.IView$1,[w])]});ss.setMetadata(x,{variance:[1]});return x};q.__typeName='tab.IParameterControlView$1';ss.initGenericInterface(q,a,1);global.tab.IParameterControlView$1=q;var r=function(){};r.__typeName='tab.IParameterControlViewModel';global.tab.IParameterControlViewModel=r;var s=function(){};s.__typeName='tab.IParameterControlWidgetShim';global.tab.IParameterControlWidgetShim=s;var t=function(w){var x=function(){};ss.registerGenericInterfaceInstance(x,t,[w],{},function(){return[ss.IDisposable,tab.IAppendableView,ss.makeGenericType(tab.IView$1,[w])]});ss.setMetadata(x,{variance:[1]});return x};t.__typeName='tab.IQuantitativeColorLegendView$1';ss.initGenericInterface(t,a,1);global.tab.IQuantitativeColorLegendView$1=t;var u=function(){};u.__typeName='tab.IQuantitativeColorLegendViewModel';global.tab.IQuantitativeColorLegendViewModel=u;var v=function(){};v.__typeName='tab.ITabbedNavigation';global.tab.ITabbedNavigation=v;ss.initInterface(c,a,{},[ss.IDisposable,tab.IViewModel]);ss.initInterface(d,a,{get_widgetNode:null,onAddedToDomShim:null});ss.initInterface(e,a,{add_sliderValueChange:null,remove_sliderValueChange:null,add_intermediateChange:null,remove_intermediateChange:null,get_sliderClassName:null,set_sliderClassName:null,get_currentFraction:null,set_currentFraction:null,get_pixelWidth:null,set_pixelWidth:null,get_ruleTickCount:null,set_ruleTickCount:null,currentFractionUpdated:null},[ss.IDisposable,tab.IViewModel,spiff.IHasEnabledState]);ss.initInterface(n,a,{getDomNode:null,destroyRecursiveShim:null,startupShim:null});ss.initInterface(f,a,{destroyRecursiveShim$1:null,updatePropertiesShim:null,refreshLayoutShim:null},[n]);ss.initInterface(g,a,{updateAttributesShim:null,updateFilterStateShim:null,setTitleSizeShim:null,updateFilterPropertiesShim:null,updateSubWidgetShim:null},[n,ss.IDisposable]);ss.initInterface(h,a,{createTabbedNavigation:null,createPageViewModel:null,createCategoricalLegendViewModel:null,createQuantitativeColorLegendViewModel:null,createLegacyLegendViewModel:null,createLegacyQuickFilterDisplayViewModel:null,createParameterControlViewModel:null,createPageView:null,createLegacyQuickFilterDisplayView:null,createParameterControlView:null,createQuantitativeColorLegendView:null,createContinuousSliderViewModel:null,createLegacyLegendView:null,createContinuousSlider:null});ss.initInterface(i,a,{makeCurrentPagePanelWidget:null,makeFilterPanelWidget:null,makeControlWidget:null});ss.initInterface(k,a,{},[ss.IDisposable,tab.IViewModel]);ss.initInterface(m,a,{},[ss.IDisposable,tab.IViewModel]);ss.initInterface(p,a,{get_visualId:null,get_isHistoryToggleInteractionDisabled:null,get_pageModel:null},[ss.IDisposable,tab.IViewModel]);ss.initInterface(r,a,{get_parameterCtrlModel:null,get_hasBorder:null},[ss.IDisposable,tab.IViewModel]);ss.initInterface(s,a,{destroyRecursiveShim$1:null,updatePropertiesShim:null,layoutShim:null},[n]);ss.initInterface(u,a,{},[ss.IDisposable,tab.IViewModel]);ss.initInterface(v,a,{get_widgetDomNode:null,destroyShim:null,startupShim:null,resizeShim:null});ss.setMetadata(b,{variance:[1]});ss.setMetadata(j,{variance:[1]});ss.setMetadata(l,{variance:[1]});ss.setMetadata(o,{variance:[1]});ss.setMetadata(q,{variance:[1]});ss.setMetadata(t,{variance:[1]})})();;
/*! BEGIN ModuleInterfaces */
(function(){'dont use strict';var a={};global.tab=global.tab||{};ss.initAssembly(a,'vqlmoduleinterfaces');var b=function(){};b.__typeName='tab.HitResultObjectType';global.tab.HitResultObjectType=b;var c=function(){};c.__typeName='tab.IAliasDialogModule';global.tab.IAliasDialogModule=c;var d=function(){};d.__typeName='tab.IAuthoringStoryboardView';global.tab.IAuthoringStoryboardView=d;var e=function(){};e.__typeName='tab.IAuthoringStoryboardViewModel';global.tab.IAuthoringStoryboardViewModel=e;var f=function(){};f.__typeName='tab.IBinDialogModule';global.tab.IBinDialogModule=f;var g=function(){};g.__typeName='tab.ICertificationMarkFactory';global.tab.ICertificationMarkFactory=g;var h=function(){};h.__typeName='tab.ICommentingFactory';global.tab.ICommentingFactory=h;var i=function(){};i.__typeName='tab.ICommentingModuleViewModel';global.tab.ICommentingModuleViewModel=i;var j=function(){};j.__typeName='tab.IConnectionDialogModule';global.tab.IConnectionDialogModule=j;var k=function(){};k.__typeName='tab.IDataConnectionModule';global.tab.IDataConnectionModule=k;var l=function(M){var N=function(){};ss.registerGenericInterfaceInstance(N,l,[M],{},function(){return[ss.IDisposable,tab.IAppendableView,ss.makeGenericType(tab.IView$1,[M])]});ss.setMetadata(N,{variance:[1]});return N};l.__typeName='tab.IDataConnectionPromptView$1';ss.initGenericInterface(l,a,1);global.tab.IDataConnectionPromptView$1=l;var m=function(){};m.__typeName='tab.IDataConnectionPromptViewModel';global.tab.IDataConnectionPromptViewModel=m;var n=function(){};n.__typeName='tab.IDataTabModule';global.tab.IDataTabModule=n;var o=function(){};o.__typeName='tab.IDownloadDialogModule';global.tab.IDownloadDialogModule=o;var p=function(){};p.__typeName='tab.IGroupDialogModule';global.tab.IGroupDialogModule=p;var q=function(){};q.__typeName='tab.IHitTestResult';global.tab.IHitTestResult=q;var r=function(){};r.__typeName='tab.IPaneContent';global.tab.IPaneContent=r;var s=function(){};s.__typeName='tab.IPaneTableView';global.tab.IPaneTableView=s;var t=function(){};t.__typeName='tab.IPaneTableViewModel';global.tab.IPaneTableViewModel=t;var u=function(){};u.__typeName='tab.IParameterFilterViewModel';global.tab.IParameterFilterViewModel=u;var v=function(){};v.__typeName='tab.IPdfExportDialogModule';global.tab.IPdfExportDialogModule=v;var w=function(){};w.__typeName='tab.IQuickFilterViewModel';global.tab.IQuickFilterViewModel=w;var x=function(){};x.__typeName='tab.IRichTextAuthoringModule';global.tab.IRichTextAuthoringModule=x;var y=function(){};y.__typeName='tab.ISelfServiceSchedulesModule';global.tab.ISelfServiceSchedulesModule=y;var z=function(){};z.__typeName='tab.ISharedWidgetsDataGrid';global.tab.ISharedWidgetsDataGrid=z;var A=function(){};A.__typeName='tab.ISharedWidgetsPlayground';global.tab.ISharedWidgetsPlayground=A;var B=function(){};B.__typeName='tab.IStoryAuthoringModule';global.tab.IStoryAuthoringModule=B;var C=function(){};C.__typeName='tab.IStoryContentPaneViewModel';global.tab.IStoryContentPaneViewModel=C;var D=function(){};D.__typeName='tab.IStoryLayoutPaneViewModel';global.tab.IStoryLayoutPaneViewModel=D;var E=function(){};E.__typeName='tab.IStoryModule';global.tab.IStoryModule=E;var F=function(){};F.__typeName='tab.ITrendLineDialogModule';global.tab.ITrendLineDialogModule=F;var G=function(){};G.__typeName='tab.IUnificationStyleQuickFiltersModule';global.tab.IUnificationStyleQuickFiltersModule=G;var H=function(){};H.__typeName='tab.IViewController';global.tab.IViewController=H;var I=function(){};I.__typeName='tab.IVizHitInfo';global.tab.IVizHitInfo=I;var J=function(){};J.__typeName='tab.IVizHitTester';global.tab.IVizHitTester=J;var K=function(){};K.__typeName='tab.IVizZoneModule';global.tab.IVizZoneModule=K;var L=function(){};L.__typeName='tab.IZoneViewModel';global.tab.IZoneViewModel=L;ss.initEnum(b,a,{none:0,misc:1,trendLine:2,referenceLine:3,referenceLineLabel:4,mark:5,markLabel:6});ss.initInterface(c,a,{showDialog:null});ss.initInterface(d,a,{addToDom$1:null},[ss.IDisposable,tab.IAppendableView,ss.makeGenericType(tab.IView$1,[e])]);ss.initInterface(e,a,{get_leftPanelContentPaneViewModel:null,get_leftPanelLayoutPaneViewModel:null},[ss.IDisposable,tab.IViewModel]);ss.initInterface(f,a,{showDialog:null});ss.initInterface(g,a,{createCertificationMark:null});ss.initInterface(h,a,{createCommentingModuleViewModel:null});ss.initInterface(i,a,{get_closeCommentingDrawer:null,set_closeCommentingDrawer:null,get_loadDrawerFonts:null,set_loadDrawerFonts:null,get_showNotification:null,set_showNotification:null},[spiff.IContent]);ss.initInterface(j,a,{showCreateConnectionDialog:null,showEditConnectionDialog:null});ss.initInterface(k,a,{createDataConnectionPromptViewModel:null,createDataConnectionPromptView:null});ss.initInterface(m,a,{get_promptUpdated:null,set_promptUpdated:null},[ss.IDisposable,tab.IViewModel]);ss.initInterface(n,a,{showDataTab:null,hideDataTab:null});ss.initInterface(o,a,{showDownloadDialog:null});ss.initInterface(p,a,{showGroupDialog:null});ss.initInterface(q,a,{get_hitObjectType:null,get_id:null});ss.initInterface(r,a,{get_title:null,get_id:null,get_contentViewType:null,get_contentViewModel:null,get_additionalContentViewClass:null},[ss.IDisposable,tab.IViewModel]);ss.initInterface(s,a,{get_scrollPosition:null,get_vizHitTester:null,doTiledViewerRefreshImages:null},[ss.IDisposable,tab.IAppendableView,ss.makeGenericType(tab.IView$1,[t])]);ss.initInterface(t,a,{add_differentMarkBrushing:null,remove_differentMarkBrushing:null,add_differentMarkSelection:null,remove_differentMarkSelection:null,get_visualModel:null,get_sheetId:null,get_viewController:null,set_viewController:null},[ss.IDisposable,tab.IViewModel]);ss.initInterface(u,a,{},[ss.IDisposable,tab.IViewModel]);ss.initInterface(v,a,{createPdfExportDialog:null});ss.initInterface(w,a,{get_filterType:null},[ss.IDisposable,tab.IViewModel]);ss.initInterface(x,a,{showRichTextEditorDialog:null});ss.initInterface(y,a,{createSubscriptionWithSelfServiceSchedule:null,createSubscriptionsWithSelfServiceSchedule:null});ss.initInterface(z,a,{createGrid:null,createArrayRowStore:null,createRowBandingStylist:null});ss.initInterface(A,a,{show:null});ss.initInterface(E,a,{newFlipboardNavigatorViewModel:null,newFlipboardViewModel:null,newFlipboardNavigatorView:null,newFlipboardView:null,insertStoryPoint:null,replaceStoryPoint:null,fireCloseStoryUberMenu:null,fireShowUpdateToast:null});ss.initInterface(B,a,{newAuthoringStoryboardViewModel:null},[E]);ss.initInterface(C,a,{},[ss.IDisposable,tab.IViewModel,r]);ss.initInterface(D,a,{},[ss.IDisposable,tab.IViewModel,r]);ss.initInterface(F,a,{showDialog:null});ss.initInterface(G,a,{newQuickFilterViewModel:null,newParameterFilterViewModel:null,getQuickFilterView:null,getParameterFilterView:null});ss.initInterface(H,a,{get_viewSession:null,get_sheetName:null,get_cacheVersion:null,setTiledViewer:null,incrementCacheVersion:null},[ss.IDisposable]);ss.initInterface(I,a,{get_result:null,get_visualId:null,get_sheetId:null,get_paneColumnIndex:null,get_paneRowIndex:null,get_pageCoordinates:null});ss.initInterface(J,a,{add_updated:null,remove_updated:null,get_current:null,getAsync:null,isWithinLastHitTestDistance:null,getLastHitTestDistance:null,update:null},[ss.IDisposable]);ss.initInterface(K,a,{createPaneTableView:null,createPaneTableViewModel:null,addVizDragHandler:null,addAsyncVizDragHandler:null,addVizDragApprover:null});ss.initInterface(L,a,{add_resizeZone:null,remove_resizeZone:null,add_zoneResized:null,remove_zoneResized:null,add_validStateChanged:null,remove_validStateChanged:null,get_width:null,get_height:null,get_contentWidth:null,get_contentHeight:null,get_contentContainerStyle:null,get_titleSize:null,get_zoneId:null,get_hasTitle:null,get_associatedSheet:null,get_valid:null,get_model:null,forceZoneValidState:null});ss.setMetadata(l,{variance:[1]})})();;
/*! BEGIN UI */
(function(){'dont use strict';var a={};global.tab=global.tab||{};global.tableau=global.tableau||{};ss.initAssembly(a,'vqlui');global.onhelp=function(){return false};var b=function(){};b.__typeName='FontFace$FontFaceLoadStatus';global.FontFace$FontFaceLoadStatus=b;var c=function(){};c.__typeName='FontFaceSet$FontFaceSetLoadStatus';global.FontFaceSet$FontFaceSetLoadStatus=c;var d=function(){};d.__typeName='tab.$0';d.$0=function(e,eQ,eR){var eS=e.worksheetDataSchemaMap[eQ].primaryDatasource;var eT=e.parametersDatasource;var eU=[];var eV=e.dataSources;var eW=_.keys(eV);for(var eX=0;eX<eW.length;eX++){var eY=eW[eX];if(ss.referenceEquals(eY,eT)){continue}var eZ=eV[eY];if(!ss.isNullOrEmptyString(eR)&&!ss.referenceEquals(eZ.datasource,eR)){continue}var fa=[];for(var fb=0;fb<eZ.fieldList.length;fb++){var fc=eZ.fieldList[fb];if(ss.isValue(fc.baseColumnName)){continue}if(fc.type==='field-folder'){continue}var fd=fc;if(ss.isValue(fd.columnList)){for(var fe=0;fe<fd.columnList.length;fe++){var ff=fd.columnList[fe];var fg=D.newField(ff.name,B.convertFieldRole(ff.fieldRole),B.convertFieldAggregation(ff.aggregation));fa.push(fg)}}else{var fh=D.newField(fc.name,B.convertFieldRole(fc.defaultFieldRole),B.convertFieldAggregation(fc.defaultAggregation));fa.push(fh)}}var fi=ss.referenceEquals(eZ.datasource,eS);var fj=D.newDataSource(eZ.datasourceCaption,Array.prototype.slice.call(fa),fi);eU.push(fj)}var fk=D.newDataSourcesForWorksheet(eQ,Array.prototype.slice.call(eU));return fk};var f=function(){};f.__typeName='tab.$1';f.$0=function(e,eQ){var eR={};eR['api.commandResult']=e;eR['api.commandData']=eQ;var eS=JSON.stringify(eR);return eS};var g=function(e,eQ,eR,eS,eT,eU){this.$v=0;p.call(this,e,eQ,eR,eS,eT,eU);this.$f(this.$q());this.$o().height(this.$i())};g.__typeName='tab.$10';var h=function(e){this.$0=null;this.$3=null;this.$2=null;this.$1=null;this.$3=e;this.$0=this.$3.css('font-family').split(',')[0];this.$2=[];this.$1=[]};h.__typeName='tab.$11';var i=function(){};i.__typeName='tab.$12';i.$2=function(){if(tsConfig.embedded){var e=document.getElementById('staticImage');if(ss.isNullOrUndefined(e)){return}i.$0(e);i.$1(e);i.$3(e)}};i.$3=function(e){if(e.style.width!=='auto'){return}var eQ=i.$4(e,0);if(ss.isNullOrUndefined(eQ)){return}e.style.width=ss.unbox(eQ)+'px'};i.$1=function(e){if(e.style.height!=='auto'){return}var eQ=i.$4(e,1);if(ss.isNullOrUndefined(eQ)){return}e.style.height=ss.unbox(eQ)+'px'};i.$0=function(e){var eQ=e.parentElement;var eR={h:eQ.offsetHeight,w:eQ.offsetWidth};var eS=tabBootstrap.ViewerBootstrap.get_instance().get_compositeSize();if(eS.maxWidth===0&&eS.maxHeight===0){return}if(eR.w<eS.minWidth){eR.w=eS.minWidth}else if(eS.maxWidth!==0&&eR.w>eS.maxWidth){eR.w=eS.maxWidth}if(eR.h<eS.minHeight){eR.h=eS.minHeight}else if(eS.maxHeight!==0&&eR.h>eS.maxHeight){eR.h=eS.maxHeight}e.style.height=eR.h-(tsConfig.showTabs?31:9)+'px';e.style.width=eR.w-8+'px'};i.$4=function(e,eQ){if(ss.isNullOrUndefined(e.style.backgroundSize)){return null}var eR=e.style.backgroundSize.split(' ');if(eR.length<=1){return null}return parseInt(eR[eQ],10)};var j=function(e,eQ,eR,eS,eT){this.$5=0;this.$6=0;this.$4=0;this.$2=false;this.$3=null;this.$5=e;this.$6=eQ;this.$4=eR;this.$2=eS;this.$3=eT};j.__typeName='tab.$13';var k=function(e,eQ,eR,eS,eT,eU,eV){this.$1=null;this.$5=0;this.$2=null;this.$6=null;this.$3=false;this.$4=false;this.$7=null;this.$1=e;this.$5=eQ;this.$2=eR;this.$6=eS;this.$3=eT;this.$4=eU;this.$7=eV.clone()};k.__typeName='tab.$14';var l=function(){this.$4=0;this.$5=0;this.$3=null;this.$1$1=null};l.__typeName='tab.$15';var m=function(e,eQ){this.$1$1=null;this.$1$2=null;this.$1(e);this.$3(eQ)};m.__typeName='tab.$16';var n=function(){};n.__typeName='tab.$2';n.$8=function(e){var eQ=e;var eR=[];if(ss.isValue(eQ)){for(var eS=0;eS<eQ.length;eS++){var eT=eQ[eS];var eU=n.$1(eT);if(ss.isValue(eU)&&eU.isValidPresModel){eR.push(eU)}}}var eV=new Object;eV.parameters=Array.prototype.slice.call(eR);return eV};n.$6=function(e){var eQ=e;if(ss.isValue(eQ.valid)&&!eQ.valid){var eR=new Object;eR.isValidPresModel=false;return eR}else{var eS=e;if(ss.isValue(eS)){return n.$1(eS)}}return null};n.$0=function(e){switch(e){case'boolean':{return'boolean'}case'real':{return'float'}case'integer':case'tuple':{return'integer'}case'date':{return'date'}case'datetime':{return'datetime'}case'cstring':default:{return'string'}}};n.$1=function(e){if(!ss.isValue(e.parameterName)||!ss.isValue(e.fieldCaption)){return null}var eQ=e.dataType;var eR=[];for(var eS=0;eS<e.valuesAliases.length;eS++){var eT=e.valuesAliases[eS];var eU=e.formattedValues[eS];eR.push(n.$4(eQ,eT,eU))}var eV=new Object;eV.isValidPresModel=true;eV.parameterName=e.parameterName;eV.name=e.fieldCaption;eV.currentValue=n.$4(eQ,e.valueAlias,e.formattedValue);eV.dataType=n.$0(eQ);eV.allowableValuesType=B.convertParameterDomainType(e.parameterDomainType);eV.allowableValues=Array.prototype.slice.call(eR);eV.stepSize=n.$7(eQ,e.valueInc);eV.minValue=n.$5(eQ,e.valueMin,e.formattedMin,null);eV.maxValue=n.$5(eQ,e.valueMax,e.formattedMax,null);if(eQ==='date'||eQ==='datetime'){eV.dateStepPeriod=B.convertPeriodType(e.datePeriodType)}return eV};n.$5=function(e,eQ,eR,eS){var eT=new Object;eT.type=B.convertDataType(e);eT.value=v.serializeDataValue(eQ,e);if(!tab.MiscUtil.isNullOrEmpty$1(eS)){eT.aliasedValue=eS}if(!tab.MiscUtil.isNullOrEmpty$1(eR)){eT.formattedValue=eR}return eT};n.$4=function(e,eQ,eR){return n.$5(e,n.$3(eQ),eR,n.$2(eQ))};n.$7=function(e,eQ){if(ss.isValue(eQ)){if(e==='integer'||e==='date'||e==='datetime'){return parseInt(eQ)}if(e==='real'){return parseFloat(eQ)}}return null};n.$3=function(e){return e[0]};n.$2=function(e){if(e.length<2){return null}if(ss.isNullOrUndefined(e[1])||e[1].length===0){return null}return e[1]};var o=function(){};o.__typeName='tab.$3';o.$0=function(){if(tsConfig.isUnitTestRun){return}i.$2();if(tab.FeatureFlags.isEnabled('RuntimeWebRunningTransforms')){cU.setupLocateFileOverride()}o.$1();o.$2()};o.$1=function(){if(tab.FeatureFlags.isEnabled('AsyncLoadDojo')){$(L.startup)}else{dojo.addOnLoad(L.startup)}};o.$2=function(){tab.CommandController.add_switchedViz(function(){L.startup()})};var p=function(e,eQ,eR,eS,eT,eU){this.$u=null;this.$2$1=null;this.$2$2=null;this.$2$3=0;this.$2$4=0;this.$2$5=0;this.$2$6=0;spiff.BaseViewModel.call(this);this.$t(e);this.$p(eQ);this.$r(eR);this.$j(eS);this.$n(eT);this.$l(eU)};p.__typeName='tab.$4';p.$0=function(e){return Math.abs(e)>1};var q=function(e,eQ,eR,eS,eT){this.$w=0;this.$v=null;p.call(this,e,eQ,eR,eS,eT,2147483647);this.$f(this.$q());this.$o().height(this.$i())};q.__typeName='tab.$5';var r=function(e,eQ,eR,eS,eT){this.$w=0;this.$v=null;p.call(this,e,eQ,eR,eS,eT,2147483647);this.$e(this.$q());this.$o().width(this.$i())};r.__typeName='tab.$6';var s=function(e,eQ,eR,eS,eT,eU){this.$v=0;p.call(this,e,eQ,eR,eS,eT,eU);this.$e(this.$q());this.$o().width(this.$i())};s.__typeName='tab.$7';var t=function(e,eQ,eR,eS,eT,eU){this.$v=0;p.call(this,e,eQ,eR,eS,eT,eU);this.$f(this.$q());this.$o().height(this.$i())};t.__typeName='tab.$8';var u=function(e,eQ,eR,eS,eT,eU){this.$v=0;p.call(this,e,eQ,eR,eS,eT,eU);this.$e(this.$q());this.$o().width(this.$i())};u.__typeName='tab.$9';var v=function(){};v.__typeName='tab._ApiSerializer';v.serializeClientInfo=function(e,eQ){var eR=e.get_applicationPresModel().workbookPresModel.dashboardPresModel;var eS=e.get_toolbarCommands().$1();var eT=!ss.isNullOrEmptyString(eR.sheetLayoutInfo.downloadLink)||e.get_toolbarCommands().$2();var eU=tsConfig.current_sheet_name;var eV=tsConfig.workbookName;var eW=G.getApiDashboardZonePresModels(eR.zones);var eX=v.serializePublishedSheets(e.get_applicationPresModel().workbookPresModel.sheetsInfo);var eY=v.serializeStory(eQ);var eZ=D.newClientInfo(eS,eT,eV,eU,ss.coalesce(tsConfig.clientNumber,''),eX,eW,eY);return eZ};v.serializeSheetInfo=function(e,eQ){var eR;if(e.isStory){eR='story'}else if(e.isDashboard){eR='dashboard'}else{eR='worksheet'}var eS=D.newSheetInfo(e.sheet,eR,e.minWidth,e.minHeight,e.maxWidth,e.maxHeight,eQ);return eS};v.serializePublishedSheets=function(e){var eQ={};for(var eR=0;eR<e.length;eR++){var eS=e[eR];eQ[eS.sheet]=eS}var eT=[];var eU=v.$0(tsConfig.repository_urls);for(var eV=0;eV<tsConfig.visible_sheets.length;eV++){var eW=eQ[tsConfig.visible_sheets[eV]];var eX=v.serializeSheetInfo(eW,eU[eV]);eT.push(eX)}return eT};v.serializeStory=function(e){var eQ=e.get_flipboardNavigatorViewModel();if(ss.isNullOrUndefined(eQ)){return null}var eR=eQ.get_currentPointIndex();var eS=v.serializeStoryPoints(eQ.get_captions(),e);var eT=D.newStory(eR,eS);return eT};v.serializeStoryPoints=function(e,eQ){var eR=[];var eS=ss.getEnumerator(e);try{while(eS.moveNext()){var eT=eS.current();var eU=v.serializeStoryPoint(eT,eQ);eR.push(eU)}}finally{eS.dispose()}return eR};v.serializeStoryPoint=function(e,eQ){var eR=null;if(e.get_isCurrentPoint()&&eQ.get_hasContainedSheet()){var eS=eQ.get_containedSheetName();var eT=eQ.get_containedSheetType();var eU=G.getApiDashboardZonePresModels(eQ.get_containedDashboardZones());eR=D.newContainedSheetInfo(eS,eT,ss.unbox(eQ.get_containedSheetZoneId()),eU)}var eV=D.newStoryPoint(e.get_caption(),e.get_storyPointIndex(),e.get_storyPointId(),e.get_isCaptured(),eR);return eV};v.serializeDataValue=function(e,eQ){if(eQ==='boolean'){if(_.isBoolean(e)){return e}return(ss.isValue(e)?(e.toString().toLowerCase()==='true'):false)}if(ss.isNullOrUndefined(e)){return null}switch(eQ){case'boolean':{if(_.isBoolean(e)){return e}return(ss.isValue(e)?(e.toString().toLowerCase()==='true'):false)}case'date':case'datetime':{var eR=null;if(_.isDate(e)){eR=e}else if(_.isNumber(e)){if(isNaN(e)){eR=null}else{eR=new Date(tableau.types.JsDateFromOleDate(e))}}else{eR=tab.DateUtil.parsePresModelDate(e.toString())}if(ss.isNullOrUndefined(eR)||isNaN(eR)){return null}return eR.getTime()}case'integer':{if(_.isNumber(e)){return(isNaN(e)?null:e)}var eS=parseInt(e.toString(),10);return(isNaN(eS)?null:eS)}case'real':{if(_.isNumber(e)){return(isNaN(e)?null:e)}var eT=parseFloat(e.toString());return(isNaN(eT)?null:eT)}default:case'cstring':case'tuple':case'unknown':{return e.toString()}}};v.serializeCustomView=function(e,eQ){return D.newCustomView(e.id,e.name,e.urlId,eQ,e.startViewId,e.isPublic,v.serializeUser(e.owner))};v.serializeUser=function(e){return D.newUser(e.id,e.friendlyName,e.username)};v.convertToCustomizedView=function(e){var eQ=new Object;eQ.id=e.id;eQ.isPublic=e.isPublic;eQ.name=e.name;eQ.owner=v.convertToUser(e.owner);eQ.startViewId=e.startViewId;eQ.urlId=e.urlId;return eQ};v.convertToUser=function(e){var eQ={friendlyName:e.friendlyName,id:e.id,username:e.username};return eQ};v.$0=function(e){var eQ=e.length;var eR=tab.VizUriModel.createForViewingSheets(e,false);var eS=new Array(eQ);for(var eT=0;eT<eQ;eT++){var eU=eR[eT];eS[eT]=eU.get_absoluteUri()}return eS};global.tab._ApiSerializer=v;var w=function(){this.action=null;ss.EventArgs.call(this)};w.__typeName='tab.ActionExecutedEventArgs';global.tab.ActionExecutedEventArgs=w;var x=function(e,eQ){React.Component.call(this,e,eQ)};x.__typeName='tab.AddSubscribersComponent';global.tab.AddSubscribersComponent=x;var y=function(){};y.__typeName='tab.AddSubscribersComponentConstants';global.tab.AddSubscribersComponentConstants=y;var z=function(){};z.__typeName='tab.AddSubscribersComponentProps';z.createInstance=function(){return z.$ctor()};z.$ctor=function(){var e={};e.addSubscribersViewModel=null;e.userSearchSelectorProps=null;return e};z.isInstanceOfType=function(){return true};global.tab.AddSubscribersComponentProps=z;var A=function(e){this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;spiff.BaseViewModel.call(this);this.set_userSearchSelectorViewModel(new ez(e));var eQ=z.$ctor();eQ.addSubscribersViewModel=this;eQ.userSearchSelectorProps=this.get_userSearchSelectorViewModel().get_props();this.set_props(eQ);this.get_userSearchSelectorViewModel().add_propsUpdated(ss.mkdel(this,this.$2));this.disposables.add$1(this.get_userSearchSelectorViewModel());this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_userSearchSelectorViewModel().remove_propsUpdated(ss.mkdel(this,this.$2))})))};A.__typeName='tab.AddSubscribersViewModel';global.tab.AddSubscribersViewModel=A;var B=function(){};B.__typeName='tab.ApiCrossDomainEnumConverter';B.convertDataType=function(e){switch(e){case'boolean':{return'bool'}case'date':case'datetime':{return'date'}case'integer':case'real':case'tuple':{return'number'}case'cstring':{return'string'}case'unknown':default:{return'string'}}};B.convertUnderlyingDataType=function(e){switch(e){case'boolean':{return'boolean'}case'date':{return'date'}case'datetime':{return'datetime'}case'integer':{return'integer'}case'real':case'tuple':{return'float'}case'cstring':case'unknown':default:{return'string'}}};B.convertFieldAggregation=function(e){switch(e){case'attr':{return'ATTR'}case'average':{return'AVG'}case'count':{return'COUNT'}case'count-d':{return'COUNTD'}case'day':{return'DAY'}case'end':{return'END'}case'hour':{return'HOUR'}case'in-out':{return'INOUT'}case'kurtosis':{return'KURTOSIS'}case'max':{return'MAX'}case'mdy':{return'MDY'}case'median':{return'MEDIAN'}case'min':{return'MIN'}case'minute':{return'MINUTE'}case'month':{return'MONTH'}case'month-year':{return'MONTHYEAR'}case'none':{return'NONE'}case'percentile':{return'PERCENTILE'}case'qtr':{return'QTR'}case'quart1':{return'QUART1'}case'quart3':{return'QUART3'}case'second':{return'SECOND'}case'skewness':{return'SKEWNESS'}case'std-dev':{return'STDEV'}case'std-dev-p':{return'STDEVP'}case'sum':{return'SUM'}case'sum-xsqr':{return'SUM_XSQR'}case'trunc-day':{return'TRUNC_DAY'}case'trunc-hour':{return'TRUNC_HOUR'}case'trunc-month':{return'TRUNC_MONTH'}case'trunc-qtr':{return'TRUNC_QTR'}case'trunc-second':{return'TRUNC_SECOND'}case'trunc-week':{return'TRUNC_WEEK'}case'trunc-year':{return'TRUNC_YEAR'}case'user':{return'USER'}case'var':{return'VAR'}case'var-p':{return'VARP'}case'week':{return'WEEK'}case'weekday':{return'WEEKDAY'}case'year':{return'YEAR'}default:{throw new ss.Exception('Unknown AggType: '+e)}}};B.convertFieldRole=function(e){switch(e){case'dimension':{return'dimension'}case'measure':{return'measure'}case'unknown':{return'unknown'}default:{throw new ss.Exception('Unknown FieldRole type: '+e)}}};B.convertParameterDomainType=function(e){switch(e){case'any':{return'all'}case'list':{return'list'}case'range':{return'range'}default:{throw new ss.Exception('Unknown ParameterTypesDomainType: '+e)}}};B.convertPeriodType=function(e){switch(e){case'year':{return'year'}case'day':{return'day'}case'hour':{return'hour'}case'minute':{return'minute'}case'month':{return'month'}case'quarter':{return'quarter'}case'second':{return'second'}case'week':{return'week'}default:{throw new ss.Exception('Unknown DatePeriodType: '+e)}}};B.convertRangeType=function(e){switch(e){case'curr':{return'curr'}case'last':{return'last'}case'lastn':{return'lastn'}case'next':{return'next'}case'nextn':{return'nextn'}case'todate':{return'todate'}case'invalid':default:{throw new ss.Exception('Unknown or invalid Filters.RelativeDateRangeType: '+e)}}};B.convertZoneType=function(e){switch(e){case'color':case'shape':case'size':{return'legend'}case'map':{return'legend'}case'filter':{return'quickFilter'}case'viz':{return'worksheet'}case'paramctrl':{return'parameterControl'}case'empty':{return'blank'}case'title':{return'title'}case'text':{return'text'}case'bitmap':{return'image'}case'web':{return'webPage'}case'layout-basic':case'layout-flow':case'layout-free-form':{return null}default:{return'blank'}}};global.tab.ApiCrossDomainEnumConverter=B;var C=function(){};C.__typeName='tab.ApiCrossDomainParamConverter';C.convertFilterUpdateType=function(e){var eQ=e.toString();if(eQ.toLowerCase()==='replace'){return'filter-replace'.toString()}else if(eQ.toLowerCase()==='all'){return'filter-all'.toString()}else if(eQ.toLowerCase()==='add'){return'filter-add'.toString()}else if(eQ.toLowerCase()==='remove'){return'filter-remove'.toString()}else{return'filter-replace'.toString()}};global.tab.ApiCrossDomainParamConverter=C;var D=function(){};D.__typeName='tab.ApiCrossDomainPresModelsFactory';D.newClientInfo=function(e,eQ,eR,eS,eT,eU,eV,eW){var eX=new Object;eX.isAutoUpdate=e;eX.isDownloadAllowed=eQ;eX.workbookName=eR;eX.instanceId=eT;eX.currentSheetName=eS;eX.publishedSheets=eU;eX.dashboardZones=eV;eX.story=eW;return eX};D.newAutoUpdateState=function(e){var eQ=new Object;eQ.isAutoUpdate=e;return eQ};D.newCommandError=function(e,eQ){var eR=new Object;eR.errorCode=e;eR.additionalInformation=eQ;return eR};D.newSheetInfo=function(e,eQ,eR,eS,eT,eU,eV){var eW=new Object;eW.maxHeight=eU;eW.maxWidth=eT;eW.minHeight=eS;eW.minWidth=eR;var eX=new Object;eX.name=e;eX.sizeConstraints=eW;eX.repositoryUrl=eV;eX.sheetType=eQ;return eX};D.newContainedSheetInfo=function(e,eQ,eR,eS){var eT=new Object;eT.name=e;eT.sheetType=eQ;eT.zoneId=eR;eT.dashboardZones=eS;return eT};D.newDashboardZone=function(e,eQ,eR,eS,eT,eU,eV){var eW=new Object;eW.name=e;eW.zoneId=eQ;eW.zoneType=eR;eW.height=eS;eW.width=eT;eW.x=eU;eW.y=eV;return eW};D.newStory=function(e,eQ){var eR=new Object;eR.activeStoryPointIndex=e;eR.storyPoints=eQ;return eR};D.newStoryPoint=function(e,eQ,eR,eS,eT){var eU=new Object;eU.caption=e;eU.index=eQ;eU.storyPointId=eR;eU.isUpdated=eS;eU.containedSheetInfo=eT;return eU};D.$0=function(e,eQ,eR,eS,eT,eU){var eV=new Object;eV.fieldName=e;eV.filterType=eQ;eV.caption=eR;eV.dataSourceName=eS;eV.fieldRole=eT;eV.fieldAggregation=eU;return eV};D.newCategoricalFilter=function(e,eQ,eR,eS,eT,eU,eV,eW){var eX=D.$0(e,eQ,eR,eS,eT,eU);eX.isExclude=eV;eX.appliedValues=eW;return eX};D.newQuantitativeFilter=function(e,eQ,eR,eS,eT,eU,eV,eW,eX,eY,eZ){var fa=D.$0(e,eQ,eR,eS,eT,eU);fa.domainMinValue=eV;fa.domainMaxValue=eW;fa.minValue=eX;fa.maxValue=eY;fa.includeNullValues=eZ;return fa};D.newHierarchicalFilter=function(e,eQ,eR,eS,eT,eU,eV){var eW=D.$0(e,eQ,eR,eS,eT,eU);eW.levels=eV;return eW};D.newRelativeDateFilter=function(e,eQ,eR,eS,eT,eU,eV,eW,eX){var eY=D.$0(e,eQ,eR,eS,eT,eU);eY.periodType=eV;eY.rangeType=eW;eY.rangeN=eX;return eY};D.newDataSourcesForWorksheet=function(e,eQ){var eR=new Object;eR.worksheetName=e;eR.dataSources=eQ;return eR};D.newDataSource=function(e,eQ,eR){var eS=new Object;eS.name=e;eS.fields=eQ;eS.isPrimary=eR;return eS};D.newField=function(e,eQ,eR){var eS=new Object;eS.name=e;eS.role=eQ;eS.aggregation=eR;return eS};D.newCustomViewsInfo=function(e,eQ,eR,eS){var eT=new Object;eT.customViewLoaded=e;eT.defaultCustomViewId=eQ;eT.currentView=eR;eT.customViews=eS;return eT};D.newCustomView=function(e,eQ,eR,eS,eT,eU,eV){var eW=new Object;eW.id=e;eW.name=eQ;eW.urlId=eR;eW.url=eS;eW.startViewId=eT;eW.isPublic=eU;eW.owner=eV;return eW};D.newUser=function(e,eQ,eR){var eS=new Object;eS.id=e;eS.friendlyName=eQ;eS.username=eR;return eS};D.newUnderlyingDataTablePM=function(e,eQ,eR){var eS=new Object;eS.dataTable=e;eS.headers=eQ;eS.isSummary=eR;return eS};D.newUnderlyingDataColumnsPM=function(e,eQ,eR,eS){var eT=new Object;eT.dataType=e;eT.fieldName=eQ;eT.isReferenced=eR;eT.index=eS;return eT};D.newToolbarStatePM=function(e,eQ,eR,eS,eT,eU,eV,eW,eX,eY,eZ){var fa=new Object;fa.canUndo=e;fa.canRedo=eQ;fa.canRevert=eR;fa.isPaused=eS;fa.canRefreshData=eT;fa.canShowCustomViews=eU;fa.canShowPerformance=eV;fa.canShowDataAlert=eW;fa.canShowSubscribe=eX;fa.canShowShare=eY;fa.canShowDownload=eZ;return fa};D.newAddInInstancePM=function(e){var eQ=new Object;eQ.locator=D.newAddInLocatorPM(e.addInLocatorPresModel);eQ.url=e.addInRegistrationPresModel.url;return eQ};D.newAddInLocatorPM=function(e){var eQ=new Object;eQ.dashboardPath=D.newSheetPathPM(e.sheetPath);eQ.instanceId=e.addInInstanceId;return eQ};D.newSheetPathPM=function(e){var eQ=new Object;eQ.flipboardZoneID=e.flipboardZoneId;eQ.storyPointID=e.storyPointId;eQ.storyboard=e.storyboard;eQ.sheetName=e.sheetName;eQ.isDashboard=e.isDashboard;return eQ};D.newVisualIdPM=function(e){var eQ=new Object;eQ.worksheet=e.worksheet;eQ.dashboard=e.dashboard;eQ.storyboard=e.storyboard;eQ.flipboardZoneID=e.flipboardZoneId;eQ.storyPointID=e.storyPointId;return eQ};D.newAddInBootstrapInfoPM=function(e){var eQ=new Object;eQ.addinDashboardInfo=D.newAddInDashboardInfoPM(e.addInDashboardInfoPresModel);eQ.addInSettingsInfo=D.newAddInSettingsInfoPM(e.addInSettingsInfo);eQ.addInEnvironment=D.newAddInEnvironmentInfoPM(e.addInEnvironmentPresModel);return eQ};D.newAddInDashboardInfoPM=function(e){var eQ=new Object;eQ.name=e.dashboardPresModel.sheetPath.sheetName;eQ.addInZoneId=e.zoneId;eQ.zones=G.getApiDashboardZonePresModels(e.dashboardPresModel.zones);return eQ};D.newAddInSettingsInfoPM=function(e){var eQ=new Object;eQ.settingsValues=e.addInSettings||{};return eQ};D.newAddInEnvironmentInfoPM=function(e){var eQ=new Object;eQ.addInContext=e.addInContext;eQ.addInMode=e.addInMode;eQ.addInLanguage=e.addInLanguage;eQ.addInLocale=e.addInLocale;eQ.tableauVersion=e.tableauVersion;eQ.operatingSystem=e.operatingSystem;eQ.apiVersion=e.apiVersion||'0.0.1';return eQ};global.tab.ApiCrossDomainPresModelsFactory=D;var E=function(e,eQ,eR){this.$13=new tab.DisposableHolder;this.$10=null;this.$18={};this.$11=null;this.$15=null;this.$16=null;this.$12=false;this.$14=false;this.$17=null;this.$10=eR;this.updateClients(e,eQ);tab.CommandController.get().add_tabChangeCompleted(ss.mkdel(this,this.handleNewLayout));tab.StartupUtils.add_clientFullyLoaded(ss.mkdel(this,this.onClientFullyLoaded));tab.CommandController.get().add_commandQueueComplete(ss.mkdel(this,this.onCommandComplete))};E.__typeName='tab.ApiEventHandler';E.$2=function(e,eQ){var eR=tab.ModelUtils.getVisualModel(tab.ApplicationModel.get_instance(),e);if(ss.isValue(eR)){var eS=_.find(eR.get_filters(),function(eT){return ss.referenceEquals(eT.get_globalFieldName(),eQ)});if(ss.isValue(eS)){return eS.get_filterPresModel().fieldCaption}}return null};E.$0=function(e){var eQ=new ss.StringBuilder;for(var eR=0;eR<e.length;eR++){var eS=e[eR];if(!(eQ.length===0)){eQ.append('.')}eQ.append('['+eS+']')}return eQ.toString()};E.$1=function(){var e={};var eQ=tab.ModelUtils.findContentDashboard();var eR=eQ.get_zoneModels();for(var eS=0;eS<eR.length;eS++){var eT=eR[eS];if(eT.get_zoneType()==='filter'&&ss.referenceEquals(eT.get_worksheetName(),tsConfig.current_sheet_name)){var eU=JSON.parse(eT.pm.frameJson);e[eU.param]=true}}var eV={};var eW=tab.ModelUtils.getVisualModel(tab.ApplicationModel.get_instance(),tsConfig.current_sheet_name);if(ss.isValue(eW)){var eX=eW.get_filters();for(var eY=0;eY<eX.length;eY++){var eZ=eX[eY];var fa=E.$0(eZ.get_filterPresModel().name);if(ss.keyExists(e,fa)){var fb=eZ.get_filterPresModel().fieldCaption;if(eZ.get_filterPresModel().type!=='H'){eV[fb]=eZ.get_filterPresModel().type}else{fb='';var fc=eZ.get_filterPresModel().table[0].table;if(ss.isValue(fc)&&ss.isValue(fc.schema)&&ss.isValue(fc.schema[0])&&ss.isValue(fc.schema[0].name)){var fd=fc.schema[0].name;for(var fe=1;fe<fd.length;fe++){fb+='['+fd[fe]+']';eV[fb]=eZ.get_filterPresModel().type;fb+='.'}}}}}}return eV};E.$3=function(e){return null};E.$4=function(e){var eQ=e;if(ss.isValue(eQ['invalidFields'])){return D.newCommandError('invalidSelectionFieldName',eQ['invalidFields'])}else if(ss.isValue(eQ['invalidValues'])){return D.newCommandError('invalidSelectionValue',eQ['invalidValues'])}else if(ss.isValue(eQ['invalidDates'])){return D.newCommandError('invalidSelectionDate',eQ['invalidDates'])}return null};global.tab.ApiEventHandler=E;var F=function(){};F.__typeName='tab.ApiFilterHandler';F.processFilters=function(e){var eQ=JSON.parse(e.toString());var eR=[];if(ss.isValue(eQ)){for(var eS=0;eS<eQ.length;eS++){var eT=eQ[eS];var eU=F.$5(eT);if(ss.isValue(eU)){eR.push(eU)}}}var eV=new Object;eV.filters=Array.prototype.slice.call(eR);return eV};F.processFilterCommandReturningFieldName=function(e){var eQ=F.$0(e);if(ss.isValue(eQ)){return eQ}return e};F.processSingleFilter=function(e){var eQ=F.$0(e);if(ss.isValue(eQ)){return eQ}var eR=JSON.parse(e.toString());if(ss.isValue(eR)){return F.$5(eR)}return null};F.$0=function(e){var eQ=e;if(ss.keyExists(eQ,'parameterError')){if(ss.isValue(eQ['invalidFieldCaption'])){return D.newCommandError('invalidFilterFieldName',eQ['invalidFieldCaption'])}else if(ss.isValue(eQ['invalidValues'])){return D.newCommandError('invalidFilterFieldValue',eQ['invalidValues'])}else if(ss.isValue(eQ['invalidAggFieldName'])){return D.newCommandError('invalidAggregationFieldName',eQ['fieldCaption'])}else{return D.newCommandError('serverError',null)}}return null};F.$2=function(e){switch(e){case'C':{return'categorical'}case'H':{return'hierarchical'}case'Q':{return'quantitative'}case'RD':{return'relativedate'}default:{throw new ss.Exception('Unknown filter type: '+e)}}};F.$5=function(e){var eQ=F.$2(e.type);switch(eQ){case'categorical':{return F.$7(e)}case'relativedate':{return F.$a(e)}case'hierarchical':{return F.$8(e)}case'quantitative':{return F.$9(e)}default:{throw new ss.Exception('Unknown FilterType: '+eQ)}}};F.$6=function(e,eQ){var eR=e.fieldName;var eS=e.fieldCaption;var eT=F.$2(e.type);var eU=null;var eV=null;var eW=null;if(ss.isValue(e.fieldDetailsJson)&&ss.isValue(e.fieldDatasource)){eU=e.fieldDatasource;var eX=JSON.parse(e.fieldDetailsJson);var eY=eX['genFieldColumnPresModel'];eV=B.convertFieldRole(eY.fieldRole);eW=B.convertFieldAggregation(eY.aggregation)}return eQ(eR,eT,eS,eU,eV,eW)};F.$7=function(e){var eQ=e.exclude||false;var eR=null;if(ss.isValue(e.table)){var eS=e.table;if(ss.isValue(eS.tuples)){var eT=ss.coalesce(e.all,false)||ss.coalesce(e.allChecked,false);var eU=eS.tuples;var eV=[];for(var eW=0;eW<eU.length;eW++){var eX=eU[eW];if(eT||ss.isValue(eX.s)&&eX.s){var eY=eX.t[0];var eZ=eX.d;eV.push(F.$4(e,eY,eZ))}}eR=Array.prototype.slice.call(eV)}}var fa=function(fb,fc,fd,fe,ff,fg){return D.newCategoricalFilter(fb,fc,fd,fe,ff,fg,eQ,eR)};return F.$6(e,fa)};F.$9=function(e){var eQ=null;var eR=null;var eS=null;var eT=null;var eU=false;if(ss.isValue(e.range)){var eV=e.range;if(ss.isValue(eV.min)&&ss.isValue(eV.min.v)){eQ=F.$3(e,eV.min,null)}if(ss.isValue(eV.max)&&ss.isValue(eV.max.v)){eR=F.$3(e,eV.max,null)}}if(ss.isValue(e.table)){var eW=e.table;if(ss.isValue(eW.min)&&ss.isValue(eW.min.v)){eS=F.$3(e,eW.min,null)}if(ss.isValue(eW.max)&&ss.isValue(eW.max.v)){eT=F.$3(e,eW.max,null)}if(ss.isValue(eW.included)){var eX=eW.included;eU=eX==='include-all'||eX==='include-null'||eX==='include-range-or-null'}}var eY=function(eZ,fa,fb,fc,fd,fe){return D.newQuantitativeFilter(eZ,fa,fb,fc,fd,fe,eQ,eR,eS,eT,eU)};return F.$6(e,eY)};F.$a=function(e){var eQ=null;var eR=null;var eS=null;var eT=e.table;if(ss.isValue(eT)){if(ss.isValue(eT.periodType)){eQ=B.convertPeriodType(eT.periodType)}if(ss.isValue(eT.rangeType)){eR=B.convertRangeType(eT.rangeType)}if(ss.isValue(eT.rangeN)){eS=eT.rangeN}}var eU=function(eV,eW,eX,eY,eZ,fa){return D.newRelativeDateFilter(eV,eW,eX,eY,eZ,fa,eQ,eR,eS)};return F.$6(e,eU)};F.$4=function(e,eQ,eR){return F.$3(e,eQ,eR)};F.$3=function(e,eQ,eR){var eS=new Object;if(ss.isNullOrUndefined(eQ)){return eS}var eT=F.$1(eQ.t);var eU=[eQ];if(ss.isValue(e.range)){eU.push(e.range.min,e.range.max)}if(ss.isValue(e.table)){eU.push(e.table.min,e.table.max)}var eV=tab.QuickFilterDateFormatUtil.getDateTimeFormatMode(eU,'none',e.date_format,null);eS.type=B.convertDataType(eT);var eW=((eT==='date'||eT==='datetime')?e.date_format:e.format);eS.formattedValue=tableau.format.formatDataValue(eQ,e.role,eW,null,eV);if(ss.isValue(eR)){eS.aliasedValue=eR}eS.value=G.serializeDataValue(eQ.v,eT);return eS};F.$1=function(e){switch(e){case'b':{return'boolean'}case'd':{return'date'}case'i':{return'integer'}case'r':{return'real'}case's':{return'cstring'}case't':{return'datetime'}case null:{return'unknown'}}return'unknown'};F.$8=function(e){var eQ=0;if(ss.isValue(e.levels)){eQ=e.levels.length}var eR=function(eS,eT,eU,eV,eW,eX){return D.newHierarchicalFilter(eS,eT,eU,eV,eW,eX,eQ)};return F.$6(e,eR)};global.tab.ApiFilterHandler=F;var G=function(){};G.__typeName='tab.ApiPresModelsConverter';G.getApiAddInInstancePresModel=function(e){return D.newAddInInstancePM(e)};G.getApiAddInBootstrapInfoPresModel=function(e){return D.newAddInBootstrapInfoPM(e)};G.getApiUnderlyingDataTablePresModel=function(e,eQ){var eR=e.dataDictionary;var eS=e.underlyingDataTableColumns;var eT=G.$1(eS);var eU=G.$0(eR,eS);var eV=D.newUnderlyingDataTablePM(eU,eT,eQ);return eV};G.getApiDashboardZonePresModels=function(e){var eQ=[];if(ss.isNullOrUndefined(e)||ss.getKeyCount(e)===0){return eQ}var eR=Object.keys(e);eR.sort(function(fd,fe){return parseInt(fd,10)-parseInt(fe,10)});for(var eS=0;eS<eR.length;eS++){var eT=eR[eS];var eU=e[eT];if(ss.isNullOrUndefined(eU)){continue}var eV=B.convertZoneType(eU.zoneCommon.zoneType);if(!ss.isValue(eV)){continue}var eW=(ss.isValue(eU.worksheet)?eU.worksheet:null);var eX=eU.zoneCommon.x;var eY=eU.zoneCommon.y;var eZ=eU.zoneCommon.w;var fa=eU.zoneCommon.h;var fb=eU.zoneCommon.zoneId;var fc=D.newDashboardZone(eW,fb,ss.unbox(eV),fa,eZ,eX,eY);eQ.push(fc)}return eQ};G.processSelectedMarks=function(e){var eQ=e.dataDictionary;var eR=e.vizData;return G.$4(eQ,eR)};G.processHighlightedMarks=function(e){var eQ=e.dataDictionary;var eR=e.vizData;return G.$4(eQ,eR)};G.getAddInLocatorPresModel=function(e){return cX.newAddInLocatorPresModel(e)};G.$4=function(e,eQ){var eR=new Object;var eS=new tab.DataDictionaryModel(null);eS.update(e);var eT=new tab.VizDataModel(null);eT.update(eQ,tab.NoopModelEventsHandler.get_noopContext());var eU=[];eR.marks=eU;if(ss.isNullOrUndefined(eS)||eS.get_isEmpty()){return eR}eT.forEachTupleId(function(eV){var eW=new Object;eW.tupleId=eV;var eX=[];eW.pairs=eX;eU.push(eW);eT.forEachVizDataField(function(eY,eZ){var fa=new Object;fa.fieldName=eY.get_fieldCaption();fa.formattedValue=tab.VizDataLookup.lookupAlias(eV,eY,eS);fa.valueDataType=B.convertDataType(eY.get_dataType());var fb=null;if(!tab.VizDataLookup.isSpecial(eV,eY,eS,null)&&eY.get_hasDataValues()&&eY.isTupleIdValid(eV)){fb=tab.VizDataLookup.lookupRawDataValue(eV,eY,eS)}var fc=G.serializeDataValue(fb,eY.get_dataType());fa.value=fc;eX.push(fa);return true});return true});return eR};G.serializeDataValue=function(e,eQ){if(eQ==='boolean'){if(_.isBoolean(e)){return e}return(ss.isValue(e)?(e.toString().toLowerCase()==='true'):false)}if(ss.isNullOrUndefined(e)){return null}switch(eQ){case'boolean':{if(_.isBoolean(e)){return e}return(ss.isValue(e)?(e.toString().toLowerCase()==='true'):false)}case'date':case'datetime':{var eR=null;if(_.isDate(e)){eR=e}else if(_.isNumber(e)){if(isNaN(e)){eR=null}else{eR=new Date(tableau.types.JsDateFromOleDate(e))}}else{eR=tab.DateUtil.parsePresModelDate(e.toString())}if(ss.isNullOrUndefined(eR)||isNaN(eR)){return null}return eR.getTime()}case'integer':{if(_.isNumber(e)){return(isNaN(e)?null:e)}var eS=parseInt(e.toString(),10);return(isNaN(eS)?null:eS)}case'real':{if(_.isNumber(e)){return(isNaN(e)?null:e)}var eT=parseFloat(e.toString());return(isNaN(eT)?null:eT)}default:case'cstring':case'tuple':case'unknown':{return e.toString()}}};G.$1=function(e){var eQ=[];for(var eR=0;eR<e.length;eR++){var eS=e[eR];var eT=B.convertUnderlyingDataType(eS.dataType);var eU=D.newUnderlyingDataColumnsPM(eT,eS.fieldCaption,eS.isReferenced,eR);eQ.push(eU)}return eQ};G.$0=function(e,eQ){var eR=eQ[0].formatValIdxs.length;var eS=new Array(eR);for(var eT=0;eT<eR;eT++){eS[eT]=new Array(eQ.length)}for(var eU=0;eU<eQ.length;eU++){var eV=eQ[eU];for(var eW=0;eW<eV.formatValIdxs.length;eW++){var eX=new Object;eX.formattedValue=G.$3(e,eV.formatValIdxs[eW],'cstring');eX.value=G.$3(e,eV.valueIndices[eW],eV.dataType);eX.aliasedValue=eX.formattedValue;eS[eW][eU]=eX}}return eS};G.$3=function(e,eQ,eR){var eS=null;var eT;if(eQ>=0){eT=eR}else{eT='cstring';eQ=-eQ-1}var eU=G.$2(e,eT,eQ);if(ss.isValue(eU)){eS=eU.toString()}return eS};G.$2=function(e,eQ,eR){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.dataSegments)){return null}var eS=ss.getEnumerator(Object.keys(e.dataSegments));try{while(eS.moveNext()){var eT=eS.current();var eU=e.dataSegments[eT];for(var eV=0;eV<eU.dataColumns.length;eV++){var eW=eU.dataColumns[eV];if(ss.isNullOrUndefined(eW)||eW.dataType!==eQ){continue}if(eR<eW.dataValues.length){return eW.dataValues[eR]}eR-=eW.dataValues.length;break}}}finally{eS.dispose()}return null};global.tab.ApiPresModelsConverter=G;var H=function(e,eQ){this.$7=null;this.$a=null;this.$8=new tab.DisposableHolder;this.$9=false;tab.Param.verifyValue(e,'client');tab.Param.verifyValue(eQ,'responder');this.$7=e;this.$a=eQ;var eR=ss.mkdel(this,function(){var eS=e.get_flipboardNavigatorViewModel();if(ss.isValue(eS)){eS.add_remoteUpdateComplete(ss.mkdel(this,this.$4));this.$8.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){eS.remove_remoteUpdateComplete(ss.mkdel(this,this.$4))})))}return ss.isValue(eS)});if(!eR()){_.defer(ss.mkdel(this,function(){if(this.$9){return}eR()}))}};H.__typeName='tab.ApiStorytellingHandler';H.$0=function(e,eQ){var eR=($.isArray(eQ)?eQ:[eQ]);var eS=_.any(eR,function(eT){return eT===e.get_name()});if(!eS){throw new ss.Exception("Command '"+e.get_name()+"' is not valid for the handler.")}};global.tab.ApiStorytellingHandler=H;var I=function(e,eQ){this.$4=new tab.DisposableHolder;this.$5=null;this.$3=null;this.$1$1=null;if(ss.isNullOrUndefined(e)){throw new ss.ArgumentNullException('responder')}if(ss.isNullOrUndefined(eQ)){throw new ss.ArgumentNullException('toolbarViewModel')}this.$5=eQ;this.$3=e;this.$1();this.$5.add_newToolbar(ss.mkdel(this,this.$1));this.$4.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$5.remove_newToolbar(ss.mkdel(this,this.$1))})))};I.__typeName='tab.ApiToolbarStateManager';I.$1=function(e,eQ){var eR=e[eQ];return ss.isValue(eR)&&eR.get_enabled()};I.$2=function(e,eQ,eR){var eS=e[eQ];if(ss.isNullOrUndefined(eS)){return false}var eT=new tab.CommandsPresModelWrapper.$ctor1(eS.get_commands());var eU=eT.get_commandItems();for(var eV=0;eV<eU.length;eV++){var eW=eU[eV];var eX=new tab.CommandItemWrapper(eW);if(ss.equals(eX.get_name(),eR)){return eX.get_enabled()}}return false};I.$0=function(e,eQ){var eR=ss.getEnumerator(eQ);try{while(eR.moveNext()){var eS=eR.current();var eT=new tab.CommandItemWrapper(eS);e[eT.get_iconRes()]=eT}}finally{eR.dispose()}};global.tab.ApiToolbarStateManager=I;var J=function(){};J.__typeName='tab.ApiUnderlyingDataHandler';J.processSummaryData=function(e){var eQ=e;var eR=J.$5(eQ,true);return eR};J.$6=function(e){var eQ=e;var eR=J.$5(eQ,false);return eR};J.$3=function(e,eQ){eQ['maxRows']=e['api.maxRows'];eQ['ignoreAliases']=e['api.ignoreAliases'];eQ['ignoreSelection']=e['api.ignoreSelection']};J.$4=function(e,eQ){J.$3(e,eQ);eQ['includeAllColumns']=e['api.includeAllColumns']};J.$5=function(e,eQ){var eR=new tab.DataDictionaryModel(null);eR.update(e.dataDictionary);var eS=e.underlyingDataTableColumns;var eT=J.$1(eS);var eU=J.$0(eR,eS);var eV=D.newUnderlyingDataTablePM(eU,eT,eQ);return eV};J.$1=function(e){if(ss.isNullOrUndefined(e)){return[]}var eQ=[];for(var eR=0;eR<e.length;eR++){var eS=e[eR];var eT=B.convertUnderlyingDataType(eS.dataType);var eU=D.newUnderlyingDataColumnsPM(eT,eS.fieldCaption,eS.isReferenced,eR);eQ.push(eU)}return eQ};J.$0=function(e,eQ){if(ss.isNullOrUndefined(eQ)||eQ.length===0){return[]}var eR=eQ[0].formatValIdxs.length;var eS=new Array(eR);for(var eT=0;eT<eR;eT++){eS[eT]=new Array(eQ.length)}for(var eU=0;eU<eQ.length;eU++){var eV=eQ[eU];for(var eW=0;eW<eV.formatValIdxs.length;eW++){var eX=new Object;eX.formattedValue=J.$2(e,eV.formatValIdxs[eW],'cstring');eX.value=J.$2(e,eV.valueIndices[eW],eV.dataType);eX.aliasedValue=eX.formattedValue;eS[eW][eU]=eX}}return eS};J.$2=function(e,eQ,eR){var eS=null;var eT;if(eQ>=0){eT=eR}else{eT='cstring';eQ=-eQ-1}var eU=e.getRawValue(eT,eQ);if(ss.isValue(eU)){eS=eU.toString()}return eS};global.tab.ApiUnderlyingDataHandler=J;var K=function(){spiff.BaseViewModel.call(this)};K.__typeName='tab.AppBannerViewModel';global.tab.AppBannerViewModel=K;var L=function(){this.$n=null;this.$r=null;this.$p=null;this.$q=null;this.$m=null;this.$s=null;this.$o=new tab.DisposableHolder;this.$1$4=null;this.$1$5=null;var e=null;e=ss.mkdel(this,function(){L.remove_starting(e);this.$i();tab.ApplicationModel.get_instance().get_workbook().add_dashboardDeleted(ss.mkdel(this,this.$l));tab.ApplicationModel.get_instance().get_workbook().add_uiModeChanged(ss.mkdel(this,this.$9));var eQ=new tab.LayoutSession(null,null,L.get_commonDialogProvider());var eR=tab.CommandController.create(eQ,L.get_commonDialogProvider());eR.setBrowserViewportFunc(X.getViewport);eR.add_newLayoutId(ss.mkdel(this,this.$6));eR.add_tabChangeCompleted(ss.mkdel(this,this.$8));L.add_onTabSelect(ss.mkdel(this,this.$3));eR.add_destroyView(ss.mkdel(this,this.$2));eR.add_intermediateUpdate(ss.mkdel(this,this.$j));eR.add_switchingViz(ss.mkdel(this,this.$7));this.$o.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){tab.CommandController.get().remove_newLayoutId(ss.mkdel(this,this.$6));tab.CommandController.get().remove_tabChangeCompleted(ss.mkdel(this,this.$8));tab.CommandController.get().remove_switchingViz(ss.mkdel(this,this.$7));L.remove_onTabSelect(ss.mkdel(this,this.$3))})));tab.StartupUtils.add_clientFullyLoaded(ss.mkdel(this,this.$5));var eS=L.$0(false,eQ);this.$n=eS;this.$r=eS;this.$n.startup();this.$c(this.$n,this.$r);if(tab.BrowserSupport.get_isIE()){this.$0()}this.$q=new cT;spiff.SpiffBrowserViewport.getSpiffBrowserViewportFunc=function(eT){X.getViewport(function(eU){var eV=new spiff.SpiffBrowserViewport(eU.get_dimensions(),function(eW){return eU.getVisibleRoom(eW,0)});eT(eV)})}});L.add_starting(e)};L.__typeName='tab.Application';L.add_starting=function(e){L.$1$1=ss.delegateCombine(L.$1$1,e)};L.remove_starting=function(e){L.$1$1=ss.delegateRemove(L.$1$1,e)};L.add_started=function(e){L.$1$2=ss.delegateCombine(L.$1$2,e)};L.remove_started=function(e){L.$1$2=ss.delegateRemove(L.$1$2,e)};L.add_onTabSelect=function(e){L.$1$3=ss.delegateCombine(L.$1$3,e)};L.remove_onTabSelect=function(e){L.$1$3=ss.delegateRemove(L.$1$3,e)};L.get_instance=function(){if(ss.isNullOrUndefined(L.$4)){L.$4=new L}return L.$4};L.get_isHostedInApiContext=function(){return!ss.isNullOrEmptyString(tsConfig.apiID)||tsConfig.is_mobile_app};L.get_commonDialogProvider=function(){if(ss.isNullOrUndefined(L.$3)){L.$3=new bb}return L.$3};L.startup=function(){var e={};e['t']=tabBootstrap.MetricsController.getTiming();e['d']='APPSTR'.toString();var eQ=new tabBootstrap.MetricsEvent('gen',2,e);tabBootstrap.MetricsController.logEvent(eQ);if(ss.isValue(L.$5)&&L.$5){throw new ss.Exception('Application.Startup() can only be called once')}var eR=L.get_instance();if(!ss.staticEquals(L.$1$1,null)){L.$1$1(eR,ss.EventArgs.Empty)}if(!ss.staticEquals(L.$1$2,null)){L.$1$2(eR,ss.EventArgs.Empty)}spiff.DragDropManager.init();SharedWidgets.setConfig(L.$1());L.$5=true};L.$1=function(){var e={styles:{Typography:{FontFamily:'inherit'}}};return e};L.$0=function(e,eQ){var eR=ss.getType((tsConfig.is_mobile?'tab.ApplicationViewModelMobile':'tab.ApplicationViewModelWeb'));return new eR(e,eQ)};L.handleAllFontsFound=function(){dy.get_instance().downloadFonts();dy.get_instance().allFontsFound()};L.$2=function(){bd.get_instance().reset(1);bd.get_instance().addCompletedHandler(1,cb.logUIStabilized);dy.get_instance().initialize(true);var e=dy.effectiveBentonSans;dy.get_instance().registerServerLoadedFonts(e);if(tab.FeatureFlags.isEnabled('TableauFontWeb')){dy.get_instance().registerServerLoadedFonts(dy.tableauFontNames)}dy.get_instance().notifyDownloadableFont(e)};L.fireOnTabSelect=function(e){if(!ss.staticEquals(L.$1$3,null)){L.$1$3(e)}};global.tab.Application=L;var M=function(){this.domNode=null;this.toolbarContainer=null;spiff.Template.call(this,M.$0());this.domNode=this.domRoot;this.toolbarContainer=$((tab.FeatureFlags.isEnabled('IframeSizedToWindow')?N.toolbarContainerSelector:'.tab-toolbar-container'))};M.__typeName='tab.ApplicationTemplate';M.$0=function(){return(tab.FeatureFlags.isEnabled('IframeSizedToWindow')?$("<div id='dashboard-viewport'></div>"):$("<div id='tabViewer' class='wcBody' style='visibility: hidden;'></div>"))};global.tab.ApplicationTemplate=M;var N=function(e){this.$g=null;this.$f=null;this.$e=null;ss.makeGenericType(spiff.BaseView$1,[P]).call(this,e,new M);tab.FullscreenUtil.add_fullscreenStateChanged(N.$0);this.disposables.add(function(){tab.FullscreenUtil.remove_fullscreenStateChanged(N.$0)})};N.__typeName='tab.ApplicationView';N.$0=function(){if(tab.FullscreenUtil.get_inFullscreenMode()){var e=document.body;if(e.scrollWidth>e.clientWidth||e.scrollHeight>e.clientHeight){$('html, body').css('overflow','scroll')}if(tsConfig.isPublic){$(N.vizContainerSelector).css({width:'',height:''})}}else{$('html, body').css('overflow','');if(tsConfig.isPublic){var eQ=tabBootstrap.ViewerBootstrap.get_instance().getVizClientContainerSize(tsConfig.current_sheet_type);$(N.vizContainerSelector).css({width:eQ.w+'px',height:eQ.h+'px'})}}var eR=L.get_instance().get_tabbedNavigation();if(tabBootstrap.VizLayoutConstants.get_shouldShowTabs()&&ss.isValue(eR)){eR.resizeShim()}};global.tab.ApplicationView=N;var O=function(e,eQ){this.session=null;this._connections=[];this.skipInit=false;this.$A=null;this.$w=false;this.$z=null;this.$C=null;this.$v=null;this.$u=null;this.$x=false;this.$y=false;this.$B=0;this.$D=null;spiff.Widget.call(this,$(null));this.session=eQ;this.skipInit=e;var eR=tabBootstrap.ViewerBootstrap.get_instance();if(ss.isNullOrUndefined(eR)){throw new ss.Exception('tabBootstrap.ViewerBootstrap is undefined')}if(eR.get_hasBootstrapCompleted()){tab.XhrUtil.set_currentTabName(tsConfig.current_sheet_name)}tab.XhrUtil.guid=tsConfig.guid;tab.XhrUtil.parentID=tsConfig.parentID;this.$C=new eD(this);this.enableTextSelection()};O.__typeName='tab.ApplicationViewModel';O.selectCenteringContainer=function(){return $('#centeringContainer')};O.getClientBounds=function(){var e=tabBootstrap.ViewerBootstrap.get_instance().getWebClientDashboardContainerSize(tsConfig.current_sheet_type);var eQ=tabBootstrap.VizLayoutConstants.get_tabsHeight();var eR={l:0,t:eQ,w:e.w,h:e.h};if(!eh.get_toolbarIsBottom()&&!tsConfig.is_authoring){eR.t+=tabBootstrap.VizLayoutConstants.get_vizToolbarHeight()}return eR};O.calculateDashboardViewportBounds=function(){var e=tab.DashboardSizeCalculator.get_dashboardViewportSize();var eQ={l:0,t:0,w:e.w,h:e.h};if(!eh.get_toolbarIsBottom()&&!tsConfig.is_authoring){eQ.t+=tabBootstrap.VizLayoutConstants.get_vizToolbarHeight()}return eQ};global.tab.ApplicationViewModel=O;var P=function(e){this.$6=null;this.$8=null;this.$5=null;this.$7=null;this.$2$1=null;spiff.BaseViewModel.call(this);this.$6=e;this.$6.add_newWorkbook(ss.mkdel(this,this.handleNewWorkbook));if(ss.isValue(this.$6.get_workbook())){this.handleNewWorkbook(this.$6.get_workbook())}this.$6.add_applicationUpdate(ss.mkdel(this,this.handleApplicationUpdate));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$6.remove_applicationUpdate(ss.mkdel(this,this.handleApplicationUpdate))})));this.$5=new K;if(!tsConfig.is_authoring&&!this.$6.get_isOffline()){this.$7=new eh(this.$6.get_toolbar());this.$7.set_shouldShowCommenting(this.get_shouldShowCommenting());tab.StartupUtils.callAfterBootstrap(ss.mkdel(this,this.$3))}};P.__typeName='tab.ApplicationViewModelReal';global.tab.ApplicationViewModelReal=P;var Q=function(e){this.$9=null;this.$2$1=null;this.$2$2=null;spiff.Widget.call(this,e.domRoot);this.$9=e;this.$8()};Q.__typeName='tab.AreYouSureButtons';Q.create=function(e,eQ){var eR=new Q(new R);if(ss.isValue(e)){eR.$a(e);eR.disposables.add$1(new tab.CallOnDispose(function(){eR.$b(e)}))}if(ss.isValue(eQ)){eR.$c(eQ);eR.disposables.add$1(new tab.CallOnDispose(function(){eR.$d(eQ)}))}return eR};global.tab.AreYouSureButtons=Q;var R=function(){this.container=null;this.label=null;this.cancelButton=null;this.confirmButton=null;spiff.Template.call(this,$("<div class='tab-areYouSure-container'><div class='tab-areYouSure-outer'><div class='tab-areYouSure-inner'><span class='tab-areYouSure-label'></span><div class='tab-areYouSure-no tab-areYouSure-button'></div><div class='tab-areYouSure-yes tab-areYouSure-button'></div></div></div></div>"));this.container=this.domRoot;this.label=this.getElementBySelector('.tab-areYouSure-label');this.cancelButton=this.getElementBySelector('.tab-areYouSure-no');this.confirmButton=this.getElementBySelector('.tab-areYouSure-yes')};R.__typeName='tab.AreYouSureTemplate';global.tab.AreYouSureTemplate=R;var S=function(e,eQ){this.$0=null;T.call(this,e,eQ);this.$0=e.RedirectUrl};S.__typeName='tab.BadPasswordAuthPromptOverlayWidget';global.tab.BadPasswordAuthPromptOverlayWidget=S;var T=function(e,eQ){U.call(this,e,eQ)};T.__typeName='tab.BaseDataSourceConnectionErrorOverlayWidget';global.tab.BaseDataSourceConnectionErrorOverlayWidget=T;var U=function(e,eQ){this.onProceed=null;this.dataSourceConnectionAttemptErrorResponse=null;this.dataSourceConnectionAttemptErrorResponse=e;this.onProceed=eQ};U.__typeName='tab.BaseDataSourceConnectionErrorWidget';global.tab.BaseDataSourceConnectionErrorWidget=U;var V=function(e,eQ){var eR=function(eS,eT,eU){this.$1=null;ss.makeGenericType(spiff.ReactSpiffAdapter$3,[eQ,ss.makeGenericType(dY,[e]),Object]).call(this,eS(eT.viewModel),eT,eU);this.$1=eS};ss.registerGenericClassInstance(eR,V,[e,eQ],{handleWidgetPropertyChanged:function(eS,eT){},updateWidgetState:function(eS){if(!ss.referenceEquals(this.props.viewModel,eS.viewModel)){this.set_widget(tab.MiscUtil.dispose$1(this.get_widget()));this.set_widget(this.$1(eS.viewModel));var eT=$(ReactDOM.findDOMNode(this));if(ss.isValue(eT)){eT.append(this.get_widget().element)}}}},function(){return ss.makeGenericType(spiff.ReactSpiffAdapter$3,[eQ,ss.makeGenericType(dY,[e]),Object])},function(){return[]});return eR};V.__typeName='tab.BaseToolbarButtonComponent$2';ss.initGenericClass(V,a,2);global.tab.BaseToolbarButtonComponent$2=V;var W=function(){this.$1$1=null;this.$1$2=null};W.__typeName='tab.BasicFontLoader';global.tab.BasicFontLoader=W;var X=function(e){this.$0=null;this.$0=e};X.__typeName='tab.BrowserViewport';X.$8=function(){return tab.Logger.lazyGetLogger(X)};X.$7=function(){var e=new tab.WindowHelper(window.self);return{l:e.get_pageXOffset(),t:e.get_pageYOffset(),w:e.get_clientWidth(),h:e.get_clientHeight()}};X.getViewport=function(e){tab.Param.verifyValue(e,'callback');if(tab.FullscreenUtil.get_inFullscreenMode()){e(new X(X.$7()))}else if(X.$a){X.$b=e;X.$6()}else{e(new X(X.$7()))}};X.$0=function(e){if(tabBootstrap.Utility.get_embedMode()==='embedded'){if(ss.isValue(X.$c)){e.y+=X.$c.y;e.x+=X.$c.x}}else{try{var eQ=window.self;while(ss.isValue(eQ.frameElement)){var eR=$(eQ.frameElement).offset();e.y+=tab.DoubleUtil.roundToInt(eR.top);e.x+=tab.DoubleUtil.roundToInt(eR.left);eQ=eQ.parent}}catch(eS){var e=ss.Exception.wrap(eS)}}};X.$3=function(e){if(typeof(ss.getType('ss'))==='undefined'){return}var eQ=e.data;if(ss.isNullOrUndefined(eQ)||typeof(eQ)!=='string'){return}var eR=eQ;var eS=eR.split(',');if(!ss.isValue(eS)){return}if(ss.referenceEquals(eS[0],'layoutInfoResp'.toString())){var eT={l:parseInt(eS[1],10),t:parseInt(eS[2],10),w:parseInt(eS[3],10),h:parseInt(eS[4],10)};X.$2(eT)}else if(ss.referenceEquals(eS[0],'tableau.enableVisibleRectCommunication'.toString())){X.$a=true}else if(ss.referenceEquals(eS[0],'vizOffsetResp'.toString())){X.$c={x:parseInt(eS[1],10),y:parseInt(eS[2],10)};X.$a=true}};X.$2=function(e){var eQ=new X(e);if(ss.isValue(X.$b)){X.$b(eQ);X.$b=null}};X.$6=function(){if(tab.BrowserSupport.get_postMessage()){window.parent.postMessage('layoutInfoReq'.toString(),'*')}else{X.$2(X.$7())}};X.$5=function(){if(X.$9){if('removeEventListener'in window.self){window.removeEventListener('message',X.$3,true)}else{window.self.detachEvent('onmessage',X.$3)}X.$9=false}};X.$1=function(){if('addEventListener'in window.self){window.addEventListener('unload',X.$4,true)}else{window.self.attachEvent('onunload',X.$4)}};X.$4=function(e){X.$5()};global.tab.BrowserViewport=X;var Y=function(e,eQ){this.$0=null;this.$1=null;this.$3=null;this.$4=null;this.$6=false;this.$2=null;this.$5=null;this.$7=null;this.cachedVisibleRect=null;this.$0=e;this.$1=eQ;this.$6=false;this.$7={x:0,y:0}};Y.__typeName='tab.CanvasRenderer';Y.modifyLineEndpoints=function(e,eQ,eR){if(Math.round(eR)%2===1){var eS=eQ.x-e.x;var eT=eQ.y-e.y;if(eS!==0||eT!==0){var eU=eS*eS+eT*eT;eU=Math.sqrt(eU);var eV=Math.abs(0.5*(eS/eU));var eW=Math.abs(0.5*(eT/eU));e.x+=eW;e.y+=eV;eQ.x+=eW;eQ.y+=eV}}};Y.getRenderContext=function(e,eQ){var eR;if(eQ==='opaque'&&tab.FeatureParamsLookup.getBool(42)){var eS=ss.mkdict(['alpha',false]);eR=e.getContext('2d',eS)}else{eR=e.getContext('2d')}return new dP(eR)};Y.addMultipolygonPath=function(e,eQ){var eR=eQ.polygonList;var eS=eR.length;for(var eT=0;eT<eS;eT++){var eU=eR[eT].lineList;var eV=eU.length;for(var eW=0;eW<eV;eW++){var eX=eU[eW].pointsF;var eY=eX.length;if(eY<2){continue}e.moveTo(eX[0],eX[1]);for(var eZ=2;eZ<eY;eZ=eZ+2){e.lineTo(eX[eZ],eX[eZ+1])}}}};Y.addMultipointPath=function(e,eQ,eR){var eS=eQ.pointsF;var eT=eS.length;for(var eU=0;eU<eT;eU=eU+2){var eV=eS[eU];var eW=eS[eU+1];e.moveTo(eV+eR,eW);e.arc(eV,eW,eR,0,Y.twoPI,true)}};Y.addMultilinePath=function(e,eQ){var eR=eQ.lineList;var eS=eR.length;for(var eT=0;eT<eS;eT++){var eU=eR[eT].pointsF;var eV=eU.length;if(eV===0||eV%2===1){continue}e.moveTo(eU[0],eU[1]);for(var eW=2;eW<eU.length;eW=eW+2){e.lineTo(eU[eW],eU[eW+1])}}};Y.boundsCoordinateArray=function(e,eQ){var eR=e.length;for(var eS=0;eS<eR;eS=eS+2){var eT=e[eS];var eU=e[eS+1];eQ.minX=Math.min(eQ.minX,eT);eQ.minY=Math.min(eQ.minY,eU);eQ.maxX=Math.max(eQ.maxX,eT);eQ.maxY=Math.max(eQ.maxY,eU)}};Y.boundsMultipolygon=function(e,eQ){for(var eR=0;eR<e.polygonList.length;eR++){var eS=e.polygonList[eR];for(var eT=0;eT<eS.lineList.length;eT++){var eU=eS.lineList[eT];Y.boundsCoordinateArray(eU.pointsF,eQ)}}};Y.boundsMultilineString=function(e,eQ){for(var eR=0;eR<e.lineList.length;eR++){var eS=e.lineList[eR];Y.boundsCoordinateArray(eS.pointsF,eQ)}};Y.getBasisVectorsBetweenTwoPoints=function(e,eQ,eR){var eS=eQ.x-e.x;var eT=eQ.y-e.y;var eU=Math.sqrt(eS*eS+eT*eT);var eV={x:eR*(eS/eU),y:eR*(eT/eU)};var eW={x:-eV.y,y:eV.x};return{item1:eV,item2:eW}};Y.fillPath=function(e,eQ,eR){var eS=Math.floor(eQ.length/2);if(eS<2){return}e.beginPath();e.moveTo(eQ[0],eQ[1]);for(var eT=2;eT<eS*2;eT+=2){e.lineTo(eQ[eT],eQ[eT+1])}if(eR){e.closePath()}e.fill()};Y.strokePath=function(e,eQ,eR,eS){var eT=Math.floor(eQ.length/2);if(eT<2){return}e.beginPath();var eU=e.get_lineWidth();for(var eV=0;eV<eT*2-2;eV+=2){var eW={x:eQ[eV],y:eQ[eV+1]};var eX={x:eQ[eV+2],y:eQ[eV+3]};if(eT<=2&&eS){Y.modifyLineEndpoints(eW,eX,eU)}if(eV===0){e.moveTo(eW.x,eW.y)}Y.$3(e,eW,eX)}if(eR){e.closePath();var eY=eT*2;var eZ={x:eQ[eY-2],y:eQ[eY-1]};var fa={x:eQ[0],y:eQ[1]};if(eT<=2&&eS){Y.modifyLineEndpoints(eZ,fa,eU)}Y.$3(e,eZ,fa)}e.stroke()};Y.toCanvasAngle=function(e){return e*Y.twoPI-Y.halfPI};Y.toCanvasLineCap=function(e){switch(e){case'flat':{return'butt'}case'square':{return'square'}case'round':{return'round'}case'triangle':{break}}return'butt'};Y.toCanvasLineJoin=function(e){switch(e){case'bevel':{return'bevel'}case'miter':{return'miter'}case'round':{return'round'}}return'miter'};Y.renderRectangle=function(e,eQ,eR,eS,eT,eU,eV){var eW=eS/2;var eX=eT/2;e.set_lineJoin('miter');e.set_lineWidth(eV);e.set_strokeStyle(eU);e.strokeRect(eQ-eW,eR-eX,eS,eT)};Y.renderCircle=function(e,eQ,eR,eS,eT,eU){e.beginPath();e.arc(eQ,eR,eS/2,0,Y.twoPI,true);e.closePath();e.set_lineWidth(eU);e.set_strokeStyle(eT);e.stroke()};Y.renderFilledCircle=function(e,eQ,eR,eS,eT){e.beginPath();e.arc(eQ,eR,eS/2,0,Y.twoPI,true);e.closePath();e.set_shapeFillStyle(eT);e.fill()};Y.renderWedge=function(e,eQ,eR,eS,eT,eU,eV,eW,eX,eY){var eZ=Y.toCanvasAngle(eT);var fa=Y.toCanvasAngle(eU);if(Math.abs(fa-eZ)<Y.angleEpsilon){return}if(ss.isNullOrUndefined(eX)){eX=false}var fb=Math.abs(eU-eT)>=1;e.beginPath();if(!fb){e.moveTo(eQ,eR)}eZ=Y.$6(eZ);fa=Y.$6(fa);e.arc(eQ,eR,eS,eZ,fa,eX);e.closePath();e.set_lineJoin((eY?'miter':'round'));e.set_lineWidth(eW);e.set_strokeStyle(eV);e.stroke()};Y.createPlaceholderPath=function(e,eQ,eR,eS){e.beginPath();e.arc(eQ,eR,eS/2,0,Y.twoPI,true);e.closePath()};Y.createMultipolygonPath=function(e,eQ){e.beginPath();Y.addMultipolygonPath(e,eQ.multiPolygon);e.closePath()};Y.createMultipointPath=function(e,eQ,eR){e.beginPath();Y.addMultipointPath(e,eR.multiPoint,eQ/2);e.closePath()};Y.fillMultiLineStringPath=function(e,eQ,eR){e.set_lineCap('butt');e.set_lineJoin('round');e.set_strokeStyle(eR);e.set_lineWidth(eQ);e.stroke()};Y.fillClearMultiLineStringPath=function(e,eQ,eR){var eS=e.get_globalCompositeOperation();e.set_globalCompositeOperation('destination-out');e.set_lineCap('butt');e.set_lineJoin('round');e.set_strokeStyle(eR);e.set_lineWidth(eQ);e.stroke();e.set_globalCompositeOperation(eS)};Y.$2=function(e,eQ,eR){e.beginPath();e.moveTo(eQ.x,eQ.y);e.lineTo(eR.x,eR.y);e.stroke()};Y.$0=function(e,eQ,eR){var eS=e[0];var eT=e[1];var eU=Y.getBasisVectorsBetweenTwoPoints(eS,eT,eQ);var eV=Y.$7(eU.item1);var eW={x:eV.x*(eR/2),y:eV.y*(eR/2)};var eX=eU.item2;var eY={x:eS.x-eW.x+eX.x,y:eS.y-eW.y+eX.y};var eZ={x:eS.x-eW.x-eX.x,y:eS.y-eW.y-eX.y};var fa=new Array(2);fa[0]=eY;fa[1]=eZ;return fa};Y.fillMultiLineStringEndCaps=function(e,eQ,eR,eS,eT){e.set_strokeStyle(eT);e.set_lineWidth(eS);var eU=eR/2;var eV=eQ.lineList;var eW=eV.length;for(var eX=0;eX<eW;eX++){var eY=eV[eX].pointsF;var eZ=eY.length;if(eZ<4||eZ%2===1){continue}var fa={x:eY[0],y:eY[1]};var fb={x:eY[2],y:eY[3]};var fc=new Array(2);fc[0]=fa;fc[1]=fb;var fd=Y.$0(fc,eU,eS);Y.$2(e,fd[0],fd[1]);fa.x=eY[eZ-2];fa.y=eY[eZ-1];fb.x=eY[eZ-4];fb.y=eY[eZ-3];fc[0]=fa;fc[1]=fb;fd=Y.$0(fc,eU,eS);Y.$2(e,fd[0],fd[1])}e.beginPath();Y.addMultilinePath(e,eQ)};Y.$7=function(e){var eQ=Math.sqrt(e.x*e.x+e.y*e.y);return{x:e.x/eQ,y:e.y/eQ}};Y.createMultiLinePath=function(e,eQ){e.beginPath();Y.addMultilinePath(e,eQ.multiLine)};Y.$3=function(e,eQ,eR){if(tab.BrowserSupport.get_canvasLinePattern()){e.lineTo(eR.x,eR.y)}else{switch(e.get_linePattern()){case'dashed':{Y.$1(e,eQ,eR,dP.defaultLineDashDashed[0],dP.defaultLineDashDashed[1]);break}case'dotted':{Y.$1(e,eQ,eR,dP.defaultLineDashDotted[0],dP.defaultLineDashDotted[1]);break}case'solid':default:{e.lineTo(eR.x,eR.y);break}}}};Y.$1=function(e,eQ,eR,eS,eT){var eU=e.get_lineWidth();eS=eU*eS;eT=eU*eT;e.moveTo(eQ.x,eQ.y);var eV=false;var eW=eS;var eX=eQ.x;var eY=eQ.y;var eZ=eR.x-eQ.x;var fa=eR.y-eQ.y;var fb=eZ*eZ+fa*fa;fb=Math.sqrt(fb);var fc=eZ/fb;var fd=fa/fb;while(fb>0){var fe=((fb>eW)?eW:fb);var ff=eX+fe*fc;var fg=eY+fe*fd;if(eV){e.moveTo(ff,fg)}else{e.lineTo(ff,fg)}fb-=fe;eW-=fe;if(eW===0){eV=!eV;eW=(eV?eT:eS)}eX=ff;eY=fg}};Y.$5=function(e,eQ){var eR=tab.DomUtil.parseWidthFromStyle(e.style);eR=(isNaN(eR)?eQ:eR);return eR};Y.$4=function(e,eQ){var eR=tab.DomUtil.parseHeightFromStyle(e.style);eR=(isNaN(eR)?eQ:eR);return eR};Y.$6=function(e){return ss.Int32.trunc(e*100000)/100000};global.tab.CanvasRenderer=Y;var Z=function(){};Z.__typeName='tab.CanvasUtil';Z.sizeCanvasWithHighDPISupport=function(e,eQ,eR){var eS=dt.calculatePixelRatio();Z.setCanvasSizeAndDensify(e,eS,eR);if(!tab.DoubleUtil.isApproximatelyEqual(eS,1)){Z.scaleCanvasDrawing(eQ,eS)}};Z.setCanvasSizeAndDensify=function(e,eQ,eR){if(ss.isValue(e)){var eS={w:ss.Int32.trunc(eR.w*eQ),h:ss.Int32.trunc(eR.h*eQ)};Z.densifyCanvasUsingSize(e,eS,eR)}};Z.densifyCanvasUsingSize=function(e,eQ,eR){if(ss.isValue(e)&&ss.isValue(eQ)&&ss.isValue(eR)){e.width=eQ.w;e.height=eQ.h;e.style.width=Z.$0(eR.w);e.style.height=Z.$0(eR.h)}};Z.scaleCanvasDrawing=function(e,eQ){if(ss.isValue(e)){e.pixelRatio=eQ;e.scale(eQ,eQ)}};Z.isOverCanvasSizeLimit=function(e,eQ,eR){var eS=Math.floor(eR*e*eR*eQ+0.5);return eS>tabBootstrap.ViewerBootstrap.get_canvasPixelLimit()};Z.canvasDensified=function(e){return!!e.style.height&&!ss.referenceEquals(e.style.height,Z.$0(e.height))};Z.$0=function(e){return e+'px'};global.tab.CanvasUtil=Z;var ba=function(){this.command=null;ss.EventArgs.call(this)};ba.__typeName='tab.CommandExecutedEventArgs';global.tab.CommandExecutedEventArgs=ba;var bb=function(){};bb.__typeName='tab.CommonDialogProviderImpl';bb.$0=function(){var e=document.createElement('div');return e};global.tab.CommonDialogProviderImpl=bb;var bc=function(){};bc.__typeName='tab.CommonDialogProviderTelemetry';bc.$1=function(e,eQ,eR){if(tab.OnlineAnalyticsClient.get_telemetryEnabled()&&tab.FeatureFlags.isEnabled('WebErrorsOnlineTelemetry')){tab.OnlineAnalyticsClient.logEvent('Error.Alert',['Title',e,'Content',eQ,'Links',(_.isArray(eR)?JSON.stringify(eR):'')])}};bc.$0=function(e,eQ){if(tab.OnlineAnalyticsClient.get_telemetryEnabled()&&tab.FeatureFlags.isEnabled('WebErrorsOnlineTelemetry')){var eR=ss.coalesce(eQ.ErrorType,'');var eS=ss.coalesce(eQ.ErrorMessage,'');var eT=ss.coalesce(eQ.RedirectUrl,'');tab.OnlineAnalyticsClient.logEvent('Error.DataSourceConnection',['Context',e,'ErrorType',eR,'Message',eS,'RedirectUrl',eT])}};global.tab.CommonDialogProviderTelemetry=bc;var bd=function(){this.$2=null;this.$1=null;this.$2={};this.$1={}};bd.__typeName='tab.CompletionMonitor';bd.get_instance=function(){if(ss.isNullOrUndefined(bd.$0)){bd.$0=new bd}return bd.$0};global.tab.CompletionMonitor=bd;var be=function(){};be.__typeName='tab.CompletionMonitorType';global.tab.CompletionMonitorType=be;var bf=function(e,eQ){this.$0=null;this.completionMonitorType=0;this.completionMonitorType=e;this.$0=eQ};bf.__typeName='tab.CompletionToken';global.tab.CompletionToken=bf;var bg=function(e,eQ){ss.makeGenericType(spiff.ReactSpiffAdapter$3,[bj,bh,Object]).call(this,tab.ObjectRegistry.newView(bj).call(null,[e.viewModel]),e,eQ)};bg.__typeName='tab.CustomViewsComponent';global.tab.CustomViewsComponent=bg;var bh=function(){this.viewModel=null};bh.__typeName='tab.CustomViewsProps';global.tab.CustomViewsProps=bh;var bi=function(){this.customViewsArea=null;this.manageModeControlArea=null;this.myViewsTitle=null;this.myViewsListArea=null;this.otherViewsTitle=null;this.otherViewsListArea=null;this.myViewsListWrapper=null;this.otherViewsListWrapper=null;this.saveViewArea=null;spiff.Template.call(this,$("\n<div class='tab-customViewsView tab-toolbarFlyout'>\n    <div class='tab-cv-flyoutSection tab-customViews-saveView' />\n    <div class='tab-cv-flyoutSection tab-cv-myViews'>\n        <div class='tab-toolbarFlyoutTitle'/>\n        <div class='tab-cv-listWrapper'>\n            <div class='tab-cv-viewsList'/>\n        </div>\n    </div>\n    <div class='tab-cv-flyoutSection tab-cv-otherViews'>\n        <div class='tab-toolbarFlyoutTitle'/>\n        <div class='tab-cv-listWrapper'>\n            <div class='tab-cv-viewsList'/>\n        </div>\n    </div>\n    <div class='tab-cv-flyoutSection tab-cv-manageModeControls' />\n</div>"));this.customViewsArea=this.domRoot;this.manageModeControlArea=this.getElementBySelector('.tab-cv-manageModeControls');this.myViewsListArea=this.getElementBySelector('.tab-cv-myViews .tab-cv-viewsList');this.myViewsTitle=this.getElementBySelector('.tab-cv-myViews .tab-toolbarFlyoutTitle');this.otherViewsTitle=this.getElementBySelector('.tab-cv-otherViews .tab-toolbarFlyoutTitle');this.otherViewsListArea=this.getElementBySelector('.tab-cv-otherViews .tab-cv-viewsList');this.myViewsListWrapper=this.getElementBySelector('.tab-cv-myViews .tab-cv-listWrapper');this.otherViewsListWrapper=this.getElementBySelector('.tab-cv-otherViews .tab-cv-listWrapper');this.saveViewArea=this.getElementBySelector('.tab-customViews-saveView')};bi.__typeName='tab.CustomViewsTemplate';global.tab.CustomViewsTemplate=bi;var bj=function(e){this.$15=null;this.$14=null;this.$12=null;this.$X=null;this.$Y=null;this.$Z=null;this.$10={};this.$11=null;this.$W=null;this.$13=null;ss.makeGenericType(spiff.BaseView$1,[bk]).call(this,e,new bi);this.$a();this.get_viewModel().add_customViewListChanged(ss.mkdel(this,this.$P));this.get_viewModel().updateCustomizedViews(null,null)};bj.__typeName='tab.CustomViewsView';global.tab.CustomViewsView=bj;var bk=function(){this.$s=null;this.$q=[];this.$r=[];this.$p=bk.modeSelect;this.$l=null;this.$m=null;this.$n=null;this.$o=false;this.hideView=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;spiff.BaseViewModel.call(this);this.$s=new tab.CustomizedViewSession(tab.CommandController.get().get_legacySession());if(tsConfig.allow_custom_views){tab.StartupUtils.callAfterBootstrap(ss.mkdel(this,function(){this.$5(null,null)}));tab.DashboardModel.add_modifiedSheetsChanged(ss.mkdel(this,this.$9));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){tab.DashboardModel.remove_modifiedSheetsChanged(ss.mkdel(this,this.$9))})))}};bk.__typeName='tab.CustomViewsViewModel';bk.$0=function(e,eQ){return ss.compareStrings(e.name,eQ.name,true)};global.tab.CustomViewsViewModel=bk;var bl=function(e,eQ){this.dashboardNode=null;spiff.Template.call(this,$(e));if(eQ){this.dashboardNode=this.getElementBySelector('.tab-dashboard')}else{this.dashboardNode=this.domRoot}};bl.__typeName='tab.DashboardTemplate';bl.newDashboardTemplate=function(e){var eQ=(e?"<div class='tab-gutter'><div id='tab-dashboard-region' class='tab-dashboard'/></div>":"<div id='tab-dashboard-region' class='tab-dashboard'/>");return new bl(eQ,e)};global.tab.DashboardTemplate=bl;var bm=function(e){this.$e=null;ss.makeGenericType(spiff.BaseView$1,[bn]).call(this,e,bl.newDashboardTemplate(e.get_hasGutter()));this.$e=e;this.$e.add_formatsChanged(ss.mkdel(this,this.$9));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$e.remove_formatsChanged(ss.mkdel(this,this.$9))})));this.$e.add_newZone(ss.mkdel(this,this.$a));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$e.remove_newZone(ss.mkdel(this,this.$a))})));this.$e.add_vizRebuildStart(ss.mkdel(this,this.$c));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$e.remove_vizRebuildStart(ss.mkdel(this,this.$c))})));this.$e.add_sizeChanged(ss.mkdel(this,this.$b));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$e.remove_sizeChanged(ss.mkdel(this,this.$b))})))};bm.__typeName='tab.DashboardView';bm.findDashboard=function(){return $('.tab-dashboard')};bm.uniquefyClonedFilterRadioElements=function(e){var eQ=e.find('input:radio');for(var eR=0;eR<eQ.length;++eR){var eS=eQ[eR];var eT=ss.coalesce(eS.getAttribute('name'),'');eT+='_%%%CLONE%%%';eS.setAttribute('name',eT)}};global.tab.DashboardView=bm;var bn=function(e){this.$m={};this.$l=null;this.viewControllersBySheet={};this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.viewControllers=null;this.dashboardModel=null;this.gutter=null;spiff.BaseViewModel.call(this);this.gutter=tabBootstrap.ViewerBootstrap.get_instance().authoringGutter;this.dashboardModel=e;this.dashboardModel.zonesModel.add_newZone(ss.mkdel(this,this.$8));this.dashboardModel.add_newDashboard(ss.mkdel(this,this.$7));this.dashboardModel.add_activeZoneChanged(ss.mkdel(this,this.$6));this.dashboardModel.add_readyZoneChanged(ss.mkdel(this,this.$9));tab.SheetSession.add_sheetDataChanged(ss.mkdel(this,this.$k));tab.BaseSession.add_stateChanged(ss.mkdel(this,this.$h));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){tab.BaseSession.remove_stateChanged(ss.mkdel(this,this.$h))})));this.disposables.add$1(new tab.CallOnDispose(tab.StyleUtil.clearDefaultStyleSheet));this.dashboardModel.add_renderModeChanged(ss.mkdel(this,this.$a));this.dashboardModel.add_sizeChanged(ss.mkdel(this,this.$g));this.dashboardModel.add_portSizeChanged(ss.mkdel(this,this.$f));this.dashboardModel.add_formatsChanged(ss.mkdel(this,this.$e));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.dashboardModel.remove_renderModeChanged(ss.mkdel(this,this.$a));this.dashboardModel.remove_sizeChanged(ss.mkdel(this,this.$g));this.dashboardModel.remove_portSizeChanged(ss.mkdel(this,this.$f));this.dashboardModel.remove_formatsChanged(ss.mkdel(this,this.$e))})));this.viewControllers=[];this.$2()};bn.__typeName='tab.DashboardViewModel';bn.new$1=function(e){return new bn(e)};global.tab.DashboardViewModel=bn;var bo=function(e,eQ){React.Component.call(this,e,eQ)};bo.__typeName='tab.DataAlertCreateComponent';global.tab.DataAlertCreateComponent=bo;var bp=function(){by.call(this);this.successMessage=tab.Strings.DataAlertCreateSuccess;this.failureMessage=tab.Strings.DataAlertCreateFailure};bp.__typeName='tab.DataAlertCreatePersister';bp.new$1=function(){return new bp};global.tab.DataAlertCreatePersister=bp;var bq=function(e){this.$0=null;bz.call(this);this.$0=e};bq.__typeName='tab.DataAlertCreatePreparer';bq.new$1=function(e){return new bq(e)};global.tab.DataAlertCreatePreparer=bq;var br=function(e,eQ){this.$C=null;this.$B=null;this.$A=null;this.$H=null;this.$G=false;this.$F=false;this.$D='';this.$z=null;this.$E=null;ss.makeGenericType(spiff.BaseComponentViewModel$1,[Object]).call(this);if(tsConfig.is_guest){return}this.$B=e;this.$A=eQ;this.$o();this.$m();this.refresh()};br.__typeName='tab.DataAlertCreateViewModel';br.new$1=function(e,eQ){return new br(e,eQ)};global.tab.DataAlertCreateViewModel=br;var bs=function(e,eQ){this.$h=null;this.$k=null;this.$f=null;this.$g=null;this.$j=null;this.$i=null;this.dialogViewModelDisposed=null;this.$3$1=null;this.dialogPosition=null;ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]).call(this);this.$j=eQ;if(ss.isValue(e)){this.$i=e;this.updateFromDialogPresModel(e)}};bs.__typeName='tab.DataAlertDialogViewModel';bs.get_dataAlertModelExistsAndVisibleInApplicationModel=function(){return ss.isValue(tab.ApplicationModel.get_instance().get_dataAlertDialogModel())&&ss.isValue(tab.ApplicationModel.get_instance().get_dataAlertDialogModel().pm)&&tab.ApplicationModel.get_instance().get_dataAlertDialogModel().pm.isDataAlertDialogVisible};bs.new$1=function(e,eQ){return new bs(e,eQ)};bs.handleDataAlertClick=function(e){if(!ss.isNullOrEmptyString(e)){da.showNotification(e);return}tab.DataAlertCommands.newDataAlert(function(){da.showNotification(tab.Strings.DataAlertInitFailure)})};global.tab.DataAlertDialogViewModel=bs;var bt=function(e){this.$0='';by.call(this);this.$0=e;this.successMessage=tab.Strings.DataAlertUpdateSuccess;this.failureMessage=tab.Strings.DataAlertUpdateFailure};bt.__typeName='tab.DataAlertEditPersister';bt.new$1=function(e){return new bt(e)};bt.getDifferenceInUserLists=function(e,eQ){var eR=_.difference(eQ.map(function(eV){return eV.id}),e.map(function(eV){return eV.id}));var eS=[];for(var eT=0;eT<eR.length;eT++){var eU={$:eR[eT]};ss.arrayAddRange(eS,eQ.filter(ss.mkdel({id:eU},function(eV){return eV.id===this.id.$})))}return eS};bt.getOldUsersToRemove=function(e,eQ){return bt.getDifferenceInUserLists(eQ,e)};global.tab.DataAlertEditPersister=bt;var bu=function(e,eQ){this.$6=null;this.$4=false;this.$5=false;bz.call(this);this.dataAlert=new tab.DataAlert.$ctor1(e);this.$6=eQ};bu.__typeName='tab.DataAlertEditPreparer';bu.new$1=function(e,eQ){return new bu(e,eQ)};global.tab.DataAlertEditPreparer=bu;var bv=function(){};bv.__typeName='tab.DataAlertEditUrlHelper';bv.isDataAlertEdit=function(){var e=bv.editDataAlertId();if(ss.isNullOrEmptyString(e)){return false}return true};bv.editDataAlertId=function(){if(!tab.FeatureFlags.isEnabled('AlertEditing')){return''}var e=tabBootstrap.Utility.get_urlLocationSearchParams()[bv.editDataAlertUrlParam];return(ss.isNullOrEmptyString(e)?'':e)};global.tab.DataAlertEditUrlHelper=bv;var bw=function(e){spiff.PureRenderComponent.call(this,e)};bw.__typeName='tab.DataAlertErrorComponent';global.tab.DataAlertErrorComponent=bw;var bx=function(e,eQ){this.$b=null;this.$a=null;this.$9=null;this.$3$1=null;ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]).call(this);this.$b=e;this.$a=eQ;this.$7()};bx.__typeName='tab.DataAlertErrorViewModel';global.tab.DataAlertErrorViewModel=bx;var by=function(){this.successMessage=null;this.failureMessage=null;this.$1$1=null;this.$1$2=null};by.__typeName='tab.DataAlertPersisterBase';global.tab.DataAlertPersisterBase=by;var bz=function(){this.dataAlert=null;this.$1$1=null;this.$1$2=null};bz.__typeName='tab.DataAlertPreparerBase';global.tab.DataAlertPreparerBase=bz;var bA=function(e,eQ){this.dataHighlighterViewModel=null;this.$l=null;this.$m=null;this.dataHighlighterContentElement=null;this.dataHighlighterViewRootElement=null;this.zoneTitleRegionRootElement=null;this.$p=null;this.queryDelayTimer=null;this.currentListPopulationMode=0;this.notShownResultsListItemIsVisible=false;this.$o=false;this.$n=null;ss.makeGenericType(spiff.BaseView$1,[bC]).call(this,e,eQ);this.dataHighlighterViewModel=e;this.$m=eQ.domRoot;this.dataHighlighterContentElement=eQ.get_dataHighlighterContentElement();this.dataHighlighterViewRootElement=eQ.get_dataHighlighterViewRootElement();this.zoneTitleRegionRootElement=eQ.get_zoneTitleRegionRootElement();this.$l=tab.ObjectRegistry.newWidget(spiff.CompositeSearchWidget).call(null);this.dataHighlighterViewRootElement.append(this.$l.get_domRoot());this.$l.addClass('tabDataHighlighterView-searchControlsContainer');this.get_compositeSearchWidget().setPlaceholderText(this.get_viewModel().get_searchPlaceholderString());if(!ss.isNullOrUndefined(this.get_viewModel().get_searchText())&&this.get_viewModel().get_searchText().length>0){this.get_compositeSearchWidget().get_textInputView().get_inputElement().toggleClass('tabDataHighlighterViewInactiveText',!this.get_viewModel().get_isActive());this.get_compositeSearchWidget().setSearchText(this.get_viewModel().get_searchText())}this.$k();this.get_compositeSearchWidget().add_inputTextChanged(ss.mkdel(this,this.$a));this.get_compositeSearchWidget().add_textInputElementClicked(ss.mkdel(this,this.handleTextInputElementClicked));this.get_compositeSearchWidget().add_listItemClicked(ss.mkdel(this,this.handleListItemSelected));this.get_compositeSearchWidget().add_textInputSearchButtonClicked(ss.mkdel(this,this.handleSearchButtonClicked));this.get_compositeSearchWidget().add_textInputClearButtonClicked(ss.mkdel(this,this.handleClearButtonClicked));this.get_compositeSearchWidget().get_textInputView().add_enterKeyPressed(ss.mkdel(this,this.handleEnterKeyPress));this.get_compositeSearchWidget().get_textInputView().add_escapeKeyPressed(ss.mkdel(this,this.handleEscapeKeyPress));this.dataHighlighterViewModel.add_receivedSearchQueryResults(ss.mkdel(this,this.handleNewSearchQueryResults));this.dataHighlighterViewModel.add_titleChanged(ss.mkdel(this,this.handleTitleChanged));this.dataHighlighterViewModel.add_searchTextChanged(ss.mkdel(this,this.handleSearchTextChanged));this.dataHighlighterViewModel.add_isActiveChanged(ss.mkdel(this,this.handleIsActiveChanged));this.dataHighlighterViewModel.add_domainItemsChanged(ss.mkdel(this,this.$9));this.disposables.add$1(spiff.EventUtil.bindWithDispose(this.get_compositeSearchWidget().get_textInputView().get_inputElement(),'focus',ss.mkdel(this,this.$b)));this.disposables.add$1(spiff.EventUtil.bindWithDispose(this.get_compositeSearchWidget().get_textInputView().get_inputElement(),'focusout',ss.mkdel(this,this.$c)));this.disposables.add$1(spiff.EventUtil.bindWithDispose(this.get_compositeSearchWidget().get_textInputView().get_inputElement(),'mouseup',ss.mkdel(this,this.$d)));this.disposables.add$1(spiff.EventUtil.bindWithDispose(this.get_compositeSearchWidget().get_textInputView().get_inputElement(),'touchend',ss.mkdel(this,this.$d)));this.setTitleFromModel();this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_compositeSearchWidget().removeList();this.get_compositeSearchWidget().remove_inputTextChanged(ss.mkdel(this,this.$a));this.get_compositeSearchWidget().remove_textInputElementClicked(ss.mkdel(this,this.handleTextInputElementClicked));this.get_compositeSearchWidget().remove_listItemClicked(ss.mkdel(this,this.handleListItemSelected));this.get_compositeSearchWidget().remove_textInputSearchButtonClicked(ss.mkdel(this,this.handleSearchButtonClicked));this.get_compositeSearchWidget().remove_textInputClearButtonClicked(ss.mkdel(this,this.handleClearButtonClicked));this.get_compositeSearchWidget().get_textInputView().remove_enterKeyPressed(ss.mkdel(this,this.handleEnterKeyPress));this.get_compositeSearchWidget().get_textInputView().remove_escapeKeyPressed(ss.mkdel(this,this.handleEscapeKeyPress));this.dataHighlighterViewModel.remove_receivedSearchQueryResults(ss.mkdel(this,this.handleNewSearchQueryResults));this.dataHighlighterViewModel.remove_titleChanged(ss.mkdel(this,this.handleTitleChanged));this.dataHighlighterViewModel.remove_searchTextChanged(ss.mkdel(this,this.handleSearchTextChanged));this.dataHighlighterViewModel.remove_isActiveChanged(ss.mkdel(this,this.handleIsActiveChanged));this.dataHighlighterViewModel.remove_domainItemsChanged(ss.mkdel(this,this.$9));this.$g()})))};bA.__typeName='tab.DataHighlighterView';global.tab.DataHighlighterView=bA;var bB=function(){};bB.__typeName='tab.DataHighlighterView$ListPopulationMode';global.tab.DataHighlighterView$ListPopulationMode=bB;var bC=function(e,eQ,eR){this.$5=null;this.$a=null;this.$b=null;this.$8=null;this.$7=false;this.$9=null;this.$6=null;this.lastSatisfiedSearchTerm=null;this.lastSatisfiedSearchResults=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;spiff.BaseViewModel.call(this);this.$5=e;this.$a=eQ;this.$8=eR;this.$7=this.$5.get_isActive();this.set_searchText(this.$5.get_searchText());this.$6=ss.arrayClone(this.$5.get_fullDomainItemSet().dataHighlighterItems);if(ss.isValue(this.$8)){if(ss.isValue(this.$8.get_model().pm)&&this.$8.get_hasTitle()){this.$b=this.$8.get_model().pm.zoneTitle}this.$8.add_updateZone(ss.mkdel(this,this.$4));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$8.remove_updateZone(ss.mkdel(this,this.$4))})))}this.$5.add_newDataHighlighterPresModel(ss.mkdel(this,this.$3));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$5.remove_newDataHighlighterPresModel(ss.mkdel(this,this.$3))})))};bC.__typeName='tab.DataHighlighterViewModel';bC.$0=function(e,eQ){if(e.length!==eQ.length){return true}else{for(var eR=0;eR<e.length;eR++){if(!ss.referenceEquals(e[eR].text,eQ[eR].text)){return true}}}return false};global.tab.DataHighlighterViewModel=bC;var bD=function(){this.$1=null;this.$2=null;this.$3=null;spiff.Template.call(this,$("\n            <div class='tabDataHighlighterContainer'>\n                <div class='tab-zone-titleregion' />\n                <div class='tabDataHighlighterContent'>\n                    <div class='tabDataHighlighterView'/>\n                </div>\n            </div>"));this.$1=this.domRoot.find('.tabDataHighlighterContent');this.$2=this.domRoot.find('.tabDataHighlighterView');this.$3=this.domRoot.find('.tab-zone-titleregion')};bD.__typeName='tab.DataHighlighterViewTemplate';global.tab.DataHighlighterViewTemplate=bD;var bE=function(e,eQ){this.$0=null;U.call(this,e,eQ);this.$0=new bU(tab.Strings.AuthenticationRequired,e.RedirectUrl,'dse-frame')};bE.__typeName='tab.DataSourceConnectionErrorDialog';global.tab.DataSourceConnectionErrorDialog=bE;var bF=function(e){this.$q=0;this.$C=null;this.$y=null;this.$r=null;this.$p=null;this.$B=null;this.$u=null;this.$v=null;this.$s=null;this.$t=null;this.$x=null;this.$A=null;this.$z=null;this.$w=null;this.$E=null;this.$D=null;this.$F=false;spiff.Widget.call(this,$('<span>'));this.$q=e.firstDayOfWeek;this.$C=e.shortDayOfWeekNames;this.$D=e.todayFormatTemplate;this.$y=e.monthYearFormatter;this.$r=e.fullDateFormatter;this.$F=false;var eQ=new Date;this.$p=bF.$4(bF.$2(e.monthToShow)||eQ);this.$B=bF.$2(e.dateToSelect);this.setDateRange(e.minDate,e.maxDate);this.element.addClass('tab-datepicker');this.$d().appendTo(this.element);var eR=$('<div>').addClass('tab-datepicker-month-table-wrapper').append($('<div>').addClass('tab-datepicker-week-shade')).append(this.$e());eR.appendTo(this.element);this.$c().appendTo(this.element);this.element.mousedown(function(eS){spiff.EventUtil.stopEvent(eS)});this.$l()};bF.__typeName='tab.DatePicker';bF.$2=function(e){return(!!e?new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()):null)};bF.$3=function(e){return(!!e?new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())):null)};bF.$4=function(e){return(!!e?new Date(e.getFullYear(),e.getMonth(),1):null)};bF.$1=function(e,eQ,eR,eS){if(e+eQ>eS){e=eS-eQ;if(e<eR){e+=Math.ceil((eR-e)/2)}}return e};bF.$0=function(e,eQ){return(e+eQ+14)%7};bF.$5=function(e,eQ){return e.getFullYear()===eQ.getFullYear()&&e.getMonth()===eQ.getMonth()&&e.getDate()===eQ.getDate()};global.tab.DatePicker=bF;var bG=function(e,eQ,eR,eS,eT,eU,eV,eW,eX){this.monthToShow=null;this.dateToSelect=null;this.minDate=null;this.maxDate=null;this.firstDayOfWeek=0;this.shortDayOfWeekNames=null;this.todayFormatTemplate=null;this.monthYearFormatter=null;this.fullDateFormatter=null;this.monthToShow=(ss.isNullOrUndefined(e)?null:new Date(e.getTime()));this.dateToSelect=(ss.isNullOrUndefined(eQ)?null:new Date(eQ.getTime()));this.minDate=(ss.isNullOrUndefined(eR)?null:new Date(eR.getTime()));this.maxDate=(ss.isNullOrUndefined(eS)?null:new Date(eS.getTime()));this.firstDayOfWeek=ss.coalesce(eT,0);this.shortDayOfWeekNames=(ss.isNullOrUndefined(eU)?['S','M','T','W','T','F','S']:ss.arrayClone(eU));this.todayFormatTemplate=(ss.isNullOrUndefined(eV)?'Today: {0}':eV);this.monthYearFormatter=(ss.isNullOrUndefined(eW)?function(eY){return ss.localeFormatDate(bF.$2(eY),'MMMM yyyy')}:eW);this.fullDateFormatter=(ss.isNullOrUndefined(eX)?function(eY){return ss.localeFormatDate(bF.$2(eY),'MMMM d, yyyy')}:eX)};bG.__typeName='tab.DatePickerSettings';global.tab.DatePickerSettings=bG;var bH=function(){React.Component.call(this)};bH.__typeName='tab.DialogHostComponent';global.tab.DialogHostComponent=bH;var bI=function(){this.$8=false;this.$7=null;ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]).call(this)};bI.__typeName='tab.DialogHostViewModel';global.tab.DialogHostViewModel=bI;var bJ=function(){};bJ.__typeName='tab.DisabledTooltipBehavior';global.tab.DisabledTooltipBehavior=bJ;var bK=function(){this.woffLocation=null;tab.FontProperties.call(this)};bK.__typeName='tab.DownloadableFontProperties';global.tab.DownloadableFontProperties=bK;var bL=function(){};bL.__typeName='tab.DownloadableFontPropertiesExtensions';bL.toDownloadableFontProperties=function(e,eQ){var eR=new bK;eR.set_fontFamily(e.get_fontFamily());eR.set_style(e.get_style());eR.set_weight(e.get_weight());eR.woffLocation=eQ;return eR};global.tab.DownloadableFontPropertiesExtensions=bL;var bM=function(e,eQ){ss.makeGenericType(spiff.ReactSpiffAdapter$3,[bQ,bO,Object]).call(this,tab.ObjectRegistry.newView(bQ).call(null,[e.viewModel]),e,eQ)};bM.__typeName='tab.DownloadComponent';global.tab.DownloadComponent=bM;var bN=function(e,eQ,eR,eS){this.$3=null;this.$2=null;this.$4=null;this.$5=null;tab.Param.verifyString(e,'title');tab.Param.verifyString(eQ,'message');tab.Param.verifyString(eR,'url');tab.Param.verifyString(eS,'urlTarget');this.$3=e;this.$2=eQ;this.$4=eR;this.$5=eS};bN.__typeName='tab.DownloadFileDialog';bN.$0=function(e){var eQ=React.createElement(SharedWidgets.ButtonWidget,{handleClick:function(eS){e()},buttonType:7,testId:'CancelBtn',label:tab.Strings.DialogButtonCancel});var eR=React.createElement(SharedWidgets.InlineBlock,{children:eQ});return eR};global.tab.DownloadFileDialog=bN;var bO=function(){this.viewModel=null};bO.__typeName='tab.DownloadProps';global.tab.DownloadProps=bO;var bP=function(){this.downloadArea=null;this.menuArea=null;this.applicationArea=null;this.explanationTitle=null;this.explanationBody=null;this.actionArea=null;this.availablePlatforms=null;this.downloadAppButton=null;spiff.Template.call(this,$("<div class='tab-downloadView tab-toolbarFlyout'><div class='tab-downloadApplication'><div class='tab-explanationTitle' /><div class='tab-explanationBody' /><div class='tab-downloadAction'><div class='tab-availablePlatforms' /><div class='tab-downloadAppButton' /></div></div><div class='tab-downloadButtons'></div></div>"));this.downloadArea=this.domRoot;this.menuArea=this.getElementBySelector('.tab-downloadButtons');this.applicationArea=this.getElementBySelector('.tab-downloadApplication');this.explanationTitle=this.getElementBySelector('.tab-explanationTitle');this.explanationBody=this.getElementBySelector('.tab-explanationBody');this.actionArea=this.getElementBySelector('.tab-downloadAction');this.availablePlatforms=this.getElementBySelector('.tab-availablePlatforms');this.downloadAppButton=this.getElementBySelector('.tab-downloadAppButton');if(tsConfig.is_mobile){this.downloadArea.addClass('tab-mobileDownloadView')}};bP.__typeName='tab.DownloadTemplate';global.tab.DownloadTemplate=bP;var bQ=function(e){this.$i=null;this.$h=null;this.$g=null;this.$j=false;ss.makeGenericType(spiff.BaseView$1,[bR]).call(this,e,new bP);this.$i=e;this.$j=Math.min(tabBootstrap.ViewerBootstrap.get_instance().getWebClientDashboardContainerSize(tsConfig.current_sheet_type).w,window.innerWidth)<715;if(this.$j){this.get_dom().downloadArea.addClass('tab-narrowDownloadView')}this.$a()};bQ.__typeName='tab.DownloadView';global.tab.DownloadView=bQ;var bR=function(){this.$2$1=null;spiff.BaseViewModel.call(this)};bR.__typeName='tab.DownloadViewModel';global.tab.DownloadViewModel=bR;var bS=function(e){spiff.ModalDialog.$ctor1.call(this,e,$('<span></span>'))};bS.__typeName='tab.DynamicallyLoadedContentDialog';global.tab.DynamicallyLoadedContentDialog=bS;var bT=function(e,eQ){this.$P=null;bS.call(this,e);this.$P=eQ;this.get_dialogElement().addClass('tab-dsauthdlg tab-dsauthdlg-small')};bT.__typeName='tab.DynamicallyLoadedContentIntoDomDialog';global.tab.DynamicallyLoadedContentIntoDomDialog=bT;var bU=function(e,eQ,eR){this.$P=null;this.urlToLoadDialogContent=null;bS.call(this,e);this.$P=eR;this.urlToLoadDialogContent=eQ;this.get_dialogElement().addClass('tab-dsauthdlg tab-dsauthdlg-tall')};bU.__typeName='tab.DynamicallyLoadedContentIntoIframeDialog';global.tab.DynamicallyLoadedContentIntoIframeDialog=bU;var bV=function(){};bV.__typeName='tab.EmailValidator';bV.validate=function(e){if(ss.isNullOrEmptyString(e)){return false}if(e.length>bV.maxEmailLength){return false}var eQ=new RegExp('^[^\\s"(),:;<>@[\\]]+@([-a-z0-9]+\\.)+[a-z0-9]{2,}$','i');return eQ.test(e)};global.tab.EmailValidator=bV;var bW=function(){spiff.Template.call(this,$("<div class='tab-EmptyFloatingLayout'></div>"));this.domRoot.text(tab.Strings.EmptyFloatingLayoutMessage)};bW.__typeName='tab.EmptyFloatingLayoutTemplate';global.tab.EmptyFloatingLayoutTemplate=bW;var bX=function(e){ss.makeGenericType(spiff.BaseView$1,[bY]).call(this,e,new bW)};bX.__typeName='tab.EmptyFloatingLayoutView';global.tab.EmptyFloatingLayoutView=bX;var bY=function(e){spiff.BaseViewModel.call(this);e.add_childrenAdded(ss.mkdel(this,this.onChildrenAdded));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){e.remove_childrenAdded(ss.mkdel(this,this.onChildrenAdded))})))};bY.__typeName='tab.EmptyFloatingLayoutViewModel';global.tab.EmptyFloatingLayoutViewModel=bY;var bZ=function(){this.eventHandler=null;this.onTabSelectHandle=null;this.zoneBecameValidHandler=null};bZ.__typeName='tab.EventHandlerParam';global.tab.EventHandlerParam=bZ;var ca=function(){this.$0=null;this.$0={}};ca.__typeName='tab.ExportHelper';global.tab.ExportHelper=ca;var cb=function(){};cb.__typeName='tab.FontMetricsLogger';cb.logUIStabilized=function(){cb.$0('UI Stabilized')};cb.logFontsLoaded=function(){cb.$0('AllFontsDownloaded')};cb.$0=function(e){var eQ={};eQ['t']=tabBootstrap.MetricsController.getTiming();eQ['d']=e;var eR=new tabBootstrap.MetricsEvent('gen',128,eQ);tabBootstrap.MetricsController.logEvent(eR)};global.tab.FontMetricsLogger=cb;var cc=function(){this.normalizeFont=null;this.normalizeFont=(tab.BrowserSupport.get_isIE()?cc.$0:cc.$2)};cc.__typeName='tab.FontNormalizer';cc.instance=function(){if(ss.isNullOrUndefined(cc.$4)){cc.$4=new cc;cc.$1()}return cc.$4};cc.$0=function(e){var eQ=e.split(' ');var eR;var eS=false;for(var eT=0;eT<eQ.length;++eT){eR=cc.$3[eQ[eT]];if(!(typeof(eR)==='undefined')){eS=true;eQ[eT]=eR}}if(eS){return eQ.join(' ')}return e};cc.$2=function(e){return e};cc.$1=function(){if(ss.isValue(cc.$3)){return}if(tab.BrowserSupport.get_isIE()){cc.$3={};cc.$3['華康中明體']='DLCMingMedium';cc.$3['華康粗明體']='DLCMingBold';cc.$3['細明體']='Ming Light';cc.$3['新細明體']='PMingLiU';cc.$3['細明體-ExtB']='MingLiU-ExtB';cc.$3['新細明體-ExtB']='PMingLiU-ExtB';cc.$3['MS宋体']='MS Song';cc.$3['新宋体']='NSimSun';cc.$3['中易宋体']='SimSun';cc.$3['宋体']='SimSun';cc.$3['宋体-18030']='SimSun-18030';cc.$3['新宋体-18030']='NSimSun-18030';cc.$3['宋体–方正超大字符集']='SimSun (Founder Extended)';cc.$3['宋體ExtA']='SimSun-ExtA';cc.$3['宋體ExtB']='SimSun-ExtB';cc.$3['华文宋体']='STSong';cc.$3['华文中宋']='STZhongsong';cc.$3['ＭＳ']='MS';cc.$3['明朝']='Mincho';cc.$3['Ｐ明朝']='PMincho';cc.$3['平成明朝']='Heisei Minchō';cc.$3['リュウミン']='Ry­ūbundō Minchō';cc.$3['小塚明朝']='Kozuka Minchō';cc.$3['바탕']='Batang';cc.$3['바탕체']='BatangChe';cc.$3['궁서']='Gungsuh';cc.$3['궁서체']='GungsuhChe';cc.$3['华文细黑']='STHeiti Light';cc.$3['微軟正黑體']='Microsoft JhengHei';cc.$3['微软雅黑']='Microsoft YaHei';cc.$3['MS黑体']='MS Hei';cc.$3['蒙纳黑体']='MHei';cc.$3['中易黑体']='SimHei';cc.$3['メイリオ']='Meiryo';cc.$3['ゴシック']='Gothic';cc.$3['Ｐゴシック']='PGothic';cc.$3['돋움']='Dotum';cc.$3['돋움체']='DotumChe';cc.$3['굴림']='Gulim';cc.$3['굴림체']='GulimChe';cc.$3['맑은']='Malgun';cc.$3['고딕']='Gothic';cc.$3['새굴림']='New Gulim';cc.$3['標楷體']='KaiU';cc.$3['中易楷体']='SimKai';cc.$3['楷体_GB2312']='SimKai';cc.$3['华文楷体']='STKaiti';cc.$3['中易隶书']='SimLi';cc.$3['隶书']='SimLi';cc.$3['中易仿宋']='SimFang';cc.$3['仿宋']='SimFang';cc.$3['幼圆']='SimYou';cc.$3['华文行楷']='HuaWen Xingkai';cc.$3['华文彩云']='HuaWen CaiYun';cc.$3['方正舒体']='FangZheng ShuTi';cc.$3['方正启体']='FangZheng QiTi';cc.$3['汉仪雪君体']='HanYi XueJun';cc.$3['華康少女體']='HuaKang ShaoNu';cc.$3['華康娃娃體']='HuaKang WuaWua'}};global.tab.FontNormalizer=cc;var cd=function(){};cd.__typeName='tab.FormattingConverters';cd.getCSSBorderStyle=function(e){var eQ='solid';switch(e){case'bs-dashed':{eQ='dashed';break}case'bs-dotted':{eQ='dotted';break}case'bs-double':{eQ='double';break}case'bs-groove':{eQ='groove';break}case'bs-hidden':{eQ='hidden';break}case'bs-inset':{eQ='inset';break}case'bs-outset':{eQ='outset';break}case'bs-ridge':{eQ='ridge';break}case'bs-solid':{eQ='solid';break}case'bs-none':{eQ='none';break}default:{break}}return eQ};cd.makeStyledBoxCssDict=function(e,eQ){var eR={};if(ss.isValue(e)){eR=cd.makeBorderStyleDict(e);if(e.hasFill){var eS=tab.ColorModel.fromColorCode(e.fillColor);eR['background-color']=(eQ?eS.toString():eS.toRgb())}}return eR};cd.makeFormatStyleDict=function(e,eQ){if(ss.isNullOrUndefined(e)){return{}}var eR={'font-size':e.fontSize+'pt',color:e.color};if(ss.isValue(e.fontName)&&ss.keyExists(cd.$2,e.fontName)){eR['font-family']=cd.$2[e.fontName]}else if(ss.isValue(e.fontName)){var eS=e.fontName.split(',');cd.addDefaultFontForTableau(eS);for(var eT=0;eT<eS.length;eT++){eS[eT]=cd.addQuotationMarks(eS[eT].trim(),false)}eR['font-family']=eS.join(',');cd.$2[e.fontName]=eR['font-family']}if(ss.isValue(eQ)){eR.color=eQ}if(e.fontStyle==='font-style-italic'){eR['font-style']='italic'}if(e.fontWeight==='font-weight-bold'){eR['font-weight']='bold'}var eU='none';switch(e.textDecoration){case'text-decoration-overline':{eU='overline';break}case'text-decoration-strikethrough':{eU='line-through';break}case'text-decoration-underline':{eU='underline';break}}if(eU!=='none'){eR['text-decoration']=eU}if(ss.isValue(e.wrapMode)){switch(e.wrapMode){case'text-wrap-off':{eR['white-space']='nowrap';break}case'text-wrap-truncate':{eR['overflow-x']='hidden';break}}}return eR};cd.addQuotationMarks=function(e,eQ){if(tab.MiscUtil.isNullOrEmpty$1(e)){return(eQ?"''":'""')}var eR=e.length-1;if(e.charCodeAt(0)===39&&e.charCodeAt(eR)===39||e.charCodeAt(0)===34&&e.charCodeAt(eR)===34){return e}if(e.indexOf(' ')!==-1){var eS=(eQ?"'":'"');e=eS+e+eS}return e};cd.makeBorderStyleDict=function(e){var eQ={};if(ss.isValue(e.uw)){eQ['border-width']=e.uw+'px'}if(ss.isValue(e.borderColor)){eQ['border-color']=e.borderColor}if(ss.isValue(e.uw)){eQ['border-style']=cd.getCSSBorderStyle(e.borderStyle)}return eQ};cd.getTextBaseline=function(e){var eQ='bottom';switch(e){case'v-align-bottom':{eQ='bottom';break}case'v-align-top':{eQ='top';break}case'v-align-center':{eQ='middle';break}default:{break}}return eQ};cd.cleanUpFontFamilyStyles=function(e){var eQ=e.find('span');for(var eR=0;eR<eQ.length;++eR){var eS=eQ.eq(eR);var eT=eS.css('font-family');if(!ss.isNullOrEmptyString(eT)){var eU={};var eV=[];eV.push(eT);if(ss.startsWithString(eT,"'")||ss.startsWithString(eT,'"')){eT=eT.substr(1,eT.length-2)}eT=cd.$1(eS,eV,eU,eT,cd.$4,'font-style','fontStyle');eT=cd.$1(eS,eV,eU,eT,cd.$5,'font-weight','fontWeight');cd.$1(eS,eV,eU,eT,cd.$3,'font-stretch','fontStretch');cd.addDefaultFontForTableau(eV);if(eV.length>1){eU['font-family']=eV.join(',');eS.css(eU)}}}};cd.addDefaultFontForTableau=function(e){var eQ='tableau';var eR=false;var eS=e.length;for(var eT=0;eT<eS;eT++){var eU=e[eT].trim();for(var eV=0;eV<2;eV++){if(ss.startsWithString(eU,"'")||ss.startsWithString(eU,'"')){eU=eU.substr(1)}}if(ss.compareStrings(eU.substr(0,eQ.length),eQ,true)===0){eR=true;break}}if(eR){e.push('Arial');e.push('sans-serif')}};cd.$1=function(e,eQ,eR,eS,eT,eU,eV){var eW=eS.toLowerCase();for(var eX=0;eX<eT.length;eX++){var eY=eT[eX];if(ss.endsWithString(eW,eY.item1)){eS=eS.substr(0,eW.lastIndexOf(eY.item1)).trim();eQ.push("'"+eS+"'");if(!cd.$0(e,eV)){eR[eU]=eY.item2}}}return eS};cd.$0=function(e,eQ){return!ss.isNullOrEmptyString(e.prop('style')[eQ])};global.tab.FormattingConverters=cd;var ce=function(e,eQ){spiff.Widget.call(this,$('<div class="auth-box ocontent tb-data-source-error-container"> \n                                                              <div class="tb-data-source-error"></div>\n                                                              <div class="tb-data-source-error-sub"></div>\n                                                              <div class="tab-UnifiedButton bordered tb-data-source-btn tb-data-source-button-retry"></div>\n                                                              <div class="tab-data-source-msg"><textarea readonly class="tb-data-source-error-message"></textarea></div>\n                                                            </div>'));$('.tb-data-source-error',this.element).text(tab.Strings.DataSourceGenericErrorMsg);$('.tb-data-source-error-sub',this.element).text(tab.Strings.DataSourceGenericErrorSubMsg);var eR=$('.tb-data-source-button-retry',this.element);eR.text(tab.Strings.DataSourceGenericErrorButtonLabel);eR.on('click',function(eS){if(ss.isValue(eQ)){eQ()}});e=ss.replaceAllString(e,'<br>','\r\n');$('.tb-data-source-error-message',this.element).text(e)};ce.__typeName='tab.GenericDataSourceErrorWidget';global.tab.GenericDataSourceErrorWidget=ce;var cf=function(e,eQ){this.$1=tab.Strings.DataSourceGenericTitle;this.$0=null;U.call(this,e,eQ);var eR=ss.mkdel(this,function(){if(ss.isValue(this.onProceed)){this.onProceed()}this.cleanup(null)});var eS=new ce(this.dataSourceConnectionAttemptErrorResponse.ErrorMessage,eR);this.$0=new bT(this.$1,eS.element)};cf.__typeName='tab.GenericDataSourceExceptionDialogWidget';global.tab.GenericDataSourceExceptionDialogWidget=cf;var cg=function(e,eQ){T.call(this,e,eQ)};cg.__typeName='tab.GenericDataSourceExceptionOverlayWidget';global.tab.GenericDataSourceExceptionOverlayWidget=cg;var ch=function(e){cZ.call(this,e);this.adjustMargin=false;this.element.addClass('tabGeoLocationNotification');if(ss.isValue(this.notificationViewModel.get_displayPosition())){this.messageDom.parent().css('left',this.notificationViewModel.get_displayPosition().x+'px');this.messageDom.parent().css('top',this.notificationViewModel.get_displayPosition().y+'px')}this.updateContent()};ch.__typeName='tab.GeoLocationNotificationView';global.tab.GeoLocationNotificationView=ch;var ci=function(e){cL.call(this,e)};ci.__typeName='tab.GlobalKeyboardShortcut';global.tab.GlobalKeyboardShortcut=ci;var cj=function(){ci.call(this,true)};cj.__typeName='tab.HelpKeyboardShortcut';global.tab.HelpKeyboardShortcut=cj;var ck=function(){};ck.__typeName='tab.HitTargetColliders';global.tab.HitTargetColliders=ck;var cl=function(){};cl.__typeName='tab.HitTargetType';global.tab.HitTargetType=cl;var cm=function(){cJ.call(this,"<div class='tabCatLegendScrollButtonHolder'><span class='tabCatLegendScrollPrev'/><span class='tabCatLegendScrollNext'/></div>")};cm.__typeName='tab.HorizontalIteratorButtonTemplate';global.tab.HorizontalIteratorButtonTemplate=cm;var cn=function(e){spiff.Template.call(this,$("<div class='webZoneHttpsEmbedHttpAuthoring'><div class='message'></div><div class='url'><span>(</span><span class='scheme'>http://</span><span class='path'></span><span>)</span></div></div>"));this.$1().text(tab.Strings.WebZoneHttpsEmbedHttpAuthoring);if(ss.startsWithString(e,'http://')){e=e.replace('http://','')}this.$2().text(unescape(e))};cn.__typeName='tab.HttpsEmbedHttpAuthoringMessage';global.tab.HttpsEmbedHttpAuthoringMessage=cn;var co=function(e){spiff.Template.call(this,$("<div class='webZoneHttpsEmbedHttpView'><div class='message'></div><a target='_blank'></a></div>"));this.$2().text(tab.Strings.WebZoneHttpsEmbedHttpView);this.$1().prop('href',e);this.$1().text(unescape(e))};co.__typeName='tab.HttpsEmbedHttpViewMessage';global.tab.HttpsEmbedHttpViewMessage=co;var cp=function(){};cp.__typeName='tab.IApiStorytellingClient';global.tab.IApiStorytellingClient=cp;var cq=function(){};cq.__typeName='tab.IAppBannerView';global.tab.IAppBannerView=cq;var cr=function(){};cr.__typeName='tab.IClient';global.tab.IClient=cr;var cs=function(){};cs.__typeName='tab.IDataAlertPreparer';global.tab.IDataAlertPreparer=cs;var ct=function(){};ct.__typeName='tab.IDialogContent';global.tab.IDialogContent=ct;var cu=function(){};cu.__typeName='tab.IFilterTypeViewModel';global.tab.IFilterTypeViewModel=cu;var cv=function(){};cv.__typeName='tab.IFlipboardNavigatorViewModel';global.tab.IFlipboardNavigatorViewModel=cv;var cw=function(){};cw.__typeName='tab.IFlipboardViewModel';global.tab.IFlipboardViewModel=cw;var cx=function(){};cx.__typeName='tab.IFontLoader';global.tab.IFontLoader=cx;var cy=function(e,eQ){spiff.Template.call(this,$('<div><iframe></iframe></div>'));this.get_frame().prop('name',e);var eR={position:'absolute',top:0+'px',left:0+'px'};if(tsConfig.is_mobile){if(tab.BrowserSupport.get_isSafari()||tab.BrowserSupport.get_isIos()){this.get_container().css('-webkit-overflow-scrolling','touch');eR.height=eQ.get_contentHeight()+'px';eR.width=eQ.get_contentWidth()+'px'}eR.overflow='auto'}this.get_container().css(eR);this.get_frame().css({border:'0px none'})};cy.__typeName='tab.IFrameTemplate';global.tab.IFrameTemplate=cy;var cz=function(){};cz.__typeName='tab.IHitTargetGeom';global.tab.IHitTargetGeom=cz;var cA=function(){};cA.__typeName='tab.IKeyboardShortcut';global.tab.IKeyboardShortcut=cA;var cB=function(){};cB.__typeName='tab.ImageUtil';cB.scaleImage=function(e,eQ,eR,eS,eT){var eU=document.createElement('canvas');eU.width=eQ;eU.height=eR;if(eQ>0&&eR>0){var eV=document.createElement('canvas');eV.width=eS;eV.height=eT;var eW=eV.getContext('2d');eW.drawImage(e,0,0);var eX=eW.getImageData(0,0,eS,eT);var eY=eU.getContext('2d');var eZ=eY.createImageData(eQ,eR);cB.bilinearDownSampleAlgorithm(eX,eZ);eY.putImageData(eZ,0,0)}return eU};cB.bilinearDownSampleAlgorithm=function(e,eQ){var eR=e.width;var eS=e.height;var eT=eR/eQ.width;var eU=eS/eQ.height;var eV=eT;var eW=eU;var eX=e.data;var eY=eQ.data;var eZ=new Array(eY.length);for(var fa=0;fa<eZ.length;fa++){eZ[fa]=0}var fb=1/(eT*eU);var fc=0;var fd=0;var fe=false;var ff,fg;ff=fg=0;var fh=fb;var fi=0;var fj=0;var fk=0;var fl=4*eQ.width;for(var fm=0;fm<eS;fm++){eV=eT;for(var fn=0;fn<eR;fn++){var fo=eX[fc];var fp=eX[fc+1];var fq=eX[fc+2];var fr=eX[fc+3];fh=fb;if(fe){fh=ff;fj=fg;if(eV<1){fj*=eV}var fs=fd+fl;eZ[fs]+=fo*fj;eZ[fs+1]+=fp*fj;eZ[fs+2]+=fq*fj;eZ[fs+3]+=fr*fj}if(eV<1){fi=fh*(1-eV);fh*=eV;if(fe){fk=fg*(1-eV);var ft=fd+fl;eZ[ft+4]+=fo*fk;eZ[ft+5]+=fp*fk;eZ[ft+6]+=fq*fk;eZ[ft+7]+=fr*fk}eZ[fd+4]+=fo*fi;eZ[fd+5]+=fp*fi;eZ[fd+6]+=fq*fi;eZ[fd+7]+=fr*fi}eZ[fd++]+=fo*fh;eZ[fd++]+=fp*fh;eZ[fd++]+=fq*fh;eZ[fd++]+=fr*fh;fc+=4;eV-=1;if(eV<cB.$0){eV+=eT}else{fd-=4}}eW-=1;if(eW<cB.$0){eW+=eU}else{fd-=fl}if(eW<1){fe=true;ff=eW/(eT*eU);fg=(1-eW)/(eT*eU)}else{fe=false}}for(var fu=0;fu<eZ.length;fu++){eY[fu]=eZ[fu]+0.5}};global.tab.ImageUtil=cB;var cC=function(){spiff.Template.call(this,$("<div class='tab-image'></div>"))};cC.__typeName='tab.ImageZoneTemplate';global.tab.ImageZoneTemplate=cC;var cD=function(e,eQ){this.$k=null;this.$j=null;this.$i=null;ss.makeGenericType(spiff.BaseView$1,[cE]).call(this,e,new cC);this.$k=eQ;this.$h().add_newImageZone(ss.mkdel(this,this.handleNewImageZone));this.$k.add_resizeZone(ss.mkdel(this,this.$d));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$h().remove_newImageZone(ss.mkdel(this,this.handleNewImageZone));this.$k.remove_resizeZone(ss.mkdel(this,this.$d));this.$k=null})))};cD.__typeName='tab.ImageZoneView';global.tab.ImageZoneView=cD;var cE=function(e){this.$2=null;this.$2$1=null;spiff.BaseViewModel.call(this);this.$2=e;this.$2.add_newImageZone(ss.mkdel(this,this.handleNewImageZone));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$2.remove_newImageZone(ss.mkdel(this,this.handleNewImageZone))})))};cE.__typeName='tab.ImageZoneViewModel';global.tab.ImageZoneViewModel=cE;var cF=function(){};cF.__typeName='tab.IMovable';global.tab.IMovable=cF;var cG=function(){};cG.__typeName='tab.ISlider';global.tab.ISlider=cG;var cH=function(){};cH.__typeName='tab.IStoryPointCaptionViewModel';global.tab.IStoryPointCaptionViewModel=cH;var cI=function(e,eQ,eR){this.$a=null;this.$c=null;this.$8=new tab.DisposableHolder;this.$9=false;this.$b=0;this.$a=e;if(eQ){this.$c=new cm}else{this.$c=new eB}this.$b=100;this.$9=eQ;this.$c.$1();this.$c.nextButton.width(eR).height(eR).css('line-height',eR+'px');this.$c.prevButton.width(eR).height(eR).css('line-height',eR+'px');this.$8.add$1(spiff.EventUtil.bindWithDispose(this.$c.nextButton,'click',ss.mkdel(this,this.$2)));this.$8.add$1(spiff.EventUtil.bindWithDispose(this.$c.prevButton,'click',ss.mkdel(this,this.$3)));this.updateButtonState()};cI.__typeName='tab.IteratorButtons';global.tab.IteratorButtons=cI;var cJ=function(e){this.prevButton=null;this.nextButton=null;spiff.Template.call(this,$(e));this.prevButton=this.getElementBySelector('.tabCatLegendScrollPrev');this.nextButton=this.getElementBySelector('.tabCatLegendScrollNext')};cJ.__typeName='tab.IteratorButtonTemplate';global.tab.IteratorButtonTemplate=cJ;var cK=function(){};cK.__typeName='tab.ITooltipBehavior';global.tab.ITooltipBehavior=cK;var cL=function(e){this.$1$1=false;this.$1(e)};cL.__typeName='tab.KeyboardShortcut';global.tab.KeyboardShortcut=cL;var cM=function(){};cM.__typeName='tab.KeyboardShortcutManager';cM.$3=function(){return tab.Log.get(cM)};cM.registerShortcut=function(e){if(!tab.FeatureFlags.isEnabled('WebKeyboardShortcuts')){return}if(ss.keyExists(cM.$4,e.toString())){}var eQ=function(eR){cM.$0(eR,e)};cM.$4[e.toString()]=eQ;e.get_element().on('keydown'.toString(),eQ)};cM.unregisterShortcut=function(e){if(!tab.FeatureFlags.isEnabled('WebKeyboardShortcuts')){return}e.get_element().off('keydown'.toString(),cM.$4[e.toString()]);delete cM.$4[e.toString()]};cM.isGloballyAllowed=function(e){var eQ=$('.'+spiff.Glass.glassClass);var eR=$('#loadingGlassPane');var eS=cM.$2(eQ);var eT=cM.$2(eR);var eU=$(e.target);var eV=!eU.is('input')&&!eU.is('textarea');return!eS&&!eT&&eV};cM.$0=function(e,eQ){if(!eQ.get_keyCombos().hasValidCombo(e)){return}eQ.onValidKeyCombo(e);if(eQ.isAllowed(e)){eQ.executeShortcut(e)}};cM.$2=function(e){if(!cM.$1(e)){return false}var eQ=$(document.body);var eR=2;var eS=Math.abs(e.width()-eQ.width())<=2;var eT=Math.abs(e.height()-eQ.height())<=2;return eS&&eT};cM.$1=function(e){return e.length>0&&e.css('display')!=='none'};global.tab.KeyboardShortcutManager=cM;var cN=function(e){cN.$ctor2.call(this,new cP(false,false,false,false,false,false,false,false),e)};cN.__typeName='tab.KeyCombo';cN.$ctor2=function(e,eQ){this.$1$1=null;this.$1$2=0;this.set_qualifiers(e);this.set_triggerKey(eQ)};cN.$ctor3=function(e,eQ){cN.$ctor2.call(this,e,eQ)};cN.$ctor1=function(e){cN.$ctor3.call(this,new cP(false,false,false,false,false,false,false,false),e)};global.tab.KeyCombo=cN;var cO=function(e,eQ){this.$1$1=null;this.$1([e].concat(eQ))};cO.__typeName='tab.KeyCombos';cO.op_Implicit=function(e){return new cO(e,[])};global.tab.KeyCombos=cO;var cP=function(e,eQ,eR,eS,eT,eU,eV,eW){this.alt=false;this.command=false;this.control=false;this.controlOrCommand=false;this.macControl=false;this.shift=false;this.winControl=false;this.windows=false;this.alt=e;this.command=eQ;this.control=eR||eV||eT;this.controlOrCommand=eS;this.macControl=eT;this.shift=eU;this.winControl=eV;this.windows=eW;if(this.controlOrCommand){this.$1()}};cP.__typeName='tab.KeyQualifiers';cP.$0=function(e){return tab.BrowserSupport.get_isMac()&&e.metaKey};cP.$3=function(e){return tab.BrowserSupport.get_isWindows()&&e.metaKey};cP.$1=function(e){return tab.BrowserSupport.get_isMac()&&e.ctrlKey};cP.$2=function(e){return tab.BrowserSupport.get_isWindows()&&e.ctrlKey};global.tab.KeyQualifiers=cP;var cQ=function(e,eQ){React.Component.call(this,e,eQ)};cQ.__typeName='tab.MapScaleComponent';global.tab.MapScaleComponent=cQ;var cR=function(e){this.$5=null;ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]).call(this);this.$5=e;this.$5.add_updatedMapScaleInfo(ss.mkdel(this,this.handleUpdatedMapScaleInfo));this.disposables.add(ss.mkdel(this,function(){this.$5.remove_updatedMapScaleInfo(ss.mkdel(this,this.handleUpdatedMapScaleInfo))}))};cR.__typeName='tab.MapScaleViewModel';global.tab.MapScaleViewModel=cR;var cS=function(){};cS.__typeName='tab.Metrics';cS.get_scrollW=function(){return cS.$1()};cS.get_minScrollWidth=function(){if(tab.BrowserSupport.get_isSafari()||tab.BrowserSupport.get_isMac()){return 60}return cS.get_scrollW()*2};cS.get_scrollH=function(){return cS.$1()};cS.get_minScrollHeight=function(){if(tab.BrowserSupport.get_isSafari()||tab.BrowserSupport.get_isMac()){return 60}return cS.get_scrollH()*2};cS.$1=function(){return tab.MiscUtil.lazyInitStaticField(cS,'_scrollBarSize',function(){return cS.$0()})};cS.$0=function(){if(tsConfig.is_mobile){return 0}var e=document.createElement('div');var eQ=e.style;eQ.width='100px';eQ.height='100px';eQ.overflow='scroll';eQ.position='absolute';eQ.top='0px';eQ.filter='alpha(opacity=0)';eQ.opacity='0';eQ.left='0px';var eR=document.createElement('div');eR.style.width='400px';eR.style.height='400px';e.appendChild(eR);document.body.appendChild(e);var eS=e.offsetWidth-e.clientWidth;document.body.removeChild(e);e.removeChild(eR);e=eR=null;eS=((eS>0)?eS:9);return eS};global.tab.Metrics=cS;var cT=function(){$(document).on('keydown.ModifierKeyState keyup.ModifierKeyState mouseover.ModifierKeyState',ss.mkdel(this,this.$0))};cT.__typeName='tab.ModifierKeyState';cT.add_modifierKeysChanged=function(e){cT.$1$1=ss.delegateCombine(cT.$1$1,e)};cT.remove_modifierKeysChanged=function(e){cT.$1$1=ss.delegateRemove(cT.$1$1,e)};cT.fireModifierKeysChanged=function(e){if(!ss.staticEquals(cT.$1$1,null)){cT.$1$1(e)}};global.tab.ModifierKeyState=cT;var cU=function(){};cU.__typeName='tab.ModuleLocateFileOverride';cU.setupLocateFileOverride=function(){var e=function(eS){if(eS==='runtimeweb.js.mem'){return tsConfig.external_static_asset_prefix+'/javascripts/runtimeweb.js.mem'}return eS};var eQ=null;var eR=window.self;if('Module'in eR){eQ=eR['Module']}else{eQ=new Object}eQ['locateFile']=e};global.tab.ModuleLocateFileOverride=cU;var cV=function(){};cV.__typeName='tab.ModulesRegistration';cV.$1=function(e){var eQ=[];if(tab.FeatureFlags.isEnabled('AsyncLoadDojo')){cV.$0(eQ)}var eR;if(tsConfig.debugMode){var eS='vqllegacydojoui.debug';var eT=tab.ModuleManager.registerDependencyModule(eS,eS).andLoadOnDemandIf(e).moduleBeingConfigured;if(tsConfig.is_mobile){eR=tab.ModuleManager.register(tab.ILegacyDojoUIModule).call(null,'LegacyDojoUIMobile',null).andLoadOnDemandIf(e).moduleBeingConfigured}else{eR=tab.ModuleManager.register(tab.ILegacyDojoUIModule).call(null,'LegacyDojoUIWeb',null).andLoadOnDemandIf(e).moduleBeingConfigured}eQ.push(eT)}else if(tsConfig.is_mobile){eR=tab.ModuleManager.register(tab.ILegacyDojoUIModule).call(null,'LegacyDojoUIMobile.Bundle','LegacyDojoUIMobile').andLoadOnDemandIf(e).moduleBeingConfigured}else{eR=tab.ModuleManager.register(tab.ILegacyDojoUIModule).call(null,'LegacyDojoUIWeb.Bundle','LegacyDojoUIWeb').andLoadOnDemandIf(e).moduleBeingConfigured}for(var eU=0;eU<eQ.length;eU++){var eV=eQ[eU];eR.addDependency(eV)}};cV.$0=function(e){var eQ='.js.uncompressed';var eR='built-dojo/tableau/client{0}';var eS='built-dojo/dojo/dojo';var eT=(tsConfig.is_mobile?'mobile':'web');var eU=ss.formatString(eR,eT);var eV=tab.ModuleManager.registerRawJsModule(eS,eS,'built-dojo/dojo/dojo.js.uncompressed').moduleBeingConfigured;var eW=tab.ModuleManager.registerRawJsModule(eU,eU,eU+eQ).moduleBeingConfigured;e.push(eV);e.push(eW)};global.tab.ModulesRegistration=cV;var cW=function(){this.$2=null;this.$3=null;this.$1$1=null;this.$1$2=null;this.$2={};this.$3=[]};cW.__typeName='tab.NativeFontLoader';cW.$0=function(){return document['fonts']};global.tab.NativeFontLoader=cW;var cX=function(){};cX.__typeName='tab.NativePresModelsFactory';cX.newAddInLocatorPresModel=function(e){var eQ=new Object;eQ.addInInstanceId=e.instanceId;eQ.sheetPath=new Object;eQ.sheetPath.flipboardZoneId=e.dashboardPath.flipboardZoneID;eQ.sheetPath.isDashboard=e.dashboardPath.isDashboard;eQ.sheetPath.sheetName=e.dashboardPath.sheetName;eQ.sheetPath.storyboard=e.dashboardPath.storyboard;eQ.sheetPath.storyPointId=e.dashboardPath.storyPointID;return eQ};cX.newVisualIdPresModel=function(e){var eQ=new Object;eQ.worksheet=e.worksheet;eQ.dashboard=e.dashboard;eQ.storyboard=e.storyboard;eQ.storyPointId=e.storyPointID;eQ.flipboardZoneId=e.flipboardZoneID;return eQ};global.tab.NativePresModelsFactory=cX;var cY=function(){};cY.__typeName='tab.NeedRemoteTooltip';global.tab.NeedRemoteTooltip=cY;var cZ=function(e){this.notificationViewModel=null;this.messageDom=null;this.closeDom=null;this.$b=false;this.adjustMargin=true;ss.makeGenericType(spiff.BaseView$1,[da]).call(this,e,spiff.Template.fromHtml("<div class='tabNotification'>"));this.notificationViewModel=e;this.element.attr('role','alert');this.messageDom=$('<div>').addClass('tabNotificationMessage').appendTo(this.element);var eQ=$('<div>').addClass('tabNotificationClose').attr('tabindex','0').attr('aria-label',tab.Strings.AccessbilityNotificationButtonDismissLabel).attr('role','button').keydown(ss.mkdel(this,function(eR){if(eR.which===13||eR.which===32){eR.preventDefault();eR.stopPropagation();this.$9(eR)}}));this.closeDom=spiff.ClickHandler.targetAndClick(eQ,ss.mkdel(this,this.$9)).get_target();this.closeDom.appendTo(this.element);this.notificationViewModel.add_shown(ss.mkdel(this,this.shown));this.notificationViewModel.add_hidden(ss.mkdel(this,this.hidden))};cZ.__typeName='tab.NotificationView';global.tab.NotificationView=cZ;var da=function(){this.$6=null;this.$7=false;this.$4=5000;this.$3=0;this.$5=null;this.$2$1=null;this.$2$2=null;spiff.BaseViewModel.call(this)};da.__typeName='tab.NotificationViewModel';da.$0=function(e,eQ){var eR=new da;eR.set_message(e);if(ss.isValue(eQ)){eR.set_autoHideTimeout(eQ)}return eR};da.showGeoLocationNotification=function(e,eQ,eR){var eS=da.$0(e,eQ);eS.set_displayPosition(eR);tab.ObjectRegistry.newView(ch).call(null,[eS]);spiff.GlobalUIEvents.add_firstTouch(ss.mkdel(eS,eS.$2));spiff.GlobalUIEvents.add_dismissTemporaryElements(ss.mkdel(eS,eS.hide));eS.disposables.add$1(new tab.CallOnDispose(function(){spiff.GlobalUIEvents.remove_firstTouch(ss.mkdel(eS,eS.$2));spiff.GlobalUIEvents.remove_dismissTemporaryElements(ss.mkdel(eS,eS.hide))}));eS.disposeOnHide();eS.show()};da.showNotification=function(e,eQ){da.showCustomNotification(cZ).call(null,e,eQ)};da.showCustomNotification=function(e){return function(eQ,eR){var eS=da.$0(eQ,eR);tab.ObjectRegistry.newView(e).call(null,[eS]);eS.disposeOnHide();eS.show();return eS}};global.tab.NotificationViewModel=da;var db=function(e,eQ){this.$8=null;this.$7=null;spiff.Widget.call(this,$("<img class='tab-overlayImage'/>"));this.$8=$(e);this.element.on('load',ss.mkdel(this,function(){this.$6()}));this.element.attr('src',eQ)};db.__typeName='tab.OverlayImage';global.tab.OverlayImage=db;var dc=function(e){ss.makeGenericType(spiff.PagableListComponent$2,[Object,Object]).call(this,e)};dc.__typeName='tab.PagableUserListComponent';global.tab.PagableUserListComponent=dc;var dd=function(e){ss.makeGenericType(spiff.BaseView$1,[de]).call(this,e,spiff.Template.fromHtml('<div />'))};dd.__typeName='tab.PresModelBrowserView';global.tab.PresModelBrowserView=dd;var de=function(e,eQ,eR){this.data=null;this.$2=null;this.name=null;spiff.BaseViewModel.call(this);this.name=e;if(de.$1(eQ)){if($.isArray(eQ)){this.data=de.$2(eQ)}else{this.data=de.$3(eQ)}}else{this.data=eQ.toString()}this.$2=eR};de.__typeName='tab.PresModelBrowserViewModel';de.$1=function(e){return ss.isValue(e)&&typeof(e)==='object'};de.$2=function(e){var eQ=[];for(var eR=0;eR<e.length;++eR){eQ.push(de.$4(eR.toString(),e[eR]))}return eQ};de.$3=function(e){var eQ=[];var eR=new ss.ObjectEnumerator(e);try{while(eR.moveNext()){var eS=eR.current();eQ.push(de.$4(eS.key,eS.value))}}finally{eR.dispose()}return eQ};de.$0=function(e){return'<strong>'+e+':</strong> '};de.$4=function(e,eQ){if(de.$1(eQ)){if($.isArray(eQ)){return ss.mkdict(['text',de.$0(e),'children',de.$2(eQ)])}else{return ss.mkdict(['text',de.$0(e),'children',de.$3(eQ)])}}else if(ss.endsWithString(e,'Json')&&(ss.startsWithString(eQ,'{')||ss.startsWithString(eQ,'['))){var eR=null;try{eR=JSON.parse(eQ)}catch(eS){}if(ss.isValue(eR)){return de.$4(e,eR)}}return de.$0(e)+eQ};global.tab.PresModelBrowserViewModel=de;var df=function(e,eQ){ss.makeGenericType(spiff.ReactSpiffAdapter$3,[di,dg,Object]).call(this,tab.ObjectRegistry.newView(di).call(null,[e.viewModel]),e,eQ)};df.__typeName='tab.PublicInfoComponent';global.tab.PublicInfoComponent=df;var dg=function(){this.viewModel=null};dg.__typeName='tab.PublicInfoProps';global.tab.PublicInfoProps=dg;var dh=function(){this.publicInfoArea=null;this.moreAboutPublicSection=null;this.viewAndAuthorInfoSection=null;spiff.Template.call(this,$("<div class='tab-publicInfoView tab-toolbarFlyout'><a class='tab-moreAboutPublicSection' target='_blank' /></a><div class='tab-viewAndAuthorInfoSection'></div></div>"));this.publicInfoArea=this.domRoot;this.moreAboutPublicSection=this.getElementBySelector('.tab-moreAboutPublicSection');this.viewAndAuthorInfoSection=this.getElementBySelector('.tab-viewAndAuthorInfoSection')};dh.__typeName='tab.PublicInfoTemplate';global.tab.PublicInfoTemplate=dh;var di=function(e){this.$e=null;ss.makeGenericType(spiff.BaseView$1,[dj]).call(this,e,new dh);this.$e=e;this.$d()};di.__typeName='tab.PublicInfoView';global.tab.PublicInfoView=di;var dj=function(){spiff.BaseViewModel.call(this)};dj.__typeName='tab.PublicInfoViewModel';global.tab.PublicInfoViewModel=dj;var dk=function(e,eQ,eR){var eS=function(eT){this.$1=null;this.$0=null;spiff.PureRenderComponent.call(this,eT);this.$1=tab.ModuleManager.load(e).call(null,[]).done(ss.mkdel(this,function(eU){this.$0=eU}))};ss.registerGenericClassInstance(eS,dk,[e,eQ,eR],{render:function(){if(ss.isNullOrUndefined(this.$0)){this.$1.done(ss.mkdel(this,function(eT){this.forceUpdate()}));return null}return this.renderWithModule(this.$0)},renderWithModule:null},function(){return spiff.PureRenderComponent},function(){return[]});return eS};dk.__typeName='tab.PureComponentWithModule$3';ss.initGenericClass(dk,a,3);global.tab.PureComponentWithModule$3=dk;var dl=function(){};dl.__typeName='tab.QuickFilterConstants';global.tab.QuickFilterConstants=dl;var dm=function(e){spiff.PureRenderComponent.call(this,e)};dm.__typeName='tab.QuickFilterNoninteractiveDropdownComponent';global.tab.QuickFilterNoninteractiveDropdownComponent=dm;var dn=function(e){spiff.PureRenderComponent.call(this,e)};dn.__typeName='tab.QuickFilterReadoutComponent';global.tab.QuickFilterReadoutComponent=dn;var dp=function(e){this.$0=null;this.$0=e};dp.__typeName='tab.RectangleGeom';global.tab.RectangleGeom=dp;var dq=function(){eq.call(this)};dq.__typeName='tab.RedoKeyboardShortcut';global.tab.RedoKeyboardShortcut=dq;var dr=function(){};dr.__typeName='tab.RegionResizer';dr.getRegionResizerViewModel=function(e,eQ,eR,eS,eT,eU,eV){var eW=null;switch(eQ){case'yheader':{eW=new q(e,eR,eS,eT,eU);break}case'xheader':{eW=new r(e,eR,eS,eT,eU);break}case'topaxis':{eW=new s(e,eR,eS,eT,eU,eV);break}case'rightaxis':{eW=new t(e,eR,eS,eT,eU,eV);break}case'bottomaxis':{eW=new u(e,eR,eS,eT,eU,eV);break}case'leftaxis':{eW=new g(e,eR,eS,eT,eU,eV);break}default:{break}}return eW};dr.getHeaderResizerMinimumRunDistance=function(e){return Math.max(0,e-20)};dr.getAxisResizerMaximumRunDistance=function(e,eQ,eR,eS){return Math.max(0,(eS?(ss.Int32.div(e,2)-10):Math.min(ss.Int32.div(e*3,4),ss.Int32.div(eQ*3,4)-eR)))};dr.getAxisResizerMinimumRunDistance=function(e){return Math.max(0,e-10)};global.tab.RegionResizer=dr;var ds=function(){this.$b=null;this.$a=null;this.$9=null;this.$8=null;this.$c=0;this.$d=0;this.$1$1=null;this.$1$2=null;this.$b={}};ds.__typeName='tab.RenderAndCheckFontLoader';ds.$0=function(e,eQ){var eR=$('<span/>').text('The quick brown fox jumps over the lazy dog iiilllest');var eS=$('<div/>').css(ds.$4).css('font-family',eQ.join(', ')).addClass(e);eS.append(eR);return eS};ds.$3=function(e,eQ){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(eQ)){return false}var eR=e.children('span')[0];var eS=eQ.children('span')[0];return ds.$1(eR,eS)===0&&ds.$2(eR,eS)===0};ds.$1=function(e,eQ){var eR=e.getBoundingClientRect().height;var eS=(ss.isNullOrUndefined(eQ)?0:eQ.getBoundingClientRect().height);return ss.compare(eR,eS)};ds.$2=function(e,eQ){var eR=e.getBoundingClientRect().width;var eS=(ss.isNullOrUndefined(eQ)?0:eQ.getBoundingClientRect().width);return ss.compare(eR,eS)};global.tab.RenderAndCheckFontLoader=ds;var dt=function(){};dt.__typeName='tab.RenderUtil';dt.calculatePixelRatio=function(e){var eQ=1;if(ss.isValue(tsConfig.highDpi)&&tsConfig.highDpi){if(ss.isValue(tsConfig.pixelRatio)){eQ=tsConfig.pixelRatio}else if(ss.isValue(e)&&!e){eQ=tab.BrowserSupport.get_devicePixelRatio()}else{eQ=tab.BrowserSupport.get_devicePixelRatio()/tab.BrowserSupport.get_backingStoragePixelRatio()}}return eQ};dt.manualFadeAnimation=function(e,eQ,eR,eS,eT,eU){var eV=eQ;var eW=eR;var eX=ss.Int32.div(eT,1000)*eS;var eY=(eR-eQ)/eX;var eZ=ss.Int32.div(1000,eS);var fa=null;fa=function(){if(eV>eW){e.css('filter','alpha(opacity='+eW+')');e.css('opacity',(eW/100).toString());return}e.css('filter','alpha(opacity='+eV+')');e.css('opacity',(eV/100).toString());eV+=eY;if(ss.isValue(eU)){eZ+=eZ}window.setTimeout(fa,eZ)};window.setTimeout(fa,eZ)};dt.compareBoundingClientHeight=function(e,eQ){var eR=e.getBoundingClientRect().height;var eS=(ss.isNullOrUndefined(eQ)?0:eQ.getBoundingClientRect().height);return ss.compare(eR,eS)};dt.compareBoundingClientWidth=function(e,eQ){var eR=e.getBoundingClientRect().width;var eS=(ss.isNullOrUndefined(eQ)?0:eQ.getBoundingClientRect().width);return ss.compare(eR,eS)};dt.ensureImageEltSize=function(e,eQ){var eR=dt.calculatePixelRatio(false);if(tab.DoubleUtil.isGreaterThanAndNotApproximatelyEqual(eR,1)){var eS=$(e);eS.css('max-width',eQ.w+'px');eS.css('max-height',eQ.h+'px')}};global.tab.RenderUtil=dt;var du=function(){};du.__typeName='tab.ResolveSelectAction';du.fromNormalizedEvent=function(e,eQ,eR){var eS=e.getSelectAction();if(ss.isValue(eQ)&&eQ&&eS==='toggle'){eS='range'}else if(!!!eQ&&!!eR&&eS==='range'){eS='simple'}return eS};global.tab.ResolveSelectAction=du;var dv=function(){this.drawerContainer=null;spiff.Template.call(this,dv.$0());this.drawerContainer=this.domRoot};dv.__typeName='tab.RightAreaDrawerTemplate';dv.$0=function(){return(tab.FeatureFlags.isEnabled('IframeSizedToWindow')?$('#right-panel'):$("<div class='tab-right-area-drawer'></div>"))};global.tab.RightAreaDrawerTemplate=dv;var dw=function(e){this.$f=null;this.$e=null;ss.makeGenericType(spiff.BaseView$1,[dx]).call(this,e,new dv);this.$f=e;this.$f.add_open(ss.mkdel(this,this.$a));this.$f.add_close(ss.mkdel(this,this.$9));this.$f.add_refresh(ss.mkdel(this,this.$c));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$f.remove_open(ss.mkdel(this,this.$a));this.get_viewModel().remove_close(ss.mkdel(this,this.$9));this.get_viewModel().remove_refresh(ss.mkdel(this,this.$c))})));this.$b()};dw.__typeName='tab.RightAreaDrawerView';global.tab.RightAreaDrawerView=dw;var dx=function(e){this.$3=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=false;spiff.BaseViewModel.call(this);this.set_isOpen(false);this.$3=e};dx.__typeName='tab.RightAreaDrawerViewModel';global.tab.RightAreaDrawerViewModel=dx;var dy=function(){this.$6={};this.$5=null;this.$8=false;this.$7=false;this.$3=null;this.$4=null;this.$1$1=null;this.$5=dy.$0();this.$5.add_fontsReady(ss.mkdel(this,this.$1));this.$5.add_fontDownloading(ss.mkdel(this,this.$0));this.$7=true};dy.__typeName='tab.ServerFontLoader';dy.get_instance=function(){if(ss.isNullOrUndefined(dy.$1)){dy.$1=new dy}return dy.$1};dy.get_allCustomFonts=function(){return _.union(dy.tableauFontNames,dy.effectiveBentonSans)};dy.loadFonts=function(e){var eQ=$.Deferred();dy.get_instance().get_fontsLoadedPromise().then(function(){dy.get_instance().initialize(false);dy.get_instance().registerServerLoadedFonts(e);dy.get_instance().notifyDownloadableFont(e);dy.get_instance().downloadFonts();dy.get_instance().allFontsFound();dy.get_instance().get_fontsLoadedPromise().then(function(){eQ.resolve()},null)},null);return eQ};dy.downloadAdditionalDrawerFonts=function(){var e=(tab.BrowserSupport.get_isHighDpi()?dy.drawerFontNames:dy.drawerLowDpiFontNames);return dy.loadFonts(e)};dy.$0=function(){if(tab.FeatureFlags.isEnabled('RenderAndCheckFontLoader')){if(tab.BrowserSupport.get_fontLoaderApi()&&(tab.BrowserSupport.get_isFF()||tab.BrowserSupport.get_isChrome()||tab.BrowserSupport.get_isSafari()||tab.BrowserSupport.get_isIos())){return new cW}else{return new ds}}else{return new W}};global.tab.ServerFontLoader=dy;var dz=function(e,eQ){ss.makeGenericType(spiff.ReactSpiffAdapter$3,[dC,dA,Object]).call(this,tab.ObjectRegistry.newView(dC).call(null,[e.viewModel]),e,eQ)};dz.__typeName='tab.ShareComponent';global.tab.ShareComponent=dz;var dA=function(){this.viewModel=null};dA.__typeName='tab.ShareProps';global.tab.ShareProps=dA;var dB=function(){this.shareArea=null;this.shareStateArea=null;this.shareCurrentView=null;this.shareOriginalView=null;this.shareLinkSection=null;this.shareLinkTitle=null;this.shareLinkInput=null;this.shareLinkButtons=null;this.shareEmbedTitle=null;this.shareEmbedInput=null;spiff.Template.call(this,$("\n            <div class='tab-shareView tab-toolbarFlyout'>\n            </div>"));this.shareArea=this.domRoot};dB.__typeName='tab.ShareTemplate';global.tab.ShareTemplate=dB;var dC=function(e){this.$h=(tsConfig.is_mobile?390:300);this.$g=null;this.$f=false;ss.makeGenericType(spiff.BaseView$1,[dD]).call(this,e,new dB);this.$g=e;this.$g.saveSharedView();this.$9();this.$f=Math.min(tabBootstrap.ViewerBootstrap.get_instance().getWebClientDashboardContainerSize(tsConfig.current_sheet_type).w,window.innerWidth)<=this.$h};dC.__typeName='tab.ShareView';global.tab.ShareView=dC;var dD=function(){this.embedCodeVersion=3;this.$a=true;spiff.BaseViewModel.call(this);this.$a=!this.$9()};dD.__typeName='tab.ShareViewModel';dD.$6=function(e){var eQ='/javascripts/api/viz_v1.js';var eR=(tsConfig.forceHttpsForPublicEmbed?'https:':e['protocol']);return encodeURI(eR+'//'+e['hostname']+eQ)};dD.$0=function(){var e;var eQ=new ss.StringBuilder(ss.formatString('if ( divElement.offsetWidth > {0} ) { ',tsConfig.dsd_tablet_max_size));eQ.append(dD.$2(tabBootstrap.ViewerBootstrap.get_instance().getCompositeSizeForDeviceType('desktop'),0.75));eQ.append(ss.formatString('} else if ( divElement.offsetWidth > {0} ) { ',tsConfig.dsd_phone_max_size));eQ.append(dD.$2(tabBootstrap.ViewerBootstrap.get_instance().getCompositeSizeForDeviceType('tablet'),0.75));eQ.append('} else { ');eQ.append(dD.$2(tabBootstrap.ViewerBootstrap.get_instance().getCompositeSizeForDeviceType('phone'),1.77));eQ.append('} ');var eR=$.Deferred();e=eR.resolve(eQ.toString()).promise();return e};dD.$2=function(e,eQ){return dD.$1({minWidth:e.minWidth,maxWidth:e.maxWidth,minHeight:e.minHeight,maxHeight:e.maxHeight},eQ)};dD.$1=function(e,eQ){var eR=new ss.StringBuilder('');var eS=dD.$5();if(e.dashboardSizingMode==='automatic'||e.minWidth===0&&e.maxWidth===0){eR.append("vizElement.style.width='100%';")}else if(e.minWidth===e.maxWidth){eR.append(ss.formatString("vizElement.style.width='{0}px';",e.minWidth))}else{if(e.minWidth>0){eR.append(ss.formatString("vizElement.style.minWidth='{0}px';",e.minWidth))}else{eR.append("vizElement.style.width='100%';")}if(e.maxWidth>0){eR.append(ss.formatString("vizElement.style.maxWidth='{0}px';",e.maxWidth))}else{eR.append("vizElement.style.maxWidth='100%';")}if(e.minWidth>0&&e.maxWidth>0&&e.minWidth!==e.maxWidth){eR.append("vizElement.style.width='100%';")}}if(e.dashboardSizingMode==='automatic'||e.minHeight===0&&e.maxHeight===0){eR.append(ss.formatString("vizElement.style.height=(divElement.offsetWidth*{0})+'px';",eQ))}else if(e.minHeight===e.maxHeight){eR.append(ss.formatString("vizElement.style.height='{0}px';",e.minHeight+eS))}else{if(e.minHeight>0){eR.append(ss.formatString("vizElement.style.minHeight='{0}px';",e.minHeight+eS))}else{eR.append(ss.formatString("vizElement.style.height=(divElement.offsetWidth*{0})+'px';",eQ))}if(e.maxHeight>0){eR.append(ss.formatString("vizElement.style.maxHeight='{0}px';",e.maxHeight+eS))}else{eR.append(ss.formatString("vizElement.style.maxHeight=(divElement.offsetWidth*{0})+'px';",eQ))}if(e.minHeight>0&&e.maxHeight>0&&e.minHeight!==e.maxHeight){eR.append(ss.formatString("vizElement.style.height=(divElement.offsetWidth*{0})+'px';",eQ))}}return eR.toString()};dD.$8=function(e){var eQ=e.protocol+'//'+e.host+'/javascripts/api/viz_v1.js';return"<script type='text/javascript' src='"+eQ+"'></script>"};dD.$5=function(){var e=0;if(eh.$0()){if(tab.FeatureFlags.isEnabled('UsePublicSpecificToolbar')){e+=27}else{e+=60}}else if(tsConfig.toolbarvis){e+=27}e+=tabBootstrap.VizLayoutConstants.get_tabsHeight();return e};dD.$7=function(){return tsConfig.facebookRedirectURI||dD.$c};dD.$3=function(e,eQ,eR,eS){var eT=eQ!==eR;var eU=e;var eV=':'+eS+'='+(eQ?'yes':'no');var eW=new RegExp(':'+eS+'=[^&]+');if(!!eU.match(eW)){if(eT){eU=eU.replace(eW,eV)}else{eU=eU.replace(eW,'');eU=eU.replace(new RegExp('&&'),'&');eU=eU.replace(new RegExp('\\?&'),'?');eU=eU.replace(new RegExp('&$'),'');eU=eU.replace(new RegExp('\\?$'),'')}}else if(eT){if(!!eU.match(new RegExp('[?]'))){eU=eU+'&'+eV}else{eU=eU+'?'+eV}}return eU};dD.$4=function(){var e=(new Date).getTime().toString();return'viz'+e};global.tab.ShareViewModel=dD;var dE=function(){this.shownX=0;this.shownY=0;this.origX=0;this.origY=0;this.position=null;this.viewport=null;ss.EventArgs.call(this)};dE.__typeName='tab.ShownEventArgs';dE.areShownArgsSame=function(e,eQ){if(ss.isNullOrUndefined(e)&&ss.isNullOrUndefined(eQ)){return true}if(ss.isNullOrUndefined(e)&&ss.isValue(eQ)||ss.isValue(e)&&ss.isNullOrUndefined(eQ)){return false}var eR;eR=e.origX===eQ.origX;eR=eR&&e.origY===eQ.origY;eR=eR&&e.shownX===eQ.shownX;eR=eR&&e.shownY===eQ.shownY;eR=eR&&e.position===eQ.position;eR=eR&&tab.RectUtil.isEqual(e.viewport.get_dimensions(),eQ.viewport.get_dimensions());return eR};global.tab.ShownEventArgs=dE;var dF=function(){this.tooltipAnchorY=0;dE.call(this)};dF.__typeName='tab.ShownTooltipEventArgs';dF.areShownArgsSame=function(e,eQ){return dE.areShownArgsSame(e,eQ)&&e.tooltipAnchorY===eQ.tooltipAnchorY};global.tab.ShownTooltipEventArgs=dF;var dG=function(e){React.Component.call(this,e)};dG.__typeName='tab.SimpleTextContentDialog';global.tab.SimpleTextContentDialog=dG;var dH=function(e){this.$6=750;this.$9=null;this.$7=null;this.$8=null;this.$5=new tab.DisposableHolder;this.$1$1=null;this.serverMarkBounds=null;tab.Param.verifyValue(e,'tooltip');this.$9=e;var eQ=tab.FeatureParamsLookup.getInt(11);if(ss.isValue(eQ)){this.$6=ss.coalesce(eQ,0)}};dH.__typeName='tab.SmoothTooltipBehavior';global.tab.SmoothTooltipBehavior=dH;var dI=function(){};dI.__typeName='tab.Social';dI.twitterPopup=function(e,eQ){var eR=$('#twitter_creator');var eS=(ss.isValue(eR)?eR.attr('content'):null);if(!ss.isNullOrEmptyString(eS)){eS=' '+eS}eQ+=eS;var eT={};eT['url']=e;eT['via']='tableaupublic';eT['text']=eQ;eT['related']='tableau';var eU='https://twitter.com/share?'+$.param(eT);var eV=null;var eW='scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=680,height=350';window.open(eU,eV,eW)};dI.facebookPopup=function(e,eQ,eR,eS,eT,eU){var eV={};eV['app_id']=e;eV['link']=eQ;eV['picture']=eR;eV['name']=eS;eV['description']=eT;if(!!eU&&eU.length>0){eV['redirect_uri']=eU}var eW='http://www.facebook.com/dialog/feed?'+$.param(eV);var eX=null;var eY='scrollbars=yes,resizable=yes,toolbar=no,location=no,width=1000,height=565';var eZ=window.open(eW,eX,eY);if(typeof(eZ['focus'])==='function'){eZ.focus()}};dI.mailTo=function(e,eQ){var eR=ss.mkdict(['body',e]);if(!!eQ){eR['subject']=eQ}var eS='mailto:?'+$.param(eR);if(tsConfig.is_mobile&&!tsConfig.is_mobile_app&&tab.BrowserSupport.get_isSafari()){window.location.href=eS}else{var eT=window.open(eS,'MailWindow');if(ss.isValue(eT)){window.setTimeout(function(){try{if(eT.location.href==='about:blank'){eT.close()}}catch(eU){}},999)}}};global.tab.Social=dI;var dJ=function(e,eQ){ss.makeGenericType(spiff.ReactSpiffAdapter$3,[dL,dK,Object]).call(this,tab.ObjectRegistry.newView(dL).call(null,[e.viewModel]),e,eQ)};dJ.__typeName='tab.SubscribeComponent';global.tab.SubscribeComponent=dJ;var dK=function(){this.viewModel=null};dK.__typeName='tab.SubscribeProps';global.tab.SubscribeProps=dK;var dL=function(e,eQ){this.$y=null;this.$t=null;this.$w=null;this.$r=null;this.$v=null;this.$x=null;this.$u=null;this.menuTheme=0;this.$s=null;ss.makeGenericType(spiff.BaseView$1,[dM]).call(this,e,new dN);this.menuTheme=eQ;this.$y=e;this.$9();this.$y.add_schedulesChanged(ss.mkdel(this,this.handleSchedulesUpdated));this.$y.add_subscribersChanged(ss.mkdel(this,this.$h));this.$y.add_addSubscribersPopupStateChanged(ss.mkdel(this,this.$q))};dL.__typeName='tab.SubscribeView';dL.get_sendOnlyWhenDataPresentCheckboxClass=function(){return'tab-sendOnlyWhenDataPresentCheckbox'};global.tab.SubscribeView=dL;var dM=function(){this.$9=[];this.$7=[];this.$6=null;this.$8=false;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.$2$7=false;this.$2$8=null;this.$2$9=null;this.$2$10=null;spiff.BaseViewModel.call(this);if(!tsConfig.is_guest||tab.FeatureFlags.isEnabled('SelfServiceSchedules')&&tsConfig.self_service_schedules_enabled){tab.StartupUtils.callAfterBootstrap(ss.mkdel(this,function(){tab.WorkgroupServerCommands.getSchedules(ss.mkdel(this,function(e){this.$7=e.filter(function(eQ){return eQ.get_schedulePresModel().scheduledAction==='Subscription'});if(!ss.staticEquals(this.$2$1,null)){this.$2$1()}}))}))}this.set_email(tsConfig.current_user_email);this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,this.$3)));if(tab.FeatureFlags.isEnabled('SubscribeOthers')){this.set_subscriptionsPageUrl((ss.isNullOrEmptyString(tsConfig.site_url_name)?ss.formatString('/#/workbooks/{0}/subscriptions',tsConfig.current_workbook_id):ss.formatString('/#/site/{0}/workbooks/{1}/subscriptions',tsConfig.site_url_name,tsConfig.current_workbook_id)))}if(tab.FeatureFlags.isEnabled('UserTimeZone')){this.set_userSettingsPageUrl((ss.isNullOrEmptyString(tsConfig.site_url_name)?ss.formatString('/#/user/{0}/{1}/settings',tsConfig.current_user_domain_name,tsConfig.current_user_name):ss.formatString('/#/site/{0}/user/{1}/{2}/settings',tsConfig.site_url_name,tsConfig.current_user_domain_name,tsConfig.current_user_name)))}};dM.__typeName='tab.SubscribeViewModel';global.tab.SubscribeViewModel=dM;var dN=function(){this.subscribeViewArea=null;this.subscribeViewsToggleLabel=null;this.subscribeThisView=null;this.subscribeAllViews=null;this.subscribeSelfArea=null;this.subscribeScheduleDropdown=null;this.subscribeEmail=null;this.addSubscribersLabel=null;this.manageSubscribersLabel=null;this.subscribeSubject=null;this.subscribeButton=null;spiff.Template.call(this,$("\n            <div class='tab-subscribeView tab-toolbarFlyout'>\n                <div class='tab-subscribeToggleSection'>\n                    <label class='tab-subscribeViewsToggleLabel'/>\n                    <div class='tab-subscribeToggleContainer'>\n                        <span class='tab-subscribeThisView tab-subscribeToggle'/><span class='tab-subscribeAllViews tab-subscribeToggle'/>\n                    </div>\n                </div>\n                <div class='tab-subscribeSchedule'/>\n                <div class='tab-subscribeSubject'/>\n                <div class='tab-subscribeSelfArea tab-subscribeOthersSection'/>\n                <div class='tab-subscribeEmail'/>\n                <div class='tab-addSubscribersArea tab-subscribeOthersSection'>\n                    <label class='tab-addSubscribersLabel'/>\n                </div>\n                <div class='tab-manageSubscribersArea tab-subscribeOthersSection'>\n                    <label class='tab-manageSubscribersLabel'/>\n                </div>\n                <div class='tab-subscribeSubmit'/>\n            </div>"));this.subscribeViewArea=this.domRoot;this.subscribeViewsToggleLabel=this.getElementBySelector('.tab-subscribeViewsToggleLabel');this.subscribeThisView=this.getElementBySelector('.tab-subscribeThisView');this.subscribeAllViews=this.getElementBySelector('.tab-subscribeAllViews');this.subscribeScheduleDropdown=this.getElementBySelector('.tab-subscribeSchedule');this.subscribeSelfArea=this.getElementBySelector('.tab-subscribeSelfArea');this.subscribeEmail=this.getElementBySelector('.tab-subscribeEmail');this.addSubscribersLabel=this.getElementBySelector('.tab-addSubscribersLabel');this.manageSubscribersLabel=this.getElementBySelector('.tab-manageSubscribersLabel');this.subscribeSubject=this.getElementBySelector('.tab-subscribeSubject');this.subscribeButton=this.getElementBySelector('.tab-subscribeSubmit')};dN.__typeName='tab.SubscribeViewTemplate';global.tab.SubscribeViewTemplate=dN;var dO=function(e,eQ,eR){this.tabLabelElement=null;this.tabContentElement=null;this.tabIndex=0;ss.EventArgs.call(this);this.tabLabelElement=e;this.tabContentElement=eQ;this.tabIndex=eR};dO.__typeName='tab.TabEventArgs';global.tab.TabEventArgs=dO;var dP=function(e){this.$6=null;this.$b=null;this.$c=null;this.$l=null;this.$e=null;this.$j=0;this.$g=null;this.$k=null;this.$h=false;this.$7=null;this.$8=null;this.$9=null;this.$a=null;this.$i=false;this.$d=0;this.$f=0;this.dirtyRect=null;this.pixelRatio=0;this.$6=e;this.$b=new Array;this.$c=cc.instance();this.$l=new tab.TransformationMatrix;this.reset();this.clearDirtyRect()};dP.__typeName='tab.TabRenderContext2D';dP.$0=function(e){var eQ=e.split(' ');for(var eR=0;eR<eQ.length;eR++){var eS=eQ[eR];var eT=parseFloat(eS);if(isFinite(eT)){return eT}}return 8};global.tab.TabRenderContext2D=dP;var dQ=function(e){this.textSelectable=false;this.textSelectable=e};dQ.__typeName='tab.TextRegionOptions';global.tab.TextRegionOptions=dQ;var dR=function(e){this.textRegionBoundaryElem=null;this.contentElem=null;spiff.Template.call(this,$(dR.$0(e)));var eQ=ss.mkdel(this,this.getElementBySelector);this.textRegionBoundaryElem=eQ('.tab-textRegion-boundary');this.contentElem=eQ('.tab-textRegion-content')};dR.__typeName='tab.TextRegionTemplate';dR.$0=function(e){var eQ='';if(e>0){eQ=ss.formatString("role='heading' aria-level='{0}'",e)}return ss.formatString("<div {0} class='tab-textRegion'><div class='tab-textRegion-boundary'><div class='tab-textRegion-content'></div></div></div>",eQ)};global.tab.TextRegionTemplate=dR;var dS=function(e){dS.$ctor1.call(this,e,-1)};dS.__typeName='tab.TextRegionView';dS.$ctor1=function(e,eQ){ss.makeGenericType(spiff.BaseView$1,[dT]).call(this,e,new dR(eQ));this.$e().add_newTextRegion(ss.mkdel(this,this.handleNewTextRegion));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$e().remove_newTextRegion(ss.mkdel(this,this.handleNewTextRegion))})));this.disposables.add$1(spiff.TableauClickHandler.targetAndRightClick(this.element[0],ss.mkdel(this,this.handleRightClick)))};dS.$3=function(e){return Math.round(e)===90};dS.$2=function(e){return Math.round(e)===-90};dS.$0=function(e,eQ,eR){var eS={};eS['transform-origin']=eQ;eS['transform']='rotate('+eR+'deg)';e.css(eS)};dS.$1=function(e,eQ,eR,eS){var eT=0;if(eQ>e){eR=(dS.$3(eS)?'h-align-right':'h-align-left')}switch(eR){case'h-align-left':{eT=0;break}case'h-align-right':{eT=e-eQ;break}case'h-align-center':{eT=ss.Int32.div(e,2)-ss.Int32.div(eQ,2);break}}return eT+'px'};global.tab.TextRegionView=dS;var dT=function(e){this.$3=null;this.options=new dQ(true);this.$2$1=null;spiff.BaseViewModel.call(this);this.$3=e;this.$3.add_newText(ss.mkdel(this,this.handleNewTextRegion));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$3.remove_newText(ss.mkdel(this,this.handleNewTextRegion))})))};dT.__typeName='tab.TextRegionViewModel';global.tab.TextRegionViewModel=dT;var dU=function(){this.container=null;spiff.Template.call(this,$("<div class='tvimagesContainer'></div>"));this.container=this.getElementBySelector('.tvimagesContainer')};dU.__typeName='tab.TiledImageTemplate';global.tab.TiledImageTemplate=dU;var dV=function(e){ss.makeGenericType(spiff.BaseView$1,[dW]).call(this,e,new dU)};dV.__typeName='tab.TiledImageView';global.tab.TiledImageView=dV;var dW=function(){spiff.BaseViewModel.call(this)};dW.__typeName='tab.TiledImageViewModel';global.tab.TiledImageViewModel=dW;var dX=function(){ci.call(this,false)};dX.__typeName='tab.ToggleFullScreenKeyboardShortcut';global.tab.ToggleFullScreenKeyboardShortcut=dX;var dY=function(e){var eQ=function(){this.viewModel=null};ss.registerGenericClassInstance(eQ,dY,[e],{},function(){return null},function(){return[]});return eQ};dY.__typeName='tab.ToolbarButtonProps$1';ss.initGenericClass(dY,a,1);global.tab.ToolbarButtonProps$1=dY;var dZ=function(){this.$2$1=null;this.$2$2=null;spiff.Template.call(this,$("<div class='tabToolbarButton' role='button'><span class='tabToolbarButtonImg' /><span class='tabToolbarButtonText' /></div>"));this.set_image(this.getElementBySelector('.tabToolbarButtonImg'));this.set_text(this.getElementBySelector('.tabToolbarButtonText'))};dZ.__typeName='tab.ToolbarButtonTemplate';global.tab.ToolbarButtonTemplate=dZ;var ea=function(e){this.$d=null;this.$e=null;ss.makeGenericType(spiff.BaseView$1,[eb]).call(this,e,new dZ);this.get_viewModel().add_flyoverShown(ss.mkdel(this,this.$b));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_viewModel().remove_flyoverShown(ss.mkdel(this,this.$b))})));this.get_viewModel().add_flyoverHidden(ss.mkdel(this,this.$a));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_viewModel().remove_flyoverHidden(ss.mkdel(this,this.$a))})));this.$c()};ea.__typeName='tab.ToolbarButtonView';ea.create=function(e){return new ea(e)};global.tab.ToolbarButtonView=ea;var eb=function(e,eQ,eR){this.action=null;this.popupContent=null;this.dialogContent=null;this.$c=null;this.$d=null;this.$7=null;this.$8=null;this.$6=false;this.$a=false;this.$9=false;this.popupViewModel=null;this.$b=new spiff.UberPopupShowOptions.$ctor1(2,1,0,eh.get_toolbarIsBottom(),false,false,null,null,true,0,null,987,true);this.$2$1=null;this.$2$2=null;this.$2$3=null;spiff.BaseViewModel.call(this);this.$c=e;this.$7=eQ;this.action=eR;this.$6=!ss.staticEquals(eR,null)};eb.__typeName='tab.ToolbarButtonViewModel';eb.shouldShowButton=function(e,eQ){if(ss.isNullOrUndefined(eQ)){return false}switch(e.get_iconRes()){case'share':{return tsConfig.showShareOptions}case'edit':{return tsConfig.allow_authoring&&!tsConfig.previewMode&&!eh.$0()&&(!tab.ApplicationModel.get_instance().get_workbook().get_isCurrentSheetStoryboard()||tab.FeatureFlags.isEnabled('StorytellingMoveToTheWeb'))&&!tsConfig.is_mobile_app&&!eQ.get_useSmallScreenToolbar()}case'customviews':{return tsConfig.allow_custom_views&&!eQ.get_forceHideCustomViewsButton()&&!eQ.get_useSmallScreenToolbar()}case'subscribe':{return tsConfig.allow_subscriptions&&tsConfig.workbook_allow_subscriptions}case'download':{return!tsConfig.previewMode}case'alert':{return tsConfig.allow_data_alert}case'public-logo':{return tab.FeatureFlags.isEnabled('UsePublicSpecificToolbar')&&tsConfig.isPublic}default:{return true}}};eb.createSeparator=function(){var e=new eb('-',null,null);e.$a=true;return e};eb.createFromCommandItem=function(e,eQ,eR){var eS=tab.CommandItemWrapper.create(e);tab.Param.verifyValue(e,'commandItem');var eT=new eb(eS.get_name(),eQ+eS.get_iconRes(),null);eT.$6=ss.isNullOrUndefined(eS.get_enabled())||eS.get_enabled();eT.$8=eS.get_iconRes();if(tab.FeatureFlags.isEnabled('ViewingToolbarModalDialog')||tsConfig.is_mobile_app||ss.isNullOrUndefined(eR)){eT.dialogContent=eb.$0(e,eR)}else{eT.popupContent=eb.$1(e,eR,eT)}var eU=tab.CommandSerializer.deserialize(eS.get_command());if(eT.$8==='edit'){eT.action=function(){tab.ToolbarServerCommands.launchEditing()}}else if(eT.$8==='alert'&&tab.FeatureFlags.isEnabled('AlertOnThresholdCondition')){eT.action=function(){bs.handleDataAlertClick(eS.get_description())};eR.handleDataAlertUpdate()}else if(eT.$8==='download'&&tab.FeatureFlags.isEnabled('ViewingToolbarModalDialog')){eT.action=function(){tab.ModuleManager.load(tab.IDownloadDialogModule).call(null,[]).done(function(eV){eV.showDownloadDialog()})}}else if(tab.FeatureFlags.isEnabled('HideMarkLabelsAsLocalAction')&&ss.isValue(eU)&&ss.referenceEquals(eU.commandName,'toggle-mark-labels'.toString())){eT.action=function(){tab.PaneClientCommands.setShowMarkLabels(eS.get_iconRes()==='show-labels',null)}}else if(ss.isValue(eU)){eT.action=function(){eT.set_isActive(true);if(tab.WebCommandRegistry.hasCommand(eU.commandName)){var eV=tab.WebCommandRegistry.createCommandWithParams(eU.commandName,eU.commandParams);eV.invoke();eT.set_isActive(false)}else{tab.ServerCommands.executeServerCommand(eU,'immediately',function(eW){eT.set_isActive(false)},function(eW){eT.set_isActive(false)})}}}return eT};eb.$1=function(e,eQ,eR){var eS=tab.CommandItemWrapper.create(e);tab.Param.verifyValue(e,'commandItem');var eT=function(){var eX=ss.getEnumerator(eQ.get_nonVizItems());try{while(eX.moveNext()){var eY=eX.current();if(!ss.referenceEquals(eY,eR)){eY.$3()}}}finally{eX.dispose()}};eR.add_flyoverShown(eT);eR.disposables.add$1(new tab.CallOnDispose(function(){eR.remove_flyoverShown(eT)}));switch(eS.get_iconRes()){case'download':{var eU=new bR;eU.add_downloadInitiated(ss.mkdel(eR,eR.$3));eR.disposables.add$1(new tab.CallOnDispose(function(){eU.remove_downloadInitiated(ss.mkdel(eR,eR.$3))}));return eU}case'share':{return new dD}case'customviews':{var eV=eQ.get_customViewsViewModel();eV.hideView=ss.delegateCombine(eV.hideView,ss.mkdel(eR,eR.$3));eR.disposables.add$1(new tab.CallOnDispose(function(){var eX=eQ.get_customViewsViewModel();eX.hideView=ss.delegateRemove(eX.hideView,ss.mkdel(eR,eR.$3))}));return eQ.get_customViewsViewModel()}case'subscribe':{var eW=new dM;eW.add_subscribeSuccess(ss.mkdel(eR,eR.$3));eR.disposables.add$1(new tab.CallOnDispose(function(){eW.remove_subscribeSuccess(ss.mkdel(eR,eR.$3))}));return eW}case'public-logo':{return new dj}default:{return null}}};eb.$0=function(e,eQ){var eR=tab.CommandItemWrapper.create(e);tab.Param.verifyValue(e,'commandItem');switch(eR.get_iconRes()){case'download':{if(!tab.FeatureFlags.isEnabled('ViewingToolbarModalDialog')&&tsConfig.is_mobile_app){return new bR}else{return null}}case'share':{return new dD}case'customviews':{return(ss.isNullOrUndefined(eQ)?null:eQ.get_customViewsViewModel())}case'subscribe':{return new dM}case'public-logo':{return new dj}default:{return null}}};global.tab.ToolbarButtonViewModel=eb;var ec=function(e,eQ,eR){this.$e=null;eb.call(this,e,eQ,null);tab.Param.verifyValue(eR,'menuBuilder');this.$e=eR;this.set_enabled(this.createMenu().menuItems.some(function(eS){return eS.enabled}))};ec.__typeName='tab.ToolbarDropdownButtonViewModel';global.tab.ToolbarDropdownButtonViewModel=ec;var ed=function(e,eQ,eR){this.$g=null;this.$f=null;this.$3$1=null;this.$3$2=null;eb.call(this,e,eQ,null);tab.Param.verifyValue(eR,'menuBuilder');this.$g=eR;this.$f=this.createMenu();this.set_enabled(this.$f.menuItems.some(function(eW){return eW.enabled}));if(this.get_enabled()){var eS=0;var eT=0;for(var eU=0;eU<this.$f.menuItems.length;eU++){var eV=this.$f.menuItems[eU];if(eV.checkState!==0){eS=eT;break}eT++}eT=0;this.set_props({dropdownType:0,menuItemInfos:_.map(this.$f.menuItems,function(eW){return{displayValue:eW.name,disabled:!eW.enabled,value:(eT++).toString()}}),containerStyle:{width:'97px'},selectedValue:eS.toString(),onSelect:ss.mkdel(this,this.$e),testId:'FitDropdown'})}};ed.__typeName='tab.ToolbarDropdownMenuViewModel';global.tab.ToolbarDropdownMenuViewModel=ed;var ee=function(){this.toolbar=null;this.leftItems=null;this.publicItems=null;this.publicLogo=null;this.publicBelowLogo=null;this.rightItems=null;spiff.Template.call(this,$((eh.get_isPublicSpecificToolbar()?"\n            <div class='tab-toolbar public tab-fill'>\n                <div class='tab-vizItems tab-fill-left' />\n                <div class='tab-nonVizItems tab-fill-right' />\n            <div/>":"\n            <div class='tab-toolbar tab-fill'>\n                <div class='tab-vizItems tab-fill-left' />\n                <div class='tab-publicItems'>\n                    <a class='tab-publicLogoLink' target='_blank' />\n                    <div class='tab-belowPublicLogo' />\n                </div>\n                <div class='tab-nonVizItems tab-fill-right' />\n            <div/>")));this.toolbar=this.domRoot;this.leftItems=this.getElementBySelector('.tab-vizItems');if(!eh.get_isPublicSpecificToolbar()){this.publicItems=this.getElementBySelector('.tab-publicItems');this.publicLogo=this.getElementBySelector('.tab-publicLogoLink');this.publicBelowLogo=this.getElementBySelector('.tab-belowPublicLogo')}this.rightItems=this.getElementBySelector('.tab-nonVizItems')};ee.__typeName='tab.ToolbarTemplate';global.tab.ToolbarTemplate=ee;var ef=function(e,eQ,eR,eS){this.$e=null;eb.call(this,e,eQ,eR);this.$e=eS};ef.__typeName='tab.ToolbarToggleButtonViewModel';ef.createFromCommandItems=function(e,eQ,eR){var eS;var eT;var eU=tab.CommandItemWrapper.create(e);var eV=tab.CommandItemWrapper.create(eQ);if(!ss.isValue(eU.get_enabled())||eU.get_enabled()){eS=eU;eT=eV}else if(!ss.isValue(eV.get_enabled())||eV.get_enabled()){eS=eV;eT=eU}else{return null}var eW=eb.createFromCommandItem(eS.get_item(),eR);var eX=new ef(eW.get_text(),eW.get_iconClass(),eW.get_buttonAction(),eT.get_name());eX.disposables.add$1(eW);eX.set_enabled(ss.isValue(eT)&&!eT.get_enabled());if(eX.get_enabled()){return eX}return null};global.tab.ToolbarToggleButtonViewModel=ef;var eg=function(e){this.$P=null;this.$S=0;this.$R=0;this.$Q=0;this.$N=0;this.$M=0;this.$L=0;this.$O=0;this.$K=0;this.$3$1=null;this.$3$2=null;this.$3$3=null;this.$3$4=null;this.$3$5=null;this.$3$6=null;this.$3$7=null;ss.makeGenericType(spiff.BaseView$1,[eh]).call(this,e,new ee);this.$P=e;this.$P.add_newToolbar(ss.mkdel(this,this.$n));this.$P.add_viewCountLoaded(ss.mkdel(this,this.$j));dy.get_instance().add_fontPreparationComplete(ss.mkdel(this,this.$i));tab.FullscreenUtil.add_fullscreenStateChanged(ss.mkdel(this,this.$h));this.disposables.add(ss.mkdel(this,function(){this.$P.remove_newToolbar(ss.mkdel(this,this.$n));this.$P.remove_viewCountLoaded(ss.mkdel(this,this.$j));dy.get_instance().remove_fontPreparationComplete(ss.mkdel(this,this.$i));tab.FullscreenUtil.remove_fullscreenStateChanged(ss.mkdel(this,this.$h))}));if(tab.FeatureFlags.isEnabled('AccessibilityViewingToolbar')){this.element.on('keydown',ss.mkdel(this,this.$m));this.element.attr('role','toolbar')}if(tsConfig.allow_custom_views){var eQ=ss.mkdel(this,function(){this.updateCustomViewsButton();this.$k()});this.$w().add_dirtyChanged(eQ);this.$w().add_customViewListChanged(eQ);this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$w().remove_dirtyChanged(eQ);this.$w().remove_customViewListChanged(eQ)})))}var eR=_.throttle(ss.mkdel(this,this.$i),50);this.disposables.add$1(spiff.EventUtil.bindWithDispose($(window),'resize',function(eS){eR()}))};eg.__typeName='tab.ToolbarView';eg.$3=function(e){if(ss.isValue(e)){e.element.show()}};eg.$0=function(e){e.children('.tabToolbarButton').each(function(eQ,eR){var eS=$(eR);eS.css('width',tab.DoubleUtil.roundToInt(eS.outerWidth(false))+1)})};eg.$2=function(e){e.children('.tabToolbarButton').css('width','')};eg.$1=function(e){e.addClass('hideLabels');e.removeClass('showLabels');e.find('.tabToolbarButton').each(function(eQ,eR){var eS=$(eR);var eT=eS.find('.tabToolbarButtonText').text();eS.attr('title',eT);if(tab.FeatureFlags.isEnabled('AccessibilityViewingToolbar')){eS.removeAttr('aria-label')}})};eg.$4=function(e){e.addClass('showLabels');e.removeClass('hideLabels');e.find('.tabToolbarButton').each(function(eQ,eR){eR.removeAttribute('title');if(tab.FeatureFlags.isEnabled('AccessibilityViewingToolbar')){var eS=$(eR);var eT=eS.find('.tabToolbarButtonText').text();eS.attr('aria-label',eT)}})};global.tab.ToolbarView=eg;var eh=function(e){this.$c=null;this.$d=[];this.$b=[];this.$9=new bk;this.dataAlertDialogViewModel=null;this.$a=false;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=false;this.$2$5=null;spiff.BaseViewModel.call(this);this.$c=e;if(!tsConfig.allow_custom_view_save){this.$a=true;this.$9.add_customViewListChanged(ss.mkdel(this,this.$7));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$9.remove_customViewListChanged(ss.mkdel(this,this.$7))})))}this.set_dialogHostViewModel(new bI);if(ss.isValue(this.$c.get_vizCommandItems())){this.$6(null)}var eQ=ss.mkdel(this,function(){this.$6(null)});this.$c.add_newToolbar(eQ);tab.CommandController.get().add_tabChangeCompleted(ss.mkdel(this,this.$6));var eR=ss.mkdel(this,function(){this.get_dialogHostViewModel().show(this.dataAlertDialogViewModel)});this.add_dataAlertDialogVMCreated(eR);this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$c.remove_newToolbar(eQ);tab.CommandController.get().remove_tabChangeCompleted(ss.mkdel(this,this.$6));this.remove_dataAlertDialogVMCreated(eR)})))};eh.__typeName='tab.ToolbarViewModel';eh.get_toolbarHeight=function(){return tabBootstrap.VizLayoutConstants.get_vizToolbarHeight()};eh.$0=function(){return tsConfig.isPublic};eh.get_isPublicSpecificToolbar=function(){return tsConfig.isPublic&&tab.FeatureFlags.isEnabled('UsePublicSpecificToolbar')};eh.get_toolbarIsBottom=function(){return(eh.$0()||tsConfig.embedded)&&!tsConfig.forceToolbarTop};global.tab.ToolbarViewModel=eh;var ei=function(e){this.tupleId=null;this.$i=null;this.$m=[];this.$k=false;this.$o=null;this.$n=false;this.$s=16;this.$j=16;this.$l=null;this.$r=null;this.$q=false;this.$p=false;this.$h=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=false;spiff.Widget.call(this,(e||ei.$0()).domRoot);this.$i=e||ei.$0();this.$n=tsConfig.is_mobile;if(!tsConfig.is_mobile){$(window).on(this.createNamespacedEventName('resize'),ss.mkdel(this,function(){this.$r=null}))}};ei.__typeName='tab.Tooltip';ei.$0=function(){return ei.$4||(ei.$4=new en)};global.tab.Tooltip=ei;var ej=function(e,eQ){ek.call(this,'sticky',e,eQ);var eR=this.get_currentBehavior();eR.attach()};ej.__typeName='tab.TooltipBaseLegacyMode';global.tab.TooltipBaseLegacyMode=ej;var ek=function(e,eQ,eR){this.disposables=new tab.DisposableHolder;this.$j=null;this.$k=null;this.$g=null;this.tooltipBehaviors=null;this.$e=null;this.$f=null;this.visualId=null;this.readyForHover=true;this.$h=false;this.$l=null;this.$i=false;this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$1$4=null;this.$1$5=null;this.$e=eQ;this.visualId=eR;this.$j=new ei;this.$j.add_closed(ss.mkdel(this,this.$5));this.get_tooltip().add_prePosition(ss.mkdel(this,this.$0));this.get_tooltip().add_showed(ss.mkdel(this,this.$0));this.$j.get_body().on('mouseleave.basemode',ss.mkdel(this,this.$7));this.$k=new eo(this.$j,this.get_ubertipShouldEnforceButtonOrdering(),this.shouldAddCommandButtonsAndActions());this.$k.add_actionExecuted(ss.mkdel(this,this.$8));this.$k.add_commandExecuted(ss.mkdel(this,this.$9));this.$k.add_ubertipMenuToggled(ss.mkdel(this,this.$b));this.$k.add_ubertipMenuClosed(ss.mkdel(this,this.$a));this.$g=e;this.$f=e;this.tooltipBehaviors={};this.buildBehaviorsDictionary();this.$h=tab.ActionUtils.getApplicableActions(this.visualId.worksheet,'on-hover',null).length>0||tab.ActionUtils.getApplicableActions(this.visualId.worksheet,'explicitly',null).length>0;if(tsConfig.is_mobile){eE.add_mobileVizReduceTransform(ss.mkdel(this,this.$6));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){eE.remove_mobileVizReduceTransform(ss.mkdel(this,this.$6))})))}};ek.__typeName='tab.TooltipBaseMode';ek.isUbertipHtmlEmpty=function(e){return ss.isValue(e)&&tab.MiscUtil.isNullOrEmpty$1(e.tooltipHtml)};global.tab.TooltipBaseMode=ek;var el=function(){};el.__typeName='tab.TooltipBehaviorType';global.tab.TooltipBehaviorType=el;var em=function(e){this.$0=null;this.$0=e};em.__typeName='tab.TooltipContextProvider';global.tab.TooltipContextProvider=em;var en=function(){spiff.Template.call(this,$("\n<div class='tab-tooltip'>\n  <div class='tab-tooltipContainer'>\n    <div class='tab-tooltipContent' waiRole='alert'></div>\n  </div>\n  <div class='tab-tooltipConnector'></div>\n</div>"))};en.__typeName='tab.TooltipTemplate';global.tab.TooltipTemplate=en;var eo=function(e,eQ,eR){this.$1c=null;this.$14=new tab.DisposableHolder;this.$17=null;this.$18=null;this.$15=false;this.$Z=false;this.$16=false;this.$X=null;this.$19=-1;this.$10=null;this.$13=null;this.$11=null;this.$Y=null;this.$12=null;this.$1b=[];this.$1a=[];this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;spiff.Widget.call(this,$("\n<div class='tab-ubertip'>\n  <div class='tab-ubertipContent'>\n    <div class='tab-ubertipTooltip'></div>\n    <div class='tab-ubertipActions'></div>\n  </div>\n  <div class='tab-ubertipCommandArea'>\n    <div class='tab-ubertipSelected'></div>\n    <div class='tab-ubertipCommands'></div>\n    <div class='tab-clear'></div>\n  </div>\n</div>"));this.$13=this.element.find('.tab-ubertipContent');this.$11=this.element.find('.tab-ubertipCommandArea');this.$Y=this.element.find('.tab-ubertipActions');this.$12=this.element.find('.tab-ubertipCommands');this.$1c=e;this.$1c.add_showed(ss.mkdel(this,this.handleTooltipShowed));this.$1c.add_positionCalculated(ss.mkdel(this,this.handleTooltipPositionCalculated));this.$Z=eR;this.$15=eQ};eo.__typeName='tab.Ubertip';eo.$b=function(e){return e.get_commandType()===10};eo.$7=function(e){return _.find(e.buttonModels,eo.$b)};eo.$c=function(e){var eQ=e.get_wrappedCommandItemPresModel();if(ss.isNullOrUndefined(eQ)){return false}return eQ.get_iconRes()===':/en_US/TQRC_MERGE'};eo.$8=function(e){return _.find(e.buttonModels,eo.$c)};eo.$4=function(e,eQ){return _.find(e.buttonModels,function(eR){return eR.get_isPlaceholder()&&eR.get_commandType()===eQ})};eo.$6=function(e){var eQ;if(ss.isNullOrEmptyString(e.get_imageRes())){eQ='Command'+e.get_commandType()}else if(ss.endsWithString(e.get_imageRes().toString(),'png')){eQ=tab.TabResources.getResourceName(e.get_imageRes())}else{eQ=tab.TabResources.lookupFullResourceAlias(e.get_imageRes())}return eQ};eo.$a=function(e,eQ){if(tab.MiscUtil.isNullOrEmpty$1(e)){return eQ}var eR=ss.formatString('Ubertip{0}Mobile',e);var eS=tab.Strings.getString(eR);if(ss.referenceEquals(eS,ss.formatString('!{0}!',eR))){return eQ}return eS};eo.$1=function(e){var eQ=spiff.LabelButton.newNativeButton();if(tsConfig.is_mobile){eQ.set_label(eo.$a(eo.$6(e),e.get_name()))}else{eQ.set_label(e.get_name());eQ.set_hoverTooltipText(e.get_description())}eQ.set_disabled(true);var eR=new ss.StringBuilder('tab-command');eR.append(eo.$6(e));eQ.element.addClass(eR.toString());eQ.element.css('visibility','hidden');return eQ};eo.$5=function(e){var eQ=e.find('.tab-selection-relaxation');for(var eR=0;eR<eQ.length;eR++){if(ss.isValue(eQ.eq(eR).data('isSelected'))){return eR}}return-1};eo.$2=function(e){var eQ=spiff.LabelButton.newNativeButton();eQ.set_label(e.get_name());eQ.set_hoverTooltipText(e.get_description());$('<span>').addClass('tabComboBoxButton').appendTo(eQ.element);return eQ};eo.$d=function(e,eQ,eR){if(tsConfig.is_mobile&&!tab.MiscUtil.isNullOrEmpty$1(eR)){var eS=eo.$a(eR,eQ.get_description());e.setLabelContents($('<div>'+eS+'</div>'))}else{e.set_label(eQ.get_name())}};eo.$0=function(e,eQ){e.element.addClass(ss.formatString('tab-command{0}',eQ))};eo.$3=function(e){e.element.addClass('enabled'.toString())};eo.$9=function(e){return tab.TabResources.getResourceName(tab.TabResources.lookupFullResourceAlias(e))};global.tab.Ubertip=eo;var ep=function(){eq.call(this)};ep.__typeName='tab.UndoKeyboardShortcut';global.tab.UndoKeyboardShortcut=ep;var eq=function(){ci.call(this,true)};eq.__typeName='tab.UndoRedoKeyboardShortcut';eq.get_logger=function(){return tab.Logger.getLogger(eq)};eq.get_isUndoingOrRedoing=function(){return eq.$3$1};eq.set_isUndoingOrRedoing=function(e){eq.$3$1=e};eq.undoRedoFailure=function(e){eq.set_isUndoingOrRedoing(false);throw e};eq.undoRedoSuccess=function(e){eq.set_isUndoingOrRedoing(false)};global.tab.UndoRedoKeyboardShortcut=eq;var er=function(){};er.__typeName='tab.URIUtil';er.absolutizeURI=function(e,eQ){if(ss.isValue(e)){e=e.trim()}if(ss.isNullOrEmptyString(e)){return e}var eR=new RegExp('^([a-zA-Z0-9]+):(?!\\d+(/|$))');var eS=e.match(eR);if(ss.isValue(eS)&&eS[1]!=='http'&&eS[1]!=='https'){if(eQ){return''}return e}var eT='//';var eU=new RegExp('^https|^/?/?[a-zA-Z0-9.-]+:443(/|$)');var eV=new RegExp('^http|^/?/?[a-zA-Z0-9.-]+:80(/|$)');if(eU.test(e)){eT='https://'}else if(eV.test(e)){eT='http://'}var eW=new RegExp('^(https?:)?/?/?');e=e.replace(eW,eT);return e};global.tab.URIUtil=er;var es=function(){this.$6=null;this.$5=false;this.$4=0;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;spiff.BaseViewModel.call(this);this.$6=null;this.$5=false;this.$4=0;this.set_props({items:[],fetchNextPage:ss.mkdel(this,this.$3),activeUser:null,startingY:null,userListViewModel:this})};es.__typeName='tab.UserListViewModel';global.tab.UserListViewModel=es;var et=function(e){React.Component.call(this,e)};et.__typeName='tab.UserPillComponent';global.tab.UserPillComponent=et;var eu=function(e){React.Component.call(this,e)};eu.__typeName='tab.UserPillsComponent';global.tab.UserPillsComponent=eu;var ev=function(e){this.$2$1=null;this.$2$2=null;spiff.BaseViewModel.call(this);this.set_props({users:ss.arrayClone(e),userPillsViewModel:this,userValidator:function(eQ){return eQ.hasEmail},userInvalidText:tab.Strings.UserHasNoEmailAddressWarning})};ev.__typeName='tab.UserPillsViewModel';global.tab.UserPillsViewModel=ev;var ew=function(e){React.Component.call(this,e);this.props.userSearchViewModel.add_userSelected(ss.mkdel(this,this.$0))};ew.__typeName='tab.UserSearchComponent';global.tab.UserSearchComponent=ew;var ex=function(e,eQ){React.Component.call(this,e,eQ)};ex.__typeName='tab.UserSearchSelectorComponent';global.tab.UserSearchSelectorComponent=ex;var ey=function(){this.userSearchProps=null;this.userPillsProps=null};ey.__typeName='tab.UserSearchSelectorProps';global.tab.UserSearchSelectorProps=ey;var ez=function(e){ez.$ctor1.call(this,e,null)};ez.__typeName='tab.UserSearchSelectorViewModel';ez.$ctor1=function(e,eQ){this.$3$1=null;this.$3$2=null;ss.makeGenericType(spiff.BaseComponentViewModel$1,[ey]).call(this);this.set_userSearchViewModel(new eA.$ctor1(eQ));this.set_userPillsViewModel(new ev(e));var eR=new ey;eR.userSearchProps=this.get_userSearchViewModel().get_props();eR.userPillsProps=this.get_userPillsViewModel().get_props();this.set_props(eR);this.$5()};global.tab.UserSearchSelectorViewModel=ez;var eA=function(){eA.$ctor1.call(this,null)};eA.__typeName='tab.UserSearchViewModel';eA.$ctor1=function(e){this.placeholderMessage=tab.Strings.SubscribeOthersSearchPlaceholder;this.$7=null;this.$9=null;this.$6=0;this.$8=true;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;spiff.BaseViewModel.call(this);if(!tab.MiscUtil.isNullOrEmpty$1(e)){this.placeholderMessage=e}this.set_userListViewModel(new es);this.set_props({userSearchViewModel:this});this.$6=0;this.$7=new tab.Debouncer(ss.mkdel(this,function(){this.get_userListViewModel().set_searchTerm(this.$9);this.$8=true}),200);this.$5()};global.tab.UserSearchViewModel=eA;var eB=function(){cJ.call(this,"<div class='tabCatLegendScrollButtonHolder'><span class='tabCatLegendScrollPrev'/><br><span class='tabCatLegendScrollNext'/></div>")};eB.__typeName='tab.VerticalIteratorButtonTemplate';global.tab.VerticalIteratorButtonTemplate=eB;var eC=function(e){this.$4=null;this.$3=0;this.$5=null;this.$2=new tab.DisposableHolder;this.$1$2=null;this.$4=e};eC.__typeName='tab.ViewController';eC.add_selectionChanged=function(e){eC.$1$1=ss.delegateCombine(eC.$1$1,e)};eC.remove_selectionChanged=function(e){eC.$1$1=ss.delegateRemove(eC.$1$1,e)};global.tab.ViewController=eC;var eD=function(e){this.$g=null;this.$h=null;this.$g=e};eD.__typeName='tab.ViewingToolbarCommands';global.tab.ViewingToolbarCommands=eD;var eE=function(){};eE.__typeName='tab.VizEvent';eE.add_mobileVizExpandTransform=function(e){eE.$1$1=ss.delegateCombine(eE.$1$1,e)};eE.remove_mobileVizExpandTransform=function(e){eE.$1$1=ss.delegateRemove(eE.$1$1,e)};eE.add_mobileVizReduceTransform=function(e){eE.$1$2=ss.delegateCombine(eE.$1$2,e)};eE.remove_mobileVizReduceTransform=function(e){eE.$1$2=ss.delegateRemove(eE.$1$2,e)};eE.notifyMobileVizExpandTransform=function(){if(ss.isValue(eE.$1$1)){eE.$1$1()}};eE.notifyMobileVizReduceTransform=function(){if(ss.isValue(eE.$1$2)){eE.$1$2()}};global.tab.VizEvent=eE;var eF=function(){this.content=null;spiff.Template.call(this,$("<div class='tab-web'></div>"))};eF.__typeName='tab.WebZoneTemplate';global.tab.WebZoneTemplate=eF;var eG=function(e,eQ){this.$j=null;this.$i=null;this.$g=null;this.$h=null;ss.makeGenericType(spiff.BaseView$1,[eH]).call(this,e,new eF);this.$j=e;this.$i=eQ;this.$j.add_newWebZone(ss.mkdel(this,this.$b));this.$i.add_propertyChanged(ss.mkdel(this,this.$d));this.$i.add_resizeZone(ss.mkdel(this,this.$c));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$j.remove_newWebZone(ss.mkdel(this,this.$b));this.$i.remove_propertyChanged(ss.mkdel(this,this.$d));this.$i.remove_resizeZone(ss.mkdel(this,this.$c))})))};eG.__typeName='tab.WebZoneView';global.tab.WebZoneView=eG;var eH=function(e){this.$3=null;this.$2$1=null;spiff.BaseViewModel.call(this);this.$3=e;this.$3.add_newWebZone(ss.mkdel(this,this.handleNewWebZone));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$3.remove_newWebZone(ss.mkdel(this,this.handleNewWebZone))})))};eH.__typeName='tab.WebZoneViewModel';global.tab.WebZoneViewModel=eH;var eI=function(){};eI.__typeName='tab.WidgetUtil';eI.newMenuItemsFromCommands=function(e,eQ,eR,eS){if(ss.isNullOrUndefined(eQ)){return}var eT=tab.CommandsPresModelWrapper.create(eQ);if(!ss.isValue(eT.get_commandItems())){return}var eU=ss.coalesce(eT.get_defaultItem(),-1);var eV=-1;var eW=true;var eX=eT.get_commandItems();for(var eY=0;eY<eX.length;eY++){var eZ=eX[eY];eV++;var fa=null;var fb=tab.CommandItemWrapper.create(eZ);if(!eI.$1(fb,eS)){continue}var fc=eV===eU||fb.get_isDefault();switch(fb.get_commandsType()){case'item':{fa=spiff.MenuItem.newItem(eR(eZ),fb.get_name());fa.description=fb.get_description();fa.enabled=ss.isNullOrUndefined(fb.get_enabled())||fb.get_enabled();break}case'separator':{if(!eW){fa=spiff.MenuItem.newDivider()}break}case'subcommands':{var fd=[];eI.newMenuItemsFromCommands(fd,fb.get_commands(),eR,eS);if(fd.length>0){fa=spiff.MenuItem.newItem(null,fb.get_name(),0,new spiff.Menu(fd))}break}}if(ss.isValue(fa)){fa.enabled=fb.get_enabled();fa.isDefault=fc&&fa.enabled;if(fb.get_isRadioOn()){fa.checkState=2}else if(fb.get_isChecked()){fa.checkState=1}e.push(fa);eW=fa.isDivider}}if(e.length>0&&e[e.length-1].isDivider){ss.removeAt(e,e.length-1)}};eI.$1=function(e,eQ){if(!e.get_isVisible()){return false}if(ss.isValue(e.get_command())&&ss.isValue(eQ)){var eR=new tab.CommandModel;eR.command=tab.CommandSerializer.deserialize(e.get_command());tab.UbertipSerializer.setCommandType(eR);return eQ.test(eR)}return true};eI.createDropdownMenuCommandHandler=function(e){var eQ=tab.CommandItemWrapper.create(e);var eR=tab.CommandSerializer.deserialize(eQ.get_command());var eS;eS=function(){if(tab.WebCommandRegistry.hasCommand(eR.commandName)){var eT=tab.WebCommandRegistry.createCommandWithParams(eR.commandName,eR.commandParams);eT.invoke()}else{var eU=eI.$0(eR);tab.ServerCommands.executeServerCommand(eR,eU,tab.CommandUtils.createCommandRedirectSuccessHandler(null),null)}};return eS};eI.createDropdownMenuCommand=function(e){var eQ=tab.CommandItemWrapper.create(e);var eR=tab.CommandSerializer.deserialize(eQ.get_command());return eR};eI.$0=function(e){var eQ='immediately';if(ss.contains(eI.$2,e.commandName)){eQ='none'}return eQ};eI.commandMenuItemClicked=function(e){if(ss.referenceEquals(ss.getInstanceType(e.data),Function)){e.data()}else{var eQ=e.data;tab.ServerCommands.executeServerCommand(eQ,'immediately')}};eI.menuViewModelFromCommands=function(e,eQ,eR){tab.Param.verifyValue(e,'commands');var eS=tab.CommandsPresModelWrapper.create(e);if(tab.MiscUtil.isNullOrEmpty(eS.get_commandItems())){if(ss.isValue(eR)){eR()}return null}var eT=[];eI.newMenuItemsFromCommands(eT,e,eI.createDropdownMenuCommandHandler);var eU=new spiff.Menu(eT);var eV=spiff.MenuViewModel.createForMenu(eU,eQ);if(ss.isValue(eR)){eV.add_hidden(eR)}return eV};global.tab.WidgetUtil=eI;var eJ=function(){this.dashboardSpacer=null;this.centeringContainer=null;spiff.Template.call(this,eJ.$0());this.dashboardSpacer=this.domRoot;this.centeringContainer=$('#centeringContainer')};eJ.__typeName='tab.WorkbookTemplate';eJ.$0=function(){return(tab.FeatureFlags.isEnabled('IframeSizedToWindow')?$("<div id='dashboard-spacer' class='dashboardSpacer' role='application'></div>"):$("<div class='tab-workbook' role='application'><div class='dashboardSpacer'/></div>"))};global.tab.WorkbookTemplate=eJ;var eK=function(e){this.$i=null;this.$h=null;this.$g=null;ss.makeGenericType(spiff.BaseView$1,[eL]).call(this,e,new eJ);this.$i=e;if(!tab.FeatureFlags.isEnabled('IframeSizedToWindow')){tab.FullscreenUtil.add_fullscreenStateChanged(ss.mkdel(this,this.$f))}this.$i.add_newDashboard(ss.mkdel(this,this.$a));this.$i.add_newDataConnectionPrompt(ss.mkdel(this,this.$b));if(this.$i.get_hasPrompt()){this.$b()}this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){if(!tab.FeatureFlags.isEnabled('IframeSizedToWindow')){tab.FullscreenUtil.remove_fullscreenStateChanged(ss.mkdel(this,this.$f))}this.$i.remove_newDashboard(ss.mkdel(this,this.$a));this.$i.remove_newDataConnectionPrompt(ss.mkdel(this,this.$b))})))};eK.__typeName='tab.WorkbookView';eK.findDashboardContainer=function(){return $(eK.dashboardSpacerSelector)};global.tab.WorkbookView=eK;var eL=function(e){this.$7=null;this.$6=null;this.$5=null;this.$2$1=null;this.$2$2=null;spiff.BaseViewModel.call(this);this.$7=e;this.$7.addNewDashboardHandler(ss.mkdel(this,this.$2));this.$7.add_newDataConnectionPrompt(ss.mkdel(this,this.$3));this.$7.add_dataConnectionPromptDismissed(ss.mkdel(this,this.$4));if(this.$7.get_hasPrompt()){this.$3(this.$7.get_connectionPromptModel())}this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$7.remove_newDataConnectionPrompt(ss.mkdel(this,this.$3));this.$7.remove_dataConnectionPromptDismissed(ss.mkdel(this,this.$4))})))};eL.__typeName='tab.WorkbookViewModel';eL.add_workbookResized=function(e){eL.$2$3=ss.delegateCombine(eL.$2$3,e)};eL.remove_workbookResized=function(e){eL.$2$3=ss.delegateRemove(eL.$2$3,e)};global.tab.WorkbookViewModel=eL;var eM=function(){spiff.Template.call(this,$((tab.FeatureFlags.isEnabled('NewDashboardSpacing')?"<div class='tab-zone'><div class='tab-zone-margin'><div class='tab-zone-padding'></div></div></div>":"<div class='tab-zone no-spacing'></div>")))};eM.__typeName='tab.ZoneTemplate';global.tab.ZoneTemplate=eM;var eN=function(e){this.$q=null;this.$o=null;this.$p=0;this.$n='';ss.makeGenericType(spiff.BaseView$1,[eO]).call(this,e,new eM);this.$m().add_updateZone(ss.mkdel(this,this.$e));this.$m().add_resizeZone(ss.mkdel(this,this.$d));this.$m().add_newZoneContent(ss.mkdel(this,this.$c));this.$m().add_validStateChanged(ss.mkdel(this,this.$g));if(tsConfig.is_authoring){this.disposables.add$1(new spiff.HoverBehavior(this,null,ss.mkdel(this,this.$f),null))}this.$p=0};eN.__typeName='tab.ZoneView';eN.add_zoneBecameValid=function(e){eN.$3$1=ss.delegateCombine(eN.$3$1,e)};eN.remove_zoneBecameValid=function(e){eN.$3$1=ss.delegateRemove(eN.$3$1,e)};eN.$0=function(e){return'tabZoneId'+e};eN.getZoneElement=function(e){return $('#'+eN.$0(e)).get(0)};global.tab.ZoneView=eN;var eO=function(e){this.$j=null;this.zoneContentViewModel=null;this.$i=null;this.$h=false;this.$f=false;this.$g=false;this.$e=false;this.$d=false;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;spiff.BaseViewModel.call(this);this.$h=true;this.$j=e;this.$j.add_updateZone(ss.mkdel(this,this.$7));this.$j.get_zoneCommonModel().add_resizeZone(ss.mkdel(this,this.$5));this.$j.add_newZoneContent(ss.mkdel(this,this.$3));this.$j.add_removeZoneContent(ss.mkdel(this,this.$4));this.$j.get_zoneCommonModel().add_changeZoneTitleVisibility(ss.mkdel(this,this.$6));this.$a();this.$b();if(ss.isValue(e)&&ss.isValue(e.get_model())){this.$3(e.get_model())}else if(tsConfig.is_authoring){this.$2()}};eO.__typeName='tab.ZoneViewModel';eO.calculateZoneZIndex=function(e){return 10+e.get_relativeZoneZIndex()};global.tab.ZoneViewModel=eO;var eP=function(){};eP.__typeName='tableau.ApiCommandExecutor';eP.execute=function(e,eQ,eR){var eS=tab._ApiCommand.generateNextCommandId();var eT=new tab._ApiCommand(e,eS,eQ,eR);L.get_instance().get_apiEventHandler().routeCommand(eT);return eS};eP.installResponderOverride=function(e){var eQ=ss.safeCast(tabBootstrap.ViewerBootstrap.get_instance().apiResponder,tabBootstrap.ApiNativeHostResponder);if(ss.isValue(eQ)){eQ.set_responseAction(e)}else{}};global.tableau.ApiCommandExecutor=eP;ss.initEnum(b,a,{unloaded:'unloaded',loading:'loading',loaded:'loaded',error:'error'},true);ss.initEnum(c,a,{loading:'loading',loaded:'loaded'},true);ss.initClass(d,a,{});ss.initClass(f,a,{});ss.initClass(p,a,{$s:function(){return this.$2$1},$t:function(e){this.$2$1=e},$o:function(){return this.$2$2},$p:function(e){this.$2$2=e},$q:function(){return this.$2$3},$r:function(e){this.$2$3=e},$i:function(){return this.$2$4},$j:function(e){this.$2$4=e},$m:function(){return this.$2$5},$n:function(e){this.$2$5=e},$k:function(){return this.$2$6},$l:function(e){this.$2$6=e},startDrag:function(e){this.$u=this.$o().offset();this.$8(e);this.$o().css('opacity','1');return new spiff.MoveDragInstance.$ctor1(this.$o(),ss.mkdel(this,this.$c),ss.mkdel(this,this.$b),ss.mkdel(this,this.$d),null)},$c:function(e){this.$7(e)},$b:function(e){this.$6(e);this.$d()},$d:function(){this.$o().css('opacity','0');this.$o().offset(this.$u)},$8:null,$7:null,$6:null,$f:function(e){var eQ=this.$o().offset();this.$o().offset({left:eQ.left,top:eQ.top+e})},$e:function(e){var eQ=this.$o().offset();this.$o().offset({left:eQ.left+e,top:eQ.top})},$h:function(e,eQ){var eR=this.$4(eQ,e);var eS=e.pageY-ss.Int32.div(tab.DoubleUtil.roundToInt(this.$o().height()),2);if(eR<=this.$m()){eS=eQ+this.$m()}if(eR>=this.$k()){eS=eQ+this.$k()}var eT=this.$o().offset();this.$o().offset({left:eT.left,top:eS})},$g:function(e,eQ){var eR=this.$2(eQ,e);var eS=e.pageX-ss.Int32.div(tab.DoubleUtil.roundToInt(this.$o().width()),2);if(eR<=this.$m()){eS=eQ+this.$m()}if(eR>=this.$k()){eS=eQ+this.$k()}var eT=this.$o().offset();this.$o().offset({left:eS,top:eT.top})},$5:function(e,eQ){var eR=eQ.pageY-ss.Int32.div(tab.DoubleUtil.roundToInt(this.$o().height()),2);var eS=eR-e;var eT=Math.min(Math.max(eS,this.$m()),this.$k());return eT},$3:function(e,eQ){var eR=eQ.pageX-ss.Int32.div(tab.DoubleUtil.roundToInt(this.$o().width()),2);var eS=eR-e;var eT=Math.min(Math.max(eS,this.$m()),this.$k());return eT},$4:function(e,eQ){var eR=eQ.pageY;return eR-e},$2:function(e,eQ){var eR=eQ.pageX;return eR-e},$a:function(){var e=this.$o().position();var eQ=Math.floor(e.left);var eR=e.top-this.$q()+this.$o().width();return{x:Math.floor(eQ),y:Math.floor(eR)}},$9:function(){var e=this.$o().position();var eQ=e.left-this.$q()+this.$o().height();var eR=Math.floor(e.top);return{x:Math.floor(eQ),y:Math.floor(eR)}}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel,spiff.IDragSource]);ss.initClass(g,a,{$8:function(e){this.$v=tab.DoubleUtil.roundToInt(this.$o().offset().left);this.$g(e,this.$v)},$7:function(e){this.$g(e,this.$v)},$6:function(e){var eQ=this.$3(this.$v,e);if(p.$0(eQ)){var eR=new tab.ResizeAxisRegionCmd;eR.c['visualIdPresModel']=this.$s();eR.c['sizeDelta']=eQ|0;eR.c['isXAxis']=false;eR.c['isFolded']=false;eR.set_uiBlocking('immediatelySubtle');eR.invoke()}}},p,[ss.IDisposable,tab.IViewModel,spiff.IDragSource]);ss.initClass(h,a,{});ss.initClass(i,a,{});ss.initClass(j,a,{$0:function(e,eQ){var eR;if(this.$3==='horizontal'){eR=Math.round(this.$6)===Math.round(eQ)}else{eR=Math.round(this.$5)===Math.round(e)}return eR},$1:function(e,eQ){var eR=this.$4;var eS=e;var eT=eQ;switch(this.$3){case'horizontal':{if(this.$2){eR=-eR}eS=this.$5+eR;break}case'up':{if(!this.$2){eR=-eR}eT=this.$6+eR;break}case'down':{if(this.$2){eR=-eR}eT=this.$6+eR;break}default:{break}}return{x:eS,y:eT}}});ss.initClass(k,a,{$0:function(e){e.set_linePattern(this.$1);e.set_textAngle(this.$5);e.set_shapeFillStyle(this.$2);e.set_textFillStyle(this.$6);e.set_shouldAntialias(this.$3);e.set_shouldUnderlineText(this.$4);e.set_transformation(this.$7)}});ss.initClass(l,a,{$6:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},$7:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},$0:function(e){this.$3=new Date;this.$4=e.pageX;this.$5=e.pageY},$1:function(e){this.$2(e)},$2:function(e){var eQ=new Date-this.$3;var eR=Math.abs(e.pageX-this.$4);var eS=Math.abs(e.pageY-this.$5);if(eQ<=600&&eR<=10&&eS<=10&&!ss.staticEquals(this.$1$1,null)){this.$1$1(e)}}});ss.initClass(m,a,{$0:function(){return this.$1$1},$1:function(e){this.$1$1=e},$2:function(){return this.$1$2},$3:function(e){this.$1$2=e}});ss.initClass(n,a,{});ss.initClass(o,a,{});ss.initClass(q,a,{$8:function(e){this.$v=this.$a();this.$w=tab.DoubleUtil.roundToInt(this.$o().offset().left);this.$g(e,this.$w)},$7:function(e){this.$g(e,this.$w)},$6:function(e){var eQ=this.$3(this.$w,e);if(p.$0(eQ)){var eR=new tab.ResizeHeaderRegionCmd;eR.c['visualIdPresModel']=this.$s();eR.c['sizeDelta']=eQ|0;eR.c['isXAxis']=false;eR.c['regionPoint']=tab.PointUtil.toPresModel(this.$v);eR.set_uiBlocking('immediatelySubtle');eR.invoke()}}},p,[ss.IDisposable,tab.IViewModel,spiff.IDragSource]);ss.initClass(r,a,{$8:function(e){this.$v=this.$9();this.$w=tab.DoubleUtil.roundToInt(this.$o().offset().top);this.$h(e,this.$w)},$7:function(e){this.$h(e,this.$w)},$6:function(e){var eQ=this.$5(this.$w,e);if(p.$0(eQ)){var eR=new tab.ResizeHeaderRegionCmd;eR.c['visualIdPresModel']=this.$s();eR.c['sizeDelta']=eQ|0;eR.c['isXAxis']=true;eR.c['regionPoint']=tab.PointUtil.toPresModel(this.$v);eR.set_uiBlocking('immediatelySubtle');eR.invoke()}}},p,[ss.IDisposable,tab.IViewModel,spiff.IDragSource]);ss.initClass(s,a,{$8:function(e){this.$v=tab.DoubleUtil.roundToInt(this.$o().offset().top);this.$h(e,this.$v)},$7:function(e){this.$h(e,this.$v)},$6:function(e){var eQ=this.$5(this.$v,e);if(p.$0(eQ)){var eR=new tab.ResizeAxisRegionCmd;eR.c['visualIdPresModel']=this.$s();eR.c['sizeDelta']=eQ|0;eR.c['isXAxis']=true;eR.c['isFolded']=true;eR.set_uiBlocking('immediatelySubtle');eR.invoke()}}},p,[ss.IDisposable,tab.IViewModel,spiff.IDragSource]);ss.initClass(t,a,{$8:function(e){this.$v=tab.DoubleUtil.roundToInt(this.$o().offset().left);this.$g(e,this.$v)},$7:function(e){this.$g(e,this.$v)},$6:function(e){var eQ=-this.$3(this.$v,e);if(p.$0(eQ)){var eR=new tab.ResizeAxisRegionCmd;eR.c['visualIdPresModel']=this.$s();eR.c['sizeDelta']=eQ|0;eR.c['isXAxis']=false;eR.c['isFolded']=true;eR.set_uiBlocking('immediatelySubtle');eR.invoke()}}},p,[ss.IDisposable,tab.IViewModel,spiff.IDragSource]);ss.initClass(u,a,{$8:function(e){this.$v=tab.DoubleUtil.roundToInt(this.$o().offset().top);this.$h(e,this.$v)},$7:function(e){this.$h(e,this.$v)},$6:function(e){var eQ=-this.$5(this.$v,e);if(p.$0(eQ)){var eR=new tab.ResizeAxisRegionCmd;eR.c['visualIdPresModel']=this.$s();eR.c['sizeDelta']=eQ|0;eR.c['isXAxis']=true;eR.c['isFolded']=false;eR.set_uiBlocking('immediatelySubtle');eR.invoke()}}},p,[ss.IDisposable,tab.IViewModel,spiff.IDragSource]);ss.initClass(v,a,{});ss.initClass(w,a,{},ss.EventArgs);ss.initClass(x,a,{render:function(){return React.DOM.div({className:'tabAddSubscribersContent'},this.$1(),this.$2(),this.$0())},$1:function(){return React.DOM.div({className:'tabAddSubscribersHeader'},tab.Strings.AddSubscribersHeader)},$2:function(){return React.createElement(ex,this.props.userSearchSelectorProps)},$0:function(){var e={clickHandler:ss.mkdel(this.props.addSubscribersViewModel,this.props.addSubscribersViewModel.cancelSelection),label:tab.Strings.SubscribeCancel,buttonClass:'tabAddSubscribersCancelButton',buttonStyle:3,tabIndex:0};var eQ={clickHandler:ss.mkdel(this.props.addSubscribersViewModel,this.props.addSubscribersViewModel.confirmSelection),label:tab.Strings.DialogButtonOK,buttonClass:'tabAddSubscribersConfirmButton',buttonStyle:0,tabIndex:0};var eR=React.createElement(spiff.StyledButtonComponent,eQ);var eS=React.createElement(spiff.StyledButtonComponent,e);return React.DOM.div({className:'tabAddSubscribersButtons'},eS,eR)}},React.Component);ss.initClass(y,a,{});ss.initClass(z,a,{});ss.initClass(A,a,{add_propsUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_propsUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_selectionCanceled:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_selectionCanceled:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_selectionConfirmed:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_selectionConfirmed:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},get_viewModel:function(){return this},get_userSearchSelectorViewModel:function(){return this.$2$4},set_userSearchSelectorViewModel:function(e){this.$2$4=e},get_props:function(){return this.$2$5},set_props:function(e){this.$2$5=e},get_viewType:function(){return ss.makeGenericType(spiff.ReactHostView$3,[A,x,z])},updateUberPopupViewModel:function(e){},disposeViewModel:function(){this.dispose()},cancelSelection:function(){this.raiseActionEvent(this.$2$2)},confirmSelection:function(){this.raiseActionEvent$1(Array).call(this,this.$2$3,this.get_userSearchSelectorViewModel().get_users())},$2:function(){this.raiseActionEvent(this.$2$1)}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel,spiff.IContent,spiff.IUberPopupContent,ss.makeGenericType(spiff.IPropsProvider$1,[z])]);ss.initClass(B,a,{});ss.initClass(C,a,{});ss.initClass(D,a,{});ss.initClass(E,a,{dispose:function(){this.$13.dispose();if(ss.isValue(this.$17)){this.$17.dispose();this.$17=null}if(ss.isValue(this.$16)){this.$16.dispose();this.$16=null}tab.CommandController.get().remove_tabChangeCompleted(ss.mkdel(this,this.handleNewLayout));tab.StartupUtils.remove_clientFullyLoaded(ss.mkdel(this,this.onClientFullyLoaded));tab.CommandController.get().remove_commandQueueComplete(ss.mkdel(this,this.onCommandComplete))},updateClients:function(e,eQ){if(!ss.referenceEquals(this.$11,e)){var eR=this.$11;this.$11=e;if(tsConfig.allow_custom_views){var eS=(ss.isValue(eR)?eR.get_customViewsViewModel():null);if(ss.isValue(eS)){eS.remove_dirtyChanged(ss.mkdel(this,this.onCustomViewUpdated));eS.remove_customViewListChanged(ss.mkdel(this,this.onCustomViewListLoaded));eS.remove_customViewDestroyed(ss.mkdel(this,this.onCustomViewDestroyed));eS.remove_defaultCustomViewChanged(ss.mkdel(this,this.onCustomViewSetDefault))}var eT=(ss.isValue(e)?e.get_customViewsViewModel():null);if(ss.isValue(eT)){eT.add_dirtyChanged(ss.mkdel(this,this.onCustomViewUpdated));eT.add_customViewListChanged(ss.mkdel(this,this.onCustomViewListLoaded));eT.add_customViewDestroyed(ss.mkdel(this,this.onCustomViewDestroyed));eT.add_defaultCustomViewChanged(ss.mkdel(this,this.onCustomViewSetDefault))}}this.$12=false;if(ss.isValue(this.$17)){this.$17.dispose();this.$17=null}if(ss.isValue(this.$10)&&ss.isValue(this.$11.get_toolbarCommands().get_toolbarViewModel())){this.$17=new I(this.$10,this.$11.get_toolbarCommands().get_toolbarViewModel())}}if(!ss.referenceEquals(this.$15,eQ)){if(ss.isValue(this.$16)){this.$16.dispose()}this.$15=eQ;if(ss.isValue(this.$15)){this.$16=new H(eQ,this.$10)}}_.defer(ss.mkdel(this,this.$X));if(!this.$14){var eU=tab.ApplicationModel.get_instance().get_workbook();if(ss.isValue(eU)){eU.addNewDashboardHandler(ss.mkdel(this,this.onNewDashboard));this.$14=true}}else{this.onNewDashboard(null)}},$X:function(){var e={};var eQ=this.$11.get_viewControllers();for(var eR=0;eR<eQ.length;eR++){var eS=eQ[eR];e[eS.get_sheetName()]=eS}var eT=_.keys(this.$18);for(var eU=0;eU<eT.length;eU++){var eV=eT[eU];if(!ss.keyExists(e,eV)){this.$18[eV].dispose();delete this.$18[eV]}else{delete e[eV]}}this.$R(e)},$R:function(e){_.each(_.keys(e),ss.mkdel(this,function(eQ){var eR=e[eQ];var eS=ss.mkdel(this,function(eT,eU){if(ss.referenceEquals(eR.get_sheetName(),eT)){this.onSelectionChanged(eT,eU)}});eC.add_selectionChanged(eS);this.$18[eQ]=new tab.CallOnDispose(function(){eC.remove_selectionChanged(eS)})}))},handleEvent:function(e){var eQ=e.data;if(ss.isNullOrUndefined(eQ)||typeof(eQ)!=='string'){return}var eR=eQ;var eS=tab._ApiCommand.parse(eR);if(ss.isNullOrUndefined(eS.get_rawName())){return}this.routeCommand(eS)},routeCommand:function(e){switch(e.get_name()){case'api.GetClientInfoCommand':{this.$E(e);break}case'api.GetCurrentUrlCommand':{this.$G(e);break}case'api.ClearFilterCommand':{this.$6(e);break}case'api.ApplyCategoricalFilterCommand':{this.$2(e);break}case'api.ApplyRangeFilterCommand':{this.$4(e);break}case'api.ApplyRelativeDateFilterCommand':{this.$5(e);break}case'api.ApplyHierarchicalFilterCommand':{this.$3(e);break}case'api.RefreshDataCommand':{this.$y(e);break}case'api.RevertAllCommand':{this.$A(e);break}case'api.SwitchActiveSheetCommand':{this.$S(e);break}case'api.UpdateActiveSheetCommand':{this.$V(e);break}case'api.SelectMarksCommand':{this.$C(e);break}case'api.ClearSelectedMarksCommand':{this.$8(e);break}case'api.FetchSelectedMarksCommand':{this.$e(e);break}case'api.FetchParametersCommand':{this.$d(e);break}case'api.SetParameterValueCommand':{this.$H(e);break}case'api.InvokeCommandCommand':{this.$o(e);break}case'api.SetSheetSizeCommand':{this.$I(e);break}case'api.ShowHideToolbarCommand':{this.$N(e);break}case'api.GetFiltersListCommand':{this.$h(e);break}case'api.GetOneFilterInfoCommand':{this.$i(e);break}case'api.GetDataSourceCommand':{this.$f(e);break}case'api.GetDataSourcesCommand':{this.$g(e);break}case'api.FetchCustomViewsCommand':{this.$b(e);break}case'api.ShowCustomViewCommand':{this.$J(e);break}case'api.UpdateCustomViewCommand':{this.$W(e);break}case'api.MakeCurrentCustomViewDefaultCommand':{this.$q(e);break}case'api.RemoveCustomViewCommand':{this.$z(e);break}case'api.SaveNewCustomViewCommand':{this.$B(e);break}case'api.ActivateStoryPoint':{this.$16.activateStoryPoint(e);break}case'api.ActivatePreviousStoryPoint':{this.$16.activatePreviousStoryPoint(e);break}case'api.ActivateNextStoryPoint':{this.$16.activateNextStoryPoint(e);break}case'api.SwitchViz':{var eQ=JSON.parse(e.get_parameters());tab.SessionServerCommands.switchToViz(eQ['api.invokeCommandParam']);break}case'api.RevertStoryPoint':{this.$16.revertStoryPoint(e);break}case'api.GetSummaryTableCommand':{this.$j(e);break}case'api.GetUnderlyingTableCommand':{this.$l(e);break}case'api.ClearHighlightedMarksCommand':{this.$7(e);break}case'api.HighlightMarksCommand':{this.$m(e);break}case'api.HighlightMarksByPatternMatch':{this.$n(e);break}case'api.FetchHighlightedMarksCommand':{this.$c(e);break}case'api.GetToolbarState':{this.$k(e);break}case'api.Undo':{this.$U(e);break}case'api.Redo':{this.$x(e);break}case'api.ToggleUpdates':{this.$T(e);break}case'api.ShowShareDialog':{this.$P();break}case'api.ShowDataAlertDialog':{this.$L();break}case'api.ShowSubscribeDialog':{this.$Q();break}case'api.ShowCustomViewsDialog':{this.$K();break}case'api.ShowPerformanceDialog':{this.$O();break}case'api.ShowDownloadDialog':{this.$M();break}}},handleNewLayout:function(e){var eQ=e.item1;var eR=e.item2;this.$10.sendEventNotification('api.TabSwitchEvent',eQ,eR)},handleMarkSelectionEvent:function(e,eQ){if(ss.referenceEquals(e,eQ.primarySheet)){this.$10.sendEventNotification('api.MarksSelectionChangedEvent',e,null)}},handleFilterChangeEvent:function(e,eQ){if(ss.isNullOrUndefined(eQ.primarySheet)){return}var eR=eQ.cmdResult.commandReturn;var eS=eR['fn'];if(ss.isNullOrUndefined(eR['invalidValues'])&&ss.isNullOrUndefined(eR['invalidFieldCaption'])&&ss.isValue(eS)){var eT=null;var eU=tab.ModelUtils.getVisualModel(tab.ApplicationModel.get_instance(),eQ.primarySheet);if(ss.isValue(eU)){var eV=_.find(eU.get_filters(),function(eX){return ss.referenceEquals(eX.get_globalFieldName(),eS)});if(ss.isValue(eV)){eT=eV.get_filterPresModel().fieldCaption}}var eW=[eS,ss.coalesce(eT,eS)];this.$10.sendEventNotification('api.FilterChangedEvent',e,JSON.stringify(eW))}},$p:function(e){return e==='reset-filter'||e==='clear-existing-filter'||e==='range-filter'||e==='categorical-filter'||e==='categorical-filter-by-index'||e==='hierarchical-filter'||e==='relative-date-filter'},removeEditDataAlertUrlParam:function(e){this.$10.sendEventNotification('api.RemoveEditDataAlertUrlParamEvent',e,'')},onSelectionChanged:function(e,eQ){if(ss.isNullOrUndefined(eQ)||ss.isNullOrUndefined(eQ.cmdResult)||ss.isNullOrUndefined(eQ.cmdResult.commandName)){return}var eR=eQ.cmdResult.commandName.split(':');if(ss.referenceEquals(eR[0],'tabdoc'.toString())){if(ss.startsWithString(eR[1],'highlight')||ss.startsWithString(eR[1],'select-legend')){this.$10.sendEventNotification('api.MarksHighlightChangedEvent',e,null)}var eS=eR[1];if(ss.startsWithString(eR[1],'select')&&!ss.startsWithString(eR[1],'select-legend')){this.handleMarkSelectionEvent(e,eQ)}else if(this.$p(eS)){this.handleFilterChangeEvent(e,eQ)}}else if(ss.referenceEquals(eR[0],'tabsrv'.toString())&&(ss.startsWithString(eR[1],'select')&&!ss.startsWithString(eR[1],'select-legend'))){this.handleMarkSelectionEvent(e,eQ)}},onClientFullyLoaded:function(){tab.StartupUtils.remove_clientFullyLoaded(ss.mkdel(this,this.onClientFullyLoaded));this.$10.sendEventNotification('api.VizInteractiveEvent',null,tsConfig.clientNumber)},onCommandComplete:function(){this.$10.sendEventNotification('api.VizInteractiveEvent',null,tsConfig.clientNumber)},onNewDashboard:function(e){e=tab.ModelUtils.findContentDashboard();this.$13.dispose();if(ss.isNullOrUndefined(e)){return}var eQ=e.get_zoneModels();_.each(eQ,ss.mkdel(this,function(eR,eS){if(eR.get_zoneType()==='paramctrl'&&ss.isValue(eR.get_model())){if(ss.referenceEquals(ss.getInstanceType(eR.get_model()),tab.ParameterCtrlModel)){var eT=eR.get_model();eT.add_newParameterCtrl(ss.mkdel(this,this.onParameterChange));this.$13.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){eT.remove_newParameterCtrl(ss.mkdel(this,this.onParameterChange))})))}else if(ss.referenceEquals(ss.getInstanceType(eR.get_model()),tab.ParameterFilterDisplayModel)){var eU=eR.get_model();eU.add_filterUpdated(ss.mkdel(this,this.onParameterChange));this.$13.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){eU.remove_filterUpdated(ss.mkdel(this,this.onParameterChange))})))}}}))},onParameterChange:function(e){var eQ=e.fieldCaption;this.$10.sendEventNotification('api.ParameterChangedEvent',null,eQ)},onCustomViewDestroyed:function(e,eQ){this.$10.sendEventNotification('api.CustomViewRemovedEvent',null,JSON.stringify(this.$9()))},onCustomViewUpdated:function(e,eQ){this.$10.sendEventNotification('api.CustomViewUpdatedEvent',null,JSON.stringify(this.$9()))},onCustomViewSetDefault:function(e,eQ){this.$10.sendEventNotification('api.CustomViewSetDefaultEvent',null,JSON.stringify(this.$9()))},onCustomViewListLoaded:function(e,eQ){this.$10.sendEventNotification('api.CustomViewsListLoadedEvent',null,JSON.stringify(this.$9()));this.$12=true},$d:function(e){var eQ=tab.CommandUtils.newCommand('get-parameter-models',null);this.$F(e,eQ,n.$8)},$H:function(e){var eQ=JSON.parse(e.get_parameters());var eR={};eR['fieldCaption']=eQ['api.setParameterName'];eR['valueString']=eQ['api.setParameterValue'];var eS=tab.CommandUtils.newCommand('set-parameter-value',eR);this.$F(e,eS,n.$6)},$h:function(e){var eQ=function(eS,eT){eT['ignoreDomain']=eS['api.ignoreDomain']};var eR=this.$t(e,'get-filter-info',eQ);this.$F(e,eR,F.processFilters)},$i:function(e){var eQ=function(eS,eT){if(ss.isValue(eS['api.fieldCaption'])){eT['fieldCaption']=eS['api.fieldCaption']}else{eT['fn']=eS['api.fieldName']}if(ss.isValue(eS['api.filterHierarchicalLevels'])){eT['filterLevel']=eS['api.filterHierarchicalLevels']}eT['ignoreDomain']=eS['api.ignoreDomain']};var eR=this.$t(e,'get-filter-info',eQ);this.$F(e,eR,F.processSingleFilter)},$e:function(e){var eQ=function(eS,eT){};var eR=this.$s(e,'get-selection',eQ);this.$F(e,eR,ss.mkdel(this,this.$w))},$u:function(e,eQ){var eR=new Object;var eS=new tab.DataDictionaryModel(null);eS.update(e);var eT=new tab.VizDataModel(null);eT.update(eQ,tab.NoopModelEventsHandler.get_noopContext());var eU=[];eR.marks=eU;if(ss.isNullOrUndefined(eS)||eS.get_isEmpty()){return eR}eT.forEachTupleId(function(eV){var eW=new Object;eW.tupleId=eV;var eX=[];eW.pairs=eX;eU.push(eW);eT.forEachVizDataField(function(eY,eZ){var fa=new Object;fa.fieldName=eY.get_fieldCaption();fa.formattedValue=tab.VizDataLookup.lookupAlias(eV,eY,eS);fa.valueDataType=B.convertDataType(eY.get_dataType());var fb=null;if(!tab.VizDataLookup.isSpecial(eV,eY,eS,null)&&eY.get_hasDataValues()&&eY.isTupleIdValid(eV)){fb=tab.VizDataLookup.lookupRawDataValue(eV,eY,eS)}var fc=v.serializeDataValue(fb,eY.get_dataType());fa.value=fc;eX.push(fa);return true});return true});return eR},$w:function(e){var eQ=e;var eR=eQ.dataDictionary;var eS=eQ.vizData;return this.$u(eR,eS)},$3:function(e){var eQ=function(eS,eT){eT['qualifiedFieldCaption']=eS['api.fieldCaption'];if(ss.isValue(eS['api.filterReset'])&&eS['api.filterReset']){eT['filterUpdateType']='filter-clear'.toString()}else{if(ss.isValue(eS['api.exclude'])){eT['exclude']=eS['api.exclude']}var eU=C.convertFilterUpdateType(eS['api.filterUpdateType'].toString());eT['filterUpdateType']=eU;if(ss.isValue(eS['api.filterHierarchicalValues'])){eT['filterValues']=eS['api.filterHierarchicalValues']}if(ss.isValue(eS['api.filterHierarchicalLevels'])){eT['filterLevels']=eS['api.filterHierarchicalLevels']}if(ss.isNullOrUndefined(eS['api.filterHierarchicalValues'])&&ss.isNullOrUndefined(eS['api.filterHierarchicalLevels'])){eT['filterLevels']='[]'}}};var eR=this.$s(e,'hierarchical-filter',eQ);this.$F(e,eR,F.processFilterCommandReturningFieldName)},$4:function(e){var eQ=function(eS,eT){eT['qualifiedFieldCaption']=eS['api.fieldCaption'];if(ss.isValue(eS['api.filterReset'])&&eS['api.filterReset']){eT['filterUpdateType']='filter-clear'.toString()}else{if(ss.isValue(eS['api.filterRangeMax'])){eT['rangeMax']=eS['api.filterRangeMax']}if(ss.isValue(eS['api.filterRangeMin'])){eT['rangeMin']=eS['api.filterRangeMin']}if(ss.isValue(eS['api.filterRangeNullOption'])){if(eS['api.filterRangeNullOption']==='NULL_VALUES'){eT['included']='include-null'.toString()}else if(eS['api.filterRangeNullOption']==='NON_NULL_VALUES'){eT['included']='include-non-null'.toString()}else{eT['included']='include-all'.toString()}}}};var eR=this.$s(e,'range-filter',eQ);this.$F(e,eR,F.processFilterCommandReturningFieldName)},$5:function(e){var eQ=function(eS,eT){eT['qualifiedFieldCaption']=eS['api.fieldCaption'];if(ss.isValue(eS['api.filterReset'])&&eS['api.filterReset']){eT['filterUpdateType']='filter-clear'.toString()}else{if(ss.isValue(eS['api.filterDateArchorValue'])){eT['anchorDate']=eS['api.filterDateArchorValue']}eT['datePeriodType']=eS['api.filterPeriodType'].toLowerCase();eT['dateRangeType']=eS['api.filterDateRangeType'].toLowerCase();if(ss.isValue(eS['api.filterDateRange'])){eT['rangeN']=eS['api.filterDateRange']}}};var eR=this.$s(e,'relative-date-filter',eQ);this.$F(e,eR,F.processFilterCommandReturningFieldName)},$Z:function(e){if(e.toLowerCase()==='replace'){return'select-replace'.toString()}else if(e.toLowerCase()==='add'){return'select-add'.toString()}else if(e.toLowerCase()==='remove'){return'select-remove'.toString()}return'select-replace'.toString()},$Y:function(e){if(e.toLowerCase()==='nullvalues'){return'include-null'.toString()}else if(e.toLowerCase()==='nonnullvalues'){return'include-non-null'.toString()}else if(e.toLowerCase()==='allvalues'){return'include-all'.toString()}return'include-all'.toString()},$6:function(e){var eQ=JSON.parse(e.get_parameters());var eR=E.$1();var eS=eQ['api.fieldCaption'];var eT=ss.keyExists(eR,eS);var eU;if(eT){if(eR[eS]==='RD'){var eV=f.$0('api.localfailed','Clearing a relative date filter is not supported when an associated quick filter is on the Worksheet. Please call applyRelativeDateFilter instead.');this.$10.sendResponse(e,eV);return}eU='reset-filter'}else{eU='clear-existing-filter'}var eW=function(eY,eZ){eZ['qualifiedFieldCaption']=eS};var eX=this.$s(e,eU,eW);this.$F(e,eX,F.processFilterCommandReturningFieldName)},$2:function(e){var eQ=function(eS,eT){eT['qualifiedFieldCaption']=eS['api.fieldCaption'];if(ss.isValue(eS['api.filterReset'])&&eS['api.filterReset']){eT['filterUpdateType']='filter-clear'.toString()}else{if(ss.isValue(eS['api.exclude'])){eT['exclude']=eS['api.exclude'].toString()}var eU=C.convertFilterUpdateType(eS['api.filterUpdateType'].toString());eT['filterUpdateType']=eU;if(ss.isValue(eS['api.filterCategoricalValues'])){eT['filterValues']=JSON.stringify(eS['api.filterCategoricalValues'])}else{eT['filterValues']='[""]'}}};var eR=this.$s(e,'categorical-filter',eQ);this.$F(e,eR,F.processFilterCommandReturningFieldName)},$0:function(e,eQ){var eR=new ss.StringBuilder;eR.append('[');for(var eS=0;eS<e.length;eS++){if(eS>0){eR.append(',')}eR.append('{');eR.append('"'+'qualifiedFieldCaption'.toString()+'":');eR.append('"'+e[eS]+'"');eR.append(',');eR.append('"'+'selectValues'.toString()+'":');eR.append(eQ[eS]);eR.append('}')}eR.append(']');return eR.toString()},$1:function(e,eQ){var eR=new ss.StringBuilder;eR.append('[');for(var eS=0;eS<e.length;eS++){if(eS>0){eR.append(',')}eR.append('{');eR.append('"'+'qualifiedFieldCaption'+'":');eR.append('"'+e[eS]+'"');eR.append(',');var eT=JSON.parse(eQ[eS]);var eU=JSON.parse(eT[0]);if(ss.isValue(eU['max'])){eR.append('"'+'maxValue'+'":');eR.append('"'+eU['max'].toString()+'"')}if(ss.isValue(eU['min'])){if(ss.isValue(eU['max'])){eR.append(',')}eR.append('"'+'minValue'.toString()+'":');eR.append('"'+eU['min'].toString()+'"')}if(ss.isValue(eU['nullOption'])){var eV=this.$Y(eU['nullOption'].toString());eR.append(',');eR.append('"'+'included'.toString()+'":');eR.append('"'+eV+'"')}eR.append('}')}eR.append(']');return eR.toString()},$j:function(e){var eQ=this.$s(e,'get-summary-data',J.$3);this.$F(e,eQ,J.processSummaryData)},$l:function(e){var eQ=this.$s(e,'get-underlying-data',J.$4);this.$F(e,eQ,J.$6)},$7:function(e){var eQ=function(eS,eT){};var eR=this.$t(e,'select-none',eQ);this.$F(e,eR,E.$3)},$m:function(e){var eQ=function(eS,eT){eT['qualifiedFieldCaption']=eS['api.fieldCaption'];eT['objectTextIds']=eS['api.ObjectTextIDs']};var eR=this.$s(e,'highlight-items',eQ);this.$F(e,eR,E.$3)},$n:function(e){var eQ=function(eS,eT){eT['qualifiedFieldCaption']=eS['api.fieldCaption'];eT['valueString']=eS['api.Pattern']};var eR=this.$s(e,'highlight-items-by-pattern-match',eQ);this.$F(e,eR,E.$3)},$c:function(e){var eQ=function(eS,eT){};var eR=this.$s(e,'get-highlighted-data',eQ);this.$F(e,eR,ss.mkdel(this,this.$v))},$v:function(e){var eQ=e;var eR=eQ.dataDictionary;var eS=eQ.vizData;return this.$u(eR,eS)},$C:function(e){var eQ=ss.mkdel(this,function(eS,eT){if(tab.MiscUtil.isNullOrEmpty(eS)){eT['selectionUpdateType']='select-replace'.toString()}else{eT['selectionUpdateType']=this.$Z(eS['api.filterUpdateType'].toString());if(ss.isValue(eS['api.categoricalFieldCaption'])&&ss.isValue(eS['api.categoricalMarkValues'])){var eU=JSON.parse(eS['api.categoricalFieldCaption']);var eV=JSON.parse(eS['api.categoricalMarkValues']);var eW=this.$0(eU,eV);eT['dimensionValueSelectionModels']=eW}if(ss.isValue(eS['api.hierarchicalFieldCaption'])&&ss.isValue(eS['api.hierarchicalMarkValues'])){var eX=JSON.parse(eS['api.hierarchicalFieldCaption']);var eY=JSON.parse(eS['api.hierarchicalMarkValues']);var eZ=this.$0(eX,eY);eT['hierarchicalValueSelectionModels']=eZ}if(ss.isValue(eS['api.rangeFieldCaption'])&&ss.isValue(eS['api.rangeMarkValues'])){var fa=JSON.parse(eS['api.rangeFieldCaption']);var fb=JSON.parse(eS['api.rangeMarkValues']);var fc=this.$1(fa,fb);eT['quantativeRangeSelectionModels']=fc}if(ss.isValue(eS['api.tupleIds'])){var fd=new ss.StringBuilder;fd.append('{');fd.append('"'+'selectionType'+'":');fd.append('"tuples"');fd.append(',');fd.append('"'+'objectIds'+'":');fd.append(eS['api.tupleIds']);fd.append('}');eT['selection']=fd.toString()}}});var eR=this.$s(e,'select-by-value',eQ);this.$F(e,eR,E.$4)},$8:function(e){var eQ=function(eS,eT){};var eR=this.$t(e,'select-none',eQ);this.$F(e,eR,E.$4)},$9:function(){var e=this.$11.get_customViewsViewModel();var eQ=e.get_currentCustomView();var eR=null;if(ss.isValue(eQ)){eR=v.serializeCustomView(e.get_currentCustomView(),e.buildUrl(e.get_currentCustomView(),true))}var eS=[];var eT=this.$11.get_customViewsViewModel().get_myCustomViews();var eU=ss.getEnumerator(eT);try{while(eU.moveNext()){var eV=eU.current();var eW=e.buildUrl(eV,true);var eX=v.serializeCustomView(eV,eW);eS.push(eX)}}finally{eU.dispose()}var eY=this.$11.get_customViewsViewModel().get_otherCustomViews();var eZ=ss.getEnumerator(eY);try{while(eZ.moveNext()){var fa=eZ.current();var fb=e.buildUrl(fa,true);var fc=v.serializeCustomView(fa,fb);eS.push(fc)}}finally{eZ.dispose()}return D.newCustomViewsInfo(this.$12,e.get_defaultCustomViewId(),eR,eS)},$b:function(e){this.$11.get_customViewsViewModel().updateCustomizedViews(ss.mkdel(this,function(eQ,eR){var eS=f.$0('api.success',this.$9());this.$10.sendResponse(e,eS)}),ss.mkdel(this,function(eQ){var eR=f.$0('api.remotefailed',eQ);this.$10.sendResponse(e,eR)}))},$J:function(e){var eQ=JSON.parse(e.get_parameters());var eR=null;if(ss.isValue(eQ['api.customViewParam'])){var eS=eQ['api.customViewParam'];eR=v.convertToCustomizedView(eS)}this.$11.get_customViewsViewModel().select(eR)},$z:function(e){var eQ=JSON.parse(e.get_parameters());var eR=eQ['api.customViewParam'];var eS=v.convertToCustomizedView(eR);this.$11.get_customViewsViewModel().destroy(eS,ss.mkdel(this,function(){var eT=f.$0('api.success',this.$9());this.$10.sendResponse(e,eT)}),ss.mkdel(this,function(eT){var eU=f.$0('api.remotefailed',eT);this.$10.sendResponse(e,eU)}))},$W:function(e){var eQ=JSON.parse(e.get_parameters());var eR=eQ['api.customViewParam'];var eS=v.convertToCustomizedView(eR);this.$11.get_customViewsViewModel().update(eS,ss.mkdel(this,function(eT){var eU=f.$0('api.success',this.$9());this.$10.sendResponse(e,eU)}),ss.mkdel(this,function(eT){var eU=f.$0('api.remotefailed',eT);this.$10.sendResponse(e,eU)}))},$q:function(e){this.$11.get_customViewsViewModel().makeCurrentDefault(ss.mkdel(this,function(eQ){var eR=f.$0('api.success',this.$9());this.$10.sendResponse(e,eR)}),ss.mkdel(this,function(eQ){var eR=f.$0('api.remotefailed',eQ);this.$10.sendResponse(e,eR)}))},$B:function(e){var eQ=JSON.parse(e.get_parameters());var eR=eQ['api.customViewName'];this.$11.get_customViewsViewModel().save(eR,ss.mkdel(this,function(eS){var eT=this.$9();eT.newView=v.serializeCustomView(eS,this.$11.get_customViewsViewModel().buildUrl(eS,false));var eU=f.$0('api.success',eT);this.$10.sendResponse(e,eU)}),ss.mkdel(this,function(eS){var eT=f.$0('api.remotefailed',eS);this.$10.sendResponse(e,eT)}))},$f:function(e){var eQ=JSON.parse(e.get_parameters());var eR=eQ['api.dataSourceName'];var eS=eQ['api.worksheetName'];var eT={};var eU=tab.CommandUtils.newCommand('get-schema',eT);var eV=function(eW){var eX=eW;var eY=d.$0(eX,eS,eR);return eY.dataSources[0]};this.$F(e,eU,eV)},$g:function(e){var eQ=JSON.parse(e.get_parameters());var eR=eQ['api.worksheetName'];var eS=tab.CommandUtils.newCommand('get-schema',null);var eT=function(eU){var eV=eU;var eW=d.$0(eV,eR,null);return eW};this.$F(e,eS,eT)},$o:function(e){var eQ=JSON.parse(e.get_parameters());var eR=eQ['api.invokeCommandName'];if(eR==='showExportImageDialog'){this.$11.get_toolbarCommands().exportImage()}else if(eR==='showExportDataDialog'){var eS=null;if(ss.isValue('api.invokeCommandParam')){eS=eQ['api.invokeCommandParam']}this.$11.get_toolbarCommands().exportData(eS)}else if(eR==='showExportCrosstabDialog'){var eT=null;if(ss.isValue('api.invokeCommandParam')){eT=eQ['api.invokeCommandParam']}this.$11.get_toolbarCommands().exportCrosstab(eT)}else if(eR==='showExportPDFDialog'){this.$11.get_toolbarCommands().exportPdf()}else if(eR==='pauseAutomaticUpdates'){this.$11.get_toolbarCommands().$3();this.$D(e)}else if(eR==='resumeAutomaticUpdates'){this.$11.get_toolbarCommands().$5();this.$D(e)}else if(eR==='toggleAutomaticUpdates'){this.$T(e)}else if(eR==='showShareDialog'){this.$11.get_toolbarCommands().$d()}else if(eR==='showDownloadWorkbookDialog'){var eU=this.$11.get_applicationPresModel().workbookPresModel.dashboardPresModel;this.$11.get_toolbarCommands().$0(eU.sheetLayoutInfo.downloadLink)}else if(eR==='selectedMarksKeepOnly'){this.$11.get_toolbarCommands().$8()}else if(eR==='selectedMarksExclude'){this.$11.get_toolbarCommands().$7()}},$k:function(e){if(ss.isValue(this.$17)){var eQ=f.$0('api.success',this.$17.get_toolbarState());this.$10.sendResponse(e,eQ)}},$U:function(e){tab.WorksheetServerCommands.undo();var eQ=f.$0('api.success','');this.$10.sendResponse(e,eQ)},$x:function(e){tab.WorksheetServerCommands.redo();var eQ=f.$0('api.success','');this.$10.sendResponse(e,eQ)},$T:function(e){this.$11.get_toolbarCommands().$f();this.$D(e)},$P:function(){this.$11.get_toolbarCommands().$d()},$L:function(){this.$11.get_toolbarCommands().$a()},$Q:function(){this.$11.get_toolbarCommands().$e()},$O:function(){this.$11.get_toolbarCommands().$c()},$K:function(){this.$11.get_toolbarCommands().$9()},$M:function(){this.$11.get_toolbarCommands().$b()},$D:function(e){var eQ=D.newAutoUpdateState(this.$11.get_toolbarCommands().$1());var eR=f.$0('api.success',eQ);this.$10.sendResponse(e,eR)},$I:function(e){var eQ=JSON.parse(e.get_parameters());var eR={};eR['sheet']=eQ['api.setSheetSizeName'];eR['minWidth']=eQ['api.minWidth'];eR['minHeight']=eQ['api.minHeight'];eR['maxWidth']=eQ['api.maxWidth'];eR['maxHeight']=eQ['api.maxHeight'];var eS=tab.CommandUtils.newCommand('set-sheet-size',eR);this.$F(e,eS,null)},$y:function(e){this.$11.get_toolbarCommands().$4();var eQ=f.$0('api.success','');this.$10.sendResponse(e,eQ)},$A:function(e){tab.WorksheetServerCommands.revert();var eQ=f.$0('api.success','');this.$10.sendResponse(e,eQ)},$N:function(e){var eQ=JSON.parse(e.get_parameters());var eR=eQ['api.showHideToolbarValue'];this.$11.set_toolbarDisplayed(eR);this.$11.doResize()},$S:function(e){var eQ=JSON.parse(e.get_parameters());var eR=new Object;eR.oldRepositoryUrl=eQ['api.oldRepositoryUrl'];eR.repositoryUrl=eQ['api.switchToRepositoryUrl'];eR.sheetName=eQ['api.switchToSheetName'];eR.oldSheetName=tsConfig.current_sheet_name;eR.noUndo=true;eR.successCallback=ss.mkdel(this,function(eS){var eT=f.$0('api.success','');this.$10.sendResponse(e,eT)});eR.errorCallback=ss.mkdel(this,function(eS){var eT=f.$0('api.remotefailed',eS);this.$10.sendResponse(e,eT)});L.fireOnTabSelect(eR)},$V:function(e){this.$11.doResize()},$E:function(e){if(tabBootstrap.ViewerBootstrap.get_instance().get_hasBootstrapFailed()){return}if(!tabBootstrap.ViewerBootstrap.get_instance().get_hasBootstrapCompleted()){return}tab.ModuleManager.registerModulesLoadedCallback(ss.mkdel(this,function(){var eQ=v.serializeClientInfo(this.$11,this.$15);var eR=f.$0('api.success',eQ);this.$10.sendResponse(e,eR)}))},$G:function(e){var eQ=tab.VizUriModel.createForViewingSheet(tsConfig.repositoryUrl).get_absoluteUri();var eR=f.$0('api.success',eQ);this.$10.sendResponse(e,eR)},$s:function(e,eQ,eR){return this.$r(e,tab.CommandUtils.newCommand(eQ,null),eR)},$t:function(e,eQ,eR){return this.$r(e,tab.CommandUtils.newCommand$1(eQ,null),eR)},$r:function(e,eQ,eR){var eS=JSON.parse(e.get_parameters());var eT=this.$a(eS);eQ.commandParams=eT;eR(eS,eT);return eQ},$a:function(e){var eQ={};if(ss.isValue(e['api.visualId'])){eQ['visualIdPresModel']=JSON.stringify(e['api.visualId'])}else{eQ['worksheet']=e['api.worksheetName'];if(ss.isValue(e['api.dashboardName'])){eQ['dashboard']=e['api.dashboardName']}}return eQ},$F:function(e,eQ,eR){eQ.noExceptionDialog=true;tab.ApiClientCommands.doApiCommand(eQ,ss.mkdel(this,function(eS){var eT=eS;if(ss.isValue(eR)){eT=eR(eS)}var eU=f.$0('api.success',eT);this.$10.sendResponse(e,eU)}),ss.mkdel(this,function(eS){var eT=f.$0('api.remotefailed',eS);this.$10.sendResponse(e,eT)}))}},null,[ss.IDisposable]);ss.initClass(F,a,{});ss.initClass(G,a,{});ss.initClass(H,a,{dispose:function(){this.$8.dispose();this.$9=true},activateStoryPoint:function(e){this.$6(e,ss.mkdel(this,this.$2))},activatePreviousStoryPoint:function(e){this.$6(e,ss.mkdel(this,function(eQ){return this.$1(eQ,function(eR){return eR.clickPrevious()})}))},activateNextStoryPoint:function(e){this.$6(e,ss.mkdel(this,function(eQ){return this.$1(eQ,function(eR){return eR.clickNext()})}))},revertStoryPoint:function(e){this.$6(e,ss.mkdel(this,this.$5))},$5:function(e){return this.$3(e,'api.RevertStoryPoint',function(eQ){return eQ.revertStoryPoint()})},$2:function(e){return this.$3(e,'api.ActivateStoryPoint',function(eQ){return eQ.clickStoryPoint()})},$3:function(e,eQ,eR){H.$0(e,eQ);var eS=JSON.parse(e.get_parameters());var eT=eS['api.storyPointIndex'];if(!ss.isValue(eT)||isNaN(ss.unbox(eT))){throw new ss.Exception('Missing index parameter.')}var eU=this.$0();if(ss.Nullable$1.lt(eT,0)||ss.Nullable$1.ge(eT,ss.count(eU.get_captions()))){throw new ss.Exception('The index is out of bounds.')}var eV=$.Deferred();var eW=ss.getItem(eU.get_captions(),ss.unbox(eT));eR(eW).then(ss.mkdel(this,function(eX){var eY=v.serializeStoryPoint(eX,this.$7);eV.resolve(eY)}),function(eX){eV.reject(eX)});return eV.promise()},$1:function(e,eQ){H.$0(e,['api.ActivateNextStoryPoint','api.ActivatePreviousStoryPoint']);var eR=this.$0();var eS=$.Deferred();eQ(eR).then(ss.mkdel(this,function(eT){var eU=ss.getItem(eR.get_captions(),eT);var eV=v.serializeStoryPoint(eU,this.$7);eS.resolve(eV)}),function(eT){eS.reject(eT)});return eS.promise()},$4:function(){var e=v.serializeStory(this.$7);var eQ=JSON.stringify(e);this.$a.sendEventNotification('api.StorytellingStateChangedEvent',null,eQ)},$0:function(){var e=this.$7.get_flipboardNavigatorViewModel();if(ss.isNullOrUndefined(e)){throw new ss.Exception('The active sheet is not a story.')}return e},$6:function(eQ,eR){try{eR(eQ).then(ss.mkdel(this,function(e){var eS=f.$0('api.success',e);this.$a.sendResponse(eQ,eS)}),ss.mkdel(this,function(e){var eS=f.$0('api.remotefailed',e);this.$a.sendResponse(eQ,eS)}))}catch(eS){var e=ss.Exception.wrap(eS);var errorResult1=f.$0('api.localfailed',e.get_message());this.$a.sendResponse(eQ,errorResult1)}}},null,[ss.IDisposable]);ss.initClass(I,a,{get_toolbarState:function(){return this.$1$1},set_toolbarState:function(e){this.$1$1=e},dispose:function(){this.$4.dispose()},$2:function(){var e=new tab._ApiCommand('api.ToolbarStateChangedEvent',tab._ApiCommand.generateNextCommandId(),null,null);var eQ=f.$0('api.success',this.get_toolbarState());this.$3.sendResponse(e,eQ);this.$3.sendEventNotification('api.ToolbarStateChangedEvent',null,JSON.stringify(this.get_toolbarState()))},$0:function(e,eQ){var eR=e[eQ];return ss.isValue(eR)&&eb.shouldShowButton(eR,this.$5)},$1:function(){if(ss.isNullOrUndefined(this.$5.get_vizCommandItems())||ss.isNullOrUndefined(this.$5.get_nonVizCommandItems())){return}var e={};I.$0(e,this.$5.get_vizCommandItems());I.$0(e,this.$5.get_nonVizCommandItems());var eQ=D.newToolbarStatePM(I.$1(e,'undo'),I.$1(e,'redo'),I.$1(e,'revert'),!I.$2(e,'toggle-updates','Pause'),I.$1(e,'refresh'),this.$0(e,'customviews'),tsConfig.is_metrics_enabled,this.$0(e,'alert'),this.$0(e,'subscribe'),this.$0(e,'share'),this.$0(e,'download'));this.set_toolbarState(eQ);this.$2()}},null,[ss.IDisposable]);ss.initClass(J,a,{});ss.initClass(K,a,{shouldShowAppBanner:function(){if(!tsConfig.is_mobile||tsConfig.is_mobile_app||!tsConfig.showAppBanner||tsConfig.isPublic||tsConfig.is_authoring||tabBootstrap.Utility.get_embedMode()==='embedded'){return false}var e=tab.CookieHelper.getCookie().match(new RegExp('(^|;) ?hideAppBanner=([^;]*)(;|$)'));var eQ=ss.isValue(e)&&e.length>2&&tab.MiscUtil.toBoolean(e[2],false);return!eQ&&tab.FeatureFlags.isEnabled('CustomAppBannerOnVizPage')},createHideAppBannerCookie:function(){var e=new Date;e.setTime(e.getTime()+tab.DateUtil.oneWeek);tab.CookieHelper.setCookie('hideAppBanner=true;path=/;expires='+e.toUTCString())},redirectToApp:function(){var e=tab.WindowHelper.getLocation(window.self);var eQ=ss.replaceAllString(e.href,e.protocol,'tableau:');tab.WindowHelper.locationReplace(window.self,eQ);window.setTimeout(ss.mkdel(this,function(){this.$2()}),1000)},$2:function(){if(tab.BrowserSupport.get_isAndroid()){tab.WindowHelper.locationReplace(window.self,'https://play.google.com/store/apps/details?id=com.Tableau.TableauApp')}else if(tab.BrowserSupport.get_isIos()){if(window.confirm(tab.Strings.RedirectToApp)){tab.WindowHelper.locationReplace(window.self,'https://itunes.apple.com/app/tableau-mobile/id434633927')}}}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel]);ss.initClass(L,a,{add_clientChanged:function(e){this.$1$4=ss.delegateCombine(this.$1$4,e)},remove_clientChanged:function(e){this.$1$4=ss.delegateRemove(this.$1$4,e)},get_tabHeight:function(){var e=$(this.get_tabbedNavigation().get_widgetDomNode());return e.outerHeight(true)},get_tabbedNavigation:function(){return this.$s},get_rightAreaDrawerViewModel:function(){return this.$1$5},set_rightAreaDrawerViewModel:function(e){this.$1$5=e},get_client:function(){return this.$n},get_apiEventHandler:function(){return this.$m},initRightAreaDrawer:function(){if(ss.isValue(this.get_rightAreaDrawerViewModel())){return}this.set_rightAreaDrawerViewModel($.Deferred());tab.ModuleManager.load(tab.ICommentingFactory).call(null,[]).done(ss.mkdel(this,function(e){this.$b(e,this.get_rightAreaDrawerViewModel())}))},$b:function(e,eQ){var eR=ss.mkdel(this,function(){this.get_client().doResize()});var eS=e.createCommentingModuleViewModel();var eT=new dx(eS);eS.set_closeCommentingDrawer(ss.mkdel(eT,eT.closeDrawer));eS.set_loadDrawerFonts(dy.downloadAdditionalDrawerFonts);eS.set_showNotification(da.showNotification);eQ.resolve(eT);eT.add_open(eR);eT.add_close(eR);this.$o.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){eT.remove_open(eR);eT.remove_close(eR);tab.MiscUtil.dispose$1(eT);this.set_rightAreaDrawerViewModel(null)})));this.$p=tab.ObjectRegistry.newView(dw).call(null,[eT]);if(tab.FeatureFlags.isEnabled('IframeSizedToWindow')){this.$p.addToDom($(N.rightPanelSelector))}else{this.$1(this.$p)}},initTabbedNavigation:function(){if(!tab.ApplicationModel.get_instance().get_showTabs()){return}var e=$('.tabbedNavigation');if(e.length>0){if(ss.isValue(this.$s)){this.$s.destroyShim()}tab.ModuleManager.load(tab.ILegacyDojoUIModule).call(null,[]).done(ss.mkdel(this,function(eQ){this.$s=eQ.createTabbedNavigation({},e[0]);this.$s.startupShim()}))}},dispose:function(){if(!ss.isValue(L.$4)){return}if(ss.isValue(this.$m)){this.$m.dispose();this.$m=null}this.$2();this.$o.dispose();this.$f();this.$q.dispose();if(ss.isValue(this.$s)){this.$s.destroyShim();this.$s=null}tab.ApplicationModel.get_instance().get_workbook().remove_dashboardDeleted(ss.mkdel(this,this.$l));tab.ApplicationModel.get_instance().get_workbook().remove_uiModeChanged(ss.mkdel(this,this.$9));L.$4=null},$1:function(e){if(ss.isValue(e)){e.element.insertAfter(this.get_client().get_domNode())}},$l:function(e){this.$2()},$2:function(){if(ss.isNullOrUndefined(this.$n)){return}this.$n.destroyRecursive();this.$n=null;this.$r=null},$3:function(e){tab.SheetClientCommands.switchSheets(e)},$f:function(){if(!L.get_isHostedInApiContext()){return}if(ss.isValue(this.$m)){var e=window.removeEventListener;if(ss.isValue(e)){e('message',ss.mkdel(this,this.$4),true)}else{var eQ=ss.mkdel(this,this.$4);window.self.detachEvent('onmessage',eQ)}this.$m=null}},$c:function(e,eQ){if(!L.get_isHostedInApiContext()){return}this.$m=new E(e,eQ,tabBootstrap.ViewerBootstrap.get_instance().apiResponder);var eR=window.addEventListener;if(ss.isValue(eR)){eR('message',ss.mkdel(this,this.$4),true)}else{var eS=ss.mkdel(this,this.$4);window.self.attachEvent('onmessage',eS)}},$0:function(){if(!L.get_isHostedInApiContext()){return}if('addEventListener'in window.self){window.addEventListener('unload',ss.mkdel(this,this.$e),true)}else{window.self.attachEvent('onunload',ss.mkdel(this,this.$e))}},$e:function(e){this.$f()},$5:function(){this.$j();this.$a();tab.StartupUtils.remove_clientFullyLoaded(ss.mkdel(this,this.$5))},$7:function(){L.$4.dispose();L.$5=false},$i:function(){var e=function(eS){var eT=[];for(var eU=0;eU<eS.length;eU++){var eV=eS[eU];eT.push(bL.toDownloadableFontProperties(eV,''))}dy.get_instance().notifyDownloadableFont(eT)};tab.FontNotificationUtil.add_fontPropertiesIdentified(e);tab.WorldUpdateInterceptor.get().add_onCommandResponse(function(eS){var eT=!tab.ApplicationModel.get_instance().get_isLocalRenderMode()&&eS.get_applicationPresModel().renderMode==='render-mode-client';if(ss.referenceEquals(eS.get_worldUpdateCommand().commandName,'set-active-story-point'.toString())||ss.referenceEquals(eS.get_worldUpdateCommand().commandName,'render-tooltip-server'.toString())||eS.get_sheetChanged()||eS.get_rebuildTheWorld()||eT){L.$2();if(eT){var eU=null;eU=function(){tab.CommandController.get().remove_modelsUpdated(eU);L.handleAllFontsFound()};tab.CommandController.get().add_modelsUpdated(eU)}}});tab.FontNotificationUtil.add_allFontsFound(L.handleAllFontsFound);if(tab.ProgressiveLoader.get_progressiveLoadEnabled()){var eQ=null;eQ=function(){tab.WorldUpdateInterceptor.get().remove_onProgressiveLoadComplete(eQ);L.handleAllFontsFound()};tab.WorldUpdateInterceptor.get().add_onProgressiveLoadComplete(eQ)}var eR=function(){if(!tabBootstrap.ViewerBootstrap.get_instance().get_hasBootstrapCompleted()){dy.get_instance().downloadFonts()}};tab.StartupUtils.callAfterModelsInitialized(function(){tab.CommandController.get().add_modelsUpdated(eR)});tab.StartupUtils.callAfterBootstrap(function(){if(!tab.ProgressiveLoader.get_progressiveLoadEnabled()){L.handleAllFontsFound()}tab.CommandController.get().remove_modelsUpdated(eR)});L.$2()},$a:function(){tabBootstrap.MetricsController.initSessionInfo();tab.MetricsLogger.get_instance().attach()},$4:function(e){if(typeof(ss.getType('ss'))==='undefined'){return}if(ss.isValue(this.$m)){this.$m.handleEvent(e)}},$6:function(e){this.$k(e);var eQ=tab.CommandController.get().get_legacySession();this.$2();tab.ApplicationModel.get_instance().get_shapeManager().clearShapeStampCache();tabBootstrap.MetricsController.initSessionInfo();var eR=L.$0(true,eQ);this.$n=eR;this.$r=eR;this.$n.startup();if(!ss.staticEquals(this.$1$4,null)){this.$1$4()}this.$j();if(tabBootstrap.Utility.get_embedMode()==='notEmbedded'){this.$g(e)}},$8:function(e){this.$j();L.handleAllFontsFound()},$j:function(){if(ss.isValue(this.$m)){this.$m.updateClients(this.$n,this.$r)}},$g:function(e){if(tsConfig.is_authoring){this.$h(e.repositoryUrl,e.sheetName)}else{this.replaceWindowLocationForTabChangeWhileViewing(e.repositoryUrl)}},$h:function(e,eQ){if(this.$d(e)){var eR=tab.VizUriModel.createForAuthoringPublishedSheet(e);eR.replaceState(null)}else{var eS=tab.VizUriModel.createForCurrentWindowLocation();if(eS.get_isAuthorNewWorkbookUri()){}else if(tab.MiscUtil.isNullOrEmpty$1(e)){var eT=tab.VizUriModel.createForAuthoringUnpublishedSheet(tsConfig.origin_repository_url,eQ);eT.replaceState(null)}}},replaceWindowLocationForTabChangeWhileViewing:function(e){if(this.$d(e)){var eQ=tab.VizUriModel.createForViewingSheet(e);eQ.replaceState(null)}else{}},$d:function(e){if(tab.MiscUtil.isNullOrEmpty$1(e)||ss.startsWithString(e,'ds:')){return false}return true},$k:function(e){tsConfig.current_sheet_name=e.sheetName;tsConfig.current_sheet_type=e.sheetType;tsConfig.current_view_id=e.viewId;if(e.isCurrentCustViewIdValid){tsConfig.current_custom_view_id=e.currentCustomViewId}else{tsConfig.current_custom_view_id=null}tsConfig.layoutid=e.layoutId;tsConfig.embeddedTitle=e.embeddedTitle;tsConfig.blogURI=e.blogLink;tsConfig.requestURI=e.shareLink;tsConfig.downloadURI=e.downloadLink;tsConfig.staticImage=e.staticImage;tsConfig.guid=e.guid;var eQ=e.repositoryUrl;tsConfig.repositoryUrl=(this.$d(eQ)?eQ:'')},$9:function(){if(tab.ApplicationModel.get_instance().get_workbook().get_uiMode()==='data-tab'){spiff.GlobalUIEvents.fireDismissTemporaryElements()}}},null,[ss.IDisposable]);ss.initClass(M,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(N,a,{get_dom:function(){return this.get_template()},get_dashboardNode:function(){return this.$g.get_dashboardNode()},get_containerNode:function(){return this.$g.get_containerNode()},get_toolbarContainer:function(){return this.get_dom().toolbarContainer},$d:function(){return this.get_viewModel()},onAddedToDom:function(){if(!this.addedToDom){this.$c();this.$a();this.$9();this.$b();spiff.FocusManager.initialize();if(tab.FeatureFlags.isEnabled('MobileQFZoneInteractiveRedesign')){$(document.body).addClass('ff-MobileQFZoneInteractiveRedesign')}if(tab.FeatureFlags.isEnabled('IframeSizedToWindow')){$(document.body).addClass('ff-IFrameSizedToWindow')}if(this.$d().get_shouldShowCommenting()){$(document.body).addClass('ff-CommentingPane')}if(tab.FeatureFlags.isEnabled('TouchSmoothTooltips')){$(document.body).addClass('ff-TouchSmoothTooltips')}}spiff.Widget.prototype.onAddedToDom.call(this)},resizeToolbar:function(){this.$f.forceResizeToolbar()},resizeAppBanner:function(e){if(ss.isValue(this.$e)){this.$e.get_rootElement().width(e.w)}},$9:function(){if(this.$d().get_appBannerViewModel().shouldShowAppBanner()){this.$e=tab.ObjectRegistry.newView(cq).call(null,[this.$d().get_appBannerViewModel()]);this.$e.get_rootElement().insertBefore(O.selectCenteringContainer()).width(O.getClientBounds().w)}},$c:function(){this.$g=tab.ObjectRegistry.newView(eK).call(null,[this.$d().get_workbookViewModel()]);this.$g.addToDom(this.get_dom().domNode)},$a:function(){if(ss.isNullOrUndefined(this.$d().get_toolbarViewModel())||!tsConfig.toolbarContainerVis){return}{var e=tabBootstrap.MetricsController.createContext('TBRADD'.toString(),64,null);try{this.$f=tab.ObjectRegistry.newView(eg).call(null,[this.$d().get_toolbarViewModel()]);this.$f.addToDom(this.get_toolbarContainer());this.get_toolbarContainer().height(tabBootstrap.VizLayoutConstants.get_vizToolbarHeight()).toggleClass('bottom',eh.get_toolbarIsBottom())}finally{if(ss.isValue(e)){e.dispose()}}}},$b:function(){if(ss.isNullOrUndefined(this.$d().get_toolbarViewModel())||ss.isNullOrUndefined(this.$d().get_toolbarViewModel().get_dialogHostViewModel())){return}var e=this.$d().get_toolbarViewModel().get_dialogHostViewModel();var eQ=tab.ObjectRegistry.newView(ss.makeGenericType(spiff.ReactHostView$3,[bI,bH,Object])).call(null,[e]);eQ.addToDom(this.get_toolbarContainer());eQ.addClass('tab-toolbar-dialoghost');if(tab.FeatureFlags.isEnabled('ViewingToolbarModalDialog')||tsConfig.is_mobile_app){$(document.body).addClass('ff-ViewingToolbarModalDialog')}}},ss.makeGenericType(spiff.BaseView$1,[P]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[P])]);ss.initInterface(cr,a,{get_domNode:null,get_isDashboard:null,get_vizSize:null,get_session:null,get_viewControllers:null,get_applicationPresModel:null,get_toolbarContainer:null,get_toolbarDisplayed:null,set_toolbarDisplayed:null,get_toolbarCommands:null,get_customViewsViewModel:null,destroyRecursive:null,startup:null,doResize:null});ss.initInterface(cp,a,{get_flipboardNavigatorViewModel:null,get_containedSheetName:null,get_containedSheetType:null,get_containedSheetZoneId:null,get_containedDashboardZones:null,get_hasContainedSheet:null});ss.initClass(O,a,{get_flipboardNavigatorViewModel:function(){if(ss.isValue(this.$v)&&ss.isValue(this.$v.get_dashboardViewModel())){return this.$v.get_dashboardViewModel().get_flipboardNavigatorViewModel()}return null},get_hasContainedSheet:function(){return ss.isValue(this.get_containedSheetZoneId())},get_containedSheetName:function(){var e=this.$q();if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.get_dashboardViewModel())||ss.isNullOrUndefined(e.get_dashboardViewModel().dashboardModel)){return null}return e.get_dashboardViewModel().dashboardModel.get_sheetName()},get_containedSheetZoneId:function(){var e=this.$q();if(ss.isNullOrUndefined(e)||e.get_flipboardModel()===null){return null}return e.get_flipboardModel().get_zoneId()},get_containedSheetType:function(){var e=this.$q();if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.get_flipboardModel())||ss.isNullOrUndefined(e.get_flipboardModel().get_storyPointModel())){return'worksheet'}return(e.get_flipboardModel().get_storyPointModel().get_isBackingSheetDashboard()?'dashboard':'worksheet')},get_containedDashboardZones:function(){var e=this.$q();if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.get_dashboardViewModel())||ss.isNullOrUndefined(e.get_dashboardViewModel().dashboardModel)||ss.isNullOrUndefined(e.get_dashboardViewModel().dashboardModel.pm)){return null}return e.get_dashboardViewModel().dashboardModel.pm.zones},get_autoUpdate:function(){return tab.ApplicationModel.get_instance().get_autoUpdate()},set_autoUpdate:function(e){tab.ApplicationModel.get_instance().set_autoUpdate(e)},get_isDashboard:function(){return this.$p().get_isDashboard()},$s:function(){return tabBootstrap.VizLayoutConstants.get_shouldShowTabs()},get_vizSize:function(){return tab.ApplicationModel.get_instance().get_workbook().get_outerDashboardSize()},get_session:function(){return this.session},get_applicationPresModel:function(){return tab.ApplicationModel.get_instance().get_appPresModel()},get_viewControllers:function(){var e=this.$o();if(ss.isValue(e)){return e.viewControllers}return[]},get_toolbarDisplayed:function(){return tabBootstrap.ViewerBootstrap.get_instance().toolbarDisplayed},set_toolbarDisplayed:function(e){tabBootstrap.ViewerBootstrap.get_instance().toolbarDisplayed=e;if(ss.isValue(this.get_toolbarContainer())){this.get_toolbarContainer().toggle(e)}},get_invalid:function(){return tab.ApplicationModel.get_instance().get_invalid()},set_invalid:function(e){tab.ApplicationModel.get_instance().set_invalid(e)},get_skipInit:function(){return this.skipInit},get_toolbarCommands:function(){return this.$C},get_customViewsViewModel:function(){if(ss.isValue(this.get_toolbarViewModel())){return this.get_toolbarViewModel().get_customViewsViewModel()}else{return null}},get_toolbarViewModel:function(){if(ss.isValue(this.$v)){return this.$v.get_toolbarViewModel()}else{return null}},$r:function(){return tab.Logger.getLoggerWithName(ss.getTypeName(O)+tsConfig.layoutid)},$q:function(){if(ss.isValue(this.$v)&&ss.isValue(this.$v.get_dashboardViewModel())){return this.$v.get_dashboardViewModel().get_flipboardViewModel()}return null},$t:function(){return(ss.isValue(this.$v)?this.$v.get_workbookViewModel():null)},$p:function(){if(ss.isValue(this.$v)){return this.$v.get_dashboardViewModel()}return null},$o:function(){if(ss.isValue(this.$v)){return this.$v.get_contentDashboardViewModel()}return null},get_domNode:function(){return this.$u.get_dom().domNode},get_toolbarContainer:function(){return this.$u.get_toolbarContainer()},get_vizClientContainerSize:function(){var e=document.getElementById('viz-client-container');return{w:e.clientWidth,h:e.clientHeight}},startup:function(){this.$v=new P(tab.ApplicationModel.get_instance());this.$u=tab.ObjectRegistry.newView(N).call(null,[this.$v]);this.$v.add_applicationUpdate(ss.mkdel(this,this.$h));this._connections.push(new tab.CallOnDispose(ss.mkdel(this,function(){this.$v.remove_applicationUpdate(ss.mkdel(this,this.$h))})));this.setupDomAndEvents();if(this.$v.get_shouldShowRightAreaDrawer()){L.get_instance().initRightAreaDrawer()}this.resize(false)},destroyRecursive:function(){this.destroy()},destroy:function(){this.$A=tab.MiscUtil.clearTimeout(this.$A);this.$C.dispose();this.$C=null;for(var e=0;e<this._connections.length;e++){var eQ=this._connections[e];eQ.dispose()}ss.clear(this._connections);if(ss.isValue(this.$v)){this.$v.dispose();this.$v=null}$('body').off(this.createNamespacedEventName('mouseenter')).off(this.createNamespacedEventName('mouseleave'));this.$u.dispose();this.$u=null;this.dispose()},doResize:function(){if(!tabBootstrap.ViewerBootstrap.get_instance().get_hasBootstrapCompleted()){this.$B++}this.$k(!this.$w)},$6:function(e){tab.ModuleManager.load(tab.IPdfExportDialogModule).call(null,[]).done(ss.mkdel(this,function(eQ){var eR=eQ.createPdfExportDialog(this.get_session(),tsConfig.is_mobile);e(eR)}))},resize:function(e){if(!e&&ss.isValue(this.$z)){var eQ=null;if(!tab.FeatureFlags.isEnabled('IframeSizedToWindow')||tsConfig.isPublic){eQ=tabBootstrap.ViewerBootstrap.get_instance().getWebClientDashboardContainerSize(tsConfig.current_sheet_type)}else{eQ=this.get_vizClientContainerSize()}if(eQ.w===this.$z.w&&eQ.h===this.$z.h){this.$y=false;return}if(this.$y){this.$z=eQ;this.$y=false;return}this.$y=true}else{this.$y=false}this.doResize()},$a:function(){tab.CommandController.get().resetInvalidationHandlers();tab.CommandController.get().add_onUrlActionsResponse(tab.ActionUtils.launchActionUrls);this._connections.push(new tab.CallOnDispose(function(){tab.CommandController.get().remove_onUrlActionsResponse(tab.ActionUtils.launchActionUrls)}));tab.CommandController.get().add_onInvalidation(ss.mkdel(this,this.$g));this._connections.push(new tab.CallOnDispose(ss.mkdel(this,function(){tab.CommandController.get().remove_onInvalidation(ss.mkdel(this,this.$g))})));tab.CommandController.get().add_onPrimaryBootstrapSuccess(ss.mkdel(this,this.$e));this._connections.push(new tab.CallOnDispose(ss.mkdel(this,function(){tab.CommandController.get().remove_onPrimaryBootstrapSuccess(ss.mkdel(this,this.$e))})))},$i:function(e){if(tsConfig.is_authoring&&tsConfig.current_sheet_type!=='worksheet'){if(ss.referenceEquals(e.target,this.get_domNode().get(0))||ss.referenceEquals(e.target,this.$u.get_dashboardNode().get(0))||ss.referenceEquals(e.target,this.$u.get_containerNode().get(0))||ss.referenceEquals(e.target,eK.findDashboardContainer().get(0))){tab.SelectionClientCommands.clearActiveZone()}return}if(ss.isValue(e.target)){if(ss.referenceEquals(e.target,this.get_domNode().get(0))||ss.referenceEquals(e.target,this.$u.get_dashboardNode().get(0))||$(e.target).hasClass('wcLayoutContainer')){var eQ=tab.ModelUtils.findActiveOrDefaultVisual();if(ss.isValue(eQ)){tab.SelectionClientCommands.clearAllSelections(eQ.get_visualId())}e.preventDefault()}}},setupDomAndEvents:function(){$('html').attr('lang',tsConfig.language).toggleClass('ie',tab.BrowserSupport.get_isIE());var e=(tab.FeatureFlags.isEnabled('IframeSizedToWindow')?$(N.applicationContainerSelector):$('#centeringContainer'));e.append(this.get_domNode());var eQ=new l;this.get_domNode().on(this.createNamespacedEventName('contextmenu'),ss.mkdel(this,this.$f)).on(this.createNamespacedEventName('mousedown'),ss.mkdel(eQ,eQ.$0)).on(this.createNamespacedEventName('mouseup'),ss.mkdel(eQ,eQ.$1));this._connections.push(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_domNode().off(this.createNamespacedEventName('contextmenu')).off(this.createNamespacedEventName('mousedown')).off(this.createNamespacedEventName('mouseup'))})));eQ.$6(ss.mkdel(this,this.$i));this._connections.push(new tab.CallOnDispose(ss.mkdel(this,function(){eQ.$7(ss.mkdel(this,this.$i))})));this.$u.onAddedToDom();this.session.get_waitHandler().unlock();this.get_toolbarContainer().toggle(this.get_toolbarDisplayed());this.$n();tab.BaseSession.linkTarget=tsConfig.linktarget;tab.AckbarEventsHelper.get().add_doLaunchAuthoring(ss.mkdel(this,this.$7));this._connections.push(new tab.CallOnDispose(ss.mkdel(this,function(){tab.AckbarEventsHelper.get().remove_doLaunchAuthoring(ss.mkdel(this,this.$7))})));this.$a();this.$t().add_newDashboard(ss.mkdel(this,this.sizeVizContainerToZoomInMobileEmbedMode));this._connections.push(new tab.CallOnDispose(ss.mkdel(this,function(){this.$t().remove_newDashboard(ss.mkdel(this,this.sizeVizContainerToZoomInMobileEmbedMode))})))},sizeVizContainerToZoomInMobileEmbedMode:function(){if(tsConfig.is_mobile_device&&!tsConfig.isVizPortal&&!tsConfig.isPublic&&ss.isValue(this.get_vizSize())){this.sizeVizContainerToVizSize()}},sizeVizContainerToVizSize:function(){$(N.vizContainerSelector).css({width:this.get_vizSize().w+'px',height:this.get_vizSize().h+tabBootstrap.VizLayoutConstants.get_tabsHeight()+tabBootstrap.VizLayoutConstants.get_displayToolbarHeight()+'px'})},$7:function(){tab.ToolbarServerCommands.launchEditing()},$9:function(){if(!ss.isNullOrEmptyString(tsConfig.primaryContentUrl)){return tsConfig.primaryContentUrl}if(ss.referenceEquals(window.self,window.top)){return null}var e=tableau.util.parseUri(document.referrer);if(!ss.isValue(e)||ss.isValue(e['hostname'])&&ss.referenceEquals(e['hostname'],window.location.hostname)){return null}return document.referrer},$h:function(){if(ss.isNullOrUndefined(this.$p())){return}tab.ModuleManager.registerModulesLoadedCallback(ss.mkdel(this,this.$n));if(!this.get_skipInit()&&!this.$x){this.session.get_waitHandler().onNextHide(ss.mkdel(this,this.$8));this.$l()}this.$x=true;if(!this.$s()){this.$c()}this.$u.resizeAppBanner(O.getClientBounds());this.resize(false)},$n:function(){},$l:function(){if(tsConfig.showLytebox){$('#primaryContent').attr('src',this.$9())}},$f:function(e){var eQ=$(e.target);if(eQ.filter('input[type=text]').length===0&&eQ.filter('textarea').length===0){e.preventDefault();e.stopPropagation()}},$e:function(){L.get_instance().initTabbedNavigation();this.$z=(tab.FeatureFlags.isEnabled('IframeSizedToWindow')?this.get_vizClientContainerSize():tabBootstrap.ViewerBootstrap.get_instance().getWebClientDashboardContainerSize(tsConfig.current_sheet_type));if(this.$B>1){this.$m()}},$g:function(e){var eQ=e.layoutStatus;this.set_invalid(!ss.isNullOrUndefined(eQ.invalidatedLayout)&&eQ.invalidatedLayout);if(ss.isValue(eQ.vizStateList)&&eQ.vizStateList.length>0){var eR=[];for(var eS=0;eS<eQ.vizStateList.length;eS++){var eT=eQ.vizStateList[eS];if(!ss.contains(eR,eT.sheet)&&eT.vizRegionRectList.length>0){eR.push(eT.sheet)}}var eU=this.get_viewControllers();for(var eV=0;eV<eR.length;eV++){var eW=eR[eV];var eX={$:eW};var eY=_.find(eU,ss.mkdel({name:eX},function(eZ){return ss.referenceEquals(eZ.get_sheetName(),this.name.$)}));if(ss.isValue(eY)){eY.$1(e)}}}},$k:function(e){var eQ=(e?0:1000);this.$A=tab.MiscUtil.clearTimeout(this.$A);this.$A=window.setTimeout(ss.mkdel(this,this.$j),eQ)},$j:function(){if(!this.session.get_waitHandler().isBusy()&&(!this.$w||ss.isValue(tsConfig.layoutid))&&ss.isValue(this.$v)){this.$b();return}this.$A=tab.MiscUtil.clearTimeout(this.$A);this.$A=window.setTimeout(ss.mkdel(this,this.$j),100)},$b:function(){var e=tab.FeatureFlags.isEnabled('IframeSizedToWindow');this.$z=(e?this.get_vizClientContainerSize():tabBootstrap.ViewerBootstrap.get_instance().getWebClientDashboardContainerSize(tsConfig.current_sheet_type));if(tsConfig.isPublic){var eQ=tabBootstrap.ViewerBootstrap.get_instance().getVizClientContainerSize(tsConfig.current_sheet_type);$(N.vizContainerSelector).css({width:eQ.w+'px',height:eQ.h+'px'})}this.$m();tab.CommandController.get().refreshLayout();this.$c();var eR=L.get_instance().get_tabbedNavigation();if(this.$s()&&ss.isValue(eR)){if(tsConfig.is_mobile_app){var eS=(e?this.get_vizClientContainerSize().w:O.getClientBounds().w);eR.get_widgetDomNode().style.width=eS+'px';if(tab.BrowserSupport.get_isIos()&&tab.BrowserSupport.get_iosVersion()<9){eR.get_widgetDomNode().style.maxWidth=$('body').width()+'px'}}eR.resizeShim()}this.$w=true},$c:function(){var e=(tab.FeatureFlags.isEnabled('IframeSizedToWindow')?this.get_vizClientContainerSize().w:O.getClientBounds().w);if(ss.isValue(this.$D)&&this.$D===e){return}this.$D=e;{var eQ=tabBootstrap.MetricsController.createContext('TBRLAY'.toString(),64,null);try{if(!tab.ApplicationModel.get_instance().get_showToolbar()){this.get_toolbarContainer().css('visibility','hidden')}else if(tsConfig.toolbarContainerVis){if(eh.get_toolbarIsBottom()&&!tab.FeatureFlags.isEnabled('IframeSizedToWindow')){this.get_domNode().after(this.get_toolbarContainer())}this.get_toolbarContainer().css('visibility','visible');if(tsConfig.is_mobile_app){this.get_toolbarContainer().css('width',this.$D+'px');if(tab.BrowserSupport.get_isIos()&&tab.BrowserSupport.get_iosVersion()<9){this.get_toolbarContainer().css('max-width',tab.DoubleUtil.roundToInt($('body').width()))}}else if(!tab.FeatureFlags.isEnabled('IframeSizedToWindow')){if(eh.get_toolbarIsBottom()||!this.$s()){this.get_toolbarContainer().css('max-width',this.$D+'px')}this.$u.resizeToolbar()}}}finally{if(ss.isValue(eQ)){eQ.dispose()}}}},$m:function(){if(!tabBootstrap.ViewerBootstrap.get_instance().get_hasBootstrapCompleted()||this.skipInit&&!this.$w){return}var e=null;if(tab.FeatureFlags.isEnabled('IframeSizedToWindow')){e=tab.DashboardSizeCalculator.asSizePresModel(tab.DashboardSizeCalculator.get_dashboardViewportSize())}else{var eQ=O.getClientBounds();e={w:eQ.w,h:eQ.h}}tab.SheetClientCommands.setPortSize(e)},$d:function(){var e={};e['t']=tabBootstrap.MetricsController.getTiming();e['d']='APPINT'.toString();var eQ=new tabBootstrap.MetricsEvent('gen',2,e);tabBootstrap.MetricsController.logEvent(eQ);tab.BrowserSupport.doPostMessageWithContext('tableau.responsive')},$8:function(){var e=(tab.ProgressiveLoader.get_progressiveLoadEnabled()?150:450);this.$d();var eQ=$('#staticImage');var eR=$('#loadingGlassPane');var eS=$('#loadingSpinner');var eT=$('#svg-spinner-container');if(tsConfig.animateTransition){this.session.get_waitHandler().loadingElementFadeOut(eS,e,function(eU){eU.hide();eT.css('background','rgba(255,255,255,0.6)')});this.session.get_waitHandler().loadingElementFadeOut(eR,e,function(eU){eU.hide().css('cursor','default')});if(eQ.length>0){this.session.get_waitHandler().loadingElementFadeOut(eQ,e,function(eU){eU.hide()})}}else{eS.hide();eQ.hide();eR.hide()}}},spiff.Widget,[tab.IWidget,tab.IAppendableView,ss.IDisposable,cr,cp]);ss.initClass(P,a,{add_applicationUpdate:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_applicationUpdate:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_dashboardViewModel:function(){return this.$8.get_dashboardViewModel()},get_contentDashboardViewModel:function(){return this.$8.get_contentDashboardViewModel()},get_workbookViewModel:function(){return this.$8},get_appBannerViewModel:function(){return this.$5},get_toolbarViewModel:function(){return this.$7},get_shouldShowCommenting:function(){var e=!tsConfig.is_authoring&&!tsConfig.is_mobile_app&&tsConfig.commentingEnabled&&tab.FeatureFlags.isEnabled('CommentingPane')&&tab.FeatureFlags.isEnabled('CommentingOnSingleVizWithContext')&&tsConfig.allow_commenting&&tsConfig.allow_view_comments;return e},get_shouldShowRightAreaDrawer:function(){return this.get_shouldShowCommenting()},$3:function(){tab.CommandController.get().get_legacySession().performPostLoadOperations(tsConfig.current_sheet_name,ss.mkdel(this,this.$4))},dispose:function(){if(ss.isValue(this.$7)){this.$7.dispose()}this.$5.dispose();this.$2();this.$6.remove_newWorkbook(ss.mkdel(this,this.handleNewWorkbook));spiff.BaseViewModel.prototype.dispose.call(this)},handleNewWorkbook:function(e){this.$2();this.$8=new eL(e)},$2:function(){if(ss.isValue(this.$8)){this.$8.dispose();this.$8=null}},handleApplicationUpdate:function(){this.raiseActionEvent(this.$2$1)},$4:function(e){var eQ=e;if(ss.isValue(eQ['viewCount'])){this.get_toolbarViewModel().set_viewCount(parseInt(eQ['viewCount'],10))}}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel]);ss.initClass(Q,a,{$c:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},$d:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},$a:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},$b:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},dismiss:function(){this.element.remove()},$8:function(){this.$9.label.text(tab.Strings.AreYouSureText);var e=spiff.StyledTextButton.createUnificationLabelButton(ss.mkdel(this,this.$6),tab.Strings.AreYouSureCancel,null,2,null);this.disposables.add$1(e);this.$9.cancelButton.append(e.element);var eQ=spiff.StyledTextButton.createUnificationLabelButton(ss.mkdel(this,this.$7),tab.Strings.AreYouSureDelete,null,1,null);this.disposables.add$1(eQ);this.$9.confirmButton.append(eQ.element)},$6:function(){this.dismiss();if(ss.isValue(this.$2$2)){this.$2$2()}},$7:function(){this.dismiss();if(ss.isValue(this.$2$1)){this.$2$1()}}},spiff.Widget,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(R,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(U,a,{get_retryWithMessageViewName:function(){return ss.formatString('/{0}/dataSourceGenericErrorView.html',tsConfig.language)},onAuthDialogMessage:function(e,eQ){if(ss.isNullOrUndefined(e)){return}var eR=e;var eS=eR.data.toString();if(ss.isNullOrEmptyString(eS)||!ss.equalsT(eS,'tableau.authCompleted')){return}if(!ss.equalsT(tab.BrowserSupport.getOrigin(document.location),eR.origin)){return}this.cleanup(eQ);if(ss.isValue(this.onProceed)){this.onProceed()}},show:null,cleanup:null});ss.initClass(T,a,{cleanup:function(e){var eQ=document.getElementById('auth-overlay');if(!ss.isNullOrUndefined(eQ)){eQ.parentElement.removeChild(eQ)}if(ss.isValue(e)){if(ss.isValue(e.onTabSelectHandle)){e.onTabSelectHandle.dispose()}tab.WindowHelper.removeListener(window.self,'message',e.eventHandler);if(ss.isValue(e.zoneBecameValidHandler)){e.zoneBecameValidHandler.dispose()}}}},U);ss.initClass(S,a,{show:function(){this.createOverlay();var e=new bZ;var eQ=ss.mkdel(this,function(){this.cleanup(e)});eN.add_zoneBecameValid(eQ);e.zoneBecameValidHandler=new tab.CallOnDispose(function(){eN.remove_zoneBecameValid(eQ)});var eR=ss.mkdel(this,function(eT){this.onAuthDialogMessage(eT,e)});e.eventHandler=eR;var eS=ss.mkdel(this,function(){this.cleanup(e)});tab.CommandController.add_sheetNameChanged(eS);e.onTabSelectHandle=new tab.CallOnDispose(function(){tab.CommandController.remove_sheetNameChanged(eS)});tab.WindowHelper.addListener(window.self,'message',eR)},createOverlay:function(){var e=$('.dashboardSpacer');var eQ=$("<div id='auth-overlay'></div>");var eR=document.createElement('iframe');eR.setAttribute('src',this.$0);eR.setAttribute('tb-test-id','dse-frame');eQ.append(eR);e.append(eQ)}},T);ss.initInterface(cx,a,{add_fontsReady:null,remove_fontsReady:null,add_fontDownloading:null,remove_fontDownloading:null,reset:null,addFonts:null,downloadFonts:null,finishDownloadingFonts:null});ss.initClass(W,a,{add_fontsReady:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_fontsReady:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_fontDownloading:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_fontDownloading:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},reset:function(){},addFonts:function(e){for(var eQ=0;eQ<e.length;eQ++){var eR=e[eQ];tab.StyleUtil.appendCSSRuleToStyleSheet$1('tab-simpleFontLoader','@font-face',eR.toCSSRules())}},downloadFonts:function(){if(!ss.staticEquals(this.$1$2,null)){this.$1$2()}},finishDownloadingFonts:function(){tab.StartupUtils.callAfterBootstrap(ss.mkdel(this,function(){this.$0()}))},$0:function(){if(!ss.staticEquals(this.$1$1,null)){this.$1$1()}}},null,[cx]);ss.initClass(X,a,{get_dimensions:function(){return this.$0},translatePositionToViewport:function(e){var eQ={x:e.x,y:e.y};X.$0(eQ);eQ.y-=this.$0.t;eQ.x-=this.$0.l;return eQ},getVisibleRoom:function(e,eQ){var eR=this.translatePositionToViewport(e);var eS=function(eX){return Math.max(0,eX-eQ)};var eT=eS(Math.min(this.get_dimensions().w-eR.x,window.pageXOffset+window.innerWidth-e.x));var eU=eS(Math.min(eR.x,e.x));var eV=eS(Math.min(eR.y,e.y));var eW=eS(Math.min(this.get_dimensions().h-eR.y,window.pageYOffset+window.innerHeight-e.y));return{roomAbove:eV,roomBelow:eW,roomLeft:eU,roomRight:eT}},getDocumentViewport:function(e){var eQ=this.getVisibleRoom(e,0);return{l:ss.Int32.trunc(e.x-eQ.roomLeft),t:ss.Int32.trunc(e.y-eQ.roomAbove),w:ss.Int32.trunc(eQ.roomLeft+eQ.roomRight),h:ss.Int32.trunc(eQ.roomAbove+eQ.roomBelow)}}},null,[tab.IBrowserViewport]);ss.initClass(Y,a,{get_renderOffset:function(){return this.$7},set_renderOffset:function(e){this.$7=e;this.get_currentContext().translate(-this.$7.x,-this.$7.y)},get_currentCanvas:function(){return(this.$6?this.$3:this.$0)},get_currentContext:function(){return(this.$6?this.$4:this.$1)},get_visibleRect:function(){if(ss.isValue(this.cachedVisibleRect)){return this.cachedVisibleRect}var e=Y.$5(this.get_currentCanvas(),this.get_currentCanvas().width);var eQ=Y.$4(this.get_currentCanvas(),this.get_currentCanvas().height);return{x:this.$7.x,y:this.$7.y,w:e,h:eQ}},clear:function(){this.clearRect(this.get_visibleRect())},reset:function(){this.$6=false;this.$4=null;this.$3=null;this.get_currentContext().reset();this.$7={x:0,y:0};this.clearPrevTextRunInfo()},setRenderOffsetNoTranslate:function(e){this.$7=e},clearRect:function(e){this.get_currentContext().clearRect(e.x,e.y,e.w,e.h)},isRectVisible:function(e){return tab.RectXYUtil.intersectsWith(e,this.get_visibleRect())},beginOffScreenRender:function(e){if(this.$6){return}if(ss.isValue(e)){this.$2=tab.RectXYUtil.intersect(e,this.get_visibleRect())}else{this.$2=this.get_visibleRect()}if(ss.isNullOrUndefined(this.$3)){this.$3=document.createElement('canvas');var eQ={w:this.$0.width,h:this.$0.height};var eR={w:Y.$5(this.$0,0),h:Y.$4(this.$0,0)};Z.densifyCanvasUsingSize(this.$3,eQ,eR)}if(ss.isNullOrUndefined(this.$4)){this.$4=Y.getRenderContext(this.$3,'transparent')}else{this.$4.reset()}var eS=this.$0.width/Y.$5(this.$0,this.$0.width);if(eS!==1){Z.scaleCanvasDrawing(this.$4,eS)}this.$4.setTransform(this.$1.get_transformation());this.$6=true;var eT=tab.RectXYUtil.outsetRect(this.$2,1,1);tab.RectXYUtil.intersectInPlace(eT,this.get_visibleRect());this.clearRect(eT)},endOffScreenRender:function(e){if(!this.$6){return}this.$6=false;this.$1.save();this.$1.set_alpha(e);this.$1.resetTransform();if(ss.isNullOrUndefined(this.$2)){this.$1.drawImage1(this.$3,0,0)}else if(!tab.RectXYUtil.isEmpty(this.$2)){var eQ=this.$1.pixelRatio;var eR=Math.max(0,Math.floor((this.$2.x-this.$7.x)*eQ));var eS=Math.max(0,Math.floor((this.$2.y-this.$7.y)*eQ));var eT=Math.min(this.$0.width,Math.ceil(this.$2.w*eQ));var eU=Math.min(this.$0.height,Math.ceil(this.$2.h*eQ));this.$1.drawImage5(this.$3,eR,eS,eT,eU,eR,eS,eT,eU)}this.$1.restore()},renderFilledRectangle:function(e,eQ,eR,eS,eT){var eU=eR/2;var eV=eS/2;var eW=this.get_currentContext();eW.set_shapeFillStyle(eT);eW.fillRect(e-eU,eQ-eV,eR,eS)},renderFilledWedge:function(e,eQ,eR,eS,eT,eU,eV){var eW=Y.toCanvasAngle(eS);var eX=Y.toCanvasAngle(eT);if(Math.abs(eX-eW)<Y.angleEpsilon){return}if(ss.isNullOrUndefined(eV)){eV=false}var eY=this.get_currentContext();eY.beginPath();eY.moveTo(e,eQ);eW=Y.$6(eW);eX=Y.$6(eX);eY.arc(e,eQ,eR,eW,eX,eV);eY.closePath();eY.set_shapeFillStyle(eU);eY.fill()},createStyleSettersAndSetDominantStyle:function(e){if(ss.isNullOrUndefined(e)){return function(eS){}}var eQ=[];e.forEach(ss.mkdel(this,function(eS,eT){var eU=true;var eV=eS.v[(eS.c?0:0)];for(var eW=1;eW<eS.length;++eW){if(!ss.referenceEquals(eV,eS.v[(eS.c?0:eW)])){eU=false;break}}if(eU){this.setTextStyleProperty(eT,eV)}else if(eT!=='text_style_color'){eQ.push(eT)}}));var eR=ss.mkdel(this,function(eS){for(var eT=0;eT<eQ.length;eT++){var eU=eQ[eT];var eV=e.get(eU);this.setTextStyleProperty(eU,eV.v[(eV.c?0:eS)])}});return eR},setTextStyleProperty:function(e,eQ){switch(e){case'font':{this.get_currentContext().set_font(eQ);break}case'text_orientation':{this.get_currentContext().set_textAngle(eQ);break}case'text_alignment':{this.get_currentContext().set_textAlign(eQ);break}case'alpha':case'text_style_color':{break}case'text_decoration':{this.get_currentContext().set_shouldUnderlineText(!!eQ);break}default:{break}}},renderText:function(e,eQ,eR,eS,eT,eU){if(eU&&ss.isValue(this.$5)&&this.$5.$0(eQ,eR)){var eV=this.$5.$1(eQ,eR);eQ=eV.x;eR=eV.y}else{this.clearPrevTextRunInfo()}if(ss.isValue(eT)){this.get_currentContext().set_textFillStyle(eT)}if(eS>0){if(!eU){e=ss.trimEndString(e)}this.get_currentContext().fillText2(e,eQ,eR,eS)}else{this.get_currentContext().fillText1(e,eQ,eR)}if(eU){var eW=this.get_currentContext().measureText(e).width;var eX=this.get_currentContext().get_textAlign()==='end';var eY=this.get_currentContext().get_textAngle();var eZ;if(eY>1){eZ='down'}else if(eY<-1){eZ='up'}else{eZ='horizontal'}this.$5=new j(eQ,eR,eW,eX,eZ)}else{this.clearPrevTextRunInfo()}},clearPrevTextRunInfo:function(){this.$5=null},strokeCurrentPath:function(e,eQ){var eR=this.get_currentContext();eR.set_lineWidth(e);eR.set_strokeStyle(eQ);eR.stroke()},fillCurrentPath:function(e){var eQ=this.get_currentContext();eQ.set_shapeFillStyle(e);eQ.fill()}});ss.initClass(Z,a,{});ss.initClass(ba,a,{},ss.EventArgs);ss.initClass(bb,a,{showAlertDialog:function(e,eQ,eR,eS){var eT=bb.$0();var eU={content:e,title:eQ,contentSelectable:eR,onDialogCloseRequested:function(){ReactDOM.unmountComponentAtNode(eT)},additionalLinks:eS};if(eR){bc.$1(eQ,e,eS)}var eV=React.createElement(dG,eU);ReactDOM.render(eV,eT)},showConfirmationDialog:function(e,eQ,eR,eS,eT){var eU=bb.$0();var eV={content:e,title:eQ,contentSelectable:eR,dialogButtons:[],onDialogCloseRequested:function(){ReactDOM.unmountComponentAtNode(eU)}};if(eR){bc.$1(eQ,e,null)}eV.dialogButtons.push({buttonClickHandler:eS,buttonText:tab.Strings.DialogYesButtonText,testId:'YesBtn',buttonType:5});eV.dialogButtons.push({buttonClickHandler:eT,buttonText:tab.Strings.DialogNoButtonText,testId:'NoBtn',buttonType:3});var eW=React.createElement(dG,eV);ReactDOM.render(eW,eU)},showErrorDialog:function(e,eQ){var eR=bb.$0();var eS={content:e,title:eQ,contentSelectable:true,dialogButtons:[{buttonClickHandler:null,buttonText:tab.Strings.DialogButtonOK,testId:'OKBtn',buttonType:2}],onDialogCloseRequested:function(){ReactDOM.unmountComponentAtNode(eR)},dialogWidth:250};bc.$1(eQ,e,null);var eT=React.createElement(dG,eS);ReactDOM.render(eT,eR)},showSheetAuthenticationOverlay:function(e,eQ){bc.$0('AuthenticationOverlay',e);var eR=new S(e,eQ);eR.show()},showGenericDataSourceErrorOverlay:function(e,eQ){bc.$0('GenericErrorOverlay',e);var eR=new cg(e,eQ);eR.show()},showSheetAuthenticationDialog:function(e,eQ){bc.$0('AuthenticationDialog',e);var eR=new bE(e,eQ);eR.show()},showGenericDataSourceErrorDialog:function(e,eQ){bc.$0('GenericErrorDialog',e);var eR=new cf(e,eQ);eR.show()},showFileDownloadDialog:function(e,eQ,eR,eS){var eT=new bN(e,eQ,eR,eS);eT.show()}},null,[tab.ICommonDialogProvider]);ss.initClass(bc,a,{});ss.initClass(bd,a,{reset:function(e){this.$2[e]=0;this.$1[e]=null},hold:function(e){if(!ss.keyExists(this.$2,e)){this.$2[e]=0}this.$2[e]+=1;return new bf(e,ss.mkdel(this,function(){this.$0(e)}))},$0:function(e){if(this.$2[e]<=0){return}this.$2[e]-=1;if(this.$2[e]===0&&!ss.staticEquals(this.$1[e],null)){this.$1[e]()}},addCompletedHandler:function(e,eQ){var eR=null;eR=ss.mkdel(this,function(){if(!ss.staticEquals(eQ,null)){eQ()}this.$1[e]=ss.delegateRemove(this.$1[e],eR)});this.$1[e]=ss.delegateCombine(this.$1[e],eR)}});ss.initEnum(be,a,{unspecified:0,twoPassRendering:1});ss.initClass(bf,a,{dispose:function(){if(!ss.staticEquals(this.$0,null)){this.$0();this.$0=null}}},null,[ss.IDisposable]);ss.initClass(bg,a,{handleWidgetPropertyChanged:function(e,eQ){},updateWidgetState:function(e){}},ss.makeGenericType(spiff.ReactSpiffAdapter$3,[bj,bh,Object]));ss.initClass(bh,a,{});ss.initClass(bi,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(bj,a,{get_dom:function(){return this.get_template()},dispose:function(){this.get_viewModel().exitManageMode();this.get_viewModel().remove_customViewListChanged(ss.mkdel(this,this.$P));ss.makeGenericType(spiff.BaseView$1,[bk]).prototype.dispose.call(this)},$a:function(){this.$k();this.$f();this.$g();this.$e()},$k:function(){var e=tab.DoubleUtil.parseDouble(tab.DomUtil.getComputedStyle(this.get_dom().saveViewArea[0]).height);this.get_dom().saveViewArea.empty();if(this.get_viewModel().get_mode()===bk.modeSelect){if(tsConfig.allow_custom_view_save){var eQ=$('<span/>').addClass('tab-cv-viewNameInputWrapper');this.$15=this.$r();eQ.append(this.$15.get_inputElement());this.$14=this.$q();eQ.append(this.$14.element);this.get_dom().saveViewArea.append(eQ);this.$U();if(tsConfig.allow_custom_view_default){this.$X=this.$o(tab.Strings.ToolbarCustomViewsMakeItMyDefault,this.get_viewModel().$h());this.get_dom().saveViewArea.append(this.$X.element)}if(tsConfig.allow_custom_view_share){this.$12=this.$o(tab.Strings.ToolbarCustomViewsShareItWithOthers,this.get_viewModel().$i());this.get_dom().saveViewArea.append(this.$12.element)}}else{this.get_dom().saveViewArea.append(this.$j(tab.Strings.ToolbarCustomViewsSaveAreaFillerTextSelect))}}else{this.get_dom().saveViewArea.append(this.$j(tab.Strings.ToolbarCustomViewsSaveAreaFillerTextManage))}if(ss.isValue(e)){var eR=ss.coalesce(tab.DoubleUtil.parseDouble(tab.DomUtil.getComputedStyle(this.get_dom().saveViewArea[0]).height),0);this.get_dom().saveViewArea.height(Math.max(ss.unbox(e),eR)+'px')}},$f:function(){this.get_dom().myViewsTitle.text(tab.Strings.ToolbarCustomViewsMyViews);this.get_dom().myViewsListArea.empty();if(ss.count(this.get_viewModel().get_myCustomViews())>0){var e=ss.getEnumerator(this.get_viewModel().get_myCustomViews());try{while(e.moveNext()){var eQ=e.current();var eR=this.$9(eQ,false);this.$10[ss.unbox(eQ.id)]=eR;this.$V(eQ);this.get_dom().myViewsListArea.append(eR)}}finally{e.dispose()}}else{this.$R(this.get_dom().myViewsListArea)}},$g:function(){this.get_dom().otherViewsTitle.text(tab.Strings.ToolbarCustomViewsOtherViews);this.get_dom().otherViewsListArea.empty();var e=this.$9(null,true);this.$11=e;this.$V(null);this.get_dom().otherViewsListArea.append(e);var eQ=ss.getEnumerator(this.get_viewModel().get_otherCustomViews());try{while(eQ.moveNext()){var eR=eQ.current();var eS=this.$9(eR,true);this.$10[ss.unbox(eR.id)]=eS;this.$V(eR);this.get_dom().otherViewsListArea.append(eS)}}finally{eQ.dispose()}},$e:function(){if(!tsConfig.allow_custom_view_default&&!tsConfig.allow_custom_view_save){this.get_dom().manageModeControlArea.hide();return}this.$Y=this.$b();this.get_dom().manageModeControlArea.append(this.$Y.element);this.$Z=this.$c();this.get_dom().manageModeControlArea.append(this.$Z.element);this.$T();this.get_viewModel().add_modeChanged(ss.mkdel(this,this.$J));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_viewModel().remove_modeChanged(ss.mkdel(this,this.$J))})))},$r:function(){var e=spiff.TextInputView.newTextInputView(this.get_viewModel().$k(),tab.Strings.ToolbarCustomViewsViewNamePlaceholder,null,false);e.get_inputElement().attr('maxlength',bk.maxCustomViewNameLength.toString());e.add_propertyChanged(ss.mkdel(this,this.$H));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$15.remove_propertyChanged(ss.mkdel(this,this.$H))})));e.add_enterKeyPressed(ss.mkdel(this,this.$D));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$15.remove_enterKeyPressed(ss.mkdel(this,this.$D))})));this.disposables.add$1(e);return e},$q:function(){var e=spiff.StyledTextButton.createUnificationLabelButton(ss.mkdel(this,this.$N),tab.Strings.ToolbarCustomViewsSave,null,0,null);this.disposables.add$1(e);return e},$o:function(e,eQ){var eR=spiff.LabelToggleButton.newCheckbox(e,false);eR.set_selected(eQ);this.disposables.add$1(eR);return eR},$R:function(e){var eQ=$('<div/>').addClass('tab-cv-emptyList').text(tab.Strings.ToolbarCustomViewsEmptyPlaceholder);e.append(eQ)},$j:function(e){return $('<div/>').addClass('tab-customViews-saveAreaTitle').text(e)},$9:function(e,eQ){var eR=$('<div/>').addClass('tab-cv-viewListItem');if(eQ){var eS=this.$h(e);eR.addClass('tab-cv-viewListItem-showOwner').append(eS)}else if(tsConfig.allow_custom_view_save){var eT=this.$m(e);eR.append(eT)}var eU=this.$d(e);eR.append(eU);eR.click(ss.mkdel(this,function(eV){this.$I(e)}));return eR},$d:function(e){var eQ=this.$u(e);var eR=$('<div/>').addClass('tab-cv-viewListItem-leftSide');var eS=this.$l(e);var eT=$('<span/>').addClass('tab-cv-viewListItem-viewName').text(eQ).attr('title',eQ);eR.append(eS);eR.append(' ');eR.append(eT);return eR},$l:function(e){var eQ=this.get_viewModel().isDefault(e);var eR=new spiff.IconButton;if(tsConfig.allow_custom_view_default){eR.addClass('tab-customViews-viewListItem-setDefaultButton');eR.onClick(ss.mkdel(this,function(eU){this.$O(e)}));var eS;var eT;if(eQ){eS='tab-icons-customView-toggled';eT=tab.Strings.ToolbarCustomViewsSetDefaultButtonTooltipWhenCurrent}else{eS='tab-icons-customView-menu';eT=tab.Strings.ToolbarCustomViewsSetDefaultButtonTooltip}eR.set_disabled(eQ);eR.setIcon(eS);eR.set_hoverTooltipText(eT)}this.disposables.add$1(eR);return eR.element},$h:function(e){var eQ=this.$v(e);var eR=$('<span/>').addClass('tab-cv-viewListItem-ownerName').text(eQ).attr('title',eQ);return eR},$m:function(e){var eQ=$('<div/>').addClass('tab-customViews-viewListItem-actionButtonWrapper');var eR=new spiff.IconButton;eR.addClass('tab-customViews-viewListItem-renameButton');eR.set_hoverTooltipText(tab.Strings.ToolbarCustomViewsRenameButtonTooltip);eR.setIcon('tab-icons-edit');eR.onClick(ss.mkdel(this,function(eU){this.$L(e)}));this.disposables.add$1(eR);eQ.append(eR.element);var eS=new spiff.IconButton;eS.addClass('tab-customViews-viewListItem-deleteButton');eS.set_hoverTooltipText(tab.Strings.ToolbarCustomViewsDeleteButtonTooltip);eS.setIcon('tab-icons-delete');eS.onClick(ss.mkdel(this,function(eU){this.$A(e)}));this.disposables.add$1(eS);eQ.append(eS.element);if(tsConfig.allow_custom_view_share){var eT=new spiff.IconButton;eT.addClass('tab-customViews-viewListItem-toggleHideButton');if(e.isPublic){eT.set_hoverTooltipText(tab.Strings.ToolbarCustomViewsHideViewButtonTooltipWhenPublic);eT.setIcon('tab-icons-view-public')}else{eT.set_hoverTooltipText(tab.Strings.ToolbarCustomViewsHideViewButtonTooltipWhenPrivate);eT.setIcon('tab-icons-view-private')}if(this.get_viewModel().get_mode()===bk.modeSelect){eT.set_disabled(true)}eT.onClick(ss.mkdel(this,function(eU){this.$K(e)}));this.disposables.add$1(eT);eQ.append(eT.element)}return eQ},$i:function(e,eQ){var eR=tab.DomUtil.getTransformScale(this.get_rootElement());var eS=$('<div/>').addClass('tab-customViews-rename-container');eS.click(ss.mkdel(this,this.$M));var eT=$('<div/>').addClass('tab-cv-viewListItem').width(eQ.width()/eR);var eU=$('<div/>').addClass('tab-customViews-viewListItem-actionButtonWrapper');var eV=new spiff.IconButton;eV.set_hoverTooltipText(tab.Strings.ToolbarCustomViewsRenameUIClearButtonTooltip);var eW=eV;eW.setIcon('tab-icons-canceledit');eW.onClick(ss.mkdel(this,function(fa){this.$z(eQ)}));eU.append(eW.element);eT.append(eU);eT.append(this.$p(e));eS.append(eT);this.get_dom().domRoot.append(eS);this.$13.get_inputElement().focus();var eX=eQ.position().top;var eY=eQ.position().left;if(!tsConfig.is_mobile){tab.DomUtil.selectAllInputText(this.$13.get_inputElement())}else{eX/=eR;eY/=eR;var eZ=eQ[0].parentElement;while(ss.isValue(eZ)&&eZ.style.position!=='absolute'&&eZ.style.position!=='relative'){eZ=eZ.parentElement}if(ss.isValue(eZ)){eX+=eZ.offsetTop;eY+=eZ.offsetLeft}}eT.css('top',eX+'px').css('left',eY+'px')},$p:function(e){var eQ=$('<div/>').addClass('tab-customViews-rename-inputWrapper');this.$13=spiff.TextInputView.newTextInputView(e,tab.Strings.ToolbarCustomViewsRenameUIPlaceholderText,null,false);this.$13.get_inputElement().attr('maxlength',bk.maxCustomViewNameLength.toString());this.$13.get_inputElement().addClass('tab-customView-rename-textInput');this.$13.add_enterKeyPressed(ss.mkdel(this,this.$C));this.$13.add_escapeKeyPressed(ss.mkdel(this,this.$F));eQ.append(this.$13.get_inputElement());return eQ},$s:function(e){if(this.$w()){this.$t(this.$x())}this.$W=e;var eQ=this.$x();eQ.children().hide();this.$i(e.name,eQ)},$t:function(e){if(!this.$w()){return}this.get_dom().domRoot.children('.tab-customViews-rename-container').remove();e.children().show();this.$W=null;this.$13.remove_enterKeyPressed(ss.mkdel(this,this.$C));this.$13.remove_escapeKeyPressed(ss.mkdel(this,this.$F));this.$13.dispose();this.$13=null},$b:function(){var e=spiff.StyledTextButton.createUnificationIconTextButton(ss.mkdel(this,this.$E),tab.Strings.ToolbarCustomViewsEnterManageButtonText,'tab-customViews-enterManageModeButton');this.disposables.add$1(e);return e},$c:function(){var e=spiff.StyledTextButton.createUnificationLabelButton(ss.mkdel(this,this.$G),tab.Strings.ToolbarCustomViewsExitManageButtonText,'tab-customViews-exitManageModeButton',0,null);this.disposables.add$1(e);return e},$U:function(){var e=!this.get_viewModel().shouldSaveButtonBeEnabled(this.$15);if(ss.isValue(this.$14)&&this.$14.get_disabled()!==e){var eQ=(e?tab.Strings.ToolbarCustomViewsSaveButtonDisabledTitle:'');this.$14.set_hoverTooltipText(eQ);this.$14.set_disabled(e)}},updateViewListsState:function(){if(ss.count(this.get_viewModel().get_myCustomViews())===0&&ss.count(this.get_viewModel().get_otherCustomViews())===0&&this.get_viewModel().get_mode()===bk.modeManage){this.get_viewModel().exitManageMode()}else{this.$k();this.$f();this.$g()}},$V:function(e){var eQ;if(this.get_viewModel().isOriginalView(e)){eQ=this.$11}else{eQ=this.$y(e)}if(this.get_viewModel().isDefault(e)){eQ.addClass('tab-cv-viewListItem-defaultView')}if(this.get_viewModel().isCurrentCustomView(e)){eQ.addClass('tab-cv-viewListItem-currentView')}if(ss.isValue(e)&&e.isPublic){eQ.addClass('tab-cv-viewListItem-publicView')}var eR=this.$u(e);eQ.children('.tab-cv-viewListItem-viewName').text(eR).attr('title',eR)},$T:function(){if(this.get_viewModel().get_mode()===bk.modeSelect){this.$Z.element.css('display','none');this.$Y.element.css('display','');if(this.get_viewModel().get_hasCustomViews()){this.$Y.set_disabled(false);this.$Y.set_hoverTooltipText(null)}else{this.$Y.set_disabled(true);this.$Y.set_hoverTooltipText(tab.Strings.ManageCustomViewsDisabledExplanation)}}else if(this.get_viewModel().get_mode()===bk.modeManage){this.$Y.element.css('display','none');this.$Z.element.css('display','');this.$Z.set_disabled(false)}},$P:function(e,eQ){this.updateViewListsState()},$N:function(){this.$S()},$S:function(){var e=this.get_viewModel().cleanCustomViewName(this.$15.get_text());if(!this.get_viewModel().isValidCustomViewName(e)){return}var eQ=this.get_viewModel().getMyCustomViewByName(e);if(ss.isNullOrUndefined(eQ)){eQ=new Object}eQ.name=e;eQ.isPublic=this.$n(this.$12);this.get_viewModel().save$1(eQ,null,function(eR){da.showNotification(tab.Strings.ToolbarCustomViewsErrorSavingView)},this.$n(this.$X));this.$15.get_inputElement().blur()},$H:function(e,eQ){if(ss.equalsT(eQ.get_propertyName(),'text')){this.$U()}},$D:function(){if(!this.$14.get_disabled()){this.$N()}},$I:function(e){if(this.get_viewModel().get_mode()===bk.modeSelect){this.get_viewModel().select(e);this.updateViewListsState()}},$O:function(e){this.get_viewModel().setDefault(e,ss.mkdel(this,function(eQ){this.updateViewListsState()}),function(eQ){da.showNotification(tab.Strings.ToolbarCustomViewsErrorSettingDefault)})},$A:function(e){var eQ=Q.create(null,ss.mkdel(this,function(){this.$B(e)}));this.get_dom().customViewsArea.append(eQ.element)},$B:function(e){this.get_viewModel().destroyCustomView(e,ss.mkdel(this,this.updateViewListsState),ss.mkdel(this,function(eQ){da.showNotification(tab.Strings.ToolbarCustomViewsErrorDeleting);this.updateViewListsState()}))},$z:function(e){this.$t(e)},$L:function(e){this.$s(e)},$C:function(){this.$Q()},$F:function(){this.$t(this.$x())},$M:function(e){var eQ=$(e.target);var eR=eQ.hasClass('tab-customView-rename-textInput');if(!eR){this.$Q()}},$Q:function(){var e=this.get_viewModel().cleanCustomViewName(this.$13.get_text());if(!this.get_viewModel().isValidCustomViewName(e)){da.showNotification(tab.Strings.ToolbarCustomViewsErrorInvalidName);return}var eQ=this.$x();if(ss.equalsT(e,this.$W.name)){this.$t(eQ);return}this.get_viewModel().updateCustomizedViewName(this.$W,e,ss.mkdel(this,function(eR){this.$t(eQ);this.updateViewListsState()}),ss.mkdel(this,function(eR){da.showNotification(tab.Strings.ToolbarCustomViewsErrorRenaming);this.$t(eQ);this.updateViewListsState()}))},$K:function(e){if(!ss.isValue(e)||this.get_viewModel().get_mode()!==bk.modeManage){return}this.get_viewModel().updateCustomizedViewPublicState(e,!e.isPublic,ss.mkdel(this,function(eQ){this.updateViewListsState()}),ss.mkdel(this,function(eQ){da.showNotification(tab.Strings.ToolbarCustomViewsErrorChangingPublicPrivateState);this.updateViewListsState()}))},$E:function(){this.get_viewModel().startManage()},$G:function(){this.get_viewModel().exitManageMode()},$J:function(e,eQ){var eR=this.get_viewModel().get_mode();if(eR===bk.modeManage){this.get_dom().customViewsArea.toggleClass('tab-customViews-inManageMode',true)}else if(eR===bk.modeSelect){this.get_dom().customViewsArea.toggleClass('tab-customViews-inManageMode',false)}this.$k();this.updateViewListsState();this.$T()},$w:function(){return ss.isValue(this.$W)},$y:function(e){if(ss.isNullOrUndefined(e)){return this.$11}else{return this.$10[ss.unbox(e.id)]}},$x:function(){return this.$y(this.$W)},$n:function(e){if(ss.isValue(e)){return e.get_selected()}else{return false}},$u:function(e){var eQ;if(this.get_viewModel().isOriginalView(e)){eQ=tab.Strings.CustomViewsOriginalView}else{eQ=e.name}if(this.get_viewModel().isDefault(e)){eQ=tab.Strings.ToolbarCustomViewsDefault(eQ)}return eQ},$v:function(e){var eQ;if(this.get_viewModel().isOriginalView(e)){eQ=tsConfig.workbook_owner_friendly_name}else{eQ=e.owner.friendlyName}return eQ}},ss.makeGenericType(spiff.BaseView$1,[bk]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[bk])]);ss.initInterface(ct,a,{add_hideDialogRequested:null,remove_hideDialogRequested:null,onDialogHidden:null},[ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initClass(bk,a,{add_modeChanged:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_modeChanged:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_customViewListChanged:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_customViewListChanged:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_defaultCustomViewChanged:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_defaultCustomViewChanged:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_customViewDestroyed:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_customViewDestroyed:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},add_dirtyChanged:function(e){this.$2$5=ss.delegateCombine(this.$2$5,e)},remove_dirtyChanged:function(e){this.$2$5=ss.delegateRemove(this.$2$5,e)},add_hideDialogRequested:function(e){this.$2$6=ss.delegateCombine(this.$2$6,e)},remove_hideDialogRequested:function(e){this.$2$6=ss.delegateRemove(this.$2$6,e)},add_propsUpdated:function(e){},remove_propsUpdated:function(e){},get_mode:function(){return this.$p},get_myCustomViews:function(){return this.$q},get_otherCustomViews:function(){return this.$r},get_currentCustomView:function(){return this.$l},get_defaultCustomViewId:function(){return this.$n},get_currentCustomViewName:function(){return this.$m},get_hasCustomViews:function(){return this.$q.length>0||this.$r.length>0},get_dirty:function(){return tab.ApplicationModel.get_instance().get_workbook().get_isCurrentDashboardModified()},get_viewType:function(){return bj},get_viewModel:function(){return this},get_props:function(){var e=tab.Strings.CustomViewsDialogTitle;var eQ=!tsConfig.is_mobile;var eR=new bh;eR.viewModel=this;return{title:e,testId:'customViews',type:0,showCloseButton:true,positioningBehavior:0,isModal:true,isGlassTransparent:false,showFooter:false,shouldAdjustPositionOnWindowResize:eQ,shouldRecenterOnUpdate:true,children:React.createElement(bg,eR)}},$j:function(){return!this.isOriginalView(this.get_currentCustomView())&&this.belongsToCurrentUser(this.get_currentCustomView())},$k:function(){return(this.$j()?this.get_currentCustomView().name:'')},$h:function(){return this.$j()&&this.isDefault(this.get_currentCustomView())},$i:function(){return this.$j()&&this.get_currentCustomView().isPublic},isDefault:function(e){if(tsConfig.allow_custom_view_default){if(this.isOriginalView(e)){return ss.isNullOrUndefined(this.$n)}else{return ss.isValue(this.$n)&&ss.unbox(this.$n)===ss.unbox(e.id)}}else{return false}},isOriginalView:function(e){return ss.isNullOrUndefined(e)},belongsToCurrentUser:function(e){return ss.isValue(e.owner)&&e.owner.id===tsConfig.current_user_id},isCurrentCustomView:function(e){if(this.isOriginalView(e)){return this.isCurrentCustomViewTheOriginalView()}else{return ss.isValue(tsConfig.current_custom_view_id)&&ss.unbox(tsConfig.current_custom_view_id)===ss.unbox(e.id)}},isCurrentCustomViewTheOriginalView:function(){return ss.isValue(tsConfig.current_custom_view_id)===false},shouldSaveButtonBeEnabled:function(e){return this.isValidCustomViewName(this.cleanCustomViewName(e.get_text()))},isValidCustomViewName:function(e){var eQ=this.cleanCustomViewName(e);return eQ.length>0&&eQ.length<=bk.maxCustomViewNameLength},cleanCustomViewName:function(e){return e.trim().substr(0,bk.maxCustomViewNameLength)},$4:function(){this.raiseActionEvent(this.hideView);this.raiseActionEvent(this.$2$6)},save:function(e,eQ,eR){var eS=this.getMyCustomViewByName(e);if(ss.isNullOrUndefined(eS)){eS=new Object;eS.name=e}this.save$1(eS,eQ,eR,false)},save$1:function(e,eQ,eR,eS){this.$s.saveCustomizedView(e,ss.mkdel(this,function(eT){var eU=ss.mkdel(this,function(eV){this.$c(eV);if(ss.isValue(eQ)){eQ(eV)}});if(eS){this.setDefault(eT,eU,function(eV){eU(eT)})}else if(this.isDefault(eT)){this.setDefault(null,function(eV){eU(eT)},function(eV){eU(eT)})}else{eU(eT)}}),ss.mkdel(this,function(eT){this.$b(eT);if(ss.isValue(eR)){eR(eT)}}))},getMyCustomViewByName:function(e){var eQ=null;for(var eR=0;eR<this.$q.length;eR++){var eS=this.$q[eR];if(ss.equalsT(eS.name,e)){eQ=eS}}return eQ},select:function(e){if(this.isOriginalView(e)){this.$s.navigateToOriginalView();tsConfig.current_custom_view_id=null}else{this.$s.navigateToCustomizedView(e);tsConfig.current_custom_view_id=e.id}},destroy:function(e,eQ,eR){this.destroyCustomView(e,eQ,eR)},update:function(e,eQ,eR){this.$g(e,null,eQ,eR)},buildUrl:function(e,eQ){return tab.CustomizedViewSession.buildUrl(e,eQ)},makeCurrentDefault:function(e,eQ){this.setDefault(this.$l,e,eQ)},setDefault:function(e,eQ,eR){this.$s.setDefaultCustomizedView(e,ss.mkdel(this,function(eS){this.$e(eS);if(ss.isValue(eQ)){eQ(eS)}}),ss.mkdel(this,function(eS){this.$d(eS);if(ss.isValue(eR)){eR(eS)}}))},startManage:function(){if(this.$p===bk.modeSelect&&this.get_hasCustomViews()){this.$f(bk.modeManage)}},exitManageMode:function(){this.$f(bk.modeSelect)},updateCustomizedViews:function(e,eQ){this.$5(e,eQ)},destroyCustomView:function(e,eQ,eR){this.$o=true;this.$s.destroyCustomizedView(e,ss.mkdel(this,function(){ss.remove(this.get_myCustomViews(),e);if(ss.referenceEquals(e.id,this.$n)){this.$n=null}if(ss.referenceEquals(e.id,tsConfig.current_custom_view_id)){this.$l=null;this.$s.updateTsConfig(null,true);if(ss.isValue(tsConfig.requestURI)&&ss.isValue(e.owner)){var eS=tsConfig.requestURI;var eT=ss.replaceAllString(encodeURIComponent(e.owner.username),'%40','@');var eU='/'+eT+'/'+e.urlId;tsConfig.requestURI=ss.replaceAllString(eS,eU,'')}}this.$5(null,null);if(ss.isValue(eQ)){eQ()}}),ss.mkdel(this,function(eS){this.$5(null,null);if(ss.isValue(eR)){eR(eS)}}))},updateCustomizedViewPublicState:function(e,eQ,eR,eS){if(!ss.isValue(e)||eQ===e.isPublic){return}var eT=new Object;eT.id=e.id;eT.isPublic=eQ;eT.name=e.name;eT.owner=e.owner;eT.startViewId=e.startViewId;eT.urlId=e.urlId;this.$g(eT,e,eR,eS)},updateCustomizedViewName:function(e,eQ,eR,eS){if(ss.equalsT(e.name,eQ)){return}var eT=new Object;eT.id=e.id;eT.isPublic=e.isPublic;eT.name=eQ;eT.owner=e.owner;eT.startViewId=e.startViewId;eT.urlId=e.urlId;this.$g(eT,e,eR,eS)},$g:function(e,eQ,eR,eS){this.$s.updateCustomizedView(e,ss.mkdel(this,function(eT){if(ss.isValue(eQ)){var eU=ss.indexOf(this.$q,eQ);if(eU>=0){ss.removeAt(this.$q,eU);ss.insert(this.$q,eU,e)}if(ss.isValue(eQ)&&ss.referenceEquals(e.id,eQ.id)&&ss.referenceEquals(e.id,tsConfig.current_custom_view_id)){this.$l=e}}this.$5(null,null);if(ss.isValue(eR)){eR(eT)}}),ss.mkdel(this,function(eT){this.$5(null,null);if(ss.isValue(eS)){eS(eT)}}))},$f:function(e){this.$p=e;this.$a()},$5:function(e,eQ){this.$s.getCustomizedViews(ss.mkdel(this,function(eR,eS){this.$3(eR,eS);if(ss.isValue(e)){e(eR,eS)}}),ss.mkdel(this,function(eR){this.$2(eR);if(ss.isValue(eQ)){eQ(eR)}}))},$c:function(e){var eQ=tabBootstrap.Utility.get_embedMode()==='embedded'&&!tsConfig.reloadOnCustomViewSave;if(eQ||ss.isValue(this.$l)&&ss.unbox(this.$l.id)===ss.unbox(e.id)){this.$4();if(eQ){var eR;if(ss.isValue(e.owner)&&e.owner.id===tsConfig.current_user_id){for(eR=0;eR<this.$q.length;eR++){if(ss.referenceEquals(this.$q[eR].name,e.name)){this.$q[eR]=e;break}}if(eR>=this.$q.length){this.$q.push(e);this.$q.sort(bk.$0)}}else{for(eR=0;eR<this.$r.length;eR++){if(ss.referenceEquals(this.$r[eR].name,e.name)){this.$r[eR]=e;break}}if(eR>=this.$r.length){this.$r.push(e);this.$r.sort(bk.$0)}}}this.$l=e}else{this.$s.navigateToCustomizedView(e)}this.$9()},$b:function(e){this.$4()},$e:function(e){this.$n=(ss.isValue(e)?e.id:null);this.$8()},$d:function(e){},$3:function(e,eQ){ss.clear(this.$q);ss.clear(this.$r);this.$l=null;this.$m=tab.Strings.ToolbarCustomViewsOriginalView;for(var eR=0;eR<e.length;eR++){var eS=e[eR];if(this.belongsToCurrentUser(eS)){this.$q.push(eS)}else{this.$r.push(eS)}if(this.isCurrentCustomView(eS)){this.$l=eS;this.$m=eS.name}}this.$q.sort(bk.$0);this.$r.sort(bk.$0);this.$n=eQ;this.$7()},$2:function(e){this.$m=null;this.$o=false},$a:function(){if(ss.isValue(this.$2$1)){this.$2$1(this,ss.EventArgs.Empty)}},$7:function(){if(ss.isValue(this.$2$2)){this.$2$2(this,ss.EventArgs.Empty)}if(this.$o){this.$6();this.$o=false}},$8:function(){if(ss.isValue(this.$2$3)){this.$2$3(this,ss.EventArgs.Empty)}},$6:function(){if(ss.isValue(this.$2$4)){this.$2$4(this,ss.EventArgs.Empty)}},$9:function(){this.raiseEvent(this.$2$5)},disposeViewModel:function(){this.dispose()},updateUberPopupViewModel:function(e){},onDialogHidden:function(){}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel,spiff.IContent,spiff.IUberPopupContent,ss.makeGenericType(spiff.IPropsProvider$1,[Object]),ct]);ss.initClass(bl,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(bm,a,{$d:function(){return this.get_template()},get_dashboardNode:function(){return this.$d().dashboardNode},get_containerNode:function(){return this.$d().domRoot},get_dashboardSize:function(){return tab.DashboardSizeCalculator.asMetric(this.$e.get_size())},$9:function(){if(ss.isValue(this.$e.get_formats())){this.$d().dashboardNode.css(this.$e.get_formats());if(this.$e.get_hasGutter()){var e={top:this.$e.gutter.top+'px',left:this.$e.gutter.left+'px'};this.$d().dashboardNode.css(e)}}},$b:function(){this.$d().dashboardNode.height(this.$e.get_size().h).width(this.$e.get_size().w);if(this.$e.get_hasGutter()){$('.tab-gutter').height(this.$e.get_size().h+this.$e.gutter.top+this.$e.gutter.bottom).width(this.$e.get_size().w+this.$e.gutter.left+this.$e.gutter.right)}},$a:function(e){var eQ=tab.ObjectRegistry.newView(eN).call(null,[e]);if(e.get_zoneType()==='title'){eQ.prependToDom(this.$d().dashboardNode)}else{eQ.addToDom(this.$d().dashboardNode)}},onAddedToDom:function(){if(!this.addedToDom){if(tsConfig.showTabs){this.$d().dashboardNode.attr('role','tabpanel')}this.$b();this.$9();var e=_.keys(this.$e.get_zoneViewModels());for(var eQ=0;eQ<e.length;eQ++){var eR=e[eQ];this.$a(this.$e.get_zoneViewModels()[eR])}}spiff.Widget.prototype.onAddedToDom.call(this)},$c:function(){if(this.$e.get_renderMode()==='render-mode-client'){var e=this.$d().dashboardNode.find('img');var eQ=e.length;for(var eR=0;eR<eQ;eR++){var eS=e[eR];if(ss.isNullOrUndefined(eS)||eS.naturalHeight===0||eS.naturalWidth===0){continue}var eT=document.createElement('canvas');eT.width=eS.naturalWidth;eT.height=eS.naturalHeight;var eU=eT.getContext('2d');eU.drawImage(eS,0,0);try{var eV=eT.toDataURL('image/png',new Object);eS.src=eV}catch(fe){}}}var eW=this.$d().dashboardNode.clone(false,false);eW.addClass('facadedom');bm.uniquefyClonedFilterRadioElements(eW);if(this.$e.get_renderMode()==='render-mode-server'){var eX=this.$d().dashboardNode.find('canvas');var eY=eW.find('canvas');var eZ=eX.length;for(var fa=0;fa<eZ;fa++){var fb=eX[fa];var fc=eY[fa];if(!ss.isValue(fc)){continue}var fd=fc.getContext('2d');if(ss.isValue(fb)&&fb.width>0&&fb.height>0&&ss.isValue(fd)){fd.drawImage(fb,0,0)}}}this.$d().dashboardNode.parent().append(eW)}},ss.makeGenericType(spiff.BaseView$1,[bn]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[bn])]);ss.initClass(bn,a,{add_newZone:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newZone:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_vizRebuildStart:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_vizRebuildStart:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_sizeChanged:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_sizeChanged:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_portSizeChanged:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_portSizeChanged:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},add_formatsChanged:function(e){this.$2$5=ss.delegateCombine(this.$2$5,e)},remove_formatsChanged:function(e){this.$2$5=ss.delegateRemove(this.$2$5,e)},get_isStory:function(){return this.dashboardModel.pm.isStory},get_zoneViewModels:function(){return this.$m},get_formats:function(){return this.dashboardModel.get_formats()},get_backgroundColor:function(){var e='#FFFFFF';if(ss.isValue(this.get_formats())&&ss.keyExists(this.get_formats(),'backgroundColor')){e=this.get_formats()['backgroundColor']}return e},get_renderMode:function(){return this.dashboardModel.get_renderMode()},get_size:function(){return this.$l||this.dashboardModel.get_dashboardSize()},set_size:function(e){this.$l=e;this.raiseActionEvent(this.$2$3)},get_isDashboard:function(){return this.dashboardModel.get_isDashboard()},get_flipboardNavigatorViewModel:function(){if(!this.get_isStory()){return null}return this.$5('flipboard-nav')},get_flipboardViewModel:function(){return this.$5('flipboard')},get_hasGutter:function(){return tsConfig.is_authoring&&(tsConfig.current_sheet_type==='dashboard'||tsConfig.current_sheet_type==='story'&&this.get_isStory())},dispose:function(){var e=ss.getEnumerator(Object.keys(this.$m));try{while(e.moveNext()){var eQ=e.current();this.$m[eQ].dispose()}}finally{e.dispose()}ss.clearKeys(this.$m);tab.SheetSession.remove_sheetDataChanged(ss.mkdel(this,this.$k));for(var eR=0;eR<this.viewControllers.length;eR++){var eS=this.viewControllers[eR];eS.dispose()}ss.clear(this.viewControllers);ss.clearKeys(this.viewControllersBySheet);this.dashboardModel.zonesModel.remove_newZone(ss.mkdel(this,this.$8));this.dashboardModel.remove_newDashboard(ss.mkdel(this,this.$7));this.dashboardModel.remove_activeZoneChanged(ss.mkdel(this,this.$6));this.dashboardModel.remove_readyZoneChanged(ss.mkdel(this,this.$9));spiff.BaseViewModel.prototype.dispose.call(this)},$8:function(e){if(ss.keyExists(this.$m,e.get_zoneId())){this.$c(e.get_zoneId())}var eQ=this.$4(e);if(eQ.get_zoneType()==='viz'){if(ss.isValue(eQ.get_zoneContentViewModel())){this.$b(eQ)}else{var eR=null;eR=ss.mkdel(this,function(){eQ.remove_newZoneContent(eR);this.$b(eQ)});eQ.add_newZoneContent(eR)}}eQ.set_isActiveZone(eQ.get_zoneId()===this.dashboardModel.get_activeZoneID());this.$i(eQ)},$b:function(e){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(e.get_zoneContentViewModel())){return}var eQ=this.$3(e.get_associatedSheet());e.get_zoneContentViewModel().set_viewController(eQ)},$4:function(e){var eQ=new eO(e);this.$m[e.get_zoneId()]=eQ;return eQ},$5:function(e){var eQ=new ss.ObjectEnumerator(this.$m);try{while(eQ.moveNext()){var eR=eQ.current();if(eR.value.get_zoneType()===e){return eR.value.get_zoneContentViewModel()}}}finally{eQ.dispose()}return null},$i:function(e){if(!ss.staticEquals(this.$2$1,null)){this.$2$1(e)}},$7:function(){this.$j(ss.mkdel(this,function(e){return!this.dashboardModel.hasZone(e.get_zoneId())||!this.dashboardModel.isValidSheet(e.get_model())}))},$g:function(){this.raiseActionEvent(this.$2$3)},$f:function(){this.raiseActionEvent(this.$2$4)},$e:function(){this.raiseActionEvent(this.$2$5)},$a:function(){if(!ss.referenceEquals(this.dashboardModel,tab.ModelUtils.findContentDashboard())){return}this.raiseActionEvent(this.$2$2);this.$j(function(e){return e.get_zoneType()==='viz'})},$j:function(e){var eQ=[];var eR=_.keys(this.$m);for(var eS=0;eS<eR.length;eS++){var eT=eR[eS];var eU=this.$m[eT];if(e(eU)){eQ.push(eT)}}this.$d(eQ);this.$2()},$d:function(e){for(var eQ=0;eQ<e.length;eQ++){var eR=e[eQ];this.$c(eR)}},$c:function(e){var eQ=this.$m[e];if(ss.isValue(eQ)){if(eQ.get_zoneType()==='viz'){var eR=this.viewControllersBySheet['v_'+eQ.get_associatedSheet()];if(ss.isValue(eR)){delete this.viewControllersBySheet['v_'+eQ.get_associatedSheet()];ss.remove(this.viewControllers,eR);eR.dispose()}}eQ.dispose();delete this.$m[e]}},$2:function(){var e=this.dashboardModel.get_zoneModels();for(var eQ=0;eQ<e.length;eQ++){var eR=e[eQ];if(!ss.keyExists(this.$m,eR.get_zoneId())&&this.dashboardModel.isValidSheet(eR)){this.$8(eR)}}},$h:function(e){if(this.dashboardModel.autoUpdate){tab.CommandController.get().refreshLayout()}else{this.dashboardModel.invalid=true}},$k:function(){if(this.dashboardModel.autoUpdate){tab.CommandController.get().refreshLayout()}else{this.dashboardModel.invalid=true}},$6:function(){if(tsConfig.isPublic){return}if(!tab.ModelUtils.getSheetInfoPresModel(tab.ApplicationModel.get_instance(),tsConfig.current_sheet_name).isDashboard){return}var e=this.dashboardModel.get_activeZoneID();var eQ=ss.getEnumerator(Object.keys(this.$m));try{while(eQ.moveNext()){var eR=eQ.current();var eS=this.$m[eR];eS.set_isActiveZone(eS.get_zoneId()===e)}}finally{eQ.dispose()}},$9:function(){if(!tab.ModelUtils.getSheetInfoPresModel(tab.ApplicationModel.get_instance(),tsConfig.current_sheet_name).isDashboard){return}var e=this.dashboardModel.get_readyZoneID();var eQ=ss.getEnumerator(Object.keys(this.$m));try{while(eQ.moveNext()){var eR=eQ.current();var eS=this.$m[eR];eS.set_isReadyZone(eS.get_zoneId()===e)}}finally{eQ.dispose()}},$3:function(e){var eQ=this.dashboardModel.getViewSession(e);var eR=new eC(eQ);this.viewControllersBySheet['v_'+e]=eR;this.viewControllers.push(eR);return eR}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel]);ss.initClass(bo,a,{render:function(){return React.DOM.div({className:'tab-dataAlertDialog tab-dataAlertCreateComponent'},this.$5(),this.$4(),this.$b(),this.$8(),this.$3(),this.$7(),this.$6(),this.$9())},$5:function(){var e;if(tab.FeatureFlags.isEnabled('AlertOnMoreChartTypes')){e=tab.Strings.DataAlertOnConstantThreshold2(this.props.selectionCaption)}else{e=tab.Strings.DataAlertOnConstantThreshold(this.props.selectionCaption)}return React.DOM.div({className:'tab-dataAlertConditionMessage'},e)},$4:function(){return React.DOM.div({className:'tab-dataAlertConditionArea'},React.DOM.div({className:'tab-dataAlertOperatorArea'},React.createElement(SharedWidgets.DropdownWidget,this.props.conditionProps)),React.DOM.div({className:'tab-dataAlertThresholdArea'},React.DOM.label({className:'tab-dataAlertThresholdLabel'},tab.Strings.DataAlertThreshold),this.$a(),React.DOM.span(this.$1(this.props.thresholdIsValid),this.props.thresholdMessage)))},$1:function(e){return{className:(e?'tab-dataAlertStandardText':'tab-dataAlertErrorText')}},$0:function(e){return{className:'tab-dataAlertErrorText',style:{visibility:(e?'hidden':'visible')}}},$a:function(){var e='tab-dataAlertThreshold tab-TextInput';if(!this.props.thresholdIsValid){e+=' error'}return React.DOM.input({type:'text',value:this.props.threshold,className:e,disabled:!this.props.readyForInteraction,onBeforeInput:tableau.util.maxLengthEnforcingBeforeInputHandler(this.props.maxThresholdLength),onChange:ss.mkdel(this,function(eQ){this.props.onThresholdInputTextChanged(eQ.target.value)})})},$b:function(){var e='tab-dataAlertTitleInput tab-TextInput';var eQ=!tab.MiscUtil.isNullOrEmpty$1(this.props.title);if(!eQ){e+=' error'}return React.DOM.div({className:'tab-dataAlertTitleInputArea'},React.DOM.label({className:'tab-dataAlertTitleInputLabel'},tab.Strings.DataAlertSubject),React.DOM.input({type:'text',className:e,disabled:!this.props.readyForInteraction,maxLength:br.maxTitleLength,value:this.props.title,onChange:ss.mkdel(this,function(eR){this.props.onTitleInputTextChanged(eR.target.value)})}),React.DOM.span(this.$0(eQ),tab.Strings.DataAlertNoSubjectErrorMessage))},$8:function(){return React.DOM.div({className:'tab-dataAlertNotificationIntervalInputArea'},React.createElement(SharedWidgets.DropdownWidget,this.props.notificationIntervalProps))},$3:function(){return React.DOM.div({className:'tab-dataAlertAddRecipients',disabled:!this.props.readyForInteraction},React.DOM.label({className:'tab-dataAlertAddRecipientsLabel'},tab.Strings.DataAlertRecipients),React.createElement(ex,this.props.addRecipientsProps))},$7:function(){var e='tab-dataAlertEmailInput tab-TextInput';if(!tab.MiscUtil.isNullOrEmpty$1(this.props.emailErrorText)){e+=' error'}return React.DOM.div({className:'tab-dataAlertEmailInputArea',disabled:!this.props.readyForInteraction,style:{visibility:(this.props.showEmailInput?'visible':'hidden'),height:(this.props.showEmailInput?'auto':'0px'),padding:(this.props.showEmailInput?'':'0px')}},React.DOM.label({className:'tab-dataAlertEmailInputLabel'},tab.Strings.ToolbarSubscribeEmailPlaceholder),React.DOM.input({type:'text',className:e,maxLength:bV.maxEmailLength,onChange:ss.mkdel(this,function(eQ){this.props.onEmailInputTextChanged(eQ.target.value)})}))},$6:function(){return React.DOM.span(this.$0(ss.isNullOrEmptyString(this.props.emailErrorText)),this.props.emailErrorText)},$9:function(){var e={clickHandler:ss.mkdel(this,this.$2),label:this.props.submitButtonText,buttonClass:'tab-dataAlertSubmitButton tab-UnifiedButton',buttonStyle:0,tabIndex:0,disabled:!this.props.enableSubmitButton};var eQ=React.createElement(spiff.StyledButtonComponent,e);return React.DOM.div({className:'tab-dataAlertSubmitButtonArea'},eQ)},$2:function(){this.props.onSave()}},React.Component);ss.initClass(by,a,{add_persistSuccess:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_persistSuccess:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_persistFailure:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_persistFailure:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},getSubmitButtonText:function(){return''},saveDataAlert:function(e,eQ){},onPersistSuccess:function(){da.showNotification(this.successMessage);if(!ss.staticEquals(this.$1$1,null)){this.$1$1()}},onPersistFailure:function(){da.showNotification(this.failureMessage,0);if(!ss.staticEquals(this.$1$2,null)){this.$1$2()}}});ss.initClass(bp,a,{getSubmitButtonText:function(){return tab.Strings.DataAlertCreateButton},saveDataAlert:function(e,eQ){var eR=ss.mkdel(this,function(eS){this.failureMessage=((eS===210006)?tab.Strings.DataAlertDatasourceError:tab.Strings.DataAlertCreateFailure);this.onPersistFailure()});tab.WorkgroupServerCommands.createDataAlert(e,ss.mkdel(this,this.onPersistSuccess),eR)}},by);ss.initInterface(cs,a,{add_dataAlertPrepared:null,remove_dataAlertPrepared:null,add_dataAlertPrepareFailed:null,remove_dataAlertPrepareFailed:null,get_preparedDataAlert:null,prepareDataAlert:null});ss.initClass(bz,a,{add_dataAlertPrepared:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_dataAlertPrepared:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_dataAlertPrepareFailed:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_dataAlertPrepareFailed:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},get_preparedDataAlert:function(){return this.dataAlert},prepareDataAlert:null,raiseActionEvent:function(e){if(!ss.staticEquals(e,null)){e()}},raiseDataAlertPrepared:function(){this.raiseActionEvent(this.$1$1)},raiseDataAlertPrepareFailed:function(){this.raiseActionEvent(this.$1$2)}},null,[cs]);ss.initClass(bq,a,{prepareDataAlert:function(){this.dataAlert=new tab.DataAlert.$ctor1(this.$0);this.raiseDataAlertPrepared()}},bz,[cs]);ss.initClass(br,a,{$s:function(){return{label:tab.Strings.DataAlertCondition,testId:'data-alert-condition-operation',onSelect:ss.mkdel(this,this.$b),disabled:!this.$u(),dropdownType:1,selectedValue:(ss.isValue(this.$C)?this.$C.get_operator().toString():''),menuItemInfos:_.map(tab.DataAlertConditionOperation.supportedOperations(),function(e){return{value:e.toString(),displayValue:tab.DataAlertConditionOperation.displayString(e),isDivider:false}})}},$w:function(){var e=ss.mkdel(this,this.$f);return{label:tab.Strings.DataAlertNotificationInterval,testId:'data-alert-notification-interval',onSelect:e,disabled:!this.$u(),dropdownType:1,selectedValue:(ss.isValue(this.$C)?this.$C.get_notificationIntervalInMinutes().toString():''),menuItemInfos:_.map(tab.DataAlertNotificationInterval.supportedIntervals(),function(eQ){return{value:eQ.toString(),displayValue:tab.DataAlertNotificationInterval.convertToString(eQ),isDivider:false}})}},$y:function(){return ss.isValue(this.$C)&&this.$C.get_thresholdIsValid()&&!this.$G&&this.$t()&&!ss.isNullOrEmptyString(this.$C.get_title())&&ss.isValue(this.$z)&&this.$z.get_searchFieldIsEmpty()&&this.$F},$t:function(){if(this.$5()){return this.$v()&&this.$x()===1}return ss.isValue(this.$z)&&this.$x()===0},$x:function(){return(ss.isNullOrUndefined(this.$z)?0:this.$z.get_users().filter(function(e){return!e.hasEmail}).length)},$v:function(){return bV.validate(this.$D)},$u:function(){return this.$F},$o:function(){this.$z=new ez.$ctor1([],tab.Strings.DataAlertsRecipientsSearchPlaceholder);this.$z.setUserValidator(ss.mkdel(this,this.$r),tab.Strings.UserHasNoEmailAddressWarning)},$l:function(){this.$C.add_titleChanged(ss.mkdel(this,this.refresh));this.$C.add_notificationIntervalChanged(ss.mkdel(this,this.refresh));this.$C.add_measureChanged(ss.mkdel(this,this.refresh));this.$C.add_conditionChanged(ss.mkdel(this,this.refresh));this.$C.add_recipientsChanged(ss.mkdel(this,this.refresh));this.$z.add_propsUpdated(ss.mkdel(this,this.refresh));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$C.remove_titleChanged(ss.mkdel(this,this.refresh));this.$C.remove_notificationIntervalChanged(ss.mkdel(this,this.refresh));this.$C.remove_measureChanged(ss.mkdel(this,this.refresh));this.$C.remove_conditionChanged(ss.mkdel(this,this.refresh));this.$C.remove_recipientsChanged(ss.mkdel(this,this.refresh));this.$z.remove_propsUpdated(ss.mkdel(this,this.refresh))})))},$m:function(){this.$B.add_dataAlertPrepared(ss.mkdel(this,this.$d));this.$B.add_dataAlertPrepareFailed(ss.mkdel(this,this.onDataAlertPrepareFailed));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$B.remove_dataAlertPrepared(ss.mkdel(this,this.$d));this.$B.remove_dataAlertPrepareFailed(ss.mkdel(this,this.onDataAlertPrepareFailed))})))},$n:function(){this.$H=new tab.Debouncer(ss.mkdel(this,function(){var e=tab.DataAlertCommands.updateDataAlert(this.$C);e.done(ss.mkdel(this,function(eQ){this.$C.set_alertConditionMet(eQ);this.refresh()}))}),br.debounceTimeout);this.disposables.add$1(this.$H)},$9:function(){if(ss.isNullOrUndefined(this.$C)){return''}if(this.$C.get_thresholdIsValid()){return(this.$C.get_alertConditionMet()?tab.Strings.DataAlertThresholdConditionMet:tab.Strings.DataAlertThresholdConditionUnmet)}var e=this.$C.get_conditionPresModel().dataType;if(e==='integer'){if(ss.isNullOrUndefined(tab.ApplicationModel.get_instance().get_appPresModel())){if(tab.DoubleUtil.isValidDouble(this.$C.get_threshold())){return tab.Strings.DataAlertThresholdErrorIntegerInputDouble}}else{var eQ=tab.ApplicationModel.get_instance().get_appPresModel().numberFormats;if(tab.DoubleUtil.isValidDouble(tableau.format.reformatNumberToJsFormat(this.$C.get_threshold(),eQ))){return tab.Strings.DataAlertThresholdErrorIntegerInputDouble}}return tab.Strings.DataAlertThresholdErrorIntegerInputNonNumeric}if(e==='real'){return tab.Strings.DataAlertThresholdErrorDouble}throw new ss.ArgumentException('ThresholdType.DataType is not among the supported data types')},$8:function(){if(this.$G){return tab.Strings.DataAlertCreateButtonSaving}return this.$A.getSubmitButtonText()},refresh:function(){this.updateProps$1({readyForInteraction:this.$u(),enableSubmitButton:this.$y(),submitButtonText:this.$8(),onThresholdInputTextChanged:ss.mkdel(this,this.$h),maxThresholdLength:18,onTitleInputTextChanged:ss.mkdel(this,this.$i),onSave:ss.mkdel(this,this.$a),title:(ss.isValue(this.$C)?this.$C.get_title():this.$7()),selectionCaption:(ss.isValue(this.$C)?this.$C.get_selectionCaption():''),threshold:(ss.isValue(this.$C)?this.$C.get_threshold():''),thresholdIsValid:ss.isValue(this.$C)&&this.$C.get_thresholdIsValid(),alertConditionMet:ss.isValue(this.$C)&&this.$C.get_alertConditionMet(),thresholdMessage:this.$9(),onEmailInputTextChanged:ss.mkdel(this,this.$e),showEmailInput:this.$5(),emailErrorText:this.$6(),addRecipientsProps:this.$z.get_props(),notificationIntervalProps:this.$w(),conditionProps:this.$s()})},$6:function(){if(this.$5()){if(this.$t()){return''}return tab.Strings.SubscribeInvalidAddress}else if(this.$x()>0){return tab.Strings.DataAlertRecipientWithNoEmail}else if(ss.isValue(this.$z)&&this.$z.get_currentSearchHasNoResults()){return tab.Strings.DataAlertNoUsersMatchSearch}return''},$5:function(){return this.$4()&&tab.MiscUtil.isNullOrEmpty$1(tsConfig.current_user_email)},$4:function(){return ss.isValue(this.$z)&&this.$z.get_users().filter(function(e){return e.id===tsConfig.current_user_id}).length===1},$e:function(e){this.$D=e;this.refresh()},$i:function(e){if(ss.isNullOrUndefined(this.$C)){return}if(ss.referenceEquals(e,this.$C.get_title())){return}this.$C.set_title(e)},$d:function(){this.$C=this.$B.get_preparedDataAlert();this.$l();this.$n();this.$g();this.$E=this.$C.get_recipients();var e=this.$C.get_title();if(ss.isNullOrUndefined(e)){e=this.$7()}var eQ=e;this.$i(eQ);this.$F=true;this.refresh()},onDataAlertPrepareFailed:function(){this.$G=false;this.$F=false;this.refresh()},onDataAlertPreparing:function(){this.$F=false;this.refresh()},$7:function(){var e=tab.Strings.DataAlertSubjectTemplate(tsConfig.current_sheet_name);if(e.length>br.maxTitleLength){e=e.substr(0,br.maxTitleLength-3)+'...'}return e},$f:function(e){if(ss.isNullOrUndefined(e)){return}if(ss.isValue(this.$C)){this.$C.set_notificationIntervalInMinutes(e)}},$h:function(e){if(ss.referenceEquals(e,this.$C.get_threshold())){return}if(tab.MiscUtil.isNullOrEmpty$1(e)){this.$H.cancel()}else{this.$q()}this.$p(this.$C.get_operator(),e)},$b:function(e){if(ss.isNullOrUndefined(e)){return}var eQ=e;this.$c(eQ)},$c:function(e){if(e===this.$C.get_operator()){return}this.$q();this.$p(e,this.$C.get_threshold())},$q:function(){if(ss.isValue(this.$H)){this.$H.invokeActionDelayed()}},$a:function(){this.$G=true;this.refresh();if(tab.MiscUtil.isNullOrEmpty$1(tsConfig.current_user_email)){this.$k()}else{this.$j()}},$k:function(){var e=ss.mkdel(this,this.$j);var eQ=ss.mkdel(this,function(eR){var eS=((eR===10011)?tab.Strings.SubscribeInvalidAddress:tab.Strings.DataAlertCreateFailure);da.showNotification(eS);this.$G=false;this.refresh()});tab.WorkgroupServerCommands.setUserEmail(this.$D,e,eQ)},$j:function(){this.$C.updateRecipients(this.$z.get_users());this.$A.saveDataAlert(this.$C,this.$E)},$g:function(){this.$z.setUsers(this.$C.get_recipients())},$p:function(e,eQ){var eR=this.$C.get_conditionPresModel().dataAlertThresholdText;if(this.$C.isValidThresholdText(eQ)){eR=eQ}this.$C.set_threshold(eQ);this.$C.set_conditionPresModel({dataAlertConditionOp:e,dataAlertThresholdText:eR,dataType:this.$C.get_conditionPresModel().dataType})},$r:function(e){if(e.id===tsConfig.current_user_id){return this.$v()||e.hasEmail}return e.hasEmail}},ss.makeGenericType(spiff.BaseComponentViewModel$1,[Object]),[ss.IDisposable,tab.IViewModel,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initClass(bs,a,{add_hideDialogRequested:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_hideDialogRequested:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},$e:function(){return!ss.isNullOrEmptyString(this.$j)},get_createViewModel:function(){return this.$h},updateFromDialogPresModel:function(e){this.$i=e;if(this.$d()){this.$5()}else{this.$6()}this.incrementProps();return this},$d:function(){return!ss.isNullOrEmptyString(this.$i.dataAlertErrorText)},$5:function(){this.$k=new bx(this.$i.dataAlertErrorText,this.$j);this.$k.add_okButtonClicked(ss.mkdel(this,this.$c));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$k.remove_okButtonClicked(ss.mkdel(this,this.$c))})));this.disposables.add$1(this.addChildViewModel(this.$k));this.disposables.add$1(this.$k)},$6:function(){if(this.$e()){this.$f=bt.new$1(this.$j);this.$g=bu.new$1(this.$i,this.$j)}else{this.$f=bp.new$1();this.$g=bq.new$1(this.$i)}this.$h=br.new$1(this.$g,this.$f);var e=ss.mkdel(this,function(){da.showNotification(tab.Strings.DataAlertLoadForEditFailure);this.$c()});this.$f.add_persistSuccess(ss.mkdel(this,this.$c));this.$f.add_persistFailure(ss.mkdel(this,this.$c));this.$g.add_dataAlertPrepareFailed(e);this.disposables.add$1(this.$h);this.disposables.add$1(this.addChildViewModel(this.$h));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$f.remove_persistSuccess(ss.mkdel(this,this.$c));this.$f.remove_persistFailure(ss.mkdel(this,this.$c));this.$g.remove_dataAlertPrepareFailed(e)})));this.$g.prepareDataAlert()},createInitialProps:function(){return{type:0,positioningBehavior:2,showCloseButton:true,dialogWidth:400,isModal:true,testId:'dataAlertDialog'}},createUpdatedProps:function(){return(this.$d()?this.$b():this.$9())},$9:function(){return{children:this.$8(),title:this.$a(),showFooter:false,footerContent:null}},$a:function(){return(this.$e()?tab.Strings.DataAlertDialogTitleEditMode:tab.Strings.DataAlertDialogTitle)},$8:function(){return React.createElement(bo,this.$h.get_props())},$b:function(){return this.$k.get_dialogProps()},$c:function(){this.raiseActionEvent(this.$3$1)},onDialogHidden:function(){this.$7()},$7:function(){tab.DataAlertCommands.closeDataAlertDialog();if(this.$e()){var e=tab.VizUriModel.createForCurrentWindowLocation();e.removeQueryParam(bv.editDataAlertUrlParam);e.replaceState(null);if(ss.isValue(L.get_instance().get_apiEventHandler())){L.get_instance().get_apiEventHandler().removeEditDataAlertUrlParam(tsConfig.current_sheet_name)}}_.defer(ss.mkdel(this,function(){this.dialogViewModelDisposed();this.dispose()}))},onCancel:function(e,eQ){this.$7()}},ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]),[ss.IDisposable,tab.IViewModel,ss.makeGenericType(spiff.IPropsProvider$1,[Object]),ct]);ss.initClass(bt,a,{getSubmitButtonText:function(){return tab.Strings.DataAlertUpdateButton},saveDataAlert:function(e,eQ){var eR=bt.getDifferenceInUserLists(eQ,e.get_recipients());var eS=bt.getDifferenceInUserLists(e.get_recipients(),eQ);tab.WorkgroupServerCommands.updateDataAlert(e,this.$0,eR,eS,ss.mkdel(this,this.onPersistSuccess),ss.mkdel(this,this.onPersistFailure))}},by);ss.initClass(bu,a,{prepareDataAlert:function(){this.$0()},$1:function(e){if(ss.isNullOrUndefined(e)||e.length===0){this.raiseDataAlertPrepareFailed();return}if(e.length>1){this.raiseDataAlertPrepareFailed();return}this.dataAlert.set_title(e[0].get_title());this.dataAlert.set_notificationIntervalInMinutes(e[0].get_notificationIntervalInMinutes());this.$4=true;this.$3()},$3:function(){if(this.$4&&this.$5){this.raiseDataAlertPrepared()}},$2:function(e){this.$5=true;_.each(e,function(eQ){eQ.hasEmail=true});this.dataAlert.updateRecipients(e);this.$3()},$0:function(){this.$4=false;this.$5=false;tab.WorkgroupServerCommands.getDataAlertForDataAlertId(tsConfig.current_view_id,this.$6).done(ss.mkdel(this,this.$1)).fail(ss.mkdel(this,this.raiseDataAlertPrepareFailed));tab.WorkgroupServerCommands.getUsersForDataAlertId(this.$6).done(ss.mkdel(this,this.$2)).fail(ss.mkdel(this,this.raiseDataAlertPrepareFailed))}},bz,[cs]);ss.initClass(bv,a,{});ss.initClass(bw,a,{render:function(){return React.DOM.div({className:bw.$0},this.renderGenericMessage(),this.renderPlatformErrorMessage())},renderGenericMessage:function(){var e=(tab.MiscUtil.isNullOrEmpty$1(this.props.alertSubject)?tab.Strings.DataAlertErrorDialogViewChanged(this.props.sheetName):tab.Strings.DataAlertErrorDialogViewChangedWithSubject(this.props.sheetName,this.props.alertSubject));return React.DOM.div({className:bw.$1},e)},renderPlatformErrorMessage:function(){return React.DOM.div({className:bw.$2},this.props.errorText)}},spiff.PureRenderComponent);ss.initClass(bx,a,{add_okButtonClicked:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_okButtonClicked:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},get_dialogProps:function(){return{children:this.$5(),title:tab.Strings.DataAlertErrorDialogTitle,showFooter:true,footerContent:this.$6()}},$7:function(){tab.WorkgroupServerCommands.getDataAlertForDataAlertId(tsConfig.current_view_id,this.$a).done(ss.mkdel(this,this.$8))},$8:function(e){if(e.length===1){this.$9=e[0].get_title()}this.incrementProps()},$5:function(){return React.createElement(bw,this.get_props())},createUpdatedProps:function(){return{errorText:this.$b,sheetName:tsConfig.current_sheet_name,alertSubject:this.$9}},$6:function(){return React.createElement(SharedWidgets.DialogFooterButtonsWidget,{buttons:[{handleClick:ss.mkdel(this,function(e){this.raiseActionEvent(this.$3$1)}),buttonType:2,testId:'OK',label:tab.Strings.DialogButtonOK,disabled:false}]})}},ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]),[ss.IDisposable,tab.IViewModel,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initClass(bA,a,{get_compositeSearchWidget:function(){return this.$l},$a:function(e){this.$g();this.$k();if(e.trim().length>0){this.get_viewModel().set_isActive(true);this.$j()}else{this.dataHighlighterViewModel.clearHighlighting();this.populateAndDisplayList(this.get_viewModel().get_fullDomainItemSet(),1)}this.get_viewModel().lastSatisfiedSearchTerm=null;this.get_viewModel().lastSatisfiedSearchResults=null;this.get_viewModel().set_searchText(e)},$k:function(){if(this.$l.get_textInputView().get_text().trim().length>0){this.$l.get_searchButton().element.hide();this.$l.get_clearButton().element.show()}else{this.$l.get_searchButton().element.show();this.$l.get_clearButton().element.hide()}},$j:function(){this.queryDelayTimer=window.setTimeout(ss.mkdel(this,this.$f),200)},$g:function(){this.queryDelayTimer=tab.MiscUtil.clearTimeout(this.queryDelayTimer)},$f:function(){this.dataHighlighterViewModel.sendSearchQuery(this.get_compositeSearchWidget().get_textInputView().get_text(),false);this.$g()},handleNewSearchQueryResults:function(e,eQ){if(!ss.referenceEquals(e,this.$l.get_textInputView().get_text())||ss.isNullOrUndefined(eQ)){return}this.populateAndDisplayList(eQ,2)},populateAndDisplayList:function(e,eQ){this.currentListPopulationMode=eQ;this.$p=tab.MiscUtil.dispose(this.$p);this.$p=[];var eR=Math.min(e.dataHighlighterItems.length,this.get_viewModel().get_maxNumberListItems());for(var eS=0;eS<eR;eS++){var eT=e.dataHighlighterItems[eS];this.$p.push(spiff.ListItemViewModel.newListItem(eT.objectId.toString(),eT,false,false,false))}if(eR<e.totalNumberOfItemsInSet){var eU=e.totalNumberOfItemsInSet-eR;var eV=((eU>1)?tab.Strings.SearchResultsNotShownPlural(eU.toString()):tab.Strings.SearchResultsNotShownSingular);this.$p.push(spiff.ListItemViewModel.newListItem(eV,null,false,false,false));this.notShownResultsListItemIsVisible=true}else{this.notShownResultsListItemIsVisible=false}this.get_compositeSearchWidget().showListInsideUberPopup(this.$p,this,this.dataHighlighterViewRootElement,'tabDataHighlighterViewSearchResultList',312)},createListItemContent:function(e){var eQ="<div class='{0}' title='{1}'>{1}</div>";var eR;if(ss.isValue(e.get_data())){var eS=e.get_data();eR=eS.text}else{eR=e.get_id()}var eT=ss.formatString(eQ,'tab-list-item-label',tableau.format.escapeHTML(eR));return $(eT).css(this.get_viewModel().get_formatStyle())},handleListItemSelected:function(e){if(ss.isNullOrUndefined(e.get_data())){return}var eQ=e.get_data();this.get_compositeSearchWidget().setSearchText(eQ.text);this.get_compositeSearchWidget().get_clearButton().element.show();this.get_compositeSearchWidget().get_searchButton().element.hide();this.get_viewModel().highlightItems([eQ.objectId]);this.get_compositeSearchWidget().get_textInputView().get_inputElement().blur();this.get_viewModel().lastSatisfiedSearchTerm=this.get_compositeSearchWidget().get_textInputView().get_text();this.get_viewModel().lastSatisfiedSearchResults={dataHighlighterItems:[eQ]};this.get_viewModel().saveSearchTextForItem(eQ.text,eQ.objectId)},removeList:function(){this.currentListPopulationMode=0;this.get_compositeSearchWidget().removeList()},handleTitleChanged:function(){this.setTitleFromModel()},setTitleFromModel:function(){if(ss.isValue(this.dataHighlighterViewModel.get_zoneTitleHtml())){this.zoneTitleRegionRootElement.html(this.dataHighlighterViewModel.get_zoneTitleHtml());var e=this.dataHighlighterViewModel.get_titleAreaHeight();if(e>0){e=Math.max(e,17);this.zoneTitleRegionRootElement.height(e)}else{this.zoneTitleRegionRootElement.height('')}var eQ=this.dataHighlighterViewModel.get_titleAreaWidth();if(eQ>0){this.zoneTitleRegionRootElement.width(this.dataHighlighterViewModel.get_titleAreaWidth());this.$m.addClass('tab-HorizontalLayout')}else{this.$m.removeClass('tab-HorizontalLayout')}tableau.util.setupTitleEllipsis(this.zoneTitleRegionRootElement);this.zoneTitleRegionRootElement.attr('title',this.dataHighlighterViewModel.get_zoneTitleTooltip())}this.$m.toggleClass('tabBordered',this.get_viewModel().get_zoneHasBorder())},handleTextInputElementClicked:function(){var e=this.get_compositeSearchWidget().get_textInputView().get_text().trim().length;this.$n=(this.$e()?this.$h():null);if(e===0){this.populateAndDisplayList(this.dataHighlighterViewModel.get_fullDomainItemSet(),1)}else if(!this.$e()){this.$i()}},$h:function(){var e=this.get_compositeSearchWidget().get_textInputView().get_inputElement();var eQ=e.prop('selectionStart');var eR=e.prop('selectionEnd');var eS=eQ!==eR;if(eS){return null}return eQ},$e:function(){return ss.isValue(this.get_compositeSearchWidget().get_listViewModel())},$i:function(){if(ss.referenceEquals(this.get_viewModel().lastSatisfiedSearchTerm,this.get_compositeSearchWidget().get_textInputView().get_text())&&ss.isValue(this.get_viewModel().lastSatisfiedSearchResults)){this.populateAndDisplayList(this.get_viewModel().lastSatisfiedSearchResults,2)}this.get_viewModel().sendSearchQuery(this.get_compositeSearchWidget().get_textInputView().get_text(),false)},$b:function(e){this.get_viewModel().set_isActive(true);this.$o=true},$c:function(e){tab.WindowHelper.clearSelection();this.$o=false},$d:function(e){var eQ=this.$h();var eR=ss.isValue(eQ);var eS=ss.isValue(this.$n);if(this.$o){if(eR&&!tsConfig.is_mobile){tab.DomUtil.selectAllInputText(this.get_compositeSearchWidget().get_textInputView().get_inputElement())}this.$o=false}else if(this.$e()&&eS&&eR){var eT=ss.unbox(this.$n);var eU=ss.unbox(eQ);if(eT===eU){var eV=this.get_compositeSearchWidget().get_textInputView().get_text().length;if(eU===eV){this.removeList()}}}this.$n=null},handleSearchButtonClicked:function(){this.get_compositeSearchWidget().get_textInputView().get_inputElement().focus();this.$o=false;this.populateAndDisplayList(this.dataHighlighterViewModel.get_fullDomainItemSet(),1)},handleClearButtonClicked:function(){this.$o=false},handleSearchTextChanged:function(){if(ss.isValue(this.queryDelayTimer)){return}this.get_compositeSearchWidget().setSearchText(this.get_viewModel().get_searchText());this.$k()},handleIsActiveChanged:function(){this.get_compositeSearchWidget().get_textInputView().get_inputElement().toggleClass('tabDataHighlighterViewInactiveText',!this.get_viewModel().get_isActive())},$9:function(){if(!this.$e()){return}var e=this.get_compositeSearchWidget().get_textInputView().get_text().trim().length;if(e>0){this.$i()}else{this.populateAndDisplayList(this.get_viewModel().get_fullDomainItemSet(),1)}},handleEnterKeyPress:function(){this.removeList();this.get_compositeSearchWidget().get_textInputView().get_inputElement().blur()},handleEscapeKeyPress:function(){if(ss.isNullOrEmptyString(this.get_compositeSearchWidget().get_textInputView().get_text())){this.removeList();this.get_compositeSearchWidget().get_textInputView().get_inputElement().blur()}else{this.get_compositeSearchWidget().get_textInputView().set_text('')}}},ss.makeGenericType(spiff.BaseView$1,[bC]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[bC]),spiff.IListItemContentCreator]);ss.initEnum(bB,a,{none:0,fullDomain:1,searchResults:2});ss.initClass(bC,a,{add_receivedSearchQueryResults:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_receivedSearchQueryResults:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_titleChanged:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_titleChanged:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_searchTextChanged:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_searchTextChanged:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_isActiveChanged:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_isActiveChanged:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},add_domainItemsChanged:function(e){this.$2$5=ss.delegateCombine(this.$2$5,e)},remove_domainItemsChanged:function(e){this.$2$5=ss.delegateRemove(this.$2$5,e)},get_zoneTitleHtml:function(){if(ss.isValue(this.$b)){return this.$b.html}else{return''}},get_titleAreaHeight:function(){return((ss.isValue(this.$b)&&this.$8.get_titleSize().h!==0)?this.$b.h:0)},get_titleAreaWidth:function(){return((ss.isValue(this.$b)&&this.$8.get_titleSize().w!==0)?this.$b.w:0)},get_zoneHasBorder:function(){return this.$5.get_zoneHasBorder()},get_zoneWidth:function(){return this.$5.get_zoneWidth()},get_zoneTitleTooltip:function(){return(ss.isValue(this.$b)?this.$b.caption:'')},get_searchPlaceholderString:function(){return this.$5.get_searchPlaceholderString()},get_fullDomainItemSet:function(){return this.$5.get_fullDomainItemSet()},get_searchText:function(){return this.$9},set_searchText:function(e){var eQ=!ss.referenceEquals(e,this.$9);this.$9=e;if(eQ&&!ss.staticEquals(this.$2$3,null)){this.$2$3()}},get_numHighlighted:function(){return this.$5.get_numHighlighted()},get_isActive:function(){return this.$7},set_isActive:function(e){var eQ=e!==this.$7;this.$7=e;if(eQ&&!ss.staticEquals(this.$2$4,null)){this.$2$4()}},get_maxNumberListItems:function(){var e=tab.FeatureParamsLookup.getInt(44);if(ss.isNullOrUndefined(e)){e=this.$5.get_maxNumberListItems()}return e},get_formatStyle:function(){return cd.makeFormatStyleDict(this.$5.get_bodyTextStyle())},alertIfDomainItemsChanged:function(){if(bC.$0(this.$6,this.get_fullDomainItemSet().dataHighlighterItems)){this.$6=ss.arrayClone(this.get_fullDomainItemSet().dataHighlighterItems);this.raiseActionEvent(this.$2$5)}},$2:function(){return tab.ApplicationModel.get_instance().get_isLocalRenderMode()},sendSearchQuery:function(e,eQ){if(tab.ApplicationModel.get_instance().get_isOffline()){var eR=e.toLowerCase();var eS=[];var eT=[];var eU=this.$5.get_fullDomainItemSet().dataHighlighterItems;for(var eV=0;eV<eU.length;eV++){var eW=eU[eV];if(eW.text.toString().toLowerCase().indexOf(eR)!==-1){eT.push(eW.objectId);eS.push(eW)}}this.lastSatisfiedSearchTerm=e;var eX={dataHighlighterItems:Array.prototype.slice.call(eS),totalNumberOfItemsInSet:eS.length};this.lastSatisfiedSearchResults=eX;if(!ss.staticEquals(this.$2$1,null)){this.$2$1(e,eX)}this.highlightItems(Array.prototype.slice.call(eT))}else{var eY=new tab.HighlightItemsByPatternMatchCmd;eY.c['fn']=this.$5.get_fieldName();eY.c['valueString']=e;eY.c['visualIdPresModel']=this.$a;eY.set_uiBlocking('none');eY.invoke().done(ss.mkdel(this,function(eZ){if(eQ){return}this.lastSatisfiedSearchTerm=e;this.lastSatisfiedSearchResults=eZ.$$c['dataHighlighterItemSet'];if(!ss.staticEquals(this.$2$1,null)){this.$2$1(e,eZ.$$c['dataHighlighterItemSet'])}}))}},saveSearchTextForItem:function(e,eQ){var eR=new tab.HighlightItemsByPatternMatchCmd;eR.c['fn']=this.$5.get_fieldName();eR.c['valueString']=e;eR.c['visualIdPresModel']=this.$a;eR.c['objectIds']=[eQ];eR.invoke()},highlightItems:function(e){if(e.length>0){tab.SelectionClientCommands.highlightItems(this.$5,this.$5.get_fieldName(),e,this.$a,this.$2())}},clearHighlighting:function(){tab.SelectionClientCommands.clearHighlighting(this.$5,this.$5.get_fieldName(),this.$a,this.$2())},restoreSearchResultsHighlighting:function(){if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){if(ss.isValue(this.lastSatisfiedSearchResults)){this.highlightItems(this.lastSatisfiedSearchResults.dataHighlighterItems.map(function(e){return e.objectId}))}}else{this.sendSearchQuery(this.lastSatisfiedSearchTerm,true)}},$4:function(){var e=this.$8.get_model();var eQ=ss.isValue(e.pm)&&ss.isValue(e.pm.zoneTitle);if(eQ){var eR=(this.$8.get_model().get_hasTitle()?e.pm.zoneTitle:null);if(!ss.referenceEquals(eR,this.$b)){this.$b=eR;if(!ss.staticEquals(this.$2$2,null)){this.$2$2()}}}},$3:function(){this.set_isActive(this.$5.get_isActive());this.set_searchText(this.$5.get_searchText());this.alertIfDomainItemsChanged()}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel]);ss.initClass(bD,a,{get_dataHighlighterContentElement:function(){return this.$1},get_dataHighlighterViewRootElement:function(){return this.$2},get_zoneTitleRegionRootElement:function(){return this.$3}},spiff.Template,[ss.IDisposable]);ss.initClass(bE,a,{show:function(){var e=new bZ;var eQ=ss.mkdel(this,function(eR){this.onAuthDialogMessage(eR,e)});e.eventHandler=eQ;tab.WindowHelper.addListener(window.self,'message',eQ);this.$0.add_closed(ss.mkdel(this,function(eR,eS){this.cleanup(e)}));this.$0.show()},cleanup:function(e){tab.WindowHelper.removeListener(window.self,'message',e.eventHandler);this.$0.close(null)},dispose:function(){this.$0.dispose()}},U,[ss.IDisposable]);ss.initClass(bF,a,{setDateRange:function(e,eQ){this.$u=bF.$2(e);this.$s=bF.$2(eQ);this.$v=bF.$4(this.$u);this.$t=bF.$4(this.$s)},show:function(e,eQ){if(ss.isValue(e)){this.$p=bF.$4(bF.$2(e));this.$B=bF.$2(eQ||e)}this.$l();return this.element.show().width(tab.DoubleUtil.roundToInt(this.element.width()))},hide:function(){this.$F=false;this.element.height('auto');return this.element.hide()},positionCalendarByElement:function(e){X.getViewport(ss.mkdel(this,function(eQ){var eR=e.offset();var eS=tab.DoubleUtil.roundToInt(this.element.outerWidth());var eT=this.getMaxHeight();var eU=tab.DoubleUtil.roundToInt(e.outerHeight());eR=this.$8(eQ,eU,eR,eS,eT);this.element.offset(eR)}))},$8:function(e,eQ,eR,eS,eT){var eU=tab.DoubleUtil.roundToInt(eR.left);var eV=tab.DoubleUtil.roundToInt(eR.top);var eW=e.getDocumentViewport({x:eU,y:eV});var eX=eW.l+eW.w;var eY=eW.t+eW.h;if(eV+eQ-1+eT<=eY){eV+=eQ-1;eU=bF.$1(eU,eS,eW.l,eX)}else if(eV-(eT-1)>eW.t){this.useMaxHeight();eV-=eT-1;eU=bF.$1(eU,eS,eW.l,eX)}else if(eU-(eS-1)>eW.l){eU-=eS-1;eV=bF.$1(eV,eT,eW.t,eY)}else{var eZ=eU;eU=eW.l;eU=bF.$1(eU,eS,eW.l,eZ);eV=bF.$1(eV,eT,eW.t,eY)}return{left:eU,top:eV}},getMaxHeight:function(){var e=this.element.find('.tab-datepicker-month-table tbody tr');return tab.DoubleUtil.roundToInt(this.element.outerHeight())+Math.round(tab.DoubleUtil.roundToInt(e.outerHeight())*(6-e.length))},useMaxHeight:function(){if(!this.$F){this.$F=true;this.$l();this.element.height(tab.DoubleUtil.roundToInt(this.element.height()))}},$d:function(){var e=$('<div>').addClass('tab-datepicker-header');this.$x=$('<span>').addClass('tab-datepicker-header-text').appendTo(e);this.$A=$('<span>').addClass('tab-datepicker-header-button').addClass('tab-datepicker-prev-month-button').appendTo(e).click(ss.mkdel(this,this.$j));this.$z=$('<span>').addClass('tab-datepicker-header-button').addClass('tab-datepicker-next-month-button').appendTo(e).click(ss.mkdel(this,this.$i));return e},$c:function(){var e=$('<div>').addClass('tab-datepicker-footer');$('<span>').addClass('tab-datepicker-today-label').html(ss.formatString(this.$D,"<span class='tab-datepicker-today-date'></span>")).appendTo(e);this.$E=$('.tab-datepicker-today-date',e).click(ss.mkdel(this,this.$6));return e},$e:function(){this.$w=$('<table>').addClass('tab-datepicker-month-table');this.$w.on('click','.tab-datepicker-day-cell',ss.mkdel(this,this.$7));return this.$w},$7:function(e){var eQ=$(e.target);if(!eQ.hasClass('tab-disabled')){this.$h(eQ)}},$h:function(e){this.$w.find('.tab-datepicker-day-cell-selected').removeClass('tab-datepicker-day-cell-selected');e.addClass('tab-datepicker-day-cell-selected');var eQ=e.data();this.$B=new Date(eQ['year'],eQ['month'],eQ['dayOfMonth']);var eR=new Date(Date.UTC(eQ['year'],eQ['month'],eQ['dayOfMonth']));this.$k(eR)},$k:function(e){this.element.trigger('dateSelected',[e])},$j:function(e){if(this.$g()){if(this.$p.getMonth()===0){if(this.$p.getFullYear()>1){this.$p.setMonth(11);this.$p.setFullYear(this.$p.getFullYear()-1)}}else{this.$p.setMonth(this.$p.getMonth()-1)}this.$l()}},$i:function(e){if(this.$f()){if(this.$p.getMonth()===11){this.$p.setMonth(0);this.$p.setFullYear(this.$p.getFullYear()+1)}else{this.$p.setMonth(this.$p.getMonth()+1)}this.$l()}},$g:function(){return ss.isNullOrUndefined(this.$v)||this.$p>this.$v},$f:function(){return ss.isNullOrUndefined(this.$t)||this.$p<this.$t},$6:function(e){var eQ=bF.$3(new Date);if(!this.$9(eQ)){this.$k(eQ)}},$l:function(){this.$n();this.$o();this.$m();this.element.prop('unselectable','on');this.element.find('*').prop('unselectable','on');this.element.trigger('calendarUpdated')},$n:function(){this.$x.text(this.$y(bF.$3(this.$p)));this.$A.toggleClass('tab-disabled',!this.$g());this.$z.toggleClass('tab-disabled',!this.$f())},$m:function(){this.$E.text(this.$r(bF.$3(new Date)));this.$E.toggleClass('tab-disabled',this.$a(bF.$4(new Date)))},$b:function(e){return $('<td>').addClass('tab-datepicker-day-cell').text(e.getDate().toString()).data(ss.mkdict(['year',e.getFullYear(),'month',e.getMonth(),'dayOfMonth',e.getDate()])).toggleClass('tab-datepicker-day-cell-today',bF.$5(e,new Date)).toggleClass('tab-datepicker-day-cell-selected',!!this.$B&&bF.$5(e,this.$B)).toggleClass('tab-datepicker-day-cell-othermonth',e.getMonth()!==this.$p.getMonth()).toggleClass('tab-disabled',this.$9(e))},$9:function(e){return ss.isValue(this.$u)&&e<this.$u||ss.isValue(this.$s)&&e>this.$s},$a:function(e){return ss.isValue(this.$v)&&e<this.$v||ss.isValue(this.$t)&&e>this.$t},$o:function(){var e=(new Date(this.$p.getFullYear(),this.$p.getMonth(),1)).getDay();var eQ;var eR,eS;var eT,eU,eV;this.$w.html('');eT=$('<thead>').appendTo(this.$w);eV=$('<tr>').appendTo(eT);eQ=this.$q;do{$('<th>').addClass('tab-datepicker-header-cell').text(this.$C[eQ]).appendTo(eV);eQ=bF.$0(eQ,1)}while(eQ!==this.$q);eU=$('<tbody>').appendTo(this.$w);eV=$('<tr>').appendTo(eU);eR=new Date(this.$p.getFullYear(),this.$p.getMonth(),1);eR.setDate(eR.getDate()-bF.$0(e,-this.$q));eS=new Date(this.$p.getFullYear(),this.$p.getMonth()+1,1);eS.setDate(eS.getDate()+bF.$0(this.$q,-eS.getDay()));while(!bF.$5(eR,eS)){this.$b(eR).appendTo(eV);eR.setDate(eR.getDate()+1);if(eR.getDay()===this.$q&&!bF.$5(eR,eS)){eV=$('<tr>').appendTo(eU)}}if(this.$F){var eW=eU.find('tr');if(eW.length<6){var eX=tab.DoubleUtil.roundToInt(eW.height());for(var eY=eW.length;eY<6;++eY){$("<tr><td class='tab-datepicker-day-cell'></td></tr>").height(eX).insertAfter(eW.last())}}}}},spiff.Widget,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(bG,a,{});ss.initClass(bH,a,{render:function(){return(this.props.isShown?this.$0():null)},$0:function(){return React.createElement(SharedWidgets.DialogWidget,this.props.dialogProps)}},React.Component);ss.initClass(bI,a,{$6:function(){var e={onCloseRequest:ss.mkdel(this,this.hide),handleGlassClick:ss.mkdel(this,this.$5)};if(ss.isValue(this.$7)){$.extend(e,this.$7.get_props())}return e},dispose:function(){if(ss.isValue(this.$7)){this.$7.remove_hideDialogRequested(ss.mkdel(this,this.hide))}spiff.BaseViewModel.prototype.dispose.call(this)},show:function(e){if(ss.isNullOrUndefined(e)){return}if(this.$8&&ss.isValue(this.$7)){this.$7.onDialogHidden()}spiff.GlobalUIEvents.fireDismissTemporaryElements();this.$8=true;this.$7=e;this.$7.add_hideDialogRequested(ss.mkdel(this,this.hide));this.$7.add_propsUpdated(ss.mkdel(this,this.incrementProps));this.incrementProps()},hide:function(){if(!this.$8){return}if(ss.isValue(this.$7)){this.$7.remove_hideDialogRequested(ss.mkdel(this,this.hide));this.$7.remove_propsUpdated(ss.mkdel(this,this.incrementProps));this.$7.onDialogHidden();this.$7=null}this.$8=false;this.incrementProps()},createUpdatedProps:function(){return{isShown:this.$8,dialogProps:this.$6()}},$5:function(){if(tsConfig.is_mobile){this.hide()}}},ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]),[ss.IDisposable,tab.IViewModel,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initInterface(cK,a,{attach:null,detach:null,disposeTooltip:null,shownTooltipIsSticky:null,isHoverAllowed:null,shouldShowCommandButtons:null,handleUbertipMenuToggle:null,handleUbertipMenuClose:null,hoverOverObject:null,hoverOverWhitespace:null,multiSelectComplete:null,singleSelectComplete:null,selectionMoved:null,repositionWithinRegion:null,onPanningOrDragging:null,onScroll:null,mouseDown:null});ss.initClass(bJ,a,{attach:function(){},detach:function(){},dispose:function(){},disposeTooltip:function(){},shownTooltipIsSticky:function(){return true},isHoverAllowed:function(e){return true},shouldShowCommandButtons:function(){return true},handleUbertipMenuToggle:function(e){},handleUbertipMenuClose:function(){},hoverOverObject:function(e,eQ,eR,eS){},hoverOverWhitespace:function(e){},multiSelectComplete:function(e){},singleSelectComplete:function(e){},selectionMoved:function(e){},repositionWithinRegion:function(e){},onPanningOrDragging:function(){},onScroll:function(){},mouseDown:function(e,eQ){}},null,[cK,ss.IDisposable]);ss.initClass(bK,a,{get_source:function(){return ss.formatString("url('{0}2') format('woff2'), url('{0}') format('woff')",ss.coalesce(this.woffLocation,''))},clone:function(){var e=new bK;e.set_fontFamily(this.get_fontFamily());e.set_style(this.get_style());e.set_weight(this.get_weight());e.woffLocation=this.woffLocation;return e},equals$2:function(e){return this.equalsIgnoreWoff(e)&&ss.compareStrings(this.woffLocation,e.woffLocation,true)===0},equalsIgnoreWoff:function(e){return this.equals$1(e)},toCSSRules:function(){var e={};e['font-family']=cd.addQuotationMarks(this.get_fontFamily(),true);e['font-weight']=this.get_weight();e['font-style']=this.get_style();e['src']=this.get_source();return e}},tab.FontProperties);ss.initClass(bL,a,{});ss.initClass(bM,a,{handleWidgetPropertyChanged:function(e,eQ){},updateWidgetState:function(e){}},ss.makeGenericType(spiff.ReactSpiffAdapter$3,[bQ,bO,Object]));ss.initClass(bN,a,{show:function(){var e=document.createElement('div');var eQ=function(){_.defer(function(){ReactDOM.unmountComponentAtNode(e)})};var eR={testId:'FileDownload-Dlg',isModal:true,title:this.$3,showCloseButton:true,type:0,positioningBehavior:0,onCloseRequest:eQ,children:this.$2,zIndex:1000};var eS=this.$1(eQ);eR.footerContent=eS;eR.showFooter=true;var eT=React.createElement(SharedWidgets.DialogWidget,eR);ReactDOM.render(eT,e)},$1:function(e){var eQ=bN.$0(e);var eR=this.$0(e);var eS=[];eS.push(eQ);eS.push(eR);var eT=eS;var eU=React.createElement(SharedWidgets.Block,{style:{display:'flex',alignItems:'center',justifyContent:'flex-end',height:'100%'},children:eT});return eU},$0:function(e){var eQ=React.DOM.a({href:this.$4,target:this.$5,className:'tabStyledTextButton tabMediumStyledTextButton tabStyledTextButtonFilledGreen left',style:{textDecoration:'none',wordBreak:'keep-all'},onClick:function(eS){e()},'data-test-id':'DownloadLink'},tab.Strings.DialogButtonDownload);var eR=React.createElement(SharedWidgets.InlineBlock,{children:eQ,className:spiff.ClickBuster.suppressClickBustingClass,style:{paddingLeft:SharedWidgets.TabStyles.Spacing.MediumSpace}});return eR}});ss.initClass(bO,a,{});ss.initClass(bP,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(bQ,a,{get_dom:function(){return this.get_template()},$f:function(){return(tsConfig.is_mobile?tab.Strings.ToolbarPublicDownloadLabelMobile:tab.Strings.ToolbarPublicDownloadLabelWeb)},onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this);this.$9();window.setTimeout(ss.mkdel(this,function(){var e=this.$h.get_menu().menuItems;for(var eQ=0;eQ<e.length;eQ++){var eR=e[eQ];if(eR.enabled){this.$h.set_focusedItem(eR);break}}}),0)},$9:function(){this.get_dom().downloadArea.find('.tabDisabled .tabMenuItemName').attr('title',tab.Strings.ToolbarDisabledDownloadExplanation);if(!this.$i.get_exportCrosstabEnabled()){this.get_dom().downloadArea.find('.tabDisabled.tabDownloadCrosstab .tabMenuItemName').attr('title',tab.Strings.ToolbarDisabledCrosstabDownloadExplanation)}if(!this.$i.get_exportDataEnabled()){this.get_dom().downloadArea.find('.tabDisabled.tabDownloadData .tabMenuItemName').attr('title',tab.Strings.ToolbarDisabledDataDownloadExplanation)}if(!this.$i.get_downloadWorkbookEnabled()){this.get_dom().downloadArea.find('.tabDisabled.tabDownloadWorkbook .tabMenuItemName').attr('title',tab.Strings.ToolbarDisabledWorkbookDownloadExplanation)}},$b:function(){var e=[];if(this.$i.get_shouldShowImage()){e.push(spiff.MenuItem.newActionItemWithItemClass(tab.Strings.ToolbarExportImage,ss.mkdel(this.$i,this.$i.exportImage),'tabDownloadImage'))}var eQ=(this.$i.get_exportDataEnabled()?ss.mkdel(this.$i,this.$i.exportData):null);e.push(spiff.MenuItem.newActionItemWithItemClass(tab.Strings.ToolbarExportData,eQ,'tabDownloadData'));var eR=(this.$i.get_exportCrosstabEnabled()?ss.mkdel(this.$i,this.$i.exportCrosstab):null);e.push(spiff.MenuItem.newActionItemWithItemClass(tab.Strings.ToolbarExportCrosstab,eR,'tabDownloadCrosstab'));if(this.$i.get_shouldShowPdf()){e.push(spiff.MenuItem.newActionItemWithItemClass(tab.Strings.ToolbarPrintToPdf,ss.mkdel(this.$i,this.$i.exportPdf),'tabDownloadPdf'))}if(this.$i.get_shouldShowDownloadWorkbook()){var eS=(this.$i.get_downloadWorkbookEnabled()?ss.mkdel(this.$i,this.$i.downloadWorkbook):null);e.push(spiff.MenuItem.newActionItemWithItemClass(tab.Strings.ToolbarWorkbook,eS,'tabDownloadWorkbook'))}if(this.$j&&eh.$0()){e.push(spiff.MenuItem.newActionItemWithItemClass(this.$f(),ss.mkdel(this,this.$e),'tabPublicApp'))}if(eh.get_toolbarIsBottom()){e.reverse()}return e},$d:function(){if(eh.$0()){return new spiff.UnificationDarkMenuTheme}else{return new spiff.UnificationLightMenuTheme}},$e:function(){window.open(this.$i.get_downloadAppUrl())},$c:function(){this.get_dom().explanationTitle.append(tab.Strings.ToolbarPublicExplanationTitle);this.get_dom().explanationBody.append(tab.Strings.ToolbarPublicExplanationText);var e='<span class=tabWindowsLogo />';var eQ='<span class=tabAppleLogo />';this.get_dom().availablePlatforms.append(tab.Strings.ToolbarPublicAvailablePlatforms(e,eQ));var eR=spiff.LabelButton.newTextButton();eR.set_label(this.$f());eR.add_click(ss.mkdel(this,this.$e));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){eR.remove_click(ss.mkdel(this,this.$e))})));this.get_dom().downloadAppButton.append(eR.element)},$a:function(){var e=new spiff.Menu(this.$b());this.$h=spiff.MenuViewModel.createForMenu(e,null,this.$d(),null,true);this.$h.add_menuItemClicked(spiff.MenuViewModel.handleMenuActionItemClicked);this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$h.remove_menuItemClicked(spiff.MenuViewModel.handleMenuActionItemClicked)})));this.$g=tab.ObjectRegistry.newView(spiff.MenuView).call(null,[this.$h]);this.get_dom().menuArea.append(this.$g.element);if(!this.$j&&eh.$0()){this.$c()}}},ss.makeGenericType(spiff.BaseView$1,[bR]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[bR])]);ss.initClass(bR,a,{add_downloadInitiated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_downloadInitiated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_hideDialogRequested:function(e){this.add_downloadInitiated(e)},remove_hideDialogRequested:function(e){this.remove_downloadInitiated(e)},add_propsUpdated:function(e){},remove_propsUpdated:function(e){},get_viewType:function(){return bQ},get_viewModel:function(){return this},get_props:function(){var e=tab.Strings.ToolbarDownload;var eQ=!tsConfig.is_mobile;var eR=new bO;eR.viewModel=this;return{title:e,testId:'download',type:0,showCloseButton:true,positioningBehavior:0,isModal:true,isGlassTransparent:false,showFooter:false,shouldAdjustPositionOnWindowResize:eQ,shouldRecenterOnUpdate:true,children:React.createElement(bM,eR)}},get_shouldShowDownloadWorkbook:function(){return!tsConfig.is_mobile},get_downloadWorkbookEnabled:function(){return!tsConfig.is_mobile&&(!tsConfig.previewMode&&!ss.isNullOrEmptyString(tsConfig.downloadURI)||tsConfig.is_metrics_view)},get_downloadAppUrl:function(){var e=(ss.isValue(tabBootstrap.ViewerBootstrap.get_instance().location)?tabBootstrap.ViewerBootstrap.get_instance().location.toString():'');return'http://public.tableau.com/s/download?source=viz_toolbar&ref='+e.split('?')[0]},get_shouldShowPdf:function(){return tab.ModelUtils.isLegacyMenuItemEnabled('print')},get_shouldShowImage:function(){return tab.ModelUtils.isLegacyMenuItemEnabled('exportimage')},get_exportDataEnabled:function(){return tab.ModelUtils.isLegacyMenuItemEnabled('exportdata')},get_exportCrosstabEnabled:function(){return tab.ModelUtils.isLegacyMenuItemEnabled('exportcrosstab')},disposeViewModel:function(){this.dispose()},downloadWorkbook:function(){tab.ToolbarServerCommands.downloadWorkbook();this.$2()},exportImage:function(){var e=new ca;e.setSheetScrollPositions(L.get_instance().get_client().get_viewControllers());tab.ToolbarServerCommands.exportImage(e);this.$2()},exportData:function(){tab.ToolbarServerCommands.exportData();this.$2()},exportCrosstab:function(){tab.ToolbarServerCommands.exportCrosstab();this.$2()},exportPdf:function(){tab.ToolbarServerCommands.exportPdf(new ca);this.$2()},updateUberPopupViewModel:function(e){},onDialogHidden:function(){},$2:function(){this.raiseActionEvent(this.$2$1)}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel,spiff.IContent,spiff.IUberPopupContent,ss.makeGenericType(spiff.IPropsProvider$1,[Object]),ct]);ss.initClass(bS,a,{show:function(){spiff.Dialog.prototype.show.call(this);this.showInternal()},showInternal:null},spiff.ModalDialog,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(bT,a,{showInternal:function(){this.get_body().append(this.$P)}},bS,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(bU,a,{showInternal:function(){var e=$('<iframe />');e.attr('src',this.urlToLoadDialogContent);e.attr('tb-test-id',this.$P);this.get_body().append(e)}},bS,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(bV,a,{});ss.initClass(bW,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(bX,a,{},ss.makeGenericType(spiff.BaseView$1,[bY]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[bY])]);ss.initClass(bY,a,{onChildrenAdded:function(){this.dispose()}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel]);ss.initClass(bZ,a,{});ss.initClass(ca,a,{get_sheetScrollPositions:function(){return this.$0},setSheetScrollPositions:function(e){this.$0={};for(var eQ=0;eQ<e.length;eQ++){var eR=e[eQ];this.$0[eR.get_sheetName()]=eR.get_viewWidget().get_scrollPosition()}},triggerExportPdfUI:function(){tab.ModuleManager.load(tab.IPdfExportDialogModule).call(null,[]).done(function(e){var eQ=e.createPdfExportDialog(tab.CommandController.get().get_legacySession(),tsConfig.is_mobile);eQ.add_closed(function(){eQ.dispose();eQ=null});eQ.show()})}},null,[tab.IExportImageHelper,tab.IExportPdfHelper]);ss.initClass(cb,a,{});ss.initClass(cc,a,{});ss.initClass(cd,a,{});ss.initClass(ce,a,{},spiff.Widget,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(cf,a,{show:function(){this.$0.show()},cleanup:function(e){this.$0.closeAndDispose()},dispose:function(){this.$0.dispose()}},U,[ss.IDisposable]);ss.initClass(cg,a,{createOverlay:function(e){var eQ=$('.dashboardSpacer');var eR=$("<div id='auth-overlay'></div>");var eS=ss.mkdel(this,function(){if(ss.isValue(this.onProceed)){this.onProceed()}this.cleanup(e)});var eT=new ce(this.dataSourceConnectionAttemptErrorResponse.ErrorMessage,eS);eR.append(eT.element);eQ.append(eR)},show:function(){var e=new bZ;var eQ=ss.mkdel(this,function(){this.cleanup(e)});eN.add_zoneBecameValid(eQ);e.zoneBecameValidHandler=new tab.CallOnDispose(function(){eN.remove_zoneBecameValid(eQ)});this.createOverlay(e)}},T);ss.initClass(cZ,a,{dispose:function(){if(this.get_viewModel().get_visible()){this.$b=true;this.get_viewModel().hide();return}this.notificationViewModel.remove_shown(ss.mkdel(this,this.shown));this.notificationViewModel.remove_hidden(ss.mkdel(this,this.hidden));ss.makeGenericType(spiff.BaseView$1,[da]).prototype.dispose.call(this)},onViewModelPropertyChanged:function(e,eQ){this.updateContent()},updateContent:function(){this.messageDom.text(this.notificationViewModel.get_message())},hidden:function(){this.element.fadeOut('slow',ss.mkdel(this,this.$a))},shown:function(){this.element.css('display','none');this.element.appendTo($('body'));this.element.fadeIn('fast');this.updateContent();if(this.adjustMargin){this.element.css('margin-left','-'+this.element.outerWidth(true)/2+'px')}},$a:function(){if(this.$b){this.dispose()}else{this.element.detach()}},$9:function(e){this.get_viewModel().hide()}},ss.makeGenericType(spiff.BaseView$1,[da]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[da])]);ss.initClass(ch,a,{},cZ,[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[da])]);ss.initInterface(cA,a,{get_keyCombos:null,get_element:null,onValidKeyCombo:null,isAllowed:null,executeShortcut:null});ss.initClass(cL,a,{$0:function(){return this.$1$1},$1:function(e){this.$1$1=e},get_keyCombos:null,get_element:null,onValidKeyCombo:function(e){if(this.$0()){e.stopPropagation();e.preventDefault()}},isAllowed:null,executeShortcut:null,toString:function(){return this.get_element().attr('class')+this.get_element().attr('id')+this.get_keyCombos()}},null,[cA]);ss.initClass(ci,a,{get_element:function(){return $(document.body)},isAllowed:function(e){return cM.isGloballyAllowed(e)}},cL,[cA]);ss.initClass(cj,a,{get_keyCombos:function(){return cO.op_Implicit(new cN.$ctor1(112))},isAllowed:function(e){return tsConfig.is_authoring||tab.FeatureFlags.isEnabled('WebExperimentalKeyboardShortcuts')},executeShortcut:function(e){window.open(cj.$0)}},ci,[cA]);ss.initClass(ck,a,{});ss.initEnum(cl,a,{rectangle:0,circle:1,line:2,polygon:3});ss.initClass(cJ,a,{$1:null},spiff.Template,[ss.IDisposable]);ss.initClass(cm,a,{$1:function(){this.prevButton.addClass('tabCatLegendScrollLeft');this.nextButton.addClass('tabCatLegendScrollRight')}},cJ,[ss.IDisposable]);ss.initClass(cn,a,{$1:function(){return this.domRoot.find('.message')},$2:function(){return this.domRoot.find('.path')}},spiff.Template,[ss.IDisposable]);ss.initClass(co,a,{$2:function(){return this.domRoot.find('.message')},$1:function(){return this.domRoot.find('a')}},spiff.Template,[ss.IDisposable]);ss.initInterface(cq,a,{},[ss.IDisposable,tab.IAppendableView,ss.makeGenericType(tab.IView$1,[K])]);ss.initInterface(cu,a,{get_filterType:null},[ss.IDisposable]);ss.initInterface(cv,a,{add_remoteUpdateComplete:null,remove_remoteUpdateComplete:null,get_captions:null,get_currentPointIndex:null,clickNext:null,clickPrevious:null});ss.initInterface(cw,a,{get_dashboardViewModel:null,get_flipboardModel:null});ss.initClass(cy,a,{get_container:function(){return this.domRoot},get_frame:function(){return this.get_container().children().first()},setSrc:function(e,eQ){if(!ss.referenceEquals(this.get_frame().prop('original_url'),eQ)){this.get_frame().prop('src',e);this.get_frame().prop('original_url',eQ)}}},spiff.Template,[ss.IDisposable]);ss.initInterface(cz,a,{get_type:null});ss.initClass(cB,a,{});ss.initClass(cC,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(cD,a,{get_domRoot:function(){return this.get_template().domRoot},get_image:function(){return this.$j},$h:function(){return this.get_viewModel()},onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this);if(tsConfig.is_mobile&&tsConfig.is_authoring&&tsConfig.current_sheet_type==='dashboard'){this.element.addClass(spiff.ClickBuster.suppressClickBustingClass)}this.handleNewImageZone()},handleNewImageZone:function(){this.createImageZoneView()},createImageZoneView:function(){var e=ss.mkdict(['position','absolute','overflow','hidden','top','0px','left','0px','right','0px','bottom','0px']);this.get_template().domRoot.css(e);this.$j=this.$b()},$b:function(){var e=$('<img>');var eQ=ss.mkdel(this,function(){if(ss.isNullOrUndefined(this.$j)){window.setTimeout(ss.mkdel(this,function(){this.$i=e.get(0);this.$f()}),1)}else{this.$i=e.get(0);this.$f()}e.off('load')});e.on('load',eQ);var eR=this.$h().get_imageUrl();if(!ss.isNullOrEmptyString(this.$h().get_imageZonePresModel().image)){eR='data:image/jpeg;base64,'+this.$h().get_imageZonePresModel().image}e.css('border','none').css('display','block').attr('src',eR);return e},$9:function(e){this.get_template().domRoot.empty();this.get_template().domRoot.append(e)},$d:function(){this.$f()},$f:function(){var e=this.$h().get_imageZonePresModel();if(e.isScaled){this.$e()}var eQ=this.$g();this.$9(eQ);if(e.isCentered){this.$a(eQ)}return eQ},$c:function(){var e=this.$h().get_zoneModel();var eQ=this.$h().get_imageZonePresModel();var eR=er.absolutizeURI(eQ.url,false);var eS=e.get_zoneCommonModel().get_zoneType()==='bitmap'&&!tab.MiscUtil.isNullOrEmpty$1(eQ.imageKey)&&!tab.MiscUtil.isNullOrEmpty$1(eR);if(eS){return $('<a/>').attr('href',eR).attr('target','_blank').css(ss.mkdict(['position','absolute','outline','none']))}else{return $('<div/>')}},$g:function(){var e=this.get_image();var eQ=this.$c();eQ.append(e);return eQ},$e:function(){var e=this.$h().get_zoneModel();var eQ=this.$i['width'];var eR=this.$i['height'];if(tab.BrowserSupport.get_isIE()){eQ=this.$i['naturalWidth'];eR=this.$i['naturalHeight']}var eS=0;var eT=0;var eU;if(eQ/e.get_zoneCommonModel().get_contentWidth()>=eR/e.get_zoneCommonModel().get_contentHeight()){eU={width:e.get_zoneCommonModel().get_contentWidth()+'px',height:'auto'};eS=e.get_zoneCommonModel().get_contentWidth();eT=ss.Int32.trunc(e.get_zoneCommonModel().get_contentWidth()/eQ*eR)}else{eU={height:e.get_zoneCommonModel().get_contentHeight()+'px',width:'auto'};eT=e.get_zoneCommonModel().get_contentHeight();eS=ss.Int32.trunc(e.get_zoneCommonModel().get_contentHeight()/eR*eQ)}if(tab.BrowserSupport.get_isIE()){var eV=window.screen['deviceXDPI'];var eW=window.screen['systemXDPI'];var eX=eV/eW>1;if(!eX&&eS>0&&eT>0&&eS/eQ<0.75&&eQ<500&&eR<500){var eY=this.$j.get(0).getAttribute('src');var eZ=cB.scaleImage(this.$i,eS,eT,ss.Int32.trunc(eQ),ss.Int32.trunc(eR));this.$j=$(eZ);this.$j.get(0).setAttribute('src',eY);eU=ss.mkdict(['width',eS+'px','height',eT+'px'])}else{this.$j=$(this.$i)}}this.$j.css(eU)},$a:function(e){var eQ=this.$h().get_zoneModel();var eR=ss.Int32.div(eQ.get_zoneCommonModel().get_contentHeight()-tab.DoubleUtil.roundToInt(this.get_image().height()),2);var eS=ss.Int32.div(eQ.get_zoneCommonModel().get_contentWidth()-tab.DoubleUtil.roundToInt(this.get_image().width()),2);e.css(ss.mkdict(['position','absolute','top',eR.toString()+'px','left',eS.toString()+'px']))}},ss.makeGenericType(spiff.BaseView$1,[cE]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[cE])]);ss.initClass(cE,a,{add_newImageZone:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newImageZone:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_zoneModel:function(){return this.$2.get_zoneModel()},get_imageZonePresModel:function(){return this.$2.pm},get_imageUrl:function(){var e=tab.CommandController.get().get_legacySession();var eQ=e.formatDashboardTempfileReference(this.get_imageZonePresModel().imageKey,true,false);return eQ},handleNewImageZone:function(){if(ss.isValue(this.$2$1)){this.$2$1()}}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel]);ss.initInterface(cF,a,{get_location:null,set_location:null});ss.initInterface(cG,a,{instantiate:null,instantiateFromDomain:null,layout:null,destroy:null,setNewState:null,updateReadout:null});ss.initInterface(cH,a,{get_caption:null,get_isCurrentPoint:null,get_isCaptured:null,get_storyPointId:null,get_storyPointIndex:null,get_selectedStoryPointStyle:null,get_unselectedStoryPointStyle:null,clickStoryPoint:null,revertStoryPoint:null});ss.initClass(cI,a,{get_domRoot:function(){return this.$c.domRoot},get_scrollIncrement:function(){return this.$b},set_scrollIncrement:function(e){this.$b=e},$6:function(){return(this.$9?this.$a.scrollLeft():tab.DoubleUtil.roundToInt(this.$a.scrollTop()))},$7:function(e){if(this.$9){this.$a.scrollLeft(e)}else{this.$a.scrollTop(e)}},$5:function(){if(this.$9){return this.$a.children()[0].scrollWidth-tab.DoubleUtil.roundToInt(this.$a.width())}else{return this.$a.children()[0].scrollHeight-tab.DoubleUtil.roundToInt(this.$a.height())}},reset:function(){if(this.$9){this.$a.scrollLeft(0)}else{this.$a.scrollTop(0)}this.updateButtonState()},dispose:function(){this.$c.dispose();this.$8.dispose()},$3:function(e){this.$7(Math.max(0,this.$6()-this.$b));this.updateButtonState()},$2:function(e){this.$7(Math.min(this.$5(),this.$6()+this.$b));this.updateButtonState()},updateButtonState:function(){this.$4(this.$c.prevButton,this.$1());this.$4(this.$c.nextButton,this.$0())},$1:function(){return this.$6()>0},$0:function(){return this.$6()<this.$5()},$4:function(e,eQ){e.toggleClass('tabIterButtonDisabled',!eQ)}},null,[ss.IDisposable]);ss.initClass(cM,a,{});ss.initClass(cN,a,{get_qualifiers:function(){return this.$1$1},set_qualifiers:function(e){this.$1$1=e},get_triggerKey:function(){return this.$1$2},set_triggerKey:function(e){this.$1$2=e},toString:function(){return String.fromCharCode(this.get_triggerKey())+this.get_qualifiers()}});cN.$ctor2.prototype=cN.$ctor3.prototype=cN.$ctor1.prototype=cN.prototype;ss.initClass(cO,a,{$0:function(){return this.$1$1},$1:function(e){this.$1$1=e},hasValidCombo:function(e){var eQ=e.which;return _.any(this.$0(),function(eR){return eQ===eR.get_triggerKey()&&eR.get_qualifiers().hasValidQualifiers(e)})},toString:function(){return this.$0().toString()}});ss.initClass(cP,a,{$1:function(){if(tab.BrowserSupport.get_isMac()){this.command=true}else{this.control=true}if(tab.BrowserSupport.get_isWindows()){this.winControl=true}},hasValidQualifiers:function(e){return this.alt===e.altKey&&this.command===cP.$0(e)&&this.control===e.ctrlKey&&this.controlOrCommand===this.$0(e)&&this.macControl===cP.$1(e)&&this.shift===e.shiftKey&&this.winControl===cP.$2(e)&&this.windows===cP.$3(e)},$0:function(e){if(!this.controlOrCommand&&(this.winControl||this.macControl)){return false}return(tab.BrowserSupport.get_isMac()?e.metaKey:e.ctrlKey)},toString:function(){return this.alt.toString()+this.command+this.control+this.controlOrCommand+this.macControl+this.shift+this.winControl+this.windows}});ss.initClass(cQ,a,{render:function(){var e=((this.props.marginOfError>0.1)?this.props.tooltipText:'');return React.DOM.div({className:'tab-MapScale',title:e,style:this.$2()},React.DOM.div({className:'tab-MapScaleOuterHalo',style:this.$0()}),React.DOM.div({className:'tab-MapScaleInnerHalo',style:this.$0()}),React.DOM.label({className:'tab-MapScaleReadout',style:this.$1()},this.props.readoutText))},$2:function(){var e=(this.props.shouldShowMapScale?'':'none');return{width:this.props.width+'px',color:this.props.readoutColor,borderColor:this.props.readoutColor,display:e}},$1:function(){var e='1px 1px 0 '+this.props.borderColor+', 1px -1px 0 '+this.props.borderColor+', -1px 1px 0 '+this.props.borderColor+', -1px -1px 0 '+this.props.borderColor;return{textShadow:e}},$0:function(){return{borderColor:this.props.borderColor}}},React.Component);ss.initClass(cR,a,{createUpdatedProps:function(){var e=this.$5;if(!e.get_hasPresModel()){return cR.$0}return{width:e.get_mapScaleWidth(),readoutText:e.get_mapScaleReadoutString(),readoutColor:e.get_mapScaleColor(),borderColor:e.get_mapScaleBorderColor(),shouldShowMapScale:e.get_shouldShowMapScale(),marginOfError:e.get_mapScaleMarginOfError(),tooltipText:e.get_mapScaleTooltipString()}},handleUpdatedMapScaleInfo:function(){this.incrementProps()}},ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]),[ss.IDisposable,tab.IViewModel,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initClass(cS,a,{});ss.initClass(cT,a,{dispose:function(){$(document).off('.ModifierKeyState')},$0:function(e){cT.fireModifierKeysChanged(e)}},null,[ss.IDisposable]);ss.initClass(cU,a,{});ss.initClass(cV,a,{});ss.initClass(cW,a,{add_fontsReady:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_fontsReady:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_fontDownloading:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_fontDownloading:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},reset:function(){},addFonts:function(e){for(var eQ=0;eQ<e.length;eQ++){var eR=e[eQ];var eS=ss.mkdict(['style',eR.get_style(),'weight',eR.get_weight()]);var eT=new FontFace(eR.get_fontFamily(),eR.get_source(),eS);if(ss.keyExists(this.$2,eR.get_hash())){continue}cW.$0().add(eT);this.$2[eR.get_hash()]=eT}},downloadFonts:function(){var e=_.values(this.$2);for(var eQ=0;eQ<e.length;eQ++){var eR=e[eQ];if(eR.status==='unloaded'){this.$3.push(eR.load());this.$0()}}},finishDownloadingFonts:function(){if(this.$3.length>0){Promise.all(this.$3).then(ss.mkdel(this,this.$1))}else{this.$1()}},$1:function(){if(!ss.staticEquals(this.$1$1,null)){this.$1$1()}},$0:function(){if(!ss.staticEquals(this.$1$2,null)){this.$1$2()}}},null,[cx]);ss.initClass(cX,a,{});ss.initEnum(cY,a,{localOnly:0,needRemote:1,needRemoteForViTOnly:2});ss.initClass(da,a,{add_shown:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_shown:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_hidden:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_hidden:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_message:function(){return this.$6},set_message:function(e){this.$6=e},get_visible:function(){return this.$7},get_autoHideTimeout:function(){return this.$4},set_autoHideTimeout:function(e){this.$4=e},get_displayPosition:function(){return this.$5},set_displayPosition:function(e){this.$5=e},show:function(){if(this.$7){return}this.$7=true;if(this.$4>0){this.$3=window.setTimeout(ss.mkdel(this,this.hide),this.$4)}this.raiseActionEvent(this.$2$1)},disposeOnHide:function(){this.add_hidden(ss.mkdel(this,this.dispose));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_hidden(ss.mkdel(this,this.dispose))})))},hide:function(){if(this.$7===false){return}this.$7=false;window.clearTimeout(this.$3);this.raiseActionEvent(this.$2$2)},$2:function(e,eQ){this.hide()}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel]);ss.initClass(db,a,{get_location:function(){return{x:ss.Int32.trunc(this.$7.x),y:ss.Int32.trunc(this.$7.y)}},set_location:function(e){this.$7={x:e.x,y:e.y};this.$6()},clone:function(){return new db(this.$8.get(0),this.element.attr('src'))},show:function(e){this.$7=e;this.$6()},hide:function(){this.element.detach()},$6:function(){if(!ss.referenceEquals(this.element.parent()[0],this.$8[0])){this.$8.append(this.element)}if(ss.isNullOrUndefined(this.$7)){return}var e=this.$7.y;var eQ=this.$7.x;this.element.css(ss.mkdict(['top',e+'px','left',eQ+'px']))}},spiff.Widget,[tab.IWidget,tab.IAppendableView,ss.IDisposable,cF]);ss.initClass(dc,a,{buildItem:function(e){var eQ=['tabPagableUserListItem'];if(ss.referenceEquals(e,this.props.activeUser)){eQ.push('active')}return React.DOM.div({className:eQ.join(' '),style:{whiteSpace:'nowrap'},title:e.friendlyName},e.friendlyName)},getUniqueKey:function(e){return e.id},getEventHandleSpecForItem:function(e){return{tap:ss.mkdel(this,function(eQ){this.props.userListViewModel.selectUser(e.data)})}},onScrollStop:function(e,eQ){this.props.userListViewModel.handleScrollStop(e,eQ)},shouldScrollbarAlwaysBeShown:function(){return true}},ss.makeGenericType(spiff.PagableListComponent$2,[Object,Object]));ss.initClass(dd,a,{},ss.makeGenericType(spiff.BaseView$1,[de]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[de])]);ss.initClass(de,a,{activate:function(){if(!ss.staticEquals(this.$2,null)){this.$2()}}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel]);ss.initClass(df,a,{handleWidgetPropertyChanged:function(e,eQ){},updateWidgetState:function(e){}},ss.makeGenericType(spiff.ReactSpiffAdapter$3,[di,dg,Object]));ss.initClass(dg,a,{});ss.initClass(dh,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(di,a,{get_dom:function(){return this.get_template()},$d:function(){this.get_dom().moreAboutPublicSection.empty();this.get_dom().viewAndAuthorInfoSection.empty();this.$b();if(this.$e.get_shouldShowViewCount()){this.$c();if(this.$e.get_shouldShowAuthorByLine()){this.$a()}}if(this.$e.get_shouldShowAuthorByLine()){this.$9()}},$b:function(){this.get_dom().moreAboutPublicSection.attr('href',this.$e.get_publicLogoLink());this.get_dom().moreAboutPublicSection.text(tab.Strings.ToolbarLearnMoreAboutTableau)},$c:function(){var e=$('<span>').text(tab.Strings.ToolbarViewCount(this.$e.get_localizedViewCount()));this.get_dom().viewAndAuthorInfoSection.append(e)},$a:function(){var e=$('<span>');e.addClass('tab-belowPublicDivider');e.text('|');this.get_dom().viewAndAuthorInfoSection.append(e)},$9:function(){var e=$('<span>').html(this.$e.get_authorProfileLink());this.get_dom().viewAndAuthorInfoSection.append(e)},onAddedToDom:function(){this.$d();spiff.Widget.prototype.onAddedToDom.call(this)}},ss.makeGenericType(spiff.BaseView$1,[dj]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[dj])]);ss.initClass(dj,a,{add_hideDialogRequested:function(e){},remove_hideDialogRequested:function(e){},add_propsUpdated:function(e){},remove_propsUpdated:function(e){},get_viewType:function(){return di},get_viewModel:function(){return this},get_props:function(){var e=tab.Strings.ToolbarMoreInfo;var eQ=new dg;eQ.viewModel=this;return{title:e,testId:'public-info',type:0,showCloseButton:true,positioningBehavior:0,isModal:true,isGlassTransparent:false,dialogWidth:260,showFooter:false,shouldRecenterOnUpdate:true,children:React.createElement(df,eQ)}},get_shouldShowAuthorByLine:function(){return eh.$0()&&tsConfig.show_byline},get_shouldShowViewCount:function(){return eh.$0()&&tsConfig.showViewCount&&eh.publicViewCount>tsConfig.viewCountThreshold},get_publicLogoLink:function(){var e=(ss.isValue(tabBootstrap.ViewerBootstrap.get_instance().location)?tabBootstrap.ViewerBootstrap.get_instance().location.toString():'');return tsConfig.watermarklink+'?ref='+e.split('?')[0]},get_authorProfileLink:function(){var e=window.location;var eQ=ss.formatString('{0}//{1}/profile/app/rdr/repo?workbook={2}',e.protocol,e.hostname,tsConfig.workbook_repo_url);return ss.formatString('<a class="tab-toolbarAuthorByText" target="_blank" href="{0}">{1}</a>',tableau.format.escapeHTML(eQ),tableau.format.escapeHTML(tab.Strings.ToolbarMoreByAuthor))},get_localizedViewCount:function(){var e=tab.ApplicationModel.get_instance().get_appPresModel().numberFormats;var eQ=e[2];var eR=e[8];var eS=e[9];return tableau.format.formatIntAuto(eh.publicViewCount,eQ,eR,eS)},disposeViewModel:function(){this.dispose()},updateUberPopupViewModel:function(e){},onDialogHidden:function(){}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel,spiff.IContent,spiff.IUberPopupContent,ss.makeGenericType(spiff.IPropsProvider$1,[Object]),ct]);ss.initClass(dl,a,{});ss.initClass(dm,a,{render:function(){var e=['tab-legacy-dropdown-container','tab-legacy-qf-bordered'].join(' ');var eQ={borderColor:this.props.borderColor};return React.DOM.div({className:e,style:eQ},React.DOM.div({className:'tab-legacy-dropdown-summary'},this.props.children),(!this.props.hideIcon?ss.mkdel(this,this.renderIcon)():null))},renderIcon:function(){var e={borderColor:this.props.borderColor};return React.DOM.div({className:'tab-legacy-dropdown-icon-container',style:e},React.DOM.div({className:'tab-legacy-dropdown-icon'}))}},spiff.PureRenderComponent);ss.initClass(dn,a,{render:function(){var e=['tab-legacy-qf-readout-container','tab-legacy-qf-bordered'].join(' ');var eQ={borderColor:this.props.borderColor};return React.DOM.div({className:e,style:eQ},this.$1(),(!this.props.hideIcon?ss.mkdel(this,this.$0)():null))},$1:function(){var e=(ss.isNullOrEmptyString(this.props.text)?' ':this.props.text);var eQ=['tab-legacy-qf-readout-text',this.props.textClass].join(' ');return React.DOM.div({className:eQ},e)},$0:function(){var e=['tab-legacy-qf-readout-icon',this.props.iconClass].join(' ');return React.DOM.div({className:e})}},spiff.PureRenderComponent);ss.initClass(dp,a,{get_type:function(){return 0},get_geom:function(){return this.$0}},null,[cz]);ss.initClass(eq,a,{isAllowed:function(e){return ci.prototype.isAllowed.call(this,e)&&!eq.get_isUndoingOrRedoing()},executeShortcut$1:function(e){eq.set_isUndoingOrRedoing(true);e();eq.set_isUndoingOrRedoing(false)}},ci,[cA]);ss.initClass(dq,a,{get_keyCombos:function(){var e=new cN.$ctor2(new cP(false,false,false,true,false,false,false,false),89);var eQ=new cP(false,false,false,true,false,true,false,false);var eR=new cN.$ctor2(eQ,90);var eS=new cP(true,false,false,false,false,true,false,false);var eT=new cN.$ctor3(eS,8);return new cO(e,[eR,eT])},executeShortcut:function(e){this.executeShortcut$1(ss.mkdel(this,function(){tab.WorksheetServerCommands.redo$1(eq.undoRedoSuccess,eq.undoRedoFailure)}))}},eq,[cA]);ss.initClass(dr,a,{});ss.initClass(ds,a,{add_fontsReady:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_fontsReady:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_fontDownloading:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_fontDownloading:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},reset:function(){this.$2()},addFonts:function(e){for(var eQ=0;eQ<e.length;eQ++){var eR=e[eQ];if(!ss.keyExists(this.$b,eR.woffLocation)){var eS=this.$1(eR);this.$b[eR.woffLocation]=new h(eS)}var eT=this.$b[eR.woffLocation];if(!_.contains(eT.$2,eR)&&!_.contains(eT.$1,eR)){this.$b[eR.woffLocation].$2.push(eR)}}},downloadFonts:function(){this.updateMeasurementDivs()},finishDownloadingFonts:function(){this.updateMeasurementDivs();this.$7()},updateMeasurementDivs:function(){if(ss.isNullOrUndefined(this.$8)){this.$8=ds.$0('tab-baselineFontMeasurer',["'Courier New', Monaco, monospace"]);this.$8.appendTo(document.body)}if(ss.isNullOrUndefined(this.$a)){this.$a=$('<canvas/>').css(ds.$4).appendTo(document.body)[0];this.$9=this.$a.getContext('2d')}var e=_.values(this.$b);for(var eQ=0;eQ<e.length;eQ++){var eR=e[eQ];if(ss.isValue(eR.$3)&&!ss.referenceEquals(eR.$3[0].parentElement,document.body)){eR.$3.appendTo(document.body)}}},updateFontState:function(){var e=_.values(this.$b);for(var eQ=0;eQ<e.length;eQ++){var eR=e[eQ];if(ss.isNullOrUndefined(eR.$3)){continue}this.$9.font='100% '+eR.$0;var eS=tab.DoubleUtil.roundToInt(this.$9.measureText('The quick brown fox jumps over the lazy dog iiilllest').width);if(!ds.$3(eR.$3,this.$8)&&eS===tab.DoubleUtil.roundToInt(eR.$3.width())){eR.$3=null}else{this.$4()}}},isDownloadingDone:function(){var e=_.values(this.$b);for(var eQ=0;eQ<e.length;eQ++){var eR=e[eQ];if(ss.isValue(eR.$3)){return false}}return true},$1:function(e){var eQ="'"+e.woffLocation.substr(e.woffLocation.lastIndexOf('/')+1)+"'";var eR=new bK;eR.set_fontFamily(eQ);eR.woffLocation=e.woffLocation;var eS=eR;tab.StyleUtil.appendCSSRuleToStyleSheet$1('tab-renderAndCheckFontLoader','@font-face',eS.toCSSRules());var eT=ds.$0('tab-hiddenFontMeasurer',[eS.get_fontFamily(),"'Courier New', Monaco, monospace"]);return eT},$7:function(){this.$2();var e=this.$3();if(e){return}this.$c=window.setInterval(ss.mkdel(this,function(){this.$3()}),100)},$3:function(){this.$d++;this.updateFontState();var e=this.isDownloadingDone();if(e||this.$d>1200){this.$2();this.$6();if(e){this.$0()}return true}return false},$2:function(){window.clearInterval(this.$c);this.$c=0;this.$d=0},$6:function(){if(ss.isValue(this.$8)){this.$8.remove();this.$8=null}if(ss.isValue(this.$a)){this.$9=null;this.$a.parentNode.removeChild(this.$a);this.$a=null}$('body > .tab-hiddenFontMeasurer').remove()},$4:function(){if(!ss.staticEquals(this.$1$2,null)){this.$1$2()}},$5:function(){if(!ss.staticEquals(this.$1$1,null)){this.$1$1()}},$0:function(){var e=_.values(this.$b);for(var eQ=0;eQ<e.length;eQ++){var eR=e[eQ];while(eR.$2.length>0){var eS=eR.$2.pop();eR.$1.push(eS);tab.StyleUtil.appendCSSRuleToStyleSheet$1('tab-renderAndCheckFontLoader','@font-face',eS.toCSSRules())}}this.$5()}},null,[cx]);ss.initClass(dt,a,{});ss.initClass(du,a,{});ss.initClass(dv,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(dw,a,{get_dom:function(){return this.get_template()},$a:function(){this.$d();this.$b()},$9:function(){this.$d();this.$b()},$c:function(){this.$b()},$b:function(){if(tab.FeatureFlags.isEnabled('IframeSizedToWindow')){this.get_dom().drawerContainer.css({'flex-grow':'0','flex-shrink':'0','flex-basis':this.get_viewModel().get_drawerWidth()+'px',order:'2',position:'relative'})}else{this.get_dom().drawerContainer.css({position:'absolute',top:this.$f.get_drawerTopOffset()+'px',right:this.$f.get_drawerRightOffset()+'px',width:this.$f.get_drawerWidth()+'px',height:this.$f.get_drawerHeight()+'px',visibility:'visible'})}},$d:function(){tab.MiscUtil.dispose$1(this.$e);this.$e=tab.ObjectRegistry.newView$1(ss.makeGenericType(tab.IView$1,[tab.IViewModel])).call(null,this.$f.get_content().get_viewType(),[this.$f.get_content().get_viewModel()]);this.$e.addToDom(this.get_dom().drawerContainer)}},ss.makeGenericType(spiff.BaseView$1,[dx]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[dx])]);ss.initClass(dx,a,{add_open:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_open:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_close:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_close:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_refresh:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_refresh:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},get_content:function(){return this.$3},get_drawerWidth:function(){return tabBootstrap.ViewerBootstrap.get_instance().get_rightAreaDrawerWidth()},get_drawerHeight:function(){return(tab.FeatureFlags.isEnabled('IframeSizedToWindow')?O.calculateDashboardViewportBounds().h:(O.getClientBounds().h+this.$2()))},get_drawerTopOffset:function(){return(tab.FeatureFlags.isEnabled('IframeSizedToWindow')?O.calculateDashboardViewportBounds().t:(O.getClientBounds().t-this.$2()))},get_drawerRightOffset:function(){return 0},$2:function(){var e=0;if(tabBootstrap.VizLayoutConstants.get_shouldShowTabs()&&ss.isValue(L.get_instance().get_tabbedNavigation())){e=L.get_instance().get_tabHeight()}return e},get_isOpen:function(){return this.$2$4},set_isOpen:function(e){this.$2$4=e},toggle:function(){if(this.get_isOpen()){this.closeDrawer()}else{this.openDrawer()}},openDrawer:function(){tabBootstrap.ViewerBootstrap.get_instance().set_rightAreaDrawerWidth(Math.floor(320));this.raiseActionEvent(this.$2$1);this.set_isOpen(true)},closeDrawer:function(){tabBootstrap.ViewerBootstrap.get_instance().set_rightAreaDrawerWidth(Math.floor(0));this.raiseActionEvent(this.$2$2);this.set_isOpen(false)},refreshDrawer:function(){if(this.get_isOpen()){this.raiseActionEvent(this.$2$3)}}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel]);ss.initClass(dy,a,{add_fontPreparationComplete:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_fontPreparationComplete:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},get_fontsLoadedPromise:function(){return this.$4},initialize:function(e){this.$5.reset();this.$8=false;this.$4=$.Deferred();if(e){this.$3=bd.get_instance().hold(1)}},registerServerLoadedFonts:function(e){for(var eQ=0;eQ<e.length;eQ++){var eR=e[eQ];var eS=eR.get_hash();if(!ss.keyExists(this.$6,eS)){this.$6[eS]=eR}}},notifyDownloadableFont:function(e){if(this.$8){return}var eQ=[];for(var eR=0;eR<e.length;eR++){var eS=e[eR];var eT=eS.get_hash();if(ss.keyExists(this.$6,eT)){eQ.push(this.$6[eT])}}if(ss.isValue(eQ)&&eQ.length>0){this.$5.addFonts(eQ)}},downloadFonts:function(){var e=tabBootstrap.MetricsController.createContext('DownloadFonts',128,null);try{this.$5.downloadFonts()}finally{if(ss.isValue(e)){e.dispose()}}},allFontsFound:function(){this.$8=true;this.$5.finishDownloadingFonts()},$0:function(){this.$7=true},$1:function(){cb.logFontsLoaded();if(this.$7){this.$2();this.$7=false}if(ss.isValue(this.$3)){this.$3.dispose()}this.$4.resolve()},$2:function(){tab.WindowHelper.requestAnimationFrame(ss.mkdel(this,function(){tab.WindowHelper.setTimeout(ss.mkdel(this,function(){if(!ss.staticEquals(this.$1$1,null)){this.$1$1()}}),200)}))}});ss.initClass(dz,a,{handleWidgetPropertyChanged:function(e,eQ){},updateWidgetState:function(e){}},ss.makeGenericType(spiff.ReactSpiffAdapter$3,[dC,dA,Object]));ss.initClass(dA,a,{});ss.initClass(dB,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(dC,a,{get_dom:function(){return this.get_template()},$9:function(){var e=$("\n            <div class='tab-shareLinkSection'>\n                <span class='tab-shareLinkTitle tab-shareTitle'/>\n                <span class='tab-shareLinkInput'/>\n                <div class='tab-shareLinkButtons'/>\n            </div>");var eQ=$("\n            <div class='tab-shareEmbedSection'>\n                <span class='tab-shareEmbedTitle tab-shareTitle'/>\n                <span class='tab-shareEmbedInput'/>\n            </div>");if(this.$g.get_allowSharingDifferentViews()){this.get_dom().shareArea.append($("\n            <div class='tab-shareViewStateSection'>\n                <span class='tab-shareCurrentView tab-shareViewToggle'/><span class='tab-shareOriginalView tab-shareViewToggle'/>\n            </div>"));this.get_dom().shareStateArea=this.get_dom().getElementBySelector('.tab-shareViewStateSection');this.get_dom().shareCurrentView=this.get_dom().getElementBySelector('.tab-shareCurrentView');this.get_dom().shareOriginalView=this.get_dom().getElementBySelector('.tab-shareOriginalView')}this.get_dom().shareArea.append(eQ);this.get_dom().shareArea.append(e);this.get_dom().shareLinkSection=this.get_dom().getElementBySelector('.tab-shareLinkSection');this.get_dom().shareLinkTitle=this.get_dom().getElementBySelector('.tab-shareLinkTitle');this.get_dom().shareLinkButtons=this.get_dom().getElementBySelector('.tab-shareLinkButtons');this.get_dom().shareLinkInput=this.$a().get_inputElement();this.get_dom().getElementBySelector('.tab-shareLinkInput').replaceWith(this.get_dom().shareLinkInput);this.get_dom().shareEmbedTitle=this.get_dom().getElementBySelector('.tab-shareEmbedTitle');this.get_dom().shareEmbedInput=this.$a().get_inputElement();this.get_dom().getElementBySelector('.tab-shareEmbedInput').replaceWith(this.get_dom().shareEmbedInput);if(!tsConfig.is_mobile){this.get_dom().shareLinkInput.click(ss.mkdel(this,function(eV){this.get_dom().shareLinkInput.focus();this.get_dom().shareLinkInput.select()}));this.get_dom().shareEmbedInput.click(ss.mkdel(this,function(eV){this.get_dom().shareEmbedInput.focus();this.get_dom().shareEmbedInput.select()}))}this.get_dom().shareLinkButtons.empty();if(this.$g.get_shouldShowSocialShareOptions()){var eR=new spiff.IconButton;eR.addClass('tab-shareIconButton');eR.addClass('tab-shareSocialMail');eR.setIcon('tab-shareMailIcon');eR.onClick(ss.mkdel(this,function(eV){this.$g.doSendEmailAction()}));this.get_dom().shareLinkButtons.append(eR.element);var eS=$("<div class='tab-shareIconButton tab-shareSocialTwitter'/>");eS.click(ss.mkdel(this,function(eV){this.$g.doTwitterShareAction()}));this.get_dom().shareLinkButtons.append(eS);var eT=$("<div class='tab-shareIconButton tab-shareSocialFacebook'/>");eT.click(ss.mkdel(this,function(eV){this.$g.doFacebookShareAction()}));this.get_dom().shareLinkButtons.append(eT)}else{var eU=spiff.StyledTextButton.createUnificationLabelButton(ss.mkdel(this.$g,this.$g.doSendEmailAction),tab.Strings.ShareDialogEmailLink,null,0,null);this.get_dom().shareLinkButtons.append(eU.element)}},$d:function(){this.get_dom().shareLinkTitle.html(this.$g.get_linkLabel());this.get_dom().shareEmbedTitle.html(this.$g.get_embedLabel());this.$b();this.$e()},$b:function(){if(!this.$g.get_allowSharingDifferentViews()){return}var e;var eQ;if(this.$f){var eR=$("<input type='radio' name='state' checked>"+this.$g.get_currentViewLabel()+'</input>');this.get_dom().shareCurrentView.append(eR);this.get_dom().shareCurrentView.addClass('narrow');var eS=$("<input type='radio' name='state'>"+this.$g.get_originalViewLabel()+'</input>');this.get_dom().shareOriginalView.append(eS);this.get_dom().shareOriginalView.addClass('narrow');this.get_dom().shareStateArea.height(tab.DoubleUtil.roundToInt(this.get_dom().shareStateArea.height())+15);e=new spiff.ToggleButton(eR);eQ=new spiff.ToggleButton(eS);this.get_dom().shareStateArea.addClass('narrow')}else{this.get_dom().shareCurrentView.html(this.$g.get_currentViewLabel());this.get_dom().shareOriginalView.html(this.$g.get_originalViewLabel());e=new spiff.ToggleButton(this.get_dom().shareCurrentView);eQ=new spiff.ToggleButton(this.get_dom().shareOriginalView)}var eT=new spiff.SelectableGroup;eT.addItem(e);eT.addItem(eQ);eT.selectItem(e);this.$g.set_shouldShareOriginalView(false);eQ.add_propertyChanged(ss.mkdel(this,this.$c));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){eQ.remove_propertyChanged(ss.mkdel(this,this.$c))})));this.disposables.add$1(eT)},$c:function(e,eQ){if(eQ.get_propertyName()==='selected'){this.$g.set_shouldShareOriginalView(e.get_selected());this.$e()}},$e:function(){var e=this.$g.generateShareBaseUrl();if(ss.isNullOrEmptyString(e)){this.get_dom().shareLinkSection.hide()}else{var eQ=this.$g.generateShareUrl();this.get_dom().shareLinkInput.val(eQ);this.get_dom().shareLinkSection.show()}this.$g.generateEmbedCode().always(ss.mkdel(this,function(eR){this.get_dom().shareEmbedInput.val(eR)}))},onAddedToDom:function(){this.$d();spiff.Widget.prototype.onAddedToDom.call(this)},$a:function(){var e=spiff.TextInputView.newTextInputView('','',null,!tsConfig.is_mobile);e.get_inputElement().addClass('tab-shareInput');return e}},ss.makeGenericType(spiff.BaseView$1,[dD]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[dD])]);ss.initClass(dD,a,{add_hideDialogRequested:function(e){},remove_hideDialogRequested:function(e){},add_propsUpdated:function(e){},remove_propsUpdated:function(e){},get_viewType:function(){return dC},get_viewModel:function(){return this},get_props:function(){var e=tab.Strings.ToolbarShare;var eQ=!tsConfig.is_mobile;var eR=new dA;eR.viewModel=this;return{title:e,testId:'share',type:0,showCloseButton:true,positioningBehavior:0,isModal:true,isGlassTransparent:false,dialogWidth:260,showFooter:false,shouldAdjustPositionOnWindowResize:eQ,shouldRecenterOnUpdate:true,children:React.createElement(dz,eR)}},get_allowSharingDifferentViews:function(){if(!eh.$0()||!tsConfig.statefulURL){return false}if(this.$9()){return true}return tab.ApplicationModel.get_instance().get_workbook().get_isCurrentDashboardModified()},get_shouldShareOriginalView:function(){return this.$a},set_shouldShareOriginalView:function(e){this.$a=e},get_shouldShowSocialShareOptions:function(){return eh.$0()},get_linkLabel:function(){return tab.Strings.ToolbarSendTitle},get_embedLabel:function(){return tab.Strings.ToolbarEmbedTitle},get_currentViewLabel:function(){return tab.Strings.ToolbarCurrentView},get_originalViewLabel:function(){return tab.Strings.ToolbarOriginalView},$9:function(){return!tab.MiscUtil.isNullOrEmpty$1(tsConfig.guid)},disposeViewModel:function(){this.dispose()},saveSharedView:function(){if(!this.get_allowSharingDifferentViews()){return}tab.XhrUtil.guid=null;if(tsConfig.statefulURL){var e=this.$6();if(e==='null'||ss.isNullOrUndefined(e)){e=''}tab.CommandController.get().get_legacySession().saveSharedView('',e,function(){})}},generateShareUrl:function(){var e=this.generateShareBaseUrl();e=dD.$3(e,tsConfig.toolbarvis,tsConfig.toolbarvisDefault,'toolbar');e=dD.$3(e,tabBootstrap.VizLayoutConstants.get_shouldShowTabs(),tsConfig.showTabsDefault,'tabs');e=dD.$3(e,eh.$0()&&tsConfig.showViewCount,tsConfig.showViewCountDefault,'display_count');e=dD.$3(e,false,false,'size');e=dD.$3(e,false,false,'commentingEnabled');e=dD.$3(e,false,false,'isVizPortal');e=dD.$3(e,tab.MiscUtil.sanatizeBoolean(tsConfig.showVizHome),true,'showVizHome');return e},generateShareBaseUrl:function(){var e=tsConfig.requestURI;if(!this.get_shouldShareOriginalView()&&this.get_allowSharingDifferentViews()){var eQ=tab.XhrUtil.guid;var eR=window.location;var eS=(tsConfig.forceHttpsForPublicEmbed?'https:':eR.protocol);var eT=eS+'//'+eR.hostname+dD.currentViewPath;if(!tab.MiscUtil.isNullOrEmpty$1(eQ)){e=eT+eQ}else if(!tab.MiscUtil.isNullOrEmpty$1(tsConfig.guid)){e=eT+tsConfig.guid}}return e},generateApiBasedEmbedCode:function(){var e=tab.VizUriModel.createForCurrentWindowLocation();var eQ=tableau.util.parseUri(e.get_absoluteUri());var eR=dD.$6(eQ);var eS=this.$3(this.$7());var eT=tableau.format.escapeHTML(dD.$4());var eU;var eV=tab.ModelUtils.findContentDashboard();if(eV.get_isDashboard()&&eV.get_deviceLayouts().length>0){eU=dD.$0()}else{var eW=tab.DashboardCommands.getCurrentSheetSizeConstraints().pipe(function(eX){return dD.$1(eX,0.75)},function(eX){return''});eU=eW}return eU.pipe(ss.mkdel(this,function(eX){return this.$2(eR,eS,eT,eX)}),function(eX){return''})},$3:function(e){var eQ='';if(!tab.MiscUtil.isNullOrEmpty$1(e)){var eR=tableau.format.escapeHTML;var eS=ss.coalesce(this.$6(),'#');eQ="<noscript><a href='"+eR(eS)+"'>"+"<img alt='"+eR(tsConfig.embeddedTitle)+" ' src='"+eR(e)+"' style='border: none' /></a></noscript>"}return eQ},$2:function(e,eQ,eR,eS){var eT="\n                <script type='text/javascript'>\n                    var divElement = document.getElementById('{0}');\n                    var vizElement = divElement.getElementsByTagName('object')[0];\n                    {1}\n                    var scriptElement = document.createElement('script');\n                    scriptElement.src = '{2}';\n                    vizElement.parentNode.insertBefore(scriptElement, vizElement);\n                </script>";var eU=ss.formatString(eT,eR,eS,e);var eV=window.location;var eW=this.$8(eV,this.$7(),'');var eX=ss.formatString("<div class='tableauPlaceholder' id='{0}' style='position: relative'>{1}{2}</div>",eR,eQ,eW);return eX+eU},generateEmbedCode:function(){if(tab.FeatureFlags.isEnabled('APIBasedEmbedCode')){return this.generateApiBasedEmbedCode()}var e=$.Deferred();var eQ=window.location;var eR=tableau.format.escapeHTML;var eS=this.$6();var eT=tsConfig.embeddedTitle;var eU=this.$7();var eV=this.$4();var eW=dD.$8(eQ);var eX="width='"+eV.w+"' height='"+eV.h+"'";var eY=this.$8(eQ,eU,eX);var eZ=ss.coalesce(eS,'#');var fa='';if(!tab.MiscUtil.isNullOrEmpty$1(eU)){fa="<noscript><a href='"+eR(eZ)+"'>"+"<img alt='"+eR(eT)+" ' src='"+eR(eU)+"' style='border: none' /></a></noscript>"}var fb=ss.formatString("<div class='tableauPlaceholder' style='width: {0}px; height: {1}px;'>{2}{3}</div>",eV.w,eV.h,fa,eY);var fc=eW+fb;return e.resolve(fc).promise()},$8:function(e,eQ,eR){var eS=tabBootstrap.ViewerBootstrap.get_instance().location.search;var eT=tsConfig.repositoryUrl;var eU=tsConfig.site_root;var eV=tableau.format.escapeHTML;var eW="<object class='tableauViz' "+eR+" style='display:none;'>";var eX=ss.arrayClone(dD.$d);eX.push('embed');eX.push('show_tabs');eX.push('loadOrderID');var eY=(tsConfig.forceHttpsForPublicEmbed?'https:':e.protocol);eW+="<param name='host_url' value='"+eV(encodeURIComponent(eY+'//'+e.host+'/'))+"' /> ";eX.push('host_url');eW+="<param name='embed_code_version' value='"+this.embedCodeVersion+"' /> ";eX.push('embed_code_version');if(!this.get_allowSharingDifferentViews()){eW+="<param name='site_root' value='"+eV(eU)+"' />";eW+="<param name='name' value='"+eV(eT)+"' />";eX.push('site_root');eX.push('name');eW+="<param name='tabs' value='"+(tabBootstrap.VizLayoutConstants.get_shouldShowTabs()?'yes':'no')+"' />";eX.push('tabs')}else{var eZ=this.generateShareBaseUrl();eW+="<param name='path' value='"+eV(ss.replaceAllString(eZ,eY+'//'+e.hostname+'/',''))+"' /> ";eX.push('path')}eW+="<param name='toolbar' value='"+(tsConfig.toolbarvis?'yes':'no')+"' />";eX.push('toolbar');if(eh.$0()){if(!tab.MiscUtil.isNullOrEmpty$1(eQ)){var fa=ss.replaceAllString(eQ,'_rss.png','.png');eW+="<param name='static_image' value='"+eV(fa)+"' /> "}eW+="<param name='animate_transition' value='yes' />";eW+="<param name='display_static_image' value='yes' />";eW+="<param name='display_spinner' value='yes' />";eW+="<param name='display_overlay' value='yes' />";eW+="<param name='display_count' value='yes' />";eX.push('animate_transition');eX.push('display_static_image');eX.push('display_spinner');eX.push('display_overlay');eX.push('display_count')}if(eS.length>0){var fb=eS.substr(1).split('&');for(var fc=0;fc<fb.length;fc++){var fd=fb[fc].match(new RegExp('^(:|%3A)([^=]+)=(.+)'));var fe;var ff;if(ss.isValue(fd)&&fd.length===4){fe=fd[2];ff=fd[3]}else{fe='filter';ff=fb[fc]}if(!tab.MiscUtil.isNullOrEmpty$1(fe)&&!ss.contains(eX,fe)){eW+="<param name='"+eV(fe)+"' value='"+eV(ff)+"' />"}}}eW+='</object>';return eW},updateUberPopupViewModel:function(e){},onDialogHidden:function(){},doSendEmailAction:function(){dI.mailTo(this.generateShareUrl(),tsConfig.shareDescription)},doFacebookShareAction:function(){dI.facebookPopup(tsConfig.facebookAppID,this.generateShareUrl(),this.$5(),tsConfig.shareDescription,tsConfig.facebookDescription,dD.$7())},doTwitterShareAction:function(){dI.twitterPopup(this.generateShareUrl(),tsConfig.shareDescription)},$7:function(){var e=tab.XhrUtil.guid;var eQ=tsConfig.staticImage;if(!ss.isValue(eQ)){return''}if(!this.get_shouldShareOriginalView()&&this.get_allowSharingDifferentViews()&&ss.isValue(e)){var eR=eQ.indexOf('/images/')+8;var eS=eQ.substr(0,eR);eQ=eS+e.substr(0,2)+'/'+e+'/1_rss.png'}if(tsConfig.forceHttpsForPublicEmbed&&!ss.startsWithString(eQ,'https')){eQ.replace('http','https')}return eQ},$6:function(){if(!ss.isNullOrEmptyString(tsConfig.primaryContentUrl)){return tsConfig.primaryContentUrl}if(ss.referenceEquals(window.self,window.top)){return null}var e=tableau.util.parseUri(document.referrer);if(!ss.isValue(e)||ss.isValue(e['hostname'])&&ss.referenceEquals(e['hostname'],window.location.hostname)){return null}return document.referrer},$4:function(){var e=tab.ApplicationModel.get_instance().get_workbook().get_outerDashboardSize().w;var eQ=tab.ApplicationModel.get_instance().get_workbook().get_outerDashboardSize().h;eQ+=dD.$5();return{w:e,h:eQ}},$5:function(){var e=tab.XhrUtil.guid;if(!this.get_shouldShareOriginalView()&&this.get_allowSharingDifferentViews()&&ss.isValue(e)){var eQ=this.$7();var eR=eQ.split(String.fromCharCode(47));eR[eR.length-1]='thumb.png';var eS=eR.join('/');eS+='?vizqlid='+tab.CommandController.get().get_legacySession().get_id();return eS}return tsConfig.baseViewThumbLink}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel,spiff.IContent,spiff.IUberPopupContent,ss.makeGenericType(spiff.IPropsProvider$1,[Object]),ct]);ss.initClass(dE,a,{},ss.EventArgs);ss.initClass(dF,a,{},dE);ss.initClass(dG,a,{render:function(){var e=this.buildCommonDialogProps();var eQ=React.createElement(SharedWidgets.DialogWidget,e);return eQ},closeDialog:function(){_.defer(this.props.onDialogCloseRequested)},buildCommonDialogProps:function(){var e={testId:'Dialog-Provider',isModal:true,title:this.props.title,showCloseButton:true,type:0,positioningBehavior:0,dialogStyle:{maxWidth:600},dialogWidth:this.props.dialogWidth,onCloseRequest:ss.mkdel(this,function(){this.closeDialog()}),zIndex:1000};var eQ=[];var eR=React.DOM.div({children:this.$2(this.props.content),className:spiff.Widget.selectableNodeClass});eQ.push(eR);if(ss.isValue(this.props.additionalLinks)){for(var eS=0;eS<this.props.additionalLinks.length;eS++){var eT=this.props.additionalLinks[eS];eQ.push(React.DOM.p({},React.DOM.a({href:eT.url,target:'_blank',children:eT.displayText})))}}e.children=eQ;this.$1(e);return e},$2:function(e){if(ss.isNullOrEmptyString(e)){return null}var eQ='<br/>';e=ss.replaceAllString(e,'<br>',eQ);e=ss.replaceAllString(e,'\n',eQ);var eR=e.split(eQ);var eS=[];var eT=dG.textArea.value();for(var eU=0;eU<eR.length;eU++){var eV=eR[eU];eT.innerHTML=eV;var eW=React.DOM.p({children:eT.textContent});eS.push(eW)}return eS},$1:function(e){var eQ={buttons:[],testId:'DialogButtons'};if(ss.isValue(this.props.dialogButtons)){for(var eR=0;eR<this.props.dialogButtons.length;eR++){var eS=this.props.dialogButtons[eR];this.$0(eS,eQ)}}if(eQ.buttons.length>0){var eT=React.createElement(SharedWidgets.DialogFooterButtonsWidget,eQ);e.footerContent=eT;e.showFooter=true}},$0:function(e,eQ){var eR={handleClick:ss.mkdel(this,function(eS){if(!ss.staticEquals(e.buttonClickHandler,null)){e.buttonClickHandler()}this.closeDialog()}),buttonType:e.buttonType,testId:e.testId,label:e.buttonText};eQ.buttons.push(eR)}},React.Component);ss.initClass(dH,a,{add_onMouseStop:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_onMouseStop:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},attach:function(){this.$9.add_showed(ss.mkdel(this,this.$3));this.$9.add_closed(ss.mkdel(this,this.$2));this.$9.add_disposed(ss.mkdel(this,this.$4))},detach:function(){this.$5.dispose();if(ss.isValue(this.$9)){this.$9.remove_showed(ss.mkdel(this,this.$3));this.$9.remove_closed(ss.mkdel(this,this.$2));this.$9.remove_disposed(ss.mkdel(this,this.$4))}},dispose:function(){this.detach()},disposeTooltip:function(){this.dispose()},shownTooltipIsSticky:function(){return false},isHoverAllowed:function(e){return true},shouldShowCommandButtons:function(){return false},handleUbertipMenuToggle:function(e){},handleUbertipMenuClose:function(){},hoverOverObject:function(e,eQ,eR,eS){if(eR){this.$9.close()}else if(ss.isValue(eS)&&eS&&this.$9.get_isShown()){this.$9.move(e)}else{this.showTooltip(e)}},hoverOverWhitespace:function(e){if(this.$9.get_isShown()){this.$9.close()}},multiSelectComplete:function(e){this.showTooltip(e)},singleSelectComplete:function(e){this.showTooltip(e)},selectionMoved:function(e){},repositionWithinRegion:function(e){},onPanningOrDragging:function(){if(this.$9.get_isShown()){this.$9.close()}},onScroll:function(){if(this.$9.get_isShown()){this.$9.close()}},mouseDown:function(e,eQ){},showTooltip:function(e){if(spiff.DragDropManager.get_isDragging()){return}if(this.$9.get_isShown()&&tab.PointUtil.equals(this.$9.get_location(),e)){return}this.$9.show(this.$9.get_body().children()[0],e)},$3:function(){this.$0();this.$1({x:this.$9.get_calculatedShownArgs().origX,y:this.$9.get_calculatedShownArgs().origY});this.$8=new Date},$2:function(){this.$9.element.off('.SmoothTooltipBehavior');this.$8=null;this.$0()},onMouseMove:function(e){var eQ=this.$9.get_lastLocation()||{x:0,y:0};var eR={x:e.pageX,y:e.pageY};this.$9.set_lastLocation(eR);this.$9.move(eR);var eS=tab.PointUtil.distance(eQ,this.$9.get_lastLocation());if(eS>0){this.$7=tab.MiscUtil.clearTimeout(this.$7);this.$1(eR);if(!tab.ApplicationModel.get_instance().get_isLocalRenderMode()){if(!ss.isValue(this.serverMarkBounds)||!tab.RectXYUtil.inRect(this.serverMarkBounds,{x:e.offsetX+e.target.offsetLeft,y:e.offsetY+e.target.offsetTop})){this.$9.close()}}}},$1:function(e){this.$7=tab.MiscUtil.clearTimeout(this.$7);this.$7=window.setTimeout(ss.mkdel(this,function(){if(ss.isValue(this.$1$1)){this.$1$1(e)}}),this.$6)},$4:function(e,eQ){this.dispose()},$0:function(){this.$7=tab.MiscUtil.clearTimeout(this.$7)}},null,[cK,ss.IDisposable]);ss.initClass(dI,a,{});ss.initClass(dJ,a,{handleWidgetPropertyChanged:function(e,eQ){},updateWidgetState:function(e){}},ss.makeGenericType(spiff.ReactSpiffAdapter$3,[dL,dK,Object]));ss.initClass(dK,a,{});ss.initClass(dL,a,{get_dom:function(){return this.get_template()},dispose:function(){this.$y.remove_schedulesChanged(ss.mkdel(this,this.handleSchedulesUpdated));this.$y.remove_subscribersChanged(ss.mkdel(this,this.$h));this.$y.remove_addSubscribersPopupStateChanged(ss.mkdel(this,this.$q));ss.makeGenericType(spiff.BaseView$1,[dM]).prototype.dispose.call(this)},handleSchedulesUpdated:function(){this.$b();this.$q()},$g:function(){var e=new spiff.ToggleButton(this.get_dom().subscribeThisView);var eQ=new spiff.ToggleButton(this.get_dom().subscribeAllViews);this.get_dom().subscribeThisView[0].tabIndex=0;this.get_dom().subscribeAllViews[0].tabIndex=0;this.get_dom().subscribeViewsToggleLabel.text(tab.Strings.SubscribeViewsToggleLabel);this.get_dom().subscribeThisView.text(tab.Strings.ToolbarSubscribeThisView);this.get_dom().subscribeAllViews.text(tab.Strings.ToolbarSubscribeAllView);var eR=new spiff.SelectableGroup;eR.addItem(e);eR.addItem(eQ);eR.selectItem(e);this.$y.set_shouldSubscribeAllViews(false);eQ.add_propertyChanged(ss.mkdel(this,this.$p));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){eQ.remove_propertyChanged(ss.mkdel(this,this.$p))})));this.disposables.add$1(eR)},$b:function(){this.get_dom().subscribeScheduleDropdown.empty();if(tab.FeatureFlags.isEnabled('SelfServiceSchedules')&&tsConfig.self_service_schedules_enabled){tab.ModuleManager.load(tab.ISelfServiceSchedulesModule).call(null,[]).done(ss.mkdel(this,function(eQ){this.$k(SelfServiceSchedules.StaticInitializers.defaultRecurrence())}))}else{this.$t=this.get_viewModel().generateScheduleViewModel();this.$t.set_theme(3);this.$t.set_menuTheme(this.menuTheme);var e=tab.ObjectRegistry.newView(spiff.ComboBoxView).call(null,[this.$t]);e.element[0].tabIndex=0;this.get_dom().subscribeScheduleDropdown.append($('<label>').text(tab.Strings.ToolbarSubscribeSchedule));this.get_dom().subscribeScheduleDropdown.append(e.element);this.disposables.add$1(this.$t)}},$k:function(e){var eQ={};this.$s=eQ.recurrenceModel=e;var eR={};eR.timeZonesEnabled=tab.FeatureFlags.isEnabled('UserTimeZone');eR.timeZoneDisplayName=tsConfig.userTimeZoneDisplayName;eR.linkToUserSettings=this.get_viewModel().get_userSettingsPageUrl();eQ.timeZoneDetails=eR;eQ.recurrenceModelChangedCallback=ss.mkdel(this,this.$k);ReactDOM.render(React.createElement(SelfServiceSchedules.SelfServiceSchedulePane,eQ),this.get_dom().subscribeScheduleDropdown.get(0))},$a:function(){this.get_viewModel().set_sendOnlyWhenDataPresentCheckboxSelected(false);this.$u=spiff.LabelToggleButton.newCheckbox(tab.Strings.ToolbarSubscribeDataPresentCheckbox,false);this.$u.addClass(dL.get_sendOnlyWhenDataPresentCheckboxClass());this.$u.add_click(ss.mkdel(this,this.$m));this.$u.element.insertAfter(this.get_dom().subscribeScheduleDropdown);this.get_viewModel().add_sendOnlyWhenDataPresentCheckboxStateChanged(ss.mkdel(this,this.$n));this.disposables.add$1(this.$u)},$m:function(){this.get_viewModel().set_sendOnlyWhenDataPresentCheckboxSelected(this.$u.get_selected())},$n:function(){this.$u.set_disabled(!this.get_viewModel().get_sendOnlyWhenDataPresentCheckboxEnabled());this.$u.set_selected(this.get_viewModel().get_sendOnlyWhenDataPresent())},$c:function(){if(!ss.isNullOrEmptyString(this.get_viewModel().get_email())){this.get_dom().subscribeEmail.hide()}else{if(ss.isValue(this.$r)){this.$r.remove_propertyChanged(ss.mkdel(this,this.$i));this.$r.remove_enterKeyPressed(ss.mkdel(this,this.$j))}this.$r=spiff.TextInputView.newTextInputView('',null,tab.Strings.ToolbarSubscribeEmailPlaceholder,false);this.$r.get_inputElement().attr('maxlength',dM.maxSubscriptionEmailLength.toString());this.$r.add_propertyChanged(ss.mkdel(this,this.$i));this.$r.add_enterKeyPressed(ss.mkdel(this,this.$j));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$r.remove_propertyChanged(ss.mkdel(this,this.$i))})));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$r.remove_enterKeyPressed(ss.mkdel(this,this.$j))})));this.get_dom().subscribeEmail.append(this.$r.element)}},$d:function(){if(ss.isValue(this.$v)){this.$v.remove_propertyChanged(ss.mkdel(this,this.$i));this.$v.remove_enterKeyPressed(ss.mkdel(this,this.$j))}this.$v=spiff.TextInputView.newTextInputView(this.get_viewModel().get_defaultSubject(),null,tab.Strings.ToolbarSubscribeSubjectPlaceholder,false);this.$v.get_inputElement().attr('maxlength',dM.maxSubscriptionSubjectLength.toString());this.$v.add_propertyChanged(ss.mkdel(this,this.$i));this.$v.add_enterKeyPressed(ss.mkdel(this,this.$j));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$v.remove_propertyChanged(ss.mkdel(this,this.$i))})));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$v.remove_enterKeyPressed(ss.mkdel(this,this.$j))})));this.get_dom().subscribeSubject.append(this.$v.element)},$j:function(){if(!this.$w.get_disabled()){this.$l()}},$i:function(e,eQ){if(ss.equalsT(eQ.get_propertyName(),'text')){this.$q()}},$e:function(){this.$w=spiff.StyledTextButton.createUnificationLabelButton(ss.mkdel(this,this.$l),tab.Strings.ToolbarSubscribeSubmitButton,null,0,0);this.get_dom().subscribeButton.append(this.$w.element)},$q:function(){var e=!this.get_viewModel().shouldSubscribeButtonBeEnabled((ss.isValue(this.$r)?this.$r.get_text():null),this.$v.get_text(),ss.isNullOrUndefined(this.$x)||this.$x.get_selected());if(this.$w.get_disabled()!==e){var eQ=(e?tab.Strings.ToolbarSubscribeSubmitDisabledTitle:'');this.$w.set_hoverTooltipText(eQ);this.$w.set_disabled(e)}},$f:function(){this.$x=spiff.LabelToggleButton.newCheckbox(tab.Strings.SubscribeSelf,true);this.$x.addClass('tab-subscribeSelf');this.$x.add_click(ss.mkdel(this,this.$q));this.$x.element[0].tabIndex=0;this.get_dom().subscribeSelfArea.append(this.$x.element);this.disposables.add$1(this.$x);var e=spiff.LabelButton.newAnchorButton();e.set_label(tab.Strings.AddSubscribers);e.add_click(ss.mkdel(this,function(){this.get_viewModel().createAddSubscribersPopup(this.get_dom().subscribeSelfArea)}));e.addClass('tab-addSubscribers');this.get_dom().addSubscribersLabel.text(tab.Strings.SubscribeOthers);e.element.insertAfter(this.get_dom().addSubscribersLabel);this.disposables.add$1(e);if(!tsConfig.is_mobile){var eQ=spiff.LabelButton.newAnchorButton$1(this.get_viewModel().get_subscriptionsPageUrl(),null);eQ.set_label(tab.Strings.ManageSubscriptions);eQ.addClass('tab-manageSubscribers');this.get_dom().manageSubscribersLabel.text(tab.Strings.CurrentSubscribers);eQ.element.insertAfter(this.get_dom().manageSubscribersLabel);this.disposables.add$1(eQ)}},$h:function(){var e=new ss.StringBuilder;if(this.get_viewModel().get_subscribers().length>0){e.append(this.get_viewModel().get_subscribers()[0].friendlyName);if(this.get_viewModel().get_subscribers().length>1){e.append(' + ');e.append(this.get_viewModel().get_subscribers().length-1)}e.append(', ')}e.append(tab.Strings.AddSubscribers);this.get_dom().getElementBySelector('.tab-addSubscribers').text(e.toString())},$o:function(){if(this.get_viewModel().get_subscribers().length>0){if(tab.FeatureFlags.isEnabled('SelfServiceSchedules')&&tsConfig.self_service_schedules_enabled){this.get_viewModel().createSubscriptionsWithSelfServiceSchedule(this.$v.get_text(),this.$s,this.$x.get_selected())}else{this.get_viewModel().createSubscriptions(this.$v.get_text(),this.$t.get_selectedItem().get_data(),this.$x.get_selected())}}else if(tab.FeatureFlags.isEnabled('SelfServiceSchedules')&&tsConfig.self_service_schedules_enabled){this.get_viewModel().createSubscriptionWithSelfServiceSchedule(this.$v.get_text(),this.$s)}else{this.get_viewModel().createSubscription(this.$v.get_text(),this.$t.get_selectedItem().get_data())}},$l:function(){if(ss.isNullOrEmptyString(this.get_viewModel().get_email())){var e=this.$r.get_text();var eQ=ss.mkdel(this,function(eS){var eT=((eS===10011)?tab.Strings.SubscribeInvalidAddress:tab.Strings.SubscribeFailure);this.get_dom().subscribeEmail.append($('<div>').addClass('tab-SubscribeError').text(eT))});var eR=ss.mkdel(this,function(){this.get_viewModel().set_email(e);this.$o()});tab.WorkgroupServerCommands.setUserEmail(e,eR,eQ)}else{this.$o()}},$p:function(e,eQ){if(eQ.get_propertyName()==='selected'){this.$y.set_shouldSubscribeAllViews(e.get_selected())}},$9:function(){this.$d();this.$b();if(this.get_viewModel().get_sendOnlyWhenDataPresentCheckboxVisible()){this.$a()}this.$g();this.$c();this.$e();if(tab.FeatureFlags.isEnabled('SubscribeOthers')&&tsConfig.allow_subscribe_others){this.$f()}this.$q();this.$v.get_inputElement().attr('autofocus','true')}},ss.makeGenericType(spiff.BaseView$1,[dM]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[dM])]);ss.initClass(dM,a,{add_schedulesChanged:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_schedulesChanged:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_subscribeSuccess:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_subscribeSuccess:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_subscribersChanged:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_subscribersChanged:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_sendOnlyWhenDataPresentCheckboxStateChanged:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_sendOnlyWhenDataPresentCheckboxStateChanged:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},add_addSubscribersPopupStateChanged:function(e){this.$2$5=ss.delegateCombine(this.$2$5,e)},remove_addSubscribersPopupStateChanged:function(e){this.$2$5=ss.delegateRemove(this.$2$5,e)},add_hideDialogRequested:function(e){this.add_subscribeSuccess(e)},remove_hideDialogRequested:function(e){this.remove_subscribeSuccess(e)},add_dialogHidden:function(e){this.$2$6=ss.delegateCombine(this.$2$6,e)},remove_dialogHidden:function(e){this.$2$6=ss.delegateRemove(this.$2$6,e)},add_propsUpdated:function(e){},remove_propsUpdated:function(e){},get_schedules:function(){return this.$7},get_viewType:function(){return dL},get_viewModel:function(){return this},get_props:function(){var e=tab.Strings.SubscribeTitle;var eQ=!tsConfig.is_mobile;var eR=new dK;eR.viewModel=this;return{title:e,testId:'subscribe',type:0,showCloseButton:true,positioningBehavior:0,isModal:true,isGlassTransparent:false,dialogWidth:260,showFooter:false,shouldAdjustPositionOnWindowResize:eQ,shouldRecenterOnUpdate:true,children:React.createElement(dJ,eR)}},get_shouldSubscribeAllViews:function(){return this.$8},set_shouldSubscribeAllViews:function(e){this.$8=e;if(!tab.FeatureFlags.isEnabled('AlertWhenDataPresent')){return}if(ss.staticEquals(this.$2$4,null)){return}this.$2$4()},get_sendOnlyWhenDataPresentCheckboxEnabled:function(){return!this.$8},get_sendOnlyWhenDataPresentCheckboxSelected:function(){return this.$2$7},set_sendOnlyWhenDataPresentCheckboxSelected:function(e){this.$2$7=e},get_sendOnlyWhenDataPresentCheckboxVisible:function(){if(!tab.FeatureFlags.isEnabled('AlertWhenDataPresent')){return false}if(!tsConfig.allow_subscribe_on_data_present){return false}return tsConfig.current_sheet_type==='dashboard'||tsConfig.current_sheet_type==='worksheet'},get_defaultSubject:function(){return tsConfig.current_sheet_name},get_email:function(){return this.$2$8},set_email:function(e){this.$2$8=e},get_subscriptionsPageUrl:function(){return this.$2$9},set_subscriptionsPageUrl:function(e){this.$2$9=e},get_userSettingsPageUrl:function(){return this.$2$10},set_userSettingsPageUrl:function(e){this.$2$10=e},get_subscribers:function(){return this.$9},set_subscribers:function(e){this.$9=e;this.raiseActionEvent(this.$2$3)},get_sendOnlyWhenDataPresent:function(){return this.get_sendOnlyWhenDataPresentCheckboxSelected()&&!this.get_shouldSubscribeAllViews()},$5:function(){return(this.get_sendOnlyWhenDataPresent()?'DataPresent':'Always')},disposeViewModel:function(){this.$9=[];this.dispose()},updateUberPopupViewModel:function(e){},onDialogHidden:function(){this.raiseActionEvent(this.$2$6)},createAddSubscribersPopup:function(e){if(ss.isValue(this.$6)){return}var eQ=new A(this.get_subscribers());this.$6=eQ;var eR=spiff.UberPopupViewModel.createForContent$1(this.$6,e,ss.mkdel(this,this.$3),true);if(tab.FeatureFlags.isEnabled('ViewingToolbarModalDialog')||tsConfig.is_mobile_app){eR.options.horizontalAlign=1;eR.options.isToolbarFlyout=false;eR.options.isBeingPositionedRelativeToASharedDialogWidget=true}else{eR.options.isToolbarFlyout=true}eR.options.preferUp=eh.get_toolbarIsBottom();eR.options.horizontalAttach=1;eR.options.coverRelativeElement=true;var eS=function(){eR.hide(false)};eQ.add_selectionCanceled(eS);var eT=ss.mkdel(this,function(eV){this.set_subscribers(eV);eR.hide(false)});eQ.add_selectionConfirmed(eT);eR.addDisposables(new tab.CallOnDispose(ss.mkdel(this,function(){eQ.remove_selectionCanceled(eS);eQ.remove_selectionConfirmed(eT);this.raiseActionEvent(this.$2$5)})));if(tab.FeatureFlags.isEnabled('ViewingToolbarModalDialog')||tsConfig.is_mobile_app){var eU=function(){eR.hide(false)};this.add_dialogHidden(eU);eR.addDisposables(new tab.CallOnDispose(ss.mkdel(this,function(){this.remove_dialogHidden(eU)})))}eR.show();this.raiseActionEvent(this.$2$5);$('.tabUserSearchInput').focus()},shouldSubscribeButtonBeEnabled:function(e,eQ,eR){if(ss.isNullOrUndefined(this.get_schedules())||this.get_schedules().length===0){return false}if(ss.isNullOrUndefined(eQ)||eQ.trim().length===0){return false}if(ss.isNullOrEmptyString(this.get_email())&&!this.$4(e)){return false}if(ss.isValue(this.$6)){return false}return eR||this.get_subscribers().length>0},generateScheduleViewModel:function(){var e=new spiff.ComboBoxViewModel;e.set_additionalMenuClass('tabSubscriptionScheduleDropdown');var eQ=e;var eR=this.get_schedules();for(var eS=0;eS<eR.length;eS++){var eT=eR[eS];var eU=eT.get_schedulePresModel().name;if(tsConfig.display_schedule_description_as_name){eU=eT.get_scheduleFrequencyDescription()}eQ.addItem(new spiff.ComboBoxItem(null,eU,eT,null))}if(eQ.get_items().length>0){eQ.set_selectedItem(eQ.get_items()[0])}return eQ},createSubscription:function(e,eQ){var eR=ss.mkdel(this,function(){this.raiseActionEvent(this.$2$2);da.showNotification(tab.Strings.SubscribeSuccess)});var eS=function(){da.showNotification(tab.Strings.SubscribeFailure)};tab.WorkgroupServerCommands.createSubscription(e,this.get_shouldSubscribeAllViews(),eQ,this.$5(),eR,eS)},createSubscriptionWithSelfServiceSchedule:function(e,eQ){tab.ModuleManager.load(tab.ISelfServiceSchedulesModule).call(null,[]).done(ss.mkdel(this,function(eR){eR.createSubscriptionWithSelfServiceSchedule(e,this.get_shouldSubscribeAllViews(),eQ,this.$5(),this.$2$2)}))},createSubscriptions:function(e,eQ,eR){this.$2(e,eR,eQ,false)},createSubscriptionsWithSelfServiceSchedule:function(e,eQ,eR){this.$2(e,eR,eQ,true)},$2:function(e,eQ,eR,eS){var eT=ss.mkdel(this,function(eX){var eY=eX['results'].length;da.showNotification(tab.Strings.SubscribeOthersSuccess(eY));this.raiseActionEvent(this.$2$2)});var eU=ss.mkdel(this,function(eX){var eY=eX['errors'];if(eY.length===1&&ss.isNullOrUndefined(eY[0]['id'])){da.showNotification(tab.Strings.SubscribeFailure)}else{da.showNotification(tab.Strings.SubscribeOthersFailed(eY.length));this.raiseActionEvent(this.$2$2)}});var eV=function(eX){da.showNotification(tab.Strings.SubscribeFailure)};var eW=_.map(this.get_subscribers(),function(eX){return eX.id.toString()});if(eQ&&!_.contains(eW,tsConfig.current_user_id.toString())){eW.push(tsConfig.current_user_id.toString())}if(eS){tab.ModuleManager.load(tab.ISelfServiceSchedulesModule).call(null,[]).done(ss.mkdel(this,function(eX){eX.createSubscriptionsWithSelfServiceSchedule(e,this.get_shouldSubscribeAllViews(),eR,this.$5(),eW,eT,eU,eV)}))}else{tab.WorkgroupServerCommands.createSubscriptions(e,this.get_shouldSubscribeAllViews(),eW,eR,this.$5(),eT,eU,eV)}},$3:function(){this.$6=tab.MiscUtil.dispose$1(this.$6)},$4:function(e){return bV.validate(e)}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel,spiff.IContent,spiff.IUberPopupContent,ss.makeGenericType(spiff.IPropsProvider$1,[Object]),ct]);ss.initClass(dN,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(dO,a,{},ss.EventArgs);ss.initClass(dP,a,{get_textAngle:function(){return this.$j},set_textAngle:function(e){this.$j=e},get_isTextAngleHorizontal:function(){return Math.abs(this.get_textAngle())<0.01},get_numberSavedStates:function(){return this.$f},get_alpha:function(){return this.$6.globalAlpha},set_alpha:function(e){if(e!==this.$6.globalAlpha){this.$6.globalAlpha=e}},get_globalCompositeOperation:function(){return this.$6.globalCompositeOperation},set_globalCompositeOperation:function(e){this.$6.globalCompositeOperation=e},get_font:function(){return this.$6.font},set_font:function(e){var eQ=this.$c.normalizeFont(e);if(!ss.referenceEquals(eQ,this.$6.font)){this.$6.font=eQ}this.$d=dP.$0(eQ)},get_lineCap:function(){return this.$8},set_lineCap:function(e){if(e!==this.$8){this.$6.lineCap=e;this.$8=e}},get_lineJoin:function(){return this.$9},set_lineJoin:function(e){if(e!==this.$9){this.$6.lineJoin=e;this.$9=e}},get_lineWidth:function(){return this.$6.lineWidth},set_lineWidth:function(e){if(e!==this.$6.lineWidth){this.$6.lineWidth=e;if(this.$e!=='solid'){this.$5()}}},get_linePattern:function(){return this.$e},set_linePattern:function(e){if(e!==this.$e){this.$e=e;this.$5()}},get_transformation:function(){return this.$l},set_transformation:function(e){this.$l.setTransform(e)},get_strokeStyle:function(){return this.$a},set_strokeStyle:function(e){if(!ss.referenceEquals(e,this.$a)){this.$6.strokeStyle=e;this.$a=e}},get_shapeFillStyle:function(){return this.$g},set_shapeFillStyle:function(e){this.$g=e;this.$3(e)},get_shouldAntialias:function(){return this.$h},set_shouldAntialias:function(e){this.$h=e},get_shouldUnderlineText:function(){return this.$i},set_shouldUnderlineText:function(e){this.$i=e},get_textFillStyle:function(){return this.$k},set_textFillStyle:function(e){this.$k=e},get_textAlign:function(){return this.$6.textAlign},set_textAlign:function(e){this.$6.textAlign=e},get_textBaseline:function(){return this.$6.textBaseline},set_textBaseline:function(e){this.$6.textBaseline=e},clearDirtyRect:function(){this.dirtyRect={x:0,y:0,w:0,h:0}},setDefaultPropertyValues:function(){this.set_alpha(1);this.set_strokeStyle('rgb(0,0,0)');this.set_linePattern(dP.defaultLinePattern);this.set_lineWidth(1);this.set_lineJoin(dP.defaultLineJoin);this.set_lineCap(dP.defaultLineCap);this.set_shapeFillStyle('rgb(0,0,0)');this.set_textFillStyle('rgb(0,0,0)');this.set_textBaseline(dP.defaultTextBaseline);this.set_textAlign(dP.defaultTextAlign);this.set_textAngle(0);this.set_font(8+'pt '+'Arial');this.$h=true;this.$i=false},setClip:function(e){this.beginPath();this.rect(e.x,e.y,e.w,e.h);this.$1()},arc:function(e,eQ,eR,eS,eT,eU){this.$6.arc(e,eQ,eR,eS,eT,eU)},beginPath:function(){this.$6.beginPath()},bezierCurveTo:function(e,eQ,eR,eS,eT,eU){this.$6.bezierCurveTo(e,eQ,eR,eS,eT,eU)},clearRect:function(e,eQ,eR,eS){this.$6.clearRect(e,eQ,eR,eS)},closePath:function(){this.$6.closePath()},createLinearGradient:function(e,eQ,eR,eS){return this.$6.createLinearGradient(e,eQ,eR,eS)},drawImage1:function(e,eQ,eR){this.$6.drawImage(e,eQ,eR)},drawImage3:function(e,eQ,eR,eS,eT){this.$6.drawImage(e,eQ,eR,eS,eT)},drawImage4:function(e,eQ,eR,eS,eT){this.$6.drawImage(e,eQ,eR,eS,eT)},drawImage5:function(e,eQ,eR,eS,eT,eU,eV,eW,eX){this.$6.drawImage(e,eQ,eR,eS,eT,eU,eV,eW,eX)},fill:function(){this.$6.fill()},fillRect:function(e,eQ,eR,eS){this.$6.fillRect(e,eQ,eR,eS)},fillText1:function(e,eQ,eR){if(this.$4()){var eS=ss.mkdel(this,function(eT){this.$6.fillText(eT,0,0)});this.$2(eS,e,eQ,eR)}else{this.$6.fillText(e,eQ,eR)}},fillText2:function(e,eQ,eR,eS){if(this.$4()){var eT=ss.mkdel(this,function(eU){this.$6.fillText(eU,0,0,eS)});this.$2(eT,e,eQ,eR)}else{this.$6.fillText(e,eQ,eR,eS)}},lineTo:function(e,eQ){this.$6.lineTo(e,eQ)},measureText:function(e){return this.$6.measureText(e)},moveTo:function(e,eQ){this.$6.moveTo(e,eQ)},rect:function(e,eQ,eR,eS){this.$6.rect(e,eQ,eR,eS)},reset:function(){while(this.$f>0){this.restore()}this.setDefaultPropertyValues();this.resetTransform();this.pixelRatio=1;this.save()},restore:function(){this.$6.restore();this.$8=this.$6.lineCap;this.$9=this.$6.lineJoin;this.$a=this.$6.strokeStyle;this.$7=this.$6.fillStyle;var e=this.$b.pop();e.$0(this);--this.$f},rotate:function(e){this.$l.rotate(e);this.$0()},save:function(){var e=new k(this.$e,this.$j,this.$g,this.$k,this.$h,this.$i,this.$l);this.$b.push(e);this.$6.save();++this.$f},scale:function(e,eQ){if(e===1&&eQ===1){return}this.$l.scale(e,eQ);this.$0()},setTransform:function(e){this.$l.setTransform(e);this.$0()},resetTransform:function(){this.$l.reset();this.$0()},stroke:function(){this.$6.stroke()},strokeRect:function(e,eQ,eR,eS){this.$6.strokeRect(e,eQ,eR,eS)},strokeText1:function(e,eQ,eR){},strokeText2:function(e,eQ,eR,eS){},translate:function(e,eQ){if(e===0&&eQ===0){return}this.$l.translate(e,eQ);this.$0()},$0:function(){var e=this.$l.get_matrix();this.$6.setTransform(e[0],e[1],e[2],e[3],e[4],e[5])},$1:function(){this.$6.clip()},$4:function(){return!this.get_isTextAngleHorizontal()||ss.isNullOrUndefined(this.$g)||!ss.referenceEquals(this.$g,this.$k)||this.$i},$2:function(e,eQ,eR,eS){this.$6.save();var eT=this.$l.clone();this.translate(eR,eS);if(!this.get_isTextAngleHorizontal()){this.rotate(this.get_textAngle())}this.$3(this.$k);e(eQ);if(this.$i){var eU=this.measureText(eQ).width;var eV=Math.round(Math.max(1,(this.$d-5)/10));var eW=Math.round((this.$d-5)/10);var eX=0;if(this.get_textAlign()==='center'){eX-=eU/2}else if(this.get_textAlign()==='end'){eX-=eU}this.$6.fillRect(eX,eW,eU,eV)}this.$6.restore();this.$l.setTransform(eT);this.$7=null},$3:function(e){if(!ss.referenceEquals(e,this.$7)){this.$6.fillStyle=e;this.$7=e}},$5:function(){var e=null;var eQ=0;switch(this.$e){case'solid':{e=[];break}case'dashed':{eQ=this.$6.lineWidth;e=[dP.defaultLineDashDashed[0]*eQ,dP.defaultLineDashDashed[1]*eQ];break}case'dotted':{eQ=this.$6.lineWidth;e=[dP.defaultLineDashDotted[0]*eQ,dP.defaultLineDashDotted[1]*eQ];break}}if(typeof(this.$6['setLineDash'])==='function'){this.$6.setLineDash(e)}else if('mozDash'in this.$6){this.$6['mozDash']=e}else if('webkitLineDash'in this.$6){this.$6['webkitLineDash']=e}}});ss.initClass(dQ,a,{});ss.initClass(dR,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(dS,a,{$e:function(){return this.get_viewModel()},$d:function(){return this.get_template()},onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this);if(tsConfig.is_mobile&&tsConfig.current_sheet_type==='dashboard'){this.element.addClass(spiff.ClickBuster.suppressClickBustingClass)}if(this.$e().options.textSelectable){this.$d().contentElem.addClass('tab-selectable')}this.handleNewTextRegion()},handleNewTextRegion:function(){if(!this.$e().hasPresModel()){return}this.$a(this.$d().textRegionBoundaryElem);this.$b(this.$d().contentElem)},handleRightClick:function(e){var eQ=new spiff.ShowMenuOptions(this.element,false);eQ.cursorPosition={left:e.clientX,top:e.clientY};var eR=eQ;this.get_viewModel().showContextMenu(eR)},$b:function(e){var eQ={};e.removeAttr('style');e.html(this.$e().get_html());cd.cleanUpFontFamilyStyles(e);if(!tsConfig.is_mobile_device){var eR=function(eZ){eZ.stopPropagation()};e.on(this.createNamespacedEventName('touchstart'),eR).on(this.createNamespacedEventName('touchend'),eR)}var eS=this.$e().get_orientation();var eT=dS.$3(eS);var eU=dS.$2(eS);if(eT||eU){var eV=tab.DoubleUtil.roundToInt(e.parent().width());var eW=tab.DoubleUtil.roundToInt(e.parent().height());eQ['width']=eW+'px';var eX='0%';if(eT){eQ['bottom']='100%';eX='100%'}else if(eU){eQ['top']='100%';eX='0%'}e.css(eQ);eQ['left']=dS.$1(eV,tab.DoubleUtil.roundToInt(e.height()),this.$e().get_hAlign(),eS);dS.$0(e,'0% '+eX,eS.toString())}else{eQ['width']='100%';var eY=tab.DoubleUtil.roundToInt(this.$d().domRoot.height());if(eY<=tab.DoubleUtil.roundToInt(e.height())&&!this.$c(e,eY)){eQ['top']='0%'}else{switch(this.$e().get_vAlign()){case'v-align-center':{eQ['top']='50%';eQ['margin-top']=ss.Int32.div(-tab.DoubleUtil.roundToInt(e.height()),2)+'px';break}case'v-align-bottom':{eQ['bottom']='0%';break}case'v-align-top':{eQ['top']='0%';break}default:{break}}}}e.css(eQ)},$c:function(e,eQ){var eR=false;e.find('span').each(function(eS,eT){if(!eR&&ss.isValue(eT.style.lineHeight)){eR=parseInt(eT.style.lineHeight)>=eQ}});return eR},$a:function(e){var eQ=this.$e().get_styledBox();var eR=cd.getCSSBorderStyle(eQ.borderStyle);var eS=ss.mkdict(['border-width',eQ.uw+'px','border-color',eQ.borderColor,'border-style',eR]);if(this.$e().get_styledBox().hasFill){this.$9(eS)}e.css(eS)},$9:function(e){var eQ=tab.ColorModel.fromColorCode(this.$e().get_styledBox().fillColor);if(eQ.get_a()<1){e['background-color']=eQ.toString()}else{e['background-color']=eQ.toString()}}},ss.makeGenericType(spiff.BaseView$1,[dT]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[dT])]);dS.$ctor1.prototype=dS.prototype;ss.initClass(dT,a,{add_newTextRegion:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newTextRegion:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_hAlign:function(){return this.$3.get_hAlign()},get_html:function(){return this.$3.get_html()},get_orientation:function(){return this.$3.get_orientation()},get_vAlign:function(){return this.$3.get_vAlign()},get_styledBox:function(){return this.$3.get_styledBox()},get_presModelKey:function(){return this.$3.presModelKey},handleNewTextRegion:function(){this.$2()},hasPresModel:function(){return!ss.isNullOrUndefined(this.$3.pm)},showContextMenu:function(e){if(!tab.FeatureFlags.isEnabled('SeamlessTitlesAndCaptionsWebSP1')||!tsConfig.is_authoring){return}if(ss.referenceEquals(this.get_presModelKey().name,'visualTitle'.toString())&&tsConfig.current_sheet_type==='worksheet'){var eQ=function(eS){var eT=eS.$$c['commands'];var eU=eI.menuViewModelFromCommands(eT,eI.commandMenuItemClicked,null);eU.show(e)};tab.SheetClientCommands.getTitleContextMenu(tsConfig.current_sheet_name,eQ)}if(ss.referenceEquals(this.get_presModelKey().name,'visualCaption'.toString())&&tsConfig.current_sheet_type==='worksheet'){var eR=function(eS){var eT=eS.$$c['commands'];var eU=eI.menuViewModelFromCommands(eT,eI.commandMenuItemClicked,null);eU.show(e)};tab.SheetClientCommands.getCaptionContextMenu(tsConfig.current_sheet_name,eR)}},$2:function(){if(ss.isValue(this.$2$1)){this.$2$1()}}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel]);ss.initClass(dU,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(dV,a,{get_canScrollX:function(){return this.get_docSize().w-this.get_actualViewSize().w>0},get_canScrollY:function(){return this.get_docSize().h-this.get_actualViewSize().h>0},get_docSize:function(){return{w:tab.DoubleUtil.roundToInt(this.element.width()),h:tab.DoubleUtil.roundToInt(this.element.height())}},get_actualViewSize:function(){return{w:0,h:0}},set_actualViewSize:function(e){throw new ss.NotSupportedException('Setting ActualViewSize is not supported.')},get_effectiveViewSize:function(){return this.get_actualViewSize()},get_scrollPos:function(){return{x:this.element.scrollLeft(),y:tab.DoubleUtil.roundToInt(this.element.scrollTop())}},set_scrollPos:function(e){this.setXPos(e.x);this.setYPos(e.y)},setXPos:function(e){this.element.scrollLeft(e)},setYPos:function(e){this.element.scrollTop(e)}},ss.makeGenericType(spiff.BaseView$1,[dW]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[dW]),spiff.IScrollable]);ss.initClass(dW,a,{},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel]);ss.initClass(dX,a,{get_keyCombos:function(){return cO.op_Implicit(new cN.$ctor1(122))},executeShortcut:function(e){_.defer(ss.mkdel(this,function(){if(tab.FullscreenUtil.get_inFullscreenMode()){tab.FullscreenUtil.exitFullscreen()}else{tab.FullscreenUtil.requestFullscreen(document.documentElement)}}))}},ci,[cA]);ss.initClass(dZ,a,{get_image:function(){return this.$2$1},set_image:function(e){this.$2$1=e},get_text:function(){return this.$2$2},set_text:function(e){this.$2$2=e}},spiff.Template,[ss.IDisposable]);ss.initClass(ea,a,{get_dom:function(){return this.get_template()},get_toolbarButton:function(){return this.$d},$c:function(){this.$d=new spiff.LabelButton(this.get_dom().domRoot,'.tabToolbarButtonText');this.disposables.add$1(this.$d);var e=this.$d;var eQ=this.get_viewModel();e.add_click(ss.mkdel(eQ,eQ.execute));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){var eR=this.$d;var eS=this.get_viewModel();eR.remove_click(ss.mkdel(eS,eS.execute))})));this.$d.add_click(ss.mkdel(this,this.$9));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$d.remove_click(ss.mkdel(this,this.$9))})));this.element.attr('aria-label',this.get_viewModel().get_text());this.element.addClass(this.get_viewModel().get_iconClass().substring(this.get_viewModel().get_iconClass().lastIndexOf('-')+1));this.onViewModelPropertyChanged(this,new tab.PropertyChangedEventArgs('isActive'));this.onViewModelPropertyChanged(this,new tab.PropertyChangedEventArgs('enabled'));this.onViewModelPropertyChanged(this,new tab.PropertyChangedEventArgs('text'));this.onViewModelPropertyChanged(this,new tab.PropertyChangedEventArgs('tooltipText'));this.onViewModelPropertyChanged(this,new tab.PropertyChangedEventArgs('iconClass'))},onViewModelPropertyChanged:function(e,eQ){switch(eQ.get_propertyName()){case'isActive':{this.$d.element.toggleClass('tabActive',this.get_viewModel().get_isActive());this.get_dom().get_image().toggleClass(this.get_viewModel().get_iconClass()+'-active',this.get_viewModel().get_isActive());this.get_dom().get_image().toggleClass(this.get_viewModel().get_iconClass(),!this.get_viewModel().get_isActive());break}case'enabled':{var eR=this.get_viewModel().get_enabled();this.$d.set_disabled(!eR);if(tab.FeatureFlags.isEnabled('AccessibilityViewingToolbar')){if(!eR){this.element.attr('aria-disabled','true')}else{this.element.removeAttr('aria-disabled')}this.element.attr('tabindex','-1')}if(!tab.FeatureFlags.isEnabled('AccessibilityViewingToolbar')||tsConfig.is_authoring){this.element.attr('tabindex',(eR?'0':'-1'))}break}case'text':{this.get_dom().get_text().text(ss.coalesce(this.get_viewModel().get_text(),''));break}case'tooltipText':{this.$d.set_hoverTooltipText(ss.coalesce(this.get_viewModel().get_tooltipText(),''));break}case'iconClass':{if(ss.isValue(this.$e)){this.get_dom().get_image().removeClass(this.$e)}this.get_dom().get_image().addClass(this.get_viewModel().get_iconClass());this.$e=this.get_viewModel().get_iconClass();break}}},$9:function(){if(tab.FeatureFlags.isEnabled('ViewingToolbarModalDialog')||tsConfig.is_mobile_app){this.get_viewModel().showDialog()}else if(this.$d.element.hasClass('tabToolbarButtonFlyoverShown')){this.get_viewModel().popupViewModel.hide(false)}else{this.get_viewModel().showUberPopup(this.$d.element)}},$b:function(){this.$d.element.addClass('tabToolbarButtonFlyoverShown')},$a:function(){this.$d.element.removeClass('tabToolbarButtonFlyoverShown')}},ss.makeGenericType(spiff.BaseView$1,[eb]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[eb])]);ss.initClass(eb,a,{add_flyoverShown:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_flyoverShown:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_flyoverHidden:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_flyoverHidden:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_showDialogRequested:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_showDialogRequested:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},get_buttonAction:function(){return this.action},get_enabled:function(){return this.$6},set_enabled:function(e){if(!this.$a&&this.$6!==e){this.$6=e;this.notifyPropertyChanged('enabled')}},get_iconClass:function(){return this.$7},set_iconClass:function(e){if(!this.$a&&!(ss.compareStrings(this.$7,e,false)===0)){this.$7=e;this.notifyPropertyChanged('iconClass')}},get_iconType:function(){return this.$8},get_isActive:function(){return this.$9},set_isActive:function(e){if(!this.$a&&this.$9!==e){this.$9=e;this.notifyPropertyChanged('isActive')}},get_text:function(){return this.$c},set_text:function(e){if(!this.$a&&!(ss.compareStrings(this.$c,e,false)===0)){this.$c=e;this.notifyPropertyChanged('text')}},get_tooltipText:function(){return this.$d},set_tooltipText:function(e){if(!this.$a&&!ss.referenceEquals(this.$d,e)){this.$d=e;this.notifyPropertyChanged('tooltipText')}},get_isSeparator:function(){return this.$a},dispose:function(){this.$2();spiff.BaseViewModel.prototype.dispose.call(this)},execute:function(){if(!ss.staticEquals(this.action,null)){this.action()}},showUberPopup:function(e){if(ss.isValue(this.popupContent)){this.$2();this.popupViewModel=spiff.UberPopupViewModel.createForContent$1(this.popupContent,e,null,true);this.popupViewModel.options=this.$b;if(ss.isValue(this.$2$1)){this.popupViewModel.add_shown(this.$2$1)}if(ss.isValue(this.$2$2)){this.popupViewModel.add_hidden(ss.mkdel(this,this.$4))}this.popupViewModel.show()}},showDialog:function(){if(ss.isValue(this.dialogContent)&&!ss.staticEquals(this.$2$3,null)){this.$2$3(this.dialogContent)}},$3:function(){if(ss.isValue(this.popupViewModel)){this.popupViewModel.hide(false)}},$5:function(){this.raiseActionEvent(this.$2$1)},$4:function(){this.raiseActionEvent(this.$2$2);this.$2()},$2:function(){if(ss.isValue(this.popupViewModel)){this.popupViewModel.remove_shown(this.$2$1);this.popupViewModel.remove_hidden(ss.mkdel(this,this.$4));this.popupViewModel.dispose();this.popupViewModel=null}}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel]);ss.initClass(ec,a,{createMenu:function(){return this.$e(null)},execute:function(){},dropdownClicked:function(e){var eQ=this.createMenu();if(!eQ.menuItems.some(function(eU){return eU.enabled})){return null}var eR=spiff.MenuViewModel.createForMenu(eQ,eI.commandMenuItemClicked);eR.add_hidden(ss.mkdel(this,function(){this.set_isActive(false)}));var eS=new spiff.ShowMenuOptions(e,true);eS.additionalMenuClass='tabToolbarDropdownMenu '+this.get_iconClass()+'ContextMenu';var eT=eS;eR.show(eT);this.set_isActive(true);return eR}},eb,[ss.IDisposable,tab.IViewModel]);ss.initClass(ed,a,{add_propsUpdated:function(e){this.$3$1=ss.delegateCombine(this.$3$1,e)},remove_propsUpdated:function(e){this.$3$1=ss.delegateRemove(this.$3$1,e)},get_props:function(){return this.$3$2},set_props:function(e){this.$3$2=e},createMenu:function(){return this.$g(null)},$e:function(e){if(ss.compare(e,this.get_props().selectedValue)!==0){this.get_props().selectedValue=e;this.raiseActionEvent(this.$3$1);var eQ=parseInt(e);var eR=this.$f.menuItems[eQ];spiff.MenuViewModel.handleMenuActionItemClicked(eR)}}},eb,[ss.IDisposable,tab.IViewModel,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initClass(ee,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(ef,a,{get_toggleToText:function(){return this.$e},set_toggleToText:function(e){this.$e=e}},eb,[ss.IDisposable,tab.IViewModel]);ss.initClass(eg,a,{get_dom:function(){return this.get_template()},$u:function(){return this.$3$1},$v:function(e){this.$3$1=e},$B:function(){return this.$3$2},$C:function(e){this.$3$2=e},$x:function(){return this.$3$3},$y:function(e){this.$3$3=e},$D:function(){return this.$3$4},$E:function(e){this.$3$4=e},$s:function(){return this.$3$5},$t:function(e){this.$3$5=e},$G:function(){return this.$3$6},$H:function(e){this.$3$6=e},$z:function(){return this.$3$7},$A:function(e){this.$3$7=e},$w:function(){return this.$P.get_customViewsViewModel()},$I:function(e){this.get_dom().toolbar.toggleClass('horizontalLabels',e);this.get_dom().toolbar.toggleClass('stackedLabels',!e)},$F:function(e){if(!eh.get_isPublicSpecificToolbar()){this.get_dom().publicBelowLogo.toggle(e&&!tab.FullscreenUtil.get_inFullscreenMode())}},$J:function(e){if(!eh.get_isPublicSpecificToolbar()){this.$F(!e);this.get_dom().publicItems.toggleClass('narrow',e)}else{this.get_dom().leftItems.toggleClass('narrow',e)}},$r:function(){var e=this.$P.get_shouldShowPublicWatermarkItems();var eQ=this.$P.get_shouldForceLabelsBelowIcons();var eR=this.$P.get_canPutLabelsUnderneath();var eS=this.get_dom().toolbar.width();var eT=(e?this.$O:0);var eU=this.get_dom().leftItems;var eV=this.get_dom().rightItems;this.$I(!eQ);this.$F(true);this.$J(false);eg.$3(this.$u());eg.$3(this.$x());eg.$3(this.$B());eg.$3(this.$s());eg.$3(this.$D());eg.$3(this.$G());eg.$3(this.$z());if(tab.FullscreenUtil.get_inFullscreenMode()||eh.get_isPublicSpecificToolbar()){eg.$1(eU);eg.$1(eV);this.$F(false);var eW=this.$Q;var eX=this.$L;if(!this.$g(eS,eW,eT,eX)){this.$J(true)}if(ss.isValue(this.$B())){if(!this.$g(eS,eW,eT,eX)){this.$B().element.hide();eW-=this.$K}}if(ss.isValue(this.$z())){if(!this.$g(eS,eW,eT,eX)){this.$z().element.hide();eW-=this.$K}}return}if(eQ){if(this.$g(eS,this.$R,eT,this.$M)){eg.$4(eU);eg.$4(eV)}else{eg.$1(eU);eg.$1(eV)}return}if(this.$g(eS,this.$S,eT,this.$N)&&!eQ){eg.$4(eU);eg.$4(eV)}else if(this.$g(eS,this.$R,eT,this.$M)&&eR){this.$I(false);eg.$4(eU);eg.$4(eV)}else if(this.$g(eS,this.$Q,eT,this.$N)){eg.$1(eU);eg.$4(eV)}else if(this.$g(eS,this.$S,eT,this.$L)){eg.$4(eU);eg.$1(eV)}else{eg.$1(eU);eg.$1(eV);var eY=this.$Q;var eZ=this.$L;if(ss.isValue(this.$B())){if(!this.$g(eS,eY,eT,eZ)){this.$B().element.hide();eY-=this.$K}}if(ss.isValue(this.$u())){if(!this.$g(eS,eY,eT,eZ)){this.$u().element.hide();eZ-=this.$K}}if(ss.isValue(this.$x())){if(!this.$g(eS,eY,eT,eZ)){this.$x().element.hide();eZ-=this.$K}}if(ss.isValue(this.$s())){if(!this.$g(eS,eY,eT,eZ)){this.$s().element.hide();eZ-=this.$K}}if(ss.isValue(this.$G())){if(!this.$g(eS,eY,eT,eZ)){this.$G().element.hide();eZ-=this.$K}}if(ss.isValue(this.$D())){if(!this.$g(eS,eY,eT,eZ)){this.$D().element.hide();eZ-=this.$K}}if(!this.$g(eS,eY,eT,eZ)){this.$J(true)}}},$n:function(){var e=eh.get_toolbarHeight();if(this.get_viewModel().get_shouldShowCommenting()){e-=1}this.get_dom().toolbar.height(e);this.$o();this.rebuildNonVizItems();if(!eh.get_isPublicSpecificToolbar()){this.rebuildPublicItems()}if(tab.FeatureFlags.isEnabled('AccessibilityViewingToolbar')){this.element.find('.tabToolbarButton:not(.disabled)').first().attr('tabindex','0')}this.$k()},$o:function(){this.get_dom().leftItems.empty();if(eh.get_isPublicSpecificToolbar()){this.$d(this.get_dom().leftItems)}else{this.$f(this.get_dom().leftItems)}},$d:function(e){var eQ=ss.getEnumerator(this.$P.get_nonVizItems());try{while(eQ.moveNext()){var eR=eQ.current();if(ss.equalsT('public-logo',eR.get_iconType())){var eS=ea.create(eR);e.append(eS.element)}}}finally{eQ.dispose()}},$f:function(e){this.$C(null);var eQ=ss.getEnumerator(this.$P.get_vizItems());try{while(eQ.moveNext()){var eR=eQ.current();var eS=ea.create(eR);e.append(eS.element);if(ss.equalsT('redo',eR.get_iconType())){this.$C(eS)}}}finally{eQ.dispose()}if(tsConfig.is_metrics_enabled){var eT=new eb(tab.Strings.ToolbarShowPerformanceRecording,'tab-icon-performance',ss.mkdel(this.$P,this.$P.showPerformanceMetrics));var eU=ea.create(eT);e.append(eU.element)}},rebuildNonVizItems:function(){this.get_dom().rightItems.empty();if(eh.get_isPublicSpecificToolbar()){this.$f(this.get_dom().rightItems);this.$b(this.get_dom().rightItems)}else{this.$b(this.get_dom().rightItems)}},$b:function(e){if(!tab.FullscreenUtil.get_inFullscreenMode()){this.$v(null);this.$y(null);var eQ=ss.getEnumerator(this.$P.get_nonVizItems());try{while(eQ.moveNext()){var eR=eQ.current();var eS=ea.create(eR);if(!ss.equalsT('public-logo',eR.get_iconType())){e.append(eS.element)}if(ss.equalsT('customviews',eR.get_iconType())){eS.get_dom().get_text().css('max-width','160px');this.$v(eS)}else if(ss.equalsT('edit',eR.get_iconType())){this.$y(eS)}else if(ss.equalsT('share',eR.get_iconType())){this.$E(eS)}else if(ss.equalsT('alert',eR.get_iconType())){this.$t(eS)}else if(ss.equalsT('subscribe',eR.get_iconType())){this.$H(eS)}}}finally{eQ.dispose()}}if(this.get_viewModel().get_shouldShowCommenting()){var eT=L.get_instance().get_rightAreaDrawerViewModel();var eU=function(){eT.done(function(eY){eY.toggle()})};var eV=new eb(tab.Strings.CommentingToolbarButtonLabel,'tab-icon-commenting',eU);var eW=ea.create(eV);e.append(eW.element);this.disposables.add$1(new tab.CallOnDispose(function(){tab.MiscUtil.dispose$1(eW)}))}if(tab.FeatureFlags.isEnabled('VizToolbarFullscreenButton')){if(tab.FullscreenUtil.get_fullscreenEnabled()&&!tsConfig.is_mobile){var eX=(tab.FullscreenUtil.get_inFullscreenMode()?new eb(tab.Strings.ToolbarExitFullscreen,'tab-icon-exitFullscreen',tab.FullscreenUtil.exitFullscreen):new eb(tab.Strings.ToolbarEnterFullscreen,'tab-icon-enterFullscreen',function(){tab.FullscreenUtil.requestFullscreen(document.documentElement)}));this.$A(ea.create(eX));e.append(this.$z().element)}}this.updateCustomViewsButton()},$h:function(){this.$q();this.$n()},updateCustomViewsButton:function(){if(ss.isNullOrUndefined(this.$u())){return}var e=this.$w().get_currentCustomViewName();if(ss.isNullOrUndefined(e)){this.$u().element.css('visibility','hidden')}else{this.$u().element.css('visibility','');this.$u().element.toggleClass('tab-customviews-modified',this.$w().get_dirty());var eQ=tab.Strings.ToolbarCustomViewsTemplate(e);if(!ss.equalsT(this.$u().get_toolbarButton().get_label(),eQ)){this.$u().get_toolbarButton().set_label(eQ)}}},rebuildPublicItems:function(){if(!this.$P.get_shouldShowPublicWatermarkItems()){this.get_dom().publicItems.hide();return}this.get_dom().publicLogo.empty();this.get_dom().publicBelowLogo.empty();this.$c();this.get_dom().publicLogo.attr('title',tab.Strings.ToolbarAboutTableau);if(this.$P.get_shouldShowViewCount()){this.$e();if(this.$P.get_shouldShowAuthorByLine()){this.$a()}}if(this.$P.get_shouldShowAuthorByLine()){this.$9()}this.get_dom().publicItems.show()},$j:function(){if(!eh.get_isPublicSpecificToolbar()){this.rebuildPublicItems();this.$i()}},$c:function(){this.get_dom().publicLogo.prop('href',this.$P.get_publicLogoLink());var e=$('<div />');e.addClass('tab-publicLogo');this.get_dom().publicLogo.append(e)},$e:function(){var e=$('<span>').text(tab.Strings.ToolbarViewCount(this.$P.get_localizedViewCount()));this.get_dom().publicBelowLogo.append(e)},$a:function(){var e=$('<span>');e.addClass('tab-belowPublicDivider');e.text('|');this.get_dom().publicBelowLogo.append(e)},$9:function(){var e=$('<span>').html(this.$P.get_authorProfileLink());this.get_dom().publicBelowLogo.append(e)},$k:function(){if(tsConfig.is_mobile){this.get_dom().toolbar.css('left','-10000px')}this.get_dom().toolbar.width('10000px');eg.$2(this.get_dom().rightItems);eg.$3(this.$u());eg.$3(this.$x());eg.$3(this.$B());eg.$3(this.$s());eg.$3(this.$D());eg.$3(this.$G());if(this.$K===0){this.$I(!this.$P.get_shouldForceLabelsBelowIcons());eg.$1(this.get_dom().leftItems);eg.$1(this.get_dom().rightItems);this.$Q=this.get_dom().leftItems.outerWidth(true);this.$L=this.get_dom().rightItems.outerWidth(true);this.$K=ss.coalesce(ss.Int32.trunc(this.get_dom().leftItems.children().first().outerWidth(true)),0)}eg.$4(this.get_dom().leftItems);eg.$4(this.get_dom().rightItems);if(this.$P.get_canPutLabelsUnderneath()){this.$I(false);this.$R=this.get_dom().leftItems.outerWidth(true);this.$M=this.get_dom().rightItems.outerWidth(true)}if(!this.$P.get_shouldForceLabelsBelowIcons()){this.$I(true);this.$S=this.get_dom().leftItems.outerWidth(true);this.$N=this.get_dom().rightItems.outerWidth(true)}if(this.$P.get_shouldShowPublicWatermarkItems()&&!eh.get_isPublicSpecificToolbar()){this.$J(false);this.$O=this.get_dom().publicItems.outerWidth(true)}this.get_dom().toolbar.width('');if(tsConfig.is_mobile){this.get_dom().toolbar.css('left','')}this.$i()},$q:function(){this.$S=0;this.$R=0;this.$Q=0;this.$N=0;this.$M=0;this.$L=0;this.$O=0;this.$K=0},forceResizeToolbar:function(){this.$i()},$i:function(){var e=tabBootstrap.MetricsController.createContext('TBRHRE'.toString(),64,null);try{var eQ=this.get_dom().leftItems;var eR=this.get_dom().rightItems;if(eQ.children().length===0&&eR.children().length===0){return}eg.$2(eR);this.$r();eg.$0(eR);this.$p()}finally{if(ss.isValue(e)){e.dispose()}}},$m:function(e){switch(e.which){case 37:{this.$l(-1);break}case 39:{this.$l(1);break}default:{return}}e.preventDefault();e.stopPropagation()},$l:function(e){var eQ=this.element.find('.tabToolbarButton:not(.disabled):focusable');var eR=this.element.find('.tabToolbarButton:focus');if(ss.isValue(eR[0])){var eS=eQ.index(eR[0]);eQ.eq((eS+e)%eQ.length).focus()}},$p:function(){var e=ss.getEnumerator(this.$P.get_nonVizItems());try{while(e.moveNext()){var eQ=e.current();if(ss.isValue(eQ.popupViewModel)){eQ.popupViewModel.updatePosition()}}}finally{e.dispose()}},$g:function(e,eQ,eR,eS){if(eQ+eR+eS>=e){return false}var eT=Math.max(eQ,eS)+eR/2>=e/2;if(this.$P.get_shouldShowPublicWatermarkItems()&&eR>0&&eT){return false}return true}},ss.makeGenericType(spiff.BaseView$1,[eh]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[eh])]);ss.initClass(eh,a,{add_newToolbar:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newToolbar:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_viewCountLoaded:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_viewCountLoaded:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_dataAlertDialogVMCreated:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_dataAlertDialogVMCreated:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},get_shouldShowPublicWatermarkItems:function(){return eh.$0()&&tsConfig.watermarkdisplay},get_shouldShowAuthorByLine:function(){return eh.$0()&&tsConfig.show_byline},get_shouldShowViewCount:function(){return eh.$0()&&tsConfig.showViewCount&&eh.publicViewCount>tsConfig.viewCountThreshold},get_shouldForceLabelsBelowIcons:function(){return this.get_canPutLabelsUnderneath()&&tsConfig.is_mobile},get_shouldShowCommenting:function(){return this.$2$4},set_shouldShowCommenting:function(e){this.$2$4=e},get_canPutLabelsUnderneath:function(){return eh.get_toolbarHeight()>40},get_publicLogoLink:function(){var e=(ss.isValue(tabBootstrap.ViewerBootstrap.get_instance().location)?tabBootstrap.ViewerBootstrap.get_instance().location.toString():'');return tsConfig.watermarklink+'?ref='+e.split('?')[0]},get_authorProfileLink:function(){var e=window.location;var eQ=ss.formatString('{0}//{1}/profile/app/rdr/repo?workbook={2}',e.protocol,e.hostname,tsConfig.workbook_repo_url);return ss.formatString('<a class="tab-toolbarAuthorByText" target="_blank" href="{0}">{1}</a>',tableau.format.escapeHTML(eQ),tableau.format.escapeHTML(tab.Strings.ToolbarMoreByAuthor))},get_viewCount:function(){return eh.publicViewCount},set_viewCount:function(e){eh.publicViewCount=e;if(this.get_shouldShowViewCount()){this.raiseActionEvent(this.$2$2)}},get_localizedViewCount:function(){var e=tab.ApplicationModel.get_instance().get_appPresModel().numberFormats;var eQ=e[2];var eR=e[8];var eS=e[9];return tableau.format.formatIntAuto(eh.publicViewCount,eQ,eR,eS)},get_vizCommandItems:function(){return this.$c.get_vizCommandItems()},get_nonVizCommandItems:function(){return this.$c.get_nonVizCommandItems()},get_legacyMenuItems:function(){return this.$c.get_legacyMenuItems()},get_vizItems:function(){return this.$d},get_nonVizItems:function(){return this.$b},get_customViewsViewModel:function(){return this.$9},get_dialogHostViewModel:function(){return this.$2$5},set_dialogHostViewModel:function(e){this.$2$5=e},get_forceHideCustomViewsButton:function(){return this.$a},get_useSmallScreenToolbar:function(){var e=window.screen;return e.width<430||e.height<430},dispose:function(){this.$9.dispose();this.get_dialogHostViewModel().dispose();if(ss.isValue(this.dataAlertDialogViewModel)){this.dataAlertDialogViewModel.dispose()}this.$5();spiff.BaseViewModel.prototype.dispose.call(this)},$4:function(e,eQ){for(var eR=0;eR<e.length;eR++){var eS=e[eR];var eT=tab.CommandItemWrapper.create(eS);tab.Param.verifyValue(eS,'commandItem');switch(eT.get_commandsType()){case'separator':{eQ.push(eb.createSeparator());break}case'item':{if(eb.shouldShowButton(eT,this)){this.$2(eS,eQ)}break}case'subcommands':{if(eT.get_iconRes()==='toggle-updates'){var eU={$:this.$3(tab.CommandsPresModelWrapper.create(eT.get_commands()).get_commandItems(),eQ)};var eV={$:tab.ApplicationModel.get_instance().get_workbook()};eV.$.withDashboard(ss.mkdel({workbook:eV,button:eU},function(){if(this.workbook.$.get_isCurrentSheetStoryboard()){this.button.$.set_enabled(false)}}))}break}}}},$5:function(){for(var e=0;e<this.$d.length;e++){var eQ=this.$d[e];eQ.dispose()}ss.clear(this.$d);for(var eR=0;eR<this.$b.length;eR++){var eS=this.$b[eR];eS.dispose()}ss.clear(this.$b)},$7:function(e,eQ){if(this.$a&&this.$9.get_hasCustomViews()){this.$a=false;this.$6(null)}},$2:function(e,eQ){var eR=eb.createFromCommandItem(e,'tab-icon-',this);var eS=this.get_dialogHostViewModel();eR.add_showDialogRequested(ss.mkdel(eS,eS.show));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){var eT=this.get_dialogHostViewModel();eR.remove_showDialogRequested(ss.mkdel(eT,eT.show))})));eQ.push(eR)},$3:function(e,eQ){if(e.length!==2){return null}var eR=ef.createFromCommandItems(e[0],e[1],'tab-icon-');if(ss.isValue(eR)){eQ.push(eR)}return eR},$6:function(e){var eQ=tabBootstrap.MetricsController.createContext('TBRHNT'.toString(),64,null);try{this.$5();if(tsConfig.toolbarvis){this.$4(this.$c.get_vizCommandItems(),this.$d)}this.$4(this.$c.get_nonVizCommandItems(),this.$b);this.raiseActionEvent(this.$2$1)}finally{if(ss.isValue(eQ)){eQ.dispose()}}},isLegacyMenuItemEnabled:function(e){return this.$c.isLegacyMenuItemEnabled(e)},showPerformanceMetrics:function(){tab.CommandController.get().get_legacySession().saveAndOpenMetricsView()},showDialog:function(e){var eQ=ss.getEnumerator(this.get_nonVizItems());try{while(eQ.moveNext()){var eR=eQ.current();if(ss.equalsT(e,eR.get_iconType())){if(e==='alert'){eR.execute()}else if(tab.FeatureFlags.isEnabled('ViewingToolbarModalDialog')||tsConfig.is_mobile_app){eR.showDialog()}else{eR.showUberPopup($('.tabToolbarButton.'+e));$('.tab-glass').css('opacity','0.5').css('background-color','black')}return}}}finally{eQ.dispose()}},createDataAlertDialogViewModel:function(e){if(e.dataAlertDialogMode==='edit'){this.dataAlertDialogViewModel=bs.new$1(e,bv.editDataAlertId())}else{this.dataAlertDialogViewModel=bs.new$1(e,'')}this.dataAlertDialogViewModel.dialogViewModelDisposed=ss.delegateCombine(this.dataAlertDialogViewModel.dialogViewModelDisposed,ss.mkdel(this,this.$8));this.raiseActionEvent(this.$2$3);return this.dataAlertDialogViewModel},$8:function(){this.dataAlertDialogViewModel=null},handleDataAlertUpdate:function(){if(bs.get_dataAlertModelExistsAndVisibleInApplicationModel()&&ss.isNullOrUndefined(this.dataAlertDialogViewModel)){this.createDataAlertDialogViewModel(tab.ApplicationModel.get_instance().get_dataAlertDialogModel().pm);return}if(!bs.get_dataAlertModelExistsAndVisibleInApplicationModel()&&ss.isNullOrUndefined(this.dataAlertDialogViewModel)){return}if(!bs.get_dataAlertModelExistsAndVisibleInApplicationModel()&&ss.isValue(this.dataAlertDialogViewModel)){this.dataAlertDialogViewModel=null;return}if(bs.get_dataAlertModelExistsAndVisibleInApplicationModel()&&ss.isValue(this.dataAlertDialogViewModel)){this.dataAlertDialogViewModel.updateFromDialogPresModel(tab.ApplicationModel.get_instance().get_dataAlertDialogModel().pm)}}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel]);ss.initClass(ei,a,{add_closed:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_closed:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_prePosition:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_prePosition:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_positionCalculated:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_positionCalculated:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_showed:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_showed:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},add_positioned:function(e){this.$2$5=ss.delegateCombine(this.$2$5,e)},remove_positioned:function(e){this.$2$5=ss.delegateRemove(this.$2$5,e)},get_isShown:function(){return this.$k},get_body:function(){return this.$i.get_body()},get_location:function(){return this.$o},set_location:function(e){this.move(e)},get_horizontalOffset:function(){return this.$j},set_horizontalOffset:function(e){this.$j=e},get_verticalOffset:function(){return this.$s},set_verticalOffset:function(e){this.$s=e},get_lastLocation:function(){return this.$l},set_lastLocation:function(e){this.$l=e},get_calculatedShownArgs:function(){return this.$h},get_showAbove:function(){return this.$n},set_showAbove:function(e){this.$n=e},get_freezePositionWhileOpen:function(){return this.$2$6},set_freezePositionWhileOpen:function(e){this.$2$6=e},setTooltipBodyAndReposition:function(e,eQ){this.requestLayout(ss.mkdel(this,function(){if(ss.isValue(eQ)){eQ()}this.get_body().empty().append(e)}))},isInSafeZone:function(e,eQ){var eR=this.element.position();var eS=tab.DoubleUtil.roundToInt(this.element.outerWidth());var eT=tab.DoubleUtil.roundToInt(this.element.outerHeight());var eU=10;var eV=10;if(eQ){eU+=this.get_horizontalOffset();eV+=this.get_verticalOffset()}return e.x>=eR.left-eU&&e.x<=eR.left+eS+eU&&e.y>=eR.top-eV&&e.y<=eR.top+eT+eV},show:function(e,eQ){if(ss.isNullOrUndefined(eQ)||this.$q){this.close();return}this.set_lastLocation(eQ);this.ensureAttachedAndSized();this.$p=true;if(this.get_isShown()){this.setTooltipBodyAndReposition(e)}else{this.get_body().empty().append(e);this.requestLayout()}},move:function(e){if(!this.$k||ss.isNullOrUndefined(e)||ss.isValue(this.$o)&&this.$o.x===e.x&&this.$o.y===e.y){return}this.$l=e;this.requestLayout()},close:function(){this.set_freezePositionWhileOpen(false);this.$p=false;if(!this.$k){return}this.detach();this.$k=false;this.onClosed()},dispose:function(){this.close();if(!tsConfig.is_mobile){$(window).off(this.createNamespacedEventName('resize'))}spiff.Widget.prototype.dispose.call(this)},forceLayout:function(){this.$h=null;this.set_freezePositionWhileOpen(false);this.requestLayout()},requestLayout:function(e,eQ){if(ss.isValue(e)){this.$m.push(e)}if(ss.isValue(eQ)){X.getViewport(ss.mkdel(this,function(eR){this.layoutTooltip(eR,eQ)}))}else{X.getViewport(ss.mkdel(this,this.layoutTooltip))}},onShowed:function(){if(!ss.staticEquals(this.$2$4,null)){this.$2$4()}},onPrePosition:function(){if(!ss.staticEquals(this.$2$2,null)){this.$2$2()}},onPositionCalculated:function(){if(!ss.staticEquals(this.$2$3,null)){this.$2$3()}},onPositioned:function(){if(!ss.staticEquals(this.$2$5,null)){this.$2$5()}},onClosed:function(){if(!ss.staticEquals(this.$2$1,null)){this.$2$1()}},ensureAttachedAndSized:function(){if(!this.element.parent().is(document.body)){this.element.appendTo(document.body)}},$d:function(){if(tab.DomUtil.nodeHasTextSelection(this.element.get(0))){window.getSelection().removeAllRanges()}},detach:function(){this.$d();this.element.hide();this.element.detach();this.element.off(this.get_eventNamespace());this.element.find('*').off(this.get_eventNamespace()).removeClass('hover')},$6:function(e,eQ){if(ss.isNullOrUndefined(e)||ss.isNullOrUndefined(eQ)){return null}this.$o=e;var eR=ss.isValue(this.$r)&&e.y>=ss.unbox(this.$r)-16;var eS=tab.DoubleUtil.roundToInt(this.element.height());var eT=tab.DoubleUtil.roundToInt(this.element.width());var eU=eQ.getVisibleRoom(e,1);var eV;if(!(eU.roomRight>=eT+this.get_horizontalOffset())&&eU.roomRight+eU.roomLeft>=eT+this.get_horizontalOffset()){eV=parseInt(Math.max(0,eU.roomRight-eT).toString())}else{eV=this.get_horizontalOffset()}var eW=eS+this.get_verticalOffset();var eX=eT+eV;var eY;var eZ;if(eU.roomRight>=eX){eY=true;eZ=e.x+eV}else if(eU.roomLeft>=eX){eY=false;eZ=e.x+ss.Int32.trunc(eU.roomRight)-eX}else{eY=true;eZ=Math.max(0,e.x-eX+ss.Int32.trunc(eU.roomRight))}var fa=(this.get_showAbove()?this.$7(e,eU,eW,eX):this.$8(e,eU,eW,eX,eR));var fb=fa<=e.y;var fc=new dF;if(fb){if(eY){fc.position='AR'}else{fc.position='AL'}}else if(eY){fc.position='BR'}else{fc.position='BL'}fc.shownX=eZ;fc.shownY=fa;fc.tooltipAnchorY=fa;fc.origX=e.x;fc.origY=e.y;fc.viewport=eQ;return fc},$g:function(e){if(ss.isValue(e)){var eQ=this.$b(e.position);if(!this.element.hasClass(eQ)){this.element.removeClass('tab-tooltipAR tab-tooltipAL tab-tooltipBL tab-tooltipBR');this.element.addClass(eQ)}this.$h=e}},$c:function(){if(ss.isValue(this.$h)){this.element.css(ss.mkdict(['left',this.$h.shownX+'px','top',this.$h.shownY+'px']))}},$b:function(e){var eQ;switch(e){case'AR':{eQ='tab-tooltipAR';break}case'AL':{eQ='tab-tooltipAL';break}case'BL':{eQ='tab-tooltipBL';break}case'BR':default:{eQ='tab-tooltipBR';break}}return eQ},layoutTooltip:function(e,eQ){this.element.css(ss.mkdict(['top','0','left','0']));if(this.get_freezePositionWhileOpen()){this.$a()}else if(eQ){var eR=this.$6(this.get_lastLocation(),e);if(ss.isNullOrUndefined(eR)){return}this.$g(eR);this.$c()}else{this.$9();this.onPrePosition();var eS=this.$6(this.get_lastLocation(),e);if(!this.$e(eS)){this.$c();return}this.$g(eS);this.onPositionCalculated();if(this.$p){this.$p=false;this.$f()}this.$c();this.onPositioned()}},$a:function(){this.$9();this.$f();this.$c();this.onPositioned()},$f:function(){this.element.show();this.$k=true;this.onShowed()},$9:function(){for(var e=0;e<this.$m.length;e++){var eQ=this.$m[e];eQ()}ss.clear(this.$m)},$e:function(e){if(ss.isNullOrUndefined(e)){return false}if(this.$p){return true}if(dF.areShownArgsSame(e,this.$h)){return false}return true},$8:function(e,eQ,eR,eS,eT){var eU;if(!eT&&eQ.roomBelow>=eR){eU=e.y+this.get_verticalOffset();this.$r=null}else if(!eT&&eQ.roomAbove>=eR&&eQ.roomRight>=eS){eU=e.y+(ss.Int32.trunc(eQ.roomBelow)-eR+this.get_verticalOffset())}else if(eQ.roomAbove>=eR){eU=e.y-eR;if(!ss.isValue(this.$r)){this.$r=e.y}}else{eU=Math.max(0,e.y-ss.Int32.trunc(eQ.roomAbove))}return eU},$7:function(e,eQ,eR,eS){var eT;if(eQ.roomAbove>=eR){eT=e.y-eR;if(!ss.isValue(this.$r)){this.$r=e.y}}else if(eQ.roomBelow>=eR){eT=e.y+this.get_verticalOffset();this.$r=null}else if(eQ.roomAbove>=eR&&eQ.roomRight>=eS){eT=e.y+(ss.Int32.trunc(eQ.roomBelow)-eR+this.get_verticalOffset())}else{eT=Math.max(0,e.y-ss.Int32.trunc(eQ.roomAbove))}return eT},setSuppressTooltip:function(e){this.$q=e;if(this.$q&&this.$k&&!this.isInSafeZone(this.get_lastLocation(),false)){this.close()}}},spiff.Widget,[tab.IWidget,tab.IAppendableView,ss.IDisposable,cF]);ss.initClass(ek,a,{add_tooltipClosed:function(e){this.$1$1=ss.delegateCombine(this.$1$1,e)},remove_tooltipClosed:function(e){this.$1$1=ss.delegateRemove(this.$1$1,e)},add_mouseExitedTooltip:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_mouseExitedTooltip:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},add_ubertipUpdated:function(e){this.$1$3=ss.delegateCombine(this.$1$3,e)},remove_ubertipUpdated:function(e){this.$1$3=ss.delegateRemove(this.$1$3,e)},add_ubertipActionExecuted:function(e){this.$1$4=ss.delegateCombine(this.$1$4,e)},remove_ubertipActionExecuted:function(e){this.$1$4=ss.delegateRemove(this.$1$4,e)},add_ubertipCommandExecuted:function(e){this.$1$5=ss.delegateCombine(this.$1$5,e)},remove_ubertipCommandExecuted:function(e){this.$1$5=ss.delegateRemove(this.$1$5,e)},get_isTooltipShown:function(){return this.$j.get_isShown()},get_visualIDPresModel:function(){return this.visualId},get_tooltip:function(){return this.$j},get_ubertip:function(){return this.$k},get_currentBehavior:function(){return this.$2(this.get_currentBehaviorType())},get_currentBehaviorType:function(){return this.$f},get_defaultBehaviorType:function(){return this.$g},get_ubertipShouldEnforceButtonOrdering:function(){return false},get_currentTooltipMode:null,get_multiSelectCompleteBehavior:function(){return'sticky'},get_hasContextProvider:function(){return ss.isValue(this.$e)},$d:function(){return ss.mkdel(this,this.$3)},get_testUseOnlyLastHoveredObjectID:function(){return ek.$1},set_testUseOnlyLastHoveredObjectID:function(e){ek.$1=e},close:function(){this.$j.close()},hoverOverObject:function(e,eQ,eR,eS,eT,eU,eV,eW){if(!this.readyForHover){return}if(ss.isNullOrUndefined(eS)){return}var eX=this.getHoverBehavior(eV);this.switchTooltipMode(eX);var eY=ss.referenceEquals(eS.toString(),ek.$1);var eZ=ss.mkdel(this,function(fb){var fc=eW==='viz'&&ek.isUbertipHtmlEmpty(fb);this.get_currentBehavior().hoverOverObject(e,eT,fc,eY)});if(eV==='mark'&&tab.ApplicationModel.get_instance().get_isLocalRenderMode()&&ss.isValue(eU)&&!this.shouldForceRemoteTooltipForObject(eV,eS)){if(eY){eZ(this.get_ubertip().get_model())}else{var fa=this.getAffectedObjects('mark',eS);this.runBehaviorWithLocalUbertip(eZ,eS,fa,eQ,eR,eU,eW,eV,'on-hover')}}else{this.runBehaviorWithRemoteUbertip(eZ,{x:eR.x,y:eR.y,w:0,h:0},eW,'on-hover',eV,null,false,null)}},hoverOverWhitespace:function(e,eQ){if(!this.readyForHover){return}var eR='W'===ek.$1;this.get_currentBehavior().hoverOverWhitespace(e);if(this.get_currentBehavior().isHoverAllowed(e)){if(!eR){var eS=this.needRemoteCommand(eQ,'whitespace','on-hover',0,null);if(eS===1){ek.$1='W';this.runBehaviorWithRemoteUbertip(null,{x:-1,y:-1,w:0,h:0},eQ,'on-hover','whitespace',null,false,null)}else if(eS===2){ek.$1='W';this.$l=tab.MiscUtil.clearTimeout(this.$l);this.$l=window.setTimeout(ss.mkdel(this,function(){this.runBehaviorWithRemoteUbertip(null,{x:-1,y:-1,w:0,h:0},eQ,'on-hover','whitespace',null,false,null)}),200)}}}else if(this.$j.get_isShown()){ek.$1='W';this.$j.close()}},hoverOverHeader:function(e,eQ,eR,eS,eT){if(!this.readyForHover){return}var eU=eT.length>0&&tab.ActionUtils.getApplicableActions(this.visualId.worksheet,'on-hover','url').length>0;if(eU){var eV=!ss.referenceEquals(eT.toString(),ek.$1);this.hoverOverCoordinates(e,eQ,eR,eS,eT,eV)}else{this.hoverOverCoordinates(e,eQ,eR,eS)}},hoverOverCoordinates:function(e,eQ,eR,eS,eT,eU){if(!this.readyForHover){return}ek.$1=(ss.isValue(eT)?eT.toString():'U');var eV=this.getHoverBehavior(eR);this.switchTooltipMode(eV);var eW=ss.mkdel(this,function(eX){var eY=eS==='viz'&&ek.isUbertipHtmlEmpty(eX);this.get_currentBehavior().hoverOverObject(e,false,eY,false)});this.runBehaviorWithRemoteUbertip(eW,{x:eQ.x,y:eQ.y,w:0,h:0},eS,'on-hover',eR,eT,eU,null)},singleSelectComplete:function(e,eQ,eR,eS,eT,eU,eV){var eW=this.getSingleSelectBehavior(eU);this.switchTooltipMode(eW);this.suppressHoverIfNecesary();var eX=this.getSingleSelectBehaviorCallback(e);if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()&&eU==='mark'){var eY=this.getAffectedObjects(eU,eS);this.runBehaviorWithLocalUbertip(eX,eS,eY,eQ,eR,eT,eV,eU,'on-select')}else{var eZ={x:eR.x,y:eR.y,w:0,h:0};this.runBehaviorWithRemoteUbertip(eX,eZ,eV,'on-select',eU,null,false,null)}},singleSelectCoordinates:function(e,eQ,eR,eS){var eT=this.getSingleSelectBehavior(eS);this.switchTooltipMode(eT);var eU=ss.mkdel(this,function(){this.get_currentBehavior().singleSelectComplete(e);if(this.get_tooltip().get_isShown()){this.triggerUbertipButtonUpdate()}});this.runBehaviorWithRemoteUbertip(eU,{x:eQ.x,y:eQ.y,w:0,h:0},eR,'on-select',eS,null,false,null)},multiSelectComplete:function(e,eQ,eR){this.switchTooltipMode(this.get_multiSelectCompleteBehavior());this.suppressHoverIfNecesary();var eS=ss.mkdel(this,function(){this.get_currentBehavior().multiSelectComplete(e);ek.$1='U';if(this.get_tooltip().get_isShown()){this.triggerUbertipButtonUpdate()}});this.runBehaviorWithRemoteUbertip(eS,eQ,eR,'on-select','unspecified',null,false,null)},selectionMoved:function(e){this.get_currentBehavior().selectionMoved(e)},repositionWithinRegion:function(e){this.get_currentBehavior().repositionWithinRegion(e)},onTap:function(){},onScroll:function(){this.get_currentBehavior().onScroll()},onMoving:function(){},onDragEnd:function(e){},onPanOrDragStart:function(e){this.get_currentBehavior().onPanningOrDragging()},onPinchEnd:function(e){},onPress:function(){},onMouseLeaveTheView:function(){ek.$1='U'},dispose:function(){if(ss.keyExists(this.tooltipBehaviors,this.get_currentBehaviorType())){this.tooltipBehaviors[this.get_currentBehaviorType()].detach()}this.disposables.dispose();this.get_tooltip().get_body().off('mouseleave.basemode');this.get_tooltip().dispose();this.get_tooltip().remove_closed(ss.mkdel(this,this.$5));this.get_tooltip().remove_prePosition(ss.mkdel(this,this.$0));this.get_tooltip().remove_showed(ss.mkdel(this,this.$0));this.get_ubertip().remove_commandExecuted(ss.mkdel(this,this.$9));this.get_ubertip().remove_actionExecuted(ss.mkdel(this,this.$8));this.$k.remove_ubertipMenuToggled(ss.mkdel(this,this.$b));this.$k.remove_ubertipMenuClosed(ss.mkdel(this,this.$a));this.get_ubertip().dispose()},shownTooltipIsStatic:function(){return this.get_currentBehavior().shownTooltipIsSticky()},isHoverAllowed:function(e){return this.get_currentBehavior().isHoverAllowed(e)},clearTooltipWithFakeHover:function(){if(!this.get_tooltip().get_isShown()||ss.isNullOrUndefined(this.get_tooltip().get_lastLocation())||!this.get_tooltip().isInSafeZone(this.get_tooltip().get_lastLocation(),false)){this.hoverOverWhitespace({x:-1,y:-1},'viz')}},suppress:function(e){this.$j.setSuppressTooltip(e);this.readyForHover=!e},buildBehaviorsDictionary:null,getSingleSelectBehaviorCallback:null,getSingleSelectBehavior:function(e){return this.$g},getHoverBehavior:function(e){return this.$g},shouldForceRemoteTooltipForObject:function(e,eQ){return false},suppressHoverIfNecesary:function(){this.readyForHover=false},onBehaviorSwitch:function(){},modelUpdateCallback:function(e){ek.$2=e.tupleId;if(!tab.ApplicationModel.get_instance().get_isLocalRenderMode()&&this.get_currentBehaviorType()==='smooth'&&ss.isValue(e.markBounds)){this.get_currentBehavior().serverMarkBounds=e.markBounds}this.$j.setTooltipBodyAndReposition(this.get_ubertip().element,ss.mkdel(this,function(){var eQ=ss.isValue(e)&&e.tupleId===0;if(!eQ&&!ss.referenceEquals(e.tupleId,ek.$2)){return}var eR=this.$k.get_model();this.updateTooltipFromModel(e);this.updateUbertipFromModel(e);if(!ss.staticEquals(this.$1$3,null)){this.$1$3(e)}if(ss.isValue(eR)&&eR.requestId===e.requestId){this.get_ubertip().updatePartiallyFromRemote(eR)}}))},updateModelFromServerResponse:function(e){this.get_ubertip().updatePartiallyFromRemote(e)},updateUbertipFromModel:function(e){e.tooltipOffset=(ss.isValue(this.$k.get_model())?this.$k.get_model().tooltipOffset:null);if(!_.isEqual(e,this.$k.get_model())){this.$k.set_model(e)}},updateTooltipFromModel:function(e){this.get_tooltip().tupleId=e.tupleId;if(ss.isValue(e.tooltipOffset)){if(ss.isValue(e.tooltipOffset.x)){this.get_tooltip().set_horizontalOffset(16+e.tooltipOffset.x)}if(ss.isValue(e.tooltipOffset.y)){this.get_tooltip().set_verticalOffset(16+e.tooltipOffset.y)}}else{this.get_tooltip().set_horizontalOffset(16);this.get_tooltip().set_verticalOffset(16)}},switchTooltipMode:function(e){if(this.get_currentBehaviorType()===e){return false}var eQ=this.get_currentBehavior();eQ.detach();var eR=this.$2(e);eR.attach();this.$f=e;this.onBehaviorSwitch();return true},prepareForPositioning:function(){this.$k.prepareForPositioning(this.shouldShowCommandButtons()&&this.$k.hasActionsOrSummaryOrCommands())},triggerUbertipButtonUpdate:function(){if(this.shouldShowCommandButtons()&&this.get_ubertip().hasActionsOrSummaryOrCommands()&&this.$k.get_isShowingFullUbertip()){return}this.$j.forceLayout()},handleUbertipButtons:function(){if(this.shouldShowCommandButtons()&&this.get_ubertip().hasActionsOrSummaryOrCommands()){this.$k.showCommandAreaAndActions()}else{this.$k.hideMenuActionsAndCommandButtons(true)}},shouldShowCommandButtons:function(){return this.get_currentBehavior().shouldShowCommandButtons()},shouldAddCommandButtonsAndActions:function(){return true},getAffectedObjects:function(e,eQ){var eR=null;if(this.get_hasContextProvider()){if(ss.contains(this.$e.getSelectedObjects(e),eQ)){eR=this.$e.getSelectedObjects(e)}else{eR=[eQ]}}return eR},isCurrentObjectSelected:function(){if(ss.isNullOrUndefined(this.$k.get_model())){return false}var e=this.$k.get_model();var eQ=((this.get_hasContextProvider()&&e.interactedTupleId!==0)?this.$e.isMarkSelected(e.interactedTupleId):e.tupleSelected);if(eQ){return true}var eR=e.refLineSelected||e.trendLineSelected;if(eR){return true}var eS=e.imageRegion;var eT=eS==='bottomaxis'||eS==='leftaxis'||eS==='rightaxis'||eS==='topaxis';if(eT){return true}var eU=eS==='xheader'||eS==='yheader';return eU},runBehaviorWithLocalUbertip:function(e,eQ,eR,eS,eT,eU,eV,eW,eX){var eY=eQ.toString();if(!ss.referenceEquals(ek.$1,eY)){this.$l=tab.MiscUtil.clearTimeout(this.$l)}ek.$4+=1;ek.$3=this.visualId;var eZ=ek.$4;var fa=ss.mkdel(this,function(fe){if(!this.$4(eZ.toString())){if(!ss.referenceEquals(this.visualId,ek.$3)){this.readyForHover=true}return}if(ss.isValue(fe)){fe.requestId=eZ;this.modelUpdateCallback(fe);ek.$1=eY;ek.$2=eQ;if(eV==='viz'&&fe.isExplicitlyEmpty){this.$1();return}if(ss.isValue(e)){e(fe)}}});var fb=ss.mkdel(this,function(fe){if(!this.$4(eZ.toString())||!ss.isValue(fe)){return}fe.requestId=eZ;this.updateModelFromServerResponse(fe)});var fc=new tab.LocalUbertipInfo(eQ,eR,eU,false);var fd=this.needRemoteCommand(eV,eW,eX,eQ,eU);if(fd===1){tab.UberTipClientCommands.localAndRemoteUberTipCommand(eS,eV,this.visualId,{x:eT.x,y:eT.y,w:0,h:0},eQ,fc,fa,fb,this.$d(),eX)}else{tab.UberTipClientCommands.localOnlyUbertipCommand(eS,this.visualId,fc,fa)}if(fd===2){this.$l=window.setTimeout(ss.mkdel(this,function(){tab.UberTipClientCommands.remoteOnlyUbertipCommand(eV,this.visualId,{x:eT.x,y:eT.y,w:0,h:0},fb,this.$d(),eX,null,false,ek.$2)}),200)}},runBehaviorWithRemoteUbertip:function(e,eQ,eR,eS,eT,eU,eV,eW){var eX=(ss.isValue(eU)?eU.toString():((eT==='whitespace')?'W':'U'));if(!ss.referenceEquals(ek.$1,eX)){this.$l=tab.MiscUtil.clearTimeout(this.$l)}ek.$4+=1;ek.$3=this.visualId;var eY=ek.$4;var eZ=ss.mkdel(this,function(fa){if(!this.$4(eY.toString())){if(!ss.referenceEquals(this.visualId,ek.$3)){this.readyForHover=true}return}if(ss.isValue(fa)){fa.requestId=eY;this.modelUpdateCallback(fa);if(eR==='viz'&&fa.isExplicitlyEmpty){this.$1();return}if(ss.isValue(e)){e(fa)}}else{this.$1();ek.$1=eX}});tab.UberTipClientCommands.remoteOnlyUbertipCommand(eR,this.visualId,eQ,eZ,this.$d(),eS,eU,eV,eW)},needRemoteCommand:function(e,eQ,eR,eS,eT){if(tsConfig.is_authoring||!tab.ApplicationModel.get_instance().get_isLocalRenderMode()||e!=='viz'||eQ!=='mark'&&eQ!=='whitespace'||eR!=='on-hover'||this.$h||ss.isNullOrUndefined(this.$e)||this.$e.isMarkSelected(eS)){return 1}if(this.hasViT(eT)){return 2}return 0},hasViT:function(e){return(tab.FeatureFlags.isEnabled('VizInTooltip')?tab.UbertipSerializer.paneContainsViT(tab.ModelUtils.getVisualModelFromVisualId(this.visualId),e):false)},$3:function(){this.get_ubertip().handleRemoteFailure();this.readyForHover=true},$1:function(){this.$j.close();this.readyForHover=true},$0:function(){if(this.get_isTooltipShown()){this.readyForHover=true}},$2:function(e){return this.tooltipBehaviors[e]},$5:function(){this.readyForHover=true;if(!ss.staticEquals(this.$1$1,null)){this.$1$1()}},$8:function(e,eQ){this.get_tooltip().close();if(!ss.staticEquals(this.$1$4,null)){this.$1$4(e,eQ)}},$9:function(e,eQ){var eR=tab.FeatureFlags.isEnabled('SelectionRelaxation')&&ss.isValue(eQ.command)&&eQ.command.get_commandType()===23;if(!eR){this.get_tooltip().close()}if(!ss.staticEquals(this.$1$5,null)){this.$1$5(e,eQ)}if(eR){this.$c()}},$c:function(){this.$j.set_freezePositionWhileOpen(true);var e=null;var eQ=ss.isValue(ek.$2)&&ss.unbox(ek.$2)!==0;if(!eQ){return}e=ek.$2;this.runBehaviorWithRemoteUbertip(null,{x:-1,y:-1,w:0,h:0},'viz','on-select','mark',null,false,e)},$b:function(e){this.$i=e;this.get_currentBehavior().handleUbertipMenuToggle(e)},$a:function(){this.$i=false;this.get_currentBehavior().handleUbertipMenuClose()},$6:function(){this.$j.close()},$4:function(e){if(ss.isValue(e)&&!ss.referenceEquals(ek.$4.toString(),e)){return false}return true},$7:function(e){if(!this.get_tooltip().get_isShown()||ss.staticEquals(this.$1$2,null)||this.$i){return}var eQ=tab.DomUtil.getRectXY(this.get_tooltip().get_body());if(eQ.x>e.pageX||eQ.x+eQ.w<=e.pageX||eQ.y>e.pageY||eQ.y+eQ.h<=e.pageY){this.$1$2({x:e.pageX,y:e.pageY})}}});ss.initClass(ej,a,{get_currentTooltipMode:function(){return'sticky'},onTap:function(){this.get_tooltip().close()},onPress:function(){this.get_tooltip().close()},getSingleSelectBehaviorCallback:function(e){return ss.mkdel(this,function(){this.get_currentBehavior().singleSelectComplete(e)})},shouldForceRemoteTooltipForObject:function(e,eQ){var eR=this.getAffectedObjects(e,eQ);return e==='mark'&&ss.isValue(eR)&&eR.length>1},showCommandAreaAndActions:function(){this.get_ubertip().showCommandAreaAndActions()}},ek);ss.initEnum(el,a,{unspecified:'unspecified',sticky:'sticky',smooth:'smooth',disabled:'disabled'},true);ss.initClass(em,a,{getSelectedObjects:function(e){if(e==='mark'){return this.$0.tupleSelection.get_ids()}else{return null}},isMarkSelected:function(e){return this.$0.tupleSelection.isObjectSelected(e)}});ss.initClass(en,a,{get_body:function(){return this.getElementBySelector('.tab-tooltipContent')}},spiff.Template,[ss.IDisposable]);ss.initClass(eo,a,{add_commandExecuted:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_commandExecuted:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_actionExecuted:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_actionExecuted:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_ubertipMenuToggled:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_ubertipMenuToggled:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_ubertipMenuClosed:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_ubertipMenuClosed:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},get_model:function(){return this.$17},set_model:function(e){this.$17=e;this.$x()},get_isShowingFullUbertip:function(){return this.$11.is(':visible')||this.$Y.is(':visible')},$W:function(){return this.$15&&this.hasSummary()},dispose:function(){this.element.detach();this.$1c.remove_showed(ss.mkdel(this,this.handleTooltipShowed));this.$1c.remove_positionCalculated(ss.mkdel(this,this.handleTooltipPositionCalculated));tab.MiscUtil.dispose(this.$1a);this.$d();this.$e();spiff.Widget.prototype.dispose.call(this)},$d:function(){if(!ss.staticEquals(this.$10,null)){this.$1c.remove_positioned(this.$10);this.$10=null}},hasActions:function(){if(ss.isNullOrUndefined(this.$17)){return false}var e=ss.isValue(this.$17.actionPMs)&&this.$17.actionPMs.length>0;var eQ=ss.isValue(this.$17.actions)&&this.$17.actions.length>0;return e||eQ},hasCommands:function(){if(ss.isNullOrUndefined(this.$17)){return false}return ss.isValue(this.$17.buttonModels)&&this.$17.buttonModels.length>0},hasSummary:function(){if(ss.isNullOrUndefined(this.$17)){return false}return ss.isValue(this.$17.selectionHtml)},hasActionsOrSummaryOrCommands:function(){return this.hasActions()||this.hasSummary()||this.hasCommands()},hideMenuActionsAndCommandButtons:function(e){if(this.get_isShowingFullUbertip()&&e){this.$1c.requestLayout(ss.mkdel(this,function(){this.$H();this.$12.css('min-width','')}))}else{this.$H();this.$12.css('min-width','')}},prepareForPositioning:function(e){if(e){if(!this.$1c.get_isShown()){this.element.css('width','');this.$D(false)}}else{this.hideMenuActionsAndCommandButtons(false);this.$w()}},showCommandAreaAndActions:function(){if(ss.isNullOrUndefined(this.$1c.get_calculatedShownArgs())){return}if(this.$y()){this.updateTooltipAnchor()}else{this.$E()}},$y:function(){return this.get_isShowingFullUbertip()&&!this.$1c.get_freezePositionWhileOpen()},updateTooltipAnchor:function(){if(!this.$b()){return}var e=this.$1c.get_calculatedShownArgs();if(e.shownY===e.tooltipAnchorY){var eQ=tab.DoubleUtil.roundToInt(this.$11.outerHeight());e.tooltipAnchorY=e.shownY+eQ}},$E:function(){this.$f();var e=this.get_isShowingFullUbertip();this.$H();var eQ=!this.$1c.get_isShown()||tab.DoubleUtil.roundToInt(this.element.outerHeight())===0;if(eQ){this.$D(false)}else{this.$F(e)}},$F:function(e){var eQ=this.$1c.get_calculatedShownArgs();var eR={x:eQ.shownX,y:eQ.tooltipAnchorY};var eS=eQ.viewport.getVisibleRoom(eR,1);var eT=ss.Int32.trunc(eS.roomBelow);var eU=ss.Int32.trunc(eS.roomRight);this.$D(false);this.$12.css('min-width',this.$g()+'px');var eV=this.$o();if(eV>this.$19){this.$19=eV}this.$C(this.$19);var eW=tab.DoubleUtil.roundToInt(this.element.outerHeight());var eX=tab.DoubleUtil.roundToInt(this.$11.outerHeight());var eY=this.$p(eW,eX);if(!e){if(eY>eT||eV>eU){this.$A(eX);eY=this.$p(eW,eX)}}else if(eV>eU){this.$B(eV,eU)}if(eY>eT&&this.$Y.outerHeight()>0){this.$R(eT,eY,eR.y)}else{this.$l(eX,eT,eY,eR.y,!e)}},$p:function(e,eQ){return 2+(this.$b()?(e-eQ):e)},$A:function(e){this.$1c.layoutTooltip(this.$1c.get_calculatedShownArgs().viewport,true);this.handleTooltipPositionCalculated();if(this.$18==='AL'||this.$I()){this.$1c.get_calculatedShownArgs().shownY=this.$1c.get_calculatedShownArgs().shownY+e;this.$1c.get_calculatedShownArgs().tooltipAnchorY=this.$1c.get_calculatedShownArgs().shownY}},$B:function(e,eQ){var eR=this.$1c.get_calculatedShownArgs().shownX;var eS=2+e-eQ;this.$1c.get_calculatedShownArgs().shownX=Math.max(0,eR-eS)},$R:function(e,eQ,eR){var eS=2+eQ-e;var eT=eR-eS;this.$1c.get_calculatedShownArgs().shownY=eT;if(!this.$b()){this.$1c.get_calculatedShownArgs().tooltipAnchorY=eT}},$l:function(e,eQ,eR,eS,eT){var eU=this.$1c.get_calculatedShownArgs().tooltipAnchorY;if(this.$b()){eU-=e}var eV=eS+eQ;var eW=Math.min(eU,eV-eR);this.$H();this.$d();this.$10=ss.mkdel(this,function(){this.$G(eQ,eR,eW,eS,eT)});this.$1c.add_positioned(this.$10)},$G:function(e,eQ,eR,eS,eT){this.$d();this.$D(eT);switch(this.$18){case'BR':{if(eT){this.$V(eS-tab.DoubleUtil.roundToInt(this.$11.height()),false)}this.$V(eR,eT);break}case'AR':{if(e<eQ||!this.$I()){this.$V(eR,eT)}break}case'BL':case'AL':{this.$V(eR,eT);break}default:{break}}},$V:function(e,eQ){if(eQ){this.$1c.element.animate(ss.mkdict(['top',e+'px']),'fast')}else{this.$1c.element.css('top',e+'px')}},$b:function(){return this.$18==='BL'||this.$18==='BR'},$I:function(){return(this.$18==='AR'||this.$18==='BR')&&this.$1c.get_calculatedShownArgs().shownX>this.$1c.get_calculatedShownArgs().origX},handleRemoteFailure:function(){if(this.$16){this.$16=false;if(tab.CommandController.get().get_legacySession().get_waitHandler().isBusy()){tab.CommandController.get().get_legacySession().get_waitHandler().reset()}}},hideSpinner:function(){if(tab.CommandController.get().get_legacySession().get_waitHandler().isBusy()){tab.CommandController.get().get_legacySession().get_waitHandler().reset()}},handleTooltipPositionCalculated:function(){if(ss.isValue(this.$18)&&this.$18===this.$1c.get_calculatedShownArgs().position){return}switch(this.$1c.get_calculatedShownArgs().position){case'AL':case'AR':{this.$13.after(this.$11);this.$12.before(this.element.find('.tab-ubertipSelected'));break}case'BL':case'BR':{this.$13.before(this.$11);this.element.find('.tab-clear').after(this.element.find('.tab-ubertipSelected'));break}}this.$18=this.$1c.get_calculatedShownArgs().position},handleTooltipShowed:function(){this.$8()},$8:function(){if(this.element.width()===0){return}var e=this.$o();this.$C(e)},$o:function(){return Math.ceil(Math.min(this.element.width(),$(document.body).width()-2))},updatePartiallyFromRemote:function(e){if(ss.isNullOrUndefined(e)){return}if(ss.isNullOrUndefined(this.$17)){this.set_model(e);return}this.$17.requestId=e.requestId;this.$S(e);this.$K(e);this.$O(e);if(tab.FeatureFlags.isEnabled('VizInTooltip')){this.$U(e)}},$O:function(e){var eQ=[];var eR=null;var eS=null;if(ss.isValue(this.$17)){eR=eo.$7(e)||eo.$8(e);eS=eo.$4(this.$17,10)}if(ss.isValue(eR)){if(!this.$W()){e.buttonModels=_.without(e.buttonModels,eR);e.buttonModels.push(eR);eQ.push(e.buttonModels.length-1)}}else if(ss.isValue(eS)){e.buttonModels.push(eS)}this.$17.buttonModels=e.buttonModels;this.$N(eQ)},$S:function(e){this.$17.selectionHtml=e.selectionHtml;this.$Q();if(ss.isValue(this.$17.selectionHtml)&&this.get_isShowingFullUbertip()){this.$w();this.$8()}},$K:function(e){this.$17.actionPMs=e.actionPMs;this.$17.actions=e.actions;this.$J();this.$v()},$U:function(e){this.$17.tooltipHtml=e.tooltipHtml;tab.VizDataUtils.updateLastVizInTooltipSizes(e.tooltipHtml);this.$T();this.$P();this.$1c.requestLayout()},$v:function(){if(this.$16){this.$16=false;if(ss.isValue(this.$17)){for(var e=0;e<this.$17.actions.length;e++){var eQ=this.$17.actions[e];if(ss.referenceEquals(eQ.get_name(),this.$X)){var eR=new w;eR.action=eQ;this.onActionExecuted(eR)}}}}},onCommandExecuted:function(e){if(!ss.staticEquals(this.$2$1,null)){this.$2$1(this,e)}},onActionExecuted:function(e){if(!ss.staticEquals(this.$2$2,null)){this.$2$2(this,e)}},$e:function(){this.$14.dispose()},$C:function(e){this.element.css('min-width',e+'px');this.$19=e},$f:function(){this.element.css('min-width','')},$x:function(){this.$e();this.element.show();this.$T();this.$J();this.$N(null);this.$P();this.$Q();this.$w();var e=tab.MiscUtil.isNullOrEmpty(this.$17.actions);var eQ=tab.MiscUtil.isNullOrEmpty(this.$17.actionPMs);var eR=ss.isNullOrEmptyString(this.$17.tooltipHtml);var eS=e&&eQ&&eR;if(eS){this.$13.addClass('hide')}else{this.$13.removeClass('hide')}},$w:function(){this.$f();this.$13.css('height','');this.$11.css('height','');var e=this.computeAdjustedTooltipWidth();if(e>0){this.$C(e)}else if(this.element.width()>0){this.$19=tab.DoubleUtil.roundToInt(this.element.width())}else{this.$19=0}},computeAdjustedTooltipWidth:function(){var e=tab.DoubleUtil.roundToInt(this.element.width());var eQ=-1;var eR=tab.FeatureParamsLookup.getInt(18);if(!ss.isValue(eR)){eR=70}if(e>0&&this.$19>0&&this.$19>=e&&this.$19-e<=ss.unbox(eR)){eQ=this.$19}return eQ},$g:function(){var e=0;this.$12.find('li').each(function(eQ,eR){e+=eR.firstChild.offsetWidth});return e},$H:function(){this.$1c.element.stop();this.$Y.stop();this.$11.stop();this.$Y.hide();this.$11.hide()},$D:function(e){if(ss.isNullOrUndefined(this.get_model())){return}if(this.hasActions()){if(e){this.$Y.show()}else{this.$Y.show()}}if(this.hasCommands()||this.hasSummary()){if(e){this.$11.slideDown('fast')}else{this.$11.show()}}},$T:function(){var e=$(this.$17.tooltipHtml);var eQ=this.element.find('.tab-ubertipTooltip');if(tab.FeatureFlags.isEnabled('SelectionRelaxation')){var eR=eo.$5(eQ);this.$c(e,eR)}eQ.html('').append(e)},$c:function(e,eQ){ss.clear(this.$1b);var eR=e.find('a.relax-selection');for(var eS=0;eS<eR.length;eS++){this.$z(eR,eS,eQ)}},$z:function(e,eQ,eR){var eS=e.eq(eQ);var eT=eS.children().eq(0);eT.unwrap().unwrap();if(tab.MiscUtil.isNullOrEmpty$1(eT.eq(0).html())){eT.remove();return}if(tsConfig.allow_select){if(eT.css('text-decoration')==='underline'){eT.addClass('tab-selection-relaxation-underlined')}eT.addClass('tab-selection-relaxation');eT.css('text-decoration','');if(eQ===eR){eT.addClass('tab-selection-relaxation-selected')}var eU=eS.attr('href');this.$1b.push(new m(eU,eT))}},$Q:function(){if(ss.isNullOrUndefined(this.$17.selectionHtml)){this.element.find('.tab-ubertipSelected').html('').addClass('hide')}else{this.element.find('.tab-ubertipSelected').html('').append(this.$17.selectionHtml).removeClass('hide')}},$a:function(e,eQ,eR,eS){if(!e.get_hasItems()){return false}var eT=[];eI.newMenuItemsFromCommands(eT,e.get_wrappedCommandItemPresModel().get_commands(),eI.createDropdownMenuCommandHandler,tab.PermissionManager.buildCommandPermission());if(eT.length===0){return false}var eU=this.$j(e);var eV=new spiff.MenuViewModel(true);eV.set_menu(new spiff.Menu(eT));var eW=eV;var eX=ss.mkdel(this,function(){this.$t(eW,eU)});eU.add_click(eX);eW.add_menuItemClicked(spiff.MenuViewModel.handleMenuActionItemClicked);var eY=function(){eW.hide()};this.$1c.add_closed(eY);this.$14.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){eU.remove_click(eX);eW.remove_menuItemClicked(spiff.MenuViewModel.handleMenuActionItemClicked);eW.remove_hidden(ss.mkdel(this,this.$u));this.$1c.remove_closed(eY)})));if(eS){eU.element.fadeIn()}if(eR){eQ.append($("<li><div class='tab-separator'>&nbsp;</div></li>"))}var eZ=$('<li></li>');eZ.append(eU.element);eQ.append(eZ);this.$14.add$1(eW);tab.ObjectRegistry.newView(spiff.MenuView).call(null,[eW]);return true},$u:function(){if(!ss.staticEquals(this.$2$4,null)){this.$2$4()}},$t:function(e,eQ){if(e.get_visible()){e.remove_hidden(ss.mkdel(this,this.$u));e.hide();if(!ss.staticEquals(this.$2$3,null)){this.$2$3(false)}}else{e.add_hidden(ss.mkdel(this,this.$u));var eR=new spiff.ShowMenuOptions(eQ.element,true);e.show(eR);if(!ss.staticEquals(this.$2$3,null)){this.$2$3(true)}}},$N:function(e){if(!this.$Z){return}var eQ=false;var eR=$('<ul></ul>');if(ss.isValue(this.$17.buttonModels)){for(var eS=0;eS<this.$17.buttonModels.length;++eS){var eT=this.$17.buttonModels[eS];if(eT.get_isPlaceholder()){continue}if(eT.get_isMenuButton()){var eU=ss.isValue(e)&&ss.contains(e,eS);eQ=this.$a(eT.get_asMenuButton(),eR,eQ,eU)||eQ}else if(eT.get_status()!=='hidden'){var eV=ss.isValue(e)&&ss.contains(e,eS);this.$9(eT,eR,eQ,eV);eQ=true}}}this.$7(eR,eQ);if(eQ){this.$12.html('').append(eR).removeClass('hide')}else{this.$12.html('').addClass('hide')}},$9:function(e,eQ,eR,eS){var eT=this.$i(e);eT.set_context(e.get_legacyCommandModel());this.$6(eT,ss.mkdel(this,this.$s));if(ss.keyExists(eo.$n,e.get_commandType())){eT.element.width(eo.$n[e.get_commandType()])}if(eS){eT.element.fadeIn()}if(eR){eQ.append($("<li><div class='tab-separator'>&nbsp;</div></li>"))}var eU=$('<li></li>');eU.append(eT.element);eQ.append(eU)},$i:function(e){var eQ=spiff.LabelButton.newNativeButton();if(tsConfig.is_mobile){var eR=eo.$a(eo.$6(e),e.get_name());var eS=$('<div>'+eR+'</div>');eQ.setLabelContents(eS)}else{eQ.set_label(e.get_name());eQ.set_hoverTooltipText(e.get_description())}var eT=new ss.StringBuilder('tab-command');if(ss.isNullOrEmptyString(e.get_imageRes())){eT.append(e.get_commandType())}else{eT.append(eo.$6(e))}eT.append(' ').append(e.get_status());eQ.element.addClass(eT.toString());if(e.get_status()==='disabled'){eQ.set_disabled(true)}this.$14.add$1(eQ);return eQ},$j:function(e){var eQ=(ss.isValue(e.get_imageRes())?this.$k(e):eo.$2(e));eo.$3(eQ);this.$14.add$1(eQ);return eQ},$k:function(e){var eQ=spiff.LabelButton.newMenuButton();eQ.set_hoverTooltipText(e.get_description());var eR=eo.$9(e.get_wrappedCommandItemPresModel().get_iconRes());eo.$0(eQ,eR);eo.$d(eQ,e,eR);return eQ},$7:function(e,eQ){if(ss.isValue(this.get_model().buttonModels)){var eR=this.get_model().buttonModels;for(var eS=0;eS<eR.length;eS++){var eT=eR[eS];if(!eT.get_isPlaceholder()){continue}var eU=$("<li><div class='tab-separator'>&nbsp;</div></li>");var eV=eo.$1(eT);this.$14.add$1(eV);var eW=$('<li></li>');eW.append(eV.element);if(eT.get_commandType()===10&&this.$W()&&eQ){var eX=_.filter(this.$17.buttonModels,function(fa){return fa.get_commandType()===2});if(ss.isValue(eX)){var eY=e.children().get(2);eU.insertAfter(eY);eW.insertAfter(eU)}else{var eZ=e.children().get(0);eW.insertBefore(eZ);eU.insertBefore(eZ)}}else{if(eQ){e.append(eU)}e.append(eW)}document.documentElement.appendChild(e.first().get(0));eo.$n[eT.get_commandType()]=tab.DoubleUtil.roundToInt(eV.element.innerWidth());eV.element.width(eo.$n[eT.get_commandType()]);document.documentElement.removeChild(e.first().get(0))}}},$6:function(e,eQ){var eR=function(){eQ(e)};e.add_click(eR);this.$14.add$1(new tab.CallOnDispose(function(){e.remove_click(eR)}))},$s:function(e){var eQ=new ba;eQ.command=e.get_context();var eR=eQ;this.onCommandExecuted(eR)},$q:function(e){var eQ=new w;eQ.action=e.get_context();var eR=eQ;this.onActionExecuted(eR)},$r:function(e){var eQ=e.get_context();if(tab.ActionUtils.isFilterAction(eQ)||tab.ActionUtils.isHighlightAction(eQ)&&!tab.ActionUtils.isTargetOfActionLocal(eQ)){tab.CommandController.get().get_legacySession().get_waitHandler().showAndLock(false);this.$16=true;this.$X=e.get_labelElement().text()}else{var eR=tab.ModelUtils.getVisualModelFromVisualId(this.$17.visualId);var eS=[this.$17.tupleId];tab.UberTipClientCommands.executeUbertipAction(eQ,eS,eR)}},$J:function(){if(tab.MiscUtil.isNullOrEmpty(this.$17.actions)&&tab.MiscUtil.isNullOrEmpty(this.$17.actionPMs)){this.$Y.html('').removeClass('invisible').addClass('hide')}else if(ss.isValue(this.$17.actions)){this.$M()}else{this.$L()}},$M:function(){var e=$('<ul></ul>');for(var eQ=0;eQ<this.$17.actions.length;eQ++){var eR=this.$17.actions[eQ];this.$h(e,eR.get_name(),eR,ss.mkdel(this,this.$q))}var eS=tab.DoubleUtil.roundToInt(this.element.height());this.$Y.html('').append(e).removeClass('hide invisible');var eT=tab.DoubleUtil.roundToInt(this.element.height());if(eT!==eS){this.$1c.requestLayout(null,true)}},$L:function(){var e=$('<ul></ul>');var eQ=tab.ModelUtils.getVisualModelFromVisualId(this.$17.visualId);if(!ss.isValue(eQ)){return}var eR=false;var eS=true;for(var eT=0;eT<this.$17.actionPMs.length;eT++){var eU=this.$17.actionPMs[eT];var eV=tab.ActionUtils.getActionType(eU);if(!this.$Z&&eV!=='highlight'){continue}var eW=eQ.get_vizDataModel();var eX=[this.$17.tupleId];var eY=tab.ApplicationModel.get_instance().get_dataDictionary();var eZ=(ss.isValue(eU.linkSpec)?eU.linkSpec.delimiter:null);var fa=tab.VizDataUtils.constructUrlFromString(eY,eU.name,eW,eX,eQ.get_worksheetName(),eZ);var fb=false;if(eV==='url'){var fc=tab.ActionUtils.getUrlActionPm(eU,eQ,eX);fb=fc.item2==='urlConstructionFail';if(ss.isNullOrUndefined(fc.item1)||ss.isNullOrEmptyString(fa)){eS=false}}if(!fb){this.$h(e,fa,eU,ss.mkdel(this,this.$r))}if(eV==='filter'||eV==='url'){eR=true}}if(e.find('li').length>0){var fd=-1;if(ss.isValue(eQ.get_sceneModel())){fd=eQ.get_sceneModel().get_paneDescriptorCount()}else{}if(fd>1&&eR||!eS){this.$Y.html('').append(e).removeClass('hide').addClass('invisible')}else{this.$Y.html('').append(e).removeClass('hide invisible')}}},$h:function(e,eQ,eR,eS){var eT=spiff.LabelButton.newAnchorButton();eT.set_label(eQ);eT.element.addClass('tab-action');eT.set_context(eR);this.$6(eT,eS);this.$14.add$1(eT);var eU=$('<li></li>');eU.append(eT.element);e.append(eU)},$P:function(){if(!tab.FeatureFlags.isEnabled('SelectionRelaxation')||!tsConfig.allow_select){return}tab.MiscUtil.dispose(this.$1a);if(ss.isNullOrUndefined(this.$17.contentCommands)){return}var e={};for(var eQ=0;eQ<this.$17.contentCommands.length;eQ++){var eR=this.$17.contentCommands[eQ];e[eR.get_name()]=eR}for(var eS=0;eS<this.$1b.length;eS++){var eT=this.$1b[eS];if(ss.keyExists(e,eT.$0())){this.$m(eT,e)}}},$m:function(e,eQ){var eR=e.$2();var eS={tap:ss.mkdel(this,function(){if(!eR.hasClass('tab-selection-relaxation-selected')){var eT=eQ[e.$0()];this.$n(eR,eT)}})};this.$1a.push(new spiff.TableauEventHandler.$ctor1(eR.get(0),eS))},$n:function(e,eQ){var eR=ss.mkdict(['isSelected',true]);e.data(eR);e.addClass('tab-selection-relaxation-selected');var eS=new ba;eS.command=eQ;this.onCommandExecuted(eS)}},spiff.Widget,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(ep,a,{get_keyCombos:function(){var e=new cN.$ctor2(new cP(false,false,false,true,false,false,false,false),90);var eQ=new cN.$ctor3(new cP(true,false,false,false,false,false,false,false),8);return new cO(e,[eQ])},executeShortcut:function(e){this.executeShortcut$1(ss.mkdel(this,function(){tab.WorksheetServerCommands.undo$1(eq.undoRedoSuccess,eq.undoRedoFailure)}))}},eq,[cA]);ss.initClass(er,a,{});ss.initClass(es,a,{add_propsUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_propsUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_searchResultsAvailable:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_searchResultsAvailable:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_userSelected:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_userSelected:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},get_props:function(){return this.$2$4},set_props:function(e){this.$2$4=e},get_searchTerm:function(){return this.$6},set_searchTerm:function(e){if(ss.referenceEquals(this.$6,e)){return}this.$6=e;var eQ=tab.WorkgroupServerCommands.fetchPageOfSiteUsers(e,0);eQ.done(ss.mkdel(this,function(eR){this.raiseActionEvent(this.$2$2);this.get_props().items=[];this.get_props().activeUser=eR.items[0];this.get_props().startingY=null;this.$4=0;this.$2(eR)}))},reset:function(){this.$6=null;this.$5=false;this.$4=0;this.get_props().items=[];this.get_props().activeUser=null;this.raiseActionEvent(this.$2$1)},selectUser:function(e){this.raiseActionEvent$1(Object).call(this,this.$2$3,e)},handleScrollStop:function(e,eQ){if(e.y===eQ.y){this.get_props().fetchNextPage()}},updateActiveUser:function(e){var eQ=this.get_props().items[e];if(ss.isNullOrUndefined(eQ)||ss.referenceEquals(this.get_props().activeUser,eQ.data)){return}if(e<this.$4){this.$4--}else if(e>=this.$4+6){this.$4++}this.get_props().activeUser=eQ.data;this.get_props().startingY=this.$4*26;this.raiseActionEvent(this.$2$1)},$3:function(){if(!this.$5){return}var e=tab.WorkgroupServerCommands.fetchPageOfSiteUsers(this.get_searchTerm(),this.get_props().items.length);e.done(ss.mkdel(this,this.$2))},$2:function(e){this.$5=e.moreItems;_.map(e.items,ss.mkdel(this,function(eQ){return this.get_props().items.push({data:eQ})}));this.raiseActionEvent(this.$2$1)}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initClass(et,a,{render:function(){var e={tap:ss.mkdel(this,function(eS){this.props.viewModel.removeUser(this.props.user)})};var eQ=spiff.EventForwarder.span(e,{className:'tabUserPillRemove'},['×']);var eR=React.DOM.span({className:'tabUserPillName'},this.props.user.friendlyName);return React.DOM.div(this.$0(),eR,eQ)},$0:function(){var e='tabUserPill';if(!this.props.valid){e+=' error'}return{className:e,title:(this.props.valid?this.props.user.friendlyName:this.props.errorText)}}},React.Component);ss.initClass(eu,a,{render:function(){var e=_.map(this.props.users,ss.mkdel(this,function(eT){return React.createElement(et,{viewModel:this.props.userPillsViewModel,user:eT,valid:ss.staticEquals(this.props.userValidator,null)||this.props.userValidator(eT),errorText:this.props.userInvalidText})}));var eQ=new spiff.ScrollingProps;eQ.scrollY=true;eQ.scrollbars=true;eQ.alwaysShowScrollbarsIfScrollable=true;var eR=eQ;var eS=spiff.ScrollingComponent.createScroller(eR,e);return React.DOM.div({className:'tabUserPillsComponent'},eS)}},React.Component);ss.initClass(ev,a,{add_propsUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_propsUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_props:function(){return this.$2$2},set_props:function(e){this.$2$2=e},addUser:function(e){if(_.any(this.get_props().users,function(eQ){return eQ.id===e.id})){return}this.get_props().users.push(e);this.raiseActionEvent(this.$2$1)},removeUser:function(e){var eQ=ss.remove(this.get_props().users,e);if(eQ){this.raiseActionEvent(this.$2$1)}},setUsers:function(e){_.each(this.get_props().users,ss.mkdel(this,function(eQ){this.removeUser(eQ)}));_.each(e,ss.mkdel(this,function(eQ){this.addUser(eQ)}))}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initClass(ew,a,{render:function(){return React.DOM.div({className:'tabUserSearchComponent'},this.$2(),this.$1())},$0:function(e){var eQ=ReactDOM.findDOMNode(this.refs['tabUserSearchInputRef']);if(ss.isValue(eQ)){eQ.value=''}},$2:function(){return React.DOM.input({type:'text',className:'tabUserSearchInput',placeholder:this.props.userSearchViewModel.placeholderMessage,onKeyUp:ss.mkdel(this.props.userSearchViewModel,this.props.userSearchViewModel.handleInputKeyUp),onKeyDown:ss.mkdel(this.props.userSearchViewModel,this.props.userSearchViewModel.handleInputKeyDown),tabIndex:0,ref:'tabUserSearchInputRef'})},$1:function(){return React.createElement(dc,this.props.userSearchViewModel.get_userListViewModel().get_props())}},React.Component);ss.initClass(ex,a,{render:function(){return React.DOM.div({className:'tab-UserSearchSelectorComponent'},this.$0(),this.$1())},$1:function(){return React.createElement(ew,this.props.userSearchProps)},$0:function(){return React.createElement(eu,this.props.userPillsProps)}},React.Component);ss.initClass(ey,a,{get_users:function(){return this.userPillsProps.users}});ss.initClass(ez,a,{get_users:function(){return this.get_props().userPillsProps.users},get_userSearchViewModel:function(){return this.$3$1},set_userSearchViewModel:function(e){this.$3$1=e},get_userPillsViewModel:function(){return this.$3$2},set_userPillsViewModel:function(e){this.$3$2=e},get_currentSearchHasNoResults:function(){return this.get_userSearchViewModel().currentSearchHasNoResults()},get_searchFieldIsEmpty:function(){return this.get_userSearchViewModel().searchFieldIsEmpty()},$5:function(){this.get_userSearchViewModel().add_propsUpdated(ss.mkdel(this,this.$4));this.get_userSearchViewModel().add_userSelected(ss.mkdel(this,this.onUserSelected));this.get_userPillsViewModel().add_propsUpdated(ss.mkdel(this,this.$4));this.disposables.add$1(this.get_userSearchViewModel());this.disposables.add$1(this.get_userPillsViewModel());this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_userSearchViewModel().remove_propsUpdated(ss.mkdel(this,this.$4));this.get_userSearchViewModel().remove_userSelected(ss.mkdel(this,this.onUserSelected));this.get_userPillsViewModel().remove_propsUpdated(ss.mkdel(this,this.$4))})))},setUserValidator:function(e,eQ){this.get_props().userPillsProps.userValidator=e;this.get_props().userPillsProps.userInvalidText=eQ},$4:function(){this.updateProps()},onUserSelected:function(e){this.get_userPillsViewModel().addUser(e)},setUsers:function(e){this.get_userPillsViewModel().setUsers(e)}},ss.makeGenericType(spiff.BaseComponentViewModel$1,[ey]),[ss.IDisposable,tab.IViewModel,ss.makeGenericType(spiff.IPropsProvider$1,[ey])]);ez.$ctor1.prototype=ez.prototype;ss.initClass(eA,a,{add_propsUpdated:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_propsUpdated:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_userSelected:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_userSelected:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_props:function(){return this.$2$3},set_props:function(e){this.$2$3=e},get_userListViewModel:function(){return this.$2$4},set_userListViewModel:function(e){this.$2$4=e},$5:function(){this.get_userListViewModel().add_propsUpdated(ss.mkdel(this,this.$3));this.get_userListViewModel().add_userSelected(ss.mkdel(this,this.$4));var e=ss.mkdel(this,function(){this.$8=false});this.get_userListViewModel().add_searchResultsAvailable(e);this.disposables.add$1(this.get_userListViewModel());this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_userListViewModel().remove_propsUpdated(ss.mkdel(this,this.$3));this.get_userListViewModel().remove_userSelected(ss.mkdel(this,this.$4));this.get_userListViewModel().remove_searchResultsAvailable(e)})))},handleInputKeyUp:function(e){var eQ=e.keyCode;if(eQ===40||eQ===38||eQ===13){return}this.$9=e.target.value;this.raiseActionEvent(this.$2$1);this.$7.invokeActionDelayed()},handleInputKeyDown:function(e){var eQ=this.$6;switch(e.keyCode){case 40:{this.$6=this.$2(1);if(eQ!==this.$6){this.get_userListViewModel().updateActiveUser(this.$6)}e.preventDefault();break}case 38:{this.$6=this.$2(-1);if(eQ!==this.$6){this.get_userListViewModel().updateActiveUser(this.$6)}e.preventDefault();break}case 13:{var eR=this.get_userListViewModel().get_props().items[this.$6];if(ss.isValue(eR)){this.get_userListViewModel().selectUser(eR.data)}e.preventDefault();break}}},$2:function(e){var eQ=this.$6+e;if(eQ<0||eQ>=this.get_userListViewModel().get_props().items.length){return this.$6}return eQ},$3:function(){this.raiseActionEvent(this.$2$1)},currentSearchHasNoResults:function(){return!this.$8&&this.get_userListViewModel().get_props().items.length===0&&!this.searchFieldIsEmpty()},searchFieldIsEmpty:function(){return tab.MiscUtil.isNullOrEmpty$1(this.$9)},$4:function(e){this.$9=null;this.$6=0;this.get_userListViewModel().reset();this.raiseActionEvent$1(Object).call(this,this.$2$2,e)}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);eA.$ctor1.prototype=eA.prototype;ss.initClass(eB,a,{$1:function(){this.prevButton.addClass('tabCatLegendScrollUp');this.nextButton.addClass('tabCatLegendScrollDown')}},cJ,[ss.IDisposable]);ss.initClass(eC,a,{add_refreshLegacyLegendImages:function(e){this.$1$2=ss.delegateCombine(this.$1$2,e)},remove_refreshLegacyLegendImages:function(e){this.$1$2=ss.delegateRemove(this.$1$2,e)},get_cacheVersion:function(){return this.$3},get_viewWidget:function(){return this.$5},get_viewSession:function(){return this.$4},get_sheetName:function(){return this.$4.sheetId},dispose:function(){this.$5=null;this.$2.dispose()},setTiledViewer:function(e){this.$5=e},$0:function(e){if(ss.isNullOrUndefined(e)){return}var eQ=e.layoutStatus;if(ss.isNullOrUndefined(eQ)){return}if(!tab.CommandController.get().processingRenderModeChange&&!tab.CommandController.get().processingStoryPointChange){this.incrementCacheVersion();var eR=tab.ModelUtils.getVisualModel(tab.ApplicationModel.get_instance(),this.get_sheetName());if(eR.get_isVisualValid()){this.$5.doTiledViewerRefreshImages(eR.get_cacheUrlInfo());if(!ss.staticEquals(this.$1$2,null)){this.$1$2()}}}},$1:function(e){if(!ss.staticEquals(eC.$1$1,null)){eC.$1$1(this.get_sheetName(),e)}this.$0(e)},incrementCacheVersion:function(){this.$3+=1}},null,[ss.IDisposable,tab.IViewController]);ss.initClass(eD,a,{get_toolbarViewModel:function(){return this.$g.get_toolbarViewModel()},dispose:function(){if(ss.isValue(this.$h)){this.$h.dispose();this.$h=null}},exportImage:function(){var e=tab.ApplicationModel.get_instance().get_workbook().get_currentSheetStoryPointId();var eQ=tableau.types.ExportDialogType['ExportImage'];var eR=[];var eS=[];if(this.$g.get_isDashboard()){var eT={};var eU=this.$g.get_viewControllers();if(ss.isValue(eU)){$.each(eU,function(eV,eW){var eX=eW.get_viewWidget().get_scrollPosition();var eY=eX.x;var eZ=eX.y;if(eY!==0||eZ!==0){eT[eW.get_sheetName()+'-x']=eY;eT[eW.get_sheetName()+'-y']=eZ;eS.push({x:eY,y:eZ});eR.push(eW.get_sheetName())}})}}tab.ExportServerCommands.exportImage(tsConfig.current_sheet_name,e,eQ,eR,eS)},exportData:function(e){if(ss.isNullOrUndefined(e)){e=tab.ModelUtils.findActiveOrDefaultVisual().get_worksheetName()}var eQ=tab.ModelUtils.findContentDashboard().getViewSession(e);if(ss.isValue(eQ)){window.open(eQ.formatUnderlyingDataURL(null),eQ.getWindow('vud'),'scrollbars,resizable')}},exportCrosstab:function(e){if(ss.isNullOrUndefined(e)){e=tab.ModelUtils.findActiveOrDefaultVisual().get_worksheetName()}var eQ=tab.ModelUtils.findContentDashboard().getViewSession(e);if(ss.isValue(eQ)){var eR=tableau.types.ExportDialogType['ExportCrosstab'];eQ.fileDownloadHelper.openDownload(eQ.formatExportCrossTabURL('utf16'),eR)}},exportPdf:function(){if(ss.isValue(this.$h)){this.$h.dispose()}this.$g.$6(ss.mkdel(this,function(e){this.$h=e;this.$h.add_closed(ss.mkdel(this,function(){this.$h.dispose();this.$h=null}));this.$h.show()}))},$3:function(){if(this.$g.get_autoUpdate()){this.$f()}},$5:function(){if(!this.$g.get_autoUpdate()){this.$f()}},$1:function(){return this.$g.get_autoUpdate()},$f:function(){this.$g.set_autoUpdate(!this.$g.get_autoUpdate());tab.ToolbarServerCommands.setAutoUpdate(this.$g.get_autoUpdate());tab.BaseSession.autoUpdate=this.$g.get_autoUpdate();if(this.$g.get_autoUpdate()&&this.$g.get_invalid()){tab.CommandController.get().refreshLayout()}},$2:function(){return!tsConfig.previewMode&&!ss.isNullOrEmptyString(tsConfig.downloadURI)||tsConfig.is_metrics_view},$0:function(e){var eQ;if(tsConfig.is_metrics_view){eQ=this.$g.get_session().metricsViewDownloadUrl()}else{eQ=this.$6(e)}window.open(eQ)},$4:function(){tab.ToolbarServerCommands.refreshData()},$d:function(){if(ss.isValue(this.$g.get_toolbarViewModel())){this.$g.get_toolbarViewModel().showDialog('share')}},$9:function(){if(ss.isValue(this.$g.get_toolbarViewModel())){this.$g.get_toolbarViewModel().showDialog('customviews')}},$a:function(){if(ss.isValue(this.$g.get_toolbarViewModel())){this.$g.get_toolbarViewModel().showDialog('alert')}},$e:function(){if(ss.isValue(this.$g.get_toolbarViewModel())){this.$g.get_toolbarViewModel().showDialog('subscribe')}},$c:function(){if(ss.isValue(this.$g.get_toolbarViewModel())){this.$g.get_toolbarViewModel().showPerformanceMetrics()}},$b:function(){if(ss.isValue(this.$g.get_toolbarViewModel())){this.$g.get_toolbarViewModel().showDialog('download')}},$8:function(){},$7:function(){},$6:function(e){if(ss.isValue(e)){var eQ=e.match(eD.$0);if(ss.isValue(eQ)&&eQ.length>=2){return tabBootstrap.ViewerBootstrap.get_instance().location.protocol+'//'+tabBootstrap.ViewerBootstrap.get_instance().location.host+eQ[1]}}return e}},null,[ss.IDisposable]);ss.initClass(eE,a,{});ss.initClass(eF,a,{updateContentTemplate:function(e){this.domRoot.children().detach();this.domRoot.append(e.domRoot)}},spiff.Template,[ss.IDisposable]);ss.initClass(eG,a,{get_zoneModel:function(){return this.$j.get_webZoneModel().get_zoneModel()},get_webZonePresModel:function(){return this.$j.get_webZoneModel().pm},get_domRoot:function(){return this.get_template().domRoot},$f:function(){return this.get_template()},onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this);this.$b()},$d:function(e,eQ){if(eQ.get_propertyName()==='isActiveZone'){this.$e()}},$b:function(){var e=null;var eQ=er.absolutizeURI(this.get_webZonePresModel().url,true);if(tab.FeatureFlags.isEnabled('DashWebAuthSP4')&&tab.WindowHelper.getLocation(window.window).protocol==='https:'&&ss.startsWithString(eQ,'http:')){if(tsConfig.is_authoring){e=new cn(eQ)}else{e=new co(eQ)}}else{e=this.$9(this.get_webZonePresModel().url)}this.$f().updateContentTemplate(e);this.$e()},$9:function(e){if(ss.isNullOrUndefined(this.$g)){this.$g=new cy('frame_'+this.get_zoneModel().get_zoneId(),this.$i)}tab.DomUtil.resize(this.$g.get_frame()[0],{l:0,t:0,w:this.get_zoneModel().get_contentWidth(),h:this.get_zoneModel().get_contentHeight()});var eQ=er.absolutizeURI(e,true);this.$g.setSrc(eQ,e);return this.$g},$a:function(){this.$i.setActive()},$e:function(){if(!tsConfig.is_authoring||tsConfig.is_mobile){return}if(ss.isNullOrUndefined(this.$h)){var e=new spiff.Glass(this.element[0],false);e.set_opaque(false);this.$h=e;this.$h.add_click(ss.mkdel(this,this.$a));this.disposables.add$1(this.$h)}if(this.$i.get_isActiveZone()){this.$h.hide()}else{this.$h.show()}},$c:function(){this.$b()}},ss.makeGenericType(spiff.BaseView$1,[eH]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[eH])]);ss.initClass(eH,a,{add_newWebZone:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newWebZone:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},get_webZoneModel:function(){return this.$3},get_url:function(){return this.get_webZoneModel().get_url()},handleNewWebZone:function(){this.$2()},$2:function(){if(ss.isValue(this.$2$1)){this.$2$1()}}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel]);ss.initClass(eI,a,{});ss.initClass(eJ,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(eK,a,{get_dom:function(){return this.get_template()},get_dashboardNode:function(){return this.$h.get_dashboardNode()},get_containerNode:function(){return this.$h.get_containerNode()},get_dashboardView:function(){return this.$h},get_dashboardSpacerSize:function(){return(ss.isNullOrUndefined(this.get_dashboardView())?null:tab.DashboardSizeCalculator.calculateContainerSize(this.get_dashboardView().get_dashboardSize()))},dispose:function(){this.$e();if(ss.isValue(this.$h)){this.$h.dispose()}if(ss.isValue(this.$g)){this.$g.dispose()}ss.makeGenericType(spiff.BaseView$1,[eL]).prototype.dispose.call(this)},$e:function(){var e=$(N.tabContainerSelector);e.appendTo(this.get_dom().centeringContainer)},onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this);this.$9();this.$a();this.get_dom().dashboardSpacer.scroll(ss.mkdel(this,function(e){this.$d()}));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_dom().dashboardSpacer.off('scroll')})))},$9:function(){var e=$(N.tabContainerSelector);e.appendTo(this.get_dom().dashboardSpacer)},$a:function(){if(ss.isValue(this.$i.get_dashboardViewModel())){this.$i.get_dashboardViewModel().add_sizeChanged(ss.mkdel(this,this.$c));this.$i.get_dashboardViewModel().add_portSizeChanged(ss.mkdel(this,this.$c));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$i.get_dashboardViewModel().remove_sizeChanged(ss.mkdel(this,this.$c));this.$i.get_dashboardViewModel().remove_portSizeChanged(ss.mkdel(this,this.$c))})));this.$h=tab.ObjectRegistry.newView(bm).call(null,[this.$i.get_dashboardViewModel()]);this.$h.addToDom(this.get_dom().dashboardSpacer);this.colorDashboardSpacer();this.get_dom().dashboardSpacer.css('visibility','visible')}this.resizeDashboardSpacer()},$c:function(){this.resizeDashboardSpacer();this.get_viewModel().raiseWorkbookResized()},resizeDashboardSpacer:function(){if(tab.FeatureFlags.isEnabled('IframeSizedToWindow')){var e=this.get_dashboardSpacerSize();if(ss.isValue(e)){var eQ=null;eQ=(tsConfig.is_authoring?{overflow:(this.get_viewModel().get_scrollDashboardArea()?'auto':'')}:{margin:'auto'});this.get_dom().dashboardSpacer.css(eQ);var eR=(tsConfig.is_authoring?this.$i.get_dashboardContainerBounds():tab.DashboardSizeCalculator.asRect(e));tab.DomUtil.setContentBox(this.get_dom().dashboardSpacer.get(0),eR);var eS=tab.DashboardSizeCalculator.get_dashboardViewportSizeWithTabs();var eT={overflow:'hidden'};if(eS.w<e.w||eS.h<e.h){eT.overflow='auto'}$(N.dashboardViewportSelector).css(eT)}else{var eU=this.$i.get_dashboardContainerBounds();var eV={overflow:''};if(this.get_viewModel().get_scrollDashboardArea()){eV.overflow='auto'}this.get_dom().dashboardSpacer.css(eV);tab.DomUtil.setContentBox(this.get_dom().dashboardSpacer.get(0),eU);this.$f()}if(tsConfig.is_authoring){this.$d()}}},$d:function(){if(ss.isValue(this.get_viewModel().get_dashboardViewModel())&&this.get_viewModel().get_dashboardViewModel().get_isStory()){tab.ModuleManager.load(tab.IStoryModule).call(null,[]).done(function(e){e.fireCloseStoryUberMenu()})}},$f:function(){if(tab.BrowserSupport.get_isIE()&&tab.BrowserSupport.get_browserVersion()<=11){this.get_dom().centeringContainer.css('height','');if(tab.FullscreenUtil.get_inFullscreenMode()){var e=this.$i.get_dashboardContainerBounds().h;e+=tabBootstrap.VizLayoutConstants.get_tabsHeight();e+=(tsConfig.toolbarContainerVis?tabBootstrap.VizLayoutConstants.get_vizToolbarHeight():0);this.get_dom().centeringContainer.css('height',e+'px')}}},colorDashboardSpacer:function(){var e=this.$i.get_dashboardBackgroundColor();if(ss.isValue(this.$i.get_dashboardViewModel())&&this.$i.get_dashboardViewModel().get_hasGutter()){e=''}this.get_dom().dashboardSpacer.css('background-color',e)},$b:function(){tab.ModuleManager.load(tab.IDataConnectionModule).call(null,[]).done(ss.mkdel(this,function(e){this.$g=e.createDataConnectionPromptView(this.$i.get_connectionPromptViewModel())}))}},ss.makeGenericType(spiff.BaseView$1,[eL]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[eL])]);ss.initClass(eL,a,{add_newDashboard:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_newDashboard:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_newDataConnectionPrompt:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_newDataConnectionPrompt:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},get_hasPrompt:function(){return this.$7.get_hasPrompt()},get_dashboardViewModel:function(){return this.$6},get_connectionPromptViewModel:function(){return this.$5},get_scrollDashboardArea:function(){if(!tsConfig.is_authoring||this.$7.get_sheetType()==='worksheet'){return false}var e=false;if(ss.isValue(this.get_dashboardViewModel())){var eQ=this.get_dashboardViewModel().get_size();var eR=this.get_dashboardPortSizeContainer();e=eQ.w===eR.w&&eQ.h===eR.h}return!e},get_contentDashboardViewModel:function(){if(!this.$7.get_isCurrentSheetStoryboard()){return this.$6}var e=this.$6.get_zoneViewModels();var eQ=_.keys(e);for(var eR=0;eR<eQ.length;eR++){var eS=eQ[eR];var eT=e[eS];if(eT.get_zoneType()==='flipboard'){if(ss.isNullOrUndefined(eT.get_zoneContentViewModel())){return null}return eT.get_zoneContentViewModel().get_dashboardViewModel()}}return null},get_dashboardPortSizeContainer:function(){var e=tabBootstrap.ViewerBootstrap.get_instance().getWebClientPortSize(tsConfig.current_sheet_type);var eQ={l:0,t:0,w:e.w,h:e.h};return eQ},get_dashboardContainerBounds:function(){var e=O.getClientBounds();return{l:0,t:0,w:e.w,h:e.h}},get_dashboardBackgroundColor:function(){return this.get_dashboardViewModel().get_backgroundColor()},dispose:function(){if(ss.isValue(this.$6)){this.$6.dispose()}if(ss.isValue(this.$5)){this.$5.dispose()}this.$7.remove_newDashboard(ss.mkdel(this,this.$2));spiff.BaseViewModel.prototype.dispose.call(this)},$2:function(e){if(ss.isValue(this.$6)){this.$6.dispose()}this.$6=bn.new$1(e);this.raiseActionEvent(this.$2$1)},$3:function(e){if(ss.isNullOrUndefined(this.get_connectionPromptViewModel())){tab.ModuleManager.load(tab.IDataConnectionModule).call(null,[]).done(ss.mkdel(this,function(eQ){this.$5=eQ.createDataConnectionPromptViewModel(e);this.raiseActionEvent(this.$2$2)}))}else{this.get_connectionPromptViewModel().get_promptUpdated()(e)}},$4:function(){this.$5=tab.MiscUtil.dispose$1(this.get_connectionPromptViewModel())},raiseWorkbookResized:function(){this.raiseActionEvent(eL.$2$3)}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel]);ss.initClass(eM,a,{get_zoneExtension:function(){return this.domRoot.children('.tab-zoneExtension')},get_zoneMargin:function(){return this.domRoot.children('.tab-zone-margin')},get_zonePadding:function(){return this.get_zoneMargin().children('.tab-zone-padding')},get_contentHolder:function(){if(!tab.FeatureFlags.isEnabled('NewDashboardSpacing')){return this.domRoot}return this.get_zonePadding()}},spiff.Template,[ss.IDisposable]);ss.initClass(eN,a,{$k:function(){return this.$q},$l:function(e){this.$q=e;this.$q.addToDom(this.get_dom().get_contentHolder())},$m:function(){return this.get_viewModel()},get_parameterControlView:function(){return this.$k()},get_dom:function(){return this.get_template()},dispose:function(){this.$m().remove_updateZone(ss.mkdel(this,this.$e));this.$m().remove_resizeZone(ss.mkdel(this,this.$d));this.$m().remove_newZoneContent(ss.mkdel(this,this.$c));this.$m().remove_validStateChanged(ss.mkdel(this,this.$g));if(ss.isValue(this.$q)){this.$q.dispose();this.$q=null}this.$h();ss.makeGenericType(spiff.BaseView$1,[eO]).prototype.dispose.call(this)},$h:function(){if(ss.isValue(this.$o)){this.$o.dispose();this.$o=null}},onViewModelPropertyChanged:function(e,eQ){ss.makeGenericType(spiff.BaseView$1,[eO]).prototype.onViewModelPropertyChanged.call(this,e,eQ);if(eQ.get_propertyName()==='isActiveZone'){this.$i()}if(eQ.get_propertyName()==='isReadyZone'){this.$j()}},$a:function(){if(this.get_template().domRoot.get(0).offsetHeight===0||this.get_template().domRoot.get(0).offsetWidth===0){return}if(!ss.isValue(this.$o)){this.$o=new spiff.Glass(this.get_template().domRoot.get(0),true);this.$o.setColor(this.$m().get_model().get_dashboardModel().get_backgroundColor());this.$o.set_opaque(true);this.$o.set_preventWebPageScroll(true);if(tab.ApplicationModel.get_instance().get_autoUpdate()){this.$o.element.css('cursor','progress')}}this.$o.show()},$b:function(){this.$h()},onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this);if(ss.isNullOrUndefined(this.$k())){if(tsConfig.is_authoring&&this.get_viewModel().get_isInDashboard()&&!tab.FeatureFlags.isEnabled('NewDashboardSpacing')){this.element.append("<div class='tab-zoneExtension'></div>")}this.$e();this.$d();if(ss.isValue(this.$m().get_zoneContentViewModel())){this.$c(this.$m().get_zoneContentViewModel())}this.$g()}if(ss.contains(eN.$2,this.$m().get_zoneType())){this.element.addClass('tabSuppressVizTooltipsAndOverlays')}this.element.addClass('tabZone-'+this.$m().get_zoneType());if(tab.ProgressiveLoader.get_progressiveLoadEnabled()&&!tab.BrowserSupport.get_isIE()){this.get_template().domRoot.addClass('fade-bg')}if(this.get_viewModel().get_isSetActiveZoneSupported()){var e=spiff.TableauClickHandler.targetAndClick(this.element[0],ss.mkdel(this,function(eQ){this.get_viewModel().setActive()}));e.set_stopPropagationOnEvent(false);this.disposables.add$1(e)}},$i:function(){this.get_template().domRoot.toggleClass('tabZoneSelected',this.get_viewModel().get_isActiveZone())},$j:function(){this.get_template().domRoot.toggleClass('tabZoneReady',this.get_viewModel().get_isReadyZone())},$e:function(){var e=this.$m().get_zoneZIndex();if(e!==this.$p){this.$p=e;this.get_template().domRoot.css('z-index',e.toString())}this.get_template().domRoot.attr('id',eN.$0(this.get_viewModel().get_zoneId()));this.$i();var eQ=this.$m().get_zoneType();var eR=eQ==='layout-flow'||eQ==='layout-free-form'||eQ==='empty';this.get_template().domRoot.toggleClass('wcLayoutContainer',eR);if(tab.FeatureFlags.isEnabled('NewDashboardSpacing')){this.get_dom().get_zoneMargin().css(this.$m().get_marginCss());this.get_dom().get_zoneMargin().css(this.$m().get_borderCss());this.get_dom().get_zonePadding().css(this.$m().get_paddingCss())}if(ss.contains(eN.zonesThatUseStyledBox,eQ)){this.get_dom().get_contentHolder().css(this.$m().get_contentContainerCss())}else{var eS=this.$m().get_backgroundColor();if(!ss.referenceEquals(eS,this.$n)){this.get_dom().get_contentHolder().css('background-color',eS);this.$n=eS}}this.get_dom().get_contentHolder().toggleClass('tab-darkBackground',this.$m().get_contentHasDarkBackground());if(ss.isValue(this.$k())&&eQ==='paramctrl'){this.get_parameterControlView().updateViewProperties()}this.$g()},$d:function(){var e=this.$m();var eQ;if(tab.FeatureFlags.isEnabled('NewDashboardSpacing')){eQ={width:e.get_width()+'px',height:e.get_height()+'px',top:e.get_y()+'px',left:e.get_x()+'px'}}else{eQ={width:e.get_contentWidth()+'px',height:e.get_contentHeight()+'px',top:e.get_y()+'px',left:e.get_x()+'px'};var eR=this.get_template().get_zoneExtension();if(ss.isValue(eR)){eR.css({width:e.get_widthWithMargin()+'px',height:e.get_heightWithMargin()+'px',top:-1*e.get_marginTop()+'px',left:-1*e.get_marginLeft()+'px',position:'absolute'})}}this.get_template().domRoot.css(eQ)},$g:function(){if(!this.$m().get_valid()){this.$a()}else{if(ss.isValue(this.$o)){if(!ss.staticEquals(eN.$3$1,null)){eN.$3$1()}}this.$b()}},$c:function(e){var eQ=this.$m().get_zoneType();var eR=tsConfig.is_authoring&&!tsConfig.is_mobile&&tab.FeatureFlags.isEnabled('RichTextEditing');switch(eQ){case'title':{var eS=tsConfig.current_sheet_type==='dashboard'&&tab.FeatureFlags.isEnabled('RichTextEditingDashboardTitle');var eT=tsConfig.current_sheet_type==='story'&&tab.FeatureFlags.isEnabled('RichTextEditingStoryboardTitle');if(eR&&(eS||eT)){var eU=this.disposables;var eV=this.get_dom().domRoot[0];var eW=this.get_viewModel();eU.add$1(spiff.TableauClickHandler.targetAndDoubleClick(eV,ss.mkdel(eW,eW.openRichTextEditorDialog)))}var eX=new dS.$ctor1(e,1);this.$l(eX);break}case'text':{var eY=tsConfig.current_sheet_type==='dashboard'&&tab.FeatureFlags.isEnabled('RichTextEditingTextZone');var eZ=tsConfig.current_sheet_type==='story'&&this.$m().get_model().get_isStorySpecific()&&tab.FeatureFlags.isEnabled('RichTextEditingStoryDescription');var fa=tsConfig.current_sheet_type==='story'&&!this.$m().get_model().get_isStorySpecific()&&tab.FeatureFlags.isEnabled('RichTextEditingTextZoneDelta');if(eR&&(eY||eZ||fa)){var fb=this.disposables;var fc=this.get_dom().domRoot[0];var fd=this.get_viewModel();fb.add$1(spiff.TableauClickHandler.targetAndDoubleClick(fc,ss.mkdel(fd,fd.openRichTextEditorDialog)))}var fe=new dS.$ctor1(e,-1);this.$l(fe);break}case'size':case'shape':case'color':case'map':{if(tab.FeatureFlags.isEnabled('WebDropServerRenderedLegends')||tab.ApplicationModel.get_instance().get_isLocalRenderMode()){if(ss.isInstanceOfType(e,tab.ICategoricalLegendViewModel)){this.$l(tab.ObjectRegistry.resolve(ss.makeGenericType(tab.ICategoricalLegendView$1,[tab.ICategoricalLegendViewModel])).call(null,[e]))}else if(ss.isInstanceOfType(e,tab.IQuantitativeColorLegendViewModel)){tab.ModuleManager.load(tab.ILegacyDojoUIModule).call(null,[]).done(ss.mkdel(this,function(ff){this.$l(ff.createQuantitativeColorLegendView(e))}))}}else{tab.ModuleManager.load(tab.ILegacyDojoUIModule).call(null,[]).done(ss.mkdel(this,function(ff){var fg=ff.createLegacyLegendView(e);this.$l(fg)}))}break}case'current-page':{tab.ModuleManager.load(tab.ILegacyDojoUIModule).call(null,[]).done(ss.mkdel(this,function(ff){this.$l(ff.createPageView(e))}));break}case'filter':{if(tab.FeatureFlags.isEnabled('VizCatQF')&&this.$m().get_containsNewStyleQuickFilter()){tab.ModuleManager.load(tab.IUnificationStyleQuickFiltersModule).call(null,[]).done(ss.mkdel(this,function(ff){var fg=e;this.$l(ff.getQuickFilterView(fg))}));break}tab.ModuleManager.load(tab.ILegacyDojoUIModule).call(null,[]).done(ss.mkdel(this,function(ff){this.$l(ff.createLegacyQuickFilterDisplayView(e))}));break}case'highlighter':{this.$l(tab.ObjectRegistry.newView(bA).call(null,[e]));break}case'paramctrl':{if(tab.FeatureFlags.isEnabled('VizParam')&&this.$m().get_containsNewStyleParameterFilter()){tab.ModuleManager.load(tab.IUnificationStyleQuickFiltersModule).call(null,[]).done(ss.mkdel(this,function(ff){var fg=e;this.$l(ff.getParameterFilterView(fg))}));break}tab.ModuleManager.load(tab.ILegacyDojoUIModule).call(null,[]).done(ss.mkdel(this,function(ff){this.$l(ff.createParameterControlView(e))}));break}case'flipboard-nav':{tab.ModuleManager.load(tab.IStoryModule).call(null,[]).done(ss.mkdel(this,function(ff){this.$l(ff.newFlipboardNavigatorView(e));this.$9()}));break}case'flipboard':{tab.ModuleManager.load(tab.IStoryModule).call(null,[]).done(ss.mkdel(this,function(ff){this.$l(ff.newFlipboardView(e))}));break}case'web':{this.$l(new eG(e,this.$m()));break}case'bitmap':{this.$l(new cD(e,this.$m()));break}case'viz':{tab.ModuleManager.load(tab.IVizZoneModule).call(null,[]).done(ss.mkdel(this,function(ff){this.$l(ff.createPaneTableView(e))}));break}case'layout-flow':{this.$l(tab.ObjectRegistry.newView(bX).call(null,[e]));break}default:{break}}this.$9()},$9:function(){if(tab.ProgressiveLoader.get_progressiveLoadEnabled()&&!tab.BrowserSupport.get_isIE()){if(ss.isValue(this.$k())){this.$k().get_rootElement().addClass('fade-in')}}},$f:function(e){this.$m().zoneEntered(true)}},ss.makeGenericType(spiff.BaseView$1,[eO]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[eO])]);ss.initClass(eO,a,{add_updateZone:function(e){this.$2$1=ss.delegateCombine(this.$2$1,e)},remove_updateZone:function(e){this.$2$1=ss.delegateRemove(this.$2$1,e)},add_resizeZone:function(e){this.$2$2=ss.delegateCombine(this.$2$2,e)},remove_resizeZone:function(e){this.$2$2=ss.delegateRemove(this.$2$2,e)},add_zoneResized:function(e){this.$2$3=ss.delegateCombine(this.$2$3,e)},remove_zoneResized:function(e){this.$2$3=ss.delegateRemove(this.$2$3,e)},add_newZoneContent:function(e){this.$2$4=ss.delegateCombine(this.$2$4,e)},remove_newZoneContent:function(e){this.$2$4=ss.delegateRemove(this.$2$4,e)},add_validStateChanged:function(e){this.$2$5=ss.delegateCombine(this.$2$5,e)},remove_validStateChanged:function(e){this.$2$5=ss.delegateRemove(this.$2$5,e)},get_zoneContentViewModel:function(){return this.zoneContentViewModel},get_zoneType:function(){return this.$j.get_zoneType()},get_x:function(){return this.$j.get_x()},get_y:function(){return this.$j.get_y()},get_width:function(){return this.$j.get_width()},get_height:function(){return this.$j.get_height()},get_contentHeight:function(){return this.$j.get_contentHeight()},get_contentWidth:function(){return this.$j.get_contentWidth()},get_contentX:function(){return this.$j.get_contentX()},get_contentY:function(){return this.$j.get_contentY()},get_marginLeft:function(){return this.get_contentX()-this.$j.get_xWithMargin()},get_marginTop:function(){return this.get_contentY()-this.$j.get_yWithMargin()},get_widthWithMargin:function(){return this.$j.get_widthWithMargin()},get_heightWithMargin:function(){return this.$j.get_heightWithMargin()},get_model:function(){return this.$j},get_styledBoxModel:function(){return this.get_model().get_styledBoxModel()},get_isInDashboard:function(){return this.$j.get_dashboardModel().get_isDashboard()},get_contentContainerStyle:function(){var e;if(tab.FeatureFlags.isEnabled('NewDashboardSpacing')){e=this.$j.get_zoneCommonModel().get_contentStyle()}else{e=this.get_styledBoxModel()}return e},get_titleSize:function(){if(this.$j.get_hasTitle()){return{w:this.$j.pm.titleWidth,h:this.$j.pm.titleHeight}}return{w:0,h:0}},get_valid:function(){if(tab.ApplicationModel.get_instance().get_isOffline()&&!ss.contains(eO.$1,this.get_zoneType())){return false}return this.$h},get_zoneZIndex:function(){return eO.calculateZoneZIndex(this.$j)},get_zoneId:function(){return this.$j.get_zoneId()},get_associatedSheet:function(){return this.$j.get_associatedSheet()},get_backgroundColor:function(){var e='';if(this.$8()){e=this.$j.get_dashboardModel().get_zonePlaceholderColor()}else if(!ss.contains(eO.$0,this.get_zoneType())&&!tab.FeatureFlags.isEnabled('NewDashboardSpacing')){e=this.$j.get_backgroundColor()||'rgba(0, 0, 0, 0)'}return e},get_isActiveZone:function(){return this.$f},set_isActiveZone:function(e){if(this.$f!==e){this.$f=e;this.notifyPropertyChanged('isActiveZone')}},get_isReadyZone:function(){return this.$g},set_isReadyZone:function(e){if(this.$g!==e){this.$g=e;this.notifyPropertyChanged('isReadyZone')}},get_isSetActiveZoneSupported:function(){if(!tsConfig.is_authoring||tsConfig.current_sheet_type==='worksheet'||tsConfig.current_sheet_type==='story'&&!tab.FeatureFlags.isEnabled('StorytellingMoveToTheWeb')){return false}return this.get_zoneType()==='viz'||!tsConfig.is_mobile},get_containsNewStyleQuickFilter:function(){return this.$e},$c:function(){var e=this.$j.get_isFloating()&&this.$j.get_zoneType()==='layout-flow';var eQ=ss.isNullOrUndefined(this.get_styledBoxModel())||!this.get_styledBoxModel().get_hasFill()&&this.get_styledBoxModel().get_borderStyle()==='bs-none';return e&&eQ&&this.$j.get_dashboardModel().zonesModel.getChildren(this.get_zoneId()).length===0},get_containsNewStyleParameterFilter:function(){return this.$d},get_hasTitle:function(){return this.$j.get_hasTitle()},get_marginCss:function(){var e={top:this.get_styledBoxModel().get_marginTop()+'px',left:this.get_styledBoxModel().get_marginLeft()+'px',bottom:this.get_styledBoxModel().get_marginBottom()+'px',right:this.get_styledBoxModel().get_marginRight()+'px',position:'absolute','background-color':'rgba(0, 0, 0, 0)'};if(ss.isValue(this.get_model().get_backgroundColor())){e['background-color']=this.get_model().get_backgroundColor()}return e},get_paddingCss:function(){return{top:this.get_styledBoxModel().get_paddingTop()+'px',left:this.get_styledBoxModel().get_paddingLeft()+'px',bottom:this.get_styledBoxModel().get_paddingBottom()+'px',right:this.get_styledBoxModel().get_paddingRight()+'px',position:'absolute'}},get_borderCss:function(){return $.extend({},this.get_styledBoxModel().get_borderTop().get_cssDictionary(),this.get_styledBoxModel().get_borderLeft().get_cssDictionary(),this.get_styledBoxModel().get_borderBottom().get_cssDictionary(),this.get_styledBoxModel().get_borderRight().get_cssDictionary())},get_contentContainerCss:function(){var e=cd.makeStyledBoxCssDict(this.get_contentContainerStyle().get_styledBoxPresModel(),true);if(!this.get_contentContainerStyle().get_hasFill()){e['background-color']=''}if(this.$8()){var eQ=tab.ColorModel.fromColorCode(this.$j.get_dashboardModel().get_zonePlaceholderColor());e['background-color']=eQ.toString()}return e},get_contentHasDarkBackground:function(){if(ss.contains(eN.zonesThatUseStyledBox,this.get_zoneType())){return this.get_contentContainerStyle().get_hasFill()&&!tab.ColorModel.fromColorCode(this.get_contentContainerStyle().get_fillColor()).isLuminanceAboveThreshold(0.314999997615814)}else{return!ss.isNullOrEmptyString(this.$j.get_backgroundColor())&&!tab.ColorModel.fromColorCode(this.$j.get_backgroundColor()).isLuminanceAboveThreshold(0.314999997615814)}},setActive:function(){tab.SelectionClientCommands.setActiveZone(this.get_zoneId(),this.$j.get_dashboardModel().get_sheetPath())},zoneEntered:function(e){this.$j.get_dashboardModel().set_readyZoneID((e?this.get_zoneId():0))},dispose:function(){if(ss.isValue(this.zoneContentViewModel)){this.zoneContentViewModel.dispose();this.zoneContentViewModel=null}if(ss.isValue(this.$i)){this.$i.remove_visualValidStateChanged(ss.mkdel(this,this.$b))}this.$j.remove_updateZone(ss.mkdel(this,this.$7));this.$j.get_zoneCommonModel().remove_resizeZone(ss.mkdel(this,this.$5));this.$j.remove_newZoneContent(ss.mkdel(this,this.$3));this.$j.remove_removeZoneContent(ss.mkdel(this,this.$4));this.$j.get_zoneCommonModel().remove_changeZoneTitleVisibility(ss.mkdel(this,this.$6));spiff.BaseViewModel.prototype.dispose.call(this)},openRichTextEditorDialog:function(e){switch(this.get_zoneType()){case'title':{var eQ=new tab.CreateDashboardTitleRichTextEditorCmd;eQ.c['dashboard']=tsConfig.current_sheet_name;eQ.c['zoneId']=this.get_zoneId()|0;var eR=eQ;eR.set_uiBlocking('afterDelay');eR.invoke();break}case'text':{var eS=new tab.CreateTextObjectRichTextEditorCmd;eS.c['dashboard']=tsConfig.current_sheet_name;eS.c['zoneId']=this.get_zoneId()|0;var eT=eS;eT.set_uiBlocking('afterDelay');eT.invoke();break}}},$a:function(){var e=tab.ModelUtils.getVisualModel(tab.ApplicationModel.get_instance(),this.$j.get_associatedSheet());if(!ss.referenceEquals(this.$i,e)){if(ss.isValue(this.$i)){this.$i.remove_visualValidStateChanged(ss.mkdel(this,this.$b))}this.$i=e;if(ss.isValue(this.$i)){this.$i.add_visualValidStateChanged(ss.mkdel(this,this.$b))}}},$7:function(){tab.ModuleManager.registerModulesLoadedCallback(ss.mkdel(this,function(){this.$a();this.$b();this.raiseActionEvent(this.$2$1);if(this.get_zoneType()==='filter'&&ss.isNullOrUndefined(this.zoneContentViewModel)&&ss.isValue(this.get_model().get_model())){this.$3(this.get_model().get_model())}}))},$5:function(){this.raiseActionEvent(this.$2$2);this.raiseActionEvent(this.$2$3)},$b:function(){var e=true;if(this.$j.get_isDependentOnViz()&&ss.isValue(this.$i)){e=this.$i.get_isVisualValid()}if(e!==this.$h){this.$h=e;this.raiseActionEvent(this.$2$5)}},forceZoneValidState:function(e){if(e!==this.$h){this.$h=e;this.raiseActionEvent(this.$2$5)}},$2:function(){if(this.$c()){this.zoneContentViewModel=new bY(this.$j);this.$9(this.zoneContentViewModel)}},$3:function(e){this.$e=false;this.$d=false;var eQ=this.$j.get_zoneType();var eR=ss.mkdel(this,function(){this.$9(this.zoneContentViewModel);this.raiseActionEvent(this.$2$1)});var eS=this.$j.get_worksheetName();switch(eQ){case'title':case'text':{this.zoneContentViewModel=new dT(e);break}case'color':case'size':case'shape':case'map':{tab.ModuleManager.load(tab.ILegacyDojoUIModule).call(null,[]).done(ss.mkdel(this,function(eW){if(tab.FeatureFlags.isEnabled('WebDropServerRenderedLegends')||tab.ApplicationModel.get_instance().get_isLocalRenderMode()){if(ss.isInstanceOfType(e,tab.CategoricalLegendModel)){this.zoneContentViewModel=eW.createCategoricalLegendViewModel(e,eQ,eS,this)}else if(ss.isInstanceOfType(e,tab.QuantitativeColorLegendModel)){this.zoneContentViewModel=eW.createQuantitativeColorLegendViewModel(e,eS,this)}}else{this.zoneContentViewModel=eW.createLegacyLegendViewModel(e,eS,this)}eR()}));return}case'current-page':{if(tsConfig.allow_filter){tab.ModuleManager.load(tab.ILegacyDojoUIModule).call(null,[]).done(ss.mkdel(this,function(eW){this.zoneContentViewModel=eW.createPageViewModel(e);eR()}))}return}case'web':{this.zoneContentViewModel=new eH(e);break}case'bitmap':{this.zoneContentViewModel=new cE(e);break}case'flipboard-nav':{tab.ModuleManager.load(tab.IStoryModule).call(null,[]).done(ss.mkdel(this,function(eW){this.zoneContentViewModel=eW.newFlipboardNavigatorViewModel(e);eR()}));return}case'flipboard':{tab.ModuleManager.load(tab.IStoryModule).call(null,[]).done(ss.mkdel(this,function(eW){this.zoneContentViewModel=eW.newFlipboardViewModel(e,this);eR()}));return}case'filter':{if(ss.referenceEquals(ss.getInstanceType(e),tab.QuickFilterDisplayModel)){tab.ModuleManager.load(tab.IUnificationStyleQuickFiltersModule).call(null,[]).done(ss.mkdel(this,function(eW){var eX=eW.newQuickFilterViewModel(e);if(ss.isValue(eX)){this.$e=true;this.zoneContentViewModel=eX;eR()}}))}else{var eT=tab.ModelUtils.getVisualModel(tab.ApplicationModel.get_instance(),eS);var eU=e;var eV=tab.ModelUtils.findMatchingFilterModel(eT,eU);if(ss.isValue(eV)){tab.ModuleManager.load(tab.ILegacyDojoUIModule).call(null,[]).done(ss.mkdel(this,function(eW){this.zoneContentViewModel=eW.createLegacyQuickFilterDisplayViewModel(eU,eV);eR()}))}else{}}return}case'highlighter':{this.zoneContentViewModel=new bC(e,tab.ModelUtils.getVisualId(eS),this);break}case'paramctrl':{if(ss.referenceEquals(ss.getInstanceType(e),tab.ParameterFilterDisplayModel)){tab.ModuleManager.load(tab.IUnificationStyleQuickFiltersModule).call(null,[]).done(ss.mkdel(this,function(eW){var eX=eW.newParameterFilterViewModel(e);this.$d=true;this.zoneContentViewModel=eX;eR()}))}else{tab.ModuleManager.load(tab.ILegacyDojoUIModule).call(null,[]).done(ss.mkdel(this,function(eW){this.zoneContentViewModel=eW.createParameterControlViewModel(e);eR()}))}return}case'viz':{tab.ModuleManager.load(tab.IVizZoneModule).call(null,[]).done(ss.mkdel(this,function(eW){this.zoneContentViewModel=eW.createPaneTableViewModel(e)}));break}case'layout-basic':{return}default:{return}}eR()},$6:function(){this.notifyPropertyChanged('titleVisible')},$4:function(){this.dispose()},$9:function(e){if(!ss.staticEquals(this.$2$4,null)){this.$2$4(e)}},$8:function(){var e=tab.ProgressiveLoader.get_progressiveLoadEnabled()&&ss.contains(tab.ProgressiveLoader.zonesThatDeferContentCreation,this.get_zoneType())&&ss.isNullOrUndefined(this.zoneContentViewModel);e=e&&this.$j.get_hasContent();return e}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel,tab.IZoneViewModel]);ss.initClass(eP,a,{});(function(){l.$0=10;l.$1=600})();(function(){cd.tableauFallback='Arial';cd.sansSerifFallback='sans-serif';cd.$5=[{item1:'thin',item2:'100'},{item1:'extra-light',item2:'200'},{item1:'extra light',item2:'200'},{item1:'light',item2:'300'},{item1:'normal',item2:'400'},{item1:'regular',item2:'400'},{item1:'book',item2:'400'},{item1:'medium',item2:'500'},{item1:'demi-bold',item2:'600'},{item1:'semi-bold',item2:'600'},{item1:'demi',item2:'600'},{item1:'bold',item2:'700'},{item1:'heavy',item2:'800'},{item1:'black',item2:'900'}];cd.$3=[{item1:'compressed',item2:'extra-condensed'},{item1:'narrow',item2:'condensed'},{item1:'condensed',item2:'condensed'}];cd.$4=[{item1:'italic',item2:'italic'}];cd.$2={}})();(function(){eI.$2=['format-workbook']})();(function(){dR.contentElemClassName='tab-textRegion-content';dR.$1="<div {0} class='tab-textRegion'><div class='tab-textRegion-boundary'><div class='tab-textRegion-content'></div></div></div>"})();(function(){bA.$0=312;bA.widgetClassName='tabDataHighlighterView';bA.searchResultsListClassName='tabDataHighlighterViewSearchResultList';bA.searchResultsListItemClassName='tab-list-item';bA.searchResultsListItemLabelClassName='tab-list-item-label';bA.inactiveTextClassName='tabDataHighlighterViewInactiveText';bA.queryDelayTimerMs=200;tab.ObjectRegistry.registerType(bA,bA).call(null)})();(function(){cn.$0="<div class='webZoneHttpsEmbedHttpAuthoring'><div class='message'></div><div class='url'><span>(</span><span class='scheme'>http://</span><span class='path'></span><span>)</span></div></div>"})();(function(){co.$0="<div class='webZoneHttpsEmbedHttpView'><div class='message'></div><a target='_blank'></a></div>"})();(function(){cy.$0='<div><iframe></iframe></div>'})();(function(){eF.$0="<div class='tab-web'></div>"})();(function(){cB.$0=Math.pow(2,-23)})();(function(){cC.$0="<div class='tab-image'></div>"})();(function(){bW.$0="<div class='tab-EmptyFloatingLayout'></div>"})();(function(){tab.ObjectRegistry.registerType(bX,bX).call(null)})();(function(){eM.$0="<div class='tab-zone'><div class='tab-zone-margin'><div class='tab-zone-padding'></div></div></div>";eM.$1="<div class='tab-zone no-spacing'></div>"})();(function(){eN.$1='tabZoneReady';eN.zonesThatUseStyledBox=['layout-flow','map','color','size','shape','filter','highlighter','paramctrl'];eN.$2=['bitmap','color','shape','size','map','text','web','paramctrl','filter','highlighter','empty','current-page'];eN.$3$1=null;tab.ObjectRegistry.registerType(eN,eN).call(null)})();(function(){eO.isActiveZonePropertyName='isActiveZone';eO.isReadyZonePropertyName='isReadyZone';eO.titleVisiblePropertyName='titleVisible';eO.$0=['bitmap','text','layout-free-form','empty'];eO.$1=['viz','color','shape','size','map','text','title','bitmap','highlighter','empty','flipboard']})();(function(){eC.$1$1=null})();(function(){K.hideAppBannerCookie='hideAppBanner';K.redirectToAppStoreDelayInMS=1000;K.playStoreUrl='https://play.google.com/store/apps/details?id=com.Tableau.TableauApp';K.appStoreUrl='https://itunes.apple.com/app/tableau-mobile/id434633927'})();(function(){bw.$1='tab-dataAlertGenericErrorMessage';bw.$2='tab-dataAlertPlatformErrorMessage';bw.$0='tab-dataAlertErrorDialogContent'})();(function(){tab.ObjectRegistry.registerType(cZ,cZ).call(null)})();(function(){tab.ObjectRegistry.registerType(ch,ch).call(null)})();(function(){bV.maxEmailLength=100})();(function(){es.rowHeight=26;es.numberOfRowsInViewport=6})();(function(){eA.autoCompleteDebounceTime=200})();(function(){br.debounceTimeout=300;br.maxTitleLength=256;br.$0=18})();(function(){bv.editDataAlertUrlParam=':editDataAlert'})();(function(){bP.$0="<div class='tab-downloadView tab-toolbarFlyout'><div class='tab-downloadApplication'><div class='tab-explanationTitle' /><div class='tab-explanationBody' /><div class='tab-downloadAction'><div class='tab-availablePlatforms' /><div class='tab-downloadAppButton' /></div></div><div class='tab-downloadButtons'></div></div>"})();(function(){dB.linkTemplate="\n            <div class='tab-shareLinkSection'>\n                <span class='tab-shareLinkTitle tab-shareTitle'/>\n                <span class='tab-shareLinkInput'/>\n                <div class='tab-shareLinkButtons'/>\n            </div>";dB.embedTemplate="\n            <div class='tab-shareEmbedSection'>\n                <span class='tab-shareEmbedTitle tab-shareTitle'/>\n                <span class='tab-shareEmbedInput'/>\n            </div>";dB.viewStateTemplate="\n            <div class='tab-shareViewStateSection'>\n                <span class='tab-shareCurrentView tab-shareViewToggle'/><span class='tab-shareOriginalView tab-shareViewToggle'/>\n            </div>";dB.$0="\n            <div class='tab-shareView tab-toolbarFlyout'>\n            </div>"})();(function(){dN.$0="\n            <div class='tab-subscribeView tab-toolbarFlyout'>\n                <div class='tab-subscribeToggleSection'>\n                    <label class='tab-subscribeViewsToggleLabel'/>\n                    <div class='tab-subscribeToggleContainer'>\n                        <span class='tab-subscribeThisView tab-subscribeToggle'/><span class='tab-subscribeAllViews tab-subscribeToggle'/>\n                    </div>\n                </div>\n                <div class='tab-subscribeSchedule'/>\n                <div class='tab-subscribeSubject'/>\n                <div class='tab-subscribeSelfArea tab-subscribeOthersSection'/>\n                <div class='tab-subscribeEmail'/>\n                <div class='tab-addSubscribersArea tab-subscribeOthersSection'>\n                    <label class='tab-addSubscribersLabel'/>\n                </div>\n                <div class='tab-manageSubscribersArea tab-subscribeOthersSection'>\n                    <label class='tab-manageSubscribersLabel'/>\n                </div>\n                <div class='tab-subscribeSubmit'/>\n            </div>"})();(function(){dh.$0="<div class='tab-publicInfoView tab-toolbarFlyout'><a class='tab-moreAboutPublicSection' target='_blank' /></a><div class='tab-viewAndAuthorInfoSection'></div></div>"})();(function(){R.$0="<div class='tab-areYouSure-container'><div class='tab-areYouSure-outer'><div class='tab-areYouSure-inner'><span class='tab-areYouSure-label'></span><div class='tab-areYouSure-no tab-areYouSure-button'></div><div class='tab-areYouSure-yes tab-areYouSure-button'></div></div></div></div>"})();(function(){bi.$0="\n<div class='tab-customViewsView tab-toolbarFlyout'>\n    <div class='tab-cv-flyoutSection tab-customViews-saveView' />\n    <div class='tab-cv-flyoutSection tab-cv-myViews'>\n        <div class='tab-toolbarFlyoutTitle'/>\n        <div class='tab-cv-listWrapper'>\n            <div class='tab-cv-viewsList'/>\n        </div>\n    </div>\n    <div class='tab-cv-flyoutSection tab-cv-otherViews'>\n        <div class='tab-toolbarFlyoutTitle'/>\n        <div class='tab-cv-listWrapper'>\n            <div class='tab-cv-viewsList'/>\n        </div>\n    </div>\n    <div class='tab-cv-flyoutSection tab-cv-manageModeControls' />\n</div>"})();(function(){bj.$0='tab-customViews-rename-container';tab.ObjectRegistry.registerType(bj,bj).call(null)})();(function(){bk.maxCustomViewNameLength=255;bk.modeSelect=0;bk.modeManage=1;bk.$1=tab.Logger.getLogger(bk)})();(function(){bl.$0="<div class='tab-gutter'><div id='tab-dashboard-region' class='tab-dashboard'/></div>";bl.$1="<div id='tab-dashboard-region' class='tab-dashboard'/>"})();(function(){bm.dashboardRegionId='tab-dashboard-region';bm.dashboardGutterCssSelector='.tab-gutter';tab.ObjectRegistry.registerType(bm,bm).call(null)})();(function(){eJ.centeringContainerSelector='#centeringContainer';eJ.$1="<div class='tab-workbook' role='application'><div class='dashboardSpacer'/></div>";eJ.$2="<div id='dashboard-spacer' class='dashboardSpacer' role='application'></div>"})();(function(){dZ.$1='tabToolbarButtonImg';dZ.$2='tabToolbarButtonText';dZ.$0="<div class='tabToolbarButton' role='button'><span class='tabToolbarButtonImg' /><span class='tabToolbarButtonText' /></div>"})();(function(){bd.$0=null})();(function(){cb.fontsReadyMetricName='AllFontsDownloaded';cb.uiStabilizedMetricName='UI Stabilized'})();(function(){ds.stylesheetId='tab-renderAndCheckFontLoader';ds.hiddenDivClass='tab-hiddenFontMeasurer';ds.baselineFontClass='tab-baselineFontMeasurer';ds.baselineFontName="'Courier New', Monaco, monospace";ds.measurementElementText='The quick brown fox jumps over the lazy dog iiilllest';ds.$4=ss.mkdict(['z-index','-1','position','absolute','top','0','right','0','visibility','hidden']);ds.maxLengthToWaitForFontsToDownloadMilliseconds=120000;ds.fontLoadedCheckDelayPerTryMilliseconds=100;ds.ensureFirstRenderPassCompletedDelayMilliseconds=5;ds.maxNumberOfTriesToDownloadFont=1200})();(function(){W.fontLoaderElementId='tab-simpleFontLoader'})();(function(){dy.raiseFontPreparationCompleteDelay=200;dy.tableauLight='Tableau Light';dy.tableauBook='Tableau Book';dy.tableauRegular='Tableau Regular';dy.tableauMedium='Tableau Medium';dy.tableauSemibold='Tableau Semibold';dy.tableauBold='Tableau Bold';dy.bentonSansLight='Benton Sans Light';dy.bentonSansBook='Benton Sans Book';dy.bentonSansBookItalic='Benton Sans Book Italic';dy.bentonSansMedium='Benton Sans Medium';dy.bentonSansSemiDemi='Benton Sans SemiDemi';dy.bentonSansSemiDemiItalic='Benton Sans SemiDemi Italic';dy.tableauFontWoffPaths=ss.mkdict(['Tableau Light',tableau.util.assetUrl('/fonts/Tableau-Light.woff'),'Tableau Book',tableau.util.assetUrl('/fonts/Tableau-Book.woff'),'Tableau Regular',tableau.util.assetUrl('/fonts/Tableau-Regular.woff'),'Tableau Medium',tableau.util.assetUrl('/fonts/Tableau-Medium.woff'),'Tableau Semibold',tableau.util.assetUrl('/fonts/Tableau-Semibold.woff'),'Tableau Bold',tableau.util.assetUrl('/fonts/Tableau-Bold.woff')]);dy.bentonSansWoffPaths=ss.mkdict(['Benton Sans Light',tableau.util.assetUrl('/fonts/BentonSans-Light.woff'),'Benton Sans Book',tableau.util.assetUrl('/fonts/BentonSans-Book.woff'),'Benton Sans Book Italic',tableau.util.assetUrl('/fonts/BentonSans-Book_Italic.woff'),'Benton Sans Medium',tableau.util.assetUrl('/fonts/BentonSans-Medium.woff'),'Benton Sans SemiDemi',tableau.util.assetUrl('/fonts/BentonSans-SemiDemi.woff'),'Benton Sans SemiDemi Italic',tableau.util.assetUrl('/fonts/BentonSans-SemiDemi_Italic.woff')]);var e=new bK;e.set_fontFamily('Tableau Light');e.woffLocation=dy.tableauFontWoffPaths['Tableau Light'];var eQ=new bK;eQ.set_fontFamily('Tableau Light');eQ.set_weight('bold');eQ.woffLocation=dy.tableauFontWoffPaths['Tableau Medium'];var eR=new bK;eR.set_fontFamily('Tableau Book');eR.woffLocation=dy.tableauFontWoffPaths['Tableau Book'];var eS=new bK;eS.set_fontFamily('Tableau Book');eS.set_weight('bold');eS.woffLocation=dy.tableauFontWoffPaths['Tableau Medium'];var eT=new bK;eT.set_fontFamily('Tableau Regular');eT.woffLocation=dy.tableauFontWoffPaths['Tableau Regular'];var eU=new bK;eU.set_fontFamily('Tableau Regular');eU.set_weight('bold');eU.woffLocation=dy.tableauFontWoffPaths['Tableau Semibold'];var eV=new bK;eV.set_fontFamily('Tableau Medium');eV.woffLocation=dy.tableauFontWoffPaths['Tableau Medium'];var eW=new bK;eW.set_fontFamily('Tableau Medium');eW.set_weight('bold');eW.woffLocation=dy.tableauFontWoffPaths['Tableau Bold'];var eX=new bK;eX.set_fontFamily('Tableau Semibold');eX.woffLocation=dy.tableauFontWoffPaths['Tableau Semibold'];var eY=new bK;eY.set_fontFamily('Tableau Semibold');eY.set_weight('bold');eY.woffLocation=dy.tableauFontWoffPaths['Tableau Bold'];var eZ=new bK;eZ.set_fontFamily('Tableau Bold');eZ.woffLocation=dy.tableauFontWoffPaths['Tableau Bold'];var fa=new bK;fa.set_fontFamily('Tableau Bold');fa.set_weight('bold');fa.woffLocation=dy.tableauFontWoffPaths['Tableau Bold'];dy.tableauFontNames=[e,eQ,eR,eS,eT,eU,eV,eW,eX,eY,eZ,fa];var e=new bK;e.set_fontFamily('Benton Sans');e.woffLocation=dy.bentonSansWoffPaths['Benton Sans Book'];dy.bentonSansFontNames=[e];var e=new bK;e.set_fontFamily('Benton Sans Low-DPI');e.woffLocation=dy.bentonSansWoffPaths['Benton Sans SemiDemi'];dy.bentonSansLowDpiFontNames=[e];var e=new bK;e.set_fontFamily('Benton Sans');e.set_weight('100');e.woffLocation=dy.bentonSansWoffPaths['Benton Sans Light'];var eQ=new bK;eQ.set_fontFamily('Benton Sans');eQ.set_weight('bold');eQ.woffLocation=dy.bentonSansWoffPaths['Benton Sans Medium'];dy.drawerFontNames=[e,eQ];var e=new bK;e.set_fontFamily('Benton Sans Low-DPI');e.set_weight('100');e.woffLocation=dy.bentonSansWoffPaths['Benton Sans Book'];var eQ=new bK;eQ.set_fontFamily('Benton Sans Low-DPI');eQ.set_weight('bold');eQ.woffLocation=dy.bentonSansWoffPaths['Benton Sans Medium'];dy.drawerLowDpiFontNames=[e,eQ];dy.effectiveBentonSans=(tab.BrowserSupport.get_isHighDpi()?dy.bentonSansFontNames:dy.bentonSansLowDpiFontNames);dy.$1=null})();(function(){cM.$4={}})();(function(){eq.$3$1=false})();(function(){eD.$0=new RegExp('^https?://[^/]+(.*)$')})();(function(){dv.$1="<div class='tab-right-area-drawer'></div>"})();(function(){X.$b=null;X.$a=false;X.$c=null;X.$9=false;if(tabBootstrap.Utility.get_embedMode()==='embedded'){var e=window.addEventListener;if(ss.isValue(e)){e('message',X.$3,false)}else{var eQ=X.$3;window.self.attachEvent('onmessage',eQ)}X.$9=true}X.$a=tabBootstrap.ViewerBootstrap.get_instance().isVisibleRectCommunicationEnabled;if(tab.BrowserSupport.get_isIE()){X.$1()}})();(function(){cT.$1$1=null})();(function(){dG.maxDialogWidth=600;dG.textArea=new ss.Lazy(function(){return document.createElement('textarea')})})();(function(){U.dashboardContainerSelector='.dashboardSpacer';U.overlayId='auth-overlay';U.messageEventName='message';U.frameTestHook='dse-frame'})();(function(){ce.genericErrorTemplateHtml='<div class="auth-box ocontent tb-data-source-error-container"> \n                                                              <div class="tb-data-source-error"></div>\n                                                              <div class="tb-data-source-error-sub"></div>\n                                                              <div class="tab-UnifiedButton bordered tb-data-source-btn tb-data-source-button-retry"></div>\n                                                              <div class="tab-data-source-msg"><textarea readonly class="tb-data-source-error-message"></textarea></div>\n                                                            </div>'})();(function(){bS.bodyContainer='<span></span>'})();(function(){tab.ObjectRegistry.registerType(dw,dw).call(null)})();(function(){M.$2="<div id='tabViewer' class='wcBody' style='visibility: hidden;'></div>";M.$1="<div id='dashboard-viewport'></div>"})();(function(){ee.$0="\n            <div class='tab-toolbar tab-fill'>\n                <div class='tab-vizItems tab-fill-left' />\n                <div class='tab-publicItems'>\n                    <a class='tab-publicLogoLink' target='_blank' />\n                    <div class='tab-belowPublicLogo' />\n                </div>\n                <div class='tab-nonVizItems tab-fill-right' />\n            <div/>";ee.$1="\n            <div class='tab-toolbar public tab-fill'>\n                <div class='tab-vizItems tab-fill-left' />\n                <div class='tab-nonVizItems tab-fill-right' />\n            <div/>"})();(function(){ea.$0='tabToolbarButtonFlyoverShown'})();(function(){eg.$7='hideLabels';eg.$a='showLabels';eg.$8='horizontalLabels';eg.$b='stackedLabels';eg.$9='narrow';eg.$6='tab-customviews-modified';eg.$c='.tabToolbarButton';eg.$5='160px';eg.$d=50;tab.ObjectRegistry.registerType(eg,eg).call(null);if(tab.FeatureFlags.isEnabled('WebExperimentalKeyboardShortcuts')){cM.registerShortcut(new ep);cM.registerShortcut(new dq);cM.registerShortcut(new dX)}})();(function(){eK.dashboardSpacerSelector=tab.DomUtil.asClass('dashboardSpacer');tab.ObjectRegistry.registerType(eK,eK).call(null)})();(function(){L.suppressVizTooltipsAndOverlays='tabSuppressVizTooltipsAndOverlays';L.$3=null;L.$4=null;L.$5=false;L.$1$1=null;L.$1$2=null;L.$1$3=null;o.$0()})();(function(){N.vizContainerSelector=tab.DomUtil.asID('viz-client-container');N.toolbarContainerSelector=tab.DomUtil.asID('toolbar-container');N.tabContainerSelector=tab.DomUtil.asID('tab-container');N.applicationContainerSelector=tab.DomUtil.asID('main-content');N.dashboardViewportSelector=tab.DomUtil.asID('dashboard-viewport');N.rightPanelSelector=tab.DomUtil.asID('right-panel');tab.ObjectRegistry.registerType(N,N).call(null)})();(function(){eh.$1='tab-icon-';eh.$3='toggle-updates';eh.$2=430;eh.publicViewCount=0})();(function(){bR.$0='http://public.tableau.com/s/download'})();(function(){dD.currentViewPath='/shared/';dD.$c='http://facebook.com';dD.$9=0.75;dD.$b=0.75;dD.$a=1.77;var e=[];e.push('from_wg');e.push('host_url');e.push('debug');e.push('wb');e.push('vw');e.push('prefix');e.push('cvu');e.push('cvn');e.push('delay');e.push('preview');e.push('site');e.push('guid');e.push('mobile');e.push('app');e.push('showVizHome');e.push('record_client_performance');e.push('bootstrapWhenNotified');e.push('apiID');e.push('reloadOnCustomViewSave');e.push('openAuthoringInTopWindow');e.push('browserBackButtonUndo');e.push('commentingEnabled');e.push('size');e.push('isVizPortal');dD.$d=e})();(function(){dM.maxSubscriptionSubjectLength=256;dM.maxSubscriptionEmailLength=100;dM.$0='tabSubscriptionScheduleDropdown'})();(function(){eb.iconTypeDownload='download';eb.iconTypeShare='share';eb.iconTypeCustomViews='customviews';eb.iconTypeSubscribe='subscribe';eb.iconTypeEdit='edit';eb.iconTypeRedo='redo';eb.iconTypeUndo='undo';eb.iconTypeRevert='revert';eb.iconTypeToggleDataUpdates='toggle-updates';eb.iconTypeRefreshData='refresh';eb.iconTypePublicLogo='public-logo';eb.pauseButton='Pause'})();(function(){tab.ObjectRegistry.registerType(di,di).call(null)})();(function(){dL.$0=0;tab.ObjectRegistry.registerType(dL,dL).call(null)})();(function(){tab.ObjectRegistry.registerType(dC,dC).call(null)})();(function(){bQ.$1='tabDownloadData';bQ.$0='tabDownloadCrosstab';bQ.$2='tabDownloadImage';bQ.$3='tabDownloadPdf';bQ.$4='tabDownloadWorkbook';bQ.$5='tabPublicApp';bQ.$6=715;tab.ObjectRegistry.registerType(bQ,bQ).call(null)})();(function(){eL.$2$3=null})();(function(){O.vizClientContainerSelector='.tab-viz-client-container'})();(function(){dx.$1=320;dx.$0=0})();(function(){cc.$4=null;cc.$3=null})();(function(){dP.defaultLinePattern='solid';dP.defaultLineJoin='bevel';dP.defaultLineCap='butt';dP.defaultTextBaseline='alphabetic';dP.defaultTextAlign='start';dP.defaultLineDashDashed=[3,1];dP.defaultLineDashDotted=[1,1];dP.defaultLineWidth=1;dP.defaultColor='rgb(0,0,0)';dP.defaultTextColor='rgb(0,0,0)';dP.defaultTextAngle=0;dP.defaultFontName='Arial';dP.defaultFontSize=8;dP.defaultTextUnderline=false;dP.$1=0.01})();(function(){Y.halfPI=0.5*Math.PI;Y.onePI=Math.PI;Y.oneAndHalfPI=1.5*Math.PI;Y.twoPI=2*Math.PI;Y.angleEpsilon=0.000174000000697561})();(function(){bD.$0="\n            <div class='tabDataHighlighterContainer'>\n                <div class='tab-zone-titleregion' />\n                <div class='tabDataHighlighterContent'>\n                    <div class='tabDataHighlighterView'/>\n                </div>\n            </div>"})();(function(){bF.$6=6})();(function(){cj.$0=null;if(tab.FeatureFlags.isEnabled('WebKeyboardShortcuts')){cj.$0=(tsConfig.is_authoring?tab.UriUtil.makeSupportUri():tab.UriUtil.makeHelpUri('help','help.htm'));cM.registerShortcut(new cj)}})();(function(){ck.simpleRectangleCollider=null;ck.simpleRectangleCollider=function(e,eQ){var eR=e.get_geom().x;var eS=e.get_geom().x+e.get_geom().w;var eT=e.get_geom().y;var eU=e.get_geom().y+e.get_geom().h;var eV=eQ.x;var eW=eQ.x+eQ.w;var eX=eQ.y;var eY=eQ.y+eQ.h;if(eU<eX){return false}if(eT>eY){return false}if(eS<eV){return false}if(eR>eW){return false}return true}})();(function(){cm.$0="<div class='tabCatLegendScrollButtonHolder'><span class='tabCatLegendScrollPrev'/><span class='tabCatLegendScrollNext'/></div>"})();(function(){eB.$0="<div class='tabCatLegendScrollButtonHolder'><span class='tabCatLegendScrollPrev'/><br><span class='tabCatLegendScrollNext'/></div>"})();(function(){cI.$2=0;cI.$1='tabIterButtonDisabled';cI.$0=100})();(function(){cR.$0={width:0,readoutText:'',readoutColor:'',borderColor:'',shouldShowMapScale:false,marginOfError:0,tooltipText:''}})();(function(){cV.leafletLibFileName='leaflet';var e=tab.FeatureFlags.isEnabled('AsyncJsModuleLoad');tab.ModuleManager.register(tab.IConnectionDialogModule).call(null,'ConnectionDialogModule',null);tab.ModuleManager.register(tab.IPdfExportDialogModule).call(null,'PdfExportDialog',null).andLoadOnDemandIf(e);if(tsConfig.is_authoring){tab.ModuleManager.register(tab.IStoryModule).call(null,'Story',null).andLoadOnDemandIf(false);tab.ModuleManager.register(tab.IStoryAuthoringModule).call(null,'StoryAuthoring','StoryAuthoring').andLoadOnDemandIf(false);if(tab.FeatureFlags.isEnabled('RichTextEditing')&&(tab.FeatureFlags.isEnabled('RichTextEditingTextZone')||tab.FeatureFlags.isEnabled('RichTextEditingStoryDescription')||tab.FeatureFlags.isEnabled('RichTextEditingDashboardTitle')||tab.FeatureFlags.isEnabled('RichTextEditingStoryDescription')||tab.FeatureFlags.isEnabled('RichTextEditingTextZoneDelta'))){tab.ModuleManager.register(tab.IRichTextAuthoringModule).call(null,'RichTextEditorModule',null).andShowLoadingIndicator().andExportResultAs('RichTextEditor')}}else{tab.ModuleManager.register(tab.IStoryModule).call(null,'Story',null).andLoadOnDemandIf(e)}tab.ModuleManager.register(tab.ICommentingFactory).call(null,'Commenting',null).andLoadOnDemandIf(e);tab.ModuleManager.register(tab.IUnificationStyleQuickFiltersModule).call(null,'UnificationStyleQuickFilters',null).andLoadOnDemandIf(e);tab.ModuleManager.register(tab.IGroupDialogModule).call(null,'GroupDialog',null).andLoadOnDemandIf(true).moduleBeingConfigured.addDependency(new tab.JsModuleInfo(ss.getTypeFullName(tab.ISharedWidgetsDataGrid),null));tab.ModuleManager.register(tab.IBinDialogModule).call(null,'BinDialog',null).andLoadOnDemandIf(e);tab.ModuleManager.register(tab.IAliasDialogModule).call(null,'AliasDialog',null).andLoadOnDemandIf(true).moduleBeingConfigured.addDependency(new tab.JsModuleInfo(ss.getTypeFullName(tab.ISharedWidgetsDataGrid),null));tab.ModuleManager.register(tab.ITrendLineDialogModule).call(null,'TrendLineDialog',null).andLoadOnDemandIf(e);tab.ModuleManager.registerRawJsModule('leaflet','leaflet.min','leaflet').andLoadOnDemandIf(e);tab.ModuleManager.register(tab.IDataConnectionModule).call(null,'DataConnection',null).andLoadOnDemandIf(e);tab.ModuleManager.register(tab.ISelfServiceSchedulesModule).call(null,'SelfServiceSchedulesModule',null).andLoadOnDemandIf(e);tab.ModuleManager.register(tab.ISharedWidgetsDataGrid).call(null,'SharedWidgetsDataGridModule',null).andLoadOnDemandIf(true);tab.ModuleManager.register(tab.ISharedWidgetsPlayground).call(null,'SharedWidgetsPlayground',null).andLoadOnDemandIf(e);tab.ModuleManager.register(tab.IDownloadDialogModule).call(null,'DownloadDialog',null).andLoadOnDemandIf(e);cV.$1(e);if(tsConfig.is_mobile){tab.ModuleManager.register(tab.IVizZoneModule).call(null,'VizZoneMobile.Bundle','VizZoneMobile').andLoadOnDemandIf(false)}else{tab.ModuleManager.register(tab.IVizZoneModule).call(null,'VizZoneWeb.Bundle','VizZoneWeb').andLoadOnDemandIf(false)}$(function(){define('$',function(){return $});define('React',function(){return React});define('ReactDOM',function(){return ReactDOM});define('react',function(){return React});define('react-dom',function(){return ReactDOM});define('SharedWidgets',function(){return SharedWidgets});define('@tableau/preslayer-api-contract',function(){var eQ=new Object;eQ.Instance=tab.PluginPresentationLayer.get_instance();return eQ});define('@tableau/shared-widgets',function(){return SharedWidgets});define('@tableau/widgets',function(){return SharedWidgets})})})();(function(){db.$0="<img class='tab-overlayImage'/>"})();(function(){dl.minTitleHeight=17;dl.titlePadding=3})();(function(){dm.containerClass='tab-legacy-dropdown-container';dm.containerBorderClass='tab-legacy-qf-bordered';dm.summaryClass='tab-legacy-dropdown-summary';dm.iconContainerClass='tab-legacy-dropdown-icon-container';dm.iconClass='tab-legacy-dropdown-icon'})();(function(){dn.containerClass='tab-legacy-qf-readout-container';dn.containerBorderClass='tab-legacy-qf-bordered';dn.textClass='tab-legacy-qf-readout-text';dn.iconClass='tab-legacy-qf-readout-icon'})();(function(){dr.headerResizerMinimumLength=20;dr.axisResizerMinimumLength=10;dr.minimumSizeDifferenceResizeThreshold=1})();(function(){dH.$0='.SmoothTooltipBehavior'})();(function(){dU.$0="<div class='tvimagesContainer'></div>"})();(function(){en.$0='.tab-tooltipContent';en.$1="\n<div class='tab-tooltip'>\n  <div class='tab-tooltipContainer'>\n    <div class='tab-tooltipContent' waiRole='alert'></div>\n  </div>\n  <div class='tab-tooltipConnector'></div>\n</div>"})();(function(){ei.defaultVerticalOffset=16;ei.defaultHorizonalOffset=16;ei.$3=16;ei.$2=10;ei.belowRightClass='tab-tooltipBR';ei.belowLeftClass='tab-tooltipBL';ei.aboveRightClass='tab-tooltipAR';ei.aboveLeftClass='tab-tooltipAL';ei.$1='tab-tooltipAR tab-tooltipAL tab-tooltipBL tab-tooltipBR';ei.$4=null})();(function(){eo.$m="\n<div class='tab-ubertip'>\n  <div class='tab-ubertipContent'>\n    <div class='tab-ubertipTooltip'></div>\n    <div class='tab-ubertipActions'></div>\n  </div>\n  <div class='tab-ubertipCommandArea'>\n    <div class='tab-ubertipSelected'></div>\n    <div class='tab-ubertipCommands'></div>\n    <div class='tab-clear'></div>\n  </div>\n</div>";eo.$q='.tab-ubertipTooltip';eo.$r='.tab-ubertipTooltip span[data-tableau="VizInTooltip"]';eo.$j='.tab-ubertipContent';eo.$e='.tab-ubertipActions';eo.$g='.tab-ubertipCommandArea';eo.$i='.tab-ubertipCommands';eo.$h='.tab-clear';eo.$p='.tab-ubertipSelected';eo.$o='tab-selection-relaxation-selected';eo.$f="<li><div class='tab-separator'>&nbsp;</div></li>";eo.$k=70;eo.$l=2;eo.$n=null;eo.$n={}})();(function(){eE.$1$1=null;eE.$1$2=null})();(function(){ek.whitespaceObjectId='W';ek.unknownObjectId='U';ek.$0='mouseleave.basemode';ek.$4=0;ek.$3=null;ek.$2=null;ek.$1='U';ek.vizInTooltipDelayTimerMs=200})()})();;
/*! BEGIN RuntimeUI */
(function(){'dont use strict';var a={};ss.initAssembly(a,'vqlruntimeui')})();;
/*! BEGIN VizZone */
(function(){'dont use strict';var a={};global.tab=global.tab||{};ss.initAssembly(a,'vqlvizzone');var b=function(L){this.$2=null;this.$3=null;this.$5=null;this.$4=false;this.$5=L;this.$4=this.$5==='selected'||this.$5==='highlighted'||this.$5==='hover'};b.__typeName='tab.$0';var c=function(L){this.$1=0;this.$6=0;this.$5=null;this.$4=null;this.$3=null;this.$8=null;this.$7=null;this.$b=null;this.$a=0;this.$2=null;this.$9=null;this.$1=L.get_alpha();this.$4=L.get_lineJoin();this.$3=L.get_lineCap();this.$5=L.get_linePattern();this.$8=L.get_strokeStyle();this.$6=L.get_lineWidth();this.$a=L.get_textAngle();this.$2=L.get_font();this.$7=L.get_shapeFillStyle();this.$b=L.get_textFillStyle();this.$9=L.get_textAlign()};c.__typeName='tab.$1';var d=function(L,bK){this.$1=null;this.$0=null;this.$1=L;this.$0=bK};d.__typeName='tab.$2';var e=function(){this.$1=null;spiff.Template.call(this,$("<div class='tabMapsSearchContainer'><div class='tabMapsSearchView'></div></div>"));this.$1=this.getElementBySelector('.tabMapsSearchView')};e.__typeName='tab.$3';var f=function(L){this.$8=null;this.$c=null;this.$9=false;this.$a=0;this.$b=null;this.$c=L;this.$9=false;this.$a=0};f.__typeName='tab.$4';var g=function(L){this.$a=0;this.$c=-1;this.$b=null;this.$9=true;this.$1$1=null;this.$1$2=null;this.$a=L;this.$c=-1;this.$9=true};g.__typeName='tab.$5';var h=function(){this.$6=null;this.$7=null;this.$8=null;spiff.Template.call(this,$("<div><div class='tabLeafletMapHolder' /><div class='tabLeftBarnDoor' /><div class='tabRightBarnDoor' /></div>"));this.$6=this.getElementBySelector('.tabLeftBarnDoor');this.$7=this.getElementBySelector('.tabRightBarnDoor');this.$8=this.getElementBySelector('.tabLeafletMapHolder');var L=ss.mkdict(['position','absolute','top','0px','bottom','0px']);this.$6.css(L);this.$7.css(L);this.$6.css('left','0px');this.$7.css('right','0px');if(tab.BrowserSupport.get_isIE()){this.$6.css('z-index','10');this.$7.css('z-index','10')}};h.__typeName='tab.$6';var i=function(){this.$3=[]};i.__typeName='tab.$7';i.$1=function(L,bK,bL){if(!tab.ApplicationModel.get_instance().get_isLocalRenderMode()){return}var bM=bK.get_vizRegionMap()['background'];if(ss.isNullOrUndefined(bM)||ss.isNullOrUndefined(bM.get_visualListPM().drawItems)){return}var bN=bM.get_visualListPM().drawItems;var bO={};var bP=L.ri.length;for(var bQ=0;bQ<bP;bQ++){var bR=L.ri[bQ];bO[bR.r]=bR}var bS=null;if(ss.isValue(bK)&&ss.isValue(bK.get_scene())){bS=bK.get_scene().get_imageDictionary()}var bT=tab.RenderUtil.calculatePixelRatio();var bU=bK.get_visualModel().get_backgroundColor();var bV=[{name:'uleft'.toString(),node:bL.topLeftSpacer},{name:'uright'.toString(),node:bL.topRightSpacer},{name:'lleft'.toString(),node:bL.bottomLeftSpacer},{name:'lright'.toString(),node:bL.bottomRightSpacer}];for(var bW=0;bW<bV.length;bW++){var bX=bV[bW];var bY=bO[bX.name];if(ss.isNullOrUndefined(bY)){continue}var bZ=bX.node;var ca=bZ.get(0).firstChild;if(ss.isNullOrUndefined(ca)){continue}i.$2(ca,bU,bT,bY,bN,bS)}};i.$2=function(L,bK,bL,bM,bN,bO){var bP=tab.CanvasRenderer.getRenderContext(L,'opaque');bP.set_shapeFillStyle(bK);bP.fillRect(0,0,L.width,L.height);bP.setDefaultPropertyValues();if(!tab.DoubleUtil.isApproximatelyEqual(bL,1)){tab.CanvasUtil.scaleCanvasDrawing(bP,bL)}var bQ=new o(L,bP,J.defaultColors);bQ.set_renderOffset({x:bM.x,y:bM.y});var bR=bQ;bR.renderDrawItems(bN,null,bO,null)};i.$0=function(L,bK){var bL=L.get(0).firstChild;if(!(ss.compareStrings(bL.tagName,bK,true)===0)){bL=document.createElement(bK);L.children().first().replaceWith(bL)}return bL};var j=function(){this.$4=null;this.$1=0;this.$1=-1};j.__typeName='tab.$8';var k=function(){this.canvasElt=null;spiff.Template.call(this,$("<canvas class='tabCanvas'></canvas>"));this.canvasElt=this.domRoot};k.__typeName='tab.CanvasTemplate';global.tab.CanvasTemplate=k;var l=function(L){var bK=function(bL,bM){this.canvasElt=null;this.context=null;this.scrollOffset=null;this.$c=null;this.$g=null;this.$h=0;this.$i=null;this.$e=null;this.$j=null;this.$f=false;this.$d=null;this.$3$1=null;ss.makeGenericType(spiff.BaseView$1,[L]).call(this,bL,new k);this.canvasElt=this.get_template().canvasElt.get(0);this.scrollOffset={x:0,y:0};this.$g={x:0,y:0};this.$f=false;this.$c=bM;this.context=tab.CanvasRenderer.getRenderContext(this.canvasElt,bM);this.$h=tab.RenderUtil.calculatePixelRatio();tab.CommandController.get().add_modelsUpdated(ss.mkdel(this,this.$b))};ss.registerGenericClassInstance(bK,l,[L],{add_sizeChange:function(bL){this.$3$1=ss.delegateCombine(this.$3$1,bL)},remove_sizeChange:function(bL){this.$3$1=ss.delegateRemove(this.$3$1,bL)},get_canScrollX:function(){return this.get_docSize().w-this.get_effectiveViewSize().w>0},get_canScrollY:function(){return this.get_docSize().h-this.get_effectiveViewSize().h>0},get_docSize:null,get_actualViewSize:function(){if(!ss.isValue(this.canvasElt)){return{w:0,h:0}}return{w:this.canvasElt.width,h:this.canvasElt.height}},set_actualViewSize:function(bL){if(!ss.isValue(this.canvasElt)){return}if(tab.CanvasUtil.isOverCanvasSizeLimit(bL.w,bL.h,this.get_pixelRatio())){this.$h=1}if(this.get_effectiveViewSize().w!==bL.w||this.get_effectiveViewSize().h!==bL.h){this.$e={w:bL.w,h:bL.h};tab.CanvasUtil.setCanvasSizeAndDensify(this.canvasElt,this.get_pixelRatio(),this.$e);if(this.$c==='opaque'){this.context.set_shapeFillStyle(this.get_backgroundFillColor());this.context.fillRect(0,0,this.canvasElt.width,this.canvasElt.height)}this.invalidate(false);if(!ss.staticEquals(this.$3$1,null)){this.$3$1()}}},get_effectiveViewSize:function(){if(ss.isValue(this.$e)){return this.$e}else{return this.get_actualViewSize()}},get_pixelRatio:function(){return this.$h},get_isContentOpaque:function(){return true},get_needsRedraw:function(){return!tab.RectXYUtil.isEmpty(this.get_dirtyRect())},get_scrollPos:function(){return this.scrollOffset},set_scrollPos:function(bL){if(!tab.PointUtil.equals(this.scrollOffset,bL)){var bM=tab.PointFUtil.timesScalar(bL,this.$h);var bN=tab.PointFUtil.round(bM);var bO=tab.PointUtil.subtract(bN,this.$g);var bP=tab.PointUtil.subtract(bL,this.scrollOffset);this.$g=bN;this.scrollOffset=bL;if(!tab.RectXYUtil.isEmpty(this.get_dirtyRect())){var bQ={x:-bP.x,y:-bP.y};var bR=tab.RectXYUtil.offsetRect(this.get_dirtyRect(),bQ);this.set_dirtyRect(bR)}if(bP.x!==0&&bP.y!==0||!this.get_isContentOpaque()){this.invalidate(true)}else{var bS=bO.x;var bT=bO.y;var bU=this.get_actualViewSize().w-Math.abs(bS);var bV=((bS>0)?bS:0);var bW=((bS>0)?0:-bS);var bX=this.get_actualViewSize().h-Math.abs(bT);var bY=((bT>0)?bT:0);var bZ=((bT>0)?0:-bT);if(bU<=0||bX<=0){this.invalidate(true)}else{this.context.reset();this.context.drawImage5(this.canvasElt,bV,bY,bU,bX,bW,bZ,bU,bX);var ca={x:0,y:0,w:this.get_effectiveViewSize().w,h:this.get_effectiveViewSize().h};if(bP.x>0){ca.x=ca.w-bP.x}else if(bP.x<0){ca.w=-bP.x}if(bP.y>0){ca.y=ca.h-bP.y}else if(bP.y<0){ca.h=-bP.y}if(bP.x===0){ca.h=Math.abs(bP.y)}if(bP.y===0){ca.w=Math.abs(bP.x)}ca=tab.RectXYUtil.dialate(ca,3);this.invalidateRect(ca,true)}}}},get_dirtyRect:function(){return(ss.isValue(this.context)?this.context.dirtyRect:{x:0,y:0,w:0,h:0})},set_dirtyRect:function(bL){if(ss.isValue(this.context)){this.context.dirtyRect=bL}},get_backgroundFillColor:null,dispose:function(){if(ss.isValue(this.$i)){tab.WindowHelper.cancelAnimationFrame(ss.unbox(this.$i));this.$i=null}this.$9();tab.CommandController.get().remove_modelsUpdated(ss.mkdel(this,this.$b));ss.makeGenericType(spiff.BaseView$1,[L]).prototype.dispose.call(this)},clearDirty:function(){this.set_dirtyRect({x:0,y:0,w:0,h:0})},invalidate:function(bL){this.set_dirtyRect({x:0,y:0,w:this.get_effectiveViewSize().w,h:this.get_effectiveViewSize().h});this.triggerRedraw(bL)},invalidateRect:function(bL,bM){var bN;if(tab.RectXYUtil.isEmpty(this.get_dirtyRect())){bN=tab.RectXYUtil.clone(bL)}else{bN=tab.RectXYUtil.union(this.get_dirtyRect(),bL)}if(bN.x<0){bN.x=0}if(bN.x+bN.w>this.get_effectiveViewSize().w){bN.w=this.get_effectiveViewSize().w-bN.x}if(bN.y<0){bN.y=0}if(bN.y+bN.h>this.get_effectiveViewSize().h){bN.h=this.get_effectiveViewSize().h-bN.y}this.set_dirtyRect(bN);this.triggerRedraw(bM)},setXPos:function(bL){this.set_scrollPos({x:bL,y:this.get_scrollPos().y})},setYPos:function(bL){this.set_scrollPos({x:this.get_scrollPos().x,y:bL})},redraw:null,redrawFinished:null,triggerRedraw:function(bL){var bM=ss.isValue(this.$i);bL=bL||false;if(bL){this.$a();this.redraw();this.$9();if(bM){tab.WindowHelper.cancelAnimationFrame(ss.unbox(this.$i));this.$i=null}this.redrawFinished()}else if(!bM){this.$a();this.$i=tab.WindowHelper.requestAnimationFrame(ss.mkdel(this,function(){this.$b()}))}},$b:function(){if(ss.isValue(this.$i)){this.triggerRedraw(true)}},$a:function(){this.$j=this.$j||tab.CommandController.get().get_legacySession().get_waitHandler();var bL=!this.$f&&this.$j.isBusy();if(bL){this.$j.addref(false);this.$f=true;return true}if(ss.isNullOrUndefined(this.$d)){this.$d=tab.CompletionMonitor.get_instance().hold(1)}return false},$9:function(){if(this.$f){this.$j=this.$j||tab.CommandController.get().get_legacySession().get_waitHandler();this.$j.release();this.$f=false}if(ss.isValue(this.$d)){this.$d.dispose();this.$d=null}}},function(){return ss.makeGenericType(spiff.BaseView$1,[L])},function(){return[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[L]),spiff.IScrollable]});return bK};l.__typeName='tab.CanvasView$1';ss.initGenericClass(l,a,1);global.tab.CanvasView$1=l;var m=function(L,bK){this.$i=null;this.$j=null;this.$k=null;bq.call(this,L,"<div>\n                                                <svg class='selectionShape'>\n                                                    <circle class='tvdrag_svg_marquee'></circle><line class='circle_crosshair' x1='0' y1='0' x2='0' y2='0'></line><line class='circle_crosshair' x1='0' y1='0' x2='0' y2='0'></line><line class='circle_radius'x1='0' y1='0' x2='0' y2='0'></line></svg><div class='tabDistanceReadout'></div></div>",'tvdrag_svg_div');this.$i={center:{x:0,y:0},radius:0};this.$j={center:{x:0,y:0},radius:0};this.$k=bK};m.__typeName='tab.CircleShapeSelector';global.tab.CircleShapeSelector=m;var n=function(){this.$0=null;this.$1=null;br.call(this);this.$0={center:{x:0,y:0},radius:0};this.$1={center:{x:0,y:0},radius:0}};n.__typeName='tab.CircleShapeState';global.tab.CircleShapeState=n;var o=function(L,bK,bL){this.$c=null;tab.CanvasRenderer.call(this,L,bK);this.$c=bL||J.defaultColors};o.__typeName='tab.DisplayList2DRenderer';o.setTextProperties=function(L,bK,bL){L.set_textFillStyle(bK.color);var bM=new ss.StringBuilder;if(bK.fontStyle==='font-style-italic'){bM.append('italic ')}if(bK.fontWeight==='font-weight-bold'){bM.append('bold ')}if(ss.isValue(bK.textDecoration)&&bK.textDecoration==='text-decoration-underline'){L.set_shouldUnderlineText(true)}if(ss.isNullOrUndefined(bL)||bL<=0){bL=bK.fontSize}var bN=o.$1(bK.fontName);bM.append(bL+'pt '+bN);L.set_font(bM.toString());L.set_textBaseline(tab.FormattingConverters.getTextBaseline(bK.valign))};o.$1=function(L){var bK=o.$a.cl[L];if(ss.isValue(bK)){return bK}var bL=ss.trimString(L,[39,34]);var bM=bL.split(' ');var bN=[];for(var bO=bM.length;bO>0;--bO){bN.push(tab.FormattingConverters.addQuotationMarks(bM.join(' '),true));bM.pop()}tab.FormattingConverters.addDefaultFontForTableau(bN);var bP=bN.join(', ');o.$a.add(L,bP);return bP};o.$0=function(L,bK){var bL=bK;L.set_textFillStyle(tab.ColorModel.convertColorForCanvas(bL.color));if(ss.isValue(bL.angle)){var bM=bL.angle*Math.PI/180;L.set_textAngle(bM)}else{L.set_textAngle(0)}var bN=new ss.StringBuilder;if(bL.isItalics){bN.append('italic ')}if(bL.isBold){bN.append('bold ')}if(bL.isStrikeThrough){}var bO=tab.TabRenderContext2D.defaultTextAlign;if(L.get_isTextAngleHorizontal()){var bP=bL.horizontalLabelAlignment||'h-align-left';if(bP==='h-align-right'){bO='end'}}else{var bQ=bL.verticalLabelAlignment||'v-align-top';if(L.get_textAngle()<0&&bQ==='v-align-top'||L.get_textAngle()>0&&bQ==='v-align-bottom'){bO='end'}}L.set_textAlign(bO);L.set_shouldUnderlineText(bL.isUnderlined||false);var bR=bL.fontName||'Arial';bR=o.$1(bR);var bS=bL.pointSize||8;bN.append(bS+'pt '+bR);L.set_font(bN.toString())};o.$2=function(L,bK,bL){var bM=bK;if(bM.points.length!==4){return}var bN=bM.points[2]-bM.points[0];var bO=bM.points[3]-bM.points[1];var bP=bM.points[0]+bN/2;var bQ=bM.points[1]+bO/2;var bR=((bN<bO)?bN:bO)/2;var bS=((bN<bO)?1:(bN/bO));var bT=((bO<bN)?1:(bO/bN));L.save();L.beginPath();L.translate(bP,bQ);L.scale(bS,bT);L.arc(0,0,bR,0,tab.CanvasRenderer.twoPI,false);L.closePath();if(bL){L.fill()}else{L.stroke()}L.restore()};o.$3=function(L,bK,bL){var bM=bK.pointsF;if(!bL&&Math.round(L.get_lineWidth())%2===1){bM=ss.arrayClone(bM);for(var bN=0,bO=bM.length;bN<bO;++bN){bM[bN]+=0.5}}var bP=bK.pathElements;var bQ=Math.floor(bM.length/2);if(bQ<2){return}L.beginPath();var bR=0;for(var bS=0;bS<bP.length;bS++){var bT=bP[bS];switch(bT){case'moveto':{{L.moveTo(bM[bR],bM[bR+1]);bR+=2}break}case'lineto':{{L.lineTo(bM[bR],bM[bR+1]);bR+=2}break}case'curveto':{{L.bezierCurveTo(bM[bR],bM[bR+1],bM[bR+2],bM[bR+3],bM[bR+4],bM[bR+5]);bR+=6}break}default:{{}break}}}if(bL){L.fill()}else{L.stroke()}};o.$5=function(L){switch(L.type){case'draw-pen':case'draw-solid-brush':case'draw-gradient-brush':case'clip-rect':case'draw-text-props':case'transform':case'transform-pop':case'transform-push':case'draw-antialias':{return true}}return false};o.$6=function(L,bK){if(!bK){return L}var bL=o.$4(L);if(bL.length===0){return L}var bM=ss.arrayClone(L);var bN=function(bS,bT){var bU=bM[bS];bM[bS]=bM[bT];bM[bT]=bU};for(var bO=0;bO<bL.length;bO++){var bP=bL[bO];for(var bQ=0;bQ<ss.Int32.div(bP.length,2);++bQ){var bR=bP.length-1-bQ;bN(bP[bQ].item1,bP[bR].item1);bN(bP[bQ].item2,bP[bR].item2)}}return bM};o.$4=function(L){var bK=[];var bL=-99999999;var bM=false;var bN=-1;var bO=[];for(var bP=0;bP<L.length;bP++){var bQ=L[bP];if(bQ.type==='draw-text-props'){var bR=bQ;bM=ss.isValue(bR.horizontalLabelAlignment)&&bR.horizontalLabelAlignment==='h-align-right';bN=bP}else if(bM&&bQ.type==='draw-text'){var bS=bQ;var bT=bS.points[1];if(bT!==bL){if(bO.length>=2){bK.push(bO)}bO=[]}bO.push({item1:bN,item2:bP});bL=bT}}if(bO.length>=2){bK.push(bO)}return bK};global.tab.DisplayList2DRenderer=o;var p=function(){};p.__typeName='tab.DisplayList2DUtils';p.rectXYFromDrawRect=function(L){return{x:L[0],y:L[1],w:L[2]-L[0],h:L[3]-L[1]}};global.tab.DisplayList2DUtils=p;var q=function(){this.$3=null;this.$2=0;this.$1=null;this.$1$1=null;this.$1$2=null;this.$1$3=null;this.$3=[];this.$1=new Array};q.__typeName='tab.DownloadQueue';global.tab.DownloadQueue=q;var r=function(L,bK){React.Component.call(this,L,bK)};r.__typeName='tab.FloatingMenuFlyoutButtonComponent';global.tab.FloatingMenuFlyoutButtonComponent=r;var s=function(){};s.__typeName='tab.FloatingToolbarButton';global.tab.FloatingToolbarButton=s;var t=function(L,bK){React.Component.call(this,L,bK)};t.__typeName='tab.FloatingToolbarContainerComponent';global.tab.FloatingToolbarContainerComponent=t;var u=function(){this.$j=false;this.$h=false;this.$i=false;this.$d=false;this.$c=true;this.$e=true;this.$b=null;this.$g=null;this.$f=null;this.$a=0;this.$3$1=null;this.$3$2=null;this.$3$3=null;this.$3$4=false;ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]).call(this);this.$b={};this.$b[0]={buttonId:0,iconClassName:'buttonRadialSelect',buttonTooltip:tab.Strings.PanZoomSelectToolsRadialSelectionTooltip,onTap:ss.mkdel(this,this.$6)};this.$b[1]={buttonId:1,iconClassName:'buttonLassoSelect',buttonTooltip:tab.Strings.PanZoomSelectToolsLassoSelectionTooltip,onTap:ss.mkdel(this,this.$6)};this.$b[2]={buttonId:2,iconClassName:'buttonRectSelect',buttonTooltip:tab.Strings.PanZoomSelectToolsRectangularSelectionTooltip,isSelected:true,onTap:ss.mkdel(this,this.$6)};this.$b[3]={buttonId:3,iconClassName:'buttonAppendSelect',onTap:ss.mkdel(this,this.$5)};this.$g={buttonId:2,iconClassName:'buttonRectSelect',buttonTooltip:tab.Strings.PanZoomSelectToolsRectangularSelectionTooltip,isSelected:true,onTap:ss.mkdel(this,this.$9),shouldShowFlyoutCaret:true};this.$f={buttonId:4,iconClassName:'buttonPan',buttonTooltip:tab.Strings.PanZoomSelectToolsPanTooltip,onTap:ss.mkdel(this,this.$8)};this.$a=2};u.__typeName='tab.FloatingToolbarContainerViewModel';global.tab.FloatingToolbarContainerViewModel=u;var v=function(L,bK,bL,bM,bN){this.parent=null;this.buttonContainer=null;this.flyOutContainer=null;this.flyOutButtons=null;this.zoomInButton=null;this.zoomOutButton=null;this.zoomHomeButton=null;this.flyOutButton=null;this.zoomAreaButton=null;this.rectSelectButton=null;this.radialSelectButton=null;this.lassoSelectButton=null;this.panButton=null;this.api=null;this.canZoomHome=false;this.geoSearchEnabled=false;this.$8=null;this.toolbarType=null;this.$7=true;spiff.Widget.call(this,$("<div class='FloatingZoomToolbar'></div>"));this.parent=$(L);this.api=bK;this.toolbarType=bL;this.canZoomHome=false;this.geoSearchEnabled=bN;this.element.css({top:bM+'px'})};v.__typeName='tab.FloatingZoomToolbar';global.tab.FloatingZoomToolbar=v;var w=function(L){this.zoomToolbar=null;this.$1=null;this.$0=null;this.$0=L};w.__typeName='tab.FloatingZoomToolbarView';global.tab.FloatingZoomToolbarView=w;var x=function(){};x.__typeName='tab.GeometryUtil';x.domainToPixelGeometry=function(L,bK,bL,bM){switch(L.geometryType){case'multiPolygon':{x.domainToPixelMultipolygon(L.multiPolygon,bK,bL,bM);break}case'multiPoint':{var bN=L.multiPoint;x.domainToPixelCoordinateArray(bN.pointsF,bK,bL,bM);break}case'multiLineString':{var bO=L.multiLine;x.domainToPixelMultiline(bO,bK,bL,bM);break}default:{break}}};x.domainToPixelMultipolygon=function(L,bK,bL,bM){var bN=L.polygonList;var bO=bN.length;for(var bP=0;bP<bO;bP++){var bQ=bN[bP].lineList;var bR=bQ.length;for(var bS=0;bS<bR;bS++){var bT=bQ[bS].pointsF;x.domainToPixelCoordinateArray(bT,bK,bL,bM)}}};x.domainToPixelMultiline=function(L,bK,bL,bM){var bN=L.lineList.length;for(var bO=0;bO<bN;bO++){var bP=L.lineList[bO].pointsF;x.domainToPixelCoordinateArray(bP,bK,bL,bM)}};x.domainToPixelCoordinateArray=function(L,bK,bL,bM){var bN=3;var bO=bL.w/bK.w;var bP=bL.h/bK.h;var bQ=L.length;if(bQ<2){return}var bR=null;var bS=null;var bT=0;for(var bU=0;bU<bQ;bU+=2){var bV=x.$5(L[bU],bK.x,bL.x,bO);var bW=x.$5(L[bU+1],bK.y,bL.y,bP);if(bM){var bX=bV*3<<0;var bY=bW*3<<0;if(bX===bR&&bY===bS){continue}bR=bX;bS=bY}L[bT]=bV;L[bT+1]=bW;bT+=2}L.length=bT};x.isGeometryPresModelFeatureEmpty=function(L){switch(L.geometryType){case'multiPoint':{return L.multiPoint.pointsF.length===0}case'multiPolygon':{return L.multiPolygon.polygonList.length===0}case'multiLineString':{return L.multiLine.lineList.length===0}default:{return false}}};x.$5=function(L,bK,bL,bM){return(L-bK)*bM+bL};x.isPointInPoly=function(L,bK,bL){if(ss.isValue(bL)&&bL!==0){return x.polygonIntersectsDoubleRect(L,{x:bK.x-bL,y:bK.y-bL,w:bL*2,h:bL*2})}var bM=0;var bN=L.length;for(var bO=0;bO<bN;bO+=2){var bP=L[bO];var bQ=L[bO+1];var bR=(bO+2)%bN;var bS=L[bR];var bT=L[bR+1];if(bQ<=bK.y){if(bT>bK.y){if(x.$6(bP,bQ,bS,bT,bK.x,bK.y)>0){++bM}}}else if(bT<=bK.y){if(x.$6(bP,bQ,bS,bT,bK.x,bK.y)<0){--bM}}}return bM!==0};x.isPointInPolygon=function(L,bK){var bL=false;var bM=0;for(var bN=0;bN<L.lineList.length;bN++){var bO=L.lineList[bN];var bP=x.isPointInPoly(bO.pointsF,bK);if(bM===0){if(bP){bL=true}else{break}}else if(bP){bL=false;break}bM++}return bL};x.isPointInMultipolygon=function(L,bK){var bL=false;for(var bM=0;bM<L.polygonList.length;bM++){var bN=L.polygonList[bM];bL=x.isPointInPolygon(bN,bK);if(bL){break}}return bL};x.lineToQuad=function(L,bK){var bL=bK/2;var bM={x:L[0],y:L[1]};var bN={x:L[2],y:L[3]};var bO=bN.x-bM.x;var bP=bN.y-bM.y;var bQ=Math.sqrt(bO*bO+bP*bP);var bR={x:bL*(bO/bQ),y:bL*(bP/bQ)};var bS={x:-bR.y,y:bR.x};var bT={x:bM.x+bS.x,y:bM.y+bS.y};var bU={x:bM.x-bS.x,y:bM.y-bS.y};var bV={x:bN.x+bS.x,y:bN.y+bS.y};var bW={x:bN.x-bS.x,y:bN.y-bS.y};var bX=new Array(8);bX[0]=bT.x;bX[1]=bT.y;bX[2]=bU.x;bX[3]=bU.y;bX[4]=bW.x;bX[5]=bW.y;bX[6]=bV.x;bX[7]=bV.y;return bX};x.isPointInMultiLineString=function(L,bK,bL){var bM=L.lineList;var bN=bM.length;for(var bO=0;bO<bN;bO++){var bP=bM[bO].pointsF;var bQ=bP.length;if(bQ<4||bQ%2===1){return false}for(var bR=0;bR<bQ-2;bR+=2){var bS=new Array(4);bS[0]=bP[bR];bS[1]=bP[bR+1];bS[2]=bP[bR+2];bS[3]=bP[bR+3];if(x.isPointInPoly(x.lineToQuad(bS,bL),bK)){return true}if(bR>=2){var bT={x:bP[bR],y:bP[bR+1]};var bU={center:bT,radius:bL/2};if(x.isPointInCircle(bK,bU)){return true}}}}return false};x.isPointInMultipoint=function(L,bK,bL){var bM=L.pointsF;var bN={center:bK,radius:bL};for(var bO=0;bO<bM.length;bO=bO+2){var bP=bM[bO];var bQ=bM[bO+1];var bR={x:bP,y:bQ};if(x.isPointInCircle(bR,bN)){return true}}return false};x.getGeometrySelectionTransform=function(L,bK,bL,bM){if(!L){return tab.Transform.pixelToDomain(bK,bL,bM)}return tab.Transform.none()};x.multipolygonIntersectsDoubleRect=function(L,bK){for(var bL=0;bL<L.polygonList.length;bL++){var bM=L.polygonList[bL];for(var bN=0;bN<bM.lineList.length;bN++){var bO=bM.lineList[bN];if(x.polygonIntersectsDoubleRect(bO.pointsF,bK)){return true}}}return false};x.multiLineStringIntersectsDoubleRect=function(L,bK,bL){for(var bM=0;bM<L.lineList.length;bM++){var bN=L.lineList[bM];var bO=bN.pointsF;var bP=bO.length;if(bP<4||bP%2===1){return false}for(var bQ=0;bQ<bP-2;bQ+=2){var bR=new Array(4);bR[0]=bO[bQ];bR[1]=bO[bQ+1];bR[2]=bO[bQ+2];bR[3]=bO[bQ+3];if(x.polygonIntersectsDoubleRect(x.lineToQuad(bR,bL),bK)){return true}if(bQ>=2){var bS={x:bO[bQ],y:bO[bQ+1]};var bT={center:bS,radius:bL/2};var bU=x.$1(bK);if(x.polygonIntersectsCircle(bU,bT)){return true}}}}return false};x.multipointIntersectsDoubleRect=function(L,bK,bL){return x.multipointIntersectsPolygon(L,x.$1(bK),bL)};x.multipolygonIntersectsPolygon=function(L,bK,bL){for(var bM=0;bM<L.polygonList.length;bM++){var bN=L.polygonList[bM];for(var bO=0;bO<bN.lineList.length;bO++){var bP=bN.lineList[bO];if(x.$7(bP.pointsF,bK,bL)){return true}}}return false};x.multiLineStringIntersectsPolygon=function(L,bK,bL){for(var bM=0;bM<L.lineList.length;bM++){var bN=L.lineList[bM];var bO=bN.pointsF;var bP=bO.length;if(bP<4||bP%2===1){return false}for(var bQ=0;bQ<bP-2;bQ+=2){var bR=new Array(4);bR[0]=bO[bQ];bR[1]=bO[bQ+1];bR[2]=bO[bQ+2];bR[3]=bO[bQ+3];if(x.$7(x.lineToQuad(bR,bL),bK)){return true}if(bQ>=2){var bS={x:bO[bQ],y:bO[bQ+1]};var bT={center:bS,radius:bL/2};if(x.polygonIntersectsCircle(bK,bT)){return true}}}}return false};x.multipointIntersectsPolygon=function(L,bK,bL){var bM=L.pointsF;var bN={center:{x:0,y:0},radius:bL};for(var bO=0;bO<bM.length;bO=bO+2){var bP=bM[bO];var bQ=bM[bO+1];var bR={x:bP,y:bQ};bN.center=bR;if(x.polygonIntersectsCircle(bK,bN)){return true}}return false};x.polygonIntersectsRect=function(L,bK){return x.$7(L,x.$2(bK))};x.polygonIntersectsDoubleRect=function(L,bK){return x.$7(L,x.$1(bK))};x.$7=function(L,bK,bL){if(L.length===0||bK.length===0){return false}if(x.isPointInPoly(bK,{x:L[0],y:L[1]})){return true}if(x.isPointInPoly(L,{x:bK[0],y:bK[1]})){return true}if(L.length>bK.length||ss.isValue(bL)){var bM=L;L=bK;bK=bM}var bN=bL;var bO=ss.isValue(bN);for(var bP=0,bQ=L.length;bP<bQ;bP+=2){var bR=(bP+2)%bQ;if(bO&&!x.$9(bN,L[bP],L[bP+1],L[bR],L[bR+1])){continue}if(x.$8(bK,L[bP],L[bP+1],L[bR],L[bR+1])){return true}}return false};x.$9=function(L,bK,bL,bM,bN){if(bK>bM){var bO=bK;bK=bM;bM=bO}if(bM<L.x||bK>L.x+L.w){return false}if(bL>bN){var bP=bL;bL=bN;bN=bP}return!(bN<L.y||bL>L.y+L.h)};x.$8=function(L,bK,bL,bM,bN){var bO=bM-bK;var bP=bN-bL;var bQ=L.length;for(var bR=0;bR<bQ;bR+=2){var bS=(bR+2)%bQ;var bT=L[bR];var bU=L[bR+1];var bV=L[bS];var bW=L[bS+1];var bX=bO*(bU-bN)-bP*(bT-bM);var bY=bO*(bW-bN)-bP*(bV-bM);if(bX<0&&bY<0||bX>0&&bY>0){continue}var bZ=bV-bT;var ca=bW-bU;var cb=bZ*(bL-bW)-ca*(bK-bV);var cc=bZ*(bN-bW)-ca*(bM-bV);if(bX!==0&&bY!==0){if(cb<0&&cc>0||cb>0&&cc<0){return true}else if(cb!==0&&cc!==0){continue}}var cd=[cb,cc,bX,bY];var ce=[bK,bL,bM,bN,bT,bU,bV,bW];if(x.$4(cd,ce)){return true}}return false};x.$4=function(L,bK){var bL=[4,4,0,0];var bM=[6,6,2,2];for(var bN=0,bO=0,bP=4;bN<bP;bN++,bO+=2){if(L[bN]===0){var bQ=bK[bO];var bR=bK[bO+1];var bS=bK[bL[bN]];var bT=bK[bL[bN]+1];var bU=bK[bM[bN]];var bV=bK[bM[bN]+1];if(bQ>=Math.min(bS,bU)&&bQ<=Math.max(bS,bU)&&bR>=Math.min(bT,bV)&&bR<=Math.max(bT,bV)){return true}}}return false};x.multipolygonIntersectsCircle=function(L,bK){for(var bL=0;bL<L.polygonList.length;bL++){var bM=L.polygonList[bL];for(var bN=0;bN<bM.lineList.length;bN++){var bO=bM.lineList[bN];if(x.polygonIntersectsCircle(bO.pointsF,bK)){return true}}}return false};x.multiLineStringIntersectsCircle=function(L,bK,bL){for(var bM=0;bM<L.lineList.length;bM++){var bN=L.lineList[bM];var bO=bN.pointsF;var bP=bO.length;if(bP<4||bP%2===1){return false}for(var bQ=0;bQ<bP-2;bQ+=2){var bR=new Array(4);bR[0]=bO[bQ];bR[1]=bO[bQ+1];bR[2]=bO[bQ+2];bR[3]=bO[bQ+3];if(x.polygonIntersectsCircle(x.lineToQuad(bR,bL),bK)){return true}if(bQ>=2){var bS={x:bO[bQ],y:bO[bQ+1]};var bT={center:bS,radius:bL/2};if(x.circleIntersectsCircle(bK,bT)){return true}}}}return false};x.multipointIntersectsCircle=function(L,bK,bL){var bM=L.pointsF;var bN={center:{x:0,y:0},radius:bL};for(var bO=0;bO<bM.length;bO=bO+2){var bP=bM[bO];var bQ=bM[bO+1];var bR={x:bP,y:bQ};bN.center=bR;if(x.circleIntersectsCircle(bK,bN)){return true}}return false};x.circleIntersectsCircle=function(L,bK){var bL=Math.pow(L.center.x-bK.center.x,2)+Math.pow(L.center.y-bK.center.y,2);return Math.pow(L.radius+bK.radius,2)>=bL};x.polygonIntersectsCircle=function(L,bK){if(L.length===0||bK.radius===0){return false}if(x.isPointInPoly(L,bK.center)){return true}if(x.isPointInCircle({x:L[0],y:L[1]},bK)){return true}var bL=bK.radius*bK.radius;for(var bM=0,bN=L.length;bM<bN;bM+=2){var bO=L[bM];var bP=L[bM+1];var bQ=(bM+2)%bN;var bR=L[bQ];var bS=L[bQ+1];var bT=bS-bP;var bU=bR-bO;var bV=bU*bU+bT*bT;var bW=((bK.center.x-bO)*bU+(bK.center.y-bP)*bT)/bV;bW=Math.min(1,Math.max(0,bW));var bX=bO+bW*bU;var bY=bP+bW*bT;bU=bX-bK.center.x;bT=bY-bK.center.y;bV=bU*bU+bT*bT;if(bL>bV){return true}}return false};x.circleIntersectsRect=function(L,bK){if(L.radius<=0){return false}var bL=x.$0(bK);for(var bM=0;bM<bL.length;bM++){var bN=bL[bM];if(x.isPointInCircle(bN,L)){return true}}if(tab.RectXYUtil.inRectPointF(bK,L.center)){return true}var bO=bK.w/2;var bP=bK.h/2;var bQ={x:bK.x+bO,y:bK.y+bP};if(L.center.y<bK.y||L.center.y>=bK.y+bK.h){return L.center.x>bK.x&&L.center.x<bK.x+bK.w&&Math.abs(bQ.y-L.center.y)<bP+L.radius}if(L.center.x<bK.x||L.center.x>=bK.x+bK.w){return L.center.y>bK.y&&L.center.y<bK.y+bK.h&&Math.abs(bQ.x-L.center.x)<bO+L.radius}return false};x.normalizeAngle=function(L){var bK=L%x.twoPI;if(bK<0){bK+=x.twoPI}return bK};x.isInBetweenAngles=function(L,bK,bL){var bM=false;if(bK>bL){var bN=bK;bK=bL;bL=bN;bM=true}if(bK<=L&&bL>=L){return!bM}return bM};x.isPointInCircle=function(L,bK){var bL=Math.pow(L.x-bK.center.x,2)+Math.pow(L.y-bK.center.y,2);var bM=bK.radius*bK.radius;var bN=bL<bM;return bN};x.isPointInWedge=function(L,bK,bL,bM){if(!x.isPointInCircle(L,bK)){return false}var bN=L.x-bK.center.x;var bO=L.y-bK.center.y;var bP=Math.atan2(bO,bN);bP=x.normalizeAngle(bP);return x.isInBetweenAngles(bP,bL,bM)};x.rectIntersectsWedge=function(L,bK,bL,bM){var bN=x.$0(L);for(var bO=0;bO<bN.length;bO++){var bP=bN[bO];if(x.isPointInWedge(bP,bK,bL,bM)){return true}}if(tab.RectXYUtil.inRectPointF(L,bK.center)){return true}var bQ=x.$3(bK,bL,bM);return x.polygonIntersectsRect(bQ,L)};x.polygonIntersectsWedge=function(L,bK,bL,bM){if(L.length===0){return false}if(x.isPointInWedge({x:L[0],y:L[1]},bK,bL,bM)){return true}if(x.isPointInPoly(L,bK.center)){return true}var bN=x.$3(bK,bL,bM);return x.$7(bN,L)};x.circleIntersectsWedge=function(L,bK,bL,bM){if(L.radius<=0){return false}if(x.isPointInWedge(L.center,bK,bL,bM)){return true}if(x.isPointInCircle(bK.center,L)){return true}var bN=x.$3(bK,bL,bM);return x.polygonIntersectsCircle(bN,L)};x.$3=function(L,bK,bL){while(bK>bL){bL+=x.twoPI}var bM=bK;var bN=new Array(4);bN[0]=L.center.x;bN[1]=L.center.y;bN[2]=L.center.x+Math.cos(bM)*L.radius;bN[3]=L.center.y+Math.sin(bM)*L.radius;while(bM<bL){var bO=Math.min(bM+x.$a,bL);bN.push(L.center.x+Math.cos(bO)*L.radius);bN.push(L.center.y+Math.sin(bO)*L.radius);bM=bO}return bN};x.areRectanglesIntersecting=function(L,bK){return tab.RectXYUtil.intersectsWith(L,bK)};x.getSquaredDistanceToCenter=function(L,bK){var bL=L.x+L.w/2;var bM=L.y+L.h/2;var bN=bL-bK.x;var bO=bM-bK.y;return bN*bN+bO*bO};x.getSquaredDistanceToNearestSide=function(L,bK){var bL=L.y;var bM=L.y+L.h;var bN=L.x;var bO=L.x+L.w;var bP,bQ;if(bK.x<bN){bP=bN-bK.x}else if(bK.x>bO){bP=bK.x-bO}else{bP=0}if(bK.y<bL){bQ=bL-bK.y}else if(bK.y>bM){bQ=bK.y-bM}else{bQ=0}return bP*bP+bQ*bQ};x.getSquaredDistanceToCircumference=function(L,bK){var bL=Math.sqrt(x.getSquaredDistanceToCenter(L,bK))-Math.min(L.w,L.h)/2;bL=Math.max(bL,0);return bL*bL};x.getSquaredDistanceToLineSegment=function(L,bK,bL){var bM,bN;if(bL.x<bK.x){var bO=bK;bK=bL;bL=bO}var bP=bL.x-bK.x;var bQ=bL.y-bK.y;var bR=bP*bP+bQ*bQ;if(bR===0){bM=L.x-bK.x;bN=L.y-bK.y;return bM*bM+bN*bN}var bS=((L.x-bK.x)*bP+(L.y-bK.y)*bQ)/bR;var bT;var bU;if(bS<0){bT=bK.x;bU=bK.y}else if(bS>1){bT=bL.x;bU=bL.y}else{bT=bK.x+bS*bP;bU=bK.y+bS*bQ}bM=L.x-bT;bN=L.y-bU;return bM*bM+bN*bN};x.degreeToRad=function(L){return L*(Math.PI/180)};x.radToDegree=function(L){return L*(180/Math.PI)};x.haversineDistance=function(L,bK,bL){var bM=x.degreeToRad(bK.item1-L.item1);var bN=x.degreeToRad(L.item2);var bO=x.degreeToRad(bK.item2);var bP=bO-bN;var bQ=Math.pow(Math.sin(bP/2),2)+Math.cos(bN)*Math.cos(bO)*Math.pow(Math.sin(bM/2),2);var bR=2*Math.atan2(Math.sqrt(bQ),Math.sqrt(1-bQ));return bR*bL};x.$6=function(L,bK,bL,bM,bN,bO){return(bL-L)*(bO-bK)-(bN-L)*(bM-bK)};x.$0=function(L){var bK=new Array(4);bK[0]={x:L.x,y:L.y};bK[1]={x:L.x+L.w,y:L.y};bK[2]={x:L.x+L.w,y:L.y+L.h};bK[3]={x:L.x,y:L.y+L.h};return bK};x.$2=function(L){var bK=new Array(8);bK[0]=L.x;bK[1]=L.y;bK[2]=L.x+L.w;bK[3]=L.y;bK[4]=bK[2];bK[5]=L.y+L.h;bK[6]=L.x;bK[7]=bK[5];return bK};x.$1=function(L){var bK=new Array(8);bK[0]=L.x;bK[1]=L.y;bK[2]=L.x+L.w;bK[3]=L.y;bK[4]=bK[2];bK[5]=L.y+L.h;bK[6]=L.x;bK[7]=bK[5];return bK};global.tab.GeometryUtil=x;var y=function(L){this.$b=null;this.$a=null;spiff.Widget.call(this,$("<div class='tabGotoMyLocationButtonContainer'></div>"));if(!tab.BrowserSupport.get_isGeolocationSupported()||tab.ApplicationModel.get_instance().get_isOffline()){return}this.$b=L;this.$a=spiff.LabelButton.newNativeButton();this.get_button().addClass('tabGotoMyLocationButton');this.element.attr('title',tab.Strings.GotoMyLocationTooltip);this.get_button().add_click(ss.mkdel(this,this.$9));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_button().remove_click(ss.mkdel(this,this.$9))})));this.get_button().addToDom(this.element)};y.__typeName='tab.GotoMyLocationButton';y.$0=function(){if(tab.BrowserSupport.get_isChrome()&&tab.BrowserSupport.get_googleChromeVersion()>=50){return true}if(tab.BrowserSupport.get_isIos()&&tab.BrowserSupport.get_iosVersion()>=10){return true}if(tab.BrowserSupport.get_isSafari()&&tab.BrowserSupport.get_safariVersion()>=10){return true}return false};global.tab.GotoMyLocationButton=y;var z=function(L,bK,bL,bM,bN,bO,bP){this.$E=null;this.$F=null;this.$D=null;X.call(this,L,bK);this.$F={};var bQ=tab.ApplicationModel.get_instance().get_shapeManager().get_imageKeys();var bR=ss.getKeyCount(tab.SceneDataUtil.shapeMapping)+bQ.length;var bS=2;var bT=bN-4;var bU=bO-4;var bV=bL-bT/2;var bW=bM-bU/2;var bX=bN-1;var bY=bO-1;var bZ=bL-bX/2;var ca=bM-bY/2;var cb=this.$C(bR);var cc=this.$C(bR);var cd=this.$C(bR);var ce=this.$C(bR);var cf=this.$C(bR);var cg=this.$C(bR);for(var ch=0;ch<bR;ch++){var ci;if(ch<ss.getKeyCount(tab.SceneDataUtil.shapeMapping)){ci=_.keys(tab.SceneDataUtil.shapeMapping)[ch];cd.dataValues[ch]=bT;ce.dataValues[ch]=bU;cf.dataValues[ch]=bV;cg.dataValues[ch]=bW}else{ci=bQ[ch-ss.getKeyCount(tab.SceneDataUtil.shapeMapping)];cd.dataValues[ch]=bX;ce.dataValues[ch]=bY;cf.dataValues[ch]=bZ;cg.dataValues[ch]=ca}this.$F[ci]=ch;cc.dataValues[ch]=ci;cb.dataValues[ch]=ch.toString()}var cj={};cj.encodingColumns={};cj.encodingColumns['shape_id']=cc;cj.encodingColumns['tuple_id']=cb;cj.encodingColumns['size']=cd;cj.encodingColumns['width']=cd;cj.encodingColumns['height']=ce;cj.encodingColumns['left']=cf;cj.encodingColumns['top']=cg;cj.intMap={};cj.intMap['color']=(new tab.ColorModel(0,0,0,1)).toArgbInt();cj.intMap['background_color']=bP.toArgbInt();cj.floatMap={};cj.floatMap['x']=bL;cj.floatMap['y']=bM;var ck={};ck.paneRect={};ck.paneRect.y=0;ck.paneRect.x=0;ck.paneRect.w=bN;ck.paneRect.h=bO;var cl={};cl.startIndex=0;cl.endIndex=bR;var cm=new bm;this.$E=new Z.$ctor1('pdKey',cm,ck,cl,cj,null,'pdKey')};z.__typeName='tab.HackyShapeSwatchRenderer';global.tab.HackyShapeSwatchRenderer=z;var A=function(){};A.__typeName='tab.HitResultHitType';global.tab.HitResultHitType=A;var B=function(L,bK,bL,bM,bN){this.$1=null;this.$0=null;this.$3=0;this.$4=0;this.$2=null;this.$9=0;this.$8=null;this.$6=null;this.$5=0;this.$7=0;this.$0=L;if(ss.isNullOrUndefined(bM)||tab.RectXYUtil.isEmpty(bM)){this.$2=null}else{this.$2=bM}if(ss.isNullOrUndefined(bL)){this.$4=-1}else{this.$4=bL}if(ss.isNullOrUndefined(bN)){this.$9=0}else{this.$9=bN}this.$3=bK;this.$1=[]};B.__typeName='tab.HitTargetNode';B.findPaneNode=function(L){if(ss.isNullOrUndefined(L)){return null}while(L.$3!==0){if(L.get_nodeType()===1){return L}L=L.get_parent()}return null};B.createRootNode=function(){return new B({x:0,y:0,w:9999999,h:9999999},0)};global.tab.HitTargetNode=B;var C=function(){this.$3=null;this.$4=null;this.$2=null;this.$1=null;var L=$('.tab-tvView .tabCanvas');this.$4=L.get(0);this.$3=this.$4.style.position;this.$4.style.position='absolute';this.$2=document.createElement('canvas');this.$2.width=this.$4.width;this.$2.height=this.$4.height;this.$2.style.position='absolute';this.$1=this.$4.parentNode;this.$1.appendChild(this.$2)};C.__typeName='tab.HitTestDebugger';C.get_instance=function(){if(ss.isNullOrUndefined(C.$1)){C.$1=new C}return C.$1};global.tab.HitTestDebugger=C;var D=function(L){this.$5=null;this.$5=L};D.__typeName='tab.HitTester';D.$0=function(L,bK,bL,bM,bN){switch(bN){case'area':{return X.areaMarkExactHitTest(L,bK.x-bM,bK.y,bL)}case'line':{return X.lineMarkExactHitTest(L,bK.x-bM,bK.y,bL)}case'multipolygon':{return X.multipolygonMarkExactHitTest(L,bK.x-bM,bK.y,bL)}case'pie':{return X.pieMarkExactHitTest(L,bK.x-bM,bK.y,bL)}case'shape':{return X.shapeMarkExactHitTest(L,bK.x-bM,bK.y,bL)}case'bar':case'square':{return X.barMarkExactHitTest(L,bK.x-bM,bK.y,bL)}case'text':{return X.textMarkExactHitTest(L,bK.x-bM,bK.y,bL)}default:{var bO={x:bK.x-Math.round(bM),y:bK.y,w:bK.w,h:bK.h};return tab.RectXYUtil.intersectsWith(bO,L.getMarkBounds(bL))}}};D.$1=function(L,bK,bL,bM,bN){switch(bN){case'line':{return X.lineMarkNearHitTest(L,bK.x-bM,bK.y,bL)}case'multipolygon':{return X.multipolygonMarkNearHitTest(L,bK.x-bM,bK.y,bL)}case'shape':{return X.shapeMarkNearHitTest(L,bK.x-bM,bK.y,bL)}case'bar':case'square':{return X.barMarkNearHitTest(L,bK.x-bM,bK.y,bL)}case'text':{return X.textMarkNearHitTest(L,bK.x-bM,bK.y,bL)}case'area':{return X.areaMarkNearHitTest(L,bK.x-bM,bK.y,bL)}default:{return false}}};D.rectangleAreaHit=function(L,bK,bL,bM,bN,bO){var bP=(bN.get_isNull()?bL:tab.RectXYUtil.offsetRectF(bL,{x:-bN.get_translateX(),y:-bN.get_translateY()}));switch(bO){case'area':{return X.areaMarkRectangleAreaHitTest(L,bP,bM)}case'line':{return X.lineMarkRectangleAreaHitTest(L,bP,bM)}case'multipolygon':{return X.multipolygonMarkRectangleAreaHitTest(L,bP,bM)}case'pie':{return X.pieMarkRectangleAreaHitTest(L,bP,bM)}case'shape':{return X.shapeMarkRectangleAreaHitTest(L,bP,bM)}case'text':{return X.textMarkRectangleAreaHitTest(L,bP,bM)}case'bar':case'square':{return X.barMarkRectangleAreaHitTest(L,bP,bM)}default:{return tab.RectXYUtil.intersectsWith(bL,bK)}}};D.circleAreaHit=function(L,bK,bL,bM,bN,bO,bP){var bQ=(bN.get_isNull()?bL:tab.CircleUtil.offsetCircle(bL,{x:-bN.get_translateX(),y:-bN.get_translateY()}));var bR=(bN.get_isNull()?bK:tab.RectXYUtil.offsetRectF(bK,{x:-bN.get_translateX(),y:-bN.get_translateY()}));switch(bO){case'area':{return X.areaMarkCircleAreaHitTest(L,bQ,bM,bR,bP)}case'line':{return X.lineMarkCircleAreaHitTest(L,bQ,bM,bR,bP)}case'multipolygon':{return X.multipolygonMarkCircleAreaHitTest(L,bQ,bM,bR,bP)}case'pie':{return X.pieMarkCircleAreaHitTest(L,bQ,bM,bP)}case'shape':{return X.shapeMarkCircleAreaHitTest(L,bQ,bM,bP)}case'text':{return X.textMarkCircleAreaHitTest(L,bQ,bM,bR,bP)}case'bar':case'square':{return X.barMarkCircleAreaHitTest(L,bQ,bM,bR,bP)}default:{return x.circleIntersectsRect(bL,bK)}}};D.polyAreaHit=function(L,bK,bL,bM,bN,bO){var bP=(bN.get_isNull()?bK:tab.RectXYUtil.offsetRectF(bK,{x:-bN.get_translateX(),y:-bN.get_translateY()}));switch(bO){case'area':{return X.areaMarkPolygonAreaHitTest(L,bL,bM,bP)}case'line':{return X.lineMarkPolygonAreaHitTest(L,bL,bM,bP)}case'multipolygon':{return X.multipolygonMarkPolygonAreaHitTest(L,bL,bM,bP)}case'pie':{return X.pieMarkPolygonAreaHitTest(L,bL,bM)}case'shape':{return X.shapeMarkPolygonAreaHitTest(L,bL,bM)}case'text':{return X.textMarkPolygonAreaHitTest(L,bL,bM,bP)}case'bar':case'square':{return X.barMarkPolygonAreaHitTest(L,bL,bM,bP)}default:{return x.polygonIntersectsRect(bL,bP)}}};D.getTransformInfo=function(L,bK){var bL=L.paneRect;var bM=bK.get_worldOffset();return tab.Transform.offset(bL.x+bM,bL.y)};global.tab.HitTester=D;var E=function(L){E.$ctor1.call(this,L.get_index(),(ss.keyExists(E.$1,L.get_visualPart())?E.$1[L.get_visualPart()]:1),(ss.keyExists(E.$0,L.get_hitType())?E.$0[L.get_hitType()]:0))};E.__typeName='tab.HitTestResult';E.$ctor1=function(L,bK,bL){this.$2=0;this.$0=0;this.$1=0;this.$3=false;this.$2=L;this.$0=bK;this.$1=bL;this.$3=bL!==0};E.tieBreak=function(L,bK){if(L.get_hitType()>bK.get_hitType()||L.get_hitType()===bK.get_hitType()&&(L.get_hitObjectType()>bK.get_hitObjectType()||L.get_hitObjectType()===bK.get_hitObjectType()&&L.get_id()>bK.get_id())){return L}return bK};E.getIdsFromHitTestResults=function(L,bK){var bL=new Set;for(var bM=0;bM<L.length;bM++){var bN=L[bM];bL.add(bN.get_id())}var bO=tab.SetUtilities.getValues(ss.Int32).call(null,bL);if(bK){bO.sort(function(bP,bQ){return bP-bQ})}return bO};E.hasExactHit=function(L){for(var bK=0;bK<L.length;bK++){var bL=L[bK];if(bL.get_hitType()===3){return true}}return false};E.tieBreakHits=function(L,bK){var bL=new E.$ctor1(0,0,0);var bM=new E.$ctor1(0,0,0);for(var bN=0;bN<L.length;bN++){var bO=L[bN];if(bO.get_hitType()===3){return bO}if(bO.get_hitType()!==0&&bL.get_hitType()===0){bL=bO}}for(var bP=0;bP<bK.length;bP++){var bQ=bK[bP];if(bQ.get_hitType()===3){return bQ}if(bQ.get_hitType()!==0&&bM.get_hitType()===0){bM=bQ}}if(bL.get_hitType()!==0){return bL}if(bM.get_hitType()!==0){return bM}return new E.$ctor1(0,0,0)};global.tab.HitTestResult=E;var F=function(){};F.__typeName='tab.HitTestStructureBuilder';F.buildBinnedHitTestStructure=function(L,bK){var bL=B.createRootNode();var bM=0;var bN=L.scene.panes;for(var bO=0;bO<bN.length;bO++){var bP=bN[bO];var bQ=F.$2(bP);for(var bR=0;bR<bQ.length;bR++){var bS=bQ[bR];var bT=L.getPaneDrawInfo(bS);var bU=bT.get_mapExtentOrPaneRect();var bV=new B(bU,1);var bW=bm.getPaneMarksKey(bS);bV.set_paneKey(bW);bV.set_paneIndex(bS.paneIndex);bV.set_paneOrderIndex(bM++);bL.addNode(bV);var bX=Math.ceil(bU.w/bK);for(var bY=0;bY<bK;++bY){var bZ=bY*bX+bU.x;var ca=bU.y;var cb=bX;var cc=bU.h;var cd=new B({x:bZ,y:ca,w:cb,h:cc},2);bV.addNode(cd)}var ce=F.buildMarkBounds(bT,0,bT.markCount-1,bT.getAllMarkBounds());for(var cf=0;cf<ce.length;cf++){var cg=ce[cf];var ch=bV.get_children();for(var ci=0;ci<ch.length;ci++){var cj=ch[ci];if(tab.RectXYUtil.intersectsWith(cg.get_boundingBox(),cj.get_boundingBox())){cj.addNode(cg)}}}}}return bL};F.buildLinearHitTestStructure=function(L){var bK=B.createRootNode();var bL=0;var bM=L.scene.panes;for(var bN=0;bN<bM.length;bN++){var bO=bM[bN];var bP=F.$2(bO);for(var bQ=0;bQ<bP.length;bQ++){var bR=bP[bQ];var bS=L.getPaneDrawInfo(bR);if(!ss.isValue(bS)){continue}var bT=F.$0(bR,bS,bL);bK.addNode(bT);bL++}}return bK};F.buildTrendLineHitTestStructure=function(L,bK,bL){var bM=L.pointsF;var bN=L.pathElements;var bO=Math.floor(bM.length/2);if(bO<2){return new B({x:0,y:0,w:0,h:0},0)}var bP=[];var bQ=0;for(var bR=0;bR<bN.length;bR++){var bS=bN[bR];switch(bS){case'moveto':{{bQ+=2}break}case'lineto':{{if(ss.isValue(bM[bQ+3])){var bT=[bM[bQ],bM[bQ+1],bM[bQ+2],bM[bQ+3]];var bU=ss.Int32.trunc(Math.min(bT[0],bT[2]));var bV=ss.Int32.trunc(Math.min(bT[1],bT[3]));var bW=ss.Int32.trunc(Math.max(bT[0],bT[2]))-bU;var bX=ss.Int32.trunc(Math.max(bT[1],bT[3]))-bV;var bY={x:bU,y:bV,w:bW,h:bX};bY=tab.RectXYUtil.dialate(bY,ss.Int32.trunc(bK));var bZ=new B(bY,5,bL);bP.push(bZ)}bQ+=2}break}case'curveto':{{bQ+=6}break}default:{{}break}}}var ca=F.$1(bP,4);return ca};F.buildMarkBounds=function(L,bK,bL,bM){var bN=bL-bK+1;var bO=[];var bP=0;for(var bQ=bK;bQ<=bL;++bQ){var bR=bM[bQ].item1;var bS=bM[bQ].item2;var bT=L.getMarkInstanceOffsets(bQ);var bU=bT.length;for(var bV=0;bV<bU;bV++){var bW=bR;var bX=bS;var bY=bT[bV];if(bY!==0){var bZ=ss.Int32.trunc(bY);bW=tab.RectXYUtil.offsetRectXY(bR,bZ,0);bX=(ss.isValue(bS)?tab.RectXYUtil.offsetRectXY(bS,bZ,0):null)}bO[bP]=new B(bW,3,bQ,bX,bY);++bP}}return bO};F.print=function(L,bK){var bL='';var bM=bK;while(bM>0){bL+=' ';--bM}console.log(bL+L.get_objectId());if(L.get_nodeType()!==3){L.get_children().forEach(function(bN){F.print(bN,bK+1)})}};F.$2=function(L){var bK=[];for(var bL=0;bL<L.drawPane.length;bL++){var bM=L.drawPane[bL];if(bM.visualPart==='marks'){bK.push(bM.paneMarks)}}return bK};F.$1=function(L,bK){var bL=L;while(bL.length>1){var bM=[];for(var bN=0;bN<bL.length;bN+=bK){var bO=bK;var bP=bL.length-bN;if(bP<bK){bO=bP}var bQ=[];var bR=null;for(var bS=0;bS<bO;++bS){var bT=bL[bN+bS];bQ.push(bT);if(bS===0){bR={x:bT.get_boundingBox().x,y:bT.get_boundingBox().y,w:bT.get_boundingBox().w,h:bT.get_boundingBox().h}}else{bR=tab.RectXYUtil.union(bR,bQ[bS].get_boundingBox())}}var bU=new B(bR,4);bU.addNodes(bQ);bM.push(bU)}bL=bM}if(bL.length!==1){}var bV=B.createRootNode();bV.addNodes(bL);return bV};F.$0=function(L,bK,bL){var bM=bK.get_mapExtentOrPaneRect();var bN=new B(bM,1);var bO=bm.getPaneMarksKey(L);bN.set_paneKey(bO);bN.set_paneIndex(L.paneIndex);bN.set_paneOrderIndex(bL);var bP=(bK.hasUserPanes?bK.userPaneCount:1);var bQ=bK.paneRect.x;var bR=bK.paneRect.y;var bS=bK.getAllMarkBounds();for(var bT=0;bT<bP;++bT){var bU=tab.RectXYUtil.offsetRectXY(bK.getUserPaneRectByIndex(bT),bQ,bR);var bV=new B(bU,6);var bW=bK.getUserPaneMarkRange(bT);var bX=F.buildMarkBounds(bK,bW.firstMark,bW.lastMark,bS);bV.addNodes(bX);bN.addNode(bV)}return bN};global.tab.HitTestStructureBuilder=F;var G=function(L,bK,bL,bM,bN){this.$2=null;this.$1=0;this.$3=null;this.$0=null;this.$4=0;this.$2=L;this.$1=bK;this.$3=bL;this.$0=bM;this.$4=bN};G.__typeName='tab.ImageDownloaderImageData';global.tab.ImageDownloaderImageData=G;var H=function(L){this.$0=null;ss.EventArgs.call(this);this.$0=L};H.__typeName='tab.ImageLoadedEventArgs';global.tab.ImageLoadedEventArgs=H;var I=function(){};I.__typeName='tab.IMapsSearchViewTemplate';global.tab.IMapsSearchViewTemplate=I;var J=function(){this.highlightBgColor=null;this.selectionBgColor=null;this.highlightTextColor=null;this.selectionTextColor=null;this.highlightBgColor=J.defaultHighlightBgColor;this.selectionBgColor=J.defaultSelectionBgColor;this.highlightTextColor=J.defaultHighlightTextColor;this.selectionTextColor=J.defaultSelectionTextColor};J.__typeName='tab.InteractionColorModel';J.extractInteractionColors=function(L){var bK=ss.isValue(L)&&!ss.isNullOrEmptyString(L.highlightBgColor);var bL=ss.isValue(L)&&!ss.isNullOrEmptyString(L.highlightTextColor);var bM=ss.isValue(L)&&!ss.isNullOrEmptyString(L.selectBgColor);var bN=ss.isValue(L)&&!ss.isNullOrEmptyString(L.selectionTextColor);if(!bK&&!bM&&!bN&&!bL){return J.defaultColors}var bO=new J;bO.highlightBgColor=(bK?tab.ColorModel.fromColorCode(L.highlightBgColor):bO.highlightBgColor);bO.selectionBgColor=(bM?tab.ColorModel.fromColorCode(L.selectBgColor):bO.selectionBgColor);bO.highlightTextColor=(bL?tab.ColorModel.fromColorCode(L.highlightTextColor):bO.highlightTextColor);bO.selectionTextColor=(bN?tab.ColorModel.fromColorCode(L.selectionTextColor):bO.selectionTextColor);return bO};global.tab.InteractionColorModel=J;var K=function(){};K.__typeName='tab.IRegionContentProvider';global.tab.IRegionContentProvider=K;var M=function(){};M.__typeName='tab.IRuntimeUIModule';global.tab.IRuntimeUIModule=M;var N=function(){};N.__typeName='tab.IZoomToolbarContainer';global.tab.IZoomToolbarContainer=N;var O=function(){this.$h=null;this.$l=null;this.$j=null;this.$k=null;this.$n=null;this.$o=0;this.$m=false;this.$i=null};O.__typeName='tab.LeafletMapControl';O.$0=function(L){var bK=256;var bL=document.createElement('canvas');bL.width=bK;bL.height=bK;var bM=tab.CanvasRenderer.getRenderContext(bL,'transparent');bM.set_shapeFillStyle(L);bM.fillRect(0,0,256,256);var bN=bL.toDataURL('png',null);return bN};O.$1=function(bK){return new L.LatLng(bK.item1,bK.item2)};global.tab.LeafletMapControl=O;var P=function(L){this.startIndex=0;this.endIndex=0;this.selectedCount=0;this.highlightedCount=0;this.marksNeedingDraw=[];this.worldOffsets=null;this.boundingBox={x:0,y:0,w:0,h:0};this.sloppyBoundingBox={x:0,y:0,w:0,h:0};this.startIndex=L;this.endIndex=-1;this.selectedCount=0;this.highlightedCount=0};P.__typeName='tab.LineAttribute';global.tab.LineAttribute=P;var Q=function(L){this.$1=null;this.$1=[];this.$0(L)};Q.__typeName='tab.LineMarkDrawState';global.tab.LineMarkDrawState=Q;var R=function(L,bK){bF.call(this,L,bK)};R.__typeName='tab.LocalRenderVizHitTester';global.tab.LocalRenderVizHitTester=R;var S=function(){this.attributionBackground=null;this.attributionLink=null;spiff.Template.call(this,$(S.$0));this.attributionBackground=this.getElementBySelector('.tabMapAttributionBackground');this.attributionLink=this.getElementBySelector('.tabMapAttributionLink')};S.__typeName='tab.MapAttributionTemplate';global.tab.MapAttributionTemplate=S;var T=function(L,bK){ss.makeGenericType(spiff.ReactSpiffAdapter$3,[U,Object,Object]).call(this,tab.ObjectRegistry.newView(U).call(null,[L.viewModel]),L,bK);this.get_widget().set_isVisible(true);this.get_widget().set_isCollapsed(true)};T.__typeName='tab.MapsSearchComponent';global.tab.MapsSearchComponent=T;var U=function(L,bK){this.mapsSearchViewModel=null;this.mapsSearchViewTemplate=null;this.$l=null;this.mapsSearchView=null;this.gotoMyLocationButton=null;this.$o=null;this.$m=false;this.$n=true;this.queryDelayTimer=null;ss.makeGenericType(spiff.BaseView$1,[V]).call(this,L,bK.get_template());this.mapsSearchViewModel=L;this.mapsSearchViewTemplate=bK;this.mapsSearchView=bK.get_template().domRoot.find('.tabMapsSearchView');this.set_isVisible(false);this.$l=tab.ObjectRegistry.newWidget(spiff.CompositeSearchWidget).call(null);this.mapsSearchViewTemplate.get_mapsSearchViewRootElement().append(this.$l.get_domRoot());this.$l.addClass('tabMapsSearchView-searchControlsContainer');this.get_compositeSearchWidget().setPlaceholderText(tab.Strings.MapsSearchViewInitialText);this.mapsSearchView.addClass('tabMapsSearchViewTranslucent');this.get_compositeSearchWidget().get_textInputView().add_enterKeyPressed(ss.mkdel(this,this.handleEnterKeyPress));this.get_compositeSearchWidget().get_searchButton().add_click(ss.mkdel(this,this.handleSearchButtonClick));this.get_compositeSearchWidget().add_listItemClicked(ss.mkdel(this,this.handleListItemClick));this.get_compositeSearchWidget().add_inputTextChanged(ss.mkdel(this,this.$b));this.mapsSearchViewModel.add_receivedNewSuggestions(ss.mkdel(this,this.showNewSuggestions));this.mapsSearchViewModel.add_updateTextInputValue(ss.mkdel(this,this.updateSearchTextValue));this.mapsSearchViewModel.add_searchWidgetCollapsed(ss.mkdel(this,this.handleCollapseSearchWidget));this.mapsSearchViewModel.add_visibilityChanged(ss.mkdel(this,this.$d));this.mapsSearchViewModel.add_userInteractionEnabled(ss.mkdel(this,this.handleEnableUserInteraction));this.mapsSearchViewModel.add_initialTextInputValueRestored(ss.mkdel(this,this.$c));this.mapsSearchViewModel.add_suggestionListRemoved(ss.mkdel(this,this.handleRemoveSuggestionList));this.mapsSearchViewModel.add_blurInputElementCalled(ss.mkdel(this,this.$a));this.$i();this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_compositeSearchWidget().get_textInputView().remove_enterKeyPressed(ss.mkdel(this,this.handleEnterKeyPress));this.get_compositeSearchWidget().get_searchButton().remove_click(ss.mkdel(this,this.handleSearchButtonClick));this.get_compositeSearchWidget().remove_listItemClicked(ss.mkdel(this,this.handleListItemClick));this.get_compositeSearchWidget().remove_inputTextChanged(ss.mkdel(this,this.$b));this.mapsSearchViewModel.remove_receivedNewSuggestions(ss.mkdel(this,this.showNewSuggestions));this.mapsSearchViewModel.remove_updateTextInputValue(ss.mkdel(this,this.updateSearchTextValue));this.mapsSearchViewModel.remove_searchWidgetCollapsed(ss.mkdel(this,this.handleCollapseSearchWidget));this.mapsSearchViewModel.remove_visibilityChanged(ss.mkdel(this,this.$d));this.mapsSearchViewModel.remove_userInteractionEnabled(ss.mkdel(this,this.handleEnableUserInteraction));this.mapsSearchViewModel.remove_initialTextInputValueRestored(ss.mkdel(this,this.$c));this.mapsSearchViewModel.remove_suggestionListRemoved(ss.mkdel(this,this.handleRemoveSuggestionList));this.mapsSearchViewModel.remove_blurInputElementCalled(ss.mkdel(this,this.$a));this.$h()})));this.disposables.add$1(spiff.EventUtil.bindWithDispose(this.get_compositeSearchWidget().get_textInputView().get_inputElement(),'focus',ss.mkdel(this,this.$e)));this.disposables.add$1(spiff.EventUtil.bindWithDispose(this.get_compositeSearchWidget().get_textInputView().get_inputElement(),'focusout',ss.mkdel(this,this.$f)));if(this.mapsSearchViewModel.get_gotoMyLocationButtonEnabled()){this.gotoMyLocationButton=new y(this.get_viewModel().get_visualID());this.gotoMyLocationButton.addClass('tabSuppressVizTooltipsAndOverlays');this.gotoMyLocationButton.addToDom(this.element)}};U.__typeName='tab.MapsSearchView';U.newMapsSearchViewTemplate=function(){return new e};global.tab.MapsSearchView=U;var V=function(L){this.$2=null;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.$2$7=null;this.$2$8=null;this.$2$9=null;this.$2$10=null;this.$2$11=null;this.$2$12=null;spiff.BaseViewModel.call(this);this.$2=L};V.__typeName='tab.MapsSearchViewModel';global.tab.MapsSearchViewModel=V;var W=function(){};W.__typeName='tab.MarkRange';W.isInstanceOfType=function(){return true};global.tab.MarkRange=W;var X=function(L,bK){tab.CanvasRenderer.call(this,L,bK)};X.__typeName='tab.MarksRenderer';X.multipolygonMarkBuildMarkBound=function(L,bK){var bL='empty';var bM=L.getMarkGeometry(L.c.get('geometry').gv(bK));if(ss.isValue(bM)){bL=bM.geometryType}switch(bL){case'multiPolygon':{var bN={x:0,y:0,w:0,h:0};{var bO=(L.hasPixelGeometry?tab.Transform.none():tab.Transform.domainToPixel(L.c.get('x').gv(bK),L.c.get('y').gv(bK),L.c.get('size').gv(bK)));X.bBoxGeometry(bN,bO,0,L.getMarkGeometry(L.c.get('geometry').gv(bK)))}return bN;break}case'multiLineString':{var bP={x:0,y:0,w:0,h:0};{var bQ=(L.hasPixelGeometry?tab.Transform.none():tab.Transform.domainToPixel(L.c.get('x').gv(bK),L.c.get('y').gv(bK),L.c.get('size').gv(bK)));X.bBoxGeometry(bP,bQ,L.c.get('size').gv(bK)/2,L.getMarkGeometry(L.c.get('geometry').gv(bK)))}return bP;break}case'multiPoint':{var bR={x:0,y:0,w:0,h:0};{var bS=(L.hasPixelGeometry?tab.Transform.none():tab.Transform.domainToPixel(L.c.get('x').gv(bK),L.c.get('y').gv(bK),L.c.get('size').gv(bK)));X.bBoxGeometry(bR,bS,3.5,L.getMarkGeometry(L.c.get('geometry').gv(bK)))}return bR;break}case'empty':{var bT={x:0,y:0,w:0,h:0};{tab.RectXYUtil.encompassCircleInPlace(bT,L.c.get('x').gv(bK),L.c.get('y').gv(bK),7/2)}return bT;break}default:{break}}return{x:0,y:0,w:0,h:0}};X.multipolygonMarkExactHitTest=function(L,bK,bL,bM){var bN=x.getGeometrySelectionTransform(L.hasPixelGeometry,L.c.get('x').gv(bM),L.c.get('y').gv(bM),L.c.get('size').gv(bM));var bO='empty';var bP=L.getMarkGeometry(L.c.get('geometry').gv(bM));if(ss.isValue(bP)){bO=bP.geometryType}switch(bO){case'multiPolygon':{{if(x.isPointInMultipolygon(bP.multiPolygon,bN.transformPoint({x:bK,y:bL}))){return true}}return false;break}case'multiLineString':{{if(x.isPointInMultiLineString(bP.multiLine,bN.transformPoint({x:bK,y:bL}),L.c.get('size').gv(bM))){return true}}return false;break}case'multiPoint':{{if(x.isPointInMultipoint(bP.multiPoint,bN.transformPoint({x:bK,y:bL}),3.5)){return true}}return false;break}case'empty':{{if(x.isPointInCircle({x:bK,y:bL},{center:{x:L.c.get('x').gv(bM),y:L.c.get('y').gv(bM)},radius:7/2})){return true}}return false;break}default:{break}}return true};X.multipolygonMarkNearHitTest=function(L,bK,bL,bM){var bN=x.getGeometrySelectionTransform(L.hasPixelGeometry,L.c.get('x').gv(bM),L.c.get('y').gv(bM),L.c.get('size').gv(bM));var bO='empty';var bP=L.getMarkGeometry(L.c.get('geometry').gv(bM));if(ss.isValue(bP)){bO=bP.geometryType}switch(bO){case'multiPolygon':{return false;break}case'multiLineString':{{if(x.isPointInMultiLineString(bP.multiLine,bN.transformPoint({x:bK,y:bL}),L.c.get('size').gv(bM)+20)){return true}}return false;break}case'multiPoint':{return false;break}case'empty':{return false;break}default:{break}}return false};X.multipolygonMarkGetHitTestExpansion=function(L,bK){var bL=null;{bL={w:10,h:10}}return bL;return{w:0,h:0}};X.multipolygonMarkGetDistanceToMark=function(L,bK,bL,bM){var bN='empty';var bO=L.getMarkGeometry(L.c.get('geometry').gv(bM));if(ss.isValue(bO)){bN=bO.geometryType}switch(bN){case'multiPolygon':{return x.getSquaredDistanceToCenter(L.getMarkBounds(bM),{x:bK,y:bL});break}case'multiLineString':{return x.getSquaredDistanceToCenter(L.getMarkBounds(bM),{x:bK,y:bL});break}case'multiPoint':{return x.getSquaredDistanceToCenter(L.getMarkBounds(bM),{x:bK,y:bL});break}case'empty':{return x.getSquaredDistanceToCenter(L.getMarkBounds(bM),{x:bK,y:bL});break}default:{break}}return x.getSquaredDistanceToCenter(L.getMarkBounds(bM),{x:bK,y:bL})};X.multipolygonMarkRectangleAreaHitTest=function(L,bK,bL){var bM=x.getGeometrySelectionTransform(L.hasPixelGeometry,L.c.get('x').gv(bL),L.c.get('y').gv(bL),L.c.get('size').gv(bL));var bN='empty';var bO=L.getMarkGeometry(L.c.get('geometry').gv(bL));if(ss.isValue(bO)){bN=bO.geometryType}switch(bN){case'multiPolygon':{{if(x.multipolygonIntersectsDoubleRect(bO.multiPolygon,bM.transformRect(bK))){return true}}return false;break}case'multiLineString':{{if(x.multiLineStringIntersectsDoubleRect(bO.multiLine,bM.transformRect(bK),L.c.get('size').gv(bL))){return true}}return false;break}case'multiPoint':{{if(x.multipointIntersectsDoubleRect(bO.multiPoint,bM.transformRect(bK),3.5)){return true}}return false;break}case'empty':{{if(x.circleIntersectsRect({center:{x:L.c.get('x').gv(bL),y:L.c.get('y').gv(bL)},radius:7/2},bK)){return true}}return false;break}default:{break}}return true};X.multipolygonMarkCircleAreaHitTest=function(L,bK,bL,bM,bN){var bO=x.getGeometrySelectionTransform(L.hasPixelGeometry,L.c.get('x').gv(bL),L.c.get('y').gv(bL),L.c.get('size').gv(bL));if(bN){var bP='empty';var bQ=L.getMarkGeometry(L.c.get('geometry').gv(bL));if(ss.isValue(bQ)){bP=bQ.geometryType}switch(bP){case'multiPolygon':{break}case'multiLineString':{{{if(x.multiLineStringIntersectsCircle(bQ.multiLine,bO.transformCircle(bK),0)){return true}}return false}break}case'multiPoint':{{{if(x.multipointIntersectsCircle(bQ.multiPoint,bO.transformCircle(bK),0)){return true}}return false}break}case'empty':{{{return x.isPointInCircle({x:L.c.get('x').gv(bL),y:L.c.get('y').gv(bL)},bK)}}break}default:{break}}}{var bR='empty';var bS=L.getMarkGeometry(L.c.get('geometry').gv(bL));if(ss.isValue(bS)){bR=bS.geometryType}switch(bR){case'multiPolygon':{{if(x.multipolygonIntersectsCircle(bS.multiPolygon,bO.transformCircle(bK))){return true}}return false;break}case'multiLineString':{{if(x.multiLineStringIntersectsCircle(bS.multiLine,bO.transformCircle(bK),L.c.get('size').gv(bL))){return true}}return false;break}case'multiPoint':{{if(x.multipointIntersectsCircle(bS.multiPoint,bO.transformCircle(bK),3.5)){return true}}return false;break}case'empty':{{if(x.circleIntersectsCircle(bK,{center:{x:L.c.get('x').gv(bL),y:L.c.get('y').gv(bL)},radius:7/2})){return true}}return false;break}default:{break}}}return x.circleIntersectsRect(bK,bM)};X.multipolygonMarkPolygonAreaHitTest=function(L,bK,bL,bM){var bN=x.getGeometrySelectionTransform(L.hasPixelGeometry,L.c.get('x').gv(bL),L.c.get('y').gv(bL),L.c.get('size').gv(bL));var bO='empty';var bP=L.getMarkGeometry(L.c.get('geometry').gv(bL));if(ss.isValue(bP)){bO=bP.geometryType}switch(bO){case'multiPolygon':{{if(x.multipolygonIntersectsPolygon(bP.multiPolygon,bN.transformPolygon(bK))){return true}}return false;break}case'multiLineString':{{if(x.multiLineStringIntersectsPolygon(bP.multiLine,bN.transformPolygon(bK),L.c.get('size').gv(bL))){return true}}return false;break}case'multiPoint':{{if(x.multipointIntersectsPolygon(bP.multiPoint,bN.transformPolygon(bK),3.5)){return true}}return false;break}case'empty':{{if(x.polygonIntersectsCircle(bK,{center:{x:L.c.get('x').gv(bL),y:L.c.get('y').gv(bL)},radius:7/2})){return true}}return false;break}default:{break}}return x.polygonIntersectsRect(bK,bM)};X.areaMarkBuildMarkBound=function(L,bK){var bL=L.c.get('l_neighbor').gv(bK);var bM=L.c.get('r_neighbor').gv(bK);var bN=L.lineInterpolation;var bO=L.lineMarkerPosition;var bP={x:0,y:0,w:0,h:0};if(bL!==-1){var bQ=tab.RectXYUtil.rectXYFromCorners$1(L.c.get('x1').gv(bK),L.c.get('y1').gv(bK),(L.c.get('x_next').gv(bL)+L.c.get('x_prev').gv(bK))/2,(L.c.get('y_next').gv(bL)+L.c.get('y_prev').gv(bK))/2);tab.RectXYUtil.unionInPlace(bP,bQ);var bR=tab.RectXYUtil.rectXYFromCorners$1((L.c.get('x1').gv(bL)+L.c.get('x1').gv(bK))/2,(L.c.get('y1').gv(bL)+L.c.get('y1').gv(bK))/2,L.c.get('x_prev').gv(bK),L.c.get('y_prev').gv(bK));tab.RectXYUtil.unionInPlace(bP,bR);tab.RectXYUtil.outsetRectInPlace(bP,10,10)}if(bM!==-1){var bS=tab.RectXYUtil.rectXYFromCorners$1(L.c.get('x1').gv(bK),L.c.get('y1').gv(bK),(L.c.get('x_prev').gv(bM)+L.c.get('x_next').gv(bK))/2,(L.c.get('y_prev').gv(bM)+L.c.get('y_next').gv(bK))/2);tab.RectXYUtil.unionInPlace(bP,bS);var bT=tab.RectXYUtil.rectXYFromCorners$1((L.c.get('x1').gv(bM)+L.c.get('x1').gv(bK))/2,(L.c.get('y1').gv(bM)+L.c.get('y1').gv(bK))/2,L.c.get('x_next').gv(bK),L.c.get('y_next').gv(bK));tab.RectXYUtil.unionInPlace(bP,bT);tab.RectXYUtil.outsetRectInPlace(bP,10,10)}if(bL===-1&&bM===-1){var bU=tab.RectXYUtil.rectXYFromCorners$1(L.c.get('x1').gv(bK),L.c.get('y1').gv(bK),L.c.get('x').gv(bK),L.c.get('y').gv(bK));{var bV=20-bU.w;var bW=20-bU.h;if(bV>0||bW>0){bU=tab.RectXYUtil.outsetRect(bU,Math.max(0,Math.ceil(bV/2)),Math.max(0,Math.ceil(bW/2)))}}tab.RectXYUtil.unionInPlace(bP,bU)}return bP};X.areaMarkExactHitTest=function(L,bK,bL,bM){var bN=L.c.get('l_neighbor').gv(bM);var bO=L.c.get('r_neighbor').gv(bM);var bP=L.lineInterpolation;var bQ=L.lineMarkerPosition;if(bN!==-1){var bR=new Array(8);bR[0]=L.c.get('x1').gv(bM);bR[1]=L.c.get('y1').gv(bM);bR[2]=(L.c.get('x1').gv(bN)+L.c.get('x1').gv(bM))/2;bR[3]=(L.c.get('y1').gv(bN)+L.c.get('y1').gv(bM))/2;bR[4]=(L.c.get('x_next').gv(bN)+L.c.get('x_prev').gv(bM))/2;bR[5]=(L.c.get('y_next').gv(bN)+L.c.get('y_prev').gv(bM))/2;bR[6]=L.c.get('x_prev').gv(bM);bR[7]=L.c.get('y_prev').gv(bM);if(x.isPointInPoly(bR,{x:bK,y:bL},0)){return true}}if(bO!==-1){var bS=new Array(8);bS[0]=L.c.get('x1').gv(bM);bS[1]=L.c.get('y1').gv(bM);bS[2]=(L.c.get('x1').gv(bO)+L.c.get('x1').gv(bM))/2;bS[3]=(L.c.get('y1').gv(bO)+L.c.get('y1').gv(bM))/2;bS[4]=(L.c.get('x_prev').gv(bO)+L.c.get('x_next').gv(bM))/2;bS[5]=(L.c.get('y_prev').gv(bO)+L.c.get('y_next').gv(bM))/2;bS[6]=L.c.get('x_next').gv(bM);bS[7]=L.c.get('y_next').gv(bM);if(x.isPointInPoly(bS,{x:bK,y:bL},0)){return true}}if(bN===-1&&bO===-1){return true}return false};X.areaMarkNearHitTest=function(L,bK,bL,bM){var bN=L.c.get('l_neighbor').gv(bM);var bO=L.c.get('r_neighbor').gv(bM);var bP=L.lineInterpolation;var bQ=L.lineMarkerPosition;if(bN!==-1){var bR=new Array(8);bR[0]=L.c.get('x1').gv(bM);bR[1]=L.c.get('y1').gv(bM);bR[2]=(L.c.get('x1').gv(bN)+L.c.get('x1').gv(bM))/2;bR[3]=(L.c.get('y1').gv(bN)+L.c.get('y1').gv(bM))/2;bR[4]=(L.c.get('x_next').gv(bN)+L.c.get('x_prev').gv(bM))/2;bR[5]=(L.c.get('y_next').gv(bN)+L.c.get('y_prev').gv(bM))/2;bR[6]=L.c.get('x_prev').gv(bM);bR[7]=L.c.get('y_prev').gv(bM);if(x.isPointInPoly(bR,{x:bK,y:bL},10)){return true}}if(bO!==-1){var bS=new Array(8);bS[0]=L.c.get('x1').gv(bM);bS[1]=L.c.get('y1').gv(bM);bS[2]=(L.c.get('x1').gv(bO)+L.c.get('x1').gv(bM))/2;bS[3]=(L.c.get('y1').gv(bO)+L.c.get('y1').gv(bM))/2;bS[4]=(L.c.get('x_prev').gv(bO)+L.c.get('x_next').gv(bM))/2;bS[5]=(L.c.get('y_prev').gv(bO)+L.c.get('y_next').gv(bM))/2;bS[6]=L.c.get('x_next').gv(bM);bS[7]=L.c.get('y_next').gv(bM);if(x.isPointInPoly(bS,{x:bK,y:bL},10)){return true}}if(bN===-1&&bO===-1){return true}return false};X.areaMarkGetHitTestExpansion=function(L,bK){return{w:0,h:0}};X.areaMarkGetDistanceToMark=function(L,bK,bL,bM){var bN=L.c.get('l_neighbor').gv(bM);var bO=L.c.get('r_neighbor').gv(bM);var bP=L.c.get('x1').gv(bM);var bQ=L.c.get('y1').gv(bM);var bR=L.c.get('x_prev').gv(bM);var bS=L.c.get('y_prev').gv(bM);var bT=L.c.get('x_next').gv(bM);var bU=L.c.get('y_next').gv(bM);var bV;{var bW=bK-bP;var bX=bL-bQ;var bY=bW*bW+bX*bX;bV=bY}if(bN!==-1){var bZ=(L.c.get('x1').gv(bN)+bP)/2;var ca=(L.c.get('y1').gv(bN)+bQ)/2;var cb=(L.c.get('x_next').gv(bN)+bP)/2;var cc=(L.c.get('y_next').gv(bN)+bQ)/2;var cd={x:(bP+bR)/2,y:(bQ+bS)/2};var ce={x:(bZ+cb)/2,y:(ca+cc)/2};var cf=x.getSquaredDistanceToLineSegment({x:bK,y:bL},cd,ce);bV=Math.min(bV,cf)}else{var cg={x:bP,y:bQ};var ch={x:bT,y:bU};var ci=x.getSquaredDistanceToLineSegment({x:bK,y:bL},cg,ch);bV=Math.min(bV,ci)}if(bO!==-1){var cj=(L.c.get('x1').gv(bO)+bP)/2;var ck=(L.c.get('y1').gv(bO)+bQ)/2;var cl=(L.c.get('x_prev').gv(bO)+bP)/2;var cm=(L.c.get('y_prev').gv(bO)+bQ)/2;var cn={x:(bP+bT)/2,y:(bQ+bU)/2};var co={x:(cj+cl)/2,y:(ck+cm)/2};var cp=x.getSquaredDistanceToLineSegment({x:bK,y:bL},cn,co);bV=Math.min(bV,cp)}else if(bN!==-1){var cq={x:bP,y:bQ};var cr={x:bR,y:bS};var cs=x.getSquaredDistanceToLineSegment({x:bK,y:bL},cq,cr);bV=Math.min(bV,cs)}return bV};X.areaMarkRectangleAreaHitTest=function(L,bK,bL){{if(x.circleIntersectsRect({center:{x:L.c.get('x').gv(bL),y:L.c.get('y').gv(bL)},radius:5/2},bK)){return true}}{if(x.circleIntersectsRect({center:{x:L.c.get('x1').gv(bL),y:L.c.get('y1').gv(bL)},radius:5/2},bK)){return true}}return false};X.areaMarkCircleAreaHitTest=function(L,bK,bL,bM,bN){if(bN){}{if(x.circleIntersectsCircle(bK,{center:{x:L.c.get('x').gv(bL),y:L.c.get('y').gv(bL)},radius:5/2})){return true}}{if(x.circleIntersectsCircle(bK,{center:{x:L.c.get('x1').gv(bL),y:L.c.get('y1').gv(bL)},radius:5/2})){return true}}return false};X.areaMarkPolygonAreaHitTest=function(L,bK,bL,bM){{if(x.polygonIntersectsCircle(bK,{center:{x:L.c.get('x').gv(bL),y:L.c.get('y').gv(bL)},radius:5/2})){return true}}{if(x.polygonIntersectsCircle(bK,{center:{x:L.c.get('x1').gv(bL),y:L.c.get('y1').gv(bL)},radius:5/2})){return true}}return false};X.getMarkLabelBoundingBox=function(L,bK){var bL={x:0,y:0,w:0,h:0};{var bM=L.getMarkLabelProperty('x',bK);var bN=L.getMarkLabelProperty('y',bK);var bO=L.getMarkLabelProperty('width',bK);var bP=-L.getMarkLabelProperty('height',bK);bM+=0;bN+=0;if(bP<0){bN+=bP;bP=Math.abs(bP)}tab.RectXYUtil.set$1(bL,Math.floor(bM),Math.floor(bN),Math.floor(bO),Math.floor(bP))}return bL};X.pieMarkExactHitTest=function(L,bK,bL,bM){var bN=L.c.get('size').gv(bM)/2;var bO=L.c.get('theta').gv(bM);var bP=L.c.get('theta1').gv(bM);if(bO>bP){var bQ=bO;bO=bP;bP=bQ}var bR={x:L.c.get('x').gv(bM),y:L.c.get('y').gv(bM)};var bS={center:bR,radius:bN};if(bP-bO>=1){return x.isPointInCircle({x:bK,y:bL},bS)}bO=tab.CanvasRenderer.toCanvasAngle(bO);bP=tab.CanvasRenderer.toCanvasAngle(bP);bO=x.normalizeAngle(bO);bP=x.normalizeAngle(bP);return x.isPointInWedge({x:bK,y:bL},bS,bO,bP)};X.pieMarkRectangleAreaHitTest=function(L,bK,bL){var bM=L.c.get('size').gv(bL)/2;var bN=L.c.get('theta').gv(bL);var bO=L.c.get('theta1').gv(bL);if(bN>bO){var bP=bN;bN=bO;bO=bP}var bQ={x:L.c.get('x').gv(bL),y:L.c.get('y').gv(bL)};var bR={center:bQ,radius:bM};if(bO-bN>=1){return x.circleIntersectsRect(bR,bK)}bN=tab.CanvasRenderer.toCanvasAngle(bN);bO=tab.CanvasRenderer.toCanvasAngle(bO);bN=x.normalizeAngle(bN);bO=x.normalizeAngle(bO);return x.rectIntersectsWedge(bK,{center:bQ,radius:bM},bN,bO)};X.pieMarkPolygonAreaHitTest=function(L,bK,bL){var bM=L.c.get('size').gv(bL)/2;var bN=L.c.get('theta').gv(bL);var bO=L.c.get('theta1').gv(bL);if(bN>bO){var bP=bN;bN=bO;bO=bP}var bQ={x:L.c.get('x').gv(bL),y:L.c.get('y').gv(bL)};var bR={center:bQ,radius:bM};if(bO-bN>=1){return x.polygonIntersectsCircle(bK,bR)}bN=tab.CanvasRenderer.toCanvasAngle(bN);bO=tab.CanvasRenderer.toCanvasAngle(bO);bN=x.normalizeAngle(bN);bO=x.normalizeAngle(bO);return x.polygonIntersectsWedge(bK,{center:bQ,radius:bM},bN,bO)};X.pieMarkCircleAreaHitTest=function(L,bK,bL,bM){if(bM){{{return x.isPointInCircle({x:L.c.get('x').gv(bL),y:L.c.get('y').gv(bL)},bK)}}}var bN=L.c.get('size').gv(bL)/2;var bO=L.c.get('theta').gv(bL);var bP=L.c.get('theta1').gv(bL);if(bO>bP){var bQ=bO;bO=bP;bP=bQ}var bR={x:L.c.get('x').gv(bL),y:L.c.get('y').gv(bL)};var bS={center:bR,radius:bN};if(bP-bO>=1){return x.circleIntersectsCircle(bS,bK)}bO=tab.CanvasRenderer.toCanvasAngle(bO);bP=tab.CanvasRenderer.toCanvasAngle(bP);bO=x.normalizeAngle(bO);bP=x.normalizeAngle(bP);return x.circleIntersectsWedge(bK,{center:bR,radius:bN},bO,bP)};X.getPieBoundingBox=function(L,bK){var bL={x:0,y:0,w:0,h:0};var bM=L.c.get('size').gv(bK)/2;{tab.RectXYUtil.unionInPlace(bL,X.$1(L.c.get('x').gv(bK),L.c.get('y').gv(bK),bM,L.c.get('theta').gv(bK),L.c.get('theta1').gv(bK)))}if(L.c.get('draw_border').gv(bK)){tab.RectXYUtil.unionInPlace(bL,X.$1(L.c.get('x').gv(bK),L.c.get('y').gv(bK),bM,L.c.get('theta').gv(bK),L.c.get('theta1').gv(bK)))}return bL};X.textMarkBuildMarkBound=function(L,bK){var bL={x:0,y:0,w:0,h:0};if(!(L.clipCase!==0&&L.useCellClipForSelection)){var bM=L.c.get('x').gv(bK);var bN=L.c.get('y').gv(bK);var bO=L.c.get('width').gv(bK);var bP=-L.c.get('height').gv(bK);bM+=-L.c.get('width').gv(bK)/2;bN+=L.c.get('height').gv(bK)/2;if(bP<0){bN+=bP;bP=Math.abs(bP)}tab.RectXYUtil.set$1(bL,Math.floor(bM),Math.floor(bN),Math.floor(bO),Math.floor(bP))}if(L.clipCase!==0&&L.useCellClipForSelection){var bQ=L.c.get('x').gv(bK);var bR=L.c.get('y').gv(bK);var bS=L.c.get('clip_width').gv(bK);var bT=-L.c.get('clip_height').gv(bK);bQ+=-L.c.get('clip_width').gv(bK)/2;bR+=L.c.get('clip_height').gv(bK)/2;if(bT<0){bR+=bT;bT=Math.abs(bT)}tab.RectXYUtil.set$1(bL,Math.floor(bQ),Math.floor(bR),Math.floor(bS),Math.floor(bT))}return bL};X.textMarkExactHitTest=function(L,bK,bL,bM){if(!(L.clipCase!==0&&L.useCellClipForSelection)){return X.$7(L.c.get('y').gv(bM)+L.c.get('height').gv(bM)/2,L.c.get('x').gv(bM)+-L.c.get('width').gv(bM)/2,-L.c.get('height').gv(bM),L.c.get('width').gv(bM),0,0,L.minBarHeight,L.minBarWidth,bK,bL)}if(L.clipCase!==0&&L.useCellClipForSelection){return X.$7(L.c.get('y').gv(bM)+L.c.get('clip_height').gv(bM)/2,L.c.get('x').gv(bM)+-L.c.get('clip_width').gv(bM)/2,-L.c.get('clip_height').gv(bM),L.c.get('clip_width').gv(bM),0,0,L.minBarHeight,L.minBarWidth,bK,bL)}return false};X.textMarkNearHitTest=function(L,bK,bL,bM){if(!(L.clipCase!==0&&L.useCellClipForSelection)){return X.$7(L.c.get('y').gv(bM)+(L.c.get('height').gv(bM)/2+10),L.c.get('x').gv(bM)+(-L.c.get('width').gv(bM)/2-10),-L.c.get('height').gv(bM)-20,L.c.get('width').gv(bM)+20,0,0,L.minBarHeight,L.minBarWidth,bK,bL)}if(L.clipCase!==0&&L.useCellClipForSelection){return X.$7(L.c.get('y').gv(bM)+L.c.get('clip_height').gv(bM)/2,L.c.get('x').gv(bM)+-L.c.get('clip_width').gv(bM)/2,-L.c.get('clip_height').gv(bM),L.c.get('clip_width').gv(bM),0,0,L.minBarHeight,L.minBarWidth,bK,bL)}return false};X.textMarkGetHitTestExpansion=function(L,bK){var bL=null;if(!(L.clipCase!==0&&L.useCellClipForSelection)){bL={w:10,h:10}}if(L.clipCase!==0&&L.useCellClipForSelection){bL={w:L.c.get('clip_width').gv(bK)/2,h:L.c.get('clip_height').gv(bK)/2}}return bL};X.textMarkGetDistanceToMark=function(L,bK,bL,bM){var bN=L.getMarkBounds(bM);return x.getSquaredDistanceToNearestSide(bN,{x:bK,y:bL})};X.textMarkRectangleAreaHitTest=function(L,bK,bL){return true};X.textMarkCircleAreaHitTest=function(L,bK,bL,bM,bN){if(bN){{{return x.isPointInCircle({x:L.c.get('x').gv(bL),y:L.c.get('y').gv(bL)},bK)}}}return x.circleIntersectsRect(bK,bM)};X.textMarkPolygonAreaHitTest=function(L,bK,bL,bM){return x.polygonIntersectsRect(bK,bM)};X.barMarkBuildMarkBound=function(L,bK){var bL={x:0,y:0,w:0,h:0};var bM=ss.Int32.trunc(L.c.get('size').gv(bK)+0.5)/2;if(L.scaleMarksInX&&L.scaleMarksInY){var bN=L.c.get('y').gv(bK);var bO=L.c.get('y1').gv(bK);var bP=L.c.get('x').gv(bK);var bQ=L.c.get('x1').gv(bK);X.$2(L,bL,bN,bP,bO,bQ)}if(!L.scaleMarksInX&&L.scaleMarksInY){var bR=L.c.get('y').gv(bK);var bS=L.c.get('y1').gv(bK);var bT=L.c.get('x').gv(bK)-bM;var bU=L.c.get('x').gv(bK)+bM;X.$2(L,bL,bR,bT,bS,bU)}if(L.scaleMarksInX&&!L.scaleMarksInY){var bV=L.c.get('y').gv(bK)-bM;var bW=L.c.get('y').gv(bK)+bM;var bX=L.c.get('x').gv(bK);var bY=L.c.get('x1').gv(bK);X.$2(L,bL,bV,bX,bW,bY)}if(!L.scaleMarksInX&&!L.scaleMarksInY){var bZ=L.c.get('y').gv(bK)-bM;var ca=L.c.get('y').gv(bK)+bM;var cb=L.c.get('x').gv(bK)-bM;var cc=L.c.get('x').gv(bK)+bM;X.$2(L,bL,bZ,cb,ca,cc)}return bL};X.barMarkExactHitTest=function(L,bK,bL,bM){var bN=L.c.get('size').gv(bM)/2;var bO=L.c.get('size').gv(bM)/2;if(L.scaleMarksInX&&L.scaleMarksInY){var bP=Math.floor(Math.min(L.c.get('y').gv(bM),L.c.get('y1').gv(bM)));var bQ=Math.ceil(Math.max(L.c.get('y').gv(bM),L.c.get('y1').gv(bM)));var bR=Math.floor(Math.min(L.c.get('x').gv(bM),L.c.get('x1').gv(bM)));var bS=Math.ceil(Math.max(L.c.get('x').gv(bM),L.c.get('x1').gv(bM)));var bT={x:bR,y:bP,w:bS-bR,h:bQ-bP};tab.RectXYUtil.outsetRectInPlace(bT,Math.ceil(0),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(bT,bK,bL)){return true}}if(!L.scaleMarksInX&&L.scaleMarksInY){var bU=Math.floor(Math.min(L.c.get('y').gv(bM),L.c.get('y1').gv(bM)));var bV=Math.ceil(Math.max(L.c.get('y').gv(bM),L.c.get('y1').gv(bM)));var bW=Math.floor(Math.min(L.c.get('x').gv(bM)-bN,L.c.get('x').gv(bM)+bN));var bX=Math.ceil(Math.max(L.c.get('x').gv(bM)-bN,L.c.get('x').gv(bM)+bN));var bY={x:bW,y:bU,w:bX-bW,h:bV-bU};tab.RectXYUtil.outsetRectInPlace(bY,Math.ceil(0),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(bY,bK,bL)){return true}}if(L.scaleMarksInX&&!L.scaleMarksInY){var bZ=Math.floor(Math.min(L.c.get('y').gv(bM)-bO,L.c.get('y').gv(bM)+bO));var ca=Math.ceil(Math.max(L.c.get('y').gv(bM)-bO,L.c.get('y').gv(bM)+bO));var cb=Math.floor(Math.min(L.c.get('x').gv(bM),L.c.get('x1').gv(bM)));var cc=Math.ceil(Math.max(L.c.get('x').gv(bM),L.c.get('x1').gv(bM)));var cd={x:cb,y:bZ,w:cc-cb,h:ca-bZ};tab.RectXYUtil.outsetRectInPlace(cd,Math.ceil(0),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(cd,bK,bL)){return true}}if(!L.scaleMarksInX&&!L.scaleMarksInY){var ce=Math.floor(Math.min(L.c.get('y').gv(bM)-bO,L.c.get('y').gv(bM)+bO));var cf=Math.ceil(Math.max(L.c.get('y').gv(bM)-bO,L.c.get('y').gv(bM)+bO));var cg=Math.floor(Math.min(L.c.get('x').gv(bM)-bN,L.c.get('x').gv(bM)+bN));var ch=Math.ceil(Math.max(L.c.get('x').gv(bM)-bN,L.c.get('x').gv(bM)+bN));var ci={x:cg,y:ce,w:ch-cg,h:cf-ce};tab.RectXYUtil.outsetRectInPlace(ci,Math.ceil(0),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(ci,bK,bL)){return true}}return false};X.barMarkNearHitTest=function(L,bK,bL,bM){var bN=L.c.get('clip_width').gv(bM)/2;var bO=L.c.get('clip_height').gv(bM)/2;var bP=L.c.get('size').gv(bM)/2;var bQ=L.c.get('size').gv(bM)/2;if(L.scaleMarksInX&&L.scaleMarksInY&&!L.paneHasCellsX&&!L.paneHasCellsY){var bR=Math.floor(Math.min(L.c.get('y').gv(bM),L.c.get('y1').gv(bM)));var bS=Math.ceil(Math.max(L.c.get('y').gv(bM),L.c.get('y1').gv(bM)));var bT=Math.floor(Math.min(L.c.get('x').gv(bM),L.c.get('x1').gv(bM)));var bU=Math.ceil(Math.max(L.c.get('x').gv(bM),L.c.get('x1').gv(bM)));var bV={x:bT,y:bR,w:bU-bT,h:bS-bR};tab.RectXYUtil.outsetRectInPlace(bV,Math.ceil(10),Math.ceil(10));if(tab.RectXYUtil.inRectPointF$1(bV,bK,bL)){return true}}if(!L.scaleMarksInX&&L.scaleMarksInY&&!L.paneHasCellsX&&!L.paneHasCellsY){var bW=Math.floor(Math.min(L.c.get('y').gv(bM),L.c.get('y1').gv(bM)));var bX=Math.ceil(Math.max(L.c.get('y').gv(bM),L.c.get('y1').gv(bM)));var bY=Math.floor(Math.min(L.c.get('x').gv(bM)-bP,L.c.get('x').gv(bM)+bP));var bZ=Math.ceil(Math.max(L.c.get('x').gv(bM)-bP,L.c.get('x').gv(bM)+bP));var ca={x:bY,y:bW,w:bZ-bY,h:bX-bW};tab.RectXYUtil.outsetRectInPlace(ca,Math.ceil(10),Math.ceil(10));if(tab.RectXYUtil.inRectPointF$1(ca,bK,bL)){return true}}if(L.scaleMarksInX&&!L.scaleMarksInY&&!L.paneHasCellsX&&!L.paneHasCellsY){var cb=Math.floor(Math.min(L.c.get('y').gv(bM)-bQ,L.c.get('y').gv(bM)+bQ));var cc=Math.ceil(Math.max(L.c.get('y').gv(bM)-bQ,L.c.get('y').gv(bM)+bQ));var cd=Math.floor(Math.min(L.c.get('x').gv(bM),L.c.get('x1').gv(bM)));var ce=Math.ceil(Math.max(L.c.get('x').gv(bM),L.c.get('x1').gv(bM)));var cf={x:cd,y:cb,w:ce-cd,h:cc-cb};tab.RectXYUtil.outsetRectInPlace(cf,Math.ceil(10),Math.ceil(10));if(tab.RectXYUtil.inRectPointF$1(cf,bK,bL)){return true}}if(!L.scaleMarksInX&&L.scaleMarksInY&&L.paneHasCellsX&&!L.paneHasCellsY){var cg=Math.floor(Math.min(L.c.get('y').gv(bM),L.c.get('y1').gv(bM)));var ch=Math.ceil(Math.max(L.c.get('y').gv(bM),L.c.get('y1').gv(bM)));var ci=Math.floor(Math.min(L.c.get('x').gv(bM)-bN,L.c.get('x').gv(bM)+bN));var cj=Math.ceil(Math.max(L.c.get('x').gv(bM)-bN,L.c.get('x').gv(bM)+bN));var ck={x:ci,y:cg,w:cj-ci,h:ch-cg};tab.RectXYUtil.outsetRectInPlace(ck,Math.ceil(0),Math.ceil(10));if(tab.RectXYUtil.inRectPointF$1(ck,bK,bL)){return true}}if(L.scaleMarksInX&&!L.scaleMarksInY&&!L.paneHasCellsX&&L.paneHasCellsY){var cl=Math.floor(Math.min(L.c.get('y').gv(bM)-bO,L.c.get('y').gv(bM)+bO));var cm=Math.ceil(Math.max(L.c.get('y').gv(bM)-bO,L.c.get('y').gv(bM)+bO));var cn=Math.floor(Math.min(L.c.get('x').gv(bM),L.c.get('x1').gv(bM)));var co=Math.ceil(Math.max(L.c.get('x').gv(bM),L.c.get('x1').gv(bM)));var cp={x:cn,y:cl,w:co-cn,h:cm-cl};tab.RectXYUtil.outsetRectInPlace(cp,Math.ceil(10),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(cp,bK,bL)){return true}}if(!L.scaleMarksInX&&!L.scaleMarksInY&&!L.paneHasCellsX&&!L.paneHasCellsY){var cq=Math.floor(Math.min(L.c.get('y').gv(bM)-bQ,L.c.get('y').gv(bM)+bQ));var cr=Math.ceil(Math.max(L.c.get('y').gv(bM)-bQ,L.c.get('y').gv(bM)+bQ));var cs=Math.floor(Math.min(L.c.get('x').gv(bM)-bP,L.c.get('x').gv(bM)+bP));var ct=Math.ceil(Math.max(L.c.get('x').gv(bM)-bP,L.c.get('x').gv(bM)+bP));var cu={x:cs,y:cq,w:ct-cs,h:cr-cq};tab.RectXYUtil.outsetRectInPlace(cu,Math.ceil(10),Math.ceil(10));if(tab.RectXYUtil.inRectPointF$1(cu,bK,bL)){return true}}if(!L.scaleMarksInX&&!L.scaleMarksInY&&L.paneHasCellsX&&!L.paneHasCellsY){var cv=Math.floor(Math.min(L.c.get('y').gv(bM)-bQ,L.c.get('y').gv(bM)+bQ));var cw=Math.ceil(Math.max(L.c.get('y').gv(bM)-bQ,L.c.get('y').gv(bM)+bQ));var cx=Math.floor(Math.min(L.c.get('x').gv(bM)-bN,L.c.get('x').gv(bM)+bN));var cy=Math.ceil(Math.max(L.c.get('x').gv(bM)-bN,L.c.get('x').gv(bM)+bN));var cz={x:cx,y:cv,w:cy-cx,h:cw-cv};tab.RectXYUtil.outsetRectInPlace(cz,Math.ceil(0),Math.ceil(10));if(tab.RectXYUtil.inRectPointF$1(cz,bK,bL)){return true}}if(!L.scaleMarksInX&&!L.scaleMarksInY&&!L.paneHasCellsX&&L.paneHasCellsY){var cA=Math.floor(Math.min(L.c.get('y').gv(bM)-bO,L.c.get('y').gv(bM)+bO));var cB=Math.ceil(Math.max(L.c.get('y').gv(bM)-bO,L.c.get('y').gv(bM)+bO));var cC=Math.floor(Math.min(L.c.get('x').gv(bM)-bP,L.c.get('x').gv(bM)+bP));var cD=Math.ceil(Math.max(L.c.get('x').gv(bM)-bP,L.c.get('x').gv(bM)+bP));var cE={x:cC,y:cA,w:cD-cC,h:cB-cA};tab.RectXYUtil.outsetRectInPlace(cE,Math.ceil(10),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(cE,bK,bL)){return true}}if(!L.scaleMarksInX&&!L.scaleMarksInY&&L.paneHasCellsX&&L.paneHasCellsY){var cF=Math.floor(Math.min(L.c.get('y').gv(bM)-bO,L.c.get('y').gv(bM)+bO));var cG=Math.ceil(Math.max(L.c.get('y').gv(bM)-bO,L.c.get('y').gv(bM)+bO));var cH=Math.floor(Math.min(L.c.get('x').gv(bM)-bN,L.c.get('x').gv(bM)+bN));var cI=Math.ceil(Math.max(L.c.get('x').gv(bM)-bN,L.c.get('x').gv(bM)+bN));var cJ={x:cH,y:cF,w:cI-cH,h:cG-cF};tab.RectXYUtil.outsetRectInPlace(cJ,Math.ceil(0),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(cJ,bK,bL)){return true}}if(L.scaleMarksInX&&!L.scaleMarksInY&&L.paneHasCellsX&&L.paneHasCellsY){var cK=Math.floor(Math.min(L.c.get('y').gv(bM)-bO,L.c.get('y').gv(bM)+bO));var cL=Math.ceil(Math.max(L.c.get('y').gv(bM)-bO,L.c.get('y').gv(bM)+bO));var cM=Math.floor(Math.min(L.c.get('x').gv(bM),L.c.get('x1').gv(bM)));var cN=Math.ceil(Math.max(L.c.get('x').gv(bM),L.c.get('x1').gv(bM)));var cO={x:cM,y:cK,w:cN-cM,h:cL-cK};tab.RectXYUtil.outsetRectInPlace(cO,Math.ceil(0),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(cO,bK,bL)){return true}}if(!L.scaleMarksInX&&L.scaleMarksInY&&L.paneHasCellsX&&L.paneHasCellsY){var cP=Math.floor(Math.min(L.c.get('y').gv(bM),L.c.get('y1').gv(bM)));var cQ=Math.ceil(Math.max(L.c.get('y').gv(bM),L.c.get('y1').gv(bM)));var cR=Math.floor(Math.min(L.c.get('x').gv(bM)-bN,L.c.get('x').gv(bM)+bN));var cS=Math.ceil(Math.max(L.c.get('x').gv(bM)-bN,L.c.get('x').gv(bM)+bN));var cT={x:cR,y:cP,w:cS-cR,h:cQ-cP};tab.RectXYUtil.outsetRectInPlace(cT,Math.ceil(0),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(cT,bK,bL)){return true}}if(L.scaleMarksInX&&L.scaleMarksInY&&L.paneHasCellsX&&L.paneHasCellsY){var cU=Math.floor(Math.min(L.c.get('y').gv(bM),L.c.get('y1').gv(bM)));var cV=Math.ceil(Math.max(L.c.get('y').gv(bM),L.c.get('y1').gv(bM)));var cW=Math.floor(Math.min(L.c.get('x').gv(bM),L.c.get('x1').gv(bM)));var cX=Math.ceil(Math.max(L.c.get('x').gv(bM),L.c.get('x1').gv(bM)));var cY={x:cW,y:cU,w:cX-cW,h:cV-cU};tab.RectXYUtil.outsetRectInPlace(cY,Math.ceil(0),Math.ceil(0));if(tab.RectXYUtil.inRectPointF$1(cY,bK,bL)){return true}}return false};X.barMarkGetHitTestExpansion=function(L,bK){var bL=null;if(L.scaleMarksInX&&L.scaleMarksInY&&!L.paneHasCellsX&&!L.paneHasCellsY){bL={w:10,h:10}}if(!L.scaleMarksInX&&L.scaleMarksInY&&!L.paneHasCellsX&&!L.paneHasCellsY){bL={w:5,h:10}}if(L.scaleMarksInX&&!L.scaleMarksInY&&!L.paneHasCellsX&&!L.paneHasCellsY){bL={w:10,h:5}}if(!L.scaleMarksInX&&L.scaleMarksInY&&L.paneHasCellsX&&!L.paneHasCellsY){bL={w:L.c.get('clip_width').gv(bK)/2,h:10}}if(L.scaleMarksInX&&!L.scaleMarksInY&&!L.paneHasCellsX&&L.paneHasCellsY){bL={w:10,h:L.c.get('clip_height').gv(bK)/2}}if(!L.scaleMarksInX&&!L.scaleMarksInY&&!L.paneHasCellsX&&!L.paneHasCellsY){bL={w:5,h:5}}if(!L.scaleMarksInX&&!L.scaleMarksInY&&!L.paneHasCellsX&&L.paneHasCellsY){bL={w:5,h:L.c.get('clip_height').gv(bK)}}if(!L.scaleMarksInX&&!L.scaleMarksInY&&L.paneHasCellsX&&!L.paneHasCellsY){bL={w:L.c.get('clip_width').gv(bK)/2,h:10}}if(!L.scaleMarksInX&&!L.scaleMarksInY&&L.paneHasCellsX&&L.paneHasCellsY){bL={w:L.c.get('clip_width').gv(bK)/2,h:L.c.get('clip_height').gv(bK)/2}}if(L.scaleMarksInX&&!L.scaleMarksInY&&L.paneHasCellsX&&L.paneHasCellsY){bL={w:L.c.get('clip_width').gv(bK)/2,h:L.c.get('clip_height').gv(bK)/2}}if(!L.scaleMarksInX&&L.scaleMarksInY&&L.paneHasCellsX&&L.paneHasCellsY){bL={w:L.c.get('clip_width').gv(bK)/2,h:L.c.get('clip_height').gv(bK)/2}}if(L.scaleMarksInX&&L.scaleMarksInY&&L.paneHasCellsX&&L.paneHasCellsY){bL={w:L.c.get('clip_width').gv(bK)/2,h:L.c.get('clip_height').gv(bK)/2}}return bL};X.barMarkGetDistanceToMark=function(L,bK,bL,bM){var bN=L.getMarkBounds(bM);return x.getSquaredDistanceToNearestSide(bN,{x:bK,y:bL})};X.barMarkRectangleAreaHitTest=function(L,bK,bL){return true};X.barMarkCircleAreaHitTest=function(L,bK,bL,bM,bN){if(bN){if(!L.scaleMarksInX&&!L.scaleMarksInY&&!L.paneHasCellsX&&!L.paneHasCellsY){{return x.isPointInCircle({x:L.c.get('x').gv(bL),y:L.c.get('y').gv(bL)},bK)}}}return x.circleIntersectsRect(bK,bM)};X.barMarkPolygonAreaHitTest=function(L,bK,bL,bM){return x.polygonIntersectsRect(bK,bM)};X.lineMarkBuildMarkBound=function(L,bK){var bL=L.c.get('l_neighbor').gv(bK);var bM=L.c.get('r_neighbor').gv(bK);var bN=L.lineInterpolation;var bO=L.lineMarkerPosition;var bP={x:0,y:0,w:0,h:0};{tab.RectXYUtil.encompassCircleInPlace(bP,L.c.get('x').gv(bK),L.c.get('y').gv(bK),(L.c.get('size').gv(bK)+20)/2)}if(bL!==-1&&bN==='lim-linear'){X.$0(bP,(L.c.get('x').gv(bL)+L.c.get('x').gv(bK))/2,(L.c.get('y').gv(bL)+L.c.get('y').gv(bK))/2,(L.c.get('size').gv(bL)+L.c.get('size').gv(bK))/2+20,L.c.get('x').gv(bK),L.c.get('y').gv(bK),L.c.get('size').gv(bK)+20)}if(bM!==-1&&bN==='lim-linear'){X.$0(bP,L.c.get('x').gv(bK),L.c.get('y').gv(bK),L.c.get('size').gv(bK)+20,(L.c.get('x').gv(bK)+L.c.get('x').gv(bM))/2,(L.c.get('y').gv(bK)+L.c.get('y').gv(bM))/2,(L.c.get('size').gv(bK)+L.c.get('size').gv(bM))/2+20)}if(bM!==-1&&(bN==='lim-step'||bN==='lim-jump')&&bO==='lmp-left'){tab.RectXYUtil.encompassCircleInPlace(bP,L.c.get('x').gv(bM),L.c.get('y').gv(bK),(L.c.get('size').gv(bK)+20)/2)}if(bL!==-1&&bN==='lim-step'&&bO==='lmp-left'){X.$0(bP,L.c.get('x').gv(bK),L.c.get('y').gv(bL),L.c.get('size').gv(bL)+20,L.c.get('x').gv(bK),L.c.get('y').gv(bK),L.c.get('size').gv(bK)+20)}if(bM!==-1&&(bN==='lim-step'||bN==='lim-jump')&&bO==='lmp-left'){X.$0(bP,L.c.get('x').gv(bK),L.c.get('y').gv(bK),L.c.get('size').gv(bK)+20,L.c.get('x').gv(bM),L.c.get('y').gv(bK),L.c.get('size').gv(bK)+20)}if(bL!==-1&&bN==='lim-step'&&bO==='lmp-center'){X.$0(bP,(L.c.get('x').gv(bL)+L.c.get('x').gv(bK))/2,(L.c.get('y').gv(bL)+L.c.get('y').gv(bK))/2,(L.c.get('size').gv(bL)+L.c.get('size').gv(bK))/2+20,(L.c.get('x').gv(bL)+L.c.get('x').gv(bK))/2,L.c.get('y').gv(bK),L.c.get('size').gv(bK)+20)}if(bM!==-1&&bN==='lim-step'&&bO==='lmp-center'){X.$0(bP,(L.c.get('x').gv(bM)+L.c.get('x').gv(bK))/2,L.c.get('y').gv(bK),L.c.get('size').gv(bK)+20,(L.c.get('x').gv(bM)+L.c.get('x').gv(bK))/2,(L.c.get('y').gv(bK)+L.c.get('y').gv(bM))/2,(L.c.get('size').gv(bK)+L.c.get('size').gv(bM))/2+20)}if(bL!==-1&&(bN==='lim-step'||bN==='lim-jump')&&bO==='lmp-center'){X.$0(bP,(L.c.get('x').gv(bL)+L.c.get('x').gv(bK))/2,L.c.get('y').gv(bK),L.c.get('size').gv(bK)+20,L.c.get('x').gv(bK),L.c.get('y').gv(bK),L.c.get('size').gv(bK)+20)}if(bM!==-1&&(bN==='lim-step'||bN==='lim-jump')&&bO==='lmp-center'){X.$0(bP,L.c.get('x').gv(bK),L.c.get('y').gv(bK),L.c.get('size').gv(bK)+20,(L.c.get('x').gv(bM)+L.c.get('x').gv(bK))/2,L.c.get('y').gv(bK),L.c.get('size').gv(bK)+20)}if(bL!==-1&&(bN==='lim-step'||bN==='lim-jump')&&bO==='lmp-right'){tab.RectXYUtil.encompassCircleInPlace(bP,L.c.get('x').gv(bL),L.c.get('y').gv(bK),(L.c.get('size').gv(bK)+20)/2)}if(bM!==-1&&bN==='lim-step'&&bO==='lmp-right'){X.$0(bP,L.c.get('x').gv(bK),L.c.get('y').gv(bK),L.c.get('size').gv(bK)+20,L.c.get('x').gv(bK),L.c.get('y').gv(bM),L.c.get('size').gv(bM)+20)}if(bL!==-1&&(bN==='lim-step'||bN==='lim-jump')&&bO==='lmp-right'){X.$0(bP,L.c.get('x').gv(bL),L.c.get('y').gv(bK),L.c.get('size').gv(bK)+20,L.c.get('x').gv(bK),L.c.get('y').gv(bK),L.c.get('size').gv(bK)+20)}return bP};X.lineMarkExactHitTest=function(L,bK,bL,bM){var bN=L.c.get('l_neighbor').gv(bM);var bO=L.c.get('r_neighbor').gv(bM);var bP=L.lineInterpolation;var bQ=L.lineMarkerPosition;{if(x.isPointInCircle({x:bK,y:bL},{center:{x:L.c.get('x').gv(bM),y:L.c.get('y').gv(bM)},radius:L.c.get('size').gv(bM)/2})){return true}}if(bN!==-1&&bP==='lim-linear'){if(X.$8(bK,bL,(L.c.get('x').gv(bN)+L.c.get('x').gv(bM))/2,(L.c.get('y').gv(bN)+L.c.get('y').gv(bM))/2,(L.c.get('size').gv(bN)+L.c.get('size').gv(bM))/2,L.c.get('x').gv(bM),L.c.get('y').gv(bM),L.c.get('size').gv(bM))){return true}}if(bO!==-1&&bP==='lim-linear'){if(X.$8(bK,bL,L.c.get('x').gv(bM),L.c.get('y').gv(bM),L.c.get('size').gv(bM),(L.c.get('x').gv(bM)+L.c.get('x').gv(bO))/2,(L.c.get('y').gv(bM)+L.c.get('y').gv(bO))/2,(L.c.get('size').gv(bM)+L.c.get('size').gv(bO))/2)){return true}}if(bO!==-1&&(bP==='lim-step'||bP==='lim-jump')&&bQ==='lmp-left'){if(x.isPointInCircle({x:bK,y:bL},{center:{x:L.c.get('x').gv(bO),y:L.c.get('y').gv(bM)},radius:L.c.get('size').gv(bM)/2})){return true}}if(bN!==-1&&bP==='lim-step'&&bQ==='lmp-left'){if(X.$8(bK,bL,L.c.get('x').gv(bM),L.c.get('y').gv(bN),L.c.get('size').gv(bN),L.c.get('x').gv(bM),L.c.get('y').gv(bM),L.c.get('size').gv(bM))){return true}}if(bO!==-1&&(bP==='lim-step'||bP==='lim-jump')&&bQ==='lmp-left'){if(X.$8(bK,bL,L.c.get('x').gv(bM),L.c.get('y').gv(bM),L.c.get('size').gv(bM),L.c.get('x').gv(bO),L.c.get('y').gv(bM),L.c.get('size').gv(bM))){return true}}if(bN!==-1&&bP==='lim-step'&&bQ==='lmp-center'){if(X.$8(bK,bL,(L.c.get('x').gv(bN)+L.c.get('x').gv(bM))/2,(L.c.get('y').gv(bN)+L.c.get('y').gv(bM))/2,(L.c.get('size').gv(bN)+L.c.get('size').gv(bM))/2,(L.c.get('x').gv(bN)+L.c.get('x').gv(bM))/2,L.c.get('y').gv(bM),L.c.get('size').gv(bM))){return true}}if(bO!==-1&&bP==='lim-step'&&bQ==='lmp-center'){if(X.$8(bK,bL,(L.c.get('x').gv(bO)+L.c.get('x').gv(bM))/2,L.c.get('y').gv(bM),L.c.get('size').gv(bM),(L.c.get('x').gv(bO)+L.c.get('x').gv(bM))/2,(L.c.get('y').gv(bM)+L.c.get('y').gv(bO))/2,(L.c.get('size').gv(bM)+L.c.get('size').gv(bO))/2)){return true}}if(bN!==-1&&(bP==='lim-step'||bP==='lim-jump')&&bQ==='lmp-center'){if(X.$8(bK,bL,(L.c.get('x').gv(bN)+L.c.get('x').gv(bM))/2,L.c.get('y').gv(bM),L.c.get('size').gv(bM),L.c.get('x').gv(bM),L.c.get('y').gv(bM),L.c.get('size').gv(bM))){return true}}if(bO!==-1&&(bP==='lim-step'||bP==='lim-jump')&&bQ==='lmp-center'){if(X.$8(bK,bL,L.c.get('x').gv(bM),L.c.get('y').gv(bM),L.c.get('size').gv(bM),(L.c.get('x').gv(bO)+L.c.get('x').gv(bM))/2,L.c.get('y').gv(bM),L.c.get('size').gv(bM))){return true}}if(bN!==-1&&(bP==='lim-step'||bP==='lim-jump')&&bQ==='lmp-right'){if(x.isPointInCircle({x:bK,y:bL},{center:{x:L.c.get('x').gv(bN),y:L.c.get('y').gv(bM)},radius:L.c.get('size').gv(bM)/2})){return true}}if(bO!==-1&&bP==='lim-step'&&bQ==='lmp-right'){if(X.$8(bK,bL,L.c.get('x').gv(bM),L.c.get('y').gv(bM),L.c.get('size').gv(bM),L.c.get('x').gv(bM),L.c.get('y').gv(bO),L.c.get('size').gv(bO))){return true}}if(bN!==-1&&(bP==='lim-step'||bP==='lim-jump')&&bQ==='lmp-right'){if(X.$8(bK,bL,L.c.get('x').gv(bN),L.c.get('y').gv(bM),L.c.get('size').gv(bM),L.c.get('x').gv(bM),L.c.get('y').gv(bM),L.c.get('size').gv(bM))){return true}}return false};X.lineMarkNearHitTest=function(L,bK,bL,bM){var bN=L.c.get('l_neighbor').gv(bM);var bO=L.c.get('r_neighbor').gv(bM);var bP=L.lineInterpolation;var bQ=L.lineMarkerPosition;{if(x.isPointInCircle({x:bK,y:bL},{center:{x:L.c.get('x').gv(bM),y:L.c.get('y').gv(bM)},radius:(L.c.get('size').gv(bM)+20)/2})){return true}}if(bN!==-1&&bP==='lim-linear'){if(X.$8(bK,bL,(L.c.get('x').gv(bN)+L.c.get('x').gv(bM))/2,(L.c.get('y').gv(bN)+L.c.get('y').gv(bM))/2,(L.c.get('size').gv(bN)+L.c.get('size').gv(bM))/2+20,L.c.get('x').gv(bM),L.c.get('y').gv(bM),L.c.get('size').gv(bM)+20)){return true}}if(bO!==-1&&bP==='lim-linear'){if(X.$8(bK,bL,L.c.get('x').gv(bM),L.c.get('y').gv(bM),L.c.get('size').gv(bM)+20,(L.c.get('x').gv(bM)+L.c.get('x').gv(bO))/2,(L.c.get('y').gv(bM)+L.c.get('y').gv(bO))/2,(L.c.get('size').gv(bM)+L.c.get('size').gv(bO))/2+20)){return true}}if(bO!==-1&&(bP==='lim-step'||bP==='lim-jump')&&bQ==='lmp-left'){if(x.isPointInCircle({x:bK,y:bL},{center:{x:L.c.get('x').gv(bO),y:L.c.get('y').gv(bM)},radius:(L.c.get('size').gv(bM)+20)/2})){return true}}if(bN!==-1&&bP==='lim-step'&&bQ==='lmp-left'){if(X.$8(bK,bL,L.c.get('x').gv(bM),L.c.get('y').gv(bN),L.c.get('size').gv(bN)+20,L.c.get('x').gv(bM),L.c.get('y').gv(bM),L.c.get('size').gv(bM)+20)){return true}}if(bO!==-1&&(bP==='lim-step'||bP==='lim-jump')&&bQ==='lmp-left'){if(X.$8(bK,bL,L.c.get('x').gv(bM),L.c.get('y').gv(bM),L.c.get('size').gv(bM)+20,L.c.get('x').gv(bO),L.c.get('y').gv(bM),L.c.get('size').gv(bM)+20)){return true}}if(bN!==-1&&bP==='lim-step'&&bQ==='lmp-center'){if(X.$8(bK,bL,(L.c.get('x').gv(bN)+L.c.get('x').gv(bM))/2,(L.c.get('y').gv(bN)+L.c.get('y').gv(bM))/2,(L.c.get('size').gv(bN)+L.c.get('size').gv(bM))/2+20,(L.c.get('x').gv(bN)+L.c.get('x').gv(bM))/2,L.c.get('y').gv(bM),L.c.get('size').gv(bM)+20)){return true}}if(bO!==-1&&bP==='lim-step'&&bQ==='lmp-center'){if(X.$8(bK,bL,(L.c.get('x').gv(bO)+L.c.get('x').gv(bM))/2,L.c.get('y').gv(bM),L.c.get('size').gv(bM)+20,(L.c.get('x').gv(bO)+L.c.get('x').gv(bM))/2,(L.c.get('y').gv(bM)+L.c.get('y').gv(bO))/2,(L.c.get('size').gv(bM)+L.c.get('size').gv(bO))/2+20)){return true}}if(bN!==-1&&(bP==='lim-step'||bP==='lim-jump')&&bQ==='lmp-center'){if(X.$8(bK,bL,(L.c.get('x').gv(bN)+L.c.get('x').gv(bM))/2,L.c.get('y').gv(bM),L.c.get('size').gv(bM)+20,L.c.get('x').gv(bM),L.c.get('y').gv(bM),L.c.get('size').gv(bM)+20)){return true}}if(bO!==-1&&(bP==='lim-step'||bP==='lim-jump')&&bQ==='lmp-center'){if(X.$8(bK,bL,L.c.get('x').gv(bM),L.c.get('y').gv(bM),L.c.get('size').gv(bM)+20,(L.c.get('x').gv(bO)+L.c.get('x').gv(bM))/2,L.c.get('y').gv(bM),L.c.get('size').gv(bM)+20)){return true}}if(bN!==-1&&(bP==='lim-step'||bP==='lim-jump')&&bQ==='lmp-right'){if(x.isPointInCircle({x:bK,y:bL},{center:{x:L.c.get('x').gv(bN),y:L.c.get('y').gv(bM)},radius:(L.c.get('size').gv(bM)+20)/2})){return true}}if(bO!==-1&&bP==='lim-step'&&bQ==='lmp-right'){if(X.$8(bK,bL,L.c.get('x').gv(bM),L.c.get('y').gv(bM),L.c.get('size').gv(bM)+20,L.c.get('x').gv(bM),L.c.get('y').gv(bO),L.c.get('size').gv(bO)+20)){return true}}if(bN!==-1&&(bP==='lim-step'||bP==='lim-jump')&&bQ==='lmp-right'){if(X.$8(bK,bL,L.c.get('x').gv(bN),L.c.get('y').gv(bM),L.c.get('size').gv(bM)+20,L.c.get('x').gv(bM),L.c.get('y').gv(bM),L.c.get('size').gv(bM)+20)){return true}}return false};X.lineMarkGetHitTestExpansion=function(L,bK){return{w:0,h:0}};X.lineMarkGetDistanceToMark=function(L,bK,bL,bM){var bN=L.c.get('l_neighbor').gv(bM);var bO=L.c.get('r_neighbor').gv(bM);var bP=L.c.get('x1').gv(bM);var bQ=L.c.get('y1').gv(bM);var bR;{var bS=bK-bP;var bT=bL-bQ;var bU=bS*bS+bT*bT;bR=bU}if(bN!==-1){var bV={x:(L.c.get('x').gv(bN)+bP)/2,y:(L.c.get('y').gv(bN)+bQ)/2};var bW={x:bP,y:bQ};var bX=x.getSquaredDistanceToLineSegment({x:bK,y:bL},bV,bW);bR=Math.min(bR,bX)}if(bO!==-1){var bY={x:bP,y:bQ};var bZ={x:(L.c.get('x').gv(bO)+bP)/2,y:(L.c.get('y').gv(bO)+bQ)/2};var ca=x.getSquaredDistanceToLineSegment({x:bK,y:bL},bY,bZ);bR=Math.min(bR,ca)}return bR};X.lineMarkRectangleAreaHitTest=function(L,bK,bL){{if(x.circleIntersectsRect({center:{x:L.c.get('x').gv(bL),y:L.c.get('y').gv(bL)},radius:L.c.get('size').gv(bL)/2},bK)){return true}}return false};X.lineMarkCircleAreaHitTest=function(L,bK,bL,bM,bN){if(bN){{{return x.isPointInCircle({x:L.c.get('x').gv(bL),y:L.c.get('y').gv(bL)},bK)}}}{if(x.circleIntersectsCircle(bK,{center:{x:L.c.get('x').gv(bL),y:L.c.get('y').gv(bL)},radius:L.c.get('size').gv(bL)/2})){return true}}return false};X.lineMarkPolygonAreaHitTest=function(L,bK,bL,bM){{if(x.polygonIntersectsCircle(bK,{center:{x:L.c.get('x').gv(bL),y:L.c.get('y').gv(bL)},radius:L.c.get('size').gv(bL)/2})){return true}}return false};X.shapeMarkBuildMarkBound=function(L,bK){var bL=L.c.get('shape_id').gv(bK);switch(bL){case'shapeIDCircle':{var bM={x:0,y:0,w:0,h:0};{var bN=Math.round(L.c.get('x').gv(bK));var bO=Math.round(L.c.get('y').gv(bK));var bP=Math.ceil(L.c.get('size').gv(bK)*0.958333333333333/2);var bQ=2*bP;tab.RectXYUtil.unionInPlace$1(bM,bN-bP,bO-bP,bQ,bQ)}return bM}case'shapeIDFilledCircle':{var bR={x:0,y:0,w:0,h:0};{var bS=Math.round(L.c.get('x').gv(bK));var bT=Math.round(L.c.get('y').gv(bK));var bU=Math.ceil(L.c.get('size').gv(bK)*0.979166666666667/2);var bV=2*bU;tab.RectXYUtil.unionInPlace$1(bR,bS-bU,bT-bU,bV,bV)}return bR}case'shapeIDUnscaledFilledCircle':{var bW={x:0,y:0,w:0,h:0};{var bX=Math.round(L.c.get('x').gv(bK));var bY=Math.round(L.c.get('y').gv(bK));var bZ=Math.ceil(L.c.get('size').gv(bK)/2);var ca=2*bZ;tab.RectXYUtil.unionInPlace$1(bW,bX-bZ,bY-bZ,ca,ca)}return bW}case'shapeIDSquare':{var cb={x:0,y:0,w:0,h:0};{var cc=Math.round(L.c.get('x').gv(bK));var cd=Math.round(L.c.get('y').gv(bK));var ce=Math.ceil(L.c.get('size').gv(bK)*0.895833333333333/2);var cf=2*ce;tab.RectXYUtil.unionInPlace$1(cb,cc-ce,cd-ce,cf,cf)}return cb}case'shapeIDFilledSquare':{var cg={x:0,y:0,w:0,h:0};{var ch=Math.round(L.c.get('x').gv(bK));var ci=Math.round(L.c.get('y').gv(bK));var cj=Math.ceil(L.c.get('size').gv(bK)*0.9375/2);var ck=2*cj;tab.RectXYUtil.unionInPlace$1(cg,ch-cj,ci-cj,ck,ck)}return cg}case'shapeIDAsterisk':{var cl={x:0,y:0,w:0,h:0};{var cm=Math.round(L.c.get('x').gv(bK));var cn=Math.round(L.c.get('y').gv(bK));var co=Math.ceil(L.c.get('size').gv(bK)*0.958333333333333/2);var cp=2*co;tab.RectXYUtil.unionInPlace$1(cl,cm-co,cn-co,cp,cp)}return cl}case'shapeIDPlus':{var cq={x:0,y:0,w:0,h:0};{var cr=Math.round(L.c.get('x').gv(bK));var cs=Math.round(L.c.get('y').gv(bK));var ct=Math.ceil(L.c.get('size').gv(bK)*0.916666666666667/2);var cu=2*ct;tab.RectXYUtil.unionInPlace$1(cq,cr-ct,cs-ct,cu,cu)}return cq}case'shapeIDFilledPlus':{var cv={x:0,y:0,w:0,h:0};{var cw=Math.round(L.c.get('x').gv(bK));var cx=Math.round(L.c.get('y').gv(bK));var cy=Math.ceil(L.c.get('size').gv(bK)*0.9375/2);var cz=2*cy;tab.RectXYUtil.unionInPlace$1(cv,cw-cy,cx-cy,cz,cz)}return cv}case'shapeIDTimes':{var cA={x:0,y:0,w:0,h:0};{var cB=Math.round(L.c.get('x').gv(bK));var cC=Math.round(L.c.get('y').gv(bK));var cD=Math.ceil(L.c.get('size').gv(bK)*0.875/2);var cE=2*cD;tab.RectXYUtil.unionInPlace$1(cA,cB-cD,cC-cD,cE,cE)}return cA}case'shapeIDFilledTimes':{var cF={x:0,y:0,w:0,h:0};{var cG=Math.round(L.c.get('x').gv(bK));var cH=Math.round(L.c.get('y').gv(bK));var cI=Math.ceil(L.c.get('size').gv(bK)*0.9375/2);var cJ=2*cI;tab.RectXYUtil.unionInPlace$1(cF,cG-cI,cH-cI,cJ,cJ)}return cF}case'shapeIDDiamond':{var cK={x:0,y:0,w:0,h:0};{var cL=Math.round(L.c.get('x').gv(bK));var cM=Math.round(L.c.get('y').gv(bK));var cN=Math.ceil(L.c.get('size').gv(bK)*1.04166666666667/2);var cO=2*cN;tab.RectXYUtil.unionInPlace$1(cK,cL-cN,cM-cN,cO,cO)}return cK}case'shapeIDFilledDiamond':{var cP={x:0,y:0,w:0,h:0};{var cQ=Math.round(L.c.get('x').gv(bK));var cR=Math.round(L.c.get('y').gv(bK));var cS=Math.ceil(L.c.get('size').gv(bK)*1.04166666666667/2);var cT=2*cS;tab.RectXYUtil.unionInPlace$1(cP,cQ-cS,cR-cS,cT,cT)}return cP}case'shapeIDTriangle':{var cU={x:0,y:0,w:0,h:0};{var cV=Math.round(L.c.get('x').gv(bK));var cW=Math.round(L.c.get('y').gv(bK));var cX=Math.ceil(L.c.get('size').gv(bK)*0.895833333333333/2);var cY=2*cX;tab.RectXYUtil.unionInPlace$1(cU,cV-cX,cW-cX,cY,cY)}return cU}case'shapeIDFilledTriangle':{var cZ={x:0,y:0,w:0,h:0};{var da=Math.round(L.c.get('x').gv(bK));var db=Math.round(L.c.get('y').gv(bK));var dc=Math.ceil(L.c.get('size').gv(bK)*0.916666666666667/2);var dd=2*dc;tab.RectXYUtil.unionInPlace$1(cZ,da-dc,db-dc,dd,dd)}return cZ}case'shapeIDDownTriangle':{var de={x:0,y:0,w:0,h:0};{var df=Math.round(L.c.get('x').gv(bK));var dg=Math.round(L.c.get('y').gv(bK));var dh=Math.ceil(L.c.get('size').gv(bK)*0.895833333333333/2);var di=2*dh;tab.RectXYUtil.unionInPlace$1(de,df-dh,dg-dh,di,di)}return de}case'shapeIDFilledDownTriangle':{var dj={x:0,y:0,w:0,h:0};{var dk=Math.round(L.c.get('x').gv(bK));var dl=Math.round(L.c.get('y').gv(bK));var dm=Math.ceil(L.c.get('size').gv(bK)*0.916666666666667/2);var dn=2*dm;tab.RectXYUtil.unionInPlace$1(dj,dk-dm,dl-dm,dn,dn)}return dj}case'shapeIDLeftTriangle':{var dp={x:0,y:0,w:0,h:0};{var dq=Math.round(L.c.get('x').gv(bK));var dr=Math.round(L.c.get('y').gv(bK));var ds=Math.ceil(L.c.get('size').gv(bK)*0.895833333333333/2);var dt=2*ds;tab.RectXYUtil.unionInPlace$1(dp,dq-ds,dr-ds,dt,dt)}return dp}case'shapeIDFilledLeftTriangle':{var du={x:0,y:0,w:0,h:0};{var dv=Math.round(L.c.get('x').gv(bK));var dw=Math.round(L.c.get('y').gv(bK));var dx=Math.ceil(L.c.get('size').gv(bK)*0.916666666666667/2);var dy=2*dx;tab.RectXYUtil.unionInPlace$1(du,dv-dx,dw-dx,dy,dy)}return du}case'shapeIDRightTriangle':{var dz={x:0,y:0,w:0,h:0};{var dA=Math.round(L.c.get('x').gv(bK));var dB=Math.round(L.c.get('y').gv(bK));var dC=Math.ceil(L.c.get('size').gv(bK)*0.895833333333333/2);var dD=2*dC;tab.RectXYUtil.unionInPlace$1(dz,dA-dC,dB-dC,dD,dD)}return dz}case'shapeIDFilledRightTriangle':{var dE={x:0,y:0,w:0,h:0};{var dF=Math.round(L.c.get('x').gv(bK));var dG=Math.round(L.c.get('y').gv(bK));var dH=Math.ceil(L.c.get('size').gv(bK)*0.916666666666667/2);var dI=2*dH;tab.RectXYUtil.unionInPlace$1(dE,dF-dH,dG-dH,dI,dI)}return dE}case'shapeIDFilledStar':{var dJ={x:0,y:0,w:0,h:0};{var dK=Math.round(L.c.get('x').gv(bK));var dL=Math.round(L.c.get('y').gv(bK));var dM=Math.ceil(L.c.get('size').gv(bK)*1.09166666666667/2);var dN=2*dM;tab.RectXYUtil.unionInPlace$1(dJ,dK-dM,dL-dM,dN,dN)}return dJ}default:{if(bL>null){var dO=Math.round(L.c.get('x').gv(bK));var dP=Math.round(L.c.get('y').gv(bK));var dQ=Math.ceil(L.c.get('size').gv(bK));var dR=Math.ceil(dQ/2);var dS={x:dO-dR,y:dP-dR,w:dQ,h:dQ};return dS}break}}return{x:0,y:0,w:0,h:0}};X.shapeMarkExactHitTest=function(L,bK,bL,bM){var bN=L.c.get('shape_id').gv(bM);switch(bN){case'shapeIDCircle':{{if(x.isPointInCircle({x:bK,y:bL},{center:{x:L.c.get('x').gv(bM),y:L.c.get('y').gv(bM)},radius:L.c.get('size').gv(bM)*0.958333333333333/2})){return true}}return false}case'shapeIDFilledCircle':{{if(x.isPointInCircle({x:bK,y:bL},{center:{x:L.c.get('x').gv(bM),y:L.c.get('y').gv(bM)},radius:L.c.get('size').gv(bM)*0.979166666666667/2})){return true}}return false}case'shapeIDUnscaledFilledCircle':{{if(x.isPointInCircle({x:bK,y:bL},{center:{x:L.c.get('x').gv(bM),y:L.c.get('y').gv(bM)},radius:L.c.get('size').gv(bM)/2})){return true}}return false}case'shapeIDSquare':{{var bO=L.c.get('size').gv(bM)*0.895833333333333/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(bM)-bO,L.c.get('y').gv(bM)-bO,L.c.get('size').gv(bM)*0.895833333333333,L.c.get('size').gv(bM)*0.895833333333333,bK,bL)){return true}}return false}case'shapeIDFilledSquare':{{var bP=L.c.get('size').gv(bM)*0.9375/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(bM)-bP,L.c.get('y').gv(bM)-bP,L.c.get('size').gv(bM)*0.9375,L.c.get('size').gv(bM)*0.9375,bK,bL)){return true}}return false}case'shapeIDAsterisk':{{var bQ=L.c.get('size').gv(bM)*0.958333333333333/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(bM)-bQ,L.c.get('y').gv(bM)-bQ,L.c.get('size').gv(bM)*0.958333333333333,L.c.get('size').gv(bM)*0.958333333333333,bK,bL)){return true}}return false}case'shapeIDPlus':{{var bR=L.c.get('size').gv(bM)*0.916666666666667/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(bM)-bR,L.c.get('y').gv(bM)-bR,L.c.get('size').gv(bM)*0.916666666666667,L.c.get('size').gv(bM)*0.916666666666667,bK,bL)){return true}}return false}case'shapeIDFilledPlus':{{var bS=L.c.get('size').gv(bM)*0.9375/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(bM)-bS,L.c.get('y').gv(bM)-bS,L.c.get('size').gv(bM)*0.9375,L.c.get('size').gv(bM)*0.9375,bK,bL)){return true}}return false}case'shapeIDTimes':{{var bT=L.c.get('size').gv(bM)*0.875/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(bM)-bT,L.c.get('y').gv(bM)-bT,L.c.get('size').gv(bM)*0.875,L.c.get('size').gv(bM)*0.875,bK,bL)){return true}}return false}case'shapeIDFilledTimes':{{var bU=L.c.get('size').gv(bM)*0.9375/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(bM)-bU,L.c.get('y').gv(bM)-bU,L.c.get('size').gv(bM)*0.9375,L.c.get('size').gv(bM)*0.9375,bK,bL)){return true}}return false}case'shapeIDDiamond':{{var bV=L.c.get('size').gv(bM)*1.04166666666667/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(bM)-bV,L.c.get('y').gv(bM)-bV,L.c.get('size').gv(bM)*1.04166666666667,L.c.get('size').gv(bM)*1.04166666666667,bK,bL)){return true}}return false}case'shapeIDFilledDiamond':{{var bW=L.c.get('size').gv(bM)*1.04166666666667/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(bM)-bW,L.c.get('y').gv(bM)-bW,L.c.get('size').gv(bM)*1.04166666666667,L.c.get('size').gv(bM)*1.04166666666667,bK,bL)){return true}}return false}case'shapeIDTriangle':{{var bX=L.c.get('size').gv(bM)*0.895833333333333/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(bM)-bX,L.c.get('y').gv(bM)-bX,L.c.get('size').gv(bM)*0.895833333333333,L.c.get('size').gv(bM)*0.895833333333333,bK,bL)){return true}}return false}case'shapeIDFilledTriangle':{{var bY=L.c.get('size').gv(bM)*0.916666666666667/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(bM)-bY,L.c.get('y').gv(bM)-bY,L.c.get('size').gv(bM)*0.916666666666667,L.c.get('size').gv(bM)*0.916666666666667,bK,bL)){return true}}return false}case'shapeIDDownTriangle':{{var bZ=L.c.get('size').gv(bM)*0.895833333333333/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(bM)-bZ,L.c.get('y').gv(bM)-bZ,L.c.get('size').gv(bM)*0.895833333333333,L.c.get('size').gv(bM)*0.895833333333333,bK,bL)){return true}}return false}case'shapeIDFilledDownTriangle':{{var ca=L.c.get('size').gv(bM)*0.916666666666667/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(bM)-ca,L.c.get('y').gv(bM)-ca,L.c.get('size').gv(bM)*0.916666666666667,L.c.get('size').gv(bM)*0.916666666666667,bK,bL)){return true}}return false}case'shapeIDLeftTriangle':{{var cb=L.c.get('size').gv(bM)*0.895833333333333/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(bM)-cb,L.c.get('y').gv(bM)-cb,L.c.get('size').gv(bM)*0.895833333333333,L.c.get('size').gv(bM)*0.895833333333333,bK,bL)){return true}}return false}case'shapeIDFilledLeftTriangle':{{var cc=L.c.get('size').gv(bM)*0.916666666666667/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(bM)-cc,L.c.get('y').gv(bM)-cc,L.c.get('size').gv(bM)*0.916666666666667,L.c.get('size').gv(bM)*0.916666666666667,bK,bL)){return true}}return false}case'shapeIDRightTriangle':{{var cd=L.c.get('size').gv(bM)*0.895833333333333/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(bM)-cd,L.c.get('y').gv(bM)-cd,L.c.get('size').gv(bM)*0.895833333333333,L.c.get('size').gv(bM)*0.895833333333333,bK,bL)){return true}}return false}case'shapeIDFilledRightTriangle':{{var ce=L.c.get('size').gv(bM)*0.916666666666667/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(bM)-ce,L.c.get('y').gv(bM)-ce,L.c.get('size').gv(bM)*0.916666666666667,L.c.get('size').gv(bM)*0.916666666666667,bK,bL)){return true}}return false}case'shapeIDFilledStar':{{var cf=L.c.get('size').gv(bM)*1.09166666666667/2;if(tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(bM)-cf,L.c.get('y').gv(bM)-cf,L.c.get('size').gv(bM)*1.09166666666667,L.c.get('size').gv(bM)*1.09166666666667,bK,bL)){return true}}return false}default:{if(bN>null){var cg=L.c.get('size').gv(bM);var ch=cg/2;return tab.DoubleRectXYUtil.inRect$1(L.c.get('x').gv(bM)-ch,L.c.get('y').gv(bM)-ch,cg,cg,bK,bL)}break}}return true};X.shapeMarkNearHitTest=function(L,bK,bL,bM){var bN=L.c.get('shape_id').gv(bM);switch(bN){case'shapeIDCircle':{return true}case'shapeIDFilledCircle':{return true}case'shapeIDUnscaledFilledCircle':{return true}case'shapeIDSquare':{return true}case'shapeIDFilledSquare':{return true}case'shapeIDAsterisk':{return true}case'shapeIDPlus':{return true}case'shapeIDFilledPlus':{return true}case'shapeIDTimes':{return true}case'shapeIDFilledTimes':{return true}case'shapeIDDiamond':{return true}case'shapeIDFilledDiamond':{return true}case'shapeIDTriangle':{return true}case'shapeIDFilledTriangle':{return true}case'shapeIDDownTriangle':{return true}case'shapeIDFilledDownTriangle':{return true}case'shapeIDLeftTriangle':{return true}case'shapeIDFilledLeftTriangle':{return true}case'shapeIDRightTriangle':{return true}case'shapeIDFilledRightTriangle':{return true}case'shapeIDFilledStar':{return true}default:{break}}return false};X.shapeMarkGetHitTestExpansion=function(L,bK){var bL=null;{bL={w:10,h:10}}return bL};X.shapeMarkGetDistanceToMark=function(L,bK,bL,bM){var bN=L.c.get('shape_id').gv(bM);switch(bN){case'shapeIDCircle':{var bO=L.getMarkBounds(bM);return x.getSquaredDistanceToCircumference(bO,{x:bK,y:bL})}case'shapeIDFilledCircle':{var bP=L.getMarkBounds(bM);return x.getSquaredDistanceToCircumference(bP,{x:bK,y:bL})}case'shapeIDUnscaledFilledCircle':{var bQ=L.getMarkBounds(bM);return x.getSquaredDistanceToCircumference(bQ,{x:bK,y:bL})}case'shapeIDSquare':{var bR=L.getMarkBounds(bM);return x.getSquaredDistanceToCircumference(bR,{x:bK,y:bL})}case'shapeIDFilledSquare':{var bS=L.getMarkBounds(bM);return x.getSquaredDistanceToCircumference(bS,{x:bK,y:bL})}case'shapeIDAsterisk':{var bT=L.getMarkBounds(bM);return x.getSquaredDistanceToCircumference(bT,{x:bK,y:bL})}case'shapeIDPlus':{var bU=L.getMarkBounds(bM);return x.getSquaredDistanceToCircumference(bU,{x:bK,y:bL})}case'shapeIDFilledPlus':{var bV=L.getMarkBounds(bM);return x.getSquaredDistanceToCircumference(bV,{x:bK,y:bL})}case'shapeIDTimes':{var bW=L.getMarkBounds(bM);return x.getSquaredDistanceToCircumference(bW,{x:bK,y:bL})}case'shapeIDFilledTimes':{var bX=L.getMarkBounds(bM);return x.getSquaredDistanceToCircumference(bX,{x:bK,y:bL})}case'shapeIDDiamond':{var bY=L.getMarkBounds(bM);return x.getSquaredDistanceToCircumference(bY,{x:bK,y:bL})}case'shapeIDFilledDiamond':{var bZ=L.getMarkBounds(bM);return x.getSquaredDistanceToCircumference(bZ,{x:bK,y:bL})}case'shapeIDTriangle':{var ca=L.getMarkBounds(bM);return x.getSquaredDistanceToCircumference(ca,{x:bK,y:bL})}case'shapeIDFilledTriangle':{var cb=L.getMarkBounds(bM);return x.getSquaredDistanceToCircumference(cb,{x:bK,y:bL})}case'shapeIDDownTriangle':{var cc=L.getMarkBounds(bM);return x.getSquaredDistanceToCircumference(cc,{x:bK,y:bL})}case'shapeIDFilledDownTriangle':{var cd=L.getMarkBounds(bM);return x.getSquaredDistanceToCircumference(cd,{x:bK,y:bL})}case'shapeIDLeftTriangle':{var ce=L.getMarkBounds(bM);return x.getSquaredDistanceToCircumference(ce,{x:bK,y:bL})}case'shapeIDFilledLeftTriangle':{var cf=L.getMarkBounds(bM);return x.getSquaredDistanceToCircumference(cf,{x:bK,y:bL})}case'shapeIDRightTriangle':{var cg=L.getMarkBounds(bM);return x.getSquaredDistanceToCircumference(cg,{x:bK,y:bL})}case'shapeIDFilledRightTriangle':{var ch=L.getMarkBounds(bM);return x.getSquaredDistanceToCircumference(ch,{x:bK,y:bL})}case'shapeIDFilledStar':{var ci=L.getMarkBounds(bM);return x.getSquaredDistanceToCircumference(ci,{x:bK,y:bL})}default:{break}}return x.getSquaredDistanceToCenter(L.getMarkBounds(bM),{x:bK,y:bL})};X.shapeMarkRectangleAreaHitTest=function(L,bK,bL){var bM=L.c.get('shape_id').gv(bL);switch(bM){case'shapeIDCircle':{return x.circleIntersectsRect({center:{x:L.c.get('x').gv(bL),y:L.c.get('y').gv(bL)},radius:L.c.get('size').gv(bL)*0.958333333333333/2},bK)}case'shapeIDFilledCircle':{return x.circleIntersectsRect({center:{x:L.c.get('x').gv(bL),y:L.c.get('y').gv(bL)},radius:L.c.get('size').gv(bL)*0.979166666666667/2},bK)}case'shapeIDUnscaledFilledCircle':{return x.circleIntersectsRect({center:{x:L.c.get('x').gv(bL),y:L.c.get('y').gv(bL)},radius:L.c.get('size').gv(bL)/2},bK)}case'shapeIDSquare':{return true}case'shapeIDFilledSquare':{return true}case'shapeIDAsterisk':{return true}case'shapeIDPlus':{return true}case'shapeIDFilledPlus':{return true}case'shapeIDTimes':{return true}case'shapeIDFilledTimes':{return true}case'shapeIDDiamond':{return true}case'shapeIDFilledDiamond':{return true}case'shapeIDTriangle':{return true}case'shapeIDFilledTriangle':{return true}case'shapeIDDownTriangle':{return true}case'shapeIDFilledDownTriangle':{return true}case'shapeIDLeftTriangle':{return true}case'shapeIDFilledLeftTriangle':{return true}case'shapeIDRightTriangle':{return true}case'shapeIDFilledRightTriangle':{return true}case'shapeIDFilledStar':{return true}default:{break}}return true};X.shapeMarkCircleAreaHitTest=function(L,bK,bL,bM){if(bM){{{return x.isPointInCircle({x:L.c.get('x').gv(bL),y:L.c.get('y').gv(bL)},bK)}}}var bN=L.c.get('shape_id').gv(bL);switch(bN){case'shapeIDCircle':{return x.circleIntersectsCircle({center:{x:L.c.get('x').gv(bL),y:L.c.get('y').gv(bL)},radius:L.c.get('size').gv(bL)*0.958333333333333/2},bK)}case'shapeIDFilledCircle':{return x.circleIntersectsCircle({center:{x:L.c.get('x').gv(bL),y:L.c.get('y').gv(bL)},radius:L.c.get('size').gv(bL)*0.979166666666667/2},bK)}case'shapeIDUnscaledFilledCircle':{return x.circleIntersectsCircle({center:{x:L.c.get('x').gv(bL),y:L.c.get('y').gv(bL)},radius:L.c.get('size').gv(bL)/2},bK)}case'shapeIDSquare':{var bO={x:0,y:0,w:0,h:0};{var bP=Math.round(L.c.get('x').gv(bL));var bQ=Math.round(L.c.get('y').gv(bL));var bR=Math.ceil(L.c.get('size').gv(bL)*0.895833333333333/2);var bS=2*bR;tab.RectXYUtil.unionInPlace$1(bO,bP-bR,bQ-bR,bS,bS)}return x.circleIntersectsRect(bK,bO)}case'shapeIDFilledSquare':{var bT={x:0,y:0,w:0,h:0};{var bU=Math.round(L.c.get('x').gv(bL));var bV=Math.round(L.c.get('y').gv(bL));var bW=Math.ceil(L.c.get('size').gv(bL)*0.9375/2);var bX=2*bW;tab.RectXYUtil.unionInPlace$1(bT,bU-bW,bV-bW,bX,bX)}return x.circleIntersectsRect(bK,bT)}case'shapeIDAsterisk':{var bY={x:0,y:0,w:0,h:0};{var bZ=Math.round(L.c.get('x').gv(bL));var ca=Math.round(L.c.get('y').gv(bL));var cb=Math.ceil(L.c.get('size').gv(bL)*0.958333333333333/2);var cc=2*cb;tab.RectXYUtil.unionInPlace$1(bY,bZ-cb,ca-cb,cc,cc)}return x.circleIntersectsRect(bK,bY)}case'shapeIDPlus':{var cd={x:0,y:0,w:0,h:0};{var ce=Math.round(L.c.get('x').gv(bL));var cf=Math.round(L.c.get('y').gv(bL));var cg=Math.ceil(L.c.get('size').gv(bL)*0.916666666666667/2);var ch=2*cg;tab.RectXYUtil.unionInPlace$1(cd,ce-cg,cf-cg,ch,ch)}return x.circleIntersectsRect(bK,cd)}case'shapeIDFilledPlus':{var ci={x:0,y:0,w:0,h:0};{var cj=Math.round(L.c.get('x').gv(bL));var ck=Math.round(L.c.get('y').gv(bL));var cl=Math.ceil(L.c.get('size').gv(bL)*0.9375/2);var cm=2*cl;tab.RectXYUtil.unionInPlace$1(ci,cj-cl,ck-cl,cm,cm)}return x.circleIntersectsRect(bK,ci)}case'shapeIDTimes':{var cn={x:0,y:0,w:0,h:0};{var co=Math.round(L.c.get('x').gv(bL));var cp=Math.round(L.c.get('y').gv(bL));var cq=Math.ceil(L.c.get('size').gv(bL)*0.875/2);var cr=2*cq;tab.RectXYUtil.unionInPlace$1(cn,co-cq,cp-cq,cr,cr)}return x.circleIntersectsRect(bK,cn)}case'shapeIDFilledTimes':{var cs={x:0,y:0,w:0,h:0};{var ct=Math.round(L.c.get('x').gv(bL));var cu=Math.round(L.c.get('y').gv(bL));var cv=Math.ceil(L.c.get('size').gv(bL)*0.9375/2);var cw=2*cv;tab.RectXYUtil.unionInPlace$1(cs,ct-cv,cu-cv,cw,cw)}return x.circleIntersectsRect(bK,cs)}case'shapeIDDiamond':{var cx={x:0,y:0,w:0,h:0};{var cy=Math.round(L.c.get('x').gv(bL));var cz=Math.round(L.c.get('y').gv(bL));var cA=Math.ceil(L.c.get('size').gv(bL)*1.04166666666667/2);var cB=2*cA;tab.RectXYUtil.unionInPlace$1(cx,cy-cA,cz-cA,cB,cB)}return x.circleIntersectsRect(bK,cx)}case'shapeIDFilledDiamond':{var cC={x:0,y:0,w:0,h:0};{var cD=Math.round(L.c.get('x').gv(bL));var cE=Math.round(L.c.get('y').gv(bL));var cF=Math.ceil(L.c.get('size').gv(bL)*1.04166666666667/2);var cG=2*cF;tab.RectXYUtil.unionInPlace$1(cC,cD-cF,cE-cF,cG,cG)}return x.circleIntersectsRect(bK,cC)}case'shapeIDTriangle':{var cH={x:0,y:0,w:0,h:0};{var cI=Math.round(L.c.get('x').gv(bL));var cJ=Math.round(L.c.get('y').gv(bL));var cK=Math.ceil(L.c.get('size').gv(bL)*0.895833333333333/2);var cL=2*cK;tab.RectXYUtil.unionInPlace$1(cH,cI-cK,cJ-cK,cL,cL)}return x.circleIntersectsRect(bK,cH)}case'shapeIDFilledTriangle':{var cM={x:0,y:0,w:0,h:0};{var cN=Math.round(L.c.get('x').gv(bL));var cO=Math.round(L.c.get('y').gv(bL));var cP=Math.ceil(L.c.get('size').gv(bL)*0.916666666666667/2);var cQ=2*cP;tab.RectXYUtil.unionInPlace$1(cM,cN-cP,cO-cP,cQ,cQ)}return x.circleIntersectsRect(bK,cM)}case'shapeIDDownTriangle':{var cR={x:0,y:0,w:0,h:0};{var cS=Math.round(L.c.get('x').gv(bL));var cT=Math.round(L.c.get('y').gv(bL));var cU=Math.ceil(L.c.get('size').gv(bL)*0.895833333333333/2);var cV=2*cU;tab.RectXYUtil.unionInPlace$1(cR,cS-cU,cT-cU,cV,cV)}return x.circleIntersectsRect(bK,cR)}case'shapeIDFilledDownTriangle':{var cW={x:0,y:0,w:0,h:0};{var cX=Math.round(L.c.get('x').gv(bL));var cY=Math.round(L.c.get('y').gv(bL));var cZ=Math.ceil(L.c.get('size').gv(bL)*0.916666666666667/2);var da=2*cZ;tab.RectXYUtil.unionInPlace$1(cW,cX-cZ,cY-cZ,da,da)}return x.circleIntersectsRect(bK,cW)}case'shapeIDLeftTriangle':{var db={x:0,y:0,w:0,h:0};{var dc=Math.round(L.c.get('x').gv(bL));var dd=Math.round(L.c.get('y').gv(bL));var de=Math.ceil(L.c.get('size').gv(bL)*0.895833333333333/2);var df=2*de;tab.RectXYUtil.unionInPlace$1(db,dc-de,dd-de,df,df)}return x.circleIntersectsRect(bK,db)}case'shapeIDFilledLeftTriangle':{var dg={x:0,y:0,w:0,h:0};{var dh=Math.round(L.c.get('x').gv(bL));var di=Math.round(L.c.get('y').gv(bL));var dj=Math.ceil(L.c.get('size').gv(bL)*0.916666666666667/2);var dk=2*dj;tab.RectXYUtil.unionInPlace$1(dg,dh-dj,di-dj,dk,dk)}return x.circleIntersectsRect(bK,dg)}case'shapeIDRightTriangle':{var dl={x:0,y:0,w:0,h:0};{var dm=Math.round(L.c.get('x').gv(bL));var dn=Math.round(L.c.get('y').gv(bL));var dp=Math.ceil(L.c.get('size').gv(bL)*0.895833333333333/2);var dq=2*dp;tab.RectXYUtil.unionInPlace$1(dl,dm-dp,dn-dp,dq,dq)}return x.circleIntersectsRect(bK,dl)}case'shapeIDFilledRightTriangle':{var dr={x:0,y:0,w:0,h:0};{var ds=Math.round(L.c.get('x').gv(bL));var dt=Math.round(L.c.get('y').gv(bL));var du=Math.ceil(L.c.get('size').gv(bL)*0.916666666666667/2);var dv=2*du;tab.RectXYUtil.unionInPlace$1(dr,ds-du,dt-du,dv,dv)}return x.circleIntersectsRect(bK,dr)}case'shapeIDFilledStar':{var dw={x:0,y:0,w:0,h:0};{var dx=Math.round(L.c.get('x').gv(bL));var dy=Math.round(L.c.get('y').gv(bL));var dz=Math.ceil(L.c.get('size').gv(bL)*1.09166666666667/2);var dA=2*dz;tab.RectXYUtil.unionInPlace$1(dw,dx-dz,dy-dz,dA,dA)}return x.circleIntersectsRect(bK,dw)}default:{var dB=Math.round(L.c.get('x').gv(bL));var dC=Math.round(L.c.get('y').gv(bL));var dD=Math.ceil(L.c.get('size').gv(bL));var dE=Math.ceil(dD/2);var dF={x:dB-dE,y:dC-dE,w:dD,h:dD};return x.circleIntersectsRect(bK,dF)}}};X.shapeMarkPolygonAreaHitTest=function(L,bK,bL){var bM=L.c.get('shape_id').gv(bL);switch(bM){case'shapeIDCircle':{return x.polygonIntersectsCircle(bK,{center:{x:L.c.get('x').gv(bL),y:L.c.get('y').gv(bL)},radius:L.c.get('size').gv(bL)*0.958333333333333/2})}case'shapeIDFilledCircle':{return x.polygonIntersectsCircle(bK,{center:{x:L.c.get('x').gv(bL),y:L.c.get('y').gv(bL)},radius:L.c.get('size').gv(bL)*0.979166666666667/2})}case'shapeIDUnscaledFilledCircle':{return x.polygonIntersectsCircle(bK,{center:{x:L.c.get('x').gv(bL),y:L.c.get('y').gv(bL)},radius:L.c.get('size').gv(bL)/2})}case'shapeIDSquare':{var bN={x:0,y:0,w:0,h:0};{var bO=Math.round(L.c.get('x').gv(bL));var bP=Math.round(L.c.get('y').gv(bL));var bQ=Math.ceil(L.c.get('size').gv(bL)*0.895833333333333/2);var bR=2*bQ;tab.RectXYUtil.unionInPlace$1(bN,bO-bQ,bP-bQ,bR,bR)}return x.polygonIntersectsRect(bK,bN)}case'shapeIDFilledSquare':{var bS={x:0,y:0,w:0,h:0};{var bT=Math.round(L.c.get('x').gv(bL));var bU=Math.round(L.c.get('y').gv(bL));var bV=Math.ceil(L.c.get('size').gv(bL)*0.9375/2);var bW=2*bV;tab.RectXYUtil.unionInPlace$1(bS,bT-bV,bU-bV,bW,bW)}return x.polygonIntersectsRect(bK,bS)}case'shapeIDAsterisk':{var bX={x:0,y:0,w:0,h:0};{var bY=Math.round(L.c.get('x').gv(bL));var bZ=Math.round(L.c.get('y').gv(bL));var ca=Math.ceil(L.c.get('size').gv(bL)*0.958333333333333/2);var cb=2*ca;tab.RectXYUtil.unionInPlace$1(bX,bY-ca,bZ-ca,cb,cb)}return x.polygonIntersectsRect(bK,bX)}case'shapeIDPlus':{var cc={x:0,y:0,w:0,h:0};{var cd=Math.round(L.c.get('x').gv(bL));var ce=Math.round(L.c.get('y').gv(bL));var cf=Math.ceil(L.c.get('size').gv(bL)*0.916666666666667/2);var cg=2*cf;tab.RectXYUtil.unionInPlace$1(cc,cd-cf,ce-cf,cg,cg)}return x.polygonIntersectsRect(bK,cc)}case'shapeIDFilledPlus':{var ch={x:0,y:0,w:0,h:0};{var ci=Math.round(L.c.get('x').gv(bL));var cj=Math.round(L.c.get('y').gv(bL));var ck=Math.ceil(L.c.get('size').gv(bL)*0.9375/2);var cl=2*ck;tab.RectXYUtil.unionInPlace$1(ch,ci-ck,cj-ck,cl,cl)}return x.polygonIntersectsRect(bK,ch)}case'shapeIDTimes':{var cm={x:0,y:0,w:0,h:0};{var cn=Math.round(L.c.get('x').gv(bL));var co=Math.round(L.c.get('y').gv(bL));var cp=Math.ceil(L.c.get('size').gv(bL)*0.875/2);var cq=2*cp;tab.RectXYUtil.unionInPlace$1(cm,cn-cp,co-cp,cq,cq)}return x.polygonIntersectsRect(bK,cm)}case'shapeIDFilledTimes':{var cr={x:0,y:0,w:0,h:0};{var cs=Math.round(L.c.get('x').gv(bL));var ct=Math.round(L.c.get('y').gv(bL));var cu=Math.ceil(L.c.get('size').gv(bL)*0.9375/2);var cv=2*cu;tab.RectXYUtil.unionInPlace$1(cr,cs-cu,ct-cu,cv,cv)}return x.polygonIntersectsRect(bK,cr)}case'shapeIDDiamond':{var cw={x:0,y:0,w:0,h:0};{var cx=Math.round(L.c.get('x').gv(bL));var cy=Math.round(L.c.get('y').gv(bL));var cz=Math.ceil(L.c.get('size').gv(bL)*1.04166666666667/2);var cA=2*cz;tab.RectXYUtil.unionInPlace$1(cw,cx-cz,cy-cz,cA,cA)}return x.polygonIntersectsRect(bK,cw)}case'shapeIDFilledDiamond':{var cB={x:0,y:0,w:0,h:0};{var cC=Math.round(L.c.get('x').gv(bL));var cD=Math.round(L.c.get('y').gv(bL));var cE=Math.ceil(L.c.get('size').gv(bL)*1.04166666666667/2);var cF=2*cE;tab.RectXYUtil.unionInPlace$1(cB,cC-cE,cD-cE,cF,cF)}return x.polygonIntersectsRect(bK,cB)}case'shapeIDTriangle':{var cG={x:0,y:0,w:0,h:0};{var cH=Math.round(L.c.get('x').gv(bL));var cI=Math.round(L.c.get('y').gv(bL));var cJ=Math.ceil(L.c.get('size').gv(bL)*0.895833333333333/2);var cK=2*cJ;tab.RectXYUtil.unionInPlace$1(cG,cH-cJ,cI-cJ,cK,cK)}return x.polygonIntersectsRect(bK,cG)}case'shapeIDFilledTriangle':{var cL={x:0,y:0,w:0,h:0};{var cM=Math.round(L.c.get('x').gv(bL));var cN=Math.round(L.c.get('y').gv(bL));var cO=Math.ceil(L.c.get('size').gv(bL)*0.916666666666667/2);var cP=2*cO;tab.RectXYUtil.unionInPlace$1(cL,cM-cO,cN-cO,cP,cP)}return x.polygonIntersectsRect(bK,cL)}case'shapeIDDownTriangle':{var cQ={x:0,y:0,w:0,h:0};{var cR=Math.round(L.c.get('x').gv(bL));var cS=Math.round(L.c.get('y').gv(bL));var cT=Math.ceil(L.c.get('size').gv(bL)*0.895833333333333/2);var cU=2*cT;tab.RectXYUtil.unionInPlace$1(cQ,cR-cT,cS-cT,cU,cU)}return x.polygonIntersectsRect(bK,cQ)}case'shapeIDFilledDownTriangle':{var cV={x:0,y:0,w:0,h:0};{var cW=Math.round(L.c.get('x').gv(bL));var cX=Math.round(L.c.get('y').gv(bL));var cY=Math.ceil(L.c.get('size').gv(bL)*0.916666666666667/2);var cZ=2*cY;tab.RectXYUtil.unionInPlace$1(cV,cW-cY,cX-cY,cZ,cZ)}return x.polygonIntersectsRect(bK,cV)}case'shapeIDLeftTriangle':{var da={x:0,y:0,w:0,h:0};{var db=Math.round(L.c.get('x').gv(bL));var dc=Math.round(L.c.get('y').gv(bL));var dd=Math.ceil(L.c.get('size').gv(bL)*0.895833333333333/2);var de=2*dd;tab.RectXYUtil.unionInPlace$1(da,db-dd,dc-dd,de,de)}return x.polygonIntersectsRect(bK,da)}case'shapeIDFilledLeftTriangle':{var df={x:0,y:0,w:0,h:0};{var dg=Math.round(L.c.get('x').gv(bL));var dh=Math.round(L.c.get('y').gv(bL));var di=Math.ceil(L.c.get('size').gv(bL)*0.916666666666667/2);var dj=2*di;tab.RectXYUtil.unionInPlace$1(df,dg-di,dh-di,dj,dj)}return x.polygonIntersectsRect(bK,df)}case'shapeIDRightTriangle':{var dk={x:0,y:0,w:0,h:0};{var dl=Math.round(L.c.get('x').gv(bL));var dm=Math.round(L.c.get('y').gv(bL));var dn=Math.ceil(L.c.get('size').gv(bL)*0.895833333333333/2);var dp=2*dn;tab.RectXYUtil.unionInPlace$1(dk,dl-dn,dm-dn,dp,dp)}return x.polygonIntersectsRect(bK,dk)}case'shapeIDFilledRightTriangle':{var dq={x:0,y:0,w:0,h:0};{var dr=Math.round(L.c.get('x').gv(bL));var ds=Math.round(L.c.get('y').gv(bL));var dt=Math.ceil(L.c.get('size').gv(bL)*0.916666666666667/2);var du=2*dt;tab.RectXYUtil.unionInPlace$1(dq,dr-dt,ds-dt,du,du)}return x.polygonIntersectsRect(bK,dq)}case'shapeIDFilledStar':{var dv={x:0,y:0,w:0,h:0};{var dw=Math.round(L.c.get('x').gv(bL));var dx=Math.round(L.c.get('y').gv(bL));var dy=Math.ceil(L.c.get('size').gv(bL)*1.09166666666667/2);var dz=2*dy;tab.RectXYUtil.unionInPlace$1(dv,dw-dy,dx-dy,dz,dz)}return x.polygonIntersectsRect(bK,dv)}default:{var dA=Math.round(L.c.get('x').gv(bL));var dB=Math.round(L.c.get('y').gv(bL));var dC=Math.ceil(L.c.get('size').gv(bL));var dD=Math.ceil(dC/2);var dE={x:dA-dD,y:dB-dD,w:dC,h:dC};return x.polygonIntersectsRect(bK,dE)}}};X.renderMultipolygonMarkHoverOverlayImage=function(L,bK,bL){var bM='empty';var bN=bK.getMarkGeometry(bK.c.get('geometry').gv(bL));if(ss.isValue(bN)){bM=bN.geometryType}switch(bM){case'multiPolygon':{{var bO=bK.getMarkInstanceOffsets(bL);var bP=bO.length;for(var bQ=0;bQ<bP;bQ++){var bR=bO[bQ];X.$c(L,bR);{var bS=X.$d();if(!bK.hasPixelGeometry){L.save();L.translate(bK.c.get('x').gv(bL),bK.c.get('y').gv(bL));L.scale(bK.c.get('size').gv(bL),bK.c.get('size').gv(bL))}tab.CanvasRenderer.createMultipolygonPath(L,bN);if(!bK.hasPixelGeometry){L.restore()}L.set_lineWidth(1.75-bS);L.set_strokeStyle(bK.c.get('selected_halo_color').gv(bL)['colorOverrideNone']);L.stroke()}if(bR!==0){L.restore()}}}break}case'multiLineString':{{var bT=bK.getMarkInstanceOffsets(bL);var bU=bT.length;for(var bV=0;bV<bU;bV++){var bW=bT[bV];X.$c(L,bW);var bX='colorOverrideNone';if(!bK.hasPixelGeometry){L.save();L.translate(bK.c.get('x').gv(bL),bK.c.get('y').gv(bL));L.scale(bK.c.get('size').gv(bL),bK.c.get('size').gv(bL))}tab.CanvasRenderer.createMultiLinePath(L,bN);if(!bK.hasPixelGeometry){L.restore()}{tab.CanvasRenderer.fillMultiLineStringPath(L,bK.c.get('size').gv(bL)+3.5,bK.c.get('selected_halo_color').gv(bL)[bX]);tab.CanvasRenderer.fillMultiLineStringEndCaps(L,bN.multiLine,bK.c.get('size').gv(bL)+3.5,1.75,bK.c.get('selected_halo_color').gv(bL)[bX]);tab.CanvasRenderer.fillClearMultiLineStringPath(L,bK.c.get('size').gv(bL),bK.c.get('selected_halo_color').gv(bL)[bX])}if(bW!==0){L.restore()}}}break}case'multiPoint':{{var bY=bK.getMarkInstanceOffsets(bL);var bZ=bY.length;for(var ca=0;ca<bZ;ca++){var cb=bY[ca];X.$c(L,cb);{var cc=X.$d();if(!bK.hasPixelGeometry){L.save();L.translate(bK.c.get('x').gv(bL),bK.c.get('y').gv(bL));L.scale(bK.c.get('size').gv(bL),bK.c.get('size').gv(bL))}tab.CanvasRenderer.createMultipointPath(L,7,bN);if(!bK.hasPixelGeometry){L.restore()}L.set_lineWidth(1.75-cc);L.set_strokeStyle(bK.c.get('selected_halo_color').gv(bL)['colorOverrideNone']);L.stroke()}if(cb!==0){L.restore()}}}break}case'empty':{{var cd=bK.getMarkInstanceOffsets(bL);var ce=cd.length;for(var cf=0;cf<ce;cf++){var cg=cd[cf];X.$c(L,cg);{var ch=X.$d();tab.CanvasRenderer.createPlaceholderPath(L,bK.c.get('x').gv(bL),bK.c.get('y').gv(bL),7);L.set_lineWidth(1.75-ch);L.set_strokeStyle(bK.c.get('selected_halo_color').gv(bL)['colorOverrideNone']);L.stroke()}if(cg!==0){L.restore()}}}break}default:{break}}};X.renderMultipolygonMarkPressedOverlayImage=function(L,bK,bL){var bM='empty';var bN=bK.getMarkGeometry(bK.c.get('geometry').gv(bL));if(ss.isValue(bN)){bM=bN.geometryType}switch(bM){case'multiPolygon':{{var bO=bK.getMarkInstanceOffsets(bL);var bP=bO.length;for(var bQ=0;bQ<bP;bQ++){var bR=bO[bQ];X.$c(L,bR);{var bS=X.$d();if(!bK.hasPixelGeometry){L.save();L.translate(bK.c.get('x').gv(bL),bK.c.get('y').gv(bL));L.scale(bK.c.get('size').gv(bL),bK.c.get('size').gv(bL))}tab.CanvasRenderer.createMultipolygonPath(L,bN);if(!bK.hasPixelGeometry){L.restore()}L.set_lineWidth(2.5-bS);L.set_strokeStyle(bK.c.get('selected_halo_color').gv(bL)['colorOverrideNone']);L.stroke()}if(bR!==0){L.restore()}}}break}case'multiLineString':{{var bT=bK.getMarkInstanceOffsets(bL);var bU=bT.length;for(var bV=0;bV<bU;bV++){var bW=bT[bV];X.$c(L,bW);var bX='colorOverrideNone';if(!bK.hasPixelGeometry){L.save();L.translate(bK.c.get('x').gv(bL),bK.c.get('y').gv(bL));L.scale(bK.c.get('size').gv(bL),bK.c.get('size').gv(bL))}tab.CanvasRenderer.createMultiLinePath(L,bN);if(!bK.hasPixelGeometry){L.restore()}{tab.CanvasRenderer.fillMultiLineStringPath(L,bK.c.get('size').gv(bL)+5,bK.c.get('selected_halo_color').gv(bL)[bX]);tab.CanvasRenderer.fillMultiLineStringEndCaps(L,bN.multiLine,bK.c.get('size').gv(bL)+5,2.5,bK.c.get('selected_halo_color').gv(bL)[bX]);tab.CanvasRenderer.fillClearMultiLineStringPath(L,bK.c.get('size').gv(bL),bK.c.get('selected_halo_color').gv(bL)[bX])}if(bW!==0){L.restore()}}}break}case'multiPoint':{{var bY=bK.getMarkInstanceOffsets(bL);var bZ=bY.length;for(var ca=0;ca<bZ;ca++){var cb=bY[ca];X.$c(L,cb);{var cc=X.$d();if(!bK.hasPixelGeometry){L.save();L.translate(bK.c.get('x').gv(bL),bK.c.get('y').gv(bL));L.scale(bK.c.get('size').gv(bL),bK.c.get('size').gv(bL))}tab.CanvasRenderer.createMultipointPath(L,7,bN);if(!bK.hasPixelGeometry){L.restore()}L.set_lineWidth(2.5-cc);L.set_strokeStyle(bK.c.get('selected_halo_color').gv(bL)['colorOverrideNone']);L.stroke()}if(cb!==0){L.restore()}}}break}case'empty':{{var cd=bK.getMarkInstanceOffsets(bL);var ce=cd.length;for(var cf=0;cf<ce;cf++){var cg=cd[cf];X.$c(L,cg);{var ch=X.$d();tab.CanvasRenderer.createPlaceholderPath(L,bK.c.get('x').gv(bL),bK.c.get('y').gv(bL),7);L.set_lineWidth(2.5-ch);L.set_strokeStyle(bK.c.get('selected_halo_color').gv(bL)['colorOverrideNone']);L.stroke()}if(cg!==0){L.restore()}}}break}default:{break}}};X.renderAreaMarkHoverOverlayImage=function(L,bK,bL){var bM=false;if(bL-1>0&&!bK.isMarkEndPrimitive(bL-1)){bM=bM||bK.isMarkHighlighted(bL-1)}if(bL+1<bK.markCount&&!bK.isMarkEndPrimitive(bL)){bM=bM||bK.isMarkHighlighted(bL+1)}var bN;var bO=bK.c.get('x').gv(bL);var bP=bK.c.get('y').gv(bL);if(bK.isMarkSelected(bL)){bN=bK.c.get('selected_halo_color').gv(bL)['colorOverrideOpaque'];{var bQ=bK.c.get('draw_border').gv(bL);var bR=7+(bQ?2:0);tab.CanvasRenderer.renderCircle(L,0+bO,0+bP,bR,bN,4)}bN=bK.getMarkColors(bL)['colorOverrideOpaque'];{var bS=bK.getMarkInstanceOffsets(bL);var bT=bS.length;for(var bU=0;bU<bT;bU++){var bV=bS[bU];X.$c(L,bV);tab.CanvasRenderer.renderFilledCircle(L,0+bO,0+bP,7,bN);if(bV!==0){L.restore()}}}bO=bK.c.get('x1').gv(bL);bP=bK.c.get('y1').gv(bL);bN=bK.c.get('selected_halo_color').gv(bL)['colorOverrideOpaque'];{var bW=bK.c.get('draw_border').gv(bL);var bX=7+(bW?2:0);tab.CanvasRenderer.renderCircle(L,0+bO,0+bP,bX,bN,4)}bN=bK.getMarkColors(bL)['colorOverrideOpaque'];{var bY=bK.getMarkInstanceOffsets(bL);var bZ=bY.length;for(var ca=0;ca<bZ;ca++){var cb=bY[ca];X.$c(L,cb);tab.CanvasRenderer.renderFilledCircle(L,0+bO,0+bP,7,bN);if(cb!==0){L.restore()}}}}else if(bK.isMarkHighlighted(bL)&&!bM){bN=bK.c.get('selected_multi_prim_halo_color').gv(bL)['colorOverrideNone'];{var cc=bK.getMarkInstanceOffsets(bL);var cd=cc.length;for(var ce=0;ce<cd;ce++){var cf=cc[ce];X.$c(L,cf);{var cg=bK.c.get('draw_border').gv(bL);var ch=7+(cg?2:0);tab.CanvasRenderer.renderCircle(L,0+bO,0+bP,ch,bN,4)}if(cf!==0){L.restore()}}}bN=bK.getMarkColors(bL)['colorOverrideNone'];{var ci=bK.getMarkInstanceOffsets(bL);var cj=ci.length;for(var ck=0;ck<cj;ck++){var cl=ci[ck];X.$c(L,cl);tab.CanvasRenderer.renderFilledCircle(L,0+bO,0+bP,7,bN);if(cl!==0){L.restore()}}}bO=bK.c.get('x1').gv(bL);bP=bK.c.get('y1').gv(bL);bN=bK.c.get('selected_multi_prim_halo_color').gv(bL)['colorOverrideNone'];{var cm=bK.getMarkInstanceOffsets(bL);var cn=cm.length;for(var co=0;co<cn;co++){var cp=cm[co];X.$c(L,cp);{var cq=bK.c.get('draw_border').gv(bL);var cr=7+(cq?2:0);tab.CanvasRenderer.renderCircle(L,0+bO,0+bP,cr,bN,4)}if(cp!==0){L.restore()}}}bN=bK.getMarkColors(bL)['colorOverrideNone'];{var cs=bK.getMarkInstanceOffsets(bL);var ct=cs.length;for(var cu=0;cu<ct;cu++){var cv=cs[cu];X.$c(L,cv);tab.CanvasRenderer.renderFilledCircle(L,0+bO,0+bP,7,bN);if(cv!==0){L.restore()}}}}else{bN=(bK.drawBorder?bK.get_borderColor():tab.SceneUtils.blackColor)['colorOverrideNone'];{var cw=bK.getMarkInstanceOffsets(bL);var cx=cw.length;for(var cy=0;cy<cx;cy++){var cz=cw[cy];X.$c(L,cz);tab.CanvasRenderer.renderFilledCircle(L,0+bO,0+bP,5,bN);if(cz!==0){L.restore()}}}bO=bK.c.get('x1').gv(bL);bP=bK.c.get('y1').gv(bL);bN=(bK.drawBorder?bK.get_borderColor():tab.SceneUtils.blackColor)['colorOverrideNone'];{var cA=bK.getMarkInstanceOffsets(bL);var cB=cA.length;for(var cC=0;cC<cB;cC++){var cD=cA[cC];X.$c(L,cD);tab.CanvasRenderer.renderFilledCircle(L,0+bO,0+bP,5,bN);if(cD!==0){L.restore()}}}}};X.renderAreaMarkPressedOverlayImage=function(L,bK,bL){var bM=(bK.drawBorder?bK.get_borderColor():tab.SceneUtils.blackColor)['colorOverrideNone'];var bN=bK.c.get('x').gv(bL);var bO=bK.c.get('y').gv(bL);{var bP=bK.getMarkInstanceOffsets(bL);var bQ=bP.length;for(var bR=0;bR<bQ;bR++){var bS=bP[bR];X.$c(L,bS);tab.CanvasRenderer.renderFilledCircle(L,0+bN,0+bO,7,bM);if(bS!==0){L.restore()}}}bN=bK.c.get('x1').gv(bL);bO=bK.c.get('y1').gv(bL);{var bT=bK.getMarkInstanceOffsets(bL);var bU=bT.length;for(var bV=0;bV<bU;bV++){var bW=bT[bV];X.$c(L,bW);tab.CanvasRenderer.renderFilledCircle(L,0+bN,0+bO,7,bM);if(bW!==0){L.restore()}}}};X.renderPieHoverOverlayImage=function(L,bK,bL){var bM=bK.getMarkInstanceOffsets(bL);var bN=bM.length;for(var bO=0;bO<bN;bO++){var bP=bM[bO];X.$c(L,bP);var bQ=bK.c.get('size').gv(bL)/2;var bR=bK.c.get('draw_border').gv(bL);var bS=(!!bR?1:0);var bT=bK.c.get('selected_halo_color').gv(bL)['colorOverrideNone'];var bU=bK.c.get('theta').gv(bL);var bV=bK.c.get('theta1').gv(bL);var bW=bU>bV;if(Math.abs(bU-bV)>=1){tab.CanvasRenderer.renderCircle(L,bK.c.get('x').gv(bL),bK.c.get('y').gv(bL),(bQ+bS)*2,bT,1)}else{tab.CanvasRenderer.renderWedge(L,bK.c.get('x').gv(bL),bK.c.get('y').gv(bL),bQ,bU,bV,bT,1+bS,bW)}if(bP!==0){L.restore()}}};X.renderPiePressedOverlayImage=function(L,bK,bL){var bM=bK.getMarkInstanceOffsets(bL);var bN=bM.length;for(var bO=0;bO<bN;bO++){var bP=bM[bO];X.$c(L,bP);var bQ=bK.c.get('size').gv(bL)/2;var bR=bK.c.get('draw_border').gv(bL);var bS=(!!bR?1:0);var bT=bK.c.get('selected_halo_color').gv(bL)['colorOverrideNone'];var bU=bK.c.get('theta').gv(bL);var bV=bK.c.get('theta1').gv(bL);var bW=bU>bV;if(Math.abs(bU-bV)>=1){tab.CanvasRenderer.renderCircle(L,bK.c.get('x').gv(bL),bK.c.get('y').gv(bL),(bQ+bS)*2,bT,2)}else{tab.CanvasRenderer.renderWedge(L,bK.c.get('x').gv(bL),bK.c.get('y').gv(bL),bQ,bU,bV,bT,2+bS,bW)}if(bP!==0){L.restore()}}};X.renderTextHoverOverlayImage=function(L,bK,bL){if(!(bK.clipCase!==0&&bK.useCellClipForSelection)){{var bM=bK.getMarkInstanceOffsets(bL);var bN=bM.length;for(var bO=0;bO<bN;bO++){var bP=bM[bO];X.$c(L,bP);var bQ=-bK.c.get('width').gv(bL)/2;var bR=bK.c.get('height').gv(bL)/2-1;var bS=bK.c.get('x').gv(bL)+bQ;var bT=bK.c.get('y').gv(bL)+bR;var bU=bK.c.get('x').gv(bL)+bK.c.get('width').gv(bL)+bQ;var bV=bK.c.get('y').gv(bL)+bR;var bW=1;var bX=bU-bS;var bY=[bS,bT+bW-1,bS+bX,bT+bW-1];L.set_lineCap('square');L.set_lineWidth(bW);L.set_strokeStyle(bK.getMarkColors(bL)['colorOverrideOpaque']);tab.CanvasRenderer.strokePath(L,bY,false,true);if(bP!==0){L.restore()}}}}if(bK.clipCase!==0&&bK.useCellClipForSelection){{var bZ=bK.getMarkInstanceOffsets(bL);var ca=bZ.length;for(var cb=0;cb<ca;cb++){var cc=bZ[cb];X.$c(L,cc);{var cd=2;var ce=bK.c.get('x').gv(bL)-bK.c.get('clip_width').gv(bL)/2+cd;var cf=bK.c.get('x').gv(bL)+bK.c.get('clip_width').gv(bL)/2-cd;var cg=bK.c.get('y').gv(bL)-bK.c.get('clip_height').gv(bL)/2+cd;var ch=bK.c.get('y').gv(bL)+bK.c.get('clip_height').gv(bL)/2-cd;X.$3(L,bK,bL,ce,cf,cg,ch,bK.getMarkColors(bL),!!false,Math.floor(1))}if(cc!==0){L.restore()}}}}};X.renderTextPressedOverlayImage=function(L,bK,bL){if(!(bK.clipCase!==0&&bK.useCellClipForSelection)){{var bM=bK.getMarkInstanceOffsets(bL);var bN=bM.length;for(var bO=0;bO<bN;bO++){var bP=bM[bO];X.$c(L,bP);var bQ=-bK.c.get('width').gv(bL)/2;var bR=bK.c.get('height').gv(bL)/2-1;var bS=bK.c.get('x').gv(bL)+bQ;var bT=bK.c.get('y').gv(bL)+bR;var bU=bK.c.get('x').gv(bL)+bK.c.get('width').gv(bL)+bQ;var bV=bK.c.get('y').gv(bL)+bR;var bW=2;var bX=bU-bS;var bY=[bS,bT+bW-1,bS+bX,bT+bW-1];L.set_lineCap('square');L.set_lineWidth(bW);L.set_strokeStyle(bK.getMarkColors(bL)['colorOverrideOpaque']);tab.CanvasRenderer.strokePath(L,bY,false,true);if(bP!==0){L.restore()}}}}if(bK.clipCase!==0&&bK.useCellClipForSelection){{var bZ=bK.getMarkInstanceOffsets(bL);var ca=bZ.length;for(var cb=0;cb<ca;cb++){var cc=bZ[cb];X.$c(L,cc);{var cd=2;var ce=bK.c.get('x').gv(bL)-bK.c.get('clip_width').gv(bL)/2+cd;var cf=bK.c.get('x').gv(bL)+bK.c.get('clip_width').gv(bL)/2-cd;var cg=bK.c.get('y').gv(bL)-bK.c.get('clip_height').gv(bL)/2+cd;var ch=bK.c.get('y').gv(bL)+bK.c.get('clip_height').gv(bL)/2-cd;X.$3(L,bK,bL,ce,cf,cg,ch,bK.getMarkColors(bL),!!false,Math.floor(2))}if(cc!==0){L.restore()}}}}};X.renderBarHoverOverlayImage=function(L,bK,bL){var bM=ss.Int32.trunc(bK.c.get('size').gv(bL)+0.5)/2;var bN=1;if(bK.scaleMarksInX&&bK.scaleMarksInY){{var bO=bK.getMarkInstanceOffsets(bL);var bP=bO.length;for(var bQ=0;bQ<bP;bQ++){var bR=bO[bQ];X.$c(L,bR);{var bS=0;var bT=bK.c.get('x').gv(bL)+bS;var bU=bK.c.get('x1').gv(bL)-bS;var bV=bK.c.get('y').gv(bL)+bS;var bW=bK.c.get('y1').gv(bL)-bS;X.$3(L,bK,bL,bT,bU,bV,bW,bK.c.get('selected_halo_color').gv(bL),!!false,Math.floor(bN))}if(bR!==0){L.restore()}}}}if(!bK.scaleMarksInX&&bK.scaleMarksInY){{var bX=bK.getMarkInstanceOffsets(bL);var bY=bX.length;for(var bZ=0;bZ<bY;bZ++){var ca=bX[bZ];X.$c(L,ca);{var cb=0;var cc=bK.c.get('x').gv(bL)-bM+cb;var cd=bK.c.get('x').gv(bL)+bM-cb;var ce=bK.c.get('y').gv(bL)+cb;var cf=bK.c.get('y1').gv(bL)-cb;X.$3(L,bK,bL,cc,cd,ce,cf,bK.c.get('selected_halo_color').gv(bL),!!false,Math.floor(bN))}if(ca!==0){L.restore()}}}}if(bK.scaleMarksInX&&!bK.scaleMarksInY){{var cg=bK.getMarkInstanceOffsets(bL);var ch=cg.length;for(var ci=0;ci<ch;ci++){var cj=cg[ci];X.$c(L,cj);{var ck=0;var cl=bK.c.get('x').gv(bL)+ck;var cm=bK.c.get('x1').gv(bL)-ck;var cn=bK.c.get('y').gv(bL)-bM+ck;var co=bK.c.get('y').gv(bL)+bM-ck;X.$3(L,bK,bL,cl,cm,cn,co,bK.c.get('selected_halo_color').gv(bL),!!false,Math.floor(bN))}if(cj!==0){L.restore()}}}}if(!bK.scaleMarksInX&&!bK.scaleMarksInY){{var cp=bK.getMarkInstanceOffsets(bL);var cq=cp.length;for(var cr=0;cr<cq;cr++){var cs=cp[cr];X.$c(L,cs);{var ct=0;var cu=bK.c.get('x').gv(bL)-bM+ct;var cv=bK.c.get('x').gv(bL)+bM-ct;var cw=bK.c.get('y').gv(bL)-bM+ct;var cx=bK.c.get('y').gv(bL)+bM-ct;X.$3(L,bK,bL,cu,cv,cw,cx,bK.c.get('selected_halo_color').gv(bL),!!true,Math.floor(bN))}if(cs!==0){L.restore()}}}}};X.renderBarPressedOverlayImage=function(L,bK,bL){var bM=ss.Int32.trunc(bK.c.get('size').gv(bL)+0.5)/2;var bN=2;if(bK.scaleMarksInX&&bK.scaleMarksInY){{var bO=bK.getMarkInstanceOffsets(bL);var bP=bO.length;for(var bQ=0;bQ<bP;bQ++){var bR=bO[bQ];X.$c(L,bR);{var bS=0;var bT=bK.c.get('x').gv(bL)+bS;var bU=bK.c.get('x1').gv(bL)-bS;var bV=bK.c.get('y').gv(bL)+bS;var bW=bK.c.get('y1').gv(bL)-bS;X.$3(L,bK,bL,bT,bU,bV,bW,bK.c.get('selected_halo_color').gv(bL),!!false,Math.floor(bN))}if(bR!==0){L.restore()}}}}if(!bK.scaleMarksInX&&bK.scaleMarksInY){{var bX=bK.getMarkInstanceOffsets(bL);var bY=bX.length;for(var bZ=0;bZ<bY;bZ++){var ca=bX[bZ];X.$c(L,ca);{var cb=0;var cc=bK.c.get('x').gv(bL)-bM+cb;var cd=bK.c.get('x').gv(bL)+bM-cb;var ce=bK.c.get('y').gv(bL)+cb;var cf=bK.c.get('y1').gv(bL)-cb;X.$3(L,bK,bL,cc,cd,ce,cf,bK.c.get('selected_halo_color').gv(bL),!!false,Math.floor(bN))}if(ca!==0){L.restore()}}}}if(bK.scaleMarksInX&&!bK.scaleMarksInY){{var cg=bK.getMarkInstanceOffsets(bL);var ch=cg.length;for(var ci=0;ci<ch;ci++){var cj=cg[ci];X.$c(L,cj);{var ck=0;var cl=bK.c.get('x').gv(bL)+ck;var cm=bK.c.get('x1').gv(bL)-ck;var cn=bK.c.get('y').gv(bL)-bM+ck;var co=bK.c.get('y').gv(bL)+bM-ck;X.$3(L,bK,bL,cl,cm,cn,co,bK.c.get('selected_halo_color').gv(bL),!!false,Math.floor(bN))}if(cj!==0){L.restore()}}}}if(!bK.scaleMarksInX&&!bK.scaleMarksInY){{var cp=bK.getMarkInstanceOffsets(bL);var cq=cp.length;for(var cr=0;cr<cq;cr++){var cs=cp[cr];X.$c(L,cs);{var ct=0;var cu=bK.c.get('x').gv(bL)-bM+ct;var cv=bK.c.get('x').gv(bL)+bM-ct;var cw=bK.c.get('y').gv(bL)-bM+ct;var cx=bK.c.get('y').gv(bL)+bM-ct;X.$3(L,bK,bL,cu,cv,cw,cx,bK.c.get('selected_halo_color').gv(bL),!!true,Math.floor(bN))}if(cs!==0){L.restore()}}}}};X.renderLineMarkHoverOverlayImage=function(L,bK,bL){var bM=false;if(bL-1>0&&!bK.isMarkEndPrimitive(bL-1)){bM=bM||bK.isMarkHighlighted(bL-1)}if(bL+1<bK.markCount&&!bK.isMarkEndPrimitive(bL)){bM=bM||bK.isMarkHighlighted(bL+1)}var bN;var bO=bK.c.get('x').gv(bL);var bP=bK.c.get('y').gv(bL);if(bK.isMarkSelected(bL)){bN=bK.c.get('selected_halo_color').gv(bL)['colorOverrideOpaque'];{var bQ=bK.c.get('draw_border').gv(bL);var bR=bK.c.get('size').gv(bL)+4+4+(bQ?2:0);tab.CanvasRenderer.renderCircle(L,0+bO,0+bP,bR,bN,4)}bN=bK.getMarkColors(bL)['colorOverrideOpaque'];{var bS=bK.getMarkInstanceOffsets(bL);var bT=bS.length;for(var bU=0;bU<bT;bU++){var bV=bS[bU];X.$c(L,bV);tab.CanvasRenderer.renderFilledCircle(L,0+bO,0+bP,bK.c.get('size').gv(bL)+4+4,bN);if(bV!==0){L.restore()}}}}else if(bK.isMarkHighlighted(bL)&&!bM){bN=bK.c.get('selected_multi_prim_halo_color').gv(bL)['colorOverrideNone'];{var bW=bK.getMarkInstanceOffsets(bL);var bX=bW.length;for(var bY=0;bY<bX;bY++){var bZ=bW[bY];X.$c(L,bZ);{var ca=bK.c.get('draw_border').gv(bL);var cb=bK.c.get('size').gv(bL)+4+4+(ca?2:0);tab.CanvasRenderer.renderCircle(L,0+bO,0+bP,cb,bN,4)}if(bZ!==0){L.restore()}}}bN=bK.getMarkColors(bL)['colorOverrideNone'];{var cc=bK.getMarkInstanceOffsets(bL);var cd=cc.length;for(var ce=0;ce<cd;ce++){var cf=cc[ce];X.$c(L,cf);tab.CanvasRenderer.renderFilledCircle(L,0+bO,0+bP,bK.c.get('size').gv(bL)+4+4,bN);if(cf!==0){L.restore()}}}}else{bN=bK.getMarkColors(bL)['colorOverrideNone'];{var cg=bK.getMarkInstanceOffsets(bL);var ch=cg.length;for(var ci=0;ci<ch;ci++){var cj=cg[ci];X.$c(L,cj);tab.CanvasRenderer.renderFilledCircle(L,0+bO,0+bP,bK.c.get('size').gv(bL)+4,bN);if(cj!==0){L.restore()}}}}};X.renderLineMarkPressedOverlayImage=function(L,bK,bL){var bM=bK.getMarkColors(bL)['colorOverrideNone'];var bN=bK.c.get('x').gv(bL);var bO=bK.c.get('y').gv(bL);{var bP=bK.getMarkInstanceOffsets(bL);var bQ=bP.length;for(var bR=0;bR<bQ;bR++){var bS=bP[bR];X.$c(L,bS);tab.CanvasRenderer.renderFilledCircle(L,0+bN,0+bO,bK.c.get('size').gv(bL)+8,bM);if(bS!==0){L.restore()}}}};X.shapeHasLayerContent=function(L,bK){var bL=false;switch(L){case'shapeIDCircle':{switch(bK){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{bL=true;break}default:{break}}break}case'shapeIDFilledCircle':{switch(bK){case'normalUnder':case'normalOn':case'selectedUnder':case'border':case'hoverOverlay':case'pressedOverlay':{bL=true;break}default:{break}}break}case'shapeIDUnscaledFilledCircle':{switch(bK){case'normalUnder':case'normalOn':case'selectedUnder':case'border':case'hoverOverlay':case'pressedOverlay':{bL=true;break}default:{break}}break}case'shapeIDSquare':{switch(bK){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{bL=true;break}default:{break}}break}case'shapeIDFilledSquare':{switch(bK){case'normalUnder':case'normalOn':case'selectedUnder':case'border':case'hoverOverlay':case'pressedOverlay':{bL=true;break}default:{break}}break}case'shapeIDAsterisk':{switch(bK){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{bL=true;break}default:{break}}break}case'shapeIDPlus':{switch(bK){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{bL=true;break}default:{break}}break}case'shapeIDFilledPlus':{switch(bK){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{bL=true;break}default:{break}}break}case'shapeIDTimes':{switch(bK){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{bL=true;break}default:{break}}break}case'shapeIDFilledTimes':{switch(bK){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{bL=true;break}default:{break}}break}case'shapeIDDiamond':{switch(bK){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{bL=true;break}default:{break}}break}case'shapeIDFilledDiamond':{switch(bK){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{bL=true;break}default:{break}}break}case'shapeIDTriangle':{switch(bK){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{bL=true;break}default:{break}}break}case'shapeIDFilledTriangle':{switch(bK){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{bL=true;break}default:{break}}break}case'shapeIDDownTriangle':{switch(bK){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{bL=true;break}default:{break}}break}case'shapeIDFilledDownTriangle':{switch(bK){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{bL=true;break}default:{break}}break}case'shapeIDLeftTriangle':{switch(bK){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{bL=true;break}default:{break}}break}case'shapeIDFilledLeftTriangle':{switch(bK){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{bL=true;break}default:{break}}break}case'shapeIDRightTriangle':{switch(bK){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{bL=true;break}default:{break}}break}case'shapeIDFilledRightTriangle':{switch(bK){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{bL=true;break}default:{break}}break}case'shapeIDFilledStar':{switch(bK){case'normalUnder':case'normalOn':case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{bL=true;break}default:{break}}break}default:{bL=true;break}}return bL};X.getShapeMarkSpriteSize=function(L,bK,bL){var bM=0;switch(L){case'shapeIDCircle':{switch(bK){case'normalUnder':{bM=Math.ceil(bL+4);break}case'normalOn':{bM=Math.ceil(bL+2);break}case'selectedUnder':{bM=Math.ceil(bL+4);break}case'hoverOverlay':{bM=Math.ceil(bL+6);break}case'pressedOverlay':{bM=Math.ceil(bL+8);break}default:{break}}break}case'shapeIDFilledCircle':{switch(bK){case'normalUnder':{bM=Math.ceil(bL+4);break}case'normalOn':{bM=Math.ceil(bL+2);break}case'selectedUnder':{bM=Math.ceil(bL+4);break}case'border':{bM=Math.ceil(bL+2);break}case'hoverOverlay':{bM=Math.ceil(bL+2);break}case'pressedOverlay':{bM=Math.ceil(bL+6);break}default:{break}}break}case'shapeIDUnscaledFilledCircle':{switch(bK){case'normalUnder':{bM=Math.ceil(bL+4);break}case'normalOn':{bM=Math.ceil(bL+2);break}case'selectedUnder':{bM=Math.ceil(bL+4);break}case'border':{bM=Math.ceil(bL+2);break}case'hoverOverlay':{bM=Math.ceil(bL+4);break}case'pressedOverlay':{bM=Math.ceil(bL+6);break}default:{break}}break}case'shapeIDSquare':{switch(bK){case'normalUnder':{bM=Math.ceil(bL+4);break}case'normalOn':{bM=Math.ceil(bL+2);break}case'selectedUnder':{bM=Math.ceil(bL+4);break}case'hoverOverlay':{bM=Math.ceil(bL+4);break}case'pressedOverlay':{bM=Math.ceil(bL+6);break}default:{break}}break}case'shapeIDFilledSquare':{switch(bK){case'normalUnder':{bM=Math.ceil(bL+4);break}case'normalOn':{bM=Math.ceil(bL+2);break}case'selectedUnder':{bM=Math.ceil(bL+4);break}case'border':{bM=Math.ceil(bL+2);break}case'hoverOverlay':{bM=Math.ceil(bL+2);break}case'pressedOverlay':{bM=Math.ceil(bL+4);break}default:{break}}break}case'shapeIDAsterisk':{switch(bK){case'normalUnder':{bM=Math.ceil(bL+4);break}case'normalOn':{bM=Math.ceil(bL+2);break}case'selectedUnder':{bM=Math.ceil(bL+4);break}case'hoverOverlay':{bM=Math.ceil(bL+6);break}case'pressedOverlay':{bM=Math.ceil(bL+8);break}default:{break}}break}case'shapeIDPlus':{switch(bK){case'normalUnder':{bM=Math.ceil(bL+4);break}case'normalOn':{bM=Math.ceil(bL+2);break}case'selectedUnder':{bM=Math.ceil(bL+4);break}case'hoverOverlay':{bM=Math.ceil(bL+4);break}case'pressedOverlay':{bM=Math.ceil(bL+6);break}default:{break}}break}case'shapeIDFilledPlus':{switch(bK){case'normalUnder':{bM=Math.ceil(bL+4);break}case'normalOn':{bM=Math.ceil(bL+2);break}case'selectedUnder':{bM=Math.ceil(bL+4);break}case'hoverOverlay':{bM=Math.ceil(bL+3);break}case'pressedOverlay':{bM=Math.ceil(bL+5);break}default:{break}}break}case'shapeIDTimes':{switch(bK){case'normalUnder':{bM=Math.ceil(bL+4);break}case'normalOn':{bM=Math.ceil(bL+2);break}case'selectedUnder':{bM=Math.ceil(bL+4);break}case'hoverOverlay':{bM=Math.ceil(bL+4);break}case'pressedOverlay':{bM=Math.ceil(bL+6);break}default:{break}}break}case'shapeIDFilledTimes':{switch(bK){case'normalUnder':{bM=Math.ceil(bL+4);break}case'normalOn':{bM=Math.ceil(bL+2);break}case'selectedUnder':{bM=Math.ceil(bL+4);break}case'hoverOverlay':{bM=Math.ceil(bL+4);break}case'pressedOverlay':{bM=Math.ceil(bL+6);break}default:{break}}break}case'shapeIDDiamond':{switch(bK){case'normalUnder':{bM=Math.ceil(bL+4);break}case'normalOn':{bM=Math.ceil(bL+2);break}case'selectedUnder':{bM=Math.ceil(bL+4);break}case'hoverOverlay':{bM=Math.ceil(bL+6);break}case'pressedOverlay':{bM=Math.ceil(bL+8);break}default:{break}}break}case'shapeIDFilledDiamond':{switch(bK){case'normalUnder':{bM=Math.ceil(bL+4);break}case'normalOn':{bM=Math.ceil(bL+2);break}case'selectedUnder':{bM=Math.ceil(bL+4);break}case'hoverOverlay':{bM=Math.ceil(bL+5);break}case'pressedOverlay':{bM=Math.ceil(bL+7);break}default:{break}}break}case'shapeIDTriangle':{switch(bK){case'normalUnder':{bM=Math.ceil(bL+4);break}case'normalOn':{bM=Math.ceil(bL+2);break}case'selectedUnder':{bM=Math.ceil(bL+4);break}case'hoverOverlay':{bM=Math.ceil(bL+6);break}case'pressedOverlay':{bM=Math.ceil(bL+8);break}default:{break}}break}case'shapeIDFilledTriangle':{switch(bK){case'normalUnder':{bM=Math.ceil(bL+4);break}case'normalOn':{bM=Math.ceil(bL+2);break}case'selectedUnder':{bM=Math.ceil(bL+4);break}case'hoverOverlay':{bM=Math.ceil(bL+2);break}case'pressedOverlay':{bM=Math.ceil(bL+4);break}default:{break}}break}case'shapeIDDownTriangle':{switch(bK){case'normalUnder':{bM=Math.ceil(bL+4);break}case'normalOn':{bM=Math.ceil(bL+2);break}case'selectedUnder':{bM=Math.ceil(bL+4);break}case'hoverOverlay':{bM=Math.ceil(bL+4);break}case'pressedOverlay':{bM=Math.ceil(bL+4);break}default:{break}}break}case'shapeIDFilledDownTriangle':{switch(bK){case'normalUnder':{bM=Math.ceil(bL+4);break}case'normalOn':{bM=Math.ceil(bL+2);break}case'selectedUnder':{bM=Math.ceil(bL+4);break}case'hoverOverlay':{bM=Math.ceil(bL+2);break}case'pressedOverlay':{bM=Math.ceil(bL+4);break}default:{break}}break}case'shapeIDLeftTriangle':{switch(bK){case'normalUnder':{bM=Math.ceil(bL+4);break}case'normalOn':{bM=Math.ceil(bL+2);break}case'selectedUnder':{bM=Math.ceil(bL+4);break}case'hoverOverlay':{bM=Math.ceil(bL+4);break}case'pressedOverlay':{bM=Math.ceil(bL+4);break}default:{break}}break}case'shapeIDFilledLeftTriangle':{switch(bK){case'normalUnder':{bM=Math.ceil(bL+4);break}case'normalOn':{bM=Math.ceil(bL+2);break}case'selectedUnder':{bM=Math.ceil(bL+4);break}case'hoverOverlay':{bM=Math.ceil(bL+2);break}case'pressedOverlay':{bM=Math.ceil(bL+4);break}default:{break}}break}case'shapeIDRightTriangle':{switch(bK){case'normalUnder':{bM=Math.ceil(bL+4);break}case'normalOn':{bM=Math.ceil(bL+2);break}case'selectedUnder':{bM=Math.ceil(bL+4);break}case'hoverOverlay':{bM=Math.ceil(bL+4);break}case'pressedOverlay':{bM=Math.ceil(bL+6);break}default:{break}}break}case'shapeIDFilledRightTriangle':{switch(bK){case'normalUnder':{bM=Math.ceil(bL+4);break}case'normalOn':{bM=Math.ceil(bL+2);break}case'selectedUnder':{bM=Math.ceil(bL+4);break}case'hoverOverlay':{bM=Math.ceil(bL+2);break}case'pressedOverlay':{bM=Math.ceil(bL+4);break}default:{break}}break}case'shapeIDFilledStar':{switch(bK){case'normalUnder':{bM=Math.ceil(bL+6);break}case'normalOn':{bM=Math.ceil(bL+2);break}case'selectedUnder':{bM=Math.ceil(bL+6);break}case'hoverOverlay':{bM=Math.ceil(bL+10);break}case'pressedOverlay':{bM=Math.ceil(bL+14);break}default:{break}}break}default:{break}}return bM};X.renderShapeHoverOverlayImage=function(L,bK,bL){var bM=bK.c.get('shape_id').gv(bL);var bN=bK.c.get('x').gv(bL);var bO=bK.c.get('y').gv(bL);if(bK.shouldStampThisShapeMark(bL)){bN=bN+0.5<<0;bO=bO+0.5<<0}switch(bM){case'shapeIDCircle':{X.renderShapeIDCircleHoverOverlayImage(L,bK,bN,bO,bL);break}case'shapeIDFilledCircle':{X.renderShapeIDFilledCircleHoverOverlayImage(L,bK,bN,bO,bL);break}case'shapeIDUnscaledFilledCircle':{X.renderShapeIDUnscaledFilledCircleHoverOverlayImage(L,bK,bN,bO,bL);break}case'shapeIDSquare':{X.renderShapeIDSquareHoverOverlayImage(L,bK,bN,bO,bL);break}case'shapeIDFilledSquare':{X.renderShapeIDFilledSquareHoverOverlayImage(L,bK,bN,bO,bL);break}case'shapeIDAsterisk':{X.renderShapeIDAsteriskHoverOverlayImage(L,bK,bN,bO,bL);break}case'shapeIDPlus':{X.renderShapeIDPlusHoverOverlayImage(L,bK,bN,bO,bL);break}case'shapeIDFilledPlus':{X.renderShapeIDFilledPlusHoverOverlayImage(L,bK,bN,bO,bL);break}case'shapeIDTimes':{X.renderShapeIDTimesHoverOverlayImage(L,bK,bN,bO,bL);break}case'shapeIDFilledTimes':{X.renderShapeIDFilledTimesHoverOverlayImage(L,bK,bN,bO,bL);break}case'shapeIDDiamond':{X.renderShapeIDDiamondHoverOverlayImage(L,bK,bN,bO,bL);break}case'shapeIDFilledDiamond':{X.renderShapeIDFilledDiamondHoverOverlayImage(L,bK,bN,bO,bL);break}case'shapeIDTriangle':{X.renderShapeIDTriangleHoverOverlayImage(L,bK,bN,bO,bL);break}case'shapeIDFilledTriangle':{X.renderShapeIDFilledTriangleHoverOverlayImage(L,bK,bN,bO,bL);break}case'shapeIDDownTriangle':{X.renderShapeIDDownTriangleHoverOverlayImage(L,bK,bN,bO,bL);break}case'shapeIDFilledDownTriangle':{X.renderShapeIDFilledDownTriangleHoverOverlayImage(L,bK,bN,bO,bL);break}case'shapeIDLeftTriangle':{X.renderShapeIDLeftTriangleHoverOverlayImage(L,bK,bN,bO,bL);break}case'shapeIDFilledLeftTriangle':{X.renderShapeIDFilledLeftTriangleHoverOverlayImage(L,bK,bN,bO,bL);break}case'shapeIDRightTriangle':{X.renderShapeIDRightTriangleHoverOverlayImage(L,bK,bN,bO,bL);break}case'shapeIDFilledRightTriangle':{X.renderShapeIDFilledRightTriangleHoverOverlayImage(L,bK,bN,bO,bL);break}case'shapeIDFilledStar':{X.renderShapeIDFilledStarHoverOverlayImage(L,bK,bN,bO,bL);break}default:{if(ss.isValue(tab.ApplicationModel.get_instance().get_shapeManager().getImageElement(bM))){var bP=bK.getMarkInstanceOffsets(bL);var bQ=bP.length;for(var bR=0;bR<bQ;bR++){var bS=bP[bR];if(bS!==0){L.save();L.translate(bS,0)}X.$a(L,bK,bL,'hoverOverlay','colorOverrideNone');if(bS!==0){L.restore()}}}else{X.renderShapeIDCircleHoverOverlayImage(L,bK,bN,bO,bL)}break}}};X.renderShapePressedOverlayImage=function(L,bK,bL){var bM=bK.getMarkIndexFromTupleId(bL);var bN=bK.c.get('shape_id').gv(bM);var bO=bK.c.get('x').gv(bM);var bP=bK.c.get('y').gv(bM);if(bK.shouldStampThisShapeMark(bM)){bO=bO+0.5<<0;bP=bP+0.5<<0}switch(bN){case'shapeIDCircle':{X.renderShapeIDCirclePressedOverlayImage(L,bK,bO,bP,bM);break}case'shapeIDFilledCircle':{X.renderShapeIDFilledCirclePressedOverlayImage(L,bK,bO,bP,bM);break}case'shapeIDUnscaledFilledCircle':{X.renderShapeIDUnscaledFilledCirclePressedOverlayImage(L,bK,bO,bP,bM);break}case'shapeIDSquare':{X.renderShapeIDSquarePressedOverlayImage(L,bK,bO,bP,bM);break}case'shapeIDFilledSquare':{X.renderShapeIDFilledSquarePressedOverlayImage(L,bK,bO,bP,bM);break}case'shapeIDAsterisk':{X.renderShapeIDAsteriskPressedOverlayImage(L,bK,bO,bP,bM);break}case'shapeIDPlus':{X.renderShapeIDPlusPressedOverlayImage(L,bK,bO,bP,bM);break}case'shapeIDFilledPlus':{X.renderShapeIDFilledPlusPressedOverlayImage(L,bK,bO,bP,bM);break}case'shapeIDTimes':{X.renderShapeIDTimesPressedOverlayImage(L,bK,bO,bP,bM);break}case'shapeIDFilledTimes':{X.renderShapeIDFilledTimesPressedOverlayImage(L,bK,bO,bP,bM);break}case'shapeIDDiamond':{X.renderShapeIDDiamondPressedOverlayImage(L,bK,bO,bP,bM);break}case'shapeIDFilledDiamond':{X.renderShapeIDFilledDiamondPressedOverlayImage(L,bK,bO,bP,bM);break}case'shapeIDTriangle':{X.renderShapeIDTrianglePressedOverlayImage(L,bK,bO,bP,bM);break}case'shapeIDFilledTriangle':{X.renderShapeIDFilledTrianglePressedOverlayImage(L,bK,bO,bP,bM);break}case'shapeIDDownTriangle':{X.renderShapeIDDownTrianglePressedOverlayImage(L,bK,bO,bP,bM);break}case'shapeIDFilledDownTriangle':{X.renderShapeIDFilledDownTrianglePressedOverlayImage(L,bK,bO,bP,bM);break}case'shapeIDLeftTriangle':{X.renderShapeIDLeftTrianglePressedOverlayImage(L,bK,bO,bP,bM);break}case'shapeIDFilledLeftTriangle':{X.renderShapeIDFilledLeftTrianglePressedOverlayImage(L,bK,bO,bP,bM);break}case'shapeIDRightTriangle':{X.renderShapeIDRightTrianglePressedOverlayImage(L,bK,bO,bP,bM);break}case'shapeIDFilledRightTriangle':{X.renderShapeIDFilledRightTrianglePressedOverlayImage(L,bK,bO,bP,bM);break}case'shapeIDFilledStar':{X.renderShapeIDFilledStarPressedOverlayImage(L,bK,bO,bP,bM);break}default:{if(ss.isValue(tab.ApplicationModel.get_instance().get_shapeManager().getImageElement(bN))){var bQ=bK.getMarkInstanceOffsets(bM);var bR=bQ.length;for(var bS=0;bS<bR;bS++){var bT=bQ[bS];if(bT!==0){L.save();L.translate(bT,0)}X.$a(L,bK,bM,'pressedOverlay','colorOverrideNone');if(bT!==0){L.restore()}}}else{X.renderShapeIDCirclePressedOverlayImage(L,bK,bO,bP,bM)}break}}};X.renderShapeIDCircleHoverOverlayImage=function(L,bK,bL,bM,bN){var bO=bK.c.get('selected_halo_color').gv(bN)['colorOverrideNone'];var bP=bL;var bQ=bM;{var bR=bK.getMarkInstanceOffsets(bN);var bS=bR.length;for(var bT=0;bT<bS;bT++){var bU=bR[bT];X.$c(L,bU);{var bV=bK.c.get('draw_border').gv(bN);var bW=bK.c.get('size').gv(bN)*0.958333333333333+2+(bV?2:0);tab.CanvasRenderer.renderCircle(L,0+bP,0+bQ,bW,bO,1)}if(bU!==0){L.restore()}}}};X.renderShapeIDCirclePressedOverlayImage=function(L,bK,bL,bM,bN){var bO=bK.c.get('selected_halo_color').gv(bN)['colorOverrideNone'];var bP=bL;var bQ=bM;{var bR=bK.getMarkInstanceOffsets(bN);var bS=bR.length;for(var bT=0;bT<bS;bT++){var bU=bR[bT];X.$c(L,bU);{var bV=bK.c.get('draw_border').gv(bN);var bW=bK.c.get('size').gv(bN)*0.958333333333333+3+(bV?2:0);tab.CanvasRenderer.renderCircle(L,0+bP,0+bQ,bW,bO,2)}if(bU!==0){L.restore()}}}};X.renderShapeIDFilledCircleHoverOverlayImage=function(L,bK,bL,bM,bN){var bO=bK.c.get('selected_halo_color').gv(bN)['colorOverrideNone'];var bP=bL;var bQ=bM;{var bR=bK.getMarkInstanceOffsets(bN);var bS=bR.length;for(var bT=0;bT<bS;bT++){var bU=bR[bT];X.$c(L,bU);{var bV=bK.c.get('draw_border').gv(bN);var bW=bK.c.get('size').gv(bN)*0.979166666666667+(bV?2:0);tab.CanvasRenderer.renderCircle(L,0+bP,0+bQ,bW,bO,1)}if(bU!==0){L.restore()}}}};X.renderShapeIDFilledCirclePressedOverlayImage=function(L,bK,bL,bM,bN){var bO=bK.c.get('selected_halo_color').gv(bN)['colorOverrideNone'];var bP=bL;var bQ=bM;{var bR=bK.getMarkInstanceOffsets(bN);var bS=bR.length;for(var bT=0;bT<bS;bT++){var bU=bR[bT];X.$c(L,bU);{var bV=bK.c.get('draw_border').gv(bN);var bW=bK.c.get('size').gv(bN)*0.979166666666667+1+(bV?2:0);tab.CanvasRenderer.renderCircle(L,0+bP,0+bQ,bW,bO,2)}if(bU!==0){L.restore()}}}};X.renderShapeIDUnscaledFilledCircleHoverOverlayImage=function(L,bK,bL,bM,bN){var bO=bK.c.get('selected_halo_color').gv(bN)['colorOverrideNone'];var bP=bL;var bQ=bM;{var bR=bK.getMarkInstanceOffsets(bN);var bS=bR.length;for(var bT=0;bT<bS;bT++){var bU=bR[bT];X.$c(L,bU);{var bV=bK.c.get('draw_border').gv(bN);var bW=bK.c.get('size').gv(bN)+(bV?2:0);tab.CanvasRenderer.renderCircle(L,0+bP,0+bQ,bW,bO,1)}if(bU!==0){L.restore()}}}};X.renderShapeIDUnscaledFilledCirclePressedOverlayImage=function(L,bK,bL,bM,bN){var bO=bK.c.get('selected_halo_color').gv(bN)['colorOverrideNone'];var bP=bL;var bQ=bM;{var bR=bK.getMarkInstanceOffsets(bN);var bS=bR.length;for(var bT=0;bT<bS;bT++){var bU=bR[bT];X.$c(L,bU);{var bV=bK.c.get('draw_border').gv(bN);var bW=bK.c.get('size').gv(bN)+1+(bV?2:0);tab.CanvasRenderer.renderCircle(L,0+bP,0+bQ,bW,bO,2)}if(bU!==0){L.restore()}}}};X.renderShapeIDSquareHoverOverlayImage=function(L,bK,bL,bM,bN){var bO=bK.c.get('selected_halo_color').gv(bN)['colorOverrideNone'];var bP=bL;var bQ=bM;{var bR=bK.getMarkInstanceOffsets(bN);var bS=bR.length;for(var bT=0;bT<bS;bT++){var bU=bR[bT];X.$c(L,bU);tab.CanvasRenderer.renderRectangle(L,bP+0,bQ+0,bK.c.get('size').gv(bN)*0.895833333333333+3,bK.c.get('size').gv(bN)*0.895833333333333+3,bO,1);if(bU!==0){L.restore()}}}};X.renderShapeIDSquarePressedOverlayImage=function(L,bK,bL,bM,bN){var bO=bK.c.get('selected_halo_color').gv(bN)['colorOverrideNone'];var bP=bL;var bQ=bM;{var bR=bK.getMarkInstanceOffsets(bN);var bS=bR.length;for(var bT=0;bT<bS;bT++){var bU=bR[bT];X.$c(L,bU);tab.CanvasRenderer.renderRectangle(L,bP+0,bQ+0,bK.c.get('size').gv(bN)*0.895833333333333+4,bK.c.get('size').gv(bN)*0.895833333333333+4,bO,2);if(bU!==0){L.restore()}}}};X.renderShapeIDFilledSquareHoverOverlayImage=function(L,bK,bL,bM,bN){var bO=bK.c.get('selected_halo_color').gv(bN)['colorOverrideNone'];var bP=bL;var bQ=bM;{var bR=bK.getMarkInstanceOffsets(bN);var bS=bR.length;for(var bT=0;bT<bS;bT++){var bU=bR[bT];X.$c(L,bU);tab.CanvasRenderer.renderRectangle(L,bP+0,bQ+0,bK.c.get('size').gv(bN)*0.9375+1,bK.c.get('size').gv(bN)*0.9375+1,bO,1);if(bU!==0){L.restore()}}}};X.renderShapeIDFilledSquarePressedOverlayImage=function(L,bK,bL,bM,bN){var bO=bK.c.get('selected_halo_color').gv(bN)['colorOverrideNone'];var bP=bL;var bQ=bM;{var bR=bK.getMarkInstanceOffsets(bN);var bS=bR.length;for(var bT=0;bT<bS;bT++){var bU=bR[bT];X.$c(L,bU);tab.CanvasRenderer.renderRectangle(L,bP+0,bQ+0,bK.c.get('size').gv(bN)*0.9375+2,bK.c.get('size').gv(bN)*0.9375+2,bO,2);if(bU!==0){L.restore()}}}};X.renderShapeIDAsteriskHoverOverlayImage=function(L,bK,bL,bM,bN){var bO=bK.c.get('selected_halo_color').gv(bN)['colorOverrideNone'];var bP=bL;var bQ=bM;{var bR=bK.getMarkInstanceOffsets(bN);var bS=bR.length;for(var bT=0;bT<bS;bT++){var bU=bR[bT];X.$c(L,bU);{var bV=new Array(36);var bW=(bK.c.get('size').gv(bN)*0.958333333333333+2)/2;var bX=0.899999976158142*bW;var bY=(bK.c.get('size').gv(bN)*0.958333333333333+6)/4;var bZ=2.5;var ca=1.5;bV[0]=-bZ+bP;bV[1]=0+bQ;bV[2]=-bX+bP;bV[3]=bY-bZ+bQ;bV[4]=ca-bX+bP;bV[5]=bY+bQ;bV[6]=-ca+bP;bV[7]=bZ+bQ;bV[8]=-ca+bP;bV[9]=bW+bQ;bV[10]=ca+bP;bV[11]=bW+bQ;bV[12]=ca+bP;bV[13]=bZ+bQ;bV[14]=bX-ca+bP;bV[15]=bY+bQ;bV[16]=bX+bP;bV[17]=bY-bZ+bQ;bV[18]=bZ+bP;bV[19]=0+bQ;bV[20]=bX+bP;bV[21]=bZ-bY+bQ;bV[22]=bX-ca+bP;bV[23]=-bY+bQ;bV[24]=ca+bP;bV[25]=-bZ+bQ;bV[26]=ca+bP;bV[27]=-bW+bQ;bV[28]=-ca+bP;bV[29]=-bW+bQ;bV[30]=-ca+bP;bV[31]=-bZ+bQ;bV[32]=ca-bX+bP;bV[33]=-bY+bQ;bV[34]=-bX+bP;bV[35]=bZ-bY+bQ;L.set_lineWidth(1);L.set_strokeStyle(bO);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,bV,true,true)}if(bU!==0){L.restore()}}}};X.renderShapeIDAsteriskPressedOverlayImage=function(L,bK,bL,bM,bN){var bO=bK.c.get('selected_halo_color').gv(bN)['colorOverrideNone'];var bP=bL;var bQ=bM;{var bR=bK.getMarkInstanceOffsets(bN);var bS=bR.length;for(var bT=0;bT<bS;bT++){var bU=bR[bT];X.$c(L,bU);{var bV=new Array(36);var bW=(bK.c.get('size').gv(bN)*0.958333333333333+4)/2;var bX=0.899999976158142*bW;var bY=(bK.c.get('size').gv(bN)*0.958333333333333+8)/4;var bZ=3;var ca=2;bV[0]=-bZ+bP;bV[1]=0+bQ;bV[2]=-bX+bP;bV[3]=bY-bZ+bQ;bV[4]=ca-bX+bP;bV[5]=bY+bQ;bV[6]=-ca+bP;bV[7]=bZ+bQ;bV[8]=-ca+bP;bV[9]=bW+bQ;bV[10]=ca+bP;bV[11]=bW+bQ;bV[12]=ca+bP;bV[13]=bZ+bQ;bV[14]=bX-ca+bP;bV[15]=bY+bQ;bV[16]=bX+bP;bV[17]=bY-bZ+bQ;bV[18]=bZ+bP;bV[19]=0+bQ;bV[20]=bX+bP;bV[21]=bZ-bY+bQ;bV[22]=bX-ca+bP;bV[23]=-bY+bQ;bV[24]=ca+bP;bV[25]=-bZ+bQ;bV[26]=ca+bP;bV[27]=-bW+bQ;bV[28]=-ca+bP;bV[29]=-bW+bQ;bV[30]=-ca+bP;bV[31]=-bZ+bQ;bV[32]=ca-bX+bP;bV[33]=-bY+bQ;bV[34]=-bX+bP;bV[35]=bZ-bY+bQ;L.set_lineWidth(2);L.set_strokeStyle(bO);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,bV,true,true)}if(bU!==0){L.restore()}}}};X.renderShapeIDPlusHoverOverlayImage=function(L,bK,bL,bM,bN){var bO=bK.c.get('selected_halo_color').gv(bN)['colorOverrideNone'];var bP=bL;var bQ=bM;{var bR=bK.getMarkInstanceOffsets(bN);var bS=bR.length;for(var bT=0;bT<bS;bT++){var bU=bR[bT];X.$c(L,bU);{var bV=new Array(24);var bW=(bK.c.get('size').gv(bN)*0.916666666666667+2)/2;var bX=1.5;bV[0]=-bX+bP;bV[1]=-bW+bQ;bV[2]=-bX+bP;bV[3]=-bX+bQ;bV[4]=-bW+bP;bV[5]=-bX+bQ;bV[6]=-bW+bP;bV[7]=bX+bQ;bV[8]=-bX+bP;bV[9]=bX+bQ;bV[10]=-bX+bP;bV[11]=bW+bQ;bV[12]=bX+bP;bV[13]=bW+bQ;bV[14]=bX+bP;bV[15]=bX+bQ;bV[16]=bW+bP;bV[17]=bX+bQ;bV[18]=bW+bP;bV[19]=-bX+bQ;bV[20]=bX+bP;bV[21]=-bX+bQ;bV[22]=bX+bP;bV[23]=-bW+bQ;L.set_lineWidth(1);L.set_strokeStyle(bO);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,bV,true,true)}if(bU!==0){L.restore()}}}};X.renderShapeIDPlusPressedOverlayImage=function(L,bK,bL,bM,bN){var bO=bK.c.get('selected_halo_color').gv(bN)['colorOverrideNone'];var bP=bL;var bQ=bM;{var bR=bK.getMarkInstanceOffsets(bN);var bS=bR.length;for(var bT=0;bT<bS;bT++){var bU=bR[bT];X.$c(L,bU);{var bV=new Array(24);var bW=(bK.c.get('size').gv(bN)*0.916666666666667+3)/2;var bX=2;bV[0]=-bX+bP;bV[1]=-bW+bQ;bV[2]=-bX+bP;bV[3]=-bX+bQ;bV[4]=-bW+bP;bV[5]=-bX+bQ;bV[6]=-bW+bP;bV[7]=bX+bQ;bV[8]=-bX+bP;bV[9]=bX+bQ;bV[10]=-bX+bP;bV[11]=bW+bQ;bV[12]=bX+bP;bV[13]=bW+bQ;bV[14]=bX+bP;bV[15]=bX+bQ;bV[16]=bW+bP;bV[17]=bX+bQ;bV[18]=bW+bP;bV[19]=-bX+bQ;bV[20]=bX+bP;bV[21]=-bX+bQ;bV[22]=bX+bP;bV[23]=-bW+bQ;L.set_lineWidth(2);L.set_strokeStyle(bO);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,bV,true,true)}if(bU!==0){L.restore()}}}};X.renderShapeIDFilledPlusHoverOverlayImage=function(L,bK,bL,bM,bN){var bO=bK.c.get('selected_halo_color').gv(bN)['colorOverrideNone'];var bP=bL;var bQ=bM;{var bR=bK.getMarkInstanceOffsets(bN);var bS=bR.length;for(var bT=0;bT<bS;bT++){var bU=bR[bT];X.$c(L,bU);{var bV=new Array(24);var bW=bK.c.get('size').gv(bN)*0.9375/2;var bX=bW/3;bV[0]=-bX+bP;bV[1]=-bW+bQ;bV[2]=-bX+bP;bV[3]=-bX+bQ;bV[4]=-bW+bP;bV[5]=-bX+bQ;bV[6]=-bW+bP;bV[7]=bX+bQ;bV[8]=-bX+bP;bV[9]=bX+bQ;bV[10]=-bX+bP;bV[11]=bW+bQ;bV[12]=bX+bP;bV[13]=bW+bQ;bV[14]=bX+bP;bV[15]=bX+bQ;bV[16]=bW+bP;bV[17]=bX+bQ;bV[18]=bW+bP;bV[19]=-bX+bQ;bV[20]=bX+bP;bV[21]=-bX+bQ;bV[22]=bX+bP;bV[23]=-bW+bQ;L.set_lineWidth(1);L.set_strokeStyle(bO);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,bV,true,true)}if(bU!==0){L.restore()}}}};X.renderShapeIDFilledPlusPressedOverlayImage=function(L,bK,bL,bM,bN){var bO=bK.c.get('selected_halo_color').gv(bN)['colorOverrideNone'];var bP=bL;var bQ=bM;{var bR=bK.getMarkInstanceOffsets(bN);var bS=bR.length;for(var bT=0;bT<bS;bT++){var bU=bR[bT];X.$c(L,bU);{var bV=new Array(24);var bW=(bK.c.get('size').gv(bN)*0.9375+1)/2;var bX=(bK.c.get('size').gv(bN)*0.9375+3)/6;bV[0]=-bX+bP;bV[1]=-bW+bQ;bV[2]=-bX+bP;bV[3]=-bX+bQ;bV[4]=-bW+bP;bV[5]=-bX+bQ;bV[6]=-bW+bP;bV[7]=bX+bQ;bV[8]=-bX+bP;bV[9]=bX+bQ;bV[10]=-bX+bP;bV[11]=bW+bQ;bV[12]=bX+bP;bV[13]=bW+bQ;bV[14]=bX+bP;bV[15]=bX+bQ;bV[16]=bW+bP;bV[17]=bX+bQ;bV[18]=bW+bP;bV[19]=-bX+bQ;bV[20]=bX+bP;bV[21]=-bX+bQ;bV[22]=bX+bP;bV[23]=-bW+bQ;L.set_lineWidth(2);L.set_strokeStyle(bO);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,bV,true,true)}if(bU!==0){L.restore()}}}};X.renderShapeIDTimesHoverOverlayImage=function(L,bK,bL,bM,bN){var bO=bK.c.get('selected_halo_color').gv(bN)['colorOverrideNone'];var bP=bL;var bQ=bM;{var bR=bK.getMarkInstanceOffsets(bN);var bS=bR.length;for(var bT=0;bT<bS;bT++){var bU=bR[bT];X.$c(L,bU);{var bV=new Array(24);var bW=(bK.c.get('size').gv(bN)*0.875+4)/2;var bX=2;bV[0]=-bW+bX+bP;bV[1]=-bW+bQ;bV[2]=-bW+bP;bV[3]=-bW+bX+bQ;bV[4]=-bX+bP;bV[5]=0+bQ;bV[6]=-bW+bP;bV[7]=bW-bX+bQ;bV[8]=-bW+bX+bP;bV[9]=bW+bQ;bV[10]=0+bP;bV[11]=bX+bQ;bV[12]=bW-bX+bP;bV[13]=bW+bQ;bV[14]=bW+bP;bV[15]=bW-bX+bQ;bV[16]=bX+bP;bV[17]=0+bQ;bV[18]=bW+bP;bV[19]=-bW+bX+bQ;bV[20]=bW-bX+bP;bV[21]=-bW+bQ;bV[22]=0+bP;bV[23]=-bX+bQ;L.set_lineWidth(1);L.set_strokeStyle(bO);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,bV,true,true)}if(bU!==0){L.restore()}}}};X.renderShapeIDTimesPressedOverlayImage=function(L,bK,bL,bM,bN){var bO=bK.c.get('selected_halo_color').gv(bN)['colorOverrideNone'];var bP=bL;var bQ=bM;{var bR=bK.getMarkInstanceOffsets(bN);var bS=bR.length;for(var bT=0;bT<bS;bT++){var bU=bR[bT];X.$c(L,bU);{var bV=new Array(24);var bW=(bK.c.get('size').gv(bN)*0.875+4)/2;var bX=3;bV[0]=-bW+bX+bP;bV[1]=-bW+bQ;bV[2]=-bW+bP;bV[3]=-bW+bX+bQ;bV[4]=-bX+bP;bV[5]=0+bQ;bV[6]=-bW+bP;bV[7]=bW-bX+bQ;bV[8]=-bW+bX+bP;bV[9]=bW+bQ;bV[10]=0+bP;bV[11]=bX+bQ;bV[12]=bW-bX+bP;bV[13]=bW+bQ;bV[14]=bW+bP;bV[15]=bW-bX+bQ;bV[16]=bX+bP;bV[17]=0+bQ;bV[18]=bW+bP;bV[19]=-bW+bX+bQ;bV[20]=bW-bX+bP;bV[21]=-bW+bQ;bV[22]=0+bP;bV[23]=-bX+bQ;L.set_lineWidth(2);L.set_strokeStyle(bO);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,bV,true,true)}if(bU!==0){L.restore()}}}};X.renderShapeIDFilledTimesHoverOverlayImage=function(L,bK,bL,bM,bN){var bO=bK.c.get('selected_halo_color').gv(bN)['colorOverrideNone'];var bP=bL;var bQ=bM;{var bR=bK.getMarkInstanceOffsets(bN);var bS=bR.length;for(var bT=0;bT<bS;bT++){var bU=bR[bT];X.$c(L,bU);{var bV=new Array(24);var bW=bK.c.get('size').gv(bN)*0.9375/2;var bX=bK.c.get('size').gv(bN)*0.9375/4;bV[0]=-bX+bP;bV[1]=-bW+bQ;bV[2]=-bW+bP;bV[3]=-bX+bQ;bV[4]=-bX+bP;bV[5]=0+bQ;bV[6]=-bW+bP;bV[7]=bX+bQ;bV[8]=-bX+bP;bV[9]=bW+bQ;bV[10]=0+bP;bV[11]=bX+bQ;bV[12]=bX+bP;bV[13]=bW+bQ;bV[14]=bW+bP;bV[15]=bX+bQ;bV[16]=bX+bP;bV[17]=0+bQ;bV[18]=bW+bP;bV[19]=-bX+bQ;bV[20]=bX+bP;bV[21]=-bW+bQ;bV[22]=0+bP;bV[23]=-bX+bQ;L.set_lineWidth(1);L.set_strokeStyle(bO);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,bV,true,true)}if(bU!==0){L.restore()}}}};X.renderShapeIDFilledTimesPressedOverlayImage=function(L,bK,bL,bM,bN){var bO=bK.c.get('selected_halo_color').gv(bN)['colorOverrideNone'];var bP=bL;var bQ=bM;{var bR=bK.getMarkInstanceOffsets(bN);var bS=bR.length;for(var bT=0;bT<bS;bT++){var bU=bR[bT];X.$c(L,bU);{var bV=new Array(24);var bW=bK.c.get('size').gv(bN)*0.9375/2;var bX=bK.c.get('size').gv(bN)*0.9375/4;bV[0]=-bX+bP;bV[1]=-bW+bQ;bV[2]=-bW+bP;bV[3]=-bX+bQ;bV[4]=-bX+bP;bV[5]=0+bQ;bV[6]=-bW+bP;bV[7]=bX+bQ;bV[8]=-bX+bP;bV[9]=bW+bQ;bV[10]=0+bP;bV[11]=bX+bQ;bV[12]=bX+bP;bV[13]=bW+bQ;bV[14]=bW+bP;bV[15]=bX+bQ;bV[16]=bX+bP;bV[17]=0+bQ;bV[18]=bW+bP;bV[19]=-bX+bQ;bV[20]=bX+bP;bV[21]=-bW+bQ;bV[22]=0+bP;bV[23]=-bX+bQ;L.set_lineWidth(2);L.set_strokeStyle(bO);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,bV,true,true)}if(bU!==0){L.restore()}}}};X.renderShapeIDDiamondHoverOverlayImage=function(L,bK,bL,bM,bN){var bO=bK.c.get('selected_halo_color').gv(bN)['colorOverrideNone'];var bP=bL;var bQ=bM;{var bR=bK.getMarkInstanceOffsets(bN);var bS=bR.length;for(var bT=0;bT<bS;bT++){var bU=bR[bT];X.$c(L,bU);{var bV=new Array(8);var bW=(bK.c.get('size').gv(bN)*1.04166666666667+3)/2;bV[0]=0+bP;bV[1]=-bW+bQ;bV[2]=-bW+bP;bV[3]=0+bQ;bV[4]=0+bP;bV[5]=bW+bQ;bV[6]=bW+bP;bV[7]=0+bQ;L.set_lineWidth(1);L.set_strokeStyle(bO);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,bV,true,true)}if(bU!==0){L.restore()}}}};X.renderShapeIDDiamondPressedOverlayImage=function(L,bK,bL,bM,bN){var bO=bK.c.get('selected_halo_color').gv(bN)['colorOverrideNone'];var bP=bL;var bQ=bM;{var bR=bK.getMarkInstanceOffsets(bN);var bS=bR.length;for(var bT=0;bT<bS;bT++){var bU=bR[bT];X.$c(L,bU);{var bV=new Array(8);var bW=(bK.c.get('size').gv(bN)*1.04166666666667+4)/2;bV[0]=0+bP;bV[1]=-bW+bQ;bV[2]=-bW+bP;bV[3]=0+bQ;bV[4]=0+bP;bV[5]=bW+bQ;bV[6]=bW+bP;bV[7]=0+bQ;L.set_lineWidth(2);L.set_strokeStyle(bO);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,bV,true,true)}if(bU!==0){L.restore()}}}};X.renderShapeIDFilledDiamondHoverOverlayImage=function(L,bK,bL,bM,bN){var bO=bK.c.get('selected_halo_color').gv(bN)['colorOverrideNone'];var bP=bL;var bQ=bM;{var bR=bK.getMarkInstanceOffsets(bN);var bS=bR.length;for(var bT=0;bT<bS;bT++){var bU=bR[bT];X.$c(L,bU);{var bV=new Array(8);var bW=bK.c.get('size').gv(bN)*1.04166666666667/2;bV[0]=0+bP;bV[1]=-bW+bQ;bV[2]=-bW+bP;bV[3]=0+bQ;bV[4]=0+bP;bV[5]=bW+bQ;bV[6]=bW+bP;bV[7]=0+bQ;L.set_lineWidth(1);L.set_strokeStyle(bO);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,bV,true,true)}if(bU!==0){L.restore()}}}};X.renderShapeIDFilledDiamondPressedOverlayImage=function(L,bK,bL,bM,bN){var bO=bK.c.get('selected_halo_color').gv(bN)['colorOverrideNone'];var bP=bL;var bQ=bM;{var bR=bK.getMarkInstanceOffsets(bN);var bS=bR.length;for(var bT=0;bT<bS;bT++){var bU=bR[bT];X.$c(L,bU);{var bV=new Array(8);var bW=(bK.c.get('size').gv(bN)*1.04166666666667+2)/2;bV[0]=0+bP;bV[1]=-bW+bQ;bV[2]=-bW+bP;bV[3]=0+bQ;bV[4]=0+bP;bV[5]=bW+bQ;bV[6]=bW+bP;bV[7]=0+bQ;L.set_lineWidth(2);L.set_strokeStyle(bO);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,bV,true,true)}if(bU!==0){L.restore()}}}};X.renderShapeIDTriangleHoverOverlayImage=function(L,bK,bL,bM,bN){var bO=bK.c.get('selected_halo_color').gv(bN)['colorOverrideNone'];var bP=bL;var bQ=bM;{var bR=bK.getMarkInstanceOffsets(bN);var bS=bR.length;for(var bT=0;bT<bS;bT++){var bU=bR[bT];X.$c(L,bU);{var bV=new Array(6);var bW=(bK.c.get('size').gv(bN)*0.895833333333333+3)/2;var bX=(bK.c.get('size').gv(bN)*0.895833333333333+6)/2;bV[0]=0+bP;bV[1]=-bX+bQ;bV[2]=-bW+bP;bV[3]=bW+bQ;bV[4]=bW+bP;bV[5]=bW+bQ;L.set_lineWidth(1);L.set_strokeStyle(bO);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,bV,true,true)}if(bU!==0){L.restore()}}}};X.renderShapeIDTrianglePressedOverlayImage=function(L,bK,bL,bM,bN){var bO=bK.c.get('selected_halo_color').gv(bN)['colorOverrideNone'];var bP=bL;var bQ=bM;{var bR=bK.getMarkInstanceOffsets(bN);var bS=bR.length;for(var bT=0;bT<bS;bT++){var bU=bR[bT];X.$c(L,bU);{var bV=new Array(6);var bW=(bK.c.get('size').gv(bN)*0.895833333333333+4)/2;var bX=(bK.c.get('size').gv(bN)*0.895833333333333+8)/2;bV[0]=0+bP;bV[1]=-bX+bQ;bV[2]=-bW+bP;bV[3]=bW+bQ;bV[4]=bW+bP;bV[5]=bW+bQ;L.set_lineWidth(2);L.set_strokeStyle(bO);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,bV,true,true)}if(bU!==0){L.restore()}}}};X.renderShapeIDFilledTriangleHoverOverlayImage=function(L,bK,bL,bM,bN){var bO=bK.c.get('selected_halo_color').gv(bN)['colorOverrideNone'];var bP=bL;var bQ=bM;{var bR=bK.getMarkInstanceOffsets(bN);var bS=bR.length;for(var bT=0;bT<bS;bT++){var bU=bR[bT];X.$c(L,bU);{var bV=new Array(6);var bW=bK.c.get('size').gv(bN)*0.916666666666667/2;bV[0]=0+bP;bV[1]=-bW+bQ;bV[2]=-bW+bP;bV[3]=bW+bQ;bV[4]=bW+bP;bV[5]=bW+bQ;L.set_lineWidth(1);L.set_strokeStyle(bO);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,bV,true,true)}if(bU!==0){L.restore()}}}};X.renderShapeIDFilledTrianglePressedOverlayImage=function(L,bK,bL,bM,bN){var bO=bK.c.get('selected_halo_color').gv(bN)['colorOverrideNone'];var bP=bL;var bQ=bM;{var bR=bK.getMarkInstanceOffsets(bN);var bS=bR.length;for(var bT=0;bT<bS;bT++){var bU=bR[bT];X.$c(L,bU);{var bV=new Array(6);var bW=(bK.c.get('size').gv(bN)*0.916666666666667+1)/2;bV[0]=0+bP;bV[1]=-bW+bQ;bV[2]=-bW+bP;bV[3]=bW+bQ;bV[4]=bW+bP;bV[5]=bW+bQ;L.set_lineWidth(2);L.set_strokeStyle(bO);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,bV,true,true)}if(bU!==0){L.restore()}}}};X.renderShapeIDDownTriangleHoverOverlayImage=function(L,bK,bL,bM,bN){var bO=bK.c.get('selected_halo_color').gv(bN)['colorOverrideNone'];var bP=bL;var bQ=bM;{var bR=bK.getMarkInstanceOffsets(bN);var bS=bR.length;for(var bT=0;bT<bS;bT++){var bU=bR[bT];X.$c(L,bU);{var bV=new Array(6);var bW=(bK.c.get('size').gv(bN)*0.895833333333333+2.5)/2;var bX=(bK.c.get('size').gv(bN)*0.895833333333333+6)/2;bV[0]=0+bP;bV[1]=bX+bQ;bV[2]=-bW+bP;bV[3]=-bW+bQ;bV[4]=bW+bP;bV[5]=-bW+bQ;L.set_lineWidth(1);L.set_strokeStyle(bO);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,bV,true,true)}if(bU!==0){L.restore()}}}};X.renderShapeIDDownTrianglePressedOverlayImage=function(L,bK,bL,bM,bN){var bO=bK.c.get('selected_halo_color').gv(bN)['colorOverrideNone'];var bP=bL;var bQ=bM;{var bR=bK.getMarkInstanceOffsets(bN);var bS=bR.length;for(var bT=0;bT<bS;bT++){var bU=bR[bT];X.$c(L,bU);{var bV=new Array(6);var bW=(bK.c.get('size').gv(bN)*0.895833333333333+4)/2;var bX=(bK.c.get('size').gv(bN)*0.895833333333333+8)/2;bV[0]=0+bP;bV[1]=bX+bQ;bV[2]=-bW+bP;bV[3]=-bW+bQ;bV[4]=bW+bP;bV[5]=-bW+bQ;L.set_lineWidth(2);L.set_strokeStyle(bO);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,bV,true,true)}if(bU!==0){L.restore()}}}};X.renderShapeIDFilledDownTriangleHoverOverlayImage=function(L,bK,bL,bM,bN){var bO=bK.c.get('selected_halo_color').gv(bN)['colorOverrideNone'];var bP=bL;var bQ=bM;{var bR=bK.getMarkInstanceOffsets(bN);var bS=bR.length;for(var bT=0;bT<bS;bT++){var bU=bR[bT];X.$c(L,bU);{var bV=new Array(6);var bW=bK.c.get('size').gv(bN)*0.916666666666667/2;bV[0]=0+bP;bV[1]=bW+bQ;bV[2]=-bW+bP;bV[3]=-bW+bQ;bV[4]=bW+bP;bV[5]=-bW+bQ;L.set_lineWidth(1);L.set_strokeStyle(bO);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,bV,true,true)}if(bU!==0){L.restore()}}}};X.renderShapeIDFilledDownTrianglePressedOverlayImage=function(L,bK,bL,bM,bN){var bO=bK.c.get('selected_halo_color').gv(bN)['colorOverrideNone'];var bP=bL;var bQ=bM;{var bR=bK.getMarkInstanceOffsets(bN);var bS=bR.length;for(var bT=0;bT<bS;bT++){var bU=bR[bT];X.$c(L,bU);{var bV=new Array(6);var bW=(bK.c.get('size').gv(bN)*0.916666666666667+1)/2;bV[0]=0+bP;bV[1]=bW+bQ;bV[2]=-bW+bP;bV[3]=-bW+bQ;bV[4]=bW+bP;bV[5]=-bW+bQ;L.set_lineWidth(2);L.set_strokeStyle(bO);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,bV,true,true)}if(bU!==0){L.restore()}}}};X.renderShapeIDLeftTriangleHoverOverlayImage=function(L,bK,bL,bM,bN){var bO=bK.c.get('selected_halo_color').gv(bN)['colorOverrideNone'];var bP=bL;var bQ=bM;{var bR=bK.getMarkInstanceOffsets(bN);var bS=bR.length;for(var bT=0;bT<bS;bT++){var bU=bR[bT];X.$c(L,bU);{var bV=new Array(6);var bW=(bK.c.get('size').gv(bN)*0.895833333333333+3)/2;var bX=(bK.c.get('size').gv(bN)*0.895833333333333+6)/2;bV[0]=-bX+bP;bV[1]=0+bQ;bV[2]=bW+bP;bV[3]=-bW+bQ;bV[4]=bW+bP;bV[5]=bW+bQ;L.set_lineWidth(1);L.set_strokeStyle(bO);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,bV,true,true)}if(bU!==0){L.restore()}}}};X.renderShapeIDLeftTrianglePressedOverlayImage=function(L,bK,bL,bM,bN){var bO=bK.c.get('selected_halo_color').gv(bN)['colorOverrideNone'];var bP=bL;var bQ=bM;{var bR=bK.getMarkInstanceOffsets(bN);var bS=bR.length;for(var bT=0;bT<bS;bT++){var bU=bR[bT];X.$c(L,bU);{var bV=new Array(6);var bW=(bK.c.get('size').gv(bN)*0.895833333333333+4)/2;var bX=(bK.c.get('size').gv(bN)*0.895833333333333+8)/2;bV[0]=-bX+bP;bV[1]=0+bQ;bV[2]=bW+bP;bV[3]=-bW+bQ;bV[4]=bW+bP;bV[5]=bW+bQ;L.set_lineWidth(2);L.set_strokeStyle(bO);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,bV,true,true)}if(bU!==0){L.restore()}}}};X.renderShapeIDFilledLeftTriangleHoverOverlayImage=function(L,bK,bL,bM,bN){var bO=bK.c.get('selected_halo_color').gv(bN)['colorOverrideNone'];var bP=bL;var bQ=bM;{var bR=bK.getMarkInstanceOffsets(bN);var bS=bR.length;for(var bT=0;bT<bS;bT++){var bU=bR[bT];X.$c(L,bU);{var bV=new Array(6);var bW=bK.c.get('size').gv(bN)*0.916666666666667/2;bV[0]=-bW+bP;bV[1]=0+bQ;bV[2]=bW+bP;bV[3]=-bW+bQ;bV[4]=bW+bP;bV[5]=bW+bQ;L.set_lineWidth(1);L.set_strokeStyle(bO);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,bV,true,true)}if(bU!==0){L.restore()}}}};X.renderShapeIDFilledLeftTrianglePressedOverlayImage=function(L,bK,bL,bM,bN){var bO=bK.c.get('selected_halo_color').gv(bN)['colorOverrideNone'];var bP=bL;var bQ=bM;{var bR=bK.getMarkInstanceOffsets(bN);var bS=bR.length;for(var bT=0;bT<bS;bT++){var bU=bR[bT];X.$c(L,bU);{var bV=new Array(6);var bW=(bK.c.get('size').gv(bN)*0.916666666666667+1)/2;bV[0]=-bW+bP;bV[1]=0+bQ;bV[2]=bW+bP;bV[3]=-bW+bQ;bV[4]=bW+bP;bV[5]=bW+bQ;L.set_lineWidth(2);L.set_strokeStyle(bO);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,bV,true,true)}if(bU!==0){L.restore()}}}};X.renderShapeIDRightTriangleHoverOverlayImage=function(L,bK,bL,bM,bN){var bO=bK.c.get('selected_halo_color').gv(bN)['colorOverrideNone'];var bP=bL;var bQ=bM;{var bR=bK.getMarkInstanceOffsets(bN);var bS=bR.length;for(var bT=0;bT<bS;bT++){var bU=bR[bT];X.$c(L,bU);{var bV=new Array(6);var bW=(bK.c.get('size').gv(bN)*0.895833333333333+3)/2;var bX=(bK.c.get('size').gv(bN)*0.895833333333333+6)/2;bV[0]=-bW+bP;bV[1]=-bW+bQ;bV[2]=-bW+bP;bV[3]=bW+bQ;bV[4]=bX+bP;bV[5]=0+bQ;L.set_lineWidth(1);L.set_strokeStyle(bO);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,bV,true,true)}if(bU!==0){L.restore()}}}};X.renderShapeIDRightTrianglePressedOverlayImage=function(L,bK,bL,bM,bN){var bO=bK.c.get('selected_halo_color').gv(bN)['colorOverrideNone'];var bP=bL;var bQ=bM;{var bR=bK.getMarkInstanceOffsets(bN);var bS=bR.length;for(var bT=0;bT<bS;bT++){var bU=bR[bT];X.$c(L,bU);{var bV=new Array(6);var bW=(bK.c.get('size').gv(bN)*0.895833333333333+4)/2;var bX=(bK.c.get('size').gv(bN)*0.895833333333333+8)/2;bV[0]=-bW+bP;bV[1]=-bW+bQ;bV[2]=-bW+bP;bV[3]=bW+bQ;bV[4]=bX+bP;bV[5]=0+bQ;L.set_lineWidth(2);L.set_strokeStyle(bO);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,bV,true,true)}if(bU!==0){L.restore()}}}};X.renderShapeIDFilledRightTriangleHoverOverlayImage=function(L,bK,bL,bM,bN){var bO=bK.c.get('selected_halo_color').gv(bN)['colorOverrideNone'];var bP=bL;var bQ=bM;{var bR=bK.getMarkInstanceOffsets(bN);var bS=bR.length;for(var bT=0;bT<bS;bT++){var bU=bR[bT];X.$c(L,bU);{var bV=new Array(6);var bW=bK.c.get('size').gv(bN)*0.916666666666667/2;bV[0]=-bW+bP;bV[1]=-bW+bQ;bV[2]=-bW+bP;bV[3]=bW+bQ;bV[4]=bW+bP;bV[5]=0+bQ;L.set_lineWidth(1);L.set_strokeStyle(bO);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,bV,true,true)}if(bU!==0){L.restore()}}}};X.renderShapeIDFilledRightTrianglePressedOverlayImage=function(L,bK,bL,bM,bN){var bO=bK.c.get('selected_halo_color').gv(bN)['colorOverrideNone'];var bP=bL;var bQ=bM;{var bR=bK.getMarkInstanceOffsets(bN);var bS=bR.length;for(var bT=0;bT<bS;bT++){var bU=bR[bT];X.$c(L,bU);{var bV=new Array(6);var bW=(bK.c.get('size').gv(bN)*0.916666666666667+1)/2;bV[0]=-bW+bP;bV[1]=-bW+bQ;bV[2]=-bW+bP;bV[3]=bW+bQ;bV[4]=bW+bP;bV[5]=0+bQ;L.set_lineWidth(2);L.set_strokeStyle(bO);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,bV,true,true)}if(bU!==0){L.restore()}}}};X.renderShapeIDFilledStarHoverOverlayImage=function(L,bK,bL,bM,bN){var bO=bK.c.get('selected_halo_color').gv(bN)['colorOverrideNone'];var bP=bL;var bQ=bM;{var bR=bK.getMarkInstanceOffsets(bN);var bS=bR.length;for(var bT=0;bT<bS;bT++){var bU=bR[bT];X.$c(L,bU);{var bV=new Array(20);var bW=bK.c.get('size').gv(bN)*1.09166666666667+2;var bX=bW*0.3877;var bY=bW/2;bV[0]=0+bP;bV[1]=-bY+bW*0.0246+bQ;bV[2]=-bY+bW*0.3817+bP;bV[3]=-bY+bX+bQ;bV[4]=-bY+bP;bV[5]=-bY+bX+bQ;bV[6]=-bY+bW*0.3088+bP;bV[7]=-bY+bW*0.612+bQ;bV[8]=-bY+bW*0.1909+bP;bV[9]=-bY+bW*0.9751+bQ;bV[10]=0+bP;bV[11]=-bY+bW*0.7507+bQ;bV[12]=-bY+bW*0.8085+bP;bV[13]=-bY+bW*0.9751+bQ;bV[14]=-bY+bW*0.6905+bP;bV[15]=-bY+bW*0.612+bQ;bV[16]=bY+bP;bV[17]=-bY+bX+bQ;bV[18]=-bY+bW*0.6176+bP;bV[19]=-bY+bX+bQ;L.set_lineWidth(1);L.set_strokeStyle(bO);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,bV,true,true)}if(bU!==0){L.restore()}}}};X.renderShapeIDFilledStarPressedOverlayImage=function(L,bK,bL,bM,bN){var bO=bK.c.get('selected_halo_color').gv(bN)['colorOverrideNone'];var bP=bL;var bQ=bM;{var bR=bK.getMarkInstanceOffsets(bN);var bS=bR.length;for(var bT=0;bT<bS;bT++){var bU=bR[bT];X.$c(L,bU);{var bV=new Array(20);var bW=bK.c.get('size').gv(bN)*1.09166666666667+4;var bX=bW*0.3877;var bY=bW/2;bV[0]=0+bP;bV[1]=-bY+bW*0.0246+bQ;bV[2]=-bY+bW*0.3817+bP;bV[3]=-bY+bX+bQ;bV[4]=-bY+bP;bV[5]=-bY+bX+bQ;bV[6]=-bY+bW*0.3088+bP;bV[7]=-bY+bW*0.612+bQ;bV[8]=-bY+bW*0.1909+bP;bV[9]=-bY+bW*0.9751+bQ;bV[10]=0+bP;bV[11]=-bY+bW*0.7507+bQ;bV[12]=-bY+bW*0.8085+bP;bV[13]=-bY+bW*0.9751+bQ;bV[14]=-bY+bW*0.6905+bP;bV[15]=-bY+bW*0.612+bQ;bV[16]=bY+bP;bV[17]=-bY+bX+bQ;bV[18]=-bY+bW*0.6176+bP;bV[19]=-bY+bX+bQ;L.set_lineWidth(2);L.set_strokeStyle(bO);L.set_lineJoin('miter');tab.CanvasRenderer.strokePath(L,bV,true,true)}if(bU!==0){L.restore()}}}};X.$d=function(){return(tab.BrowserSupport.get_isChrome()?0.400000005960464:0)};X.$c=function(L,bK){if(!tab.DoubleUtil.isApproximatelyEqual(bK,0)){L.save();L.translate(bK,0)}};X.$2=function(L,bK,bL,bM,bN,bO){var bP=Math.min(bL,bN);var bQ=Math.max(bL,bN);var bR=Math.min(bM,bO);var bS=Math.max(bM,bO);var bT=X.roundStartAndExtent(bP,bQ-bP,L.minBarHeight);var bU=X.roundStartAndExtent(bR,bS-bR,L.minBarWidth);tab.RectXYUtil.unionInPlace$1(bK,bU.item1,bT.item1,Math.floor(bU.item2),Math.floor(bT.item2))};X.$3=function(L,bK,bL,bM,bN,bO,bP,bQ,bR,bS){var bT=bK.c.get('draw_border').gv(bL);var bU=(bT?1:0);var bV=((bK.markType==='text')?0:1);var bW=Math.min(bM,bN);var bX=Math.min(bO,bP);var bY=Math.abs(bN-bM);var bZ=Math.abs(bP-bO);var ca=X.roundStartAndExtent(bX,bZ,bK.minBarHeight);var cb=X.roundStartAndExtent(bW,bY,bK.minBarWidth);bW=cb.item1-bV;bX=ca.item1-bV;bY=cb.item2+bS+bU+bV-1;bZ=ca.item2+bS+bU+bV-1;if(bR){bY=bZ=Math.min(bY,bZ)}if(!bK.isWrappedDomain){var cc=bK.getUserPaneRectByMark(bL);if(!tab.RectXYUtil.intersectsWith$1(cc,Math.floor(bW),Math.floor(bX),Math.floor(bY),Math.floor(bZ))){return}if(cc.x>=bW){var cd=cc.x+bS-1;bY-=cd-bW;bW=cd}if(cc.x+cc.w<=bW+bY){bY=cc.x+cc.w-bW-1}if(cc.y>=bX){var ce=cc.y+bS-1;bZ-=ce-bX;bX=ce}if(cc.y+cc.h<=bX+bZ){bZ=cc.y+cc.h-bX-1}}L.set_lineJoin('miter');X.$9(L,bW,bX,bY,bZ,bQ['colorOverrideNone'],bS,bK.minBarWidth,bK.minBarHeight,false)};X.bBoxGeometry=function(L,bK,bL,bM){var bN={minX:Number.POSITIVE_INFINITY,minY:Number.POSITIVE_INFINITY,maxX:Number.NEGATIVE_INFINITY,maxY:Number.NEGATIVE_INFINITY};switch(bM.geometryType){case'multiPolygon':{tab.CanvasRenderer.boundsMultipolygon(bM.multiPolygon,bN);break}case'multiLineString':{tab.CanvasRenderer.boundsMultilineString(bM.multiLine,bN);break}case'multiPoint':{tab.CanvasRenderer.boundsCoordinateArray(bM.multiPoint.pointsF,bN);break}default:{return}}var bO=bK.transformBounds(bN);tab.DoubleRectXYUtil.outsetRectInPlace(bO,bL,bL);tab.RectXYUtil.unionInPlace(L,tab.DoubleRectXYUtil.toEncompassingRectXY(bO))};X.$6=function(L,bK,bL,bM){switch(bL){case'highlightedUnder':case'normalUnder':{return L.c.get('halo_color').gv(bK)[bM]}case'selectedOn':case'highlightedOn':case'normalOn':{return L.getMarkColors(bK)[bM]}case'border':{return L.getBorderColors(bK)[bM]}case'selectedUnder':case'hoverOverlay':case'pressedOverlay':{return L.c.get('selected_halo_color').gv(bK)[bM]}}return X.$f};X.$5=function(L,bK,bL,bM,bN,bO){var bP=Math.atan2(bN-bK,bM-L);var bQ=Math.cos(bP);var bR=Math.sin(bP);bL/=2;bO/=2;var bS=bL*bR;var bT=bO*bR;var bU=bL*bQ;var bV=bO*bQ;var bW=new Array(8);bW[0]=L+bS;bW[1]=bK-bU;bW[2]=bM+bT;bW[3]=bN-bV;bW[4]=bM-bT;bW[5]=bN+bV;bW[6]=L-bS;bW[7]=bK+bU;return bW};X.$8=function(L,bK,bL,bM,bN,bO,bP,bQ){var bR=X.$5(bL,bM,bN,bO,bP,bQ);return x.isPointInPoly(bR,{x:L,y:bK})};X.$0=function(L,bK,bL,bM,bN,bO,bP){var bQ=X.$5(bK,bL,bM,bN,bO,bP);var bR=bQ[0];var bS=bR;var bT=bQ[1];var bU=bT;var bV=bQ.length;for(var bW=0;bW<bV;bW=bW+2){bR=Math.min(bR,bQ[bW]);bS=Math.max(bS,bQ[bW]);bT=Math.min(bT,bQ[bW+1]);bU=Math.max(bU,bQ[bW+1])}tab.RectXYUtil.unionInPlace(L,{x:bR<<0,y:bT<<0,w:(bS-bR<<0)+1,h:(bU-bT<<0)+1})};X.$1=function(L,bK,bL,bM,bN){if(bM>bN){var bO=bM;bM=bN;bN=bO}if(bN-bM>=1){var bP=Math.ceil(2*bL);return{x:Math.floor(L-bL),y:Math.floor(bK-bL),w:bP,h:bP}}var bQ=tab.CanvasRenderer.toCanvasAngle(bM);var bR=tab.CanvasRenderer.toCanvasAngle(bN);var bS=[];bS.push({x:L,y:bK});bS.push({x:L+bL*Math.cos(bQ),y:bK+bL*Math.sin(bQ)});bS.push({x:L+bL*Math.cos(bR),y:bK+bL*Math.sin(bR)});var bT=bS;bQ=x.normalizeAngle(bQ);bR=x.normalizeAngle(bR);if(x.isInBetweenAngles(0,bQ,bR)){bT.push({x:L+bL,y:bK})}if(x.isInBetweenAngles(tab.CanvasRenderer.halfPI,bQ,bR)){bT.push({x:L,y:bK+bL})}if(x.isInBetweenAngles(tab.CanvasRenderer.onePI,bQ,bR)){bT.push({x:L-bL,y:bK})}if(x.isInBetweenAngles(tab.CanvasRenderer.oneAndHalfPI,bQ,bR)){bT.push({x:L,y:bK-bL})}var bU=Number.POSITIVE_INFINITY;var bV=Number.POSITIVE_INFINITY;var bW=Number.NEGATIVE_INFINITY;var bX=Number.NEGATIVE_INFINITY;for(var bY=0;bY<bT.length;bY++){var bZ=bT[bY];bU=Math.min(bU,bZ.x);bV=Math.min(bV,bZ.y);bW=Math.max(bW,bZ.x);bX=Math.max(bX,bZ.y)}return tab.RectXYUtil.rectXYFromMinAndMax(bU,bV,bW,bX)};X.roundStartAndExtent=function(L,bK,bL){var bM=Math.round(L+bK);L=Math.round(L);bK=Math.max(Math.abs(bM-L),bL);return{item1:L,item2:bK}};X.$7=function(L,bK,bL,bM,bN,bO,bP,bQ,bR,bS){if(bL<0){L+=bL;bL=Math.abs(bL)}if(bM<0){bK+=bM;bM=Math.abs(bM)}var bT=X.roundStartAndExtent(L-bN,bL+bN+bN,bP+bN+bN);var bU=X.roundStartAndExtent(bK-bO,bM+bO+bO,bQ+bO+bO);var bV={x:ss.Int32.trunc(bU.item1),y:ss.Int32.trunc(bT.item1),w:ss.Int32.trunc(bU.item2),h:ss.Int32.trunc(bT.item2)};if(tab.RectXYUtil.inRectPointF(bV,{x:bR,y:bS})){return true}return false};X.$a=function(L,bK,bL,bM,bN){var bO=bK.c.get('shape_id').gv(bL);if(ss.isValue(bO)){var bP=tab.ApplicationModel.get_instance().get_shapeManager();var bQ=bP.getImageElement(bO);if(!ss.isValue(bQ)){tab.CanvasRenderer.renderCircle(L,bK.c.get('x').gv(bL),bK.c.get('y').gv(bL),bK.c.get('size').gv(bL),X.$6(bK,bL,bM,bN),2);return}if(!bQ.complete){return}var bR=bK.hasConstantColor;var bS=bK.c.get('size').gv(bL);var bT=bK.c.get('left').gv(bL);var bU=bK.c.get('top').gv(bL);var bV;var bW;if(bQ.naturalWidth>bQ.naturalHeight){var bX=bQ.naturalWidth/bQ.naturalHeight;bV=bS;bW=bS/bX;bU+=Math.round((bS-bW)/2)}else{var bY=bQ.naturalHeight/bQ.naturalWidth;bV=bS/bY;bW=bS;bT+=Math.round((bS-bV)/2)}bV=Math.round(bV);bW=Math.round(bW);var bZ=X.$4(bK,bL,bM,bN);bM=((bM==='normalOn'&&bN==='colorOverrideOpaque')?'selectedOn':bM);var ca=tab.ShapeManager.getCacheKey$1(bO,bM,bN,bZ.toString(),bV,bW);var cb=bP.getCachedCanvas(ca);if(ss.isNullOrUndefined(cb)){var cc=null;switch(bM){case'normalUnder':case'highlightedUnder':case'selectedUnder':{cc=function(){return bs.generateSelectedUnderCustomShape(bQ,bZ,tab.ShapeManager.selectionBorderSize,bV,bW)};break}case'normalOn':{if(bR){if(bN==='colorOverrideFog'){cc=function(){return bs.applyFoggingToImage(bQ,bK.foggedBackgroundColor,bK.fogBlendFactor,bV,bW)}}}else{cc=function(){return bs.colorTransformImage(bQ,bZ,bV,bW)}}break}case'highlightedOn':{if(!bR){cc=function(){return bs.colorTransformImage(bQ,bZ,bV,bW)}}break}case'selectedOn':{if(!bR){cc=function(){bZ=tab.ColorModel.fromColorModelPlusAlpha(bZ,255);return bs.colorTransformImage(bQ,bZ,bV,bW)}}break}case'hoverOverlay':{cc=function(){return bs.generateOverlayForShape(bQ,bZ,tab.ShapeManager.selectionBorderSize,bV,bW)};break}case'pressedOverlay':{cc=function(){return bs.generateOverlayForShape(bQ,bZ,tab.ShapeManager.selectionBorderSize*2,bV,bW)};break}}if(!ss.isValue(cc)){cc=function(){return bs.generateCanvasAndPrescaleAsNeeded(bQ,bV,bW)}}cb=bP.generateCachedCanvas(ca,cc)}if(ss.isValue(cb)){switch(bM){case'normalUnder':case'highlightedUnder':case'selectedUnder':case'hoverOverlay':{L.drawImage3(cb,bT-tab.ShapeManager.selectionBorderSize,bU-tab.ShapeManager.selectionBorderSize,cb.width,cb.height);break}case'pressedOverlay':{L.drawImage3(cb,bT-tab.ShapeManager.selectionBorderSize*2,bU-tab.ShapeManager.selectionBorderSize*2,cb.width,cb.height);break}case'normalOn':{L.set_alpha(bZ.get_a());L.drawImage3(cb,bT,bU,bV,bW);break}default:{L.drawImage3(cb,bT,bU,bV,bW);break}}}else{}}};X.$4=function(L,bK,bL,bM){var bN=X.$6(L,bK,bL,bM);return tab.ColorModel.fromColorCode(bN)};X.$9=function(L,bK,bL,bM,bN,bO,bP,bQ,bR,bS){L.set_lineWidth(bP);L.set_strokeStyle(bO);var bT=((Math.round(bP)%2===0)?0:0.5);var bU=X.roundStartAndExtent(bL,bN,bR);var bV=X.roundStartAndExtent(bK,bM,bQ);if(bS){var bW=Math.min(bV.item2,bU.item2);bV={item1:bV.item1,item2:bW};bU={item1:bU.item1,item2:bW}}L.strokeRect(bV.item1+bT,bU.item1+bT,bV.item2,bU.item2)};X.$b=function(L,bK,bL,bM,bN,bO,bP,bQ,bR){L.set_shapeFillStyle(bO);{var bS=X.roundStartAndExtent(bL,bN,bQ);bL=bS.item1;bN=bS.item2;var bT=X.roundStartAndExtent(bK,bM,bP);bK=bT.item1;bM=bT.item2}if(bR){bM=bN=Math.min(bM,bN)}L.fillRect(bK,bL,bM,bN)};global.tab.MarksRenderer=X;var Y=function(){};Y.__typeName='tab.NodeType';global.tab.NodeType=Y;var Z=function(){this.hasPixelGeometry=false;this.$j=tab.FeatureFlags.isEnabled('HideMarkLabelsAsLocalAction');this.worldWidth=0;this.sceneInfo=null;this.c=new Map;this.labelColumnIterators=null;this.textRunColumnIterators=null;this.textStyleColumnIterators=null;this.domainExtents=null;this.$m=0;this.paneMarks=null;this.pdMarksKey=null;this.tupleToIndexMap=new Map;this.$f=null;this.$k=null;this.markInstanceOffsets=null;this.markLabelInstanceOffsets=null;this.$l=null;this.$h=new Set;this.$n=false;this.shapeMarkStampingDecision=null;this.$g=null;this.$i=null;this.truncateLabelToCell=false;this.markCount=0;this.markType=null;this.showLabels=false;this.labelMode=null;this.fogBlendFactor=0;this.foggedBackgroundColor=null;this.forceOpaqueColors=false;this.drawBorder=false;this.isWrappedDomain=false;this.paneColumn=0;this.paneRow=0;this.paneRect=null;this.clipCase=0;this.globalAlpha=0;this.paneDrawInfoKey=null;this.userPaneCount=0;this.hasUserPanes=false;this.customShapes=null;this.geometries=null;this.scaleMarksInX=false;this.scaleMarksInY=false;this.useCellClipForSelection=false;this.paneHasCellsX=false;this.paneHasCellsY=false;this.mapExtents=null;this.hasConstantColor=false;this.skipClipping=false;this.markWorldOffsets=null;this.markLabelWorldOffsets=null;this.$e=null;this.minBarHeight=0;this.lineInterpolation=null;this.minBarWidth=0;this.lineMarkerPosition=null;if(ss.isNullOrUndefined(Z.$d)){Z.$d=new Map;Z.$d.set(1,0);Z.$d.set(2,-Math.PI*0.5);Z.$d.set(3,Math.PI*0.5)}if(ss.isNullOrUndefined(Z.$b)){Z.$b=new Map;Z.$b.set('theta',{x:0,y:1});Z.$b.set('theta1',{x:0,y:1});Z.$b.set('size',{x:0,y:4096});Z.$b.set('text_run_x',{x:0,y:4096});Z.$b.set('text_run_direction_x',{x:0,y:4096});Z.$b.set('text_run_y',{x:0,y:4096});Z.$b.set('text_run_direction_y',{x:0,y:4096});for(var L=0;L<Z.$5.length;L++){var bK=Z.$5[L];Z.$b.set(bK,{x:0,y:0})}for(var bL=0;bL<Z.$6.length;bL++){var bM=Z.$6[bL];Z.$b.set(bM,{x:0,y:0})}}if(ss.isNullOrUndefined(Z.$c)){Z.$c=[];Z.$c.push(0)}this.setDefaultLabelLookupValues()};Z.__typeName='tab.PaneDrawInfo';Z.$ctor1=function(L,bK,bL,bM,bN,bO,bP){Z.call(this);if(ss.isNullOrUndefined(bL)){throw new ss.ArgumentNullException('pane')}if(ss.isNullOrUndefined(bM)){throw new ss.ArgumentNullException('paneMarks')}if(ss.isNullOrUndefined(bN)){throw new ss.ArgumentNullException('pdMarks')}this.skipClipping=false;this.paneDrawInfoKey=bP;this.sceneInfo=bK;this.paneMarks=bM;this.forceOpaqueColors=false;this.pdMarksKey=L;this.paneColumn=bL.columnIndex;this.paneRow=bL.rowIndex;this.paneRect=tab.RecordCast.rectPresModelAsRectXY(bL.paneRect);this.domainExtents=tab.SceneDataUtil.getPaneDomainExtents(bL);this.markCount=tab.SceneDataUtil.getNumPaneItems(this.paneMarks);this.markType=bN.markLayoutPrimitive;this.showLabels=bN.showMarkLabels;this.labelMode=bN.markLabelsMode;this.set_paneFlags(bN.intMap['pane_flags']);this.hasPixelGeometry=this.scaleMarksInX&&this.scaleMarksInY;this.c=tab.VisualColumnHelpers.parseColumns(bN,bM.startIndex,this.markCount);if(tab.FeatureFlags.isEnabled('RuntimeWebRenderFromFinalDatastore')){this.hasConstantColor=!ss.isNullOrUndefined(bN.boolMap)&&ss.keyExists(bN.boolMap,'has_per_mark_color_encoding')&&bN.boolMap['has_per_mark_color_encoding']===false||ss.keyExists(bN.intMap,'color')}else{this.hasConstantColor=ss.keyExists(bN.intMap,'color')}var bQ=tab.ColorModel.white;if(this.c.has('background_color')){var bR=this.c.get('background_color');bQ=tab.ColorModel.fromArgbInt(bR.v[(bR.c?0:0)])}this.fogBlendFactor=tab.SceneDataUtil.getFogBlendFactor(bQ);this.foggedBackgroundColor=tab.SceneDataUtil.applyFogToBackgroundColor(bQ,this.fogBlendFactor);this.transformColumnData(this.c);this.setUserPaneInfo(bK.sceneUserPaneInfo);this.processColors(bO);this.initStaticProperties();this.setDefaultLabelLookupValues();if(this.markType==='line'||this.markType==='area'){this.prepareLeftRight()}if(this.markType==='line'){this.ensureLinePixelAlignment()}this.parseTextInfo(bN.textRunColumns,bN.textStyleColumns,false);if(ss.isValue(this.paneRect)&&ss.isValue(this.paneRect.w)&&ss.isValue(this.domainExtents)&&ss.isValue(this.domainExtents.w)&&this.domainExtents.w!==0){this.worldWidth=this.paneRect.w/this.domainExtents.w}this.clipCase=tab.SceneDataUtil.calcCellClip(this.get_paneFlags());this.mapExtents=Z.buildMapExtentsRect(bM.mapDomainExtents,this.domainExtents,this.paneRect);this.setupBoundingBoxes();if(this.markType==='shape'){this.setupCustomShapePositions();this.setupShapeMarkStampingMap()}this.buildTupleLookup()};Z.buildMapExtentsRect=function(L,bK,bL){if(ss.isNullOrUndefined(L)||L.width===0||L.height===0){return null}return{x:ss.Int32.trunc(Z.domainToPixelX(L.doubleLeft,bK,bL)),y:ss.Int32.trunc(Z.domainToPixelY(L.doubleTop,bK,bL)),w:ss.Int32.trunc(Z.domainToPixelWidth(L.width,bK,bL)),h:ss.Int32.trunc(Z.domainToPixelHeight(L.height,bK,bL))}};Z.domainToPixelX=function(L,bK,bL){return x.$5(L,bK.x,bL.x,bL.w/bK.w)};Z.domainToPixelY=function(L,bK,bL){return x.$5(L,bK.y,bL.y,bL.h/bK.h)};Z.domainToPixelWidth=function(L,bK,bL){return L/bK.w*bL.w};Z.domainToPixelHeight=function(L,bK,bL){return L/bK.h*bL.h};Z.$0=function(L,bK){var bL=new ss.StringBuilder;if(ss.keyExists(L,'font_style')&&parseInt(L['font_style'].dataValues[bK].toString())===1){bL.append('italic ')}if(ss.keyExists(L,'font_weight')&&parseInt(L['font_weight'].dataValues[bK].toString())===1){bL.append('bold ')}var bM=parseInt(L['font_size'].dataValues[bK].toString());bM=Math.max(6,bM);var bN=L['font'].dataValues[bK];bN=o.$1(bN);bL.append(bM+'pt '+bN);return bL.toString()};Z.getMarkBoundingBox=function(L,bK,bL,bM){var bN;switch(L){case'shape':{bN=X.shapeMarkBuildMarkBound(bL,bK);break}case'bar':case'square':{bN=X.barMarkBuildMarkBound(bL,bK);break}case'pie':{bN=X.getPieBoundingBox(bL,bK);break}case'text':{bN=X.textMarkBuildMarkBound(bL,bK);break}case'label':{bN=X.getMarkLabelBoundingBox(bL,bK);break}case'line':{bN=X.lineMarkBuildMarkBound(bL,bK);break}case'area':{bN=X.areaMarkBuildMarkBound(bL,bK);break}case'multipolygon':{bN=X.multipolygonMarkBuildMarkBound(bL,bK);break}default:{bN=Z.$1(bL,bK);break}}if(bL.hasUserPanes){tab.RectXYUtil.intersectInPlace(bN,bM)}return bN};Z.$1=function(L,bK){var bL=L.c.get('x').gv(bK);var bM=L.c.get('y').gv(bK);var bN=L.c.get('size').gv(bK);var bO=Math.ceil(bN);return{x:Math.floor(bL-bN/2+0.5),y:Math.floor(bM-bN/2+0.5),w:bO,h:bO}};global.tab.PaneDrawInfo=Z;var ba=function(L,bK){this.$p=null;this.$r=null;this.$q=null;this.$s=null;tab.CanvasRenderer.call(this,L,bK);var bL=(ss.isValue(this.$s)?this.$s.colorModel:J.defaultColors);this.$p=new o(L,bK,bL);if(tab.FeatureFlags.isEnabled('RuntimeWebRunningTransforms')){this.$q=bl.get_instance();this.$r=this.$q.createNonMarksRenderer(L,bK)}};ba.__typeName='tab.PaneTable2DRenderer';ba.renderHoverOverlay=function(L,bK,bL){if(ss.isNullOrUndefined(bL)||ss.isNullOrUndefined(bK)){return}{var bM=tabBootstrap.MetricsController.createContext('RenderHoverOverlay',32,null);try{var bN=bK.getMarkIndexFromTupleId(L);switch(bK.markType){case'area':{X.renderAreaMarkHoverOverlayImage(bL,bK,bN);break}case'bar':case'square':{X.renderBarHoverOverlayImage(bL,bK,bN);break}case'line':{X.renderLineMarkHoverOverlayImage(bL,bK,bN);break}case'multipolygon':{X.renderMultipolygonMarkHoverOverlayImage(bL,bK,bN);break}case'pie':{X.renderPieHoverOverlayImage(bL,bK,bN);break}case'shape':{X.renderShapeHoverOverlayImage(bL,bK,bN);break}case'text':{X.renderTextHoverOverlayImage(bL,bK,bN);break}}}finally{if(ss.isValue(bM)){bM.dispose()}}}};ba.renderPressedOverlay=function(L,bK,bL){if(ss.isNullOrUndefined(bL)||ss.isNullOrUndefined(bK)){return}{var bM=tabBootstrap.MetricsController.createContext('RenderPressedOverlay',32,null);try{var bN=bK.getMarkIndexFromTupleId(L);switch(bK.markType){case'area':{X.renderAreaMarkPressedOverlayImage(bL,bK,bN);break}case'bar':case'square':{X.renderBarPressedOverlayImage(bL,bK,bN);break}case'line':{X.renderLineMarkPressedOverlayImage(bL,bK,bN);break}case'multipolygon':{X.renderMultipolygonMarkPressedOverlayImage(bL,bK,bN);break}case'pie':{X.renderPiePressedOverlayImage(bL,bK,bN);break}case'shape':{X.renderShapePressedOverlayImage(bL,bK,L);break}case'text':{X.renderTextPressedOverlayImage(bL,bK,bN);break}}}finally{if(ss.isValue(bM)){bM.dispose()}}}};ba.$1=function(L,bK,bL){L[0]=bK.x;L[1]=bK.y;L[2]=bL.x;L[3]=bL.y};ba.$0=function(L,bK,bL,bM){var bN=bL==='draw-polyline'||bL==='draw-path'||bL==='draw-rect'||bL==='draw-fill-rect';if(bK==='selected'&&bN){if(tab.ColorModel.isFullyTransparent(L)){return'rgba(0,0,0,1)'}return L.toString()}if(bK==='hover'&&bN){var bO=77;var bP=new tab.ColorModel(255,255,255,0.449999988079071);var bQ=new tab.ColorModel(0,0,0,0.449999988079071);var bR=(L.isValueAboveThreshold(bO)?bQ:bP);return((L.get_a()<1)?bR.toString():tab.ColorModel.alphaBlend(bR,L).toString())}if(bK==='normal'&&ss.isValue(bM)){return tab.SceneDataUtil.fogColorTransform(L,bM.item2,bM.item1).toString()}return L.toString()};global.tab.PaneTable2DRenderer=ba;var bb=function(L,bK,bL){ss.makeGenericType(bD,[bf]).call(this,L,bK,bL);this.renderer=new ba(this.canvasElt,this.context);var bM=_.keys(L.get_vizRegionMap());for(var bN=0;bN<bM.length;bN++){var bO=bM[bN];if(!ss.contains(bf.blackListVisualParts,bO)){L.get_vizRegionMap()[bO].add_propertyChanged(ss.mkdel(this,this.onViewModelPropertyChanged))}}};bb.__typeName='tab.PaneTableCanvasView';global.tab.PaneTableCanvasView=bb;var bc=function(L,bK,bL){this.$T=null;this.$N=[];this.$M=new f('hover');this.$Q=new f('press');this.$K=false;this.$R=null;this.$L=false;this.$I=[];this.$P=null;this.$J=null;this.$O='normal';this.$S=false;ss.makeGenericType(bD,[bf]).call(this,L,bK,'transparent');this.renderer=new ba(this.canvasElt,this.context);this.$T=bL;var bM=$(this.canvasElt);bM.css('position','absolute');bM.css('left','0px');bM.css('top','0px')};bc.__typeName='tab.PaneTableOverlayView';bc.$0=function(L,bK){var bL=new Set;if(ss.isValue(L)&&L.length>0){tab.SetUtilities.addAll(ss.Int32).call(null,bL,L)}if(ss.isValue(bK)&&bK.length>0){var bM=new Set;tab.SetUtilities.addAll(ss.Int32).call(null,bM,bK);bL=tab.SetUtilities.symmetricDifferenceWith(ss.Int32).call(null,bL,bM)}return tab.SetUtilities.getValues(ss.Int32).call(null,bL)};global.tab.PaneTableOverlayView=bc;var bd=function(L){this.enclosingDiv=null;this.yLabel=null;this.leftAxis=null;this.rightAxis=null;this.xLabel=null;this.bottomAxis=null;this.topAxis=null;this.view=null;this.title=null;this.caption=null;this.topLeftSpacer=null;this.topRightSpacer=null;this.bottomLeftSpacer=null;this.bottomRightSpacer=null;this.borders=null;spiff.Template.call(this,L);var bK=ss.mkdel(this,this.getElementBySelector);this.enclosingDiv=bK('.tab-clip');this.yLabel=bK('.tab-tvYLabel');this.leftAxis=bK('.tab-tvLeftAxis');this.rightAxis=bK('.tab-tvRightAxis');this.xLabel=bK('.tab-tvXLabel');this.bottomAxis=bK('.tab-tvBottomAxis');this.topAxis=bK('.tab-tvTopAxis');this.view=bK('.tab-tvView');this.title=bK('.tab-tvTitle');this.caption=bK('.tab-tvCaption');this.topLeftSpacer=bK('.tab-tvTLSpacer');this.topRightSpacer=bK('.tab-tvTRSpacer');this.bottomLeftSpacer=bK('.tab-tvBLSpacer');this.bottomRightSpacer=bK('.tab-tvBRSpacer');this.borders=bK('.tvViewportBorders');this.borders.append($(bd.$0))};bd.__typeName='tab.PaneTableTemplate';global.tab.PaneTableTemplate=bd;var be=function(L,bK){this.regions={};this.floatingZoomToolbarView=null;this.isPointerToolLocked=false;this.mapsSearchView=null;this.wasPressOverlayJustUpdated=false;this.lastVizHoverPoint=null;this.$U=[];this.$Z=0;this.$Y={x:0,y:0};this.$X=0;this.$12=null;this.isAnimationOccurring=false;this.vizTooltip=null;this.$11=null;this.$M=null;this.$O=false;this.$V=null;this.$R=0;this.$W=null;this.$S=null;this.$T=null;this.$K=null;this.$J=null;this.$Q=false;this.$10=null;this.$L=null;this.$P=null;this.$N=new i;this.geometry=null;this.visibleGeometry=null;this.dom=null;this.tlspacerAreaX=null;this.tlspacerAreaY=null;this.blspacerArea=null;this.titleHeight=0;this.$3$1=null;ss.makeGenericType(spiff.BaseView$1,[tab.IPaneTableViewModel]).call(this,L,bK);this.dom=bK;this.get_controller().setTiledViewer(this);this.$Z=(new Date).getTime();this.dom.view.attr('id','view'+this.$g());this.dom.domRoot.attr('tb-test-id',tableau.format.escapeHTML(this.get_paneTableVM().get_visualId().worksheet));this.floatingZoomToolbarView=new w(this);var bL=L.get_visualModel();this.$G(bL);this.$B(bL);this.$A();this.$z();this.$x();this.get_paneTableVM().add_newPaneTable(ss.mkdel(this,this.handleNewVisual));this.get_paneTableVM().add_propertyChanged(ss.mkdel(this,this.handlePropertyChanged));this.get_paneTableVM().add_textUpdated(ss.mkdel(this,this.$i));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_paneTableVM().remove_newPaneTable(ss.mkdel(this,this.handleNewVisual));this.get_paneTableVM().remove_propertyChanged(ss.mkdel(this,this.handlePropertyChanged));this.get_paneTableVM().remove_textUpdated(ss.mkdel(this,this.$i))})))};be.__typeName='tab.PaneTableView';be.addVizDragApprover=function(L){be.removeVizDragApprover(L);be.$5.push(L)};be.removeVizDragApprover=function(L){ss.remove(be.$5,L)};be.addVizDragHandler=function(L){be.removeVizDragHandler(L);be.$6.push(L)};be.addAsyncVizDragHandler=function(L){be.removeAsyncVizDragHandler(L);be.$1.push(L)};be.removeVizDragHandler=function(L){ss.remove(be.$6,L)};be.removeAsyncVizDragHandler=function(L){ss.remove(be.$1,L)};be.findTitles=function(){return $('.tab-tvTitle')};be.$0=function(L,bK){var bL=2;var bM={x:L.x,y:L.y};if(bK.w>4){bM=tab.RectXYUtil.horizontalShiftCoordsTowardsCenter(bM,bK,bL)}else{bM={x:bK.x+ss.Int32.div(bK.w,2),y:bM.y}}if(bK.h>4){bM=tab.RectXYUtil.verticalShiftCoordsTowardsCenter(bM,bK,bL)}else{bM={x:bM.x,y:bK.y+ss.Int32.div(bK.h,2)}}return bM};be.guessTooltipTargetTypeFromRegion=function(L){switch(L){case'bottomaxis':case'topaxis':case'leftaxis':case'rightaxis':case'xheader':case'yheader':{return'header'}case'color':{return'legenditem'}default:{return'unspecified'}}};be.isViewDataAccessEnabled=function(){return tab.ApplicationModel.get_instance().get_toolbar().isLegacyMenuItemEnabled('exportdata')};global.tab.PaneTableView=be;var bf=function(L){this.$u={};this.$t=null;this.$r=null;this.$p=null;this.$o=null;this.$l=null;this.$n=null;this.$q=false;this.$s=null;this.$m=null;this.$k=null;this.borderHighlighted=false;this.$2$1=null;this.$2$2=null;this.$2$3=null;this.$2$4=null;this.$2$5=null;this.$2$6=null;this.$2$7=null;spiff.BaseViewModel.call(this);this.$t=L;this.$n=[];this.$r=new bm;if(ss.isValue(this.$t)){if(ss.isValue(this.$t.get_selectionsModel())){this.$s=this.$t.get_selectionsModel().createSelectionsToken()}if(ss.isValue(this.$t.get_selectionsModel().tupleSelection)){this.$t.get_selectionsModel().add_newSelections(ss.mkdel(this,this.$c))}this.$t.get_impliedSelectionModel().add_newSelection(ss.mkdel(this,this.$c));if(ss.isValue(this.$t.get_brushingsModel().tupleSelection)){this.$t.get_brushingsModel().add_newSelections(ss.mkdel(this,this.$3))}if(ss.isValue(this.$t.get_sceneModel())){this.$t.get_sceneModel().add_newSceneModel(ss.mkdel(this,this.$b));this.$b();this.$q=false}if(ss.isValue(this.$t.get_labelsModel())){this.$t.get_labelsModel().add_newSceneModel(ss.mkdel(this,this.$b))}this.$t.add_newHiddenTuples(ss.mkdel(this,this.$8));this.$t.add_newFilteredTuples(ss.mkdel(this,this.$7));this.$t.add_brushingFromActionChanged(ss.mkdel(this,this.$4));this.$t.add_colorDictionaryChanged(ss.mkdel(this,this.$5));this.$t.add_vizNavigationSettingChanged(ss.mkdel(this,this.$e));this.$t.add_newVisual(ss.mkdel(this,this.$d));this.$t.add_newVisual(ss.mkdel(this,this.$a));this.$t.add_emptyHighlightFogAllChanged(ss.mkdel(this,this.$6))}var bK=ss.mkdel(this,function(){this.notifyPropertyChanged('font');this.$f()});this.set_floatingToolbarContainerVM(new u);tab.ServerFontLoader.get_instance().add_fontPreparationComplete(bK);this.disposables.add$1(new tab.CallOnDispose(function(){tab.ServerFontLoader.get_instance().remove_fontPreparationComplete(bK)}));this.$i()};bf.__typeName='tab.PaneTableViewModel';bf.updateSceneInfoFromVisualModel=function(L,bK){if(ss.isNullOrUndefined(L)||ss.isNullOrUndefined(bK)){return}var bL=bK.pm.colorDictionary;var bM=bK.pm.scene;var bN=(ss.isValue(bK.get_selectionsModel().tupleSelection)?bK.get_selectionsModel():null);var bO=(ss.isValue(bK.get_impliedSelectionModel())?bK.get_impliedSelectionModel():null);var bP=(ss.isValue(bK.get_brushingsModel().tupleSelection)?bK.get_brushingsModel():null);var bQ=bK.get_hiddenTuples();var bR=bK.get_filteredTuples();L.setSceneData(bM,bN,bO,bP,bL,bQ,bR);if(ss.isValue(bK.get_labelsModel())&&ss.isValue(bK.get_labelsModel().pm)){L.setLabelInfo(bK.get_labelsModel().pm)}L.setIsTargetOfBrushingAction(bK.get_isBrushedFromAction());L.setEmptyHighlightFogAll(bK.get_emptyHighlightFogAll())};bf.$0=function(L,bK,bL){switch(L.get_reason()){case 1:{if(bK.hasTupleSelection()){return true}return ss.isValue(bL)&&bL.get_selectionType()==='tuples'&&bL.get_ids().length>0}case 2:{return L.get_invalidateViz()||L.get_objectIds().length>0}default:{return false}}};global.tab.PaneTableViewModel=bf;var bg=function(L,bK){this.$k=null;this.$l=null;this.$j=null;this.$m=false;this.$p='';this.$i=null;this.$n=null;this.$o=null;bq.call(this,L,"<div><svg class='selectionShape'><path class='tvdrag_svg_marquee'></path></svg></div>",'tvdrag_svg_div');this.$k=[];this.$l=[];this.$j={};this.$m=bK||false;this.$n=null;this.$o=null};bg.__typeName='tab.PolyShapeSelector';bg.$0=function(L,bK,bL){return L>=bK&&bK>=bL||L<=bK&&bK<=bL};global.tab.PolyShapeSelector=bg;var bh=function(){this.$0=null;this.$1=0;br.call(this);this.$0=[];this.$1=0};bh.__typeName='tab.PolyShapeState';global.tab.PolyShapeState=bh;var bi=function(){this.$d=null;this.$e=null;bq.call(this,{x:0,y:0,w:0,h:0},'<div></div>','tvdrag');this.$d={x:0,y:0,w:0,h:0};this.$e={x:0,y:0,w:0,h:0}};bi.__typeName='tab.RectShapeSelector';global.tab.RectShapeSelector=bi;var bj=function(){this.$0=null;this.$1=null;br.call(this);this.$0={x:0,y:0,w:0,h:0};this.$1={x:0,y:0,w:0,h:0}};bj.__typeName='tab.RectShapeState';global.tab.RectShapeState=bj;var bk=function(L,bK,bL){this.$2=0;this.$1=0;this.$a=0;this.$9=0;this.$7=0;this.$8=0;this.$d=0;this.$0=0;this.$c=0;this.$b=0;this.$6=0;this.$5=0;this.$4=0;this.$3=0;if(ss.isValue(L.title)){this.$1=bk.$0(this.$1,L.title)}if(ss.isValue(L.xheader)){this.$7=L.xheader.x;this.$a=L.xheader.w;this.$1=bk.$0(this.$1,L.xheader)}if(ss.isValue(L.bottomaxis)){this.$7=L.bottomaxis.x;this.$a=L.bottomaxis.w;this.$1=bk.$0(this.$1,L.bottomaxis)}if(ss.isValue(L.topaxis)){this.$1=bk.$0(this.$1,L.topaxis)}if(ss.isValue(L.viz)){this.$7=L.viz.x;this.$a=L.viz.w;this.$1=bk.$0(this.$1,L.viz)}if(ss.isValue(L.caption)){this.$1=bk.$0(this.$1,L.caption)}if(ss.isValue(L.yheader)){this.$8=L.yheader.y;this.$9=L.yheader.h;this.$2=bk.$1(this.$2,L.yheader)}if(ss.isValue(L.leftaxis)){this.$8=L.leftaxis.y;this.$9=L.leftaxis.h;this.$2=bk.$1(this.$2,L.leftaxis)}if(ss.isValue(L.rightaxis)){this.$2=bk.$1(this.$2,L.rightaxis)}if(ss.isValue(L.viz)){this.$8=L.viz.y;this.$9=L.viz.h;this.$2=bk.$1(this.$2,L.viz)}if(this.$9>0){var bM=this.$1;if(this.$2>bK){bM+=tab.Metrics.get_scrollH()}if(bM>bL){this.$6=tab.Metrics.get_scrollW()}}if(this.$a>0&&this.$2>bK){this.$5=tab.Metrics.get_scrollH()}if(tab.BrowserSupport.get_isIE()&&this.$6>0){this.$6+=1}if(tab.BrowserSupport.get_isIE()&&this.$5>0){this.$5+=1}if(this.$9>0){var bN=this.$1-this.$9;this.$b=bL-bN-this.$5;this.$b=Math.min(this.$9,this.$b);this.$0=this.$9-this.$b}if(this.$a>0){var bO=this.$2-this.$a;this.$c=bK-bO-this.$6;this.$c=Math.min(this.$a,this.$c);this.$d=this.$a-this.$c}this.$3=Math.min(this.$1-this.$0,bL);this.$4=Math.min(this.$2-this.$d,bK);if(this.$b<0){this.$b=0}if(this.$c<0){this.$c=0}};bk.__typeName='tab.RegionGeometry';bk.$1=function(L,bK){var bL=bK.x+bK.w;return Math.max(L,bL)};bk.$0=function(L,bK){var bL=bK.y+bK.h;return Math.max(L,bL)};global.tab.RegionGeometry=bk;var bl=function(){};bl.__typeName='tab.RuntimeUIModule';bl.get_instance=function(){if(ss.isNullOrUndefined(bl.$0)){tab.ModuleManager.load(M).call(null,[]).done(function(L){bl.$0=L})}return bl.$0};global.tab.RuntimeUIModule=bl;var bm=function(){this.$k=new Map;this.$r=new Map;this.$p=new Map;this.$o=new Map;this.$j=new Map;this.$n=false;this.$h=false;this.$m=null;this.$l=new Map;this.$i=new Map;this.$q=new Map;this.scene=null;this.customShapes=null;this.brushings=null;this.selections=null;this.sceneUserPaneInfo=null;this.colorModel=null;this.$f=0;this.$g=0;this.customShapes=[];this.$f=0;this.$g=0};bm.__typeName='tab.SceneInfo';bm.getPaneMarksKey=function(L){var bK=L.paneId;return L.paneDescrKey+'_'+bK['columnIndex'.toString()]+'_'+bK['rowIndex'.toString()]+'_'+L.paneIndex};bm.extractCustomShapes=function(L){var bK=[];if(!ss.isValue(L)||!ss.isValue(L.pdMarksMap)){return bK}var bL=Object.keys(L.pdMarksMap);for(var bM=0;bM<bL.length;bM++){var bN=bL[bM];var bO=L.pdMarksMap[bN];var bP=bO.encodingColumns;if(ss.keyExists(bP,'shape_id')){var bQ=bP['shape_id'];var bR=bQ.dataValues;for(var bS=0;bS<bR.length;bS++){var bT=bR[bS];if(ss.isValue(bT)&&tab.SceneDataUtil.isCustomShape(bT)){bK.push(bT)}}}if(ss.isValue(bO.intMap)&&ss.keyExists(bO.intMap,'shape_id')){var bU=bO.intMap['shape_id'];if(tab.SceneDataUtil.isCustomShape(bU)){bK.push(bU)}}}return bK};bm.$0=function(L,bK,bL){var bM=L.paneRect.x;var bN=L.paneRect.y;bK.forEach(function(bO,bP){tab.RectXYUtil.offsetRectXYInPlace(bO,bM,bN);bL.set(bP,bO)})};global.tab.SceneInfo=bm;var bn=function(L){bn.$0.call(this,L.xPixelOffsets,L.yPixelOffsets)};bn.__typeName='tab.SceneUserPaneInfo';bn.$0=function(L,bK){this.$3=null;this.$4=null;this.$1=false;this.$2=false;this.$0=0;this.$5=0;this.$3=L;this.$4=bK;this.$1=ss.isValue(L)&&L.length>0;this.$2=ss.isValue(bK)&&bK.length>0;this.$0=(this.$1?(L.length-1):1);this.$5=(this.$2?(bK.length-1):1)};global.tab.SceneUserPaneInfo=bn;var bo=function(L,bK){bF.call(this,L,bK)};bo.__typeName='tab.ServerRenderVizHitTester';global.tab.ServerRenderVizHitTester=bo;var bp=function(L){this.$3=new Set;this.$2=null;this.$2=L;tab.ApplicationModel.get_instance().get_shapeManager().add_shapeLoaded(ss.mkdel(this,this.onShapeLoaded))};bp.__typeName='tab.ShapeDependencyManager';global.tab.ShapeDependencyManager=bp;var bq=function(L,bK,bL){this.$b=null;this.$a=null;this.$7=null;this.$4=null;this.$5=null;this.$9=null;this.$8={x:0,y:0};this.$6={x:0,y:0};this.$3={x:0,y:0,w:0,h:0};this.$c={x:0,y:0};this.$2={x:0,y:0};this.$b=(ss.isNullOrUndefined(L)?'0':L.w.toString());this.$a=(ss.isNullOrUndefined(L)?'0':L.h.toString());this.$7=bK;this.$4=bL};bq.__typeName='tab.ShapeSelectorBase';global.tab.ShapeSelectorBase=bq;var br=function(){};br.__typeName='tab.ShapeStateBase';global.tab.ShapeStateBase=br;var bs=function(){};bs.__typeName='tab.ShapeUtil';bs.generateSelectedUnderCustomShape=function(L,bK,bL,bM,bN){var bO=bs.colorTransformImage(L,bK,bM,bN);var bP=document.createElement('canvas');var bQ=bL*2;bP.width=Math.ceil(bM+bQ);bP.height=Math.ceil(bN+bQ);var bR=bP.getContext('2d');bR.drawImage(bO,0,0,bM,bN);bR.drawImage(bO,bL,0,bM,bN);bR.drawImage(bO,bQ,0,bM,bN);bR.drawImage(bO,bQ,bL,bM,bN);bR.drawImage(bO,bQ,bQ,bM,bN);bR.drawImage(bO,bL,bQ,bM,bN);bR.drawImage(bO,0,bQ,bM,bN);bR.drawImage(bO,0,bL,bM,bN);return bP};bs.generateOverlayForShape=function(L,bK,bL,bM,bN){var bO=bs.generateSelectedUnderCustomShape(L,bK,bL,bM,bN);var bP=bO.getContext('2d');bP.globalCompositeOperation='destination-out';bP.drawImage(L,bL,bL,bM,bN);return bO};bs.colorTransformImage=function(L,bK,bL,bM){var bN=bs.generateCanvasAndPrescaleAsNeeded(L,bL,bM);var bO=bN.getContext('2d');var bP=bO.getImageData(0,0,bN.width,bN.height);var bQ=bP.data.length;for(var bR=0;bR<bQ;bR+=4){if(bP.data[bR+3]>0){bP.data[bR]=bK.get_r();bP.data[bR+1]=bK.get_g();bP.data[bR+2]=bK.get_b()}}bO.putImageData(bP,0,0);return bN};bs.applyFoggingToImage=function(L,bK,bL,bM,bN){var bO=bs.generateCanvasAndPrescaleAsNeeded(L,bM,bN);var bP=bO.getContext('2d');var bQ=bP.getImageData(0,0,bO.width,bO.height);for(var bR=0;bR<bQ.data.length;bR+=4){if(bQ.data[bR+3]>0){bQ.data[bR]=Math.round(bK.get_r()+bQ.data[bR]*bL);bQ.data[bR+1]=Math.round(bK.get_g()+bQ.data[bR+1]*bL);bQ.data[bR+2]=Math.round(bK.get_b()+bQ.data[bR+2]*bL)}}bP.putImageData(bQ,0,0);return bO};bs.generateCanvasAndPrescaleAsNeeded=function(L,bK,bL){var bM=document.createElement('canvas');if(!ss.isValue(L)){return bM}if(L.width>bK*2&&L.height>bL*2){bM.width=Math.max(ss.Int32.div(L.naturalWidth,2),1);bM.height=Math.max(ss.Int32.div(L.naturalHeight,2),1)}else{bM.width=L.naturalWidth;bM.height=L.naturalHeight}var bN=bM.getContext('2d');bN.drawImage(L,0,0,bM.width,bM.height);return bM};global.tab.ShapeUtil=bs;var bt=function(L,bK,bL){this.$o=null;ss.makeGenericType(bD,[bz]).call(this,L,bK,'opaque');var bM=(ss.isValue(bL.get_scene())?bL.get_scene().colorModel:J.defaultColors);this.renderer=new o(this.canvasElt,this.context,bM);this.$o=bL};bt.__typeName='tab.SimpleRegionCanvasView';global.tab.SimpleRegionCanvasView=bt;var bu=function(L,bK,bL,bM,bN){this.$7=null;this.backgroundMap=new O;this.disposables=new tab.DisposableHolder;this.allowPanZoom=null;this.connectNode=null;this.domPanZoomRect=null;this.domDragImage=null;this.domDragMask=null;this.currentToolbarToolMode=null;this.lockedToolbarToolMode=null;this.regionContent=null;this.scroller=null;this.isScrolling=false;this.wasScrolling=false;this.waitingOnPanZoomServerResponse=null;this.paneTableViewModel=null;this.backgroundDiv=null;this.resetIsWaitingOnTransition=false;this.resetIsWaitingOnData=false;this.$8=null;this.$b=null;this.$a=null;this.$9=null;this.$6=false;this.$5=false;this.$4=null;this.$c=null;this.$d=null;this.$1$1=null;this.$1$2=null;this.$8=L;this.connectNode=$(bK);this.backgroundDiv=this.connectNode.find('.tvBackgroundContainer');this.$7=this.connectNode.find('.tvimagesContainer');this.allowPanZoom=bL;this.domPanZoomRect=new bi;this.$a=new bi;this.$b=bM;this.paneTableViewModel=bN;this.waitingOnPanZoomServerResponse='waitingOnServer';if(this.$8==='viz'){this.set_currentModifierKeyToolMode('no-tools');this.makeDomDrag()}this.lockedToolbarToolMode=this.paneTableViewModel.get_visualModel().get_defaultMapTool();if(ss.isValue(this.paneTableViewModel.get_mapServerModel())){this.paneTableViewModel.get_mapServerModel().add_tileSourceChanged(ss.mkdel(this,this.$2))}this.$c=new bA};bu.__typeName='tab.TiledViewerRegion';bu.getCanvasElement=function(L){return L.find('canvas').get(0)};global.tab.TiledViewerRegion=bu;var bv=function(L,bK,bL,bM,bN){this.$8=null;this.$9=null;this.$b=null;this.$g=null;this.$d=null;this.$e=null;this.$k=0;this.$l=0;this.$i=null;this.$7=null;this.$j=0;this.$c=null;this.$n=null;this.$m=0;this.$f=0;this.$h=false;this.$a=false;this.$1$1=null;this.$c=bM;this.$8=L;this.$g=bK;this.$n=bL;this.$h=bN;this.$b={x:0,y:0,w:0,h:0,r:''};this.$i={w:0,h:0};this.$9=new q;this.$9.add_imageLoaded(ss.mkdel(this,this.$3));this.$9.add_imageTimedOut(ss.mkdel(this,this.$4));this.$9.add_complete(ss.mkdel(this,this.$5));this.$e=[];this.$d=$('.tvimagesContainer',this.$8);this.$a=true};bv.__typeName='tab.TiledWindow';global.tab.TiledWindow=bv;var bw=function(L,bK){tab.TooltipBaseMode.call(this,'disabled',L,bK)};bw.__typeName='tab.TooltipDisabledMode';global.tab.TooltipDisabledMode=bw;var bx=function(L,bK,bL){this.$B=null;this.$C=null;this.$A=null;this.$z=false;tab.TooltipBaseMode.call(this,'smooth',L,bK);var bM=this.get_currentBehavior();bM.attach();bM.add_onMouseStop(ss.mkdel(this,this.$x));this.$A=bL;this.$B=bx.$0();this.$C=bx.$1();this.$s();this.get_tooltip().add_prePosition(ss.mkdel(this,this.prepareForPositioning));this.get_tooltip().add_positionCalculated(ss.mkdel(this,this.handleUbertipButtons));this.get_tooltip().add_showed(ss.mkdel(this,this.handleUbertipButtons));this.get_tooltip().add_closed(ss.mkdel(this,this.$y))};bx.__typeName='tab.TooltipResponsiveMode';bx.$0=function(){bx.$2++;return'mousemove.TooltipResponsiveMode'+bx.$2};bx.$1=function(){bx.$2++;return'mouseout.TooltipResponsiveMode'+bx.$2};global.tab.TooltipResponsiveMode=bx;var by=function(L,bK){this.$g=null;this.$b=0;this.$d=null;this.$e=null;this.$c=null;this.$f=null;this.$h=null;this.$g=L;var bL=L.$1;var bM=L.$2;var bN=L.$5*L.$0;this.$d=new Array(bN+1);this.$h=new Array(bN);this.$c=(bL?new Array(bN):null);this.$f=(bM?new Array(bN):null);this.$e=new Array(bK.markCount);this.$b=this.$2(bK)};by.__typeName='tab.UserPaneInfo';global.tab.UserPaneInfo=by;var bz=function(L,bK,bL,bM,bN){this.$6=null;this.$a=null;this.$8=null;this.$9=null;this.$3=null;this.$5=null;this.$4=null;this.$7=null;spiff.BaseViewModel.call(this);this.$6=L;this.$a=bK;this.$8=bL;this.$6.add_newVisualList(ss.mkdel(this,this.handleModelChange));if(ss.isValue(bM)){this.$9=bM.nodeSelection;this.$9.add_newSelection(ss.mkdel(this,this.$2))}if(ss.isValue(bN)){this.$3=bN.nodeSelection;this.$3.add_newSelection(ss.mkdel(this,this.$2))}if(ss.isValue(bM)||ss.isValue(bN)){this.$2()}var bO=ss.mkdel(this,function(){this.notifyPropertyChanged('font')});tab.ServerFontLoader.get_instance().add_fontPreparationComplete(bO);this.disposables.add$1(new tab.CallOnDispose(function(){tab.ServerFontLoader.get_instance().remove_fontPreparationComplete(bO)}))};bz.__typeName='tab.VisualListViewModel';global.tab.VisualListViewModel=bz;var bA=function(){this.$6=null;this.$5=null};bA.__typeName='tab.VisualObjectBoundsComputerAndHitTester';global.tab.VisualObjectBoundsComputerAndHitTester=bA;var bB=function(){};bB.__typeName='tab.VisualPartsHitTest';bB.hitTestRefLines=function(L,bK,bL){var bM=new E.$ctor1(0,0,0);var bN=[];for(var bO=0;bO<L.length;bO++){var bP=L[bO];var bQ=bB.hitTestRefLine(bP.drawItems,bK,bL);if(bQ.get_hitType()!==0){if(bL){bM=E.tieBreak(bQ,bM)}else{bN.push(bQ)}}}if(bL){if(bM.get_hitType()===0){return[]}return[bM]}return bN};bB.hitTestRefLine=function(L,bK,bL){var bM=new E.$ctor1(0,0,0);var bN=bB.$0(L,'refpart-text');bM=bB.$1(bN,4,bK,bL,bM);if(bM.get_hitType()===3){return bM}var bO=bB.$0(L,'refpart-geom');bM=bB.$1(bO,3,bK,bL,bM);return bM};bB.hitTestTrendLines=function(L,bK,bL){var bM=new E.$ctor1(0,0,0);var bN=[];for(var bO=L.length-1;bO>=0;bO--){var bP=bB.$3(L[bO],bK,bL);if(bP.get_hitType()===3){if(bL){return[bP]}else{bN.push(bP)}}if(bL&&bP.get_hitType()===2&&bM.get_hitType()===0){bM=bP}}if(bL){if(bM.get_hitType()===0){return[]}return[bM]}return bN};bB.$1=function(L,bK,bL,bM,bN){for(var bO=L.length-1;bO>=0;bO--){var bP=L[bO];var bQ=bB.$2(bP.drawItems,bK,bL,bM,bP.objectId);if(bQ.get_hitType()===3){return bQ}if(bQ.get_hitType()===2&&bN.get_hitType()===0){bN=bQ}}return bN};bB.$2=function(L,bK,bL,bM,bN){var bO=tab.RectXYUtil.dialate(bL,bB.visualPartNearHitTestExpansionPixels);var bP=1;var bQ=new E.$ctor1(bN,bK,0);for(var bR=0;bR<L.length;bR++){var bS=L[bR];switch(bS.type){case'draw-pen':{var bT=bS;if(ss.isValue(bT.strokeWidth)){bP=bT.strokeWidth}break}case'draw-polyline':case'draw-fill-rect':{var bU=bS;var bV=ss.isValue(bU.useForOverlayHitTest)&&!bU.useForOverlayHitTest;var bW={x:bU.points[0],y:bU.points[1]};var bX={x:bU.points[2],y:bU.points[3]};var bY=tab.RectXYUtil.rectXYFromCorners(bW,bX);if(bS.type==='draw-polyline'){if(bP<3){bY=tab.RectXYUtil.dialate(bY,1)}}var bZ=bM&&tab.RectXYUtil.intersectsWith(bO,bY);var ca=(!bM||bZ)&&tab.RectXYUtil.intersectsWith(bL,bY);if(ca){bQ=new E.$ctor1(bN,bK,3);if(bV){bQ.doNotRenderOverlay()}return bQ}if(bZ){bQ=new E.$ctor1(bN,bK,2);if(bV){bQ.doNotRenderOverlay()}}break}default:{break}}}return bQ};bB.$3=function(L,bK,bL){var bM=new E.$ctor1(0,0,0);if(bL){var bN=tab.RectXYUtil.dialate(bK,bB.visualPartNearHitTestExpansionPixels);var bO=bB.$4(L,bN);if(ss.isValue(bO)){bM=new E.$ctor1(ss.unbox(bO),2,2)}}if(bM.get_hitType()===2||!bL){var bP=bB.$4(L,bK);if(ss.isValue(bP)){bM=new E.$ctor1(ss.unbox(bP),2,3)}}return bM};bB.$4=function(L,bK){var bL=new Array;bL.push(L);while(bL.length>0){var bM=bL.pop();var bN=tab.RectXYUtil.intersectsWith(bM.get_boundingBox(),bK);if(bN){if(bM.get_nodeType()===4||bM.get_nodeType()===0){var bO=bM.get_children();bO.forEach(function(bP){bL.push(bP)})}else if(bM.get_nodeType()===5){return bM.get_objectId()}}}return null};bB.$0=function(L,bK){var bL=[];for(var bM=0;bM<L.length;bM++){var bN=L[bM];if(bN.type==='clip-rect'&&bK==='refpart-clip-rect'){bL.push(bN)}else if(bN.type==='draw-group'){var bO=bN;var bP=_.find(bO.drawItems,function(bQ){return bQ.type==='draw-text'});if(bK==='refpart-text'&&ss.isValue(bP)){bL.push(bN)}else if(bK==='refpart-geom'&&ss.isNullOrUndefined(bP)){bL.push(bN)}}}return bL};global.tab.VisualPartsHitTest=bB;var bC=function(){};bC.__typeName='tab.VisualPartTargetState';global.tab.VisualPartTargetState=bC;var bD=function(L){var bK=function(bL,bM,bN){this.renderer=null;this.completeDocSize={w:0,h:0};this.containers=null;this.$n=null;this.$4$1=null;ss.makeGenericType(l,[L]).call(this,bL,bN);this.$n=bM;this.containers=$('.tvimagesContainer',this.$n);this.add_sizeChange(ss.mkdel(this,this.$l))};ss.registerGenericClassInstance(bK,bD,[L],{add_loadComplete:function(bL){this.$4$1=ss.delegateCombine(this.$4$1,bL)},remove_loadComplete:function(bL){this.$4$1=ss.delegateRemove(this.$4$1,bL)},get_docSize:function(){return this.completeDocSize},destroy:function(){this.dispose()},dispose:function(){this.remove_sizeChange(ss.mkdel(this,this.$l));this.renderer=null;ss.makeGenericType(l,[L]).prototype.dispose.call(this)},refreshImages:function(bL){},reset:function(bL,bM){if(ss.isNullOrUndefined(bL)){return}var bN={w:bL.w,h:bL.h};var bO=ss.isValue(this.completeDocSize)&&!tab.SizeUtil.equals(bN,this.completeDocSize);this.completeDocSize=bN;this.containers.width(bL.w);this.containers.height(bL.h);if(bO){this.$m()}},copyContent:function(bL){bL.drawImage1(this.canvasElt,0,0)},redraw:function(){if(!this.get_needsRedraw()||ss.isNullOrUndefined(this.renderer)){return}this.renderer.reset();this.context.save();this.context.setClip(this.$k());tab.CanvasUtil.scaleCanvasDrawing(this.context,this.get_pixelRatio());this.renderer.set_renderOffset(this.scrollOffset);this.performRender();this.context.restore();this.postRenderFinalPass();this.clearDirty();this.raiseLoadComplete()},redrawFinished:function(){},raiseLoadComplete:function(){if(ss.isValue(this.$4$1)){this.$4$1(this,ss.EventArgs.Empty)}},onViewModelPropertyChanged:function(bL,bM){this.invalidate(false)},performRender:null,postRenderFinalPass:null,$k:function(){var bL=this.get_pixelRatio();var bM=this.get_dirtyRect();var bN=bM.x*bL;var bO=bM.y*bL;var bP=(bM.x+bM.w)*bL;var bQ=(bM.y+bM.h)*bL;var bR=Math.floor(bN);var bS=Math.floor(bO);return{x:bR,y:bS,w:Math.ceil(bP)-bR,h:Math.ceil(bQ)-bS}},$l:function(){this.$m()},$m:function(){var bL=this.get_effectiveViewSize();var bM={x:Math.min(this.completeDocSize.w-bL.w,this.scrollOffset.x),y:Math.min(this.completeDocSize.h-bL.h,this.scrollOffset.y)};bM.x=Math.max(0,bM.x);bM.y=Math.max(0,bM.y);this.set_scrollPos(bM)}},function(){return ss.makeGenericType(l,[L])},function(){return[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[L]),spiff.IScrollable,K]});return bK};bD.__typeName='tab.VisualRegionCanvasView$1';ss.initGenericClass(bD,a,1);global.tab.VisualRegionCanvasView$1=bD;var bE=function(L,bK,bL,bM,bN,bO,bP){this.$0=null;this.$1$1=0;this.$1$2=null;this.$1$3=0;this.$1$4=0;this.$1$5=0;this.$1$6=null;this.$1$7=null;this.set_instanceId(++bE.$0);this.set_region(L);this.set_paneId(bK);this.set_paneColumnIndex(bL);this.set_paneRowIndex(bM);this.set_regionCoordinates(bN);this.set_pageCoordinates(bO);this.$0=bP};bE.__typeName='tab.VizHitInfo';global.tab.VizHitInfo=bE;var bF=function(L,bK){this.$0=null;this.$1=null;this.paneTable=null;this.region=null;this.lastEvent=null;this.$1$1=null;tab.Param.verifyValue(L,'paneTable');tab.Param.verifyValue(bK,'region');this.paneTable=L;this.region=bK;this.$1=new tab.Debouncer(ss.mkdel(this,function(){var bL=this.region.toLocalCoordsEvent(this.lastEvent,false);var bM=tab.PointUtil.add(bL,this.region.getLocalOffsetPoint(false));this.hitTest(bL,bM)}),250)};bF.__typeName='tab.VizHitTester';global.tab.VizHitTester=bF;var bG=function(){};bG.__typeName='tab.VizZoneFactory';global.tab.VizZoneFactory=bG;var bH=function(L,bK){this.$1=0;this.$0=null;ss.EventArgs.call(this);this.$1=L;this.$0=bK};bH.__typeName='tab.WorkerDoneEventArgs';global.tab.WorkerDoneEventArgs=bH;var bI=function(L){this.$0=0;ss.EventArgs.call(this);this.$0=L};bI.__typeName='tab.WorkerTimeoutEventArgs';global.tab.WorkerTimeoutEventArgs=bI;var bJ=function(){};bJ.__typeName='tab.ZoomComputer';bJ.resolveDesiredZoom=function(L,bK){var bL=ss.coalesce(L.mapIntermediateLevels,1);var bM=Math.floor(bK*bL)/bL;bM+=Math.log(ss.coalesce(L.mapMaxStretch,1))/Math.LN2;var bN=Math.ceil(bK*bL)/bL;bN+=Math.log(ss.coalesce(L.mapMinShrink,1))/Math.LN2;return((bK+0.05<bN)?Math.min(bM,bK):Math.max(bN,bK))};bJ.resolveDesiredScale=function(L,bK){var bL=Math.log(bK)/Math.LN2;var bM=bJ.resolveDesiredZoom(L,L.mapRequestZoom+bL);var bN=bM-L.mapRequestZoom;var bO=Math.pow(2,bN);return bO};bJ.incrementZoom=function(L,bK){var bL=L+bK;return bL};bJ.combineTileZoomAndStretch=function(L,bK){return L+Math.log(bK)/Math.LN2};global.tab.ZoomComputer=bJ;ss.initClass(b,a,{$1:function(){return this.$5},$0:function(){return this.$4}});ss.initClass(c,a,{$0:function(L){L.set_alpha(this.$1);L.set_lineJoin(this.$4);L.set_lineCap(this.$3);L.set_linePattern(this.$5);L.set_strokeStyle(this.$8);L.set_lineWidth(this.$6);L.set_textAngle(this.$a);L.set_font(this.$2);L.set_shapeFillStyle(this.$7);L.set_textFillStyle(this.$b);L.set_textAlign(this.$9)}});ss.initClass(d,a,{});ss.initInterface(I,a,{get_template:null,get_mapsSearchViewRootElement:null});ss.initClass(e,a,{get_template:function(){return this},get_mapsSearchViewRootElement:function(){return this.$1}},spiff.Template,[ss.IDisposable,I]);ss.initClass(f,a,{$7:function(){return this.$c},$4:function(){return this.$9},$5:function(){if(!this.$4()){}return this.$a},$6:function(){return(this.$9?this.$b:null)},$3:function(L,bK,bL){this.$a=L;this.$8=bK;this.$9=true;this.$b=bL},$0:function(){this.$9=false;this.$b=null},$2:function(L,bK){return this.$1(L,bK)&&this.$9},$1:function(L,bK){return this.$a===L&&this.$8===bK}});ss.initClass(g,a,{$d:function(L){this.$1$1=ss.delegateCombine(this.$1$1,L)},$e:function(L){this.$1$1=ss.delegateRemove(this.$1$1,L)},$f:function(L){this.$1$2=ss.delegateCombine(this.$1$2,L)},$g:function(L){this.$1$2=ss.delegateRemove(this.$1$2,L)},$8:function(){return!this.$9},$1:function(){this.$0()},$7:function(L){if(ss.isNullOrUndefined(L)){this.$5();return}if(this.$c!==-1){window.clearTimeout(this.$c);this.$c=-1}this.$b=L;this.$9=false;this.$0();var bK=true;var bL=L.get_imageNode();var bM=$(bL);if(ss.isNullOrUndefined(bL)){var bN=document.createElement('img');L.set_imageNode(bN);bL=bN;bM=$(bL)}else{bK=tab.DoubleUtil.roundToInt(bM.width())!==L.get_bounds().w||tab.DoubleUtil.roundToInt(bM.height())!==L.get_bounds().h;bL.style.visibility=''}if(bK){$(bL).css(ss.mkdict(['left',L.get_bounds().l+'px','top',L.get_bounds().t+'px']))}bM.on('load',ss.mkdel(this,this.$3));bM.on('error',ss.mkdel(this,this.$2));bM.on('abort',ss.mkdel(this,this.$3));this.$c=window.setTimeout(ss.mkdel(this,function(){this.$4()}),600000);var bO=bM.attr('src');if(!tab.BrowserSupport.get_imageLoadIsSynchronous()){bM.attr('src',L.get_src())}else{window.setTimeout(function(){bM.attr('src',L.get_src())},0)}if(ss.referenceEquals(L.get_src(),bO)&&!tab.BrowserSupport.get_raisesEventOnImageReassignment()){window.setTimeout(ss.mkdel(this,function(){this.$3(null)}),0)}},$0:function(){if(ss.isValue(this.$b)&&ss.isValue(this.$b.get_imageNode())){var L=$(this.$b.get_imageNode());if(ss.isValue(L)){L.on('load',ss.mkdel(this,this.$3));L.on('error',ss.mkdel(this,this.$3));L.on('abort',ss.mkdel(this,this.$3))}}},$2:function(L){if(ss.isValue(L.currentTarget)){L.currentTarget.style.visibility='none'}this.$3(L)},$3:function(L){window.clearTimeout(this.$c);this.$c=-1;if(this.$9){return}this.$9=true;this.$5()},$4:function(){this.$9=true;this.$c=-1;this.$0();this.$6()},$5:function(){if(ss.isValue(this.$1$1)){this.$1$1(this,new bH(this.$a,this.$b))}},$6:function(){if(ss.isValue(this.$1$2)){this.$1$2(this,new bI(this.$a))}}});ss.initClass(h,a,{$4:function(){return this.$8.get(0)},$5:function(){return tab.DoubleUtil.roundToInt(this.$8.width())},$3:function(L){var bK=ss.mkdict(['backgroundColor',L]);this.$6.css(bK);this.$7.css(bK);this.$8.css(bK)},$1:function(L,bK){var bL=ss.mkdict(['width',L+'px']);if(bK){this.$6.addClass('leaflet-zoom-anim').addClass('leaflet-zoom-animated');this.$7.addClass('leaflet-zoom-anim').addClass('leaflet-zoom-animated')}this.$6.css(bL);this.$7.css(bL)},$2:function(){this.$6.removeClass('leaflet-zoom-anim').removeClass('leaflet-zoom-animated');this.$7.removeClass('leaflet-zoom-anim').removeClass('leaflet-zoom-animated')}},spiff.Template,[ss.IDisposable]);ss.initClass(i,a,{$1:function(){this.$3=[]},$2:function(L,bK,bL){if(ss.isValue(bL)){var bM=i.$0(L,'canvas');var bN=tab.RenderUtil.calculatePixelRatio();var bO=L[0];tab.CanvasUtil.setCanvasSizeAndDensify(bM,bN,{w:bO.offsetWidth,h:bO.offsetHeight})}else if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){i.$0(L,'div')}else{i.$0(L,'img');this.$3.push({name:bK,node:L})}},$0:function(L,bK,bL){if(this.$3.length>0){var bM=this.$3.length;for(var bN=0;bN<bM;bN++){var bO=this.$3[bN].node;if(ss.isValue(bO)){var bP=bK.formatRegionTileURL(L,this.$3[bN].name,bL);var bQ=bO.children().first();var bR=tab.RenderUtil.calculatePixelRatio(false);if(tab.DoubleUtil.isGreaterThanAndNotApproximatelyEqual(bR,1)){bQ.css('width',bO[0].offsetWidth+'px')}bQ.attr('src',bP)}}}}});ss.initClass(j,a,{$2:function(){return this.$4},$3:function(L){this.$4=L},$0:function(L,bK){if(!ss.isValue(this.$4)){return false}return ss.referenceEquals(this.$4.getAttribute('src'),L)&&this.$1===bK}});ss.initClass(k,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(bq,a,{get_dom:function(){return this.$5},get_pi:function(){return this.$9},set_pi:function(L){this.$9=L},get_dragStart:function(){return this.$6},get_connectNodePos:function(){return this.$3},get_totalScrollOffset:function(){return this.$c},get_drawOffsets:function(){return((tab.ApplicationModel.get_instance().get_isLocalRenderMode()||tsConfig.is_mobile)?{x:0,y:0}:this.get_totalScrollOffset())},get_autoScrollOffset:function(){return this.$2},get_tooltipAnchor:function(){return{x:this.$8.x+this.$c.x,y:this.$8.y+this.$c.y}},get_hitTestingBox:null,isSingleSelect:null,setSingleSelectPoint:function(L){this.$8={x:L.x,y:L.y}},dragStarted:function(L,bK,bL){this.$6={x:L,y:bK};this.$3=bL;this.$2={x:0,y:0}},recordScrollingOffsets:function(L){this.$c={x:L.x,y:L.y}},updateAndRenderShape:function(L){this.constrainShape(L);this.updateSpecificShape(this.$8);this.renderShape()},constrainShape:function(L){this.$8={x:L.pageX-this.$3.x,y:L.pageY-this.$3.y};if(ss.isInstanceOfType(this,m)){return}this.$8.y=Math.max(0,Math.min(this.$8.y,this.$3.h));this.$8.x=Math.max(0,Math.min(this.$8.x,this.$3.w))},shapeScrolled:function(L,bK){this.get_dragStart().x-=L;this.get_dragStart().y-=bK;this.$c.x+=L;this.$c.y+=bK;this.$2.x+=L;this.$2.y+=bK;this.updateSpecificShape(this.$8);this.renderShape()},updateSpecificShape:null,renderShape:null,createDomAndAppend:function(L){this.$5=$(this.$7);this.$5.addClass(this.$4);this.$5.css('display','none');this.$5.find('svg').attr('width',this.$b).attr('height',this.$a);L.append(this.$5)},show:null,hide:null,hitTest:function(L,bK,bL){var bM=bK||this.isSingleSelect();return(bM?this.$0(L,bL):this.$1(L,bL))},$0:function(L,bK){var bL={x:this.$8.x,y:this.$8.y,w:1,h:1};var bM=L.hitTestBoundingBoxes(bL,true,bK);return L.hitTestSingle(bL,bK,bM)},$1:function(L,bK){var bL=L.hitTestBoundingBoxes(this.get_hitTestingBox(),false,bK);var bM=[];var bN=this.get_hitTestingBox();for(var bO=bL.length-1;bO>=0;bO--){var bP=bL[bO];var bQ=bP.get_objectId();if(bQ<0){continue}var bR=B.findPaneNode(bP);if(ss.isNullOrUndefined(bR)){continue}var bS=bK.getPaneDrawInfoFromKey(bR.get_paneKey());var bT=D.getTransformInfo(bS,bP);var bU=tab.RectXYUtil.intersect(bN,bR.get_boundingBox());var bV=this.shapeAreaHit(bU,bS,bP,bT);if(bV){bM.push(new E.$ctor1(bS.c.get('tuple_id').gv(bQ),5,1))}}return bM},shapeAreaHit:null,sendSelectionCommand:null,updateLastState:function(L){if(this.isStateObjectTypeCorrect(L)){L.updateLastState()}},getStateDiff:function(L){if(this.isStateObjectTypeCorrect(L)){this.saveCurrentState(L);return L.getStateDiff()}var bK=new Array(1);bK[0]=this.get_hitTestingBox();return bK},retrieveStateObject:null,saveCurrentState:null,isStateObjectTypeCorrect:null});ss.initClass(m,a,{get_hitTestingBox:function(){return tab.RectXYUtil.nonemptyify(this.$f(true))},isSingleSelect:function(){return this.$i.radius<1},$f:function(L){return tab.CircleUtil.boundingBox((L?this.$j:this.$i))},updateSpecificShape:function(L){var bK=this.get_dragStart().x-this.get_connectNodePos().x;var bL=this.get_dragStart().y-this.get_connectNodePos().y;var bM=Math.sqrt(Math.pow(bK-L.x,2)+Math.pow(bL-L.y,2));this.$i={center:{x:bK+this.get_drawOffsets().x,y:bL+this.get_drawOffsets().y},radius:bM};this.$j={center:{x:bK+this.get_totalScrollOffset().x,y:bL+this.get_totalScrollOffset().y},radius:bM};if(this.$g()){this.$h()}},$g:function(){return ss.isValue(this.$k)&&ss.isValue(this.$k.get_radialSelectionDistanceInfoPresModel())&&this.$k.get_shouldShowDistance()},$h:function(){var L={x:this.$i.center.x+this.$i.radius,y:this.$i.center.y};var bK=this.$d(L);if(bK>0){this.displayDistance(bK)}},$d:function(L){var bK=this.$k.get_latLongRect();if(ss.isNullOrUndefined(bK)||this.$k.get_mapWidth()<=0||this.$k.get_mapHeight()<=0){return 0}var bL={x:this.$i.center.x%this.$k.get_mapWidth(),y:this.$i.center.y%this.$k.get_mapHeight()};var bM={x:bL.x+(L.x-this.$i.center.x),y:bL.y};var bN=(bK.maxLatitude-bK.minLatitude)/this.$k.get_mapHeight();var bO=bK.maxLatitude-bN*bL.y;var bP={item1:bK.minLongitude,item2:bO};var bQ={item1:bK.maxLongitude,item2:bO};var bR=x.haversineDistance(bP,bQ,this.$k.get_earthRadius());var bS=bR/this.$k.get_mapWidth();return Math.abs(bM.x-bL.x)*bS},displayDistance:function(L){var bK=this.get_dom().find('.tabDistanceReadout');bK.text(this.$e(L));var bL={x:ss.round(this.$i.center.x+this.$i.radius+this.$k.get_readoutOffsetPixels()),y:ss.round(this.$i.center.y)-ss.Int32.div(tab.DoubleUtil.roundToInt(bK.height()),2)};bK.css('left',bL.x+'px');bK.css('top',bL.y+'px')},$e:function(L){var bK=this.$k.get_smallUnitDisplay();if(L>=this.$k.get_unitTransition()){L/=this.$k.get_smallToLargeUnitDivisor();bK=this.$k.get_largeUnitDisplay()}var bL=tab.DoubleUtil.sigFigs(L,this.$k.get_sigFigs());var bM=0;if(bL!==0){var bN=Math.floor(Math.log(Math.abs(bL))/Math.log(10))+1;bM=Math.max(0,this.$k.get_sigFigs()-bN)}var bO=bL.toFixed(bM);if(this.$k.get_decimalMark()===','&&bO.indexOf('.')!==-1){bO=ss.replaceAllString(bO,'.',this.$k.get_decimalMark())}return ss.formatString('{0}  {1}',bO,bK)},formatReadoutTestHook:function(L){return this.$e(L)},computeRadialDistanceTestHook:function(L){return this.$d(L)},renderShape:function(){var L=this.get_dom().find('.circle_crosshair');var bK=this.get_dom().find('.circle_radius');this.get_dom().find('svg circle').attr('cx',this.$i.center.x.toString()).attr('cy',this.$i.center.y.toString()).attr('r',this.$i.radius.toString());L.eq(0).attr('x1',(this.$i.center.x-4).toString()).attr('x2',(this.$i.center.x+4).toString()).attr('y1',this.$i.center.y.toString()).attr('y2',this.$i.center.y.toString());L.eq(1).attr('x1',this.$i.center.x.toString()).attr('x2',this.$i.center.x.toString()).attr('y1',(this.$i.center.y-4).toString()).attr('y2',(this.$i.center.y+4).toString());bK.attr('x1',this.$i.center.x.toString()).attr('x2',(this.$i.center.x+this.$i.radius).toString()).attr('y1',this.$i.center.y.toString()).attr('y2',this.$i.center.y.toString())},show:function(){var L=this.get_dom().find('.tabDistanceReadout');var bK=this.get_dom().find('.circle_radius');if(this.$g()){L.css('font-size',this.$k.get_fontSizePixels());L.css('color',this.$k.get_fontColor());L.show();bK.show()}else{L.hide();bK.hide()}this.get_dom().show()},hide:function(){this.get_dom().hide()},shapeAreaHit:function(L,bK,bL,bM){var bN=this.$g();return D.circleAreaHit(bK,bL.get_boundingBox(),this.$j,bL.get_objectId(),bM,bK.markType,bN)},sendSelectionCommand:function(L,bK,bL,bM){var bN=this.$g();tab.SelectionClientCommands.selectCircleRegionAndDoUbertip(L,this.get_hitTestingBox(),this.$j,bK,bL,bM,bN)},retrieveStateObject:function(L){return(this.isStateObjectTypeCorrect(L)?L:new n)},saveCurrentState:function(L){if(this.isStateObjectTypeCorrect(L)){var bK=L;bK.saveCurrentState(this.$j)}},isStateObjectTypeCorrect:function(L){if(ss.isValue(L)){if(ss.referenceEquals(ss.getInstanceType(L),n)){return true}}return false}},bq);ss.initClass(br,a,{updateLastState:null,getStateDiff:null});ss.initClass(n,a,{saveCurrentState:function(L){this.$0=tab.CircleUtil.clone(L)},updateLastState:function(){this.$1=this.$0},getStateDiff:function(){if(!tab.CircleUtil.isEmpty(this.$1)){return tab.CircleUtil.getChangedRects(this.$0,this.$1)}var L=new Array(1);L[0]=tab.CircleUtil.boundingBox(this.$0);return L}},br);ss.initClass(o,a,{renderVisualListHelper:function(L,bK){var bL=L.get_visualListPM().drawItems;this.renderDrawItems(bL,L,bK,null)},renderDrawItems:function(L,bK,bL,bM){var bN=this.get_currentContext();var bO=bN.get_numberSavedStates();var bP=4;for(var bQ=0;bQ<L.length;++bQ){var bR=L[bQ];if(true&&bQ<bP&&bR.type==='transform'){}else if(bR.type==='draw-group'){var bS=bR;this.$9(bK,bS,bL,bM)}else{this.$b(bN,bR,bL,null,bM,false)}}while(bN.get_numberSavedStates()>bO){bN.restore()}},renderVisualList:function(L,bK){this.cachedVisibleRect=null;this.cachedVisibleRect=this.get_visibleRect();if(ss.isValue(L.get_defaultBackgroundColor())){this.get_currentContext().set_shapeFillStyle(L.get_defaultBackgroundColor());this.get_currentContext().fillRect(this.get_visibleRect().x,this.get_visibleRect().y,this.get_visibleRect().w,this.get_visibleRect().h)}this.renderVisualListHelper(L,bK);this.cachedVisibleRect=null},renderDrawItemList:function(L){this.renderDrawItems(L,null,null,null)},renderCanvasBorders:function(L){var bK=L.get_visualListPM().visualPart;var bL=L.get_visualListPM().drawItems;for(var bM=0;bM<bL.length;bM++){var bN=bL[bM];if(bN.type==='draw-pen'||bN.type==='draw-solid-brush'){this.renderDrawItemDefaultOptions(this.get_currentContext(),bN)}else if(bN.type==='draw-polyline'){var bO=this.get_currentCanvas().width;var bP=this.get_currentCanvas().height;var bQ=bN;var bR=bQ.points;if(ss.contains(o.$b,bK)){if(Math.abs(bR[3]-bR[1])>=bP){var bS={};bS.type=bN.type;bS.points=[0,0,0,bP];this.renderDrawItemDefaultOptions(this.get_currentContext(),bS);bS.points[0]+=bO-1;bS.points[2]+=bO-1;this.renderDrawItemDefaultOptions(this.get_currentContext(),bS);return}}else if(ss.contains(o.$c,bK)){if(Math.abs(bR[2]-bR[0])>=this.get_currentCanvas().width){var bT={};bT.type=bN.type;bT.points=[0,0,bO,0];this.renderDrawItemDefaultOptions(this.get_currentContext(),bT);bT.points[1]+=bP-1;bT.points[3]+=bP-1;this.renderDrawItemDefaultOptions(this.get_currentContext(),bT);return}}}}},renderDrawItemDefaultOptions:function(L,bK){this.$b(L,bK,null,null,null,false)},$b:function(L,bK,bL,bM,bN,bO){if(!ss.isValue(L)||!ss.isValue(bK)){return}switch(bK.type){case'draw-pen':{{var bP=bK;L.set_lineJoin((ss.isValue(bP.lineJoin)?tab.CanvasRenderer.toCanvasLineJoin(bP.lineJoin):tab.TabRenderContext2D.defaultLineJoin));var bQ='butt';var bR=bP.linePattern||tab.TabRenderContext2D.defaultLinePattern;if(bR!=='dashed'&&bR!=='dotted'){bQ=(ss.isValue(bP.lineCap)?tab.CanvasRenderer.toCanvasLineCap(bP.lineCap):tab.TabRenderContext2D.defaultLineCap)}L.set_lineCap(bQ);L.set_linePattern(bR);L.set_strokeStyle(tab.ColorModel.convertColorForCanvas(bP.color)||'rgb(0,0,0)');L.set_lineWidth(bP.strokeWidth||1)}break}case'draw-solid-brush':{{var bS=bK;L.set_shapeFillStyle(tab.ColorModel.convertColorForCanvas(bS.color))}break}case'draw-gradient-brush':{{var bT=bK;var bU=bT.pt1;var bV=bT.pt2;var bW=L.createLinearGradient(bU.x,bU.y,bV.x,bV.y);bW.addColorStop(0,tab.ColorModel.convertColorForCanvas(bT.color1));bW.addColorStop(1,tab.ColorModel.convertColorForCanvas(bT.color2));L.set_shapeFillStyle(bW)}break}case'draw-rect':{{var bX=bK;if(bX.points.length!==4){return}var bY=p.rectXYFromDrawRect(bX.points);L.strokeRect(bY.x,bY.y,bY.w,bY.h)}break}case'draw-fill-rect':{{var bZ=bK;if(bZ.points.length!==4){return}var ca=p.rectXYFromDrawRect(bZ.points);L.fillRect(ca.x,ca.y,ca.w,ca.h)}break}case'draw-ellipse':{{o.$2(L,bK,false)}break}case'draw-fill-ellipse':{{o.$2(L,bK,true)}break}case'draw-polyline':{{var cb=bK;var cc=cb.points;tab.CanvasRenderer.strokePath(L,cc,false,true)}break}case'draw-polygon':{{var cd=bK;tab.CanvasRenderer.strokePath(L,cd.points,true,true)}break}case'draw-fill-polygon':{{var ce=bK;tab.CanvasRenderer.fillPath(L,ce.points,true)}break}case'draw-fill-path':{{o.$3(L,bK,true)}break}case'draw-path':{{o.$3(L,bK,false)}break}case'clip-rect':{{var cf=bK;if(cf.points.length===4){if(true&&cf.points[2]-cf.points[0]===2){break}L.setClip({x:cf.points[0],y:cf.points[1],w:cf.points[2]-cf.points[0],h:cf.points[3]-cf.points[1]})}}break}case'draw-text':{{var cg=bK;if(cg.points.length!==2){return}var ch=cg.points[0];var ci=cg.points[1];var cj=-1;if(ss.isValue(bM)&&bM.w!==0&&bM.h!==0){var ck;var cl;if(L.get_isTextAngleHorizontal()){ck=((bM.x>ch)?ch:(ch-bM.x));cl=bM.w}else{ck=((bM.y>ci)?ci:(ci-bM.y));cl=bM.h}cj=Math.max(ck,cl-ck)}this.renderText(cg.text,ch,ci,cj,null,bO)}break}case'draw-text-props':{{o.$0(L,bK)}break}case'transform':{{var cm=bK;if(ss.isValue(cm.transformOffset)&&cm.transformOffset.length===2){L.translate(cm.transformOffset[0],cm.transformOffset[1])}if(ss.isValue(cm.transformScale)&&cm.transformScale.length===2){L.scale(cm.transformScale[0],cm.transformScale[1])}if(ss.isValue(cm.transformAngle)){L.rotate(cm.transformAngle*Math.PI/180)}}break}case'transform-pop':{{var cn=new c(L);L.restore();cn.$0(L)}break}case'transform-push':{{L.save()}break}case'draw-antialias':{{var co=bK;L.set_shouldAntialias(co.state)}break}case'draw-image':{{var cp=bK;if(ss.isValue(bL)&&bL.has(cp.imageHash)){var cq=bL.get(cp.imageHash);if(ss.isValue(cq)&&cq.complete){L.save();if(ss.isValue(bN)){L.setClip(bN)}L.set_alpha(cp.alpha);L.drawImage4(cq,cp.destBox[0],cp.destBox[1],cp.destBox[2]-cp.destBox[0],cp.destBox[3]-cp.destBox[1]);L.restore()}}else{}}break}default:{{}break}}},$9:function(L,bK,bL,bM){var bN=ss.isValue(L)&&L.get_visualListPM().visualPart==='annotations';this.clearPrevTextRunInfo();var bO=this.get_currentContext();var bP=false;bK.extentsX=bK.extentsX||0;bK.extentsY=bK.extentsY||0;bK.extentsWidth=bK.extentsWidth||0;bK.extentsHeight=bK.extentsHeight||0;var bQ={x:bK.extentsX,y:bK.extentsY,w:bK.extentsWidth,h:bK.extentsHeight};var bR=tab.RectXYUtil.offsetRect(bO.dirtyRect,this.get_renderOffset());if(bK.extentsWidth>0&&bK.extentsHeight>0&&(!this.isRectVisible(bQ)||!tab.RectXYUtil.intersectsWith(bR,bQ))){bP=true}var bS=this.$a(L,bK,bP);var bT=o.$6(bK.drawItems,bN);for(var bU=0;bU<bT.length;bU++){var bV=bT[bU];if(bS.$0()&&bV.type==='draw-solid-brush'){var bW=bV;bS.$2=tab.ColorModel.convertColorForCanvas(bW.color)}else{var bX=null;if(bS.$0()&&bV.type==='draw-text-props'){var bY=bV;bS.$3=tab.ColorModel.convertColorForCanvas(bY.color);bX=bO.get_textFillStyle()}if(!bP||o.$5(bV)){this.$b(bO,bV,bL,bQ,bM,bN)}if(ss.isValue(bX)){bO.set_textFillStyle(bX)}}}if(bS.$0()){bO.set_shapeFillStyle(bS.$2);bO.set_textFillStyle(bS.$3)}},$a:function(L,bK,bL){var bM=null;if(!bL&&ss.isValue(L)){if(L.isSelected(bK)){bM=new b('selected')}else if(L.isBrushed(bK)){bM=new b('highlighted')}else if(L.isHovered(bK)){bM=new b('hover')}}if(ss.isNullOrUndefined(bM)){return new b('normal')}var bN=this.get_currentContext();bM.$2=bN.get_shapeFillStyle();bM.$3=bN.get_textFillStyle();switch(bM.$1()){case'selected':{bN.set_textFillStyle(this.$c.selectionTextColor.toRgba());bN.set_shapeFillStyle(this.$c.selectionBgColor.toRgba());break}case'highlighted':{bN.set_textFillStyle(this.$c.highlightTextColor.toRgba());bN.set_shapeFillStyle(this.$c.highlightBgColor.toRgba());break}case'hover':{bN.set_textFillStyle('rgb(0,0,0)');bN.set_shapeFillStyle('rgb(245,245,245)');break}}var bO=ss.isValue(bK.offsetX)||ss.isValue(bK.offsetY);if(bO){bK.offsetX=bK.offsetX||0;bK.offsetY=bK.offsetY||0;bN.translate(-bK.offsetX,-bK.offsetY)}bN.fillRect(bK.extentsX,bK.extentsY,bK.extentsWidth,bK.extentsHeight);if(bO){bN.translate(bK.offsetX,bK.offsetY)}return bM}},tab.CanvasRenderer);ss.initClass(p,a,{});ss.initClass(q,a,{add_complete:function(L){this.$1$1=ss.delegateCombine(this.$1$1,L)},remove_complete:function(L){this.$1$1=ss.delegateRemove(this.$1$1,L)},add_imageLoaded:function(L){this.$1$2=ss.delegateCombine(this.$1$2,L)},remove_imageLoaded:function(L){this.$1$2=ss.delegateRemove(this.$1$2,L)},add_imageTimedOut:function(L){this.$1$3=ss.delegateCombine(this.$1$3,L)},remove_imageTimedOut:function(L){this.$1$3=ss.delegateRemove(this.$1$3,L)},addImage:function(L){if(!ss.isValue(L)){return}for(var bK=0,bL=this.$3.length;bK<bL;bK++){if(!this.$3[bK].$8()){this.$2++;this.$3[bK].$7(L);return}}if(this.$3.length<2){var bM=new g(this.$3.length);bM.$d(ss.mkdel(this,this.onWorkerFinished));bM.$f(ss.mkdel(this,this.onWorkerTimedOut));this.$3.push(bM);this.$2++;bM.$7(L)}else{this.$1.push(L)}},clear:function(){ss.clear(this.$1)},destroy:function(){for(var L=0;L<this.$3.length;L++){var bK=this.$3[L];bK.$1()}ss.clear(this.$1);this.$1$2=null;this.$1$3=null;this.$1$1=null},onWorkerFinished:function(L,bK){if(ss.isValue(this.$1$2)){this.$1$2(this,new H(bK.get_image()))}this.$0(bK.get_workerID())},onWorkerTimedOut:function(L,bK){if(ss.isValue(this.$1$3)){this.$1$3(this,ss.EventArgs.Empty)}this.$0(bK.get_workerID())},$0:function(L){this.$2--;if(this.$1.length===0){if(this.$2===0){if(ss.isValue(this.$1$1)){this.$1$1(this,ss.EventArgs.Empty)}}}else{this.$3[L].$7(this.$1.shift());this.$2++}}});ss.initClass(r,a,{render:function(){var L='fztButton';if(this.props.isSelected){L+=' selected'}var bK=(ss.isNullOrEmptyString(this.props.buttonTooltip)?null:React.DOM.div({className:'tab-mobileTooltip'},this.props.buttonTooltip));var bL=(this.props.shouldShowFlyoutCaret?React.DOM.div({className:'tab-floating-toolbar-flyout-caret'}):null);return spiff.EventForwarder.span(this.$0(),{className:L,title:this.props.buttonTooltip},[React.DOM.div({className:'tab-fzt-toggle-button-icon '+this.props.iconClassName}),bL,bK])},$1:function(L){this.props.onTap(this.props.buttonId)},$0:function(){return{tap:ss.mkdel(this,this.$1)}}},React.Component);ss.initEnum(s,a,{radialSelect:0,lassoSelect:1,rectangleSelect:2,appendSelect:3,pan:4,zoomHome:5});ss.initClass(t,a,{render:function(){return(this.props.showToolbar?ss.mkdel(this,this.renderContainer)():null)},renderContainer:function(){return React.DOM.div({className:'tab-floating-toolbar-container'},this.$2(),(this.props.showMapsSearch?ss.mkdel(this,this.$3)():null),this.$6())},$2:function(){return spiff.EventForwarder.div(this.$0(),{className:'tab-floating-toolbar-close-button-container'},[React.DOM.div({className:'tab-floating-toolbar-close-button'})])},$3:function(){return React.createElement(T,this.props.mapsSearchProps)},$6:function(){return React.DOM.div({className:'FloatingZoomToolbar tab-widget tabSuppressVizTooltipsAndOverlays'},this.$5(),this.$7())},$5:function(){return React.DOM.div({className:'fztButtonContainer'},React.createElement(r,this.props.selectedButtonProps),(this.props.showPanAndZoom?ss.mkdel(this,this.$4)():null),((this.props.showPanAndZoom&&!this.props.isHomeButtonHidden)?ss.mkdel(this,this.$8)():null))},$4:function(){return React.createElement(r,this.props.panButtonProps)},$8:function(){return React.createElement(r,this.props.homeButtonProps)},$7:function(){var L=React.DOM.div({className:'fztFlyOutContainer'},React.DOM.div({className:'fztFlyOutButtons'},React.createElement(r,this.props.radialSelectButtonProps),React.createElement(r,this.props.lassoSelectButtonProps),React.createElement(r,this.props.rectangleSelectButtonProps),React.createElement(r,this.props.appendSelectButtonProps)));return(this.props.isFlyoutCollapsed?null:L)},$1:function(L){this.props.onClose()},$0:function(){return{tap:ss.mkdel(this,this.$1)}}},React.Component);ss.initClass(u,a,{add_hidden:function(L){this.$3$1=ss.delegateCombine(this.$3$1,L)},remove_hidden:function(L){this.$3$1=ss.delegateRemove(this.$3$1,L)},add_mapApiCallback:function(L){this.$3$2=ss.delegateCombine(this.$3$2,L)},remove_mapApiCallback:function(L){this.$3$2=ss.delegateRemove(this.$3$2,L)},get_mapsSearchViewModel:function(){return this.$3$3},set_mapsSearchViewModel:function(L){this.$3$3=L},get_isAppending:function(){return this.$3$4},set_isAppending:function(L){this.$3$4=L},showToolbar:function(){if(this.$j){return}this.$j=true;this.incrementProps()},hideToolbar:function(){if(!this.$j){return}this.$j=false;this.incrementProps();if(!ss.staticEquals(this.$3$1,null)){this.$3$1()}},showMapsSearch:function(){this.$h=true;this.incrementProps()},hideMapsSearch:function(){this.$h=false;this.incrementProps()},shouldEnablePanAndZoom:function(L){this.$i=L;this.incrementProps()},updateZoomHomeState:function(L){this.$e=L;this.incrementProps()},createInitialProps:function(){return{onClose:ss.mkdel(this,this.hideToolbar),homeButtonProps:{buttonId:5,iconClassName:'buttonZoomHome',buttonTooltip:tab.Strings.PanZoomSelectToolsZoomHomeTooltip,onTap:ss.mkdel(this,this.$7)}}},$5:function(L){this.set_isAppending(!this.get_isAppending());this.$b[L].isSelected=this.get_isAppending();this.$3$2(L);this.$c=true;this.incrementProps()},$6:function(L){this.$b[this.$a].isSelected=false;this.$b[L].isSelected=true;this.$g.buttonId=this.$b[L].buttonId;this.$g.iconClassName=this.$b[L].iconClassName;this.$g.buttonTooltip=this.$b[L].buttonTooltip;this.$a=L;this.$3$2(L);this.$c=true;this.incrementProps()},$9:function(L){if(this.$d){this.$d=false;this.$g.isSelected=true;this.$f.isSelected=false;this.$3$2(this.$a);this.set_isAppending(false);this.$b[3].isSelected=false;this.$3$2(3)}else{this.$c=!this.$c}this.incrementProps()},$7:function(L){this.$3$2(L);this.$e=true;this.incrementProps()},$8:function(L){this.$d=true;this.$f.isSelected=true;this.$g.isSelected=false;this.$c=true;this.$3$2(L);this.incrementProps()},createUpdatedProps:function(){return{mapsSearchProps:{viewModel:this.get_mapsSearchViewModel()},showToolbar:this.$j,showMapsSearch:this.$h,showPanAndZoom:this.$i,panButtonProps:this.$f,radialSelectButtonProps:this.$b[0],lassoSelectButtonProps:this.$b[1],rectangleSelectButtonProps:this.$b[2],appendSelectButtonProps:this.$b[3],selectedButtonProps:this.$g,isFlyoutCollapsed:this.$c,isHomeButtonHidden:this.$e}}},ss.makeGenericType(spiff.BaseReactViewModel$1,[Object]),[ss.IDisposable,tab.IViewModel,ss.makeGenericType(spiff.IPropsProvider$1,[Object])]);ss.initClass(v,a,{get_currentToolMode:function(){return this.$8},set_currentToolMode:function(L){if(L!==this.$8){var bK=this.$8;this.$8=L;this.toolModeChanged(bK)}else if(L===this.api.defaultPointerToolMode()){this.updateFlyOutVisibility(false);this.updateButtonState(L,true)}},get_floatingToolbarType:function(){return this.toolbarType},dispose:function(){try{this.disposables.dispose()}catch(L){}if(ss.isValue(this.buttonContainer)){this.buttonContainer.remove()}if(ss.isValue(this.flyOutButtons)){this.flyOutButtons.remove()}if(ss.isValue(this.flyOutContainer)){this.flyOutContainer.remove()}this.api=null;this.buttonContainer=null;this.flyOutButtons=null;this.flyOutContainer=null;this.zoomInButton=null;this.zoomOutButton=null;this.zoomAreaButton=null;this.zoomHomeButton=null;this.flyOutButton=null;this.rectSelectButton=null;this.radialSelectButton=null;this.lassoSelectButton=null;this.panButton=null;spiff.Widget.prototype.dispose.call(this)},setZoomHomePossibility:function(L){this.canZoomHome=L;if(this.toolbarType==='homeOnlyToolbar'){this.setActiveState(this.canZoomHome)}},setActiveState:function(L){if(this.toolbarType==='homeOnlyToolbar'&&!this.canZoomHome){this.element.css({display:'none'})}else{this.element.css({display:(L?'':'none')})}if(!L){this.updateFlyOutVisibility(false)}},resetPointerToolMode:function(){this.set_currentToolMode(this.api.defaultPointerToolMode());this.api.setPointerToolMode(this.get_currentToolMode(),false);this.updateFlyOutVisibility(false)},resetVisualState:function(){this.updateFlyOutVisibility(false)},enableUserInteraction:function(L){this.element.css({'pointer-events':(L?'auto':'none')});this.$7=L},init:function(){this.createButtons();this.resetPointerToolMode();this.setActiveState(false)},createButtons:null,setupEventHandling:function(){if(ss.isValue(this.rectSelectButton)){this.disposables.add$1(this.rectSelectButton.onClick(ss.mkdel(this,function(){this.setToolMode('rectangular-selection',true);if(tsConfig.is_authoring){tab.FloatingToolbarClientCommands.setDefaultMapToolSelectionCommand('rectangular-selection')}})));this.disposables.add$1(this.rectSelectButton.onShiftClick(ss.mkdel(this,function(){this.setToolMode('rectangular-selection',true)})))}if(ss.isValue(this.panButton)){this.disposables.add$1(this.panButton.onClick(ss.mkdel(this,function(){this.setToolMode('pan-map',true);if(tsConfig.is_authoring){tab.FloatingToolbarClientCommands.setDefaultMapToolSelectionCommand('pan-map')}})));this.disposables.add$1(this.panButton.onShiftClick(ss.mkdel(this,function(){this.setToolMode('pan-map',true)})))}if(ss.isValue(this.radialSelectButton)){this.disposables.add$1(this.radialSelectButton.onClick(ss.mkdel(this,function(){this.setToolMode('radial-selection',true);if(tsConfig.is_authoring){tab.FloatingToolbarClientCommands.setDefaultMapToolSelectionCommand('radial-selection')}})));this.disposables.add$1(this.radialSelectButton.onShiftClick(ss.mkdel(this,function(){this.setToolMode('radial-selection',true)})))}if(ss.isValue(this.lassoSelectButton)){this.disposables.add$1(this.lassoSelectButton.onClick(ss.mkdel(this,function(){this.setToolMode('lasso-selection',true);if(tsConfig.is_authoring){tab.FloatingToolbarClientCommands.setDefaultMapToolSelectionCommand('lasso-selection')}})));this.disposables.add$1(this.lassoSelectButton.onShiftClick(ss.mkdel(this,function(){this.setToolMode('lasso-selection',true)})))}if(ss.isValue(this.zoomHomeButton)){this.disposables.add$1(this.zoomHomeButton.onClick(ss.mkdel(this,function(){this.clickZoomHome()})))}},updateFlyOutVisibility:function(L){if(ss.isValue(this.flyOutContainer)){this.flyOutContainer.css({display:(L?'':'none')})}},toggleFlyout:function(L){if(!this.$7){return}if(this.flyOutContainer.is(':visible')){this.updateFlyOutVisibility(false)}else{var bK=this.flyOutButton.element.position();var bL=tab.DoubleUtil.roundToInt(this.flyOutButton.element.width());this.flyOutContainer.css({top:bK.top+'px',left:bL+'px'});this.updateFlyOutVisibility(true)}},addButton:function(L,bK,bL){var bM=new spiff.Button($(document.createElement('div')));bM.set_hoverTooltipText(bL);var bN=bM;this.$6(L,bN,bK);return bN},addToggleButton:function(L,bK,bL){var bM=new spiff.ToggleButton($(document.createElement('span')));bM.set_hoverTooltipText(bL);var bN=bM;this.$6(L,bN,bK);return bN},addSpacer:function(){var L=$(document.createElement('div'));L.addClass('fztSpacer');this.buttonContainer.append(L)},$6:function(L,bK,bL){bK.element.addClass(bL);bK.element.addClass('fztButton');L.append(bK.element);this.disposables.add$1(bK)},setToolMode:function(L,bK){if(L===this.get_currentToolMode()){this.set_currentToolMode(this.api.defaultPointerToolMode())}else{this.set_currentToolMode(L)}this.api.setPointerToolMode(this.get_currentToolMode(),bK)},clickZoomHome:function(){if(this.canZoomHome){this.api.zoomHome()}},createButtonContainer:function(){this.buttonContainer=$("<div class='fztButtonContainer'/>");this.element.append(this.buttonContainer);if(ss.isValue(this.parent)){this.parent.append(this.element)}},createButtonFlyOut:function(){this.flyOutContainer=$("<div class='fztFlyOutContainer'/>");this.updateFlyOutVisibility(false);this.element.append(this.flyOutContainer);this.flyOutButtons=$("<div class='fztFlyOutButtons'/>");this.flyOutContainer.append(this.flyOutButtons)},updateButtonState:function(L,bK){switch(L){case'area-zoom':case'zoom-out':{this.selectButton(this.zoomAreaButton,bK);break}case'pan-map':{if(ss.isValue(this.panButton)){this.selectButton(this.panButton,bK)}break}case'rectangular-selection':{if(ss.isValue(this.rectSelectButton)){this.selectButton(this.rectSelectButton,bK)}break}case'radial-selection':{this.selectButton(this.radialSelectButton,bK);break}case'lasso-selection':{this.selectButton(this.lassoSelectButton,bK);break}default:{break}}},selectButton:function(L,bK){var bL=ss.safeCast(L,spiff.ToggleButton);if(ss.isValue(bL)){bL.set_selected(bK)}},toolModeChanged:function(L){this.updateButtonState(L,false);this.updateButtonState(this.get_currentToolMode(),true);this.updateFlyOutVisibility(false)}},spiff.Widget,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(w,a,{get_toolBarIsOffOrHome:function(){return ss.isNullOrUndefined(this.zoomToolbar)||this.zoomToolbar.get_floatingToolbarType()==='homeOnlyToolbar'},resetPointerToolbarMode:function(){if(ss.isNullOrUndefined(this.zoomToolbar)&&this.$1!=='hide'){this.createZoomToolbar()}if(ss.isValue(this.zoomToolbar)){this.zoomToolbar.resetPointerToolMode();return true}return false},updateZoomToolbar:function(L){this.$1=L;if(ss.isValue(this.zoomToolbar)){this.zoomToolbar.dispose();this.zoomToolbar=null;if(this.$1!=='hide'){this.createZoomToolbar();this.showFloatingZoomToolbar(true)}}if(this.$0.get_shouldEnableZoomHomeToolbar()&&ss.isNullOrUndefined(this.zoomToolbar)){this.createZoomToolbar()}if(ss.isValue(this.zoomToolbar)){this.zoomToolbar.setZoomHomePossibility(this.$0.get_shouldEnableZoomHomeToolbar())}},determineToolbarType:function(){var L=this.$0.allowPanZoom();var bK=this.$0.isVizLargerThanScreen();var bL='fullToolbar';if(this.$1!=='show'&&(this.$1!=='auto'||!L)){bL='homeOnlyToolbar'}else if(!L){bL='disablePanZoomToolbar'}if(tsConfig.is_mobile){if(bL==='fullToolbar'&&bK){return'disablePanZoomToolbar'}}return bL},showFloatingZoomToolbar:function(L){if(L&&this.$1!=='hide'&&ss.isNullOrUndefined(this.zoomToolbar)){this.createZoomToolbar()}if(ss.isValue(this.zoomToolbar)){this.zoomToolbar.setZoomHomePossibility(this.$0.get_shouldEnableZoomHomeToolbar());this.zoomToolbar.setActiveState(L)}},createZoomToolbar:function(){if(!tsConfig.allow_filter){return}var L=tsConfig.is_mobile&&tab.FeatureFlags.isEnabled('TouchSmoothTooltips');if(ss.isNullOrUndefined(this.zoomToolbar)&&!L){var bK=this.$0.get_zoomToolbarContainerDiv();var bL=this.$0.get_isMapSearchEnabled();var bM=this.$0.get_zoomToolbarOperations();var bN=this.determineToolbarType();var bO=this.$0.get_zoomToolbarOffset();var bP=tab.ObjectRegistry.resolve(v).call(null,[bK,bM,bN,bO,bL]);bP.addClass('tabSuppressVizTooltipsAndOverlays');this.zoomToolbar=bP}},enableUserInteraction:function(L){if(ss.isValue(this.zoomToolbar)){this.zoomToolbar.enableUserInteraction(L)}},resetVisualState:function(){if(ss.isValue(this.zoomToolbar)){this.zoomToolbar.resetVisualState()}},setToolMode:function(L,bK){if(ss.isValue(this.zoomToolbar)){this.zoomToolbar.setToolMode(L,bK);return true}return false},dispose:function(){if(ss.isValue(this.zoomToolbar)){this.zoomToolbar.dispose()}}},null,[ss.IDisposable]);ss.initClass(x,a,{});ss.initClass(y,a,{get_button:function(){return this.$a},$9:function(){var L={timeout:6000,enableHighAccuracy:true};window.navigator.geolocation.getCurrentPosition(ss.mkdel(this,this.$7),ss.mkdel(this,this.$8),L)},$7:function(L){var bK={};var bL=Math.abs(0.452185866478557);var bM=Math.abs(L.coords.latitude);var bN=89.5478141335214;if(bM>bN){bK.minLatitude=((L.coords.latitude<0)?-90:(L.coords.latitude-bL));bK.maxLatitude=((L.coords.latitude<0)?(L.coords.latitude+bL):90)}else{bK.minLatitude=L.coords.latitude-bL;bK.maxLatitude=L.coords.latitude+bL}var bO;var bP=Math.cos(x.degreeToRad(bM));var bQ=0.00249530881941949;if(bP<bQ){bO=180}else{bO=50/(111.32*bP)}bK.minLongitude=L.coords.longitude-bO;bK.maxLongitude=L.coords.longitude+bO;tab.PaneClientCommands.boundingBoxPan(this.$b,bK)},$6:function(L){var bK='';if(L.code===L.PERMISSION_DENIED){if(y.$0()){bK=tab.Strings.GotoMyLocationPermissionDeniedUnsecureConnection}else{bK=tab.Strings.GotoMyLocationPermissionDeniedError}}else if(L.code===L.TIMEOUT){bK=tab.Strings.GotoMyLocationTimeoutError}else if(L.code===L.POSITION_UNAVAILABLE){if(y.$0()){bK=tab.Strings.GotoMyLocationPermissionDeniedUnsecureConnection}else{bK=tab.Strings.GotoMyLocationPositionUnavailableError}}else{bK=tab.Strings.GotoMyLocationPositionUnavailableError}return bK},$8:function(L){var bK=this.$6(L);var bL=this.element.offset();var bM={x:tab.DoubleUtil.roundToInt(bL.left)+tab.DoubleUtil.roundToInt(this.element.width())+8,y:tab.DoubleUtil.roundToInt(bL.top)};if(tsConfig.is_mobile){bM.y+=ss.Int32.div(tab.DoubleUtil.roundToInt(this.element.height()),4)}tab.NotificationViewModel.showGeoLocationNotification(bK,-1,{x:bM.x,y:bM.y})}},spiff.Widget,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(X,a,{renderMultipolygonMark:function(L,bK,bL){var bM=L.get_hasSelection();var bN=L.get_hasBrushing();var bO='colorOverrideNone';var bP=L.getUserPaneMarkRange(bK);var bQ=bP.firstMark;var bR=bP.lastMark;var bS=L.getUserPaneRectByIndex(bK);this.get_currentContext().save();switch(bL){case'normalUnderPass':{if(L.get_hasBackground()&&L.get_hasHalos()){if(bM||bN){bO='colorOverrideFog'}else{bO='colorOverrideNone'}{L.markWorldOffsets.forEach(ss.mkdel(this,function(bT,bU){X.$c(this.get_currentContext(),bU);for(var bV=bQ;bV<=bR;bV++){if(bT.has(bV)){continue}if(!L.markNeedsDraw(bV)){continue}if(L.getMarkState(bV)!=='markStateNormal'){continue}this.drawMultipolygonMarkLayer(L,bV,'normalUnder',bO)}if(!tab.DoubleUtil.isApproximatelyEqual(bU,0)){this.get_currentContext().restore()}}))}if(bM||bN){bO='colorOverrideNone';{L.markWorldOffsets.forEach(ss.mkdel(this,function(bT,bU){X.$c(this.get_currentContext(),bU);for(var bV=bQ;bV<=bR;bV++){if(bT.has(bV)){continue}if(!L.markNeedsDraw(bV)){continue}if(L.getMarkState(bV)!=='markStateHighlighted'){continue}this.drawMultipolygonMarkLayer(L,bV,'normalUnder',bO)}if(!tab.DoubleUtil.isApproximatelyEqual(bU,0)){this.get_currentContext().restore()}}))}}}break}case'normalOnPass':{if(bM||bN){bO='colorOverrideFog'}else{bO='colorOverrideNone'}{L.markWorldOffsets.forEach(ss.mkdel(this,function(bT,bU){X.$c(this.get_currentContext(),bU);for(var bV=bQ;bV<=bR;bV++){if(bT.has(bV)){continue}if(!L.markNeedsDraw(bV)){continue}if(L.getMarkState(bV)!=='markStateNormal'){continue}this.drawMultipolygonMarkLayer(L,bV,'normalOn',bO)}if(!tab.DoubleUtil.isApproximatelyEqual(bU,0)){this.get_currentContext().restore()}}))}break}case'highlightedUnderPass':{break}case'highlightedOnPass':{if(bM||bN){bO='colorOverrideNone';{L.markWorldOffsets.forEach(ss.mkdel(this,function(bT,bU){X.$c(this.get_currentContext(),bU);for(var bV=bQ;bV<=bR;bV++){if(bT.has(bV)){continue}if(!L.markNeedsDraw(bV)){continue}if(L.getMarkState(bV)!=='markStateHighlighted'){continue}this.drawMultipolygonMarkLayer(L,bV,'normalOn',bO)}if(!tab.DoubleUtil.isApproximatelyEqual(bU,0)){this.get_currentContext().restore()}}))}}break}case'selectedUnderPass':{if(bM||bN){bO='colorOverrideOpaque';{L.markWorldOffsets.forEach(ss.mkdel(this,function(bT,bU){X.$c(this.get_currentContext(),bU);for(var bV=bQ;bV<=bR;bV++){if(bT.has(bV)){continue}if(!L.markNeedsDraw(bV)){continue}if(L.getMarkState(bV)!=='markStateSelected'){continue}this.drawMultipolygonMarkLayer(L,bV,'selectedUnder',bO)}if(!tab.DoubleUtil.isApproximatelyEqual(bU,0)){this.get_currentContext().restore()}}))}}break}case'selectedOnPass':{if(bM||bN){bO='colorOverrideOpaque';{L.markWorldOffsets.forEach(ss.mkdel(this,function(bT,bU){X.$c(this.get_currentContext(),bU);for(var bV=bQ;bV<=bR;bV++){if(bT.has(bV)){continue}if(!L.markNeedsDraw(bV)){continue}if(L.getMarkState(bV)!=='markStateSelected'){continue}this.drawMultipolygonMarkLayer(L,bV,'normalOn',bO)}if(!tab.DoubleUtil.isApproximatelyEqual(bU,0)){this.get_currentContext().restore()}}))}}break}}this.get_currentContext().restore()},drawMultipolygonMarkLayer:function(L,bK,bL,bM){if(L.clipCase!==0){this.get_currentContext().save();this.$9(L.clipCase,L.c.get('cell_x').gv(bK),L.c.get('cell_y').gv(bK),L.c.get('clip_width').gv(bK),L.c.get('clip_height').gv(bK))}var bN=((bL!=='normalOn')?0:X.$d());var bO='empty';var bP=L.getMarkGeometry(L.c.get('geometry').gv(bK));if(ss.isValue(bP)){bO=bP.geometryType}switch(bO){case'multiPolygon':{if(!L.hasPixelGeometry){this.get_currentContext().save();this.get_currentContext().translate(L.c.get('x').gv(bK),L.c.get('y').gv(bK));this.get_currentContext().scale(L.c.get('size').gv(bK),L.c.get('size').gv(bK))}tab.CanvasRenderer.createMultipolygonPath(this.get_currentContext(),bP);if(!L.hasPixelGeometry){this.get_currentContext().restore()}switch(bL){case'normalUnder':{{this.strokeCurrentPath(2-bN,L.c.get('halo_color').gv(bK)[bM])}break}case'selectedUnder':{{this.strokeCurrentPath(2-bN,L.c.get('selected_halo_color').gv(bK)[bM])}break}case'normalOn':{{this.fillCurrentPath(L.getMarkColors(bK)[bM])}if(L.c.get('draw_border').gv(bK)){this.strokeCurrentPath(1-bN,L.c.get('border_color').gv(bK)[bM])}break}default:{break}}break}case'multiLineString':{if(!L.hasPixelGeometry){this.get_currentContext().save();this.get_currentContext().translate(L.c.get('x').gv(bK),L.c.get('y').gv(bK));this.get_currentContext().scale(L.c.get('size').gv(bK),L.c.get('size').gv(bK))}tab.CanvasRenderer.createMultiLinePath(this.get_currentContext(),bP);if(!L.hasPixelGeometry){this.get_currentContext().restore()}switch(bL){case'normalUnder':{{tab.CanvasRenderer.fillMultiLineStringPath(this.get_currentContext(),L.c.get('size').gv(bK)+4,L.c.get('halo_color').gv(bK)[bM])}{tab.CanvasRenderer.fillMultiLineStringEndCaps(this.get_currentContext(),bP.multiLine,L.c.get('size').gv(bK)+4,2,L.c.get('halo_color').gv(bK)[bM])}break}case'selectedUnder':{{tab.CanvasRenderer.fillMultiLineStringPath(this.get_currentContext(),L.c.get('size').gv(bK)+4,L.c.get('selected_halo_color').gv(bK)[bM])}{tab.CanvasRenderer.fillMultiLineStringEndCaps(this.get_currentContext(),bP.multiLine,L.c.get('size').gv(bK)+4,2,L.c.get('selected_halo_color').gv(bK)[bM])}break}case'normalOn':{{tab.CanvasRenderer.fillMultiLineStringPath(this.get_currentContext(),L.c.get('size').gv(bK),L.getMarkColors(bK)[bM])}break}default:{break}}break}case'multiPoint':{if(!L.hasPixelGeometry){this.get_currentContext().save();this.get_currentContext().translate(L.c.get('x').gv(bK),L.c.get('y').gv(bK));this.get_currentContext().scale(L.c.get('size').gv(bK),L.c.get('size').gv(bK))}tab.CanvasRenderer.createMultipointPath(this.get_currentContext(),7,bP);if(!L.hasPixelGeometry){this.get_currentContext().restore()}switch(bL){case'normalUnder':{{this.strokeCurrentPath(2-bN,L.c.get('halo_color').gv(bK)[bM])}break}case'selectedUnder':{{this.strokeCurrentPath(2-bN,L.c.get('selected_halo_color').gv(bK)[bM])}break}case'normalOn':{{this.fillCurrentPath(L.getMarkColors(bK)[bM])}if(L.c.get('draw_border').gv(bK)){this.strokeCurrentPath(1-bN,L.c.get('border_color').gv(bK)[bM])}break}default:{break}}break}case'empty':{tab.CanvasRenderer.createPlaceholderPath(this.get_currentContext(),L.c.get('x').gv(bK),L.c.get('y').gv(bK),7);switch(bL){case'normalUnder':{{this.strokeCurrentPath(2-bN,L.c.get('halo_color').gv(bK)[bM])}break}case'selectedUnder':{{this.strokeCurrentPath(2-bN,L.c.get('selected_halo_color').gv(bK)[bM])}break}case'normalOn':{{this.fillCurrentPath(L.getMarkColors(bK)[bM])}if(L.c.get('draw_border').gv(bK)){this.strokeCurrentPath(1-bN,L.c.get('border_color').gv(bK)[bM])}break}default:{break}}break}default:{break}}if(L.clipCase!==0){this.get_currentContext().restore()}},renderAreaMark:function(L,bK,bL){var bM=L.get_hasSelection();var bN=L.get_hasBrushing();var bO='colorOverrideNone';var bP=L.getUserPaneMarkRange(bK);var bQ=bP.firstMark;var bR=bP.lastMark;var bS=L.getUserPaneRectByIndex(bK);var bT=L.get_lineDrawState();this.get_currentContext().save();switch(bL){case'normalUnderPass':{break}case'normalOnPass':{if(bM||bN){bO='colorOverrideFog'}else{bO='colorOverrideNone'}var bU=bT.get_lineAttributes();for(var bV=0;bV<bU.length;bV++){var bW=bU[bV];if(bW.get_lineState()!=='lineStateNormal'){continue}var bX=bW.worldOffsets;var bY=bX.length;for(var bZ=0;bZ<bY;bZ++){var ca=bX[bZ];X.$c(this.get_currentContext(),ca);{for(var cb=0;cb<bW.marksNeedingDraw.length;cb++){var cc=bW.marksNeedingDraw[cb];this.drawAreaMarkLayer(L,cc,'edgeOn',bO,bW.startIndex)}}if(ca!==0){this.get_currentContext().restore()}}}break}case'highlightedUnderPass':{break}case'highlightedOnPass':{if(bM||bN){bO='colorOverrideNone';var cd=bT.get_lineAttributes();for(var ce=0;ce<cd.length;ce++){var cf=cd[ce];if(cf.get_lineState()!=='lineStateHighlighted'){continue}var cg=cf.worldOffsets;var ch=cg.length;for(var ci=0;ci<ch;ci++){var cj=cg[ci];X.$c(this.get_currentContext(),cj);{for(var ck=0;ck<cf.marksNeedingDraw.length;ck++){var cl=cf.marksNeedingDraw[ck];this.drawAreaMarkLayer(L,cl,'edgeOn',bO,cf.startIndex)}}if(cj!==0){this.get_currentContext().restore()}}}var cm=bT.get_lineAttributes();for(var cn=0;cn<cm.length;cn++){var co=cm[cn];if(co.get_lineState()!=='lineStateHighlighted'){continue}var cp=co.worldOffsets;var cq=cp.length;for(var cr=0;cr<cq;cr++){var cs=cp[cr];X.$c(this.get_currentContext(),cs);if(!co.get_allHighlighted()){{for(var ct=0;ct<co.marksNeedingDraw.length;ct++){var cu=co.marksNeedingDraw[ct];if(L.getMarkState(cu)==='markStateHighlighted'){this.drawAreaMarkLayer(L,cu,'highlightedUnder1',bO,co.startIndex);this.drawAreaMarkLayer(L,cu,'highlightedUnder',bO,co.startIndex)}}}{for(var cv=0;cv<co.marksNeedingDraw.length;cv++){var cw=co.marksNeedingDraw[cv];if(L.getMarkState(cw)==='markStateHighlighted'){this.drawAreaMarkLayer(L,cw,'highlightedOn1',bO,co.startIndex);this.drawAreaMarkLayer(L,cw,'highlightedOn',bO,co.startIndex)}}}}if(cs!==0){this.get_currentContext().restore()}}}}break}case'selectedUnderPass':{break}case'selectedOnPass':{if(bM||bN){bO='colorOverrideOpaque';var cx=bT.get_lineAttributes();for(var cy=0;cy<cx.length;cy++){var cz=cx[cy];if(cz.get_lineState()!=='lineStateSelected'){continue}var cA=cz.worldOffsets;var cB=cA.length;for(var cC=0;cC<cB;cC++){var cD=cA[cC];X.$c(this.get_currentContext(),cD);{for(var cE=0;cE<cz.marksNeedingDraw.length;cE++){var cF=cz.marksNeedingDraw[cE];this.drawAreaMarkLayer(L,cF,'edgeOn',bO,cz.startIndex)}}if(cD!==0){this.get_currentContext().restore()}}}var cG=bT.get_lineAttributes();for(var cH=0;cH<cG.length;cH++){var cI=cG[cH];if(cI.get_lineState()!=='lineStateSelected'){continue}var cJ=cI.worldOffsets;var cK=cJ.length;for(var cL=0;cL<cK;cL++){var cM=cJ[cL];X.$c(this.get_currentContext(),cM);if(!cI.get_allHighlighted()){{for(var cN=0;cN<cI.marksNeedingDraw.length;cN++){var cO=cI.marksNeedingDraw[cN];if(L.getMarkState(cO)==='markStateHighlighted'){this.drawAreaMarkLayer(L,cO,'highlightedUnder1',bO,cI.startIndex);this.drawAreaMarkLayer(L,cO,'highlightedUnder',bO,cI.startIndex)}}}{for(var cP=0;cP<cI.marksNeedingDraw.length;cP++){var cQ=cI.marksNeedingDraw[cP];if(L.getMarkState(cQ)==='markStateHighlighted'){this.drawAreaMarkLayer(L,cQ,'highlightedOn1',bO,cI.startIndex);this.drawAreaMarkLayer(L,cQ,'highlightedOn',bO,cI.startIndex)}}}}if(cM!==0){this.get_currentContext().restore()}}}var cR=bT.get_lineAttributes();for(var cS=0;cS<cR.length;cS++){var cT=cR[cS];if(cT.get_lineState()!=='lineStateSelected'){continue}var cU=cT.worldOffsets;var cV=cU.length;for(var cW=0;cW<cV;cW++){var cX=cU[cW];X.$c(this.get_currentContext(),cX);{for(var cY=0;cY<cT.marksNeedingDraw.length;cY++){var cZ=cT.marksNeedingDraw[cY];if(L.getMarkState(cZ)==='markStateSelected'){this.drawAreaMarkLayer(L,cZ,'selectedUnder1',bO,cT.startIndex);this.drawAreaMarkLayer(L,cZ,'selectedUnder',bO,cT.startIndex)}}}{for(var da=0;da<cT.marksNeedingDraw.length;da++){var db=cT.marksNeedingDraw[da];if(L.getMarkState(db)==='markStateSelected'){this.drawAreaMarkLayer(L,db,'selectedOn1',bO,cT.startIndex);this.drawAreaMarkLayer(L,db,'selectedOn',bO,cT.startIndex)}}}if(cX!==0){this.get_currentContext().restore()}}}}break}}this.get_currentContext().restore()},drawAreaMarkLayer:function(L,bK,bL,bM,bN){var bO=L.c.get('l_neighbor').gv(bK);var bP=L.c.get('r_neighbor').gv(bK);var bQ=L.clipCase;if(bQ!==0){this.get_currentContext().save();this.$9(bQ,L.c.get('cell_x').gv(bK),L.c.get('cell_y').gv(bK),L.c.get('clip_width').gv(bK),L.c.get('clip_height').gv(bK))}var bR=L.drawBorder;switch(bL){case'edgeOn':{if(L.c.get('r_neighbor').gv(bK)!==-1){var bS=[Math.round(L.c.get('x1').gv(bK)),Math.round(L.c.get('y1').gv(bK)),Math.round(L.c.get('x1').gv(bP)),Math.round(L.c.get('y1').gv(bP)),Math.round(L.c.get('x_prev').gv(bP)),Math.round(L.c.get('y_prev').gv(bP)),Math.round(L.c.get('x_next').gv(bK)),Math.round(L.c.get('y_next').gv(bK))];this.get_currentContext().set_lineJoin('miter');this.$c(bS,L.getMarkColors(bN)[bM])}if(bR&&L.c.get('r_neighbor').gv(bK)!==-1){var bT=[L.c.get('x1').gv(bK),L.c.get('y1').gv(bK),L.c.get('x1').gv(bP),L.c.get('y1').gv(bP)];this.$d(bT,1,L.c.get('border_color').gv(bK)[bM],true)}if(bR&&L.c.get('r_neighbor').gv(bK)!==-1){var bU=[L.c.get('x_next').gv(bK),L.c.get('y_next').gv(bK),L.c.get('x_prev').gv(bP),L.c.get('y_prev').gv(bP)];this.$d(bU,1,L.c.get('border_color').gv(bK)[bM],true)}if(bR&&(L.c.get('l_neighbor').gv(bK)!==-1&&L.c.get('r_neighbor').gv(bK)!==-1)){var bV=[L.c.get('x_prev').gv(bK),L.c.get('y_prev').gv(bK),L.c.get('x_next').gv(bK),L.c.get('y_next').gv(bK)];this.$d(bV,1,L.c.get('border_color').gv(bK)[bM],true)}if(bR&&L.c.get('l_neighbor').gv(bK)===-1){var bW=[L.c.get('x1').gv(bK),L.c.get('y1').gv(bK),L.c.get('x_next').gv(bK),L.c.get('y_next').gv(bK)];this.$d(bW,1,L.c.get('border_color').gv(bK)[bM],true)}if(bR&&L.c.get('r_neighbor').gv(bK)===-1){var bX=[L.c.get('x1').gv(bK),L.c.get('y1').gv(bK),L.c.get('x_prev').gv(bK),L.c.get('y_prev').gv(bK)];this.$d(bX,1,L.c.get('border_color').gv(bK)[bM],true)}if(!bR&&L.c.get('r_neighbor').gv(bK)!==-1){var bY=[L.c.get('x1').gv(bK),L.c.get('y1').gv(bK),L.c.get('x1').gv(bP),L.c.get('y1').gv(bP)];this.$d(bY,1,L.getMarkColors(bN)[bM],true)}if(!bR&&L.c.get('r_neighbor').gv(bK)!==-1){var bZ=[L.c.get('x_next').gv(bK),L.c.get('y_next').gv(bK),L.c.get('x_prev').gv(bP),L.c.get('y_prev').gv(bP)];this.$d(bZ,1,L.getMarkColors(bN)[bM],true)}if(!bR&&(L.c.get('l_neighbor').gv(bK)!==-1&&L.c.get('r_neighbor').gv(bK)!==-1)){var ca=[L.c.get('x_prev').gv(bK),L.c.get('y_prev').gv(bK),L.c.get('x_next').gv(bK),L.c.get('y_next').gv(bK)];this.$d(ca,1,L.getMarkColors(bN)[bM],true)}if(!bR&&L.c.get('l_neighbor').gv(bK)===-1){var cb=[L.c.get('x1').gv(bK),L.c.get('y1').gv(bK),L.c.get('x_next').gv(bK),L.c.get('y_next').gv(bK)];this.$d(cb,1,L.getMarkColors(bN)[bM],true)}if(!bR&&L.c.get('r_neighbor').gv(bK)===-1){var cc=[L.c.get('x1').gv(bK),L.c.get('y1').gv(bK),L.c.get('x_prev').gv(bK),L.c.get('y_prev').gv(bK)];this.$d(cc,1,L.getMarkColors(bN)[bM],true)}break}case'selectedOn':{{tab.CanvasRenderer.renderFilledCircle(this.get_currentContext(),0+L.c.get('x1').gv(bK),0+L.c.get('y1').gv(bK),5,L.getMarkColors(bK)[bM])}break}case'selectedUnder':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+L.c.get('x1').gv(bK),0+L.c.get('y1').gv(bK),5,L.c.get('selected_halo_color').gv(bK)[bM],4)}break}case'selectedOn1':{{tab.CanvasRenderer.renderFilledCircle(this.get_currentContext(),0+L.c.get('x').gv(bK),0+L.c.get('y').gv(bK),5,L.getMarkColors(bK)[bM])}break}case'selectedUnder1':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+L.c.get('x').gv(bK),0+L.c.get('y').gv(bK),5,L.c.get('selected_halo_color').gv(bK)[bM],4)}break}case'highlightedOn':{{tab.CanvasRenderer.renderFilledCircle(this.get_currentContext(),0+L.c.get('x1').gv(bK),0+L.c.get('y1').gv(bK),5,L.getMarkColors(bK)[bM])}break}case'highlightedUnder':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+L.c.get('x1').gv(bK),0+L.c.get('y1').gv(bK),5,L.c.get('selected_multi_prim_halo_color').gv(bK)[bM],4)}break}case'highlightedOn1':{{tab.CanvasRenderer.renderFilledCircle(this.get_currentContext(),0+L.c.get('x').gv(bK),0+L.c.get('y').gv(bK),5,L.getMarkColors(bK)[bM])}break}case'highlightedUnder1':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+L.c.get('x').gv(bK),0+L.c.get('y').gv(bK),5,L.c.get('selected_multi_prim_halo_color').gv(bK)[bM],4)}break}default:{break}}if(bQ!==0){this.get_currentContext().restore()}},renderMarkLabels:function(L,bK,bL){var bM=L.get_hasSelection();var bN=L.get_hasBrushing();var bO='colorOverrideNone';var bP=L.getUserPaneMarkRange(bK);var bQ=bP.firstMark;var bR=bP.lastMark;var bS=L.getUserPaneRectByIndex(bK);this.get_currentContext().save();var bT=this.$B(L);switch(bL){case'normalUnderPass':{if(bM||bN){bO='colorOverrideFog'}else{bO='colorOverrideNone'}{var bU=tab.RectXYUtil.offsetRect(this.get_currentContext().dirtyRect,this.get_renderOffset());for(var bV=bQ;bV<=bR;bV++){if(!L.markHasLabel(bV)||!L.markLabelNeedsDraw(bV,bU)){continue}if(L.getMarkLabelState(bV)!=='markStateNormal'){continue}if(L.get_clipLabelToCell()){this.get_currentContext().save();this.$9(3,L.c.get('cell_x').gv(bV),L.c.get('cell_y').gv(bV),L.c.get('clip_width').gv(bV),L.c.get('clip_height').gv(bV))}var bW=L.getMarkLabelInstanceOffsets(bV);var bX=bW.length;for(var bY=0;bY<bX;bY++){var bZ=bW[bY];if(bZ!==0){this.get_currentContext().save();this.get_currentContext().translate(bZ,0)}this.drawMarkLabelLayer(L,bV,'normalUnder',bO);if(bZ!==0){this.get_currentContext().restore()}}if(L.get_clipLabelToCell()){this.get_currentContext().restore()}}}bO='colorOverrideNone';{var ca=tab.RectXYUtil.offsetRect(this.get_currentContext().dirtyRect,this.get_renderOffset());for(var cb=bQ;cb<=bR;cb++){if(!L.markHasLabel(cb)||!L.markLabelNeedsDraw(cb,ca)){continue}if(L.getMarkLabelState(cb)!=='markStateHighlighted'){continue}if(L.get_clipLabelToCell()){this.get_currentContext().save();this.$9(3,L.c.get('cell_x').gv(cb),L.c.get('cell_y').gv(cb),L.c.get('clip_width').gv(cb),L.c.get('clip_height').gv(cb))}var cc=L.getMarkLabelInstanceOffsets(cb);var cd=cc.length;for(var ce=0;ce<cd;ce++){var cf=cc[ce];if(cf!==0){this.get_currentContext().save();this.get_currentContext().translate(cf,0)}this.drawMarkLabelLayer(L,cb,'normalUnder',bO);if(cf!==0){this.get_currentContext().restore()}}if(L.get_clipLabelToCell()){this.get_currentContext().restore()}}}bO='colorOverrideNone';{var cg=tab.RectXYUtil.offsetRect(this.get_currentContext().dirtyRect,this.get_renderOffset());for(var ch=bQ;ch<=bR;ch++){if(!L.markHasLabel(ch)||!L.markLabelNeedsDraw(ch,cg)){continue}if(L.getMarkLabelState(ch)!=='markStateSelected'){continue}if(L.get_clipLabelToCell()){this.get_currentContext().save();this.$9(3,L.c.get('cell_x').gv(ch),L.c.get('cell_y').gv(ch),L.c.get('clip_width').gv(ch),L.c.get('clip_height').gv(ch))}var ci=L.getMarkLabelInstanceOffsets(ch);var cj=ci.length;for(var ck=0;ck<cj;ck++){var cl=ci[ck];if(cl!==0){this.get_currentContext().save();this.get_currentContext().translate(cl,0)}this.drawMarkLabelLayer(L,ch,'normalUnder',bO);if(cl!==0){this.get_currentContext().restore()}}if(L.get_clipLabelToCell()){this.get_currentContext().restore()}}}break}case'normalOnPass':{if(bM||bN){bO='colorOverrideFog'}else{bO='colorOverrideNone'}{var cm=tab.RectXYUtil.offsetRect(this.get_currentContext().dirtyRect,this.get_renderOffset());for(var cn=bQ;cn<=bR;cn++){if(!L.markHasLabel(cn)||!L.markLabelNeedsDraw(cn,cm)){continue}if(L.getMarkLabelState(cn)!=='markStateNormal'){continue}if(L.get_clipLabelToCell()){this.get_currentContext().save();this.$9(3,L.c.get('cell_x').gv(cn),L.c.get('cell_y').gv(cn),L.c.get('clip_width').gv(cn),L.c.get('clip_height').gv(cn))}var co=L.getMarkLabelInstanceOffsets(cn);var cp=co.length;for(var cq=0;cq<cp;cq++){var cr=co[cq];if(cr!==0){this.get_currentContext().save();this.get_currentContext().translate(cr,0)}var cs=this.get_currentContext().get_textAlign()==='end';var ct=L.getMarkLabelProperty('text_run_offset',cn);var cu=L.getMarkLabelProperty('text_run_count',cn);var cv=cu>1;for(var cw=0;cw<cu;cw++){var cx=cw+ct;if(cs){cx=ct+cu-cw-1}this.drawLabelRunLayer(L,cn,'normalOn',bO,cx,cv,bT)}this.clearPrevTextRunInfo();if(cr!==0){this.get_currentContext().restore()}}if(L.get_clipLabelToCell()){this.get_currentContext().restore()}}}break}case'highlightedUnderPass':{break}case'highlightedOnPass':{if(bM||bN){bO='colorOverrideNone';{var cy=tab.RectXYUtil.offsetRect(this.get_currentContext().dirtyRect,this.get_renderOffset());for(var cz=bQ;cz<=bR;cz++){if(!L.markHasLabel(cz)||!L.markLabelNeedsDraw(cz,cy)){continue}if(L.getMarkLabelState(cz)!=='markStateHighlighted'){continue}if(L.get_clipLabelToCell()){this.get_currentContext().save();this.$9(3,L.c.get('cell_x').gv(cz),L.c.get('cell_y').gv(cz),L.c.get('clip_width').gv(cz),L.c.get('clip_height').gv(cz))}var cA=L.getMarkLabelInstanceOffsets(cz);var cB=cA.length;for(var cC=0;cC<cB;cC++){var cD=cA[cC];if(cD!==0){this.get_currentContext().save();this.get_currentContext().translate(cD,0)}var cE=this.get_currentContext().get_textAlign()==='end';var cF=L.getMarkLabelProperty('text_run_offset',cz);var cG=L.getMarkLabelProperty('text_run_count',cz);var cH=cG>1;for(var cI=0;cI<cG;cI++){var cJ=cI+cF;if(cE){cJ=cF+cG-cI-1}this.drawLabelRunLayer(L,cz,'highlightedOn',bO,cJ,cH,bT)}this.clearPrevTextRunInfo();if(cD!==0){this.get_currentContext().restore()}}if(L.get_clipLabelToCell()){this.get_currentContext().restore()}}}}break}case'selectedUnderPass':{if(bM||bN){bO='colorOverrideOpaque';{var cK=tab.RectXYUtil.offsetRect(this.get_currentContext().dirtyRect,this.get_renderOffset());for(var cL=bQ;cL<=bR;cL++){if(!L.markHasLabel(cL)||!L.markLabelNeedsDraw(cL,cK)){continue}if(L.getMarkLabelState(cL)!=='markStateSelected'){continue}if(L.get_clipLabelToCell()){this.get_currentContext().save();this.$9(3,L.c.get('cell_x').gv(cL),L.c.get('cell_y').gv(cL),L.c.get('clip_width').gv(cL),L.c.get('clip_height').gv(cL))}var cM=L.getMarkLabelInstanceOffsets(cL);var cN=cM.length;for(var cO=0;cO<cN;cO++){var cP=cM[cO];if(cP!==0){this.get_currentContext().save();this.get_currentContext().translate(cP,0)}this.drawMarkLabelLayer(L,cL,'selectedUnder',bO);if(cP!==0){this.get_currentContext().restore()}}if(L.get_clipLabelToCell()){this.get_currentContext().restore()}}}}break}case'selectedOnPass':{if(bM||bN){bO='colorOverrideOpaque';{var cQ=tab.RectXYUtil.offsetRect(this.get_currentContext().dirtyRect,this.get_renderOffset());for(var cR=bQ;cR<=bR;cR++){if(!L.markHasLabel(cR)||!L.markLabelNeedsDraw(cR,cQ)){continue}if(L.getMarkLabelState(cR)!=='markStateSelected'){continue}if(L.get_clipLabelToCell()){this.get_currentContext().save();this.$9(3,L.c.get('cell_x').gv(cR),L.c.get('cell_y').gv(cR),L.c.get('clip_width').gv(cR),L.c.get('clip_height').gv(cR))}var cS=L.getMarkLabelInstanceOffsets(cR);var cT=cS.length;for(var cU=0;cU<cT;cU++){var cV=cS[cU];if(cV!==0){this.get_currentContext().save();this.get_currentContext().translate(cV,0)}var cW=this.get_currentContext().get_textAlign()==='end';var cX=L.getMarkLabelProperty('text_run_offset',cR);var cY=L.getMarkLabelProperty('text_run_count',cR);var cZ=cY>1;for(var da=0;da<cY;da++){var db=da+cX;if(cW){db=cX+cY-da-1}this.drawLabelRunLayer(L,cR,'normalOn',bO,db,cZ,bT)}this.clearPrevTextRunInfo();if(cV!==0){this.get_currentContext().restore()}}if(L.get_clipLabelToCell()){this.get_currentContext().restore()}}}}break}}this.get_currentContext().restore()},drawMarkLabelLayer:function(L,bK,bL,bM){if(L.clipCase!==0){this.get_currentContext().save();this.$9(L.clipCase,L.c.get('cell_x').gv(bK),L.c.get('cell_y').gv(bK),L.c.get('clip_width').gv(bK),L.c.get('clip_height').gv(bK))}switch(bL){case'normalUnder':{{if(L.get_hasBackground()&&L.get_hasHalos()){var bN=L.getMarkLabelProperty('x',bK);var bO=L.getMarkLabelProperty('y',bK);var bP=L.getMarkLabelProperty('width',bK);var bQ=-L.getMarkLabelProperty('height',bK);if(bQ<0){bO+=bQ;bQ=Math.abs(bQ)}var bR=0;var bS=0;var bT;if(L.isMarkImpliedSelected(bK)){bT=L.c.get('selected_halo_color').gv(bK)['colorOverrideOpaque']}else{bT=L.getMarkLabelProperty('halo_color',bK)[bM]}X.$b(this.get_currentContext(),bN+bR,bO+bS,bP,bQ,bT,0,0,false)}}{if(L.isMarkDebug(bK)){var bU=L.getMarkLabelProperty('x',bK);var bV=L.getMarkLabelProperty('y',bK);var bW=L.getMarkLabelProperty('width',bK);var bX=-L.getMarkLabelProperty('height',bK);if(bX<0){bV+=bX;bX=Math.abs(bX)}var bY=0;var bZ=0;var ca;if(L.isMarkImpliedSelected(bK)){ca=L.c.get('selected_halo_color').gv(bK)['colorOverrideOpaque']}else{ca=L.c.get('halo_color').gv(bK)[bM]}X.$b(this.get_currentContext(),bU+bY,bV+bZ,bW,bX,ca,0,0,false)}}break}case'normalOn':{break}case'highlightedUnder':{{if(L.get_hasBackground()&&L.get_hasHalos()){var cb=L.getMarkLabelProperty('x',bK);var cc=L.getMarkLabelProperty('y',bK);var cd=L.getMarkLabelProperty('width',bK);var ce=-L.getMarkLabelProperty('height',bK);if(ce<0){cc+=ce;ce=Math.abs(ce)}var cf=0;var cg=0;var ch;if(L.isMarkImpliedSelected(bK)){ch=L.c.get('selected_halo_color').gv(bK)['colorOverrideOpaque']}else{ch=L.getMarkLabelProperty('halo_color',bK)[bM]}X.$b(this.get_currentContext(),cb+cf,cc+cg,cd,ce,ch,0,0,false)}}{if(L.isMarkDebug(bK)){var ci=L.getMarkLabelProperty('x',bK);var cj=L.getMarkLabelProperty('y',bK);var ck=L.getMarkLabelProperty('width',bK);var cl=-L.getMarkLabelProperty('height',bK);if(cl<0){cj+=cl;cl=Math.abs(cl)}var cm=0;var cn=0;var co;if(L.isMarkImpliedSelected(bK)){co=L.c.get('selected_halo_color').gv(bK)['colorOverrideOpaque']}else{co=L.c.get('halo_color').gv(bK)[bM]}X.$b(this.get_currentContext(),ci+cm,cj+cn,ck,cl,co,0,0,false)}}break}case'highlightedOn':{break}case'selectedUnder':{break}default:{break}}if(L.clipCase!==0){this.get_currentContext().restore()}},drawTextRunLayer:function(L,bK,bL,bM,bN,bO,bP){if(L.clipCase!==0){this.get_currentContext().save();this.$9(L.clipCase,L.c.get('cell_x').gv(bK),L.c.get('cell_y').gv(bK),L.c.get('clip_width').gv(bK),L.c.get('clip_height').gv(bK))}switch(bL){case'normalUnder':{break}case'normalOn':{var bQ=L.getTextRunProperty('text_style_id',bN);bP(bQ);var bR=L.$6(bQ,bK,bM);var bS=L.getTextRunProperty('text_run',bN);var bT=L.getMarkLabelProperty('x',bK)+L.getTextRunProperty('text_run_x',bN);var bU=L.getMarkLabelProperty('y',bK)+L.getTextRunProperty('text_run_y',bN);var bV=(this.get_currentContext().get_isTextAngleHorizontal()?L.getMarkLabelProperty('width',bK):L.getMarkLabelProperty('height',bK));this.renderText(bS,bT,bU,bV,bR,bO);break}case'highlightedUnder':{break}case'highlightedOn':{var bW=L.getTextRunProperty('text_style_id',bN);bP(bW);var bX=L.$6(bW,bK,bM);var bY=L.getTextRunProperty('text_run',bN);var bZ=L.getMarkLabelProperty('x',bK)+L.getTextRunProperty('text_run_x',bN);var ca=L.getMarkLabelProperty('y',bK)+L.getTextRunProperty('text_run_y',bN);var cb=(this.get_currentContext().get_isTextAngleHorizontal()?L.getMarkLabelProperty('width',bK):L.getMarkLabelProperty('height',bK));this.renderText(bY,bZ,ca,cb,bX,bO);break}case'selectedUnder':{break}default:{break}}if(L.clipCase!==0){this.get_currentContext().restore()}},drawLabelRunLayer:function(L,bK,bL,bM,bN,bO,bP){if(L.get_clipLabelToCell()&&L.clipCase!==0){this.get_currentContext().save();this.$9(L.clipCase,L.c.get('cell_x').gv(bK),L.c.get('cell_y').gv(bK),L.c.get('clip_width').gv(bK),L.c.get('clip_height').gv(bK))}switch(bL){case'normalUnder':{break}case'normalOn':{var bQ=L.getTextRunProperty('text_style_id',bN);bP(bQ);var bR=L.$6(bQ,bK,bM);var bS=L.getTextRunProperty('text_run',bN);var bT=L.getMarkLabelProperty('x',bK)+L.getTextRunProperty('text_run_x',bN);var bU=L.getMarkLabelProperty('y',bK)+L.getTextRunProperty('text_run_y',bN);var bV=(this.get_currentContext().get_isTextAngleHorizontal()?L.getMarkLabelProperty('width',bK):L.getMarkLabelProperty('height',bK));this.renderText(bS,bT,bU,bV,bR,bO);break}case'highlightedUnder':{break}case'highlightedOn':{var bW=L.getTextRunProperty('text_style_id',bN);bP(bW);var bX=L.$6(bW,bK,bM);var bY=L.getTextRunProperty('text_run',bN);var bZ=L.getMarkLabelProperty('x',bK)+L.getTextRunProperty('text_run_x',bN);var ca=L.getMarkLabelProperty('y',bK)+L.getTextRunProperty('text_run_y',bN);var cb=(this.get_currentContext().get_isTextAngleHorizontal()?L.getMarkLabelProperty('width',bK):L.getMarkLabelProperty('height',bK));this.renderText(bY,bZ,ca,cb,bX,bO);break}case'selectedUnder':{break}default:{break}}if(L.get_clipLabelToCell()&&L.clipCase!==0){this.get_currentContext().restore()}},renderPieMark:function(L,bK,bL){var bM=L.get_hasSelection();var bN=L.get_hasBrushing();var bO='colorOverrideNone';var bP=L.getUserPaneMarkRange(bK);var bQ=bP.firstMark;var bR=bP.lastMark;var bS=L.getUserPaneRectByIndex(bK);var bT=L.get_lineDrawState();this.get_currentContext().save();switch(bL){case'normalUnderPass':{if(L.get_hasBackground()&&L.get_hasHalos()){if(bM||bN){bO='colorOverrideFog'}else{bO='colorOverrideNone'}var bU=bT.get_lineAttributes();for(var bV=0;bV<bU.length;bV++){var bW=bU[bV];var bX=bW.worldOffsets;var bY=bX.length;for(var bZ=0;bZ<bY;bZ++){var ca=bX[bZ];X.$c(this.get_currentContext(),ca);{for(var cb=0;cb<bW.marksNeedingDraw.length;cb++){var cc=bW.marksNeedingDraw[cb];this.drawPieMarkLayer(L,cc,'normalUnder',bO)}}if(ca!==0){this.get_currentContext().restore()}}}}break}case'normalOnPass':{if(bM||bN){bO='colorOverrideFog'}else{bO='colorOverrideNone'}var cd=bT.get_lineAttributes();for(var ce=0;ce<cd.length;ce++){var cf=cd[ce];if(cf.get_lineState()!=='lineStateNormal'){continue}var cg=cf.worldOffsets;var ch=cg.length;for(var ci=0;ci<ch;ci++){var cj=cg[ci];X.$c(this.get_currentContext(),cj);{for(var ck=0;ck<cf.marksNeedingDraw.length;ck++){var cl=cf.marksNeedingDraw[ck];this.drawPieMarkLayer(L,cl,'normalOn',bO)}}if(cj!==0){this.get_currentContext().restore()}}}break}case'highlightedUnderPass':{break}case'highlightedOnPass':{if(bM||bN){var cm=bT.get_lineAttributes();for(var cn=0;cn<cm.length;cn++){var co=cm[cn];if(co.get_lineState()!=='lineStateHighlighted'){continue}var cp=co.worldOffsets;var cq=cp.length;for(var cr=0;cr<cq;cr++){var cs=cp[cr];X.$c(this.get_currentContext(),cs);bO='colorOverrideFog';{for(var ct=0;ct<co.marksNeedingDraw.length;ct++){var cu=co.marksNeedingDraw[ct];if(L.getMarkState(cu)!=='markStateNormal'){continue}this.drawPieMarkLayer(L,cu,'normalOn',bO)}}bO='colorOverrideNone';{for(var cv=0;cv<co.marksNeedingDraw.length;cv++){var cw=co.marksNeedingDraw[cv];if(L.getMarkState(cw)!=='markStateHighlighted'){continue}this.drawPieMarkLayer(L,cw,'highlightedOn',bO)}}if(cs!==0){this.get_currentContext().restore()}}}}break}case'selectedUnderPass':{break}case'selectedOnPass':{if(bM||bN){var cx=bT.get_lineAttributes();for(var cy=0;cy<cx.length;cy++){var cz=cx[cy];if(cz.get_lineState()!=='lineStateSelected'){continue}var cA=cz.worldOffsets;var cB=cA.length;for(var cC=0;cC<cB;cC++){var cD=cA[cC];X.$c(this.get_currentContext(),cD);bO='colorOverrideFog';{for(var cE=0;cE<cz.marksNeedingDraw.length;cE++){var cF=cz.marksNeedingDraw[cE];if(L.getMarkState(cF)!=='markStateNormal'){continue}this.drawPieMarkLayer(L,cF,'normalOn',bO)}}bO='colorOverrideNone';{for(var cG=0;cG<cz.marksNeedingDraw.length;cG++){var cH=cz.marksNeedingDraw[cG];if(L.getMarkState(cH)!=='markStateHighlighted'){continue}this.drawPieMarkLayer(L,cH,'highlightedOn',bO)}}bO='colorOverrideOpaque';{for(var cI=0;cI<cz.marksNeedingDraw.length;cI++){var cJ=cz.marksNeedingDraw[cI];if(L.getMarkState(cJ)!=='markStateSelected'){continue}this.drawPieMarkLayer(L,cJ,'selectedUnder',bO)}}{for(var cK=0;cK<cz.marksNeedingDraw.length;cK++){var cL=cz.marksNeedingDraw[cK];if(L.getMarkState(cL)!=='markStateSelected'){continue}this.drawPieMarkLayer(L,cL,'selectedOn',bO)}}if(cD!==0){this.get_currentContext().restore()}}}}break}}this.get_currentContext().restore()},drawPieMarkLayer:function(L,bK,bL,bM){if(L.clipCase!==0){this.get_currentContext().save();this.$9(L.clipCase,L.c.get('cell_x').gv(bK),L.c.get('cell_y').gv(bK),L.c.get('clip_width').gv(bK),L.c.get('clip_height').gv(bK))}switch(bL){case'normalUnder':{var bN=L.c.get('size').gv(bK)/2;{var bO=L.c.get('theta').gv(bK);var bP=L.c.get('theta1').gv(bK);var bQ=bO>bP;var bR=L.c.get('halo_color').gv(bK)[bM];var bS=false;if(Math.abs(bO-bP)>=1){tab.CanvasRenderer.renderCircle(this.get_currentContext(),L.c.get('x').gv(bK),L.c.get('y').gv(bK),bN*2,bR,4)}else{tab.CanvasRenderer.renderWedge(this.get_currentContext(),L.c.get('x').gv(bK),L.c.get('y').gv(bK),bN,bO,bP,bR,4,bQ,bS)}}break}case'normalOn':{var bT=L.c.get('size').gv(bK)/2;{var bU=L.c.get('theta').gv(bK);var bV=L.c.get('theta1').gv(bK);if(bU>bV){var bW=bU;bU=bV;bV=bW}var bX=L.c.get('x').gv(bK);var bY=L.c.get('y').gv(bK);var bZ=L.getMarkColors(bK)[bM];if(L.c.get('alpha').gv(bK)>=1){var ca=tab.CanvasRenderer.toCanvasAngle(bU);var cb=tab.CanvasRenderer.toCanvasAngle(bV);if(Math.abs(cb-ca)>=tab.CanvasRenderer.angleEpsilon){this.get_currentContext().beginPath();this.get_currentContext().set_lineCap('butt');this.get_currentContext().set_lineWidth(1.5);this.get_currentContext().set_strokeStyle(bZ);this.get_currentContext().moveTo(bX,bY);this.get_currentContext().lineTo(bX+Math.cos(ca)*bT,bY+Math.sin(ca)*bT);this.get_currentContext().stroke()}}if(Math.abs(bU-bV)>=1){tab.CanvasRenderer.renderFilledCircle(this.get_currentContext(),bX,bY,bT*2,bZ)}else{this.renderFilledWedge(bX,bY,bT,bU,bV,bZ)}}if(L.c.get('draw_border').gv(bK)){var cc=L.c.get('theta').gv(bK);var cd=L.c.get('theta1').gv(bK);var ce=cc>cd;var cf=L.c.get('border_color').gv(bK)[bM];var cg=true;if(Math.abs(cc-cd)>=1){tab.CanvasRenderer.renderCircle(this.get_currentContext(),L.c.get('x').gv(bK),L.c.get('y').gv(bK),bT*2,cf,1)}else{tab.CanvasRenderer.renderWedge(this.get_currentContext(),L.c.get('x').gv(bK),L.c.get('y').gv(bK),bT,cc,cd,cf,1,ce,cg)}}break}case'highlightedUnder':{var ch=L.c.get('size').gv(bK)/2;{var ci=L.c.get('theta').gv(bK);var cj=L.c.get('theta1').gv(bK);var ck=ci>cj;var cl=L.c.get('halo_color').gv(bK)[bM];var cm=false;if(Math.abs(ci-cj)>=1){tab.CanvasRenderer.renderCircle(this.get_currentContext(),L.c.get('x').gv(bK),L.c.get('y').gv(bK),ch*2,cl,4)}else{tab.CanvasRenderer.renderWedge(this.get_currentContext(),L.c.get('x').gv(bK),L.c.get('y').gv(bK),ch,ci,cj,cl,4,ck,cm)}}break}case'highlightedOn':{var cn=L.c.get('size').gv(bK)/2;{var co=L.c.get('theta').gv(bK);var cp=L.c.get('theta1').gv(bK);if(co>cp){var cq=co;co=cp;cp=cq}var cr=L.c.get('x').gv(bK);var cs=L.c.get('y').gv(bK);var ct=L.getMarkColors(bK)[bM];if(L.c.get('alpha').gv(bK)>=1){var cu=tab.CanvasRenderer.toCanvasAngle(co);var cv=tab.CanvasRenderer.toCanvasAngle(cp);if(Math.abs(cv-cu)>=tab.CanvasRenderer.angleEpsilon){this.get_currentContext().beginPath();this.get_currentContext().set_lineCap('butt');this.get_currentContext().set_lineWidth(1.5);this.get_currentContext().set_strokeStyle(ct);this.get_currentContext().moveTo(cr,cs);this.get_currentContext().lineTo(cr+Math.cos(cu)*cn,cs+Math.sin(cu)*cn);this.get_currentContext().stroke()}}if(Math.abs(co-cp)>=1){tab.CanvasRenderer.renderFilledCircle(this.get_currentContext(),cr,cs,cn*2,ct)}else{this.renderFilledWedge(cr,cs,cn,co,cp,ct)}}if(L.c.get('draw_border').gv(bK)){var cw=L.c.get('theta').gv(bK);var cx=L.c.get('theta1').gv(bK);var cy=cw>cx;var cz=L.c.get('border_color').gv(bK)[bM];var cA=true;if(Math.abs(cw-cx)>=1){tab.CanvasRenderer.renderCircle(this.get_currentContext(),L.c.get('x').gv(bK),L.c.get('y').gv(bK),cn*2,cz,1)}else{tab.CanvasRenderer.renderWedge(this.get_currentContext(),L.c.get('x').gv(bK),L.c.get('y').gv(bK),cn,cw,cx,cz,1,cy,cA)}}break}case'selectedUnder':{var cB=L.c.get('size').gv(bK)/2;{var cC=L.c.get('theta').gv(bK);var cD=L.c.get('theta1').gv(bK);var cE=cC>cD;var cF=L.c.get('selected_halo_color').gv(bK)[bM];var cG=false;if(Math.abs(cC-cD)>=1){tab.CanvasRenderer.renderCircle(this.get_currentContext(),L.c.get('x').gv(bK),L.c.get('y').gv(bK),cB*2,cF,4)}else{tab.CanvasRenderer.renderWedge(this.get_currentContext(),L.c.get('x').gv(bK),L.c.get('y').gv(bK),cB,cC,cD,cF,4,cE,cG)}}break}case'selectedOn':{var cH=L.c.get('size').gv(bK)/2;{var cI=L.c.get('theta').gv(bK);var cJ=L.c.get('theta1').gv(bK);if(cI>cJ){var cK=cI;cI=cJ;cJ=cK}var cL=L.c.get('x').gv(bK);var cM=L.c.get('y').gv(bK);var cN=L.getMarkColors(bK)[bM];if(L.c.get('alpha').gv(bK)>=1){var cO=tab.CanvasRenderer.toCanvasAngle(cI);var cP=tab.CanvasRenderer.toCanvasAngle(cJ);if(Math.abs(cP-cO)>=tab.CanvasRenderer.angleEpsilon){this.get_currentContext().beginPath();this.get_currentContext().set_lineCap('butt');this.get_currentContext().set_lineWidth(1.5);this.get_currentContext().set_strokeStyle(cN);this.get_currentContext().moveTo(cL,cM);this.get_currentContext().lineTo(cL+Math.cos(cO)*cH,cM+Math.sin(cO)*cH);this.get_currentContext().stroke()}}if(Math.abs(cI-cJ)>=1){tab.CanvasRenderer.renderFilledCircle(this.get_currentContext(),cL,cM,cH*2,cN)}else{this.renderFilledWedge(cL,cM,cH,cI,cJ,cN)}}if(L.c.get('draw_border').gv(bK)){var cQ=L.c.get('theta').gv(bK);var cR=L.c.get('theta1').gv(bK);var cS=cQ>cR;var cT=L.c.get('border_color').gv(bK)[bM];var cU=true;if(Math.abs(cQ-cR)>=1){tab.CanvasRenderer.renderCircle(this.get_currentContext(),L.c.get('x').gv(bK),L.c.get('y').gv(bK),cH*2,cT,1)}else{tab.CanvasRenderer.renderWedge(this.get_currentContext(),L.c.get('x').gv(bK),L.c.get('y').gv(bK),cH,cQ,cR,cT,1,cS,cU)}}break}default:{break}}if(L.clipCase!==0){this.get_currentContext().restore()}},renderTextMarks:function(L,bK,bL){var bM=L.get_hasSelection();var bN=L.get_hasBrushing();var bO='colorOverrideNone';var bP=L.getUserPaneMarkRange(bK);var bQ=bP.firstMark;var bR=bP.lastMark;var bS=L.getUserPaneRectByIndex(bK);this.get_currentContext().save();var bT=this.$B(L);switch(bL){case'normalUnderPass':{if(L.get_hasBackground()&&L.get_hasHalos()){if(bM||bN){bO='colorOverrideFog'}else{bO='colorOverrideNone'}{L.markWorldOffsets.forEach(ss.mkdel(this,function(bU,bV){X.$c(this.get_currentContext(),bV);for(var bW=bQ;bW<=bR;bW++){if(bU.has(bW)){continue}if(!L.markNeedsDraw(bW)){continue}if(L.getMarkState(bW)!=='markStateNormal'){continue}this.drawTextMarkLayer(L,bW,'normalUnder',bO)}if(!tab.DoubleUtil.isApproximatelyEqual(bV,0)){this.get_currentContext().restore()}}))}{L.markWorldOffsets.forEach(ss.mkdel(this,function(bU,bV){X.$c(this.get_currentContext(),bV);for(var bW=bQ;bW<=bR;bW++){if(bU.has(bW)){continue}if(!L.markNeedsDraw(bW)){continue}if(L.getMarkState(bW)!=='markStateHighlighted'){continue}this.drawTextMarkLayer(L,bW,'normalUnder',bO)}if(!tab.DoubleUtil.isApproximatelyEqual(bV,0)){this.get_currentContext().restore()}}))}}break}case'normalOnPass':{if(bM||bN){bO='colorOverrideFog'}else{bO='colorOverrideNone'}{L.markWorldOffsets.forEach(ss.mkdel(this,function(bU,bV){X.$c(this.get_currentContext(),bV);for(var bW=bQ;bW<=bR;bW++){if(bU.has(bW)){continue}if(!L.markNeedsDraw(bW)){continue}if(L.getMarkState(bW)!=='markStateNormal'){continue}var bX=this.get_currentContext().get_textAlign()==='end';var bY=L.c.get('text_run_offset').gv(bW);var bZ=L.c.get('text_run_count').gv(bW);var ca=bZ>1;for(var cb=0;cb<bZ;cb++){var cc=cb+bY;if(bX){cc=bY+bZ-cb-1}this.drawTextRunLayer(L,bW,'normalOn',bO,cc,ca,bT)}this.clearPrevTextRunInfo()}if(!tab.DoubleUtil.isApproximatelyEqual(bV,0)){this.get_currentContext().restore()}}))}break}case'highlightedUnderPass':{if(bM||bN){if(!(L.get_hasBackground()&&L.get_hasHalos())){bO='colorOverrideNone';{L.markWorldOffsets.forEach(ss.mkdel(this,function(bU,bV){X.$c(this.get_currentContext(),bV);for(var bW=bQ;bW<=bR;bW++){if(bU.has(bW)){continue}if(!L.markNeedsDraw(bW)){continue}if(L.getMarkState(bW)!=='markStateHighlighted'){continue}this.drawTextMarkLayer(L,bW,'highlightedUnder',bO)}if(!tab.DoubleUtil.isApproximatelyEqual(bV,0)){this.get_currentContext().restore()}}))}}}break}case'highlightedOnPass':{if(bM||bN){bO='colorOverrideNone';{L.markWorldOffsets.forEach(ss.mkdel(this,function(bU,bV){X.$c(this.get_currentContext(),bV);for(var bW=bQ;bW<=bR;bW++){if(bU.has(bW)){continue}if(!L.markNeedsDraw(bW)){continue}if(L.getMarkState(bW)!=='markStateHighlighted'){continue}var bX=this.get_currentContext().get_textAlign()==='end';var bY=L.c.get('text_run_offset').gv(bW);var bZ=L.c.get('text_run_count').gv(bW);var ca=bZ>1;for(var cb=0;cb<bZ;cb++){var cc=cb+bY;if(bX){cc=bY+bZ-cb-1}this.drawTextRunLayer(L,bW,'normalOn',bO,cc,ca,bT)}this.clearPrevTextRunInfo()}if(!tab.DoubleUtil.isApproximatelyEqual(bV,0)){this.get_currentContext().restore()}}))}}break}case'selectedUnderPass':{if(bM||bN){bO='colorOverrideOpaque';{L.markWorldOffsets.forEach(ss.mkdel(this,function(bU,bV){X.$c(this.get_currentContext(),bV);for(var bW=bQ;bW<=bR;bW++){if(bU.has(bW)){continue}if(!L.markNeedsDraw(bW)){continue}if(L.getMarkState(bW)!=='markStateSelected'){continue}this.drawTextMarkLayer(L,bW,'selectedUnder',bO)}if(!tab.DoubleUtil.isApproximatelyEqual(bV,0)){this.get_currentContext().restore()}}))}}break}case'selectedOnPass':{if(bM||bN){bO='colorOverrideOpaque';{L.markWorldOffsets.forEach(ss.mkdel(this,function(bU,bV){X.$c(this.get_currentContext(),bV);for(var bW=bQ;bW<=bR;bW++){if(bU.has(bW)){continue}if(!L.markNeedsDraw(bW)){continue}if(L.getMarkState(bW)!=='markStateSelected'){continue}var bX=this.get_currentContext().get_textAlign()==='end';var bY=L.c.get('text_run_offset').gv(bW);var bZ=L.c.get('text_run_count').gv(bW);var ca=bZ>1;for(var cb=0;cb<bZ;cb++){var cc=cb+bY;if(bX){cc=bY+bZ-cb-1}this.drawTextRunLayer(L,bW,'normalOn',bO,cc,ca,bT)}this.clearPrevTextRunInfo()}if(!tab.DoubleUtil.isApproximatelyEqual(bV,0)){this.get_currentContext().restore()}}))}}break}}this.get_currentContext().restore()},drawTextMarkLayer:function(L,bK,bL,bM){if(L.clipCase!==0){this.get_currentContext().save();this.$9(L.clipCase,L.c.get('cell_x').gv(bK),L.c.get('cell_y').gv(bK),L.c.get('clip_width').gv(bK),L.c.get('clip_height').gv(bK))}switch(bL){case'normalUnder':{{if(!(L.clipCase!==0&&L.useCellClipForSelection)){var bN=L.c.get('x').gv(bK);var bO=L.c.get('y').gv(bK);var bP=L.c.get('width').gv(bK);var bQ=-L.c.get('height').gv(bK);if(bQ<0){bO+=bQ;bQ=Math.abs(bQ)}var bR=-L.c.get('width').gv(bK)/2;var bS=L.c.get('height').gv(bK)/2;var bT;if(L.isMarkImpliedSelected(bK)){bT=L.c.get('selected_halo_color').gv(bK)['colorOverrideOpaque']}else{bT=L.c.get('halo_color').gv(bK)[bM]}X.$b(this.get_currentContext(),bN+bR,bO+bS,bP,bQ,bT,0,0,false)}}{if(L.clipCase!==0&&L.useCellClipForSelection){var bU=L.c.get('x').gv(bK);var bV=L.c.get('y').gv(bK);var bW=L.c.get('clip_width').gv(bK);var bX=-L.c.get('clip_height').gv(bK);if(bX<0){bV+=bX;bX=Math.abs(bX)}var bY=-L.c.get('clip_width').gv(bK)/2;var bZ=L.c.get('clip_height').gv(bK)/2;var ca;if(L.isMarkImpliedSelected(bK)){ca=L.c.get('selected_halo_color').gv(bK)['colorOverrideOpaque']}else{ca=L.c.get('halo_color').gv(bK)[bM]}X.$b(this.get_currentContext(),bU+bY,bV+bZ,bW,bX,ca,0,0,false)}}break}case'normalOn':{break}case'highlightedUnder':{{if(L.get_hasHaloHighlightColor()&&!(L.clipCase!==0&&L.useCellClipForSelection)){var cb=L.c.get('x').gv(bK);var cc=L.c.get('y').gv(bK);var cd=L.c.get('width').gv(bK);var ce=-L.c.get('height').gv(bK);if(ce<0){cc+=ce;ce=Math.abs(ce)}var cf=-L.c.get('width').gv(bK)/2;var cg=L.c.get('height').gv(bK)/2;var ch;if(L.isMarkImpliedSelected(bK)){ch=L.c.get('selected_halo_color').gv(bK)['colorOverrideOpaque']}else{ch=L.c.get('highlighted_halo_color').gv(bK)[bM]}X.$b(this.get_currentContext(),cb+cf,cc+cg,cd,ce,ch,0,0,false)}}{if(L.get_hasHaloHighlightColor()&&(L.clipCase!==0&&L.useCellClipForSelection)){var ci=L.c.get('x').gv(bK);var cj=L.c.get('y').gv(bK);var ck=L.c.get('clip_width').gv(bK);var cl=-L.c.get('clip_height').gv(bK);if(cl<0){cj+=cl;cl=Math.abs(cl)}var cm=-L.c.get('clip_width').gv(bK)/2;var cn=L.c.get('clip_height').gv(bK)/2;var co;if(L.isMarkImpliedSelected(bK)){co=L.c.get('selected_halo_color').gv(bK)['colorOverrideOpaque']}else{co=L.c.get('highlighted_halo_color').gv(bK)[bM]}X.$b(this.get_currentContext(),ci+cm,cj+cn,ck,cl,co,0,0,false)}}break}case'selectedUnder':{{if(!(L.clipCase!==0&&L.useCellClipForSelection)){var cp=L.c.get('x').gv(bK);var cq=L.c.get('y').gv(bK);var cr=L.c.get('width').gv(bK);var cs=-L.c.get('height').gv(bK);if(cs<0){cq+=cs;cs=Math.abs(cs)}var ct=-L.c.get('width').gv(bK)/2;var cu=L.c.get('height').gv(bK)/2;var cv;if(L.isMarkImpliedSelected(bK)){cv=L.c.get('selected_halo_color').gv(bK)['colorOverrideOpaque']}else{cv=L.c.get('selected_halo_color').gv(bK)[bM]}X.$b(this.get_currentContext(),cp+ct,cq+cu,cr,cs,cv,0,0,false)}}{if(L.clipCase!==0&&L.useCellClipForSelection){var cw=L.c.get('x').gv(bK);var cx=L.c.get('y').gv(bK);var cy=L.c.get('clip_width').gv(bK);var cz=-L.c.get('clip_height').gv(bK);if(cz<0){cx+=cz;cz=Math.abs(cz)}var cA=-L.c.get('clip_width').gv(bK)/2;var cB=L.c.get('clip_height').gv(bK)/2;var cC;if(L.isMarkImpliedSelected(bK)){cC=L.c.get('selected_halo_color').gv(bK)['colorOverrideOpaque']}else{cC=L.c.get('selected_halo_color').gv(bK)[bM]}X.$b(this.get_currentContext(),cw+cA,cx+cB,cy,cz,cC,0,0,false)}}break}default:{break}}if(L.clipCase!==0){this.get_currentContext().restore()}},renderBarMark:function(L,bK,bL){var bM=L.get_hasSelection();var bN=L.get_hasBrushing();var bO='colorOverrideNone';var bP=L.getUserPaneMarkRange(bK);var bQ=bP.firstMark;var bR=bP.lastMark;var bS=L.getUserPaneRectByIndex(bK);this.get_currentContext().save();this.get_currentContext().set_lineJoin('miter');switch(bL){case'normalUnderPass':{if(L.get_hasBackground()&&L.get_hasHalos()){if(bM||bN){bO='colorOverrideFog'}else{bO='colorOverrideNone'}{L.markWorldOffsets.forEach(ss.mkdel(this,function(bT,bU){X.$c(this.get_currentContext(),bU);for(var bV=bQ;bV<=bR;bV++){if(bT.has(bV)){continue}if(!L.markNeedsDraw(bV)){continue}if(L.getMarkState(bV)!=='markStateNormal'){continue}this.drawBarMarkLayer(L,bS,bV,'normalUnder',bO)}if(!tab.DoubleUtil.isApproximatelyEqual(bU,0)){this.get_currentContext().restore()}}))}bO='colorOverrideNone';{L.markWorldOffsets.forEach(ss.mkdel(this,function(bT,bU){X.$c(this.get_currentContext(),bU);for(var bV=bQ;bV<=bR;bV++){if(bT.has(bV)){continue}if(!L.markNeedsDraw(bV)){continue}if(L.getMarkState(bV)!=='markStateHighlighted'){continue}this.drawBarMarkLayer(L,bS,bV,'normalUnder',bO)}if(!tab.DoubleUtil.isApproximatelyEqual(bU,0)){this.get_currentContext().restore()}}))}}break}case'normalOnPass':{if(bM||bN){bO='colorOverrideFog'}else{bO='colorOverrideNone'}{L.markWorldOffsets.forEach(ss.mkdel(this,function(bT,bU){X.$c(this.get_currentContext(),bU);for(var bV=bQ;bV<=bR;bV++){if(bT.has(bV)){continue}if(!L.markNeedsDraw(bV)){continue}if(L.getMarkState(bV)!=='markStateNormal'){continue}this.drawBarMarkLayer(L,bS,bV,'normalOn',bO)}if(!tab.DoubleUtil.isApproximatelyEqual(bU,0)){this.get_currentContext().restore()}}))}break}case'highlightedUnderPass':{break}case'highlightedOnPass':{if(bM||bN){bO='colorOverrideNone';{L.markWorldOffsets.forEach(ss.mkdel(this,function(bT,bU){X.$c(this.get_currentContext(),bU);for(var bV=bQ;bV<=bR;bV++){if(bT.has(bV)){continue}if(!L.markNeedsDraw(bV)){continue}if(L.getMarkState(bV)!=='markStateHighlighted'){continue}this.drawBarMarkLayer(L,bS,bV,'highlightedOn',bO)}if(!tab.DoubleUtil.isApproximatelyEqual(bU,0)){this.get_currentContext().restore()}}))}}break}case'selectedUnderPass':{if(bM||bN){bO='colorOverrideOpaque';{L.markWorldOffsets.forEach(ss.mkdel(this,function(bT,bU){X.$c(this.get_currentContext(),bU);for(var bV=bQ;bV<=bR;bV++){if(bT.has(bV)){continue}if(!L.markNeedsDraw(bV)){continue}if(L.getMarkState(bV)!=='markStateSelected'){continue}this.drawBarMarkLayer(L,bS,bV,'selectedUnder',bO)}if(!tab.DoubleUtil.isApproximatelyEqual(bU,0)){this.get_currentContext().restore()}}))}}break}case'selectedOnPass':{if(bM||bN){bO='colorOverrideOpaque';if(L.clipCase!==3){this.get_currentContext().save();this.get_currentContext().setClip(L.getInsetPaneClipRect(bK,2))}{L.markWorldOffsets.forEach(ss.mkdel(this,function(bT,bU){X.$c(this.get_currentContext(),bU);for(var bV=bQ;bV<=bR;bV++){if(bT.has(bV)){continue}if(!L.markNeedsDraw(bV)){continue}if(L.getMarkState(bV)!=='markStateSelected'){continue}this.drawBarMarkLayer(L,bS,bV,'selectedOn',bO)}if(!tab.DoubleUtil.isApproximatelyEqual(bU,0)){this.get_currentContext().restore()}}))}if(L.clipCase!==3){this.get_currentContext().restore()}}break}}this.get_currentContext().restore()},drawBarMarkLayer:function(L,bK,bL,bM,bN){if(L.clipCase!==0){this.get_currentContext().save();this.$9(L.clipCase,L.c.get('cell_x').gv(bL),L.c.get('cell_y').gv(bL),L.c.get('clip_width').gv(bL),L.c.get('clip_height').gv(bL))}switch(bM){case'normalUnder':{var bO=ss.Int32.trunc(L.c.get('size').gv(bL)+0.5)/2;{if(L.scaleMarksInX&&L.scaleMarksInY){var bP=L.c.get('x').gv(bL);var bQ=L.c.get('x1').gv(bL);var bR=L.c.get('y').gv(bL);var bS=L.c.get('y1').gv(bL);var bT=Math.min(bP,bQ);var bU=Math.min(bR,bS);var bV=Math.abs(bQ-bP)+0;var bW=Math.abs(bS-bR)+0;X.$9(this.get_currentContext(),bT,bU,bV,bW,L.c.get('halo_color').gv(bL)[bN],4,L.minBarWidth,L.minBarHeight,false)}}{if(!L.scaleMarksInX&&L.scaleMarksInY){var bX=L.c.get('x').gv(bL)-bO;var bY=L.c.get('x').gv(bL)+bO;var bZ=L.c.get('y').gv(bL);var ca=L.c.get('y1').gv(bL);var cb=Math.min(bX,bY);var cc=Math.min(bZ,ca);var cd=Math.abs(bY-bX)+0;var ce=Math.abs(ca-bZ)+0;X.$9(this.get_currentContext(),cb,cc,cd,ce,L.c.get('halo_color').gv(bL)[bN],4,L.minBarWidth,L.minBarHeight,false)}}{if(L.scaleMarksInX&&!L.scaleMarksInY){var cf=L.c.get('x').gv(bL);var cg=L.c.get('x1').gv(bL);var ch=L.c.get('y').gv(bL)-bO;var ci=L.c.get('y').gv(bL)+bO;var cj=Math.min(cf,cg);var ck=Math.min(ch,ci);var cl=Math.abs(cg-cf)+0;var cm=Math.abs(ci-ch)+0;X.$9(this.get_currentContext(),cj,ck,cl,cm,L.c.get('halo_color').gv(bL)[bN],4,L.minBarWidth,L.minBarHeight,false)}}{if(!L.scaleMarksInX&&!L.scaleMarksInY){var cn=L.c.get('x').gv(bL)-bO;var co=L.c.get('x').gv(bL)+bO;var cp=L.c.get('y').gv(bL)-bO;var cq=L.c.get('y').gv(bL)+bO;var cr=Math.min(cn,co);var cs=Math.min(cp,cq);var ct=Math.abs(co-cn)+0;var cu=Math.abs(cq-cp)+0;X.$9(this.get_currentContext(),cr,cs,ct,cu,L.c.get('halo_color').gv(bL)[bN],4,L.minBarWidth,L.minBarHeight,true)}}break}case'normalOn':{var cv=ss.Int32.trunc(L.c.get('size').gv(bL)+0.5)/2;{if(L.scaleMarksInX&&L.scaleMarksInY){var cw=L.c.get('x').gv(bL);var cx=L.c.get('x1').gv(bL);var cy=L.c.get('y').gv(bL);var cz=L.c.get('y1').gv(bL);var cA=Math.min(cw,cx);var cB=Math.min(cy,cz);var cC=Math.abs(cx-cw)+0;var cD=Math.abs(cz-cy)+0;X.$b(this.get_currentContext(),cA-0,cB-0,cC+2*0,cD+2*0,L.getMarkColors(bL)[bN],L.minBarWidth,L.minBarHeight,false)}}{if(L.scaleMarksInX&&L.scaleMarksInY&&L.drawBorder){var cE=L.c.get('x').gv(bL);var cF=L.c.get('x1').gv(bL);var cG=L.c.get('y').gv(bL);var cH=L.c.get('y1').gv(bL);var cI=Math.min(cE,cF);var cJ=Math.min(cG,cH);var cK=Math.abs(cF-cE)+0;var cL=Math.abs(cH-cG)+0;X.$9(this.get_currentContext(),cI,cJ,cK,cL,L.c.get('border_color').gv(bL)[bN],1,L.minBarWidth,L.minBarHeight,false)}}{if(!L.scaleMarksInX&&L.scaleMarksInY){var cM=L.c.get('x').gv(bL)-cv;var cN=L.c.get('x').gv(bL)+cv;var cO=L.c.get('y').gv(bL);var cP=L.c.get('y1').gv(bL);var cQ=Math.min(cM,cN);var cR=Math.min(cO,cP);var cS=Math.abs(cN-cM)+0;var cT=Math.abs(cP-cO)+0;X.$b(this.get_currentContext(),cQ-0,cR-0,cS+2*0,cT+2*0,L.getMarkColors(bL)[bN],L.minBarWidth,L.minBarHeight,false)}}{if(!L.scaleMarksInX&&L.scaleMarksInY&&L.drawBorder){var cU=L.c.get('x').gv(bL)-cv;var cV=L.c.get('x').gv(bL)+cv;var cW=L.c.get('y').gv(bL);var cX=L.c.get('y1').gv(bL);var cY=Math.min(cU,cV);var cZ=Math.min(cW,cX);var da=Math.abs(cV-cU)+0;var db=Math.abs(cX-cW)+0;X.$9(this.get_currentContext(),cY,cZ,da,db,L.c.get('border_color').gv(bL)[bN],1,L.minBarWidth,L.minBarHeight,false)}}{if(L.scaleMarksInX&&!L.scaleMarksInY){var dc=L.c.get('x').gv(bL);var dd=L.c.get('x1').gv(bL);var de=L.c.get('y').gv(bL)-cv;var df=L.c.get('y').gv(bL)+cv;var dg=Math.min(dc,dd);var dh=Math.min(de,df);var di=Math.abs(dd-dc)+0;var dj=Math.abs(df-de)+0;X.$b(this.get_currentContext(),dg-0,dh-0,di+2*0,dj+2*0,L.getMarkColors(bL)[bN],L.minBarWidth,L.minBarHeight,false)}}{if(L.scaleMarksInX&&!L.scaleMarksInY&&L.drawBorder){var dk=L.c.get('x').gv(bL);var dl=L.c.get('x1').gv(bL);var dm=L.c.get('y').gv(bL)-cv;var dn=L.c.get('y').gv(bL)+cv;var dp=Math.min(dk,dl);var dq=Math.min(dm,dn);var dr=Math.abs(dl-dk)+0;var ds=Math.abs(dn-dm)+0;X.$9(this.get_currentContext(),dp,dq,dr,ds,L.c.get('border_color').gv(bL)[bN],1,L.minBarWidth,L.minBarHeight,false)}}{if(!L.scaleMarksInX&&!L.scaleMarksInY){var dt=L.c.get('x').gv(bL)-cv;var du=L.c.get('x').gv(bL)+cv;var dv=L.c.get('y').gv(bL)-cv;var dw=L.c.get('y').gv(bL)+cv;var dx=Math.min(dt,du);var dy=Math.min(dv,dw);var dz=Math.abs(du-dt)+0;var dA=Math.abs(dw-dv)+0;X.$b(this.get_currentContext(),dx-0,dy-0,dz+2*0,dA+2*0,L.getMarkColors(bL)[bN],L.minBarWidth,L.minBarHeight,true)}}{if(!L.scaleMarksInX&&!L.scaleMarksInY&&L.drawBorder){var dB=L.c.get('x').gv(bL)-cv;var dC=L.c.get('x').gv(bL)+cv;var dD=L.c.get('y').gv(bL)-cv;var dE=L.c.get('y').gv(bL)+cv;var dF=Math.min(dB,dC);var dG=Math.min(dD,dE);var dH=Math.abs(dC-dB)+0;var dI=Math.abs(dE-dD)+0;X.$9(this.get_currentContext(),dF,dG,dH,dI,L.c.get('border_color').gv(bL)[bN],1,L.minBarWidth,L.minBarHeight,true)}}break}case'highlightedUnder':{var dJ=ss.Int32.trunc(L.c.get('size').gv(bL)+0.5)/2;{if(L.scaleMarksInX&&L.scaleMarksInY){var dK=L.c.get('x').gv(bL);var dL=L.c.get('x1').gv(bL);var dM=L.c.get('y').gv(bL);var dN=L.c.get('y1').gv(bL);var dO=Math.min(dK,dL);var dP=Math.min(dM,dN);var dQ=Math.abs(dL-dK)+0;var dR=Math.abs(dN-dM)+0;X.$9(this.get_currentContext(),dO,dP,dQ,dR,L.c.get('halo_color').gv(bL)[bN],4,L.minBarWidth,L.minBarHeight,false)}}{if(!L.scaleMarksInX&&L.scaleMarksInY){var dS=L.c.get('x').gv(bL)-dJ;var dT=L.c.get('x').gv(bL)+dJ;var dU=L.c.get('y').gv(bL);var dV=L.c.get('y1').gv(bL);var dW=Math.min(dS,dT);var dX=Math.min(dU,dV);var dY=Math.abs(dT-dS)+0;var dZ=Math.abs(dV-dU)+0;X.$9(this.get_currentContext(),dW,dX,dY,dZ,L.c.get('halo_color').gv(bL)[bN],4,L.minBarWidth,L.minBarHeight,false)}}{if(L.scaleMarksInX&&!L.scaleMarksInY){var ea=L.c.get('x').gv(bL);var eb=L.c.get('x1').gv(bL);var ec=L.c.get('y').gv(bL)-dJ;var ed=L.c.get('y').gv(bL)+dJ;var ee=Math.min(ea,eb);var ef=Math.min(ec,ed);var eg=Math.abs(eb-ea)+0;var eh=Math.abs(ed-ec)+0;X.$9(this.get_currentContext(),ee,ef,eg,eh,L.c.get('halo_color').gv(bL)[bN],4,L.minBarWidth,L.minBarHeight,false)}}{if(!L.scaleMarksInX&&!L.scaleMarksInY){var ei=L.c.get('x').gv(bL)-dJ;var ej=L.c.get('x').gv(bL)+dJ;var ek=L.c.get('y').gv(bL)-dJ;var el=L.c.get('y').gv(bL)+dJ;var em=Math.min(ei,ej);var en=Math.min(ek,el);var eo=Math.abs(ej-ei)+0;var ep=Math.abs(el-ek)+0;X.$9(this.get_currentContext(),em,en,eo,ep,L.c.get('halo_color').gv(bL)[bN],4,L.minBarWidth,L.minBarHeight,true)}}break}case'highlightedOn':{var eq=ss.Int32.trunc(L.c.get('size').gv(bL)+0.5)/2;{if(L.scaleMarksInX&&L.scaleMarksInY){var er=L.c.get('x').gv(bL);var es=L.c.get('x1').gv(bL);var et=L.c.get('y').gv(bL);var eu=L.c.get('y1').gv(bL);var ev=Math.min(er,es);var ew=Math.min(et,eu);var ex=Math.abs(es-er)+0;var ey=Math.abs(eu-et)+0;X.$b(this.get_currentContext(),ev-0,ew-0,ex+2*0,ey+2*0,L.getMarkColors(bL)[bN],L.minBarWidth,L.minBarHeight,false)}}{if(L.scaleMarksInX&&L.scaleMarksInY&&L.drawBorder){var ez=L.c.get('x').gv(bL);var eA=L.c.get('x1').gv(bL);var eB=L.c.get('y').gv(bL);var eC=L.c.get('y1').gv(bL);var eD=Math.min(ez,eA);var eE=Math.min(eB,eC);var eF=Math.abs(eA-ez)+0;var eG=Math.abs(eC-eB)+0;X.$9(this.get_currentContext(),eD,eE,eF,eG,L.c.get('border_color').gv(bL)[bN],1,L.minBarWidth,L.minBarHeight,false)}}{if(!L.scaleMarksInX&&L.scaleMarksInY){var eH=L.c.get('x').gv(bL)-eq;var eI=L.c.get('x').gv(bL)+eq;var eJ=L.c.get('y').gv(bL);var eK=L.c.get('y1').gv(bL);var eL=Math.min(eH,eI);var eM=Math.min(eJ,eK);var eN=Math.abs(eI-eH)+0;var eO=Math.abs(eK-eJ)+0;X.$b(this.get_currentContext(),eL-0,eM-0,eN+2*0,eO+2*0,L.getMarkColors(bL)[bN],L.minBarWidth,L.minBarHeight,false)}}{if(!L.scaleMarksInX&&L.scaleMarksInY&&L.drawBorder){var eP=L.c.get('x').gv(bL)-eq;var eQ=L.c.get('x').gv(bL)+eq;var eR=L.c.get('y').gv(bL);var eS=L.c.get('y1').gv(bL);var eT=Math.min(eP,eQ);var eU=Math.min(eR,eS);var eV=Math.abs(eQ-eP)+0;var eW=Math.abs(eS-eR)+0;X.$9(this.get_currentContext(),eT,eU,eV,eW,L.c.get('border_color').gv(bL)[bN],1,L.minBarWidth,L.minBarHeight,false)}}{if(L.scaleMarksInX&&!L.scaleMarksInY){var eX=L.c.get('x').gv(bL);var eY=L.c.get('x1').gv(bL);var eZ=L.c.get('y').gv(bL)-eq;var fa=L.c.get('y').gv(bL)+eq;var fb=Math.min(eX,eY);var fc=Math.min(eZ,fa);var fd=Math.abs(eY-eX)+0;var fe=Math.abs(fa-eZ)+0;X.$b(this.get_currentContext(),fb-0,fc-0,fd+2*0,fe+2*0,L.getMarkColors(bL)[bN],L.minBarWidth,L.minBarHeight,false)}}{if(L.scaleMarksInX&&!L.scaleMarksInY&&L.drawBorder){var ff=L.c.get('x').gv(bL);var fg=L.c.get('x1').gv(bL);var fh=L.c.get('y').gv(bL)-eq;var fi=L.c.get('y').gv(bL)+eq;var fj=Math.min(ff,fg);var fk=Math.min(fh,fi);var fl=Math.abs(fg-ff)+0;var fm=Math.abs(fi-fh)+0;X.$9(this.get_currentContext(),fj,fk,fl,fm,L.c.get('border_color').gv(bL)[bN],1,L.minBarWidth,L.minBarHeight,false)}}{if(!L.scaleMarksInX&&!L.scaleMarksInY){var fn=L.c.get('x').gv(bL)-eq;var fo=L.c.get('x').gv(bL)+eq;var fp=L.c.get('y').gv(bL)-eq;var fq=L.c.get('y').gv(bL)+eq;var fr=Math.min(fn,fo);var fs=Math.min(fp,fq);var ft=Math.abs(fo-fn)+0;var fu=Math.abs(fq-fp)+0;X.$b(this.get_currentContext(),fr-0,fs-0,ft+2*0,fu+2*0,L.getMarkColors(bL)[bN],L.minBarWidth,L.minBarHeight,true)}}{if(!L.scaleMarksInX&&!L.scaleMarksInY&&L.drawBorder){var fv=L.c.get('x').gv(bL)-eq;var fw=L.c.get('x').gv(bL)+eq;var fx=L.c.get('y').gv(bL)-eq;var fy=L.c.get('y').gv(bL)+eq;var fz=Math.min(fv,fw);var fA=Math.min(fx,fy);var fB=Math.abs(fw-fv)+0;var fC=Math.abs(fy-fx)+0;X.$9(this.get_currentContext(),fz,fA,fB,fC,L.c.get('border_color').gv(bL)[bN],1,L.minBarWidth,L.minBarHeight,true)}}break}case'selectedUnder':{var fD=ss.Int32.trunc(L.c.get('size').gv(bL)+0.5)/2;var fE=1;{var fF=L.c.get('x').gv(bL);var fG=L.c.get('x1').gv(bL);var fH=L.c.get('y').gv(bL);var fI=L.c.get('y1').gv(bL);var fJ=Math.min(fF,fG);var fK=Math.min(fH,fI);var fL=Math.abs(fG-fF)+0;var fM=Math.abs(fI-fH)+0;if(L.scaleMarksInX&&L.scaleMarksInY&&!this.$a(bK,fJ,fK,fL,fM)){X.$9(this.get_currentContext(),fJ,fK,fL,fM,L.c.get('selected_halo_color').gv(bL)[bN],4,L.minBarWidth,L.minBarHeight,false)}}{var fN=L.c.get('x').gv(bL);var fO=L.c.get('x1').gv(bL);var fP=L.c.get('y').gv(bL);var fQ=L.c.get('y1').gv(bL);var fR=Math.min(fN,fO);var fS=Math.min(fP,fQ);var fT=Math.abs(fO-fN)+0;var fU=Math.abs(fQ-fP)+0;if(L.scaleMarksInX&&L.scaleMarksInY&&this.$a(bK,fR,fS,fT,fU)){X.$b(this.get_currentContext(),fR-2,fS-2,fT+2*2,fU+2*2,L.c.get('selected_halo_color').gv(bL)[bN],L.minBarWidth,L.minBarHeight,false)}}{if(L.scaleMarksInX&&L.scaleMarksInY&&L.drawBorder){var fV=L.c.get('x').gv(bL);var fW=L.c.get('x1').gv(bL);var fX=L.c.get('y').gv(bL);var fY=L.c.get('y1').gv(bL);var fZ=Math.min(fV,fW);var ga=Math.min(fX,fY);var gb=Math.abs(fW-fV)+fE;var gc=Math.abs(fY-fX)+fE;X.$9(this.get_currentContext(),fZ,ga,gb,gc,L.c.get('selected_halo_color').gv(bL)[bN],4,L.minBarWidth,L.minBarHeight,false)}}{var gd=L.c.get('x').gv(bL)-fD;var ge=L.c.get('x').gv(bL)+fD;var gf=L.c.get('y').gv(bL);var gg=L.c.get('y1').gv(bL);var gh=Math.min(gd,ge);var gi=Math.min(gf,gg);var gj=Math.abs(ge-gd)+0;var gk=Math.abs(gg-gf)+0;if(!L.scaleMarksInX&&L.scaleMarksInY&&!this.$a(bK,gh,gi,gj,gk)){X.$9(this.get_currentContext(),gh,gi,gj,gk,L.c.get('selected_halo_color').gv(bL)[bN],4,L.minBarWidth,L.minBarHeight,false)}}{var gl=L.c.get('x').gv(bL)-fD;var gm=L.c.get('x').gv(bL)+fD;var gn=L.c.get('y').gv(bL);var go=L.c.get('y1').gv(bL);var gp=Math.min(gl,gm);var gq=Math.min(gn,go);var gr=Math.abs(gm-gl)+0;var gs=Math.abs(go-gn)+0;if(!L.scaleMarksInX&&L.scaleMarksInY&&this.$a(bK,gp,gq,gr,gs)){X.$b(this.get_currentContext(),gp-2,gq-2,gr+2*2,gs+2*2,L.c.get('selected_halo_color').gv(bL)[bN],L.minBarWidth,L.minBarHeight,false)}}{if(!L.scaleMarksInX&&L.scaleMarksInY&&L.drawBorder){var gt=L.c.get('x').gv(bL)-fD;var gu=L.c.get('x').gv(bL)+fD;var gv=L.c.get('y').gv(bL);var gw=L.c.get('y1').gv(bL);var gx=Math.min(gt,gu);var gy=Math.min(gv,gw);var gz=Math.abs(gu-gt)+fE;var gA=Math.abs(gw-gv)+fE;X.$9(this.get_currentContext(),gx,gy,gz,gA,L.c.get('selected_halo_color').gv(bL)[bN],4,L.minBarWidth,L.minBarHeight,false)}}{var gB=L.c.get('x').gv(bL);var gC=L.c.get('x1').gv(bL);var gD=L.c.get('y').gv(bL)-fD;var gE=L.c.get('y').gv(bL)+fD;var gF=Math.min(gB,gC);var gG=Math.min(gD,gE);var gH=Math.abs(gC-gB)+0;var gI=Math.abs(gE-gD)+0;if(L.scaleMarksInX&&!L.scaleMarksInY&&!this.$a(bK,gF,gG,gH,gI)){X.$9(this.get_currentContext(),gF,gG,gH,gI,L.c.get('selected_halo_color').gv(bL)[bN],4,L.minBarWidth,L.minBarHeight,false)}}{var gJ=L.c.get('x').gv(bL);var gK=L.c.get('x1').gv(bL);var gL=L.c.get('y').gv(bL)-fD;var gM=L.c.get('y').gv(bL)+fD;var gN=Math.min(gJ,gK);var gO=Math.min(gL,gM);var gP=Math.abs(gK-gJ)+0;var gQ=Math.abs(gM-gL)+0;if(L.scaleMarksInX&&!L.scaleMarksInY&&this.$a(bK,gN,gO,gP,gQ)){X.$b(this.get_currentContext(),gN-2,gO-2,gP+2*2,gQ+2*2,L.c.get('selected_halo_color').gv(bL)[bN],L.minBarWidth,L.minBarHeight,false)}}{if(L.scaleMarksInX&&!L.scaleMarksInY&&L.drawBorder){var gR=L.c.get('x').gv(bL);var gS=L.c.get('x1').gv(bL);var gT=L.c.get('y').gv(bL)-fD;var gU=L.c.get('y').gv(bL)+fD;var gV=Math.min(gR,gS);var gW=Math.min(gT,gU);var gX=Math.abs(gS-gR)+fE;var gY=Math.abs(gU-gT)+fE;X.$9(this.get_currentContext(),gV,gW,gX,gY,L.c.get('selected_halo_color').gv(bL)[bN],4,L.minBarWidth,L.minBarHeight,false)}}{var gZ=L.c.get('x').gv(bL)-fD;var ha=L.c.get('x').gv(bL)+fD;var hb=L.c.get('y').gv(bL)-fD;var hc=L.c.get('y').gv(bL)+fD;var hd=Math.min(gZ,ha);var he=Math.min(hb,hc);var hf=Math.abs(ha-gZ)+0;var hg=Math.abs(hc-hb)+0;if(!L.scaleMarksInX&&!L.scaleMarksInY&&!this.$a(bK,hd,he,hf,hg)){X.$9(this.get_currentContext(),hd,he,hf,hg,L.c.get('selected_halo_color').gv(bL)[bN],4,L.minBarWidth,L.minBarHeight,true)}}{var hh=L.c.get('x').gv(bL)-fD;var hi=L.c.get('x').gv(bL)+fD;var hj=L.c.get('y').gv(bL)-fD;var hk=L.c.get('y').gv(bL)+fD;var hl=Math.min(hh,hi);var hm=Math.min(hj,hk);var hn=Math.abs(hi-hh)+0;var ho=Math.abs(hk-hj)+0;if(!L.scaleMarksInX&&!L.scaleMarksInY&&this.$a(bK,hl,hm,hn,ho)){X.$b(this.get_currentContext(),hl-2,hm-2,hn+2*2,ho+2*2,L.c.get('selected_halo_color').gv(bL)[bN],L.minBarWidth,L.minBarHeight,true)}}{if(!L.scaleMarksInX&&!L.scaleMarksInY&&L.drawBorder){var hp=L.c.get('x').gv(bL)-fD;var hq=L.c.get('x').gv(bL)+fD;var hr=L.c.get('y').gv(bL)-fD;var hs=L.c.get('y').gv(bL)+fD;var ht=Math.min(hp,hq);var hu=Math.min(hr,hs);var hv=Math.abs(hq-hp)+fE;var hw=Math.abs(hs-hr)+fE;X.$9(this.get_currentContext(),ht,hu,hv,hw,L.c.get('border_color').gv(bL)[bN],4,L.minBarWidth,L.minBarHeight,true)}}break}case'selectedOn':{var hx=ss.Int32.trunc(L.c.get('size').gv(bL)+0.5)/2;{if(L.scaleMarksInX&&L.scaleMarksInY){var hy=L.c.get('x').gv(bL);var hz=L.c.get('x1').gv(bL);var hA=L.c.get('y').gv(bL);var hB=L.c.get('y1').gv(bL);var hC=Math.min(hy,hz);var hD=Math.min(hA,hB);var hE=Math.abs(hz-hy)+0;var hF=Math.abs(hB-hA)+0;X.$b(this.get_currentContext(),hC-0,hD-0,hE+2*0,hF+2*0,L.getMarkColors(bL)[bN],L.minBarWidth,L.minBarHeight,false)}}{if(L.scaleMarksInX&&L.scaleMarksInY&&L.drawBorder){var hG=L.c.get('x').gv(bL);var hH=L.c.get('x1').gv(bL);var hI=L.c.get('y').gv(bL);var hJ=L.c.get('y1').gv(bL);var hK=Math.min(hG,hH);var hL=Math.min(hI,hJ);var hM=Math.abs(hH-hG)+0;var hN=Math.abs(hJ-hI)+0;X.$9(this.get_currentContext(),hK,hL,hM,hN,L.c.get('border_color').gv(bL)[bN],1,L.minBarWidth,L.minBarHeight,false)}}{if(!L.scaleMarksInX&&L.scaleMarksInY){var hO=L.c.get('x').gv(bL)-hx;var hP=L.c.get('x').gv(bL)+hx;var hQ=L.c.get('y').gv(bL);var hR=L.c.get('y1').gv(bL);var hS=Math.min(hO,hP);var hT=Math.min(hQ,hR);var hU=Math.abs(hP-hO)+0;var hV=Math.abs(hR-hQ)+0;X.$b(this.get_currentContext(),hS-0,hT-0,hU+2*0,hV+2*0,L.getMarkColors(bL)[bN],L.minBarWidth,L.minBarHeight,false)}}{if(!L.scaleMarksInX&&L.scaleMarksInY&&L.drawBorder){var hW=L.c.get('x').gv(bL)-hx;var hX=L.c.get('x').gv(bL)+hx;var hY=L.c.get('y').gv(bL);var hZ=L.c.get('y1').gv(bL);var ia=Math.min(hW,hX);var ib=Math.min(hY,hZ);var ic=Math.abs(hX-hW)+0;var id=Math.abs(hZ-hY)+0;X.$9(this.get_currentContext(),ia,ib,ic,id,L.c.get('border_color').gv(bL)[bN],1,L.minBarWidth,L.minBarHeight,false)}}{if(L.scaleMarksInX&&!L.scaleMarksInY){var ie=L.c.get('x').gv(bL);var ig=L.c.get('x1').gv(bL);var ih=L.c.get('y').gv(bL)-hx;var ii=L.c.get('y').gv(bL)+hx;var ij=Math.min(ie,ig);var ik=Math.min(ih,ii);var il=Math.abs(ig-ie)+0;var im=Math.abs(ii-ih)+0;X.$b(this.get_currentContext(),ij-0,ik-0,il+2*0,im+2*0,L.getMarkColors(bL)[bN],L.minBarWidth,L.minBarHeight,false)}}{if(L.scaleMarksInX&&!L.scaleMarksInY&&L.drawBorder){var io=L.c.get('x').gv(bL);var ip=L.c.get('x1').gv(bL);var iq=L.c.get('y').gv(bL)-hx;var ir=L.c.get('y').gv(bL)+hx;var it=Math.min(io,ip);var iu=Math.min(iq,ir);var iv=Math.abs(ip-io)+0;var iw=Math.abs(ir-iq)+0;X.$9(this.get_currentContext(),it,iu,iv,iw,L.c.get('border_color').gv(bL)[bN],1,L.minBarWidth,L.minBarHeight,false)}}{if(!L.scaleMarksInX&&!L.scaleMarksInY){var ix=L.c.get('x').gv(bL)-hx;var iy=L.c.get('x').gv(bL)+hx;var iz=L.c.get('y').gv(bL)-hx;var iA=L.c.get('y').gv(bL)+hx;var iB=Math.min(ix,iy);var iC=Math.min(iz,iA);var iD=Math.abs(iy-ix)+0;var iE=Math.abs(iA-iz)+0;X.$b(this.get_currentContext(),iB-0,iC-0,iD+2*0,iE+2*0,L.getMarkColors(bL)[bN],L.minBarWidth,L.minBarHeight,true)}}{if(!L.scaleMarksInX&&!L.scaleMarksInY&&L.drawBorder){var iF=L.c.get('x').gv(bL)-hx;var iG=L.c.get('x').gv(bL)+hx;var iH=L.c.get('y').gv(bL)-hx;var iI=L.c.get('y').gv(bL)+hx;var iJ=Math.min(iF,iG);var iK=Math.min(iH,iI);var iL=Math.abs(iG-iF)+0;var iM=Math.abs(iI-iH)+0;X.$9(this.get_currentContext(),iJ,iK,iL,iM,L.c.get('border_color').gv(bL)[bN],1,L.minBarWidth,L.minBarHeight,true)}}break}default:{break}}if(L.clipCase!==0){this.get_currentContext().restore()}},renderLineMark:function(L,bK,bL){var bM=L.get_hasSelection();var bN=L.get_hasBrushing();var bO='colorOverrideNone';var bP=L.getUserPaneMarkRange(bK);var bQ=bP.firstMark;var bR=bP.lastMark;var bS=L.getUserPaneRectByIndex(bK);var bT=L.get_lineDrawState();this.get_currentContext().save();switch(bL){case'normalUnderPass':{if(L.get_hasBackground()&&L.get_hasHalos()){if(bM||bN){bO='colorOverrideFog'}else{bO='colorOverrideNone'}var bU=bT.get_lineAttributes();for(var bV=0;bV<bU.length;bV++){var bW=bU[bV];if(bW.get_lineState()!=='lineStateNormal'){continue}var bX=bW.worldOffsets;var bY=bX.length;for(var bZ=0;bZ<bY;bZ++){var ca=bX[bZ];X.$c(this.get_currentContext(),ca);{for(var cb=0;cb<bW.marksNeedingDraw.length;cb++){var cc=bW.marksNeedingDraw[cb];if(L.c.get('l_neighbor').gv(cc)!==-1||L.c.get('r_neighbor').gv(cc)!==-1){this.drawLineMarkLayer(L,cc,'normalUnder',bO)}}}{for(var cd=0;cd<bW.marksNeedingDraw.length;cd++){var ce=bW.marksNeedingDraw[cd];this.drawLineMarkLayer(L,ce,'edgeUnder',bO);if(L.c.get('l_neighbor').gv(ce)===-1&&L.c.get('r_neighbor').gv(ce)===-1||L.shouldShowMarker(ce)){this.drawLineMarkLayer(L,ce,'blobUnder',bO)}}}if(ca!==0){this.get_currentContext().restore()}}}var cf=bT.get_lineAttributes();for(var cg=0;cg<cf.length;cg++){var ch=cf[cg];if(ch.get_lineState()!=='lineStateHighlighted'){continue}var ci=ch.worldOffsets;var cj=ci.length;for(var ck=0;ck<cj;ck++){var cl=ci[ck];X.$c(this.get_currentContext(),cl);{for(var cm=0;cm<ch.marksNeedingDraw.length;cm++){var cn=ch.marksNeedingDraw[cm];if(L.c.get('l_neighbor').gv(cn)!==-1||L.c.get('r_neighbor').gv(cn)!==-1){this.drawLineMarkLayer(L,cn,'normalUnder',bO)}}}{for(var co=0;co<ch.marksNeedingDraw.length;co++){var cp=ch.marksNeedingDraw[co];this.drawLineMarkLayer(L,cp,'edgeUnder',bO);if(L.c.get('l_neighbor').gv(cp)===-1&&L.c.get('r_neighbor').gv(cp)===-1||L.shouldShowMarker(cp)){this.drawLineMarkLayer(L,cp,'blobUnder',bO)}}}if(cl!==0){this.get_currentContext().restore()}}}}break}case'normalOnPass':{if(bM||bN){bO='colorOverrideFog'}else{bO='colorOverrideNone'}var cq=bT.get_lineAttributes();for(var cr=0;cr<cq.length;cr++){var cs=cq[cr];if(cs.get_lineState()!=='lineStateNormal'){continue}var ct=cs.worldOffsets;var cu=ct.length;for(var cv=0;cv<cu;cv++){var cw=ct[cv];X.$c(this.get_currentContext(),cw);var cx=true;if(L.get_hasGlobalTransparency()){if(L.markType==='line'){cx=cs.endIndex-cs.startIndex>1}if(cx){var cy=((!L.isWrappedDomain&&L.markType==='line')?cs.sloppyBoundingBox:null);this.beginOffScreenRender(cy);L.forceOpaqueColors=true}}{for(var cz=0;cz<cs.marksNeedingDraw.length;cz++){var cA=cs.marksNeedingDraw[cz];if(L.c.get('l_neighbor').gv(cA)!==-1||L.c.get('r_neighbor').gv(cA)!==-1){this.drawLineMarkLayer(L,cA,'normalOn',bO)}else{this.drawLineMarkLayer(L,cA,'blobOn',bO)}}}{for(var cB=0;cB<cs.marksNeedingDraw.length;cB++){var cC=cs.marksNeedingDraw[cB];this.drawLineMarkLayer(L,cC,'edgeOn',bO)}}if(L.get_hasGlobalTransparency()){if(cx){L.forceOpaqueColors=false;this.endOffScreenRender(L.globalAlpha)}}{for(var cD=0;cD<cs.marksNeedingDraw.length;cD++){var cE=cs.marksNeedingDraw[cD];if(L.shouldShowMarker(cE)){this.drawLineMarkLayer(L,cE,'blobOn',bO)}}}if(cw!==0){this.get_currentContext().restore()}}}break}case'highlightedUnderPass':{break}case'highlightedOnPass':{if(bM||bN){bO='colorOverrideNone';var cF=bT.get_lineAttributes();for(var cG=0;cG<cF.length;cG++){var cH=cF[cG];if(cH.get_lineState()!=='lineStateHighlighted'){continue}var cI=cH.worldOffsets;var cJ=cI.length;for(var cK=0;cK<cJ;cK++){var cL=cI[cK];X.$c(this.get_currentContext(),cL);var cM=true;if(L.get_hasGlobalTransparency()){if(L.markType==='line'){cM=cH.endIndex-cH.startIndex>1}if(cM){var cN=((!L.isWrappedDomain&&L.markType==='line')?cH.sloppyBoundingBox:null);this.beginOffScreenRender(cN);L.forceOpaqueColors=true}}{for(var cO=0;cO<cH.marksNeedingDraw.length;cO++){var cP=cH.marksNeedingDraw[cO];if(!(L.getMarkState(cP)==='markStateHighlighted')){bO='colorOverrideFog'}if(!(L.getMarkState(cP)==='markStateHighlighted'&&!cH.get_allHighlighted())){if(L.c.get('l_neighbor').gv(cP)!==-1||L.c.get('r_neighbor').gv(cP)!==-1){this.drawLineMarkLayer(L,cP,'normalOn',bO)}else{this.drawLineMarkLayer(L,cP,'blobOn',bO)}}bO='colorOverrideNone'}}{for(var cQ=0;cQ<cH.marksNeedingDraw.length;cQ++){var cR=cH.marksNeedingDraw[cQ];if(L.getMarkState(cR)!=='markStateHighlighted'||L.c.get('r_neighbor').gv(cR)!==-1&&L.getMarkState(L.c.get('r_neighbor').gv(cR))!=='markStateHighlighted'){bO='colorOverrideFog'}this.drawLineMarkLayer(L,cR,'edgeOn',bO);bO='colorOverrideNone'}}if(L.get_hasGlobalTransparency()){if(cM){L.forceOpaqueColors=false;this.endOffScreenRender(L.globalAlpha)}}{for(var cS=0;cS<cH.marksNeedingDraw.length;cS++){var cT=cH.marksNeedingDraw[cS];if(!(L.getMarkState(cT)==='markStateHighlighted')){bO='colorOverrideFog'}if(!(L.getMarkState(cT)==='markStateHighlighted'&&!cH.get_allHighlighted())){if(L.shouldShowMarker(cT)){this.drawLineMarkLayer(L,cT,'blobOn',bO)}}bO='colorOverrideNone'}}{for(var cU=0;cU<cH.marksNeedingDraw.length;cU++){var cV=cH.marksNeedingDraw[cU];if(L.getMarkState(cV)==='markStateHighlighted'&&!cH.get_allHighlighted()){this.drawLineMarkLayer(L,cV,'highlightedUnder',bO)}}}{for(var cW=0;cW<cH.marksNeedingDraw.length;cW++){var cX=cH.marksNeedingDraw[cW];if(L.getMarkState(cX)==='markStateHighlighted'&&!cH.get_allHighlighted()){this.drawLineMarkLayer(L,cX,'highlightedOn',bO)}}}if(cL!==0){this.get_currentContext().restore()}}}}break}case'selectedUnderPass':{if(bM||bN){bO='colorOverrideNone';var cY=bT.get_lineAttributes();for(var cZ=0;cZ<cY.length;cZ++){var da=cY[cZ];if(da.get_lineState()!=='lineStateSelected'){continue}var db=da.worldOffsets;var dc=db.length;for(var dd=0;dd<dc;dd++){var de=db[dd];X.$c(this.get_currentContext(),de);{for(var df=0;df<da.marksNeedingDraw.length;df++){var dg=da.marksNeedingDraw[df];this.drawLineMarkLayer(L,dg,'selectedUnder1',bO);this.drawLineMarkLayer(L,dg,'selectedEdgeUnder',bO)}}if(de!==0){this.get_currentContext().restore()}}}}break}case'selectedOnPass':{if(bM||bN){bO='colorOverrideOpaque';var dh=bT.get_lineAttributes();for(var di=0;di<dh.length;di++){var dj=dh[di];if(dj.get_lineState()!=='lineStateSelected'){continue}var dk=dj.worldOffsets;var dl=dk.length;for(var dm=0;dm<dl;dm++){var dn=dk[dm];X.$c(this.get_currentContext(),dn);{for(var dp=0;dp<dj.marksNeedingDraw.length;dp++){var dq=dj.marksNeedingDraw[dp];if(L.c.get('l_neighbor').gv(dq)!==-1||L.c.get('r_neighbor').gv(dq)!==-1){this.drawLineMarkLayer(L,dq,'normalOn',bO)}else{this.drawLineMarkLayer(L,dq,'blobOn',bO)}}}{for(var dr=0;dr<dj.marksNeedingDraw.length;dr++){var ds=dj.marksNeedingDraw[dr];this.drawLineMarkLayer(L,ds,'edgeOn',bO)}}{for(var dt=0;dt<dj.marksNeedingDraw.length;dt++){var du=dj.marksNeedingDraw[dt];if(L.shouldShowMarker(du)){this.drawLineMarkLayer(L,du,'blobOn',bO)}}}if(!dj.get_allHighlighted()){{for(var dv=0;dv<dj.marksNeedingDraw.length;dv++){var dw=dj.marksNeedingDraw[dv];if(L.getMarkState(dw)==='markStateHighlighted'){this.drawLineMarkLayer(L,dw,'highlightedUnder',bO)}}}{for(var dx=0;dx<dj.marksNeedingDraw.length;dx++){var dy=dj.marksNeedingDraw[dx];if(L.getMarkState(dy)==='markStateHighlighted'){this.drawLineMarkLayer(L,dy,'highlightedOn',bO)}}}}{for(var dz=0;dz<dj.marksNeedingDraw.length;dz++){var dA=dj.marksNeedingDraw[dz];if(L.getMarkState(dA)==='markStateSelected'){this.drawLineMarkLayer(L,dA,'selectedUnder',bO)}}}{for(var dB=0;dB<dj.marksNeedingDraw.length;dB++){var dC=dj.marksNeedingDraw[dB];if(L.getMarkState(dC)==='markStateSelected'){this.drawLineMarkLayer(L,dC,'highlightedOn',bO)}}}if(dn!==0){this.get_currentContext().restore()}}}}break}}this.get_currentContext().restore()},drawLineMarkLayer:function(L,bK,bL,bM){var bN=L.c.get('l_neighbor').gv(bK);var bO=L.c.get('r_neighbor').gv(bK);switch(bL){case'normalUnder':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+L.c.get('x').gv(bK),0+L.c.get('y').gv(bK),L.c.get('size').gv(bK),L.c.get('halo_color').gv(bK)[bM],4)}break}case'normalOn':{{{tab.CanvasRenderer.renderFilledCircle(this.get_currentContext(),0+L.c.get('x').gv(bK),0+L.c.get('y').gv(bK),L.c.get('size').gv(bK),L.getMarkColors(bK)[bM])}}break}case'blobUnder':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+L.c.get('x').gv(bK),0+L.c.get('y').gv(bK),L.c.get('size').gv(bK)+3,L.c.get('halo_color').gv(bK)[bM],4)}break}case'blobOn':{{{tab.CanvasRenderer.renderFilledCircle(this.get_currentContext(),0+L.c.get('x').gv(bK),0+L.c.get('y').gv(bK),L.c.get('size').gv(bK)+3,L.getMarkColors(bK)[bM])}}break}case'highlightedUnder':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+L.c.get('x').gv(bK),0+L.c.get('y').gv(bK),L.c.get('size').gv(bK)+4,L.c.get('selected_multi_prim_halo_color').gv(bK)[bM],4)}break}case'highlightedOn':{{{tab.CanvasRenderer.renderFilledCircle(this.get_currentContext(),0+L.c.get('x').gv(bK),0+L.c.get('y').gv(bK),L.c.get('size').gv(bK)+4,L.getMarkColors(bK)[bM])}}break}case'selectedUnder':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+L.c.get('x').gv(bK),0+L.c.get('y').gv(bK),L.c.get('size').gv(bK)+4,L.c.get('selected_halo_color').gv(bK)[bM],4)}break}case'selectedUnder1':{var bP=bO!==-1;var bQ=L.lineInterpolation;var bR=L.lineMarkerPosition;{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+L.c.get('x').gv(bK),0+L.c.get('y').gv(bK),L.c.get('size').gv(bK),L.c.get('selected_multi_prim_halo_color').gv(bK)[bM],4)}if(bP&&bR==='lmp-left'&&(bQ==='lim-step'||bQ==='lim-jump')&&L.c.get('y').gv(bK)!==L.c.get('y').gv(bO)){tab.CanvasRenderer.renderCircle(this.get_currentContext(),L.c.get('x').gv(bO)-L.c.get('x').gv(bK)+L.c.get('x').gv(bK),0+L.c.get('y').gv(bK),L.c.get('size').gv(bK),L.c.get('selected_multi_prim_halo_color').gv(bK)[bM],4)}if(bP&&bR==='lmp-center'&&(bQ==='lim-step'||bQ==='lim-jump')){tab.CanvasRenderer.renderCircle(this.get_currentContext(),(L.c.get('x').gv(bO)-L.c.get('x').gv(bK))/2+L.c.get('x').gv(bK),0+L.c.get('y').gv(bK),L.c.get('size').gv(bK),L.c.get('selected_multi_prim_halo_color').gv(bK)[bM],4)}if(bP&&bR==='lmp-center'&&(bQ==='lim-step'||bQ==='lim-jump')&&L.c.get('y').gv(bK)!==L.c.get('y').gv(bO)){tab.CanvasRenderer.renderCircle(this.get_currentContext(),(L.c.get('x').gv(bO)-L.c.get('x').gv(bK))/2+L.c.get('x').gv(bK),L.c.get('y').gv(bO)-L.c.get('y').gv(bK)+L.c.get('y').gv(bK),L.c.get('size').gv(bK),L.c.get('selected_multi_prim_halo_color').gv(bK)[bM],4)}if(bP&&bR==='lmp-right'&&(bQ==='lim-step'||bQ==='lim-jump')&&L.c.get('y').gv(bK)!==L.c.get('y').gv(bO)){tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+L.c.get('x').gv(bK),L.c.get('y').gv(bO)-L.c.get('y').gv(bK)+L.c.get('y').gv(bK),L.c.get('size').gv(bK),L.c.get('selected_multi_prim_halo_color').gv(bK)[bM],4)}break}case'edgeUnder':{var bS=bO!==-1;var bT=L.lineInterpolation;var bU=L.lineMarkerPosition;if(bS&&bT==='lim-linear'){this.$e(L.c.get('x').gv(bK),L.c.get('x').gv(bO),L.c.get('y').gv(bK),L.c.get('y').gv(bO),L.c.get('size').gv(bK),L.c.get('size').gv(bO),L.c.get('halo_color').gv(bK)[bM],4)}if(bS&&bT==='lim-step'&&bU==='lmp-left'){this.$e(L.c.get('x').gv(bK),L.c.get('x').gv(bO),L.c.get('y').gv(bK),L.c.get('y').gv(bK),L.c.get('size').gv(bK),L.c.get('size').gv(bO),L.c.get('halo_color').gv(bK)[bM],4)}if(bS&&bT==='lim-step'&&bU==='lmp-left'){this.$e(L.c.get('x').gv(bO),L.c.get('x').gv(bO),L.c.get('y').gv(bK),L.c.get('y').gv(bO),L.c.get('size').gv(bK),L.c.get('size').gv(bO),L.c.get('halo_color').gv(bK)[bM],4)}if(bS&&bT==='lim-step'&&bU==='lmp-center'){this.$e(L.c.get('x').gv(bK),(L.c.get('x').gv(bK)+L.c.get('x').gv(bO))/2,L.c.get('y').gv(bK),L.c.get('y').gv(bK),L.c.get('size').gv(bK),L.c.get('size').gv(bO),L.c.get('halo_color').gv(bK)[bM],4)}if(bS&&bT==='lim-step'&&bU==='lmp-center'){this.$e((L.c.get('x').gv(bK)+L.c.get('x').gv(bO))/2,(L.c.get('x').gv(bK)+L.c.get('x').gv(bO))/2,L.c.get('y').gv(bK),L.c.get('y').gv(bO),L.c.get('size').gv(bK),L.c.get('size').gv(bO),L.c.get('halo_color').gv(bK)[bM],4)}if(bS&&bT==='lim-step'&&bU==='lmp-center'){this.$e((L.c.get('x').gv(bK)+L.c.get('x').gv(bO))/2,L.c.get('x').gv(bO),L.c.get('y').gv(bO),L.c.get('y').gv(bO),L.c.get('size').gv(bK),L.c.get('size').gv(bO),L.c.get('halo_color').gv(bK)[bM],4)}if(bS&&bT==='lim-step'&&bU==='lmp-right'){this.$e(L.c.get('x').gv(bK),L.c.get('x').gv(bK),L.c.get('y').gv(bK),L.c.get('y').gv(bO),L.c.get('size').gv(bK),L.c.get('size').gv(bO),L.c.get('halo_color').gv(bK)[bM],4)}if(bS&&bT==='lim-step'&&bU==='lmp-right'){this.$e(L.c.get('x').gv(bK),L.c.get('x').gv(bO),L.c.get('y').gv(bO),L.c.get('y').gv(bO),L.c.get('size').gv(bK),L.c.get('size').gv(bO),L.c.get('halo_color').gv(bK)[bM],4)}if(bS&&bT==='lim-jump'&&bU==='lmp-left'){this.$e(L.c.get('x').gv(bK),L.c.get('x').gv(bO),L.c.get('y').gv(bK),L.c.get('y').gv(bK),L.c.get('size').gv(bK),L.c.get('size').gv(bO),L.c.get('halo_color').gv(bK)[bM],4)}if(bS&&bT==='lim-jump'&&bU==='lmp-center'){this.$e(L.c.get('x').gv(bK),(L.c.get('x').gv(bK)+L.c.get('x').gv(bO))/2,L.c.get('y').gv(bK),L.c.get('y').gv(bK),L.c.get('size').gv(bK),L.c.get('size').gv(bO),L.c.get('halo_color').gv(bK)[bM],4)}if(bS&&bT==='lim-jump'&&bU==='lmp-center'){this.$e((L.c.get('x').gv(bK)+L.c.get('x').gv(bO))/2,L.c.get('x').gv(bO),L.c.get('y').gv(bO),L.c.get('y').gv(bO),L.c.get('size').gv(bK),L.c.get('size').gv(bO),L.c.get('halo_color').gv(bK)[bM],4)}if(bS&&bT==='lim-jump'&&bU==='lmp-right'){this.$e(L.c.get('x').gv(bK),L.c.get('x').gv(bO),L.c.get('y').gv(bO),L.c.get('y').gv(bO),L.c.get('size').gv(bK),L.c.get('size').gv(bO),L.c.get('halo_color').gv(bK)[bM],4)}break}case'selectedEdgeUnder':{var bV=bO!==-1;var bW=L.lineInterpolation;var bX=L.lineMarkerPosition;if(bV&&bW==='lim-linear'){this.$e(L.c.get('x').gv(bK),L.c.get('x').gv(bO),L.c.get('y').gv(bK),L.c.get('y').gv(bO),L.c.get('size').gv(bK),L.c.get('size').gv(bO),L.c.get('selected_multi_prim_halo_color').gv(bK)[bM],4)}if(bV&&bW==='lim-step'&&bX==='lmp-left'){this.$e(L.c.get('x').gv(bK),L.c.get('x').gv(bO),L.c.get('y').gv(bK),L.c.get('y').gv(bK),L.c.get('size').gv(bK),L.c.get('size').gv(bO),L.c.get('selected_multi_prim_halo_color').gv(bK)[bM],4)}if(bV&&bW==='lim-step'&&bX==='lmp-left'){this.$e(L.c.get('x').gv(bO),L.c.get('x').gv(bO),L.c.get('y').gv(bK),L.c.get('y').gv(bO),L.c.get('size').gv(bK),L.c.get('size').gv(bO),L.c.get('selected_multi_prim_halo_color').gv(bK)[bM],4)}if(bV&&bW==='lim-step'&&bX==='lmp-center'){this.$e(L.c.get('x').gv(bK),(L.c.get('x').gv(bK)+L.c.get('x').gv(bO))/2,L.c.get('y').gv(bK),L.c.get('y').gv(bK),L.c.get('size').gv(bK),L.c.get('size').gv(bO),L.c.get('selected_multi_prim_halo_color').gv(bK)[bM],4)}if(bV&&bW==='lim-step'&&bX==='lmp-center'){this.$e((L.c.get('x').gv(bK)+L.c.get('x').gv(bO))/2,(L.c.get('x').gv(bK)+L.c.get('x').gv(bO))/2,L.c.get('y').gv(bK),L.c.get('y').gv(bO),L.c.get('size').gv(bK),L.c.get('size').gv(bO),L.c.get('selected_multi_prim_halo_color').gv(bK)[bM],4)}if(bV&&bW==='lim-step'&&bX==='lmp-center'){this.$e((L.c.get('x').gv(bK)+L.c.get('x').gv(bO))/2,L.c.get('x').gv(bO),L.c.get('y').gv(bO),L.c.get('y').gv(bO),L.c.get('size').gv(bK),L.c.get('size').gv(bO),L.c.get('selected_multi_prim_halo_color').gv(bK)[bM],4)}if(bV&&bW==='lim-step'&&bX==='lmp-right'){this.$e(L.c.get('x').gv(bK),L.c.get('x').gv(bK),L.c.get('y').gv(bK),L.c.get('y').gv(bO),L.c.get('size').gv(bK),L.c.get('size').gv(bO),L.c.get('selected_multi_prim_halo_color').gv(bK)[bM],4)}if(bV&&bW==='lim-step'&&bX==='lmp-right'){this.$e(L.c.get('x').gv(bK),L.c.get('x').gv(bO),L.c.get('y').gv(bO),L.c.get('y').gv(bO),L.c.get('size').gv(bK),L.c.get('size').gv(bO),L.c.get('selected_multi_prim_halo_color').gv(bK)[bM],4)}if(bV&&bW==='lim-jump'&&bX==='lmp-left'){this.$e(L.c.get('x').gv(bK),L.c.get('x').gv(bO),L.c.get('y').gv(bK),L.c.get('y').gv(bK),L.c.get('size').gv(bK),L.c.get('size').gv(bO),L.c.get('selected_multi_prim_halo_color').gv(bK)[bM],4)}if(bV&&bW==='lim-jump'&&bX==='lmp-center'){this.$e(L.c.get('x').gv(bK),(L.c.get('x').gv(bK)+L.c.get('x').gv(bO))/2,L.c.get('y').gv(bK),L.c.get('y').gv(bK),L.c.get('size').gv(bK),L.c.get('size').gv(bO),L.c.get('selected_multi_prim_halo_color').gv(bK)[bM],4)}if(bV&&bW==='lim-jump'&&bX==='lmp-center'){this.$e((L.c.get('x').gv(bK)+L.c.get('x').gv(bO))/2,L.c.get('x').gv(bO),L.c.get('y').gv(bO),L.c.get('y').gv(bO),L.c.get('size').gv(bK),L.c.get('size').gv(bO),L.c.get('selected_multi_prim_halo_color').gv(bK)[bM],4)}if(bV&&bW==='lim-jump'&&bX==='lmp-right'){this.$e(L.c.get('x').gv(bK),L.c.get('x').gv(bO),L.c.get('y').gv(bO),L.c.get('y').gv(bO),L.c.get('size').gv(bK),L.c.get('size').gv(bO),L.c.get('selected_multi_prim_halo_color').gv(bK)[bM],4)}break}case'edgeOn':{var bY=bO!==-1;var bZ=L.lineInterpolation;var ca=L.lineMarkerPosition;if(bY&&bZ==='lim-linear'){if(L.isLineSegmentVisible(bK,bO)){var cb=bM;if(L.isLineSegmentFiltered(bK,bO)){bM='colorOverrideFog'}this.$b(L.c.get('x').gv(bK),L.c.get('x').gv(bO),L.c.get('y').gv(bK),L.c.get('y').gv(bO),L.c.get('size').gv(bK),L.c.get('size').gv(bO),L.getMarkColors(bK)[bM],L.getMarkColors(bO)[bM])}}if(bY&&bZ==='lim-step'&&ca==='lmp-left'){if(L.isLineSegmentVisible(bK,bO)){var cc=bM;if(L.isLineSegmentFiltered(bK,bO)){bM='colorOverrideFog'}this.$b(L.c.get('x').gv(bK),L.c.get('x').gv(bO),L.c.get('y').gv(bK),L.c.get('y').gv(bK),L.c.get('size').gv(bK),L.c.get('size').gv(bK),L.getMarkColors(bK)[bM],L.getMarkColors(bK)[bM])}}if(bY&&bZ==='lim-step'&&ca==='lmp-left'){if(L.isLineSegmentVisible(bK,bO)){var cd=bM;if(L.isLineSegmentFiltered(bK,bO)){bM='colorOverrideFog'}this.$b(L.c.get('x').gv(bO),L.c.get('x').gv(bO),L.c.get('y').gv(bK),L.c.get('y').gv(bO),L.c.get('size').gv(bK),L.c.get('size').gv(bO),L.getMarkColors(bK)[bM],L.getMarkColors(bO)[bM])}}if(bY&&bZ==='lim-step'&&ca==='lmp-center'){if(L.isLineSegmentVisible(bK,bO)){var ce=bM;if(L.isLineSegmentFiltered(bK,bO)){bM='colorOverrideFog'}this.$b(L.c.get('x').gv(bK),(L.c.get('x').gv(bK)+L.c.get('x').gv(bO))/2,L.c.get('y').gv(bK),L.c.get('y').gv(bK),L.c.get('size').gv(bK),L.c.get('size').gv(bK),L.getMarkColors(bK)[bM],L.getMarkColors(bK)[bM])}}if(bY&&bZ==='lim-step'&&ca==='lmp-center'){if(L.isLineSegmentVisible(bK,bO)){var cf=bM;if(L.isLineSegmentFiltered(bK,bO)){bM='colorOverrideFog'}this.$b((L.c.get('x').gv(bK)+L.c.get('x').gv(bO))/2,(L.c.get('x').gv(bK)+L.c.get('x').gv(bO))/2,L.c.get('y').gv(bK),L.c.get('y').gv(bO),L.c.get('size').gv(bK),L.c.get('size').gv(bO),L.getMarkColors(bK)[bM],L.getMarkColors(bO)[bM])}}if(bY&&bZ==='lim-step'&&ca==='lmp-center'){if(L.isLineSegmentVisible(bK,bO)){var cg=bM;if(L.isLineSegmentFiltered(bK,bO)){bM='colorOverrideFog'}this.$b((L.c.get('x').gv(bK)+L.c.get('x').gv(bO))/2,L.c.get('x').gv(bO),L.c.get('y').gv(bO),L.c.get('y').gv(bO),L.c.get('size').gv(bO),L.c.get('size').gv(bO),L.getMarkColors(bO)[bM],L.getMarkColors(bO)[bM])}}if(bY&&bZ==='lim-step'&&ca==='lmp-right'){if(L.isLineSegmentVisible(bK,bO)){var ch=bM;if(L.isLineSegmentFiltered(bK,bO)){bM='colorOverrideFog'}this.$b(L.c.get('x').gv(bK),L.c.get('x').gv(bK),L.c.get('y').gv(bK),L.c.get('y').gv(bO),L.c.get('size').gv(bK),L.c.get('size').gv(bO),L.getMarkColors(bK)[bM],L.getMarkColors(bO)[bM])}}if(bY&&bZ==='lim-step'&&ca==='lmp-right'){if(L.isLineSegmentVisible(bK,bO)){var ci=bM;if(L.isLineSegmentFiltered(bK,bO)){bM='colorOverrideFog'}this.$b(L.c.get('x').gv(bK),L.c.get('x').gv(bO),L.c.get('y').gv(bO),L.c.get('y').gv(bO),L.c.get('size').gv(bO),L.c.get('size').gv(bO),L.getMarkColors(bO)[bM],L.getMarkColors(bO)[bM])}}if(bY&&bZ==='lim-jump'&&ca==='lmp-left'){if(L.isLineSegmentVisible(bK,bO)){var cj=bM;if(L.isLineSegmentFiltered(bK,bO)){bM='colorOverrideFog'}this.$b(L.c.get('x').gv(bK),L.c.get('x').gv(bO),L.c.get('y').gv(bK),L.c.get('y').gv(bK),L.c.get('size').gv(bK),L.c.get('size').gv(bK),L.getMarkColors(bK)[bM],L.getMarkColors(bK)[bM])}}if(bY&&bZ==='lim-jump'&&ca==='lmp-center'){if(L.isLineSegmentVisible(bK,bO)){var ck=bM;if(L.isLineSegmentFiltered(bK,bO)){bM='colorOverrideFog'}this.$b(L.c.get('x').gv(bK),(L.c.get('x').gv(bK)+L.c.get('x').gv(bO))/2,L.c.get('y').gv(bK),L.c.get('y').gv(bK),L.c.get('size').gv(bK),L.c.get('size').gv(bK),L.getMarkColors(bK)[bM],L.getMarkColors(bK)[bM])}}if(bY&&bZ==='lim-jump'&&ca==='lmp-center'){if(L.isLineSegmentVisible(bK,bO)){var cl=bM;if(L.isLineSegmentFiltered(bK,bO)){bM='colorOverrideFog'}this.$b((L.c.get('x').gv(bK)+L.c.get('x').gv(bO))/2,L.c.get('x').gv(bO),L.c.get('y').gv(bO),L.c.get('y').gv(bO),L.c.get('size').gv(bO),L.c.get('size').gv(bO),L.getMarkColors(bO)[bM],L.getMarkColors(bO)[bM])}}if(bY&&bZ==='lim-jump'&&ca==='lmp-right'){if(L.isLineSegmentVisible(bK,bO)){var cm=bM;if(L.isLineSegmentFiltered(bK,bO)){bM='colorOverrideFog'}this.$b(L.c.get('x').gv(bK),L.c.get('x').gv(bO),L.c.get('y').gv(bO),L.c.get('y').gv(bO),L.c.get('size').gv(bO),L.c.get('size').gv(bO),L.getMarkColors(bO)[bM],L.getMarkColors(bO)[bM])}}if(bY&&ca==='lmp-left'&&(bZ==='lim-step'||bZ==='lim-jump')&&L.c.get('y').gv(bK)!==L.c.get('y').gv(bO)){tab.CanvasRenderer.renderFilledCircle(this.get_currentContext(),L.c.get('x').gv(bO)-L.c.get('x').gv(bK)+L.c.get('x').gv(bK),0+L.c.get('y').gv(bK),L.c.get('size').gv(bK),L.getMarkColors(bK)[bM])}if(bY&&ca==='lmp-center'&&(bZ==='lim-step'||bZ==='lim-jump')){tab.CanvasRenderer.renderFilledCircle(this.get_currentContext(),(L.c.get('x').gv(bO)-L.c.get('x').gv(bK))/2+L.c.get('x').gv(bK),0+L.c.get('y').gv(bK),L.c.get('size').gv(bK),L.getMarkColors(bK)[bM])}if(bY&&ca==='lmp-center'&&(bZ==='lim-step'||bZ==='lim-jump')&&L.c.get('y').gv(bK)!==L.c.get('y').gv(bO)){tab.CanvasRenderer.renderFilledCircle(this.get_currentContext(),(L.c.get('x').gv(bO)-L.c.get('x').gv(bK))/2+L.c.get('x').gv(bK),L.c.get('y').gv(bO)-L.c.get('y').gv(bK)+L.c.get('y').gv(bK),L.c.get('size').gv(bK),L.getMarkColors(bK)[bM])}if(bY&&ca==='lmp-right'&&(bZ==='lim-step'||bZ==='lim-jump')&&L.c.get('y').gv(bK)!==L.c.get('y').gv(bO)){tab.CanvasRenderer.renderFilledCircle(this.get_currentContext(),0+L.c.get('x').gv(bK),L.c.get('y').gv(bO)-L.c.get('y').gv(bK)+L.c.get('y').gv(bK),L.c.get('size').gv(bK),L.getMarkColors(bK)[bM])}break}default:{break}}if(L.clipCase!==0){this.get_currentContext().restore()}},renderShapeMark:function(L,bK,bL){var bM=L.get_hasSelection();var bN=L.get_hasBrushing();var bO='colorOverrideNone';var bP=L.getUserPaneMarkRange(bK);var bQ=bP.firstMark;var bR=bP.lastMark;var bS=L.getUserPaneRectByIndex(bK);switch(bL){case'normalUnderPass':{if(L.get_hasBackground()&&L.get_hasHalos()){if(bM||bN){bO='colorOverrideFog'}else{bO='colorOverrideNone'}{L.markWorldOffsets.forEach(ss.mkdel(this,function(bT,bU){X.$c(this.get_currentContext(),bU);for(var bV=bQ;bV<=bR;bV++){if(bT.has(bV)){continue}if(!L.markNeedsDraw(bV)){continue}if(L.getMarkState(bV)!=='markStateNormal'){continue}this.drawShapeMarkLayer(L,bV,'normalUnder',bO)}if(!tab.DoubleUtil.isApproximatelyEqual(bU,0)){this.get_currentContext().restore()}}))}if(bM||bN){bO='colorOverrideNone';{L.markWorldOffsets.forEach(ss.mkdel(this,function(bT,bU){X.$c(this.get_currentContext(),bU);for(var bV=bQ;bV<=bR;bV++){if(bT.has(bV)){continue}if(!L.markNeedsDraw(bV)){continue}if(L.getMarkState(bV)!=='markStateHighlighted'){continue}this.drawShapeMarkLayer(L,bV,'normalUnder',bO)}if(!tab.DoubleUtil.isApproximatelyEqual(bU,0)){this.get_currentContext().restore()}}))}}}break}case'normalOnPass':{if(bM||bN){bO='colorOverrideFog'}else{bO='colorOverrideNone'}{L.markWorldOffsets.forEach(ss.mkdel(this,function(bT,bU){X.$c(this.get_currentContext(),bU);for(var bV=bQ;bV<=bR;bV++){if(bT.has(bV)){continue}if(!L.markNeedsDraw(bV)){continue}if(L.getMarkState(bV)!=='markStateNormal'){continue}this.drawShapeMarkLayer(L,bV,'normalOn',bO);if(L.drawBorder){this.drawShapeMarkLayer(L,bV,'border',bO)}}if(!tab.DoubleUtil.isApproximatelyEqual(bU,0)){this.get_currentContext().restore()}}))}break}case'highlightedUnderPass':{break}case'highlightedOnPass':{if(bM||bN){bO='colorOverrideNone';{L.markWorldOffsets.forEach(ss.mkdel(this,function(bT,bU){X.$c(this.get_currentContext(),bU);for(var bV=bQ;bV<=bR;bV++){if(bT.has(bV)){continue}if(!L.markNeedsDraw(bV)){continue}if(L.getMarkState(bV)!=='markStateHighlighted'){continue}this.drawShapeMarkLayer(L,bV,'normalOn',bO);if(L.drawBorder){this.drawShapeMarkLayer(L,bV,'border',bO)}}if(!tab.DoubleUtil.isApproximatelyEqual(bU,0)){this.get_currentContext().restore()}}))}}break}case'selectedUnderPass':{if(bM||bN){bO='colorOverrideOpaque';{L.markWorldOffsets.forEach(ss.mkdel(this,function(bT,bU){X.$c(this.get_currentContext(),bU);for(var bV=bQ;bV<=bR;bV++){if(bT.has(bV)){continue}if(!L.markNeedsDraw(bV)){continue}if(L.getMarkState(bV)!=='markStateSelected'){continue}this.drawShapeMarkLayer(L,bV,'selectedUnder',bO)}if(!tab.DoubleUtil.isApproximatelyEqual(bU,0)){this.get_currentContext().restore()}}))}}break}case'selectedOnPass':{if(bM||bN){bO='colorOverrideOpaque';{L.markWorldOffsets.forEach(ss.mkdel(this,function(bT,bU){X.$c(this.get_currentContext(),bU);for(var bV=bQ;bV<=bR;bV++){if(bT.has(bV)){continue}if(!L.markNeedsDraw(bV)){continue}if(L.getMarkState(bV)!=='markStateSelected'){continue}this.drawShapeMarkLayer(L,bV,'normalOn',bO);if(L.drawBorder){this.drawShapeMarkLayer(L,bV,'border',bO)}}if(!tab.DoubleUtil.isApproximatelyEqual(bU,0)){this.get_currentContext().restore()}}))}}break}}},drawShapeMarkLayer:function(L,bK,bL,bM){var bN=L.c.get('shape_id').gv(bK);if(!X.shapeHasLayerContent(bN,bL)){return}var bO=L.c.get('x').gv(bK);var bP=L.c.get('y').gv(bK);var bQ=L.shouldStampThisShapeMark(bK);if(!bQ){this.renderShapeMarkLayer(L,bO,bP,bK,bL,bM,false);return}var bR=L.c.get('size').gv(bK);var bS=X.$6(L,bK,bL,bM);var bT=X.getShapeMarkSpriteSize(bN,bL,bR)+2;var bU=bT/2;var bV=bP-bU;var bW=bO-bU;var bX=this.get_currentContext();var bY=tab.ShapeManager.getCacheKey(bN,bL,bM,bS,bR);var bZ=tab.ApplicationModel.get_instance().get_shapeManager().getCachedStampCanvas(bY);if(ss.isNullOrUndefined(bZ)){var ca=function(){var cb=document.createElement('canvas');cb.width=bT;cb.height=bT;var cc=new tab.TabRenderContext2D(cb.getContext('2d'));if(tab.FeatureParamsLookup.getBool(38)){cc.set_shapeFillStyle('rgba(255, 0, 0, 0.12)');cc.fillRect(0,0,bT,bT)}var cd=new X(cb,cc);cd.renderShapeMarkLayer(L,bU,bU,bK,bL,bM,true);return cb};bZ=tab.ApplicationModel.get_instance().get_shapeManager().generateCachedStampCanvas(bY,ca)}if(ss.isValue(bZ)){bX.drawImage3(bZ,bW+0.5<<0,bV+0.5<<0,bT,bT)}else{this.renderShapeMarkLayer(L,bO,bP,bK,bL,bM,false)}},renderShapeMarkLayer:function(L,bK,bL,bM,bN,bO,bP){var bQ=L.clipCase!==0&&!bP;if(bQ){this.get_currentContext().save();this.$9(L.clipCase,L.c.get('cell_x').gv(bM),L.c.get('cell_y').gv(bM),L.c.get('clip_width').gv(bM),L.c.get('clip_height').gv(bM))}var bR=L.c.get('shape_id').gv(bM);switch(bR){case'shapeIDCircle':{this.$h(L,bK,bL,bM,bN,bO);break}case'shapeIDFilledCircle':{this.$k(L,bK,bL,bM,bN,bO);break}case'shapeIDUnscaledFilledCircle':{this.$A(L,bK,bL,bM,bN,bO);break}case'shapeIDSquare':{this.$x(L,bK,bL,bM,bN,bO);break}case'shapeIDFilledSquare':{this.$q(L,bK,bL,bM,bN,bO);break}case'shapeIDAsterisk':{this.$g(L,bK,bL,bM,bN,bO);break}case'shapeIDPlus':{this.$v(L,bK,bL,bM,bN,bO);break}case'shapeIDFilledPlus':{this.$o(L,bK,bL,bM,bN,bO);break}case'shapeIDTimes':{this.$y(L,bK,bL,bM,bN,bO);break}case'shapeIDFilledTimes':{this.$s(L,bK,bL,bM,bN,bO);break}case'shapeIDDiamond':{this.$i(L,bK,bL,bM,bN,bO);break}case'shapeIDFilledDiamond':{this.$l(L,bK,bL,bM,bN,bO);break}case'shapeIDTriangle':{this.$z(L,bK,bL,bM,bN,bO);break}case'shapeIDFilledTriangle':{this.$t(L,bK,bL,bM,bN,bO);break}case'shapeIDDownTriangle':{this.$j(L,bK,bL,bM,bN,bO);break}case'shapeIDFilledDownTriangle':{this.$m(L,bK,bL,bM,bN,bO);break}case'shapeIDLeftTriangle':{this.$u(L,bK,bL,bM,bN,bO);break}case'shapeIDFilledLeftTriangle':{this.$n(L,bK,bL,bM,bN,bO);break}case'shapeIDRightTriangle':{this.$w(L,bK,bL,bM,bN,bO);break}case'shapeIDFilledRightTriangle':{this.$p(L,bK,bL,bM,bN,bO);break}case'shapeIDFilledStar':{this.$r(L,bK,bL,bM,bN,bO);break}default:{X.$a(this.get_currentContext(),L,bM,bN,bO);break}}if(bQ){this.get_currentContext().restore()}},$h:function(L,bK,bL,bM,bN,bO){switch(bN){case'normalUnder':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+bK,0+bL,L.c.get('size').gv(bM)*0.958333333333333,L.c.get('halo_color').gv(bM)[bO],4)}break}case'normalOn':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+bK,0+bL,L.c.get('size').gv(bM)*0.958333333333333,L.getMarkColors(bM)[bO],2)}break}case'selectedUnder':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+bK,0+bL,L.c.get('size').gv(bM)*0.958333333333333,L.c.get('selected_halo_color').gv(bM)[bO],4)}break}default:{break}}},$k:function(L,bK,bL,bM,bN,bO){switch(bN){case'normalUnder':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+bK,0+bL,L.c.get('size').gv(bM)*0.979166666666667,L.c.get('halo_color').gv(bM)[bO],4)}break}case'normalOn':{{{tab.CanvasRenderer.renderFilledCircle(this.get_currentContext(),0+bK,0+bL,L.c.get('size').gv(bM)*0.979166666666667,L.getMarkColors(bM)[bO])}}break}case'selectedUnder':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+bK,0+bL,L.c.get('size').gv(bM)*0.979166666666667,L.c.get('selected_halo_color').gv(bM)[bO],4)}break}case'border':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+bK,0+bL,L.c.get('size').gv(bM)*0.979166666666667,L.c.get('border_color').gv(bM)[bO],1)}break}default:{break}}},$A:function(L,bK,bL,bM,bN,bO){switch(bN){case'normalUnder':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+bK,0+bL,L.c.get('size').gv(bM),L.c.get('halo_color').gv(bM)[bO],4)}break}case'normalOn':{{{tab.CanvasRenderer.renderFilledCircle(this.get_currentContext(),0+bK,0+bL,L.c.get('size').gv(bM),L.getMarkColors(bM)[bO])}}break}case'selectedUnder':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+bK,0+bL,L.c.get('size').gv(bM),L.c.get('selected_halo_color').gv(bM)[bO],4)}break}case'border':{{tab.CanvasRenderer.renderCircle(this.get_currentContext(),0+bK,0+bL,L.c.get('size').gv(bM),L.c.get('border_color').gv(bM)[bO],1)}break}default:{break}}},$x:function(L,bK,bL,bM,bN,bO){switch(bN){case'normalUnder':{{tab.CanvasRenderer.renderRectangle(this.get_currentContext(),bK+0,bL+0,L.c.get('size').gv(bM)*0.895833333333333,L.c.get('size').gv(bM)*0.895833333333333,L.c.get('halo_color').gv(bM)[bO],4)}break}case'normalOn':{{tab.CanvasRenderer.renderRectangle(this.get_currentContext(),bK+0,bL+0,L.c.get('size').gv(bM)*0.895833333333333,L.c.get('size').gv(bM)*0.895833333333333,L.getMarkColors(bM)[bO],2)}break}case'selectedUnder':{{tab.CanvasRenderer.renderRectangle(this.get_currentContext(),bK+0,bL+0,L.c.get('size').gv(bM)*0.895833333333333,L.c.get('size').gv(bM)*0.895833333333333,L.c.get('selected_halo_color').gv(bM)[bO],4)}break}default:{break}}},$q:function(L,bK,bL,bM,bN,bO){switch(bN){case'normalUnder':{{tab.CanvasRenderer.renderRectangle(this.get_currentContext(),bK+0,bL+0,L.c.get('size').gv(bM)*0.9375,L.c.get('size').gv(bM)*0.9375,L.c.get('halo_color').gv(bM)[bO],4)}break}case'normalOn':{{this.renderFilledRectangle(bK+0,bL+0,L.c.get('size').gv(bM)*0.9375,L.c.get('size').gv(bM)*0.9375,L.getMarkColors(bM)[bO])}break}case'selectedUnder':{{tab.CanvasRenderer.renderRectangle(this.get_currentContext(),bK+0,bL+0,L.c.get('size').gv(bM)*0.9375,L.c.get('size').gv(bM)*0.9375,L.c.get('selected_halo_color').gv(bM)[bO],4)}break}case'border':{{tab.CanvasRenderer.renderRectangle(this.get_currentContext(),bK+0,bL+0,L.c.get('size').gv(bM)*0.9375,L.c.get('size').gv(bM)*0.9375,L.c.get('border_color').gv(bM)[bO],1)}break}default:{break}}},$g:function(L,bK,bL,bM,bN,bO){switch(bN){case'normalUnder':{var bP=L.c.get('size').gv(bM)*0.958333333333333/2;var bQ=0.899999976158142*bP;var bR=L.c.get('size').gv(bM)*0.958333333333333/4;{{this.get_currentContext().set_lineCap('square');var bS=bK;var bT=bL;var bU=new Array(4);bU[0]=bS+0;bU[1]=bT+-bP;bU[2]=bS+0;bU[3]=bT+bP;this.$d(bU,4,L.c.get('halo_color').gv(bM)[bO],true)}}{{this.get_currentContext().set_lineCap('square');var bV=bK;var bW=bL;var bX=new Array(4);bX[0]=bV+-bQ;bX[1]=bW+-bR;bX[2]=bV+bQ;bX[3]=bW+bR;this.$d(bX,4,L.c.get('halo_color').gv(bM)[bO],true)}}{{this.get_currentContext().set_lineCap('square');var bY=bK;var bZ=bL;var ca=new Array(4);ca[0]=bY+bQ;ca[1]=bZ+-bR;ca[2]=bY+-bQ;ca[3]=bZ+bR;this.$d(ca,4,L.c.get('halo_color').gv(bM)[bO],true)}}break}case'normalOn':{var cb=L.c.get('size').gv(bM)*0.958333333333333/2;var cc=0.899999976158142*cb;var cd=L.c.get('size').gv(bM)*0.958333333333333/4;{{this.get_currentContext().set_lineCap('square');var ce=bK;var cf=bL;var cg=new Array(4);cg[0]=ce+0;cg[1]=cf+-cb;cg[2]=ce+0;cg[3]=cf+cb;this.$d(cg,2,L.getMarkColors(bM)[bO],true)}}{{this.get_currentContext().set_lineCap('square');var ch=bK;var ci=bL;var cj=new Array(4);cj[0]=ch+-cc;cj[1]=ci+-cd;cj[2]=ch+cc;cj[3]=ci+cd;this.$d(cj,2,L.getMarkColors(bM)[bO],true)}}{{this.get_currentContext().set_lineCap('square');var ck=bK;var cl=bL;var cm=new Array(4);cm[0]=ck+cc;cm[1]=cl+-cd;cm[2]=ck+-cc;cm[3]=cl+cd;this.$d(cm,2,L.getMarkColors(bM)[bO],true)}}break}case'selectedUnder':{var cn=L.c.get('size').gv(bM)*0.958333333333333/2;var co=0.899999976158142*cn;var cp=L.c.get('size').gv(bM)*0.958333333333333/4;{{this.get_currentContext().set_lineCap('square');var cq=bK;var cr=bL;var cs=new Array(4);cs[0]=cq+0;cs[1]=cr+-cn;cs[2]=cq+0;cs[3]=cr+cn;this.$d(cs,4,L.c.get('selected_halo_color').gv(bM)[bO],true)}}{{this.get_currentContext().set_lineCap('square');var ct=bK;var cu=bL;var cv=new Array(4);cv[0]=ct+-co;cv[1]=cu+-cp;cv[2]=ct+co;cv[3]=cu+cp;this.$d(cv,4,L.c.get('selected_halo_color').gv(bM)[bO],true)}}{{this.get_currentContext().set_lineCap('square');var cw=bK;var cx=bL;var cy=new Array(4);cy[0]=cw+co;cy[1]=cx+-cp;cy[2]=cw+-co;cy[3]=cx+cp;this.$d(cy,4,L.c.get('selected_halo_color').gv(bM)[bO],true)}}break}default:{break}}},$v:function(L,bK,bL,bM,bN,bO){switch(bN){case'normalUnder':{var bP=L.c.get('size').gv(bM)*0.916666666666667/2;{{this.get_currentContext().set_lineCap('square');var bQ=bK;var bR=bL;var bS=new Array(4);bS[0]=bQ+0;bS[1]=bR+-bP;bS[2]=bQ+0;bS[3]=bR+bP;this.$d(bS,4,L.c.get('halo_color').gv(bM)[bO],true)}}{{this.get_currentContext().set_lineCap('square');var bT=bK;var bU=bL;var bV=new Array(4);bV[0]=bT+-bP;bV[1]=bU+0;bV[2]=bT+bP;bV[3]=bU+0;this.$d(bV,4,L.c.get('halo_color').gv(bM)[bO],true)}}break}case'normalOn':{var bW=L.c.get('size').gv(bM)*0.916666666666667/2;{{this.get_currentContext().set_lineCap('square');var bX=bK;var bY=bL;var bZ=new Array(4);bZ[0]=bX+0;bZ[1]=bY+-bW;bZ[2]=bX+0;bZ[3]=bY+bW;this.$d(bZ,2,L.getMarkColors(bM)[bO],true)}}{{this.get_currentContext().set_lineCap('square');var ca=bK;var cb=bL;var cc=new Array(4);cc[0]=ca+-bW;cc[1]=cb+0;cc[2]=ca+bW;cc[3]=cb+0;this.$d(cc,2,L.getMarkColors(bM)[bO],true)}}break}case'selectedUnder':{var cd=L.c.get('size').gv(bM)*0.916666666666667/2;{{this.get_currentContext().set_lineCap('square');var ce=bK;var cf=bL;var cg=new Array(4);cg[0]=ce+0;cg[1]=cf+-cd;cg[2]=ce+0;cg[3]=cf+cd;this.$d(cg,4,L.c.get('selected_halo_color').gv(bM)[bO],true)}}{{this.get_currentContext().set_lineCap('square');var ch=bK;var ci=bL;var cj=new Array(4);cj[0]=ch+-cd;cj[1]=ci+0;cj[2]=ch+cd;cj[3]=ci+0;this.$d(cj,4,L.c.get('selected_halo_color').gv(bM)[bO],true)}}break}default:{break}}},$o:function(L,bK,bL,bM,bN,bO){switch(bN){case'normalUnder':{var bP=L.c.get('size').gv(bM)*0.9375/2;var bQ=bP/3;{{var bR=bK;var bS=bL;var bT=new Array(24);bT[0]=bR+-bQ;bT[1]=bS+-bP;bT[2]=bR+-bQ;bT[3]=bS+-bQ;bT[4]=bR+-bP;bT[5]=bS+-bQ;bT[6]=bR+-bP;bT[7]=bS+bQ;bT[8]=bR+-bQ;bT[9]=bS+bQ;bT[10]=bR+-bQ;bT[11]=bS+bP;bT[12]=bR+bQ;bT[13]=bS+bP;bT[14]=bR+bQ;bT[15]=bS+bQ;bT[16]=bR+bP;bT[17]=bS+bQ;bT[18]=bR+bP;bT[19]=bS+-bQ;bT[20]=bR+bQ;bT[21]=bS+-bQ;bT[22]=bR+bQ;bT[23]=bS+-bP;this.get_currentContext().set_lineJoin('miter');this.$f(bT,4,L.c.get('halo_color').gv(bM)[bO])}}break}case'normalOn':{var bU=L.c.get('size').gv(bM)*0.9375/2;var bV=bU/3;{{var bW=bK;var bX=bL;var bY=new Array(24);bY[0]=bW+-bV;bY[1]=bX+-bU;bY[2]=bW+-bV;bY[3]=bX+-bV;bY[4]=bW+-bU;bY[5]=bX+-bV;bY[6]=bW+-bU;bY[7]=bX+bV;bY[8]=bW+-bV;bY[9]=bX+bV;bY[10]=bW+-bV;bY[11]=bX+bU;bY[12]=bW+bV;bY[13]=bX+bU;bY[14]=bW+bV;bY[15]=bX+bV;bY[16]=bW+bU;bY[17]=bX+bV;bY[18]=bW+bU;bY[19]=bX+-bV;bY[20]=bW+bV;bY[21]=bX+-bV;bY[22]=bW+bV;bY[23]=bX+-bU;this.$c(bY,L.getMarkColors(bM)[bO])}}break}case'selectedUnder':{var bZ=L.c.get('size').gv(bM)*0.9375/2;var ca=bZ/3;{{var cb=bK;var cc=bL;var cd=new Array(24);cd[0]=cb+-ca;cd[1]=cc+-bZ;cd[2]=cb+-ca;cd[3]=cc+-ca;cd[4]=cb+-bZ;cd[5]=cc+-ca;cd[6]=cb+-bZ;cd[7]=cc+ca;cd[8]=cb+-ca;cd[9]=cc+ca;cd[10]=cb+-ca;cd[11]=cc+bZ;cd[12]=cb+ca;cd[13]=cc+bZ;cd[14]=cb+ca;cd[15]=cc+ca;cd[16]=cb+bZ;cd[17]=cc+ca;cd[18]=cb+bZ;cd[19]=cc+-ca;cd[20]=cb+ca;cd[21]=cc+-ca;cd[22]=cb+ca;cd[23]=cc+-bZ;this.get_currentContext().set_lineJoin('miter');this.$f(cd,4,L.c.get('selected_halo_color').gv(bM)[bO])}}break}default:{break}}},$y:function(L,bK,bL,bM,bN,bO){switch(bN){case'normalUnder':{var bP=L.c.get('size').gv(bM)*0.875/2;{{this.get_currentContext().set_lineCap('square');var bQ=bK;var bR=bL;var bS=new Array(4);bS[0]=bQ+-bP;bS[1]=bR+-bP;bS[2]=bQ+bP;bS[3]=bR+bP;this.$d(bS,4,L.c.get('halo_color').gv(bM)[bO],true)}}{{this.get_currentContext().set_lineCap('square');var bT=bK;var bU=bL;var bV=new Array(4);bV[0]=bT+-bP;bV[1]=bU+bP;bV[2]=bT+bP;bV[3]=bU+-bP;this.$d(bV,4,L.c.get('halo_color').gv(bM)[bO],true)}}break}case'normalOn':{var bW=L.c.get('size').gv(bM)*0.875/2;{{this.get_currentContext().set_lineCap('square');var bX=bK;var bY=bL;var bZ=new Array(4);bZ[0]=bX+-bW;bZ[1]=bY+-bW;bZ[2]=bX+bW;bZ[3]=bY+bW;this.$d(bZ,2,L.getMarkColors(bM)[bO],true)}}{{this.get_currentContext().set_lineCap('square');var ca=bK;var cb=bL;var cc=new Array(4);cc[0]=ca+-bW;cc[1]=cb+bW;cc[2]=ca+bW;cc[3]=cb+-bW;this.$d(cc,2,L.getMarkColors(bM)[bO],true)}}break}case'selectedUnder':{var cd=L.c.get('size').gv(bM)*0.875/2;{{this.get_currentContext().set_lineCap('square');var ce=bK;var cf=bL;var cg=new Array(4);cg[0]=ce+-cd;cg[1]=cf+-cd;cg[2]=ce+cd;cg[3]=cf+cd;this.$d(cg,4,L.c.get('selected_halo_color').gv(bM)[bO],true)}}{{this.get_currentContext().set_lineCap('square');var ch=bK;var ci=bL;var cj=new Array(4);cj[0]=ch+-cd;cj[1]=ci+cd;cj[2]=ch+cd;cj[3]=ci+-cd;this.$d(cj,4,L.c.get('selected_halo_color').gv(bM)[bO],true)}}break}default:{break}}},$s:function(L,bK,bL,bM,bN,bO){switch(bN){case'normalUnder':{var bP=L.c.get('size').gv(bM)*0.9375/2;var bQ=L.c.get('size').gv(bM)*0.9375/4;{{var bR=bK;var bS=bL;var bT=new Array(24);bT[0]=bR+-bQ;bT[1]=bS+-bP;bT[2]=bR+-bP;bT[3]=bS+-bQ;bT[4]=bR+-bQ;bT[5]=bS+0;bT[6]=bR+-bP;bT[7]=bS+bQ;bT[8]=bR+-bQ;bT[9]=bS+bP;bT[10]=bR+0;bT[11]=bS+bQ;bT[12]=bR+bQ;bT[13]=bS+bP;bT[14]=bR+bP;bT[15]=bS+bQ;bT[16]=bR+bQ;bT[17]=bS+0;bT[18]=bR+bP;bT[19]=bS+-bQ;bT[20]=bR+bQ;bT[21]=bS+-bP;bT[22]=bR+0;bT[23]=bS+-bQ;this.get_currentContext().set_lineJoin('miter');this.$f(bT,4,L.c.get('halo_color').gv(bM)[bO])}}break}case'normalOn':{var bU=L.c.get('size').gv(bM)*0.9375/2;var bV=L.c.get('size').gv(bM)*0.9375/4;{{var bW=bK;var bX=bL;var bY=new Array(24);bY[0]=bW+-bV;bY[1]=bX+-bU;bY[2]=bW+-bU;bY[3]=bX+-bV;bY[4]=bW+-bV;bY[5]=bX+0;bY[6]=bW+-bU;bY[7]=bX+bV;bY[8]=bW+-bV;bY[9]=bX+bU;bY[10]=bW+0;bY[11]=bX+bV;bY[12]=bW+bV;bY[13]=bX+bU;bY[14]=bW+bU;bY[15]=bX+bV;bY[16]=bW+bV;bY[17]=bX+0;bY[18]=bW+bU;bY[19]=bX+-bV;bY[20]=bW+bV;bY[21]=bX+-bU;bY[22]=bW+0;bY[23]=bX+-bV;this.$c(bY,L.getMarkColors(bM)[bO])}}break}case'selectedUnder':{var bZ=L.c.get('size').gv(bM)*0.9375/2;var ca=L.c.get('size').gv(bM)*0.9375/4;{{var cb=bK;var cc=bL;var cd=new Array(24);cd[0]=cb+-ca;cd[1]=cc+-bZ;cd[2]=cb+-bZ;cd[3]=cc+-ca;cd[4]=cb+-ca;cd[5]=cc+0;cd[6]=cb+-bZ;cd[7]=cc+ca;cd[8]=cb+-ca;cd[9]=cc+bZ;cd[10]=cb+0;cd[11]=cc+ca;cd[12]=cb+ca;cd[13]=cc+bZ;cd[14]=cb+bZ;cd[15]=cc+ca;cd[16]=cb+ca;cd[17]=cc+0;cd[18]=cb+bZ;cd[19]=cc+-ca;cd[20]=cb+ca;cd[21]=cc+-bZ;cd[22]=cb+0;cd[23]=cc+-ca;this.get_currentContext().set_lineJoin('miter');this.$f(cd,4,L.c.get('selected_halo_color').gv(bM)[bO])}}break}default:{break}}},$i:function(L,bK,bL,bM,bN,bO){switch(bN){case'normalUnder':{var bP=L.c.get('size').gv(bM)*1.04166666666667/2;{{var bQ=bK;var bR=bL;var bS=new Array(8);bS[0]=bQ+0;bS[1]=bR+-bP;bS[2]=bQ+-bP;bS[3]=bR+0;bS[4]=bQ+0;bS[5]=bR+bP;bS[6]=bQ+bP;bS[7]=bR+0;this.get_currentContext().set_lineJoin('miter');this.$f(bS,4,L.c.get('halo_color').gv(bM)[bO])}}break}case'normalOn':{var bT=L.c.get('size').gv(bM)*1.04166666666667/2;{{var bU=bK;var bV=bL;var bW=new Array(8);bW[0]=bU+0;bW[1]=bV+-bT;bW[2]=bU+-bT;bW[3]=bV+0;bW[4]=bU+0;bW[5]=bV+bT;bW[6]=bU+bT;bW[7]=bV+0;this.get_currentContext().set_lineJoin('miter');this.$f(bW,2,L.getMarkColors(bM)[bO])}}break}case'selectedUnder':{var bX=L.c.get('size').gv(bM)*1.04166666666667/2;{{var bY=bK;var bZ=bL;var ca=new Array(8);ca[0]=bY+0;ca[1]=bZ+-bX;ca[2]=bY+-bX;ca[3]=bZ+0;ca[4]=bY+0;ca[5]=bZ+bX;ca[6]=bY+bX;ca[7]=bZ+0;this.get_currentContext().set_lineJoin('miter');this.$f(ca,4,L.c.get('selected_halo_color').gv(bM)[bO])}}break}default:{break}}},$l:function(L,bK,bL,bM,bN,bO){switch(bN){case'normalUnder':{var bP=L.c.get('size').gv(bM)*1.04166666666667/2;{{var bQ=bK;var bR=bL;var bS=new Array(8);bS[0]=bQ+0;bS[1]=bR+-bP;bS[2]=bQ+-bP;bS[3]=bR+0;bS[4]=bQ+0;bS[5]=bR+bP;bS[6]=bQ+bP;bS[7]=bR+0;this.get_currentContext().set_lineJoin('miter');this.$f(bS,4,L.c.get('halo_color').gv(bM)[bO])}}break}case'normalOn':{var bT=L.c.get('size').gv(bM)*1.04166666666667/2;{{var bU=bK;var bV=bL;var bW=new Array(8);bW[0]=bU+0;bW[1]=bV+-bT;bW[2]=bU+-bT;bW[3]=bV+0;bW[4]=bU+0;bW[5]=bV+bT;bW[6]=bU+bT;bW[7]=bV+0;this.$c(bW,L.getMarkColors(bM)[bO])}}break}case'selectedUnder':{var bX=L.c.get('size').gv(bM)*1.04166666666667/2;{{var bY=bK;var bZ=bL;var ca=new Array(8);ca[0]=bY+0;ca[1]=bZ+-bX;ca[2]=bY+-bX;ca[3]=bZ+0;ca[4]=bY+0;ca[5]=bZ+bX;ca[6]=bY+bX;ca[7]=bZ+0;this.get_currentContext().set_lineJoin('miter');this.$f(ca,4,L.c.get('selected_halo_color').gv(bM)[bO])}}break}default:{break}}},$z:function(L,bK,bL,bM,bN,bO){switch(bN){case'normalUnder':{var bP=L.c.get('size').gv(bM)*0.895833333333333/2;{{var bQ=bK;var bR=bL;var bS=new Array(6);bS[0]=bQ+0;bS[1]=bR+-bP;bS[2]=bQ+-bP;bS[3]=bR+bP;bS[4]=bQ+bP;bS[5]=bR+bP;this.get_currentContext().set_lineJoin('miter');this.$f(bS,4,L.c.get('halo_color').gv(bM)[bO])}}break}case'normalOn':{var bT=L.c.get('size').gv(bM)*0.895833333333333/2;{{var bU=bK;var bV=bL;var bW=new Array(6);bW[0]=bU+0;bW[1]=bV+-bT;bW[2]=bU+-bT;bW[3]=bV+bT;bW[4]=bU+bT;bW[5]=bV+bT;this.get_currentContext().set_lineJoin('miter');this.$f(bW,2,L.getMarkColors(bM)[bO])}}break}case'selectedUnder':{var bX=L.c.get('size').gv(bM)*0.895833333333333/2;{{var bY=bK;var bZ=bL;var ca=new Array(6);ca[0]=bY+0;ca[1]=bZ+-bX;ca[2]=bY+-bX;ca[3]=bZ+bX;ca[4]=bY+bX;ca[5]=bZ+bX;this.get_currentContext().set_lineJoin('miter');this.$f(ca,4,L.c.get('selected_halo_color').gv(bM)[bO])}}break}default:{break}}},$t:function(L,bK,bL,bM,bN,bO){switch(bN){case'normalUnder':{var bP=L.c.get('size').gv(bM)*0.916666666666667/2;{{var bQ=bK;var bR=bL;var bS=new Array(6);bS[0]=bQ+0;bS[1]=bR+-bP;bS[2]=bQ+-bP;bS[3]=bR+bP;bS[4]=bQ+bP;bS[5]=bR+bP;this.get_currentContext().set_lineJoin('miter');this.$f(bS,4,L.c.get('halo_color').gv(bM)[bO])}}break}case'normalOn':{var bT=L.c.get('size').gv(bM)*0.916666666666667/2;{{var bU=bK;var bV=bL;var bW=new Array(6);bW[0]=bU+0;bW[1]=bV+-bT;bW[2]=bU+-bT;bW[3]=bV+bT;bW[4]=bU+bT;bW[5]=bV+bT;this.$c(bW,L.getMarkColors(bM)[bO])}}break}case'selectedUnder':{var bX=L.c.get('size').gv(bM)*0.916666666666667/2;{{var bY=bK;var bZ=bL;var ca=new Array(6);ca[0]=bY+0;ca[1]=bZ+-bX;ca[2]=bY+-bX;ca[3]=bZ+bX;ca[4]=bY+bX;ca[5]=bZ+bX;this.get_currentContext().set_lineJoin('miter');this.$f(ca,4,L.c.get('selected_halo_color').gv(bM)[bO])}}break}default:{break}}},$j:function(L,bK,bL,bM,bN,bO){switch(bN){case'normalUnder':{var bP=L.c.get('size').gv(bM)*0.895833333333333/2;{{var bQ=bK;var bR=bL;var bS=new Array(6);bS[0]=bQ+0;bS[1]=bR+bP;bS[2]=bQ+-bP;bS[3]=bR+-bP;bS[4]=bQ+bP;bS[5]=bR+-bP;this.get_currentContext().set_lineJoin('miter');this.$f(bS,4,L.c.get('halo_color').gv(bM)[bO])}}break}case'normalOn':{var bT=L.c.get('size').gv(bM)*0.895833333333333/2;{{var bU=bK;var bV=bL;var bW=new Array(6);bW[0]=bU+0;bW[1]=bV+bT;bW[2]=bU+-bT;bW[3]=bV+-bT;bW[4]=bU+bT;bW[5]=bV+-bT;this.get_currentContext().set_lineJoin('miter');this.$f(bW,2,L.getMarkColors(bM)[bO])}}break}case'selectedUnder':{var bX=L.c.get('size').gv(bM)*0.895833333333333/2;{{var bY=bK;var bZ=bL;var ca=new Array(6);ca[0]=bY+0;ca[1]=bZ+bX;ca[2]=bY+-bX;ca[3]=bZ+-bX;ca[4]=bY+bX;ca[5]=bZ+-bX;this.get_currentContext().set_lineJoin('miter');this.$f(ca,4,L.c.get('selected_halo_color').gv(bM)[bO])}}break}default:{break}}},$m:function(L,bK,bL,bM,bN,bO){switch(bN){case'normalUnder':{var bP=L.c.get('size').gv(bM)*0.916666666666667/2;{{var bQ=bK;var bR=bL;var bS=new Array(6);bS[0]=bQ+0;bS[1]=bR+bP;bS[2]=bQ+-bP;bS[3]=bR+-bP;bS[4]=bQ+bP;bS[5]=bR+-bP;this.get_currentContext().set_lineJoin('miter');this.$f(bS,4,L.c.get('halo_color').gv(bM)[bO])}}break}case'normalOn':{var bT=L.c.get('size').gv(bM)*0.916666666666667/2;{{var bU=bK;var bV=bL;var bW=new Array(6);bW[0]=bU+0;bW[1]=bV+bT;bW[2]=bU+-bT;bW[3]=bV+-bT;bW[4]=bU+bT;bW[5]=bV+-bT;this.$c(bW,L.getMarkColors(bM)[bO])}}break}case'selectedUnder':{var bX=L.c.get('size').gv(bM)*0.916666666666667/2;{{var bY=bK;var bZ=bL;var ca=new Array(6);ca[0]=bY+0;ca[1]=bZ+L.c.get('size').gv(bM)*0.916666666666667/2;ca[2]=bY+-bX;ca[3]=bZ+-bX;ca[4]=bY+bX;ca[5]=bZ+-bX;this.get_currentContext().set_lineJoin('miter');this.$f(ca,4,L.c.get('selected_halo_color').gv(bM)[bO])}}break}default:{break}}},$u:function(L,bK,bL,bM,bN,bO){switch(bN){case'normalUnder':{var bP=L.c.get('size').gv(bM)*0.895833333333333/2;{{var bQ=bK;var bR=bL;var bS=new Array(6);bS[0]=bQ+-bP;bS[1]=bR+0;bS[2]=bQ+bP;bS[3]=bR+-bP;bS[4]=bQ+bP;bS[5]=bR+bP;this.get_currentContext().set_lineJoin('miter');this.$f(bS,4,L.c.get('halo_color').gv(bM)[bO])}}break}case'normalOn':{var bT=L.c.get('size').gv(bM)*0.895833333333333/2;{{var bU=bK;var bV=bL;var bW=new Array(6);bW[0]=bU+-bT;bW[1]=bV+0;bW[2]=bU+bT;bW[3]=bV+-bT;bW[4]=bU+bT;bW[5]=bV+bT;this.get_currentContext().set_lineJoin('miter');this.$f(bW,2,L.getMarkColors(bM)[bO])}}break}case'selectedUnder':{var bX=L.c.get('size').gv(bM)*0.895833333333333/2;{{var bY=bK;var bZ=bL;var ca=new Array(6);ca[0]=bY+-bX;ca[1]=bZ+0;ca[2]=bY+bX;ca[3]=bZ+-bX;ca[4]=bY+bX;ca[5]=bZ+bX;this.get_currentContext().set_lineJoin('miter');this.$f(ca,4,L.c.get('selected_halo_color').gv(bM)[bO])}}break}default:{break}}},$n:function(L,bK,bL,bM,bN,bO){switch(bN){case'normalUnder':{var bP=L.c.get('size').gv(bM)*0.916666666666667/2;{{var bQ=bK;var bR=bL;var bS=new Array(6);bS[0]=bQ+-bP;bS[1]=bR+0;bS[2]=bQ+bP;bS[3]=bR+-bP;bS[4]=bQ+bP;bS[5]=bR+bP;this.get_currentContext().set_lineJoin('miter');this.$f(bS,4,L.c.get('halo_color').gv(bM)[bO])}}break}case'normalOn':{var bT=L.c.get('size').gv(bM)*0.916666666666667/2;{{var bU=bK;var bV=bL;var bW=new Array(6);bW[0]=bU+-bT;bW[1]=bV+0;bW[2]=bU+bT;bW[3]=bV+-bT;bW[4]=bU+bT;bW[5]=bV+bT;this.$c(bW,L.getMarkColors(bM)[bO])}}break}case'selectedUnder':{var bX=L.c.get('size').gv(bM)*0.916666666666667/2;{{var bY=bK;var bZ=bL;var ca=new Array(6);ca[0]=bY+-bX;ca[1]=bZ+0;ca[2]=bY+bX;ca[3]=bZ+-bX;ca[4]=bY+bX;ca[5]=bZ+bX;this.get_currentContext().set_lineJoin('miter');this.$f(ca,4,L.c.get('selected_halo_color').gv(bM)[bO])}}break}default:{break}}},$w:function(L,bK,bL,bM,bN,bO){switch(bN){case'normalUnder':{var bP=L.c.get('size').gv(bM)*0.895833333333333/2;{{var bQ=bK;var bR=bL;var bS=new Array(6);bS[0]=bQ+-bP;bS[1]=bR+-bP;bS[2]=bQ+-bP;bS[3]=bR+bP;bS[4]=bQ+bP;bS[5]=bR+0;this.get_currentContext().set_lineJoin('miter');this.$f(bS,4,L.c.get('halo_color').gv(bM)[bO])}}break}case'normalOn':{var bT=L.c.get('size').gv(bM)*0.895833333333333/2;{{var bU=bK;var bV=bL;var bW=new Array(6);bW[0]=bU+-bT;bW[1]=bV+-bT;bW[2]=bU+-bT;bW[3]=bV+bT;bW[4]=bU+bT;bW[5]=bV+0;this.get_currentContext().set_lineJoin('miter');this.$f(bW,2,L.getMarkColors(bM)[bO])}}break}case'selectedUnder':{var bX=L.c.get('size').gv(bM)*0.895833333333333/2;{{var bY=bK;var bZ=bL;var ca=new Array(6);ca[0]=bY+-bX;ca[1]=bZ+-bX;ca[2]=bY+-bX;ca[3]=bZ+bX;ca[4]=bY+bX;ca[5]=bZ+0;this.get_currentContext().set_lineJoin('miter');this.$f(ca,4,L.c.get('selected_halo_color').gv(bM)[bO])}}break}default:{break}}},$p:function(L,bK,bL,bM,bN,bO){switch(bN){case'normalUnder':{var bP=L.c.get('size').gv(bM)*0.916666666666667/2;{{var bQ=bK;var bR=bL;var bS=new Array(6);bS[0]=bQ+-bP;bS[1]=bR+-bP;bS[2]=bQ+-bP;bS[3]=bR+bP;bS[4]=bQ+bP;bS[5]=bR+0;this.get_currentContext().set_lineJoin('miter');this.$f(bS,4,L.c.get('halo_color').gv(bM)[bO])}}break}case'normalOn':{var bT=L.c.get('size').gv(bM)*0.916666666666667/2;{{var bU=bK;var bV=bL;var bW=new Array(6);bW[0]=bU+-bT;bW[1]=bV+-bT;bW[2]=bU+-bT;bW[3]=bV+bT;bW[4]=bU+bT;bW[5]=bV+0;this.$c(bW,L.getMarkColors(bM)[bO])}}break}case'selectedUnder':{var bX=L.c.get('size').gv(bM)*0.916666666666667/2;{{var bY=bK;var bZ=bL;var ca=new Array(6);ca[0]=bY+-bX;ca[1]=bZ+-bX;ca[2]=bY+-bX;ca[3]=bZ+bX;ca[4]=bY+bX;ca[5]=bZ+0;this.get_currentContext().set_lineJoin('miter');this.$f(ca,4,L.c.get('selected_halo_color').gv(bM)[bO])}}break}default:{break}}},$r:function(L,bK,bL,bM,bN,bO){switch(bN){case'normalUnder':{var bP=L.c.get('size').gv(bM)*1.09166666666667;var bQ=bP/2;var bR=bP*0.3877;{{var bS=bK;var bT=bL;var bU=new Array(20);bU[0]=bS+0;bU[1]=bT+(-bQ+bP*0.0246);bU[2]=bS+(-bQ+bP*0.3817);bU[3]=bT+(-bQ+bR);bU[4]=bS+-bQ;bU[5]=bT+(-bQ+bR);bU[6]=bS+(-bQ+bP*0.3088);bU[7]=bT+(-bQ+bP*0.612);bU[8]=bS+(-bQ+bP*0.1909);bU[9]=bT+(-bQ+bP*0.9751);bU[10]=bS+0;bU[11]=bT+(-bQ+bP*0.7507);bU[12]=bS+(-bQ+bP*0.8085);bU[13]=bT+(-bQ+bP*0.9751);bU[14]=bS+(-bQ+bP*0.6905);bU[15]=bT+(-bQ+bP*0.612);bU[16]=bS+bQ;bU[17]=bT+(-bQ+bR);bU[18]=bS+(-bQ+bP*0.6176);bU[19]=bT+(-bQ+bR);this.get_currentContext().set_lineJoin('miter');this.$f(bU,4,L.c.get('halo_color').gv(bM)[bO])}}break}case'normalOn':{var bV=L.c.get('size').gv(bM)*1.09166666666667;var bW=bV/2;var bX=bV*0.3877;{{var bY=bK;var bZ=bL;var ca=new Array(20);ca[0]=bY+0;ca[1]=bZ+(-bW+bV*0.0246);ca[2]=bY+(-bW+bV*0.3817);ca[3]=bZ+(-bW+bX);ca[4]=bY+-bW;ca[5]=bZ+(-bW+bX);ca[6]=bY+(-bW+bV*0.3088);ca[7]=bZ+(-bW+bV*0.612);ca[8]=bY+(-bW+bV*0.1909);ca[9]=bZ+(-bW+bV*0.9751);ca[10]=bY+0;ca[11]=bZ+(-bW+bV*0.7507);ca[12]=bY+(-bW+bV*0.8085);ca[13]=bZ+(-bW+bV*0.9751);ca[14]=bY+(-bW+bV*0.6905);ca[15]=bZ+(-bW+bV*0.612);ca[16]=bY+bW;ca[17]=bZ+(-bW+bX);ca[18]=bY+(-bW+bV*0.6176);ca[19]=bZ+(-bW+bX);this.$c(ca,L.getMarkColors(bM)[bO])}}break}case'selectedUnder':{var cb=L.c.get('size').gv(bM)*1.09166666666667;var cc=cb/2;var cd=cb*0.3877;{{var ce=bK;var cf=bL;var cg=new Array(20);cg[0]=ce+0;cg[1]=cf+(-cc+cb*0.0246);cg[2]=ce+(-cc+cb*0.3817);cg[3]=cf+(-cc+cd);cg[4]=ce+-cc;cg[5]=cf+(-cc+cd);cg[6]=ce+(-cc+cb*0.3088);cg[7]=cf+(-cc+cb*0.612);cg[8]=ce+(-cc+cb*0.1909);cg[9]=cf+(-cc+cb*0.9751);cg[10]=ce+0;cg[11]=cf+(-cc+cb*0.7507);cg[12]=ce+(-cc+cb*0.8085);cg[13]=cf+(-cc+cb*0.9751);cg[14]=ce+(-cc+cb*0.6905);cg[15]=cf+(-cc+cb*0.612);cg[16]=ce+cc;cg[17]=cf+(-cc+cd);cg[18]=ce+(-cc+cb*0.6176);cg[19]=cf+(-cc+cd);this.get_currentContext().set_lineJoin('miter');this.$f(cg,4,L.c.get('selected_halo_color').gv(bM)[bO])}}break}default:{break}}},drawPredictionBandLayer:function(L,bK,bL,bM,bN,bO){switch(bL){case'normalUnder':{var bP=bN.qrgbColor;if(L.isTupleVisible(bN.tupleIds[bK])){if((bK===0||!L.isTupleVisible(bN.tupleIds[bK-1]))&&(bK+1>=bN.upperEnd.length||!L.isTupleVisible(bN.tupleIds[bK+1]))){var bQ=ss.Int32.div(bN.widths[bK],2)+2.5;if(bN.useYAxis){var bR=L.thisDomainToPixelY(bN.upperEnd[bK]);var bS=L.thisDomainToPixelY(bN.lowerEnd[bK]);var bT=L.thisDomainToPixelX(bN.oppositeAxis[bK]);{var bU=[bT-bQ,bR,bT-bQ,bS,bT+bQ,bS,bT+bQ,bR];this.$c(bU,L.getOneColorAlpha(bP,bM,bO))}}else{var bV=L.thisDomainToPixelX(bN.upperEnd[bK]);var bW=L.thisDomainToPixelX(bN.lowerEnd[bK]);var bX=L.thisDomainToPixelY(bN.oppositeAxis[bK]);{var bY=[bV,bX-bQ,bW,bX-bQ,bW,bX+bQ,bV,bX+bQ];this.$c(bY,L.getOneColorAlpha(bP,bM,bO))}}}else if(bK+1<bN.tupleIds.length&&L.isTupleVisible(bN.tupleIds[bK+1])){if(bN.useYAxis){var bZ=L.thisDomainToPixelY(bN.upperEnd[bK]);var ca=L.thisDomainToPixelY(bN.lowerEnd[bK]);var cb=L.thisDomainToPixelY(bN.upperEnd[bK+1]);var cc=L.thisDomainToPixelY(bN.lowerEnd[bK+1]);var cd=L.thisDomainToPixelX(bN.oppositeAxis[bK]);var ce=L.thisDomainToPixelX(bN.oppositeAxis[bK+1]);{var cf=[cd,ca,ce,cc,ce,cb,cd,bZ];this.$c(cf,L.getOneColorAlpha(bP,bM,bO))}}else{var cg=L.thisDomainToPixelX(bN.upperEnd[bK]);var ch=L.thisDomainToPixelX(bN.lowerEnd[bK]);var ci=L.thisDomainToPixelX(bN.upperEnd[bK+1]);var cj=L.thisDomainToPixelX(bN.lowerEnd[bK+1]);var ck=L.thisDomainToPixelY(bN.oppositeAxis[bK]);var cl=L.thisDomainToPixelY(bN.oppositeAxis[bK+1]);{var cm=[ch,ck,cj,cl,ci,cl,cg,ck];this.$c(cm,L.getOneColorAlpha(bP,bM,bO))}}}}break}}},renderPredictionBand:function(L,bK,bL,bM){var bN='colorOverrideNone';var bO=255;var bP=bL;var bQ=0;var bR=1;var bS=2;var bT=bQ;for(var bU=0;bU<bP.lineTupleIds.length;bU++){var bV=bP.lineTupleIds[bU];if(L.isTupleSelected(bV)){bT=bS;break}if(bT!==bR&&L.isTupleHighlighted(bV)){bT=bR}}if(bT!==bS){for(var bW=0;bW<bP.tupleIds.length;bW++){var bX=bP.tupleIds[bW];if(L.isTupleSelected(bX)){bT=bS;break}if(bT!==bR&&L.isTupleHighlighted(bX)){bT=bR}}}switch(bK){case'normalUnderPass':{if(bT===bQ&&bM==='underMark'){if(L.get_hasSelection()||L.get_hasBrushing()){bN='colorOverrideFog'}else{bN='colorOverrideNone'}var bY=bP.tupleIds.length;for(var bZ=0;bZ<bY;bZ++){this.drawPredictionBandLayer(L,bZ,'normalUnder',bN,bP,bO)}}break}case'highlightedUnderPass':{if(bT===bR&&bM==='underMark'){var ca=bP.tupleIds.length;for(var cb=0;cb<ca;cb++){if(L.isTupleHighlighted(bP.tupleIds[cb])&&((cb===0||!L.isTupleVisible(bP.tupleIds[cb-1]))&&(cb+1>=bP.upperEnd.length||!L.isTupleVisible(bP.tupleIds[cb+1]))||cb+1<bP.tupleIds.length&&L.isTupleVisible(bP.tupleIds[cb+1])&&L.isTupleHighlighted(bP.tupleIds[cb+1]))){bN='colorOverrideNone'}else{bN='colorOverrideFog'}this.drawPredictionBandLayer(L,cb,'normalUnder',bN,bP,bO)}}break}case'selectedUnderPass':{if(bT===bS&&bM==='underMark'){bN='colorOverrideReplaceAlpha';bO=76.5;var cc=bP.tupleIds.length;for(var cd=0;cd<cc;cd++){this.drawPredictionBandLayer(L,cd,'normalUnder',bN,bP,bO)}}break}}},drawPredictionWhiskerLayer:function(L,bK,bL,bM,bN,bO){switch(bL){case'border':{if(L.isTupleVisible(bN.tupleIds[bK])){var bP=ss.Int32.div(bN.widths[bK]-1,2);if(bN.useYAxis){var bQ=ss.Int32.trunc(L.thisDomainToPixelX(bN.oppositeAxis[bK]));var bR=ss.Int32.trunc(L.thisDomainToPixelY(bN.upperEnd[bK]));var bS=ss.Int32.trunc(L.thisDomainToPixelY(bN.lowerEnd[bK]));var bT=bR-0.5;var bU=bS+1.5;var bV=bQ-0.5-bP;var bW=bQ+1.5+bP;var bX=bR+1.5;var bY=bS-0.5;var bZ=bQ-0.5;var ca=bQ+1.5;{var cb=[bV,bT,bW,bT,bW,bX,ca,bX,ca,bY,bW,bY,bW,bU,bV,bU,bV,bY,bZ,bY,bZ,bX,bV,bX];this.renderLineLoop(cb,1,L.getOneColorAlpha(bN.qrgbColor,bM,bO))}}else{var cc=ss.Int32.trunc(L.thisDomainToPixelY(bN.oppositeAxis[bK]));var cd=ss.Int32.trunc(L.thisDomainToPixelX(bN.lowerEnd[bK]));var ce=ss.Int32.trunc(L.thisDomainToPixelX(bN.upperEnd[bK]));var cf=cc-0.5-bP;var cg=cc+1.5+bP;var ch=cd-0.5;var ci=ce+1.5;var cj=cc-0.5;var ck=cc+1.5;var cl=cd+1.5;var cm=ce-0.5;{var cn=[ch,cf,cl,cf,cl,cj,cm,cj,cm,cf,ci,cf,ci,cg,cm,cg,cm,ck,cl,ck,cl,cg,ch,cg];this.renderLineLoop(cn,1,L.getOneColorAlpha(bN.qrgbColor,bM,bO))}}}break}case'normalUnder':{if(L.isTupleVisible(bN.tupleIds[bK])){var co=ss.Int32.div(bN.widths[bK]-1,2);var cp=bN.qrgbColors[bK];if(bN.useYAxis){var cq=ss.Int32.trunc(L.thisDomainToPixelX(bN.oppositeAxis[bK]));var cr=ss.Int32.trunc(L.thisDomainToPixelY(bN.upperEnd[bK]));var cs=ss.Int32.trunc(L.thisDomainToPixelY(bN.lowerEnd[bK]));{var ct=[cq-co,cr+0.5,cq+co+1,cr+0.5];this.$d(ct,1,L.getOneColorAlpha(cp,bM,bO),false)}{var cu=[cq-co,cs+0.5,cq+co+1,cs+0.5];this.$d(cu,1,L.getOneColorAlpha(cp,bM,bO),false)}{var cv=[cq+0.5,cr+1,cq+0.5,cs];this.$d(cv,1,L.getOneColorAlpha(cp,bM,bO),false)}}else{var cw=ss.Int32.trunc(L.thisDomainToPixelY(bN.oppositeAxis[bK]));var cx=ss.Int32.trunc(L.thisDomainToPixelX(bN.lowerEnd[bK]));var cy=ss.Int32.trunc(L.thisDomainToPixelX(bN.upperEnd[bK]));{var cz=[cx+0.5,cw-co,cx+0.5,cw+co+1];this.$d(cz,1,L.getOneColorAlpha(cp,bM,bO),false)}{var cA=[cy+0.5,cw-co,cy+0.5,cw+co+1];this.$d(cA,1,L.getOneColorAlpha(cp,bM,bO),false)}{var cB=[cx+1,cw+0.5,cy,cw+0.5];this.$d(cB,1,L.getOneColorAlpha(cp,bM,bO),false)}}}break}}},renderPredictionWhisker:function(L,bK,bL,bM){var bN='colorOverrideNone';var bO=255;var bP=bL;switch(bK){case'normalUnderPass':{if(!bP.renderOnTop&&bM==='underMark'){if(L.get_hasSelection()||L.get_hasBrushing()){bN='colorOverrideFog'}else{bN='colorOverrideNone'}var bQ=bP.tupleIds.length;for(var bR=0;bR<bQ;bR++){if(!L.isTupleHighlighted(bP.tupleIds[bR])&&!L.isTupleSelected(bP.tupleIds[bR])){this.drawPredictionWhiskerLayer(L,bR,'border',bN,bP,bO);this.drawPredictionWhiskerLayer(L,bR,'normalUnder',bN,bP,bO)}}}break}case'normalOnPass':{if(bP.renderOnTop&&bM==='underLabel'){if(L.get_hasSelection()||L.get_hasBrushing()){bN='colorOverrideFog'}else{bN='colorOverrideNone'}var bS=bP.tupleIds.length;for(var bT=0;bT<bS;bT++){if(!L.isTupleHighlighted(bP.tupleIds[bT])&&!L.isTupleSelected(bP.tupleIds[bT])){this.drawPredictionWhiskerLayer(L,bT,'border',bN,bP,bO);this.drawPredictionWhiskerLayer(L,bT,'normalUnder',bN,bP,bO)}}}break}case'selectedUnderPass':{if(!bP.renderOnTop&&bM==='underMark'){var bU=bP.tupleIds.length;for(var bV=0;bV<bU;bV++){if(L.isTupleSelected(bP.tupleIds[bV])){bN='colorOverrideReplaceAlpha';bO=63.75;this.drawPredictionWhiskerLayer(L,bV,'border',bN,bP,bO);bN='colorOverrideReplaceAlpha';bO=bP.maxAlpha/255*255;this.drawPredictionWhiskerLayer(L,bV,'normalUnder',bN,bP,bO)}}}break}case'selectedOnPass':{if(bP.renderOnTop&&bM==='underLabel'){var bW=bP.tupleIds.length;for(var bX=0;bX<bW;bX++){if(L.isTupleSelected(bP.tupleIds[bX])){bN='colorOverrideReplaceAlpha';bO=63.75;this.drawPredictionWhiskerLayer(L,bX,'border',bN,bP,bO);bN='colorOverrideReplaceAlpha';bO=bP.maxAlpha/255*255;this.drawPredictionWhiskerLayer(L,bX,'normalUnder',bN,bP,bO)}}}break}case'highlightedUnderPass':{if(!bP.renderOnTop&&bM==='underMark'){bN='colorOverrideNone';var bY=bP.tupleIds.length;for(var bZ=0;bZ<bY;bZ++){if(L.isTupleHighlighted(bP.tupleIds[bZ])){this.drawPredictionWhiskerLayer(L,bZ,'border',bN,bP,bO);this.drawPredictionWhiskerLayer(L,bZ,'normalUnder',bN,bP,bO)}}}break}case'highlightedOnPass':{if(bP.renderOnTop&&bM==='underLabel'){bN='colorOverrideNone';var ca=bP.tupleIds.length;for(var cb=0;cb<ca;cb++){if(L.isTupleHighlighted(bP.tupleIds[cb])){this.drawPredictionWhiskerLayer(L,cb,'border',bN,bP,bO);this.drawPredictionWhiskerLayer(L,cb,'normalUnder',bN,bP,bO)}}}break}}},$a:function(L,bK,bL,bM,bN){var bO=1;var bP=2*bO;return!tab.RectXYUtil.completelyContains$1(L,ss.Int32.trunc(bK)-bO,ss.Int32.trunc(bL)-bO,ss.Int32.trunc(bM)+bP,ss.Int32.trunc(bN)+bP)},$9:function(L,bK,bL,bM,bN){var bO=100000;switch(L){case 0:{return}case 1:{bL=-100000;bN=200000;break}case 2:{bK=-100000;bM=200000;break}}var bP=X.roundStartAndExtent(bL,bN,0);var bQ=X.roundStartAndExtent(bK,bM,0);this.get_currentContext().setClip({x:ss.Int32.trunc(bQ.item1),y:ss.Int32.trunc(bP.item1),w:ss.Int32.trunc(bQ.item2),h:ss.Int32.trunc(bP.item2)})},$d:function(L,bK,bL,bM){var bN=this.get_currentContext();bN.set_linePattern('solid');bN.set_lineWidth(bK);bN.set_strokeStyle(bL);tab.CanvasRenderer.strokePath(bN,L,false,bM)},renderLineLoop:function(L,bK,bL){var bM=this.get_currentContext();bM.set_linePattern('solid');bM.set_lineWidth(bK);bM.set_strokeStyle(bL);tab.CanvasRenderer.strokePath(bM,L,true,false)},$e:function(L,bK,bL,bM,bN,bO,bP,bQ){var bR=this.get_currentContext();bR.set_linePattern('solid');bR.set_lineWidth(bQ);bR.set_strokeStyle(bP);var bS=Math.atan2(bM-bL,bK-L);var bT=Math.cos(bS);var bU=Math.sin(bS);bN/=2;bO/=2;var bV=bN*bU;var bW=bO*bU;var bX=bN*bT;var bY=bO*bT;bR.beginPath();bR.moveTo(L+bV,bL-bX);bR.lineTo(bK+bW,bM-bY);bR.lineTo(bK-bW,bM+bY);bR.lineTo(L-bV,bL+bX);bR.closePath();bR.stroke()},$b:function(L,bK,bL,bM,bN,bO,bP,bQ){var bR;var bS=this.get_currentContext();if(ss.referenceEquals(bP,bQ)){bR=bP}else{var bT=bS.createLinearGradient(L,bL,bK,bM);bT.addColorStop(0,bP);bT.addColorStop(1,bQ);bR=bT}if(bN===bO){bS.set_lineWidth(bN);bS.set_linePattern('solid');bS.set_strokeStyle(bR);bS.beginPath();bS.moveTo(L,bL);bS.lineTo(bK,bM);bS.closePath();bS.stroke()}else{var bU=Math.atan2(bM-bL,bK-L);var bV=Math.cos(bU);var bW=Math.sin(bU);bN/=2;bO/=2;var bX=bN*bW;var bY=bO*bW;var bZ=bN*bV;var ca=bO*bV;bS.beginPath();bS.moveTo(L+bX,bL-bZ);bS.lineTo(bK+bY,bM-ca);bS.lineTo(bK-bY,bM+ca);bS.lineTo(L-bX,bL+bZ);bS.closePath();bS.set_shapeFillStyle(bR);bS.fill()}},$f:function(L,bK,bL){var bM=this.get_currentContext();bM.set_lineWidth(bK);bM.set_strokeStyle(bL);tab.CanvasRenderer.strokePath(bM,L,true,true)},$c:function(L,bK){var bL=this.get_currentContext();bL.set_shapeFillStyle(bK);tab.CanvasRenderer.fillPath(bL,L,true)},$B:function(L){this.get_currentContext().set_shapeFillStyle(L.$6(0,-1,'colorOverrideNone'));var bK=this.createStyleSettersAndSetDominantStyle(L.get_textStyleColumns());return bK}},tab.CanvasRenderer);ss.initClass(z,a,{get_currentContext:function(){if(ss.isValue(this.$D)){return this.$D}return tab.CanvasRenderer.prototype.get_currentContext.call(this)},$C:function(L){var bK={};bK.dataValues=new Array(L);return bK},containsShape:function(L){return ss.isValue(this.$F[L.toString()])},renderSwatch:function(L,bK,bL){this.$D=L;var bM=(bL?'colorOverrideFog':'colorOverrideOpaque');this.drawShapeMarkLayer(this.$E,this.$F[bK.toString()],'normalOn',bM)}},X);ss.initEnum(A,a,{noHit:0,areaHit:1,nearHit:2,exactHit:3});ss.initClass(B,a,{get_objectId:function(){return this.$4},get_worldOffset:function(){return this.$9},get_nodeType:function(){return this.$3},get_boundingBox:function(){return this.$0},get_labelBox:function(){return this.$2},get_children:function(){return this.$1},get_parent:function(){return this.$8},set_parent:function(L){this.$8=L},get_paneKey:function(){return this.$6},set_paneKey:function(L){this.$6=L},get_paneIndex:function(){return this.$5},set_paneIndex:function(L){this.$5=L},get_paneOrderIndex:function(){return this.$7},set_paneOrderIndex:function(L){this.$7=L},addNode:function(L){this.$1.push(L);L.set_parent(this)},addNodes:function(L){ss.arrayAddRange(this.$1,L);for(var bK=0;bK<L.length;bK++){var bL=L[bK];bL.set_parent(this)}},resetChildren:function(){ss.clear(this.$1)}});ss.initClass(C,a,{get_context2D:function(){return this.$2.getContext('2d')},debugDrawBoundingBoxesHierarchy:function(L){this.clear();this.$0(L)},debugDrawBoundingBoxesHierarchies:function(L){this.clear();for(var bK=0;bK<L.length;bK++){var bL=L[bK];this.$0(bL)}},clear:function(){this.get_context2D().clearRect(0,0,this.$2.width,this.$2.height)},done:function(){this.$4.style.position=this.$3;this.$1.removeChild(this.$2)},$0:function(L){var bK=new Array;bK.push(L);while(bK.length>0){var bL=bK.shift();if(bL.get_nodeType()===2){var bM=bL.get_boundingBox();this.get_context2D().save();if(C.$0%2===0){this.get_context2D().fillStyle='rgba(120, 255, 20, 0.1)'}else{this.get_context2D().fillStyle='rgba(20, 255, 120, 0.1)'}this.get_context2D().fillRect(bM.x,bM.y,bM.w,bM.h);this.get_context2D().restore();++C.$0}if(bL.get_nodeType()===3||bL.get_nodeType()===5){var bN=bL.get_boundingBox();this.get_context2D().save();this.get_context2D().fillStyle='rgba(255, 0, 0, 0.2)';this.get_context2D().fillRect(bN.x,bN.y,bN.w,bN.h);this.get_context2D().restore()}if(bL.get_nodeType()===4){var bO=bL.get_boundingBox();this.get_context2D().save();this.get_context2D().fillStyle='rgba(0, 0, 255, 0.2)';this.get_context2D().fillRect(bO.x,bO.y,bO.w,bO.h);this.get_context2D().restore()}var bP=bL.get_children();bP.forEach(function(bQ){bK.push(bQ)})}}});ss.initClass(D,a,{hitTestPanes:function(L){var bK=[];var bL=new Array;bL.push(this.$5);while(bL.length>0){var bM=bL.pop();var bN=tab.RectXYUtil.intersectsWith(bM.get_boundingBox(),L);if(bN){if(bM.get_nodeType()===1){bK.push(bM.get_paneKey())}else{var bO=bM.get_children();bO.forEach(function(bP){bL.push(bP)})}}}return bK},hitTest:function(L,bK,bL){if(tab.RectXYUtil.isEmpty(L)){return[]}var bM=this.hitTestBoundingBoxes(L,bK,bL);return(bK?this.hitTestSingle(L,bL,bM):this.$1(L,bL,bM))},hitTestSingle:function(L,bK,bL){var bM=L.x+L.w/2;var bN=L.y+L.h/2;var bO={};var bP=[];for(var bQ=bL.length-1;bQ>=0;bQ--){var bR=bL[bQ];if(bR.get_objectId()<0){continue}var bS=B.findPaneNode(bR);if(ss.isNullOrUndefined(bS)){continue}if(ss.isNullOrUndefined(bO[bS.get_paneIndex()])){bO[bS.get_paneIndex()]=[];bP.push(bS)}bO[bS.get_paneIndex()].push(bR)}var bT=[];var bU=[];var bV={};for(var bW=0;bW<bP.length;bW++){var bX=bP[bW];var bY=bK.getPaneDrawInfoFromKey(bX.get_paneKey());var bZ=tab.RectXYUtil.offsetRect(L,{x:-bY.paneRect.x,y:-bY.paneRect.y});var ca=bO[bX.get_paneIndex()];for(var cb=0;cb<ca.length;cb++){var cc=ca[cb];var cd=bY.getMarkState(cc.get_objectId());var ce=cc.get_worldOffset();var cf=bY.c.get('tuple_id').gv(cc.get_objectId());var cg=false;if(ss.isValue(cc.get_labelBox())){cg=tab.RectXYUtil.intersectsWithMoreThanSharedEdge(cc.get_labelBox(),L)}if(cg){bT.push(new E.$ctor1(cf,6,3));bV[cf]={item1:bX.get_paneOrderIndex(),item2:cd}}var ch=D.$0(bY,bZ,cc.get_objectId(),ce,bY.markType);if(ch){bT.push(new E.$ctor1(cf,5,3));bV[cf]={item1:bX.get_paneOrderIndex(),item2:cd}}else if(bT.length===0){var ci=D.$1(bY,bZ,cc.get_objectId(),ce,bY.markType);if(ci){var cj;switch(bY.markType){case'line':{cj=X.lineMarkGetDistanceToMark(bY,bM,bN,cc.get_objectId());break}case'bar':case'square':{cj=X.barMarkGetDistanceToMark(bY,bM,bN,cc.get_objectId());break}case'shape':{cj=X.shapeMarkGetDistanceToMark(bY,bM,bN,cc.get_objectId());break}case'text':{cj=X.textMarkGetDistanceToMark(bY,bM,bN,cc.get_objectId());break}case'area':{cj=X.areaMarkGetDistanceToMark(bY,bM,bN,cc.get_objectId());break}default:{cj=x.getSquaredDistanceToCenter(cc.get_boundingBox(),{x:bM,y:bN});break}}var ck=new E.$ctor1(cf,5,2);bU.push({item1:ck,item2:cj});bV[cf]={item1:bX.get_paneOrderIndex(),item2:cd}}else{}}}}if(bT.length>0){var cl=this.$4(bT,bV);if(cl.get_hitType()===3){return[cl]}}if(bU.length>0){var cm=this.$3(bU,bV);if(cm.get_hitType()===2){return[cm]}}return[]},$1:function(L,bK,bL){var bM=[];for(var bN=bL.length-1;bN>=0;bN--){var bO=bL[bN];var bP=bO.get_objectId();if(bP<0){continue}var bQ=B.findPaneNode(bO);if(ss.isNullOrUndefined(bQ)){continue}var bR=bK.getPaneDrawInfoFromKey(bQ.get_paneKey());var bS=D.getTransformInfo(bR,bO);var bT=D.rectangleAreaHit(bR,bO.get_boundingBox(),L,bP,bS,bR.markType);if(bT){bM.push(new E.$ctor1(bR.c.get('tuple_id').gv(bP),5,1))}}return bM},hitTestBoundingBoxes:function(L,bK,bL){if(tab.RectXYUtil.isEmpty(L)){return[]}var bM=[];var bN=new Array;var bO={};bN.push(this.$5);while(bN.length>0){var bP=bN.pop();var bQ=L;if(bK&&ss.isValue(bL)&&bP.get_nodeType()===3){var bR=B.findPaneNode(bP);if(ss.isValue(bR)){var bS=bR.get_paneKey();if(ss.keyExists(bO,bS)){bQ=bO[bS]}else{var bT=bL.getPaneDrawInfoFromKey(bR.get_paneKey());if(ss.isValue(bT)){var bU;switch(bT.markType){case'multipolygon':{bU=X.multipolygonMarkGetHitTestExpansion(bT,bP.get_objectId());break}case'bar':case'square':{bU=X.barMarkGetHitTestExpansion(bT,bP.get_objectId());break}case'shape':{bU=X.shapeMarkGetHitTestExpansion(bT,bP.get_objectId());break}case'text':{bU=X.textMarkGetHitTestExpansion(bT,bP.get_objectId());break}case'area':{bU=X.areaMarkGetHitTestExpansion(bT,bP.get_objectId());break}default:{bU=null;break}}if(ss.isValue(bU)&&!tab.SizeUtil.isEmpty(bU)){bQ=tab.RectXYUtil.outsetRectSizeF(bQ,bU)}}bO[bS]=bQ}}}var bV=tab.RectXYUtil.intersectsWithMoreThanSharedEdge(bP.get_boundingBox(),bQ);if(!bV&&bK&&ss.isValue(bP.get_labelBox())){bV=tab.RectXYUtil.intersectsWithMoreThanSharedEdge(bP.get_labelBox(),L)}if(bV){if(bP.get_nodeType()===3){bM.push(bP)}else{var bW=bP.get_children();bW.forEach(function(bX){bN.push(bX)})}}}return bM},$4:function(L,bK){if(L.length===0){return new E.$ctor1(0,0,0)}var bL=new E.$ctor1(0,0,0);L.sort(function(bP,bQ){return((bP.get_id()>bQ.get_id())?-1:1)});for(var bM=0;bM<L.length;bM++){var bN=L[bM];if(!ss.keyExists(bK,bN.get_id())){continue}if(bK[bN.get_id()].item2==='markStateInvisible'){continue}if(bL.get_hitType()===0){bL=bN}else{var bO=this.$0(bN.get_id(),bL.get_id(),bK);if(bO>0){bL=bN}else if(bO===0){if(bN.get_hitObjectType()>bL.get_hitObjectType()){bL=bN}}}}return bL},$3:function(L,bK){if(L.length===0){return new E.$ctor1(0,0,0)}var bL=new E.$ctor1(0,0,0);var bM=null;L.sort(function(bR,bS){return((bR.item1.get_id()>bS.item1.get_id())?-1:1)});for(var bN=0;bN<L.length;bN++){var bO=L[bN];var bP=bO.item1;var bQ=bO.item2;if(!ss.keyExists(bK,bP.get_id())){continue}if(bK[bP.get_id()].item2==='markStateInvisible'){continue}if(bL.get_hitType()===0){bL=bP;bM=bQ}else if(ss.Nullable$1.lt(bQ,bM)){bL=bP;bM=bQ}else if(bQ===bM&&this.$0(bP.get_id(),bL.get_id(),bK)>0){bL=bP}}return bL},$0:function(L,bK,bL){var bM=bL[L];var bN=bL[bK];var bO=this.$2(bM.item2);var bP=this.$2(bN.item2);if(bO>bP){return 1}if(bO===bP){var bQ=bM.item1;var bR=bN.item1;if(bQ>bR){return 1}if(bQ===bR){return 0}}return-1},$2:function(L){switch(L){case'markStateInvisible':{return 0}case'markStateNormal':{return 1}case'markStateHighlighted':{return 2}case'markStateSelected':{return 3}default:{return-1}}}});ss.initClass(E,a,{get_id:function(){return this.$2},get_hitObjectType:function(){return this.$0},get_hitType:function(){return this.$1},get_shouldRenderOverlay:function(){return this.$3},get_overlayTargetType:function(){switch(this.$0){case 3:case 4:{return'ref-line'}case 2:{return'trend-line'}case 5:case 6:{return'mark'}default:{return'unspecified'}}},get_tooltipTargetType:function(){switch(this.$0){case 3:case 4:case 2:{return'visualparts'}case 5:case 6:{return'mark'}default:{return'unspecified'}}},doNotRenderOverlay:function(){this.$3=false}},null,[tab.IHitTestResult]);E.$ctor1.prototype=E.prototype;ss.initClass(F,a,{});ss.initClass(G,a,{get_imageNode:function(){return this.$2},set_imageNode:function(L){this.$2=L},get_index:function(){return this.$1},get_src:function(){return this.$3},get_bounds:function(){return this.$0},get_version:function(){return this.$4}});ss.initClass(H,a,{get_image:function(){return this.$0}},ss.EventArgs);ss.initClass(J,a,{});ss.initInterface(K,a,{add_loadComplete:null,remove_loadComplete:null,refreshImages:null,destroy:null,reset:null},[spiff.IScrollable]);ss.initInterface(M,a,{createNonMarksRenderer:null,renderGridLines:null,createPaneDrawInfo:null});ss.initInterface(N,a,{get_zoomToolbarContainerDiv:null,get_isMapSearchEnabled:null,get_shouldEnableZoomHomeToolbar:null,get_zoomToolbarOffset:null,get_zoomToolbarOperations:null,allowPanZoom:null,isVizLargerThanScreen:null});ss.initClass(O,a,{get_enabled:function(){return ss.isValue(this.$h)&&this.$j.get_useFastMaps()},$g:function(){return new L.LatLng(this.$j.get_centerLatitude(),this.$j.get_centerLongitude())},zoomOnPoint:function(bK,bL){this.$9(ss.mkdel(this,function(bM){var bN=bJ.incrementZoom(this.$j.get_zoom(),bL);var bO=bM.containerPointToLatLng(new L.Point(bK.x,bK.y));_.defer(ss.mkdel(this,function(){this.$d(bO,bN,true)}))}))},animateAnchorZoom:function(bK,bL){var bM=new L.LatLng(bL.x,bL.y);_.defer(ss.mkdel(this,function(){this.$e(bM,bK)}))},zoomRect:function(bK){this.$9(ss.mkdel(this,function(bL){var bM=new L.Point(bK.x,bK.y+bK.h);var bN=new L.Point(bK.x+bK.w,bK.y);var bO=new L.LatLngBounds(bL.containerPointToLatLng(bM),bL.containerPointToLatLng(bN));var bP=new L.Point(bK.x+ss.Int32.div(bK.w,2),bK.y+ss.Int32.div(bK.h,2));var bQ=bL.containerPointToLatLng(bP);this.$a(bO,bQ,true)}))},moveToBounds:function(bK){if(!this.get_enabled()){return}var bL=new L.LatLngBounds(new L.LatLng(bK.minLatitude,bK.minLongitude),new L.LatLng(bK.maxLatitude,bK.maxLongitude));var bM=new L.LatLng((bK.maxLatitude+bK.minLatitude)*0.5,(bK.maxLongitude+bK.minLongitude)*0.5);var bN=this.$a(bL,bM,true);bN.done(ss.mkdel(this,function(L){if(!L){this.removeMarkOverlay()}}))},$a:function(L,bK,bL){var bM=$.Deferred();this.$h.done(ss.mkdel(this,function(bN){var bO=bN.getBoundsZoom(L,true);var bP=bJ.resolveDesiredZoom(this.$j.get_mapServerPresModel(),bO);bL=bL&&Math.abs(bN.getZoom()-bP)<=2;_.defer(ss.mkdel(this,function(){this.$d(bK,bP,bL)}));bM.resolve(bL)}));return bM},panTo:function(bK,bL){this.$9(ss.mkdel(this,function(bM){var bN=bM.latLngToContainerPoint(this.$g());var bO=new L.Point(bN.x-bK,bN.y-bL);var bP=bM.containerPointToLatLng(bO);var bQ=new Object;bQ.animate=false;var bR=bQ;bM.panTo(bP,bR)}))},getPointLatLong:function(bK){var bL=new L.Point(bK.x,bK.y);var bM=$.Deferred();this.$h.done(function(L){var bN=L.containerPointToLatLng(bL);var bO={x:bN.lat,y:bN.lng};bM.resolve(bO)});return bM},touchMove:function(bK,bL,bM){if(isNaN(bM)||isNaN(bL)||isNaN(bK)){return}if(tab.DoubleUtil.isApproximatelyEqual(bM,1)&&!this.$m){this.panTo(bK,bL);return}this.$h.done(ss.mkdel(this,function(bN){if(!this.$m){var bO=bN.getPanes();$(bO.mapPane).addClass('leaflet-touching');$(bO.overlayPane).addClass('leaflet-touching');this.$i=new L.Point(bK,bL)}this.$m=true;tab.WindowHelper.cancelAnimationFrame(this.$o);this.$o=tab.WindowHelper.requestAnimationFrame(ss.mkdel(this,function(){var L=bJ.combineTileZoomAndStretch(this.$j.get_zoom(),bM);this.$1(bN,L,bM,bK,bL)}))}))},touchEnd:function(L,bK,bL){this.$9(ss.mkdel(this,function(bM){this.$c(bM);if(this.$m){var bN=bJ.combineTileZoomAndStretch(this.$j.get_zoom(),bL);var bO=bJ.resolveDesiredZoom(this.$j.get_mapServerPresModel(),bN);bL=Math.pow(2,bO-this.$j.get_zoom());this.$1(bM,bO,bL,L,bK)}this.$m=false}))},splatOverlayToMapForTransition:function(bK){if(ss.isNullOrUndefined(this.$h)||ss.isValue(this.$l)){return}var bL=tabBootstrap.MetricsController.createContext('Leaflet Marks Splat',32,null);var bM=ss.mkdel(this,function(bN){var bO=tab.RenderUtil.calculatePixelRatio(true);if(!tab.CanvasUtil.canvasDensified(bK)){bO=1}var bP=Math.floor(2*bO);var bQ={x:bP,y:bP,w:bK.width-2*bP,h:bK.height-2*bP};var bR=Math.floor(bN.latLngToContainerPoint(O.$1(O.$6)).y*bO);var bS=Math.floor(bN.latLngToContainerPoint(O.$1(O.$8)).y*bO);if(bS<bK.height){bQ.h=bS}if(bR>0){bQ.y+=bR;bQ.h-=bR}var bT=new Object;bT.pixelRatio=bO;var bU=bT;this.$l=new L.CanvasOverlay(bN.getBounds(),bU);bN.addLayer(this.$l);var bV=this.$l.getCanvas();var bW=tab.CanvasRenderer.getRenderContext(bV,'transparent');var bX={x:bP,y:bP,w:bQ.w,h:bQ.h};bW.drawImage5(bK,bQ.x,bQ.y,bQ.w,bQ.h,bX.x,bX.y,bX.w,bX.h);bK.width=bK.width;bL.dispose()});this.$h.done(bM)},$3:function(L,bK){tab.ModuleManager.loadCss(tsConfig.external_static_asset_prefix+'/css/leaflet.css');this.$j=bK;this.$6();var bL=this.$5();this.$n=new h;this.$n.domRoot.appendTo(L);var bM=$.Deferred();this.$h=bM;tab.ModuleManager.load$1('leaflet',[]).done(ss.mkdel(this,function(bN){if(this.get_enabled()){this.$2(bM,bL)}}))},$2:function(bK,bL){var bM=this.$4();var bN=new L.Map(this.$n.$4(),bM);bK.resolve(bN);this.$k=new L.TileLayer(this.$j.get_tileUrl(),bL);this.$f();bN.addLayer(this.$k);this.$j.add_newMapServerInfo(ss.mkdel(this,this.$8));if(this.$j.get_hasWashout()){var bO=this.$j.get_washoutColor();var bP=O.$0(bO.toRgb());bL=this.$5();bL.opacity=bO.get_a();bN.addLayer(new L.TileLayer(bP,bL))}this.$n.$3(this.$j.get_mapBGFillColor());this.$0(this.$j.get_zoom(),false)},$f:function(){var L=(this.$j.get_hasValidTileLayer()?1:0);this.$k.setOpacity(L)},$6:function(){if(ss.isValue(this.$h)){this.$h.done(function(L){L.remove()});this.$h=null;if(ss.isValue(this.$j)){this.$j.remove_newMapServerInfo(ss.mkdel(this,this.$8))}this.$j=null;this.$n.dispose();this.$n=null}},$8:function(){this.$9(ss.mkdel(this,function(L){if(L._animatingZoom){window.setTimeout(ss.mkdel(this,this.$8),10)}else{this.$f();var bK=this.$g();var bL=L.latLngToContainerPoint(L.getCenter());var bM=L.latLngToContainerPoint(bK);var bN=Math.abs(L.getZoom()-this.$j.get_zoom());if(bN>0.001){}var bO=bN<0.01&&bL.distanceTo(bM)<8;this.$d(bK,this.$j.get_zoom(),bO);this.$7(L)}}))},$7:function(L){var bK=$(L.getPanes().tilePane).find('.leaflet-tile-container');for(var bL=0;bL<bK.length;++bL){if(!tab.MiscUtil.isNullOrEmpty$1(bK[bL].style.visibility)){L._onZoomTransitionEnd();break}}},$b:function(L,bK){this.$9(ss.mkdel(this,function(bL){tab.DomUtil.setMarginBox(bL.getContainer(),{l:0,t:0,w:L,h:bK});bL.invalidateSize(false);this.$0(this.$j.get_zoom(),false);this.$n.$2()}))},setScrollX:function(L){this.$9(function(bK){bK.getContainer().style.left=-L+'px'})},setScrollY:function(L){this.$9(function(bK){bK.getContainer().style.top=-L+'px'})},removeMarkOverlay:function(){if(ss.isValue(this.$l)){this.$h.done(ss.mkdel(this,function(L){L.removeLayer(this.$l);this.$7(L);this.$c(L)}))}this.$l=null},dispose:function(){this.$6()},$4:function(){var L=new Object;L.center=this.$g();L.zoom=this.$j.get_zoom();L.zoomControl=false;L.attributionControl=false;return L},$5:function(){var L=new Object;L.maxZoom=100;L.maxNativeZoom=this.$j.get_maxZoom();L.minZoom=this.$j.get_minZoom();L.continuousZoom=true;L.intermediateTileLevels=ss.isValue(this.$j.get_intermediateTileLevels())&&this.$j.get_intermediateTileLevels()>1;var bK=this.$j.get_mapServerPresModel().mapTileSize;L.zoomOffset=tab.MapUtil.getLeafletZoomOffsetForTileSize(bK);L.tileSize=bK;return L},$e:function(L,bK){var bL=new Object;bL.animate=true;var bM=bL;if(bK<0){return}this.$h.done(ss.mkdel(this,function(bN){if(bN._animatingZoom){this.$7(bN)}bN.setZoomAround(L,bK,bM);this.$0(bK,true)}))},$d:function(L,bK,bL){var bM=new Object;bM.animate=bL;var bN=bM;if(bK<0){return}this.$h.done(ss.mkdel(this,function(bO){if(bO._animatingZoom){this.$7(bO)}bO.setView(L,bK,bN);this.$0(bK,bL)}))},$0:function(L,bK){var bL=tab.MapUtil.getVisiblePixelWidth(L,this.$j.get_numWorldRepeats(),this.$j.get_tilePixelSize());var bM=this.$n.$5();var bN=Math.ceil((bM-bL)/2);bN=Math.max(bN,0);this.$n.$1(bN,bK)},$1:function(bK,bL,bM,bN,bO){var bP=new L.Point(bN,bO);bP=bP.subtract(this.$i);var bQ=bK.containerPointToLayerPoint(bK.getSize().divideBy(2));var bR=(new L.Point(0,0)).subtract(bP).divideBy(bM);var bS=bQ.add(bR);var bT=bK.layerPointToLatLng(bS);if(isNaN(bT.lat)||isNaN(bT.lng)){return}bK._animateZoom(bT,bL,bQ,bM,bP);this.$0(bL,false)},$c:function(L){$(L.getPanes().mapPane).removeClass('leaflet-touching');$(L.getPanes().overlayPane).removeClass('leaflet-touching');tab.WindowHelper.cancelAnimationFrame(this.$o)},$9:function(L){if(!this.get_enabled()){return}this.$h.done(L)}},null,[ss.IDisposable]);ss.initClass(P,a,{get_allHighlighted:function(){return this.highlightedCount>=this.endIndex-this.startIndex+1},get_lineState:function(){if(this.selectedCount>0){return'lineStateSelected'}else if(this.highlightedCount>0){return'lineStateHighlighted'}else{return'lineStateNormal'}}});ss.initClass(Q,a,{get_lineAttributes:function(){return this.$1},$0:function(L){ss.clear(this.$1);var bK=L.markCount;var bL=new P(0);for(var bM=0;bM<bK;bM++){var bN=L.getMarkBounds(bM);tab.RectXYUtil.unionInPlace(bL.boundingBox,bN);var bO=L.getMarkState(bM);if(bO==='markStateSelected'){bL.selectedCount++;if(L.isMarkHighlighted(bM)){bL.highlightedCount++}}else if(bO==='markStateHighlighted'){bL.highlightedCount++}if(L.markNeedsDraw(bM)){bL.marksNeedingDraw.push(bM)}if(L.isMarkEndPrimitive(bM)){bL.worldOffsets=L.getWorldInstanceOffsets(bL.boundingBox.x,bL.boundingBox.x+bL.boundingBox.w);bL.endIndex=bM;bL.sloppyBoundingBox=tab.RectXYUtil.outsetRect(bL.boundingBox,4,4);this.$1.push(bL);bL=new P(bM+1)}}}});ss.initClass(bF,a,{add_updated:function(L){this.$1$1=ss.delegateCombine(this.$1$1,L)},remove_updated:function(L){this.$1$1=ss.delegateRemove(this.$1$1,L)},get_current:function(){return this.$0},get_hasHit:function(){return ss.isValue(this.$0)&&ss.isValue(this.$0.get_result())&&this.$0.get_result().get_hitObjectType()!==0},dispose:function(){this.paneTable=null;this.$1.dispose();this.lastEvent=null;this.setCurrent(null)},isWithinLastHitTestDistance:function(L){if(this.get_hasHit()){var bK=this.region.toLocalCoordsEvent(L,false);return tab.PointUtil.isWithinDistance(this.$0.get_regionCoordinates(),bK,20)}return false},getLastHitTestDistance:function(L){if(ss.isValue(this.$0)&&ss.isValue(this.$0.get_result())){var bK=this.region.toLocalCoordsEvent(L,false);return tab.PointUtil.distance(this.$0.get_regionCoordinates(),bK)}return-1},getAsync:function(L){var bK=$.Deferred();if(this.isWithinLastHitTestDistance(L)){bK.resolve(this.$0)}else{var bL=null;bL=ss.mkdel(this,function(bM){this.remove_updated(bL);bK.resolve(bM)});this.add_updated(bL);this.update(L)}return bK.promise()},update:function(L){this.lastEvent=L;this.$1.invokeActionDelayed()},makePaneSpecId:function(L,bK){return bK*this.paneTable.get_numColumns()+L},setCurrent:function(L){this.$0=L;if(ss.isValue(this.$1$1)){this.$1$1(L)}},hitTest:null},null,[ss.IDisposable,tab.IVizHitTester]);ss.initClass(R,a,{hitTest:function(L,bK){var bL=this.region.getPaneDrawInfoFromSelectionAnchor(L);if(ss.isValue(bL)){var bM=this.region.hitTestSingleMarksAndVisualParts(L);var bN=this.makePaneSpecId(bL.paneColumn,bL.paneRow);this.setCurrent(new bE(this.region,bN,bL.paneColumn,bL.paneRow,L,bK,bM))}else{this.setCurrent(null)}}},bF,[ss.IDisposable,tab.IVizHitTester]);ss.initClass(S,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(T,a,{handleWidgetPropertyChanged:function(L,bK){},updateWidgetState:function(L){}},ss.makeGenericType(spiff.ReactSpiffAdapter$3,[U,Object,Object]));ss.initClass(U,a,{get_compositeSearchWidget:function(){return this.$l},get_isCollapsed:function(){return this.$m},set_isCollapsed:function(L){this.$m=L;this.mapsSearchView.toggleClass('tabMapsSearchViewCollapsed',this.$m);this.mapsSearchView.parent().toggleClass('tabMapsSearchContainerCollapsed',this.$m)},get_isVisible:function(){return this.$n},set_isVisible:function(L){if(tab.FeatureParamsLookup.getBool(28)===true){L=true}if(this.$n===L){return}this.$n=L;this.mapsSearchViewTemplate.get_template().domRoot.css('display',(this.$n?'':'none'))},$e:function(L){this.mapsSearchView.removeClass('tabMapsSearchViewTranslucent')},$f:function(L){this.mapsSearchView.addClass('tabMapsSearchViewTranslucent')},$b:function(L){this.$h();if(L.trim().length===0){this.handleRemoveSuggestionList()}else{this.$k();this.$j()}},showNewSuggestions:function(L,bK){if(!ss.referenceEquals(L,this.$l.get_textInputView().get_text())||ss.isNullOrUndefined(bK)){return}this.$o=tab.MiscUtil.dispose(this.$o);this.$o=[];for(var bL=0;bL<bK.length;bL++){var bM=bK[bL];this.$o.push(spiff.ListItemViewModel.newListItem(bL.toString(),bM,false,false,false))}this.get_compositeSearchWidget().showList(this.$o,this,this.mapsSearchView)},$k:function(){if(ss.isNullOrUndefined(this.$o)){return}this.get_compositeSearchWidget().showList(this.$o,this,this.mapsSearchView)},$9:function(L){var bK=$("<span class='tab-list-item-label'/>");var bL='<span/>';var bM=$(bL);var bN=$(bL);bM.addClass('tabMapsSearchViewSuggestionDisplayName');var bO=L.geographicSearchCandidateDisplayName;var bP=ss.trimEndString(this.$l.get_textInputView().get_text());if(ss.startsWithString(bO.toLowerCase(),bP.toLowerCase())){var bQ=$(bL);bQ.addClass('tabMapsSearchViewSuggestionActiveSearchText');bQ.text(bO.substr(0,bP.length));bM.append(bQ);var bR=$(bL);bR.text(bO.substr(bP.length));bM.append(bR)}else{bM.text(L.geographicSearchCandidateDisplayName)}bK.append(bM);bN.addClass('tabMapsSearchViewSuggestionParentName');bN.text(L.geographicSearchCandidateParentName);bK.append(bN);return bK},handleEnterKeyPress:function(){this.$h();if(ss.isValue(this.get_compositeSearchWidget().get_listViewModel())){this.mapsSearchViewModel.moveMapToCandidateBounds(this.get_compositeSearchWidget().get_listViewModel().get_collection()[0].get_data());this.handleRemoveSuggestionList()}else{this.mapsSearchViewModel.commitToSearchString(this.get_compositeSearchWidget().get_textInputView().get_text())}},handleListItemClick:function(L){this.$h();this.handleRemoveSuggestionList();this.mapsSearchViewModel.moveMapToSuggestionListItem(L)},handleCollapseSearchWidget:function(){this.set_isCollapsed(true)},$d:function(L){this.set_isVisible(L)},$c:function(){this.get_compositeSearchWidget().get_textInputView().set_text('')},handleRemoveSuggestionList:function(){this.$l.removeList();this.$o=tab.MiscUtil.dispose(this.$o)},$a:function(){this.get_compositeSearchWidget().get_textInputView().get_inputElement().blur()},setGeoLocationButtonVisibility:function(L){if(L){this.gotoMyLocationButton.element.css('display','inline-block')}else{this.gotoMyLocationButton.element.css('display','none')}},handleSearchButtonClick:function(){this.$h();this.set_isCollapsed(!this.$m);if(!this.$m){if(!tab.BrowserSupport.get_isIE()){this.$l.get_textInputView().get_inputElement().focus()}if(this.get_compositeSearchWidget().get_textInputView().get_text().length>0){this.selectAllSearchText()}}},$j:function(){this.queryDelayTimer=window.setTimeout(ss.mkdel(this,this.$g),200)},$h:function(){this.queryDelayTimer=tab.MiscUtil.clearTimeout(this.queryDelayTimer)},$g:function(){this.mapsSearchViewModel.getSuggestionsForSearchString(this.get_compositeSearchWidget().get_textInputView().get_text());this.$h()},updateSearchTextValue:function(L){var bK=L.geographicSearchCandidateDisplayName;if(!ss.isNullOrEmptyString(L.geographicSearchCandidateParentName)){bK+=', '+L.geographicSearchCandidateParentName}this.get_compositeSearchWidget().setSearchText(bK)},selectAllSearchText:function(){tab.DomUtil.selectAllInputText(this.$l.get_textInputView().get_inputElement())},handleEnableUserInteraction:function(L){this.element.css({'pointer-events':(L?'auto':'none')})},createListItemContent:function(L){return this.$9(L.get_data())},$i:function(){var L=this.get_compositeSearchWidget().get_textInputView().get_inputElement();if(!ss.staticEquals(this.mapsSearchViewModel.get_focusInHandler(),null)){L.focusin(this.mapsSearchViewModel.get_focusInHandler())}if(!ss.staticEquals(this.mapsSearchViewModel.get_focusOutHandler(),null)){L.focusout(this.mapsSearchViewModel.get_focusOutHandler())}if(!ss.staticEquals(this.mapsSearchViewModel.get_keypressHandler(),null)){L.keypress(this.mapsSearchViewModel.get_keypressHandler())}},dispose:function(){this.$l.dispose();if(ss.isValue(this.gotoMyLocationButton)){this.gotoMyLocationButton.dispose()}ss.makeGenericType(spiff.BaseView$1,[V]).prototype.dispose.call(this)}},ss.makeGenericType(spiff.BaseView$1,[V]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[V]),spiff.IListItemContentCreator]);ss.initClass(V,a,{add_receivedNewSuggestions:function(L){this.$2$1=ss.delegateCombine(this.$2$1,L)},remove_receivedNewSuggestions:function(L){this.$2$1=ss.delegateRemove(this.$2$1,L)},add_updateTextInputValue:function(L){this.$2$2=ss.delegateCombine(this.$2$2,L)},remove_updateTextInputValue:function(L){this.$2$2=ss.delegateRemove(this.$2$2,L)},add_onMoveMapToBounds:function(L){this.$2$3=ss.delegateCombine(this.$2$3,L)},remove_onMoveMapToBounds:function(L){this.$2$3=ss.delegateRemove(this.$2$3,L)},add_searchWidgetCollapsed:function(L){this.$2$4=ss.delegateCombine(this.$2$4,L)},remove_searchWidgetCollapsed:function(L){this.$2$4=ss.delegateRemove(this.$2$4,L)},add_visibilityChanged:function(L){this.$2$5=ss.delegateCombine(this.$2$5,L)},remove_visibilityChanged:function(L){this.$2$5=ss.delegateRemove(this.$2$5,L)},add_userInteractionEnabled:function(L){this.$2$6=ss.delegateCombine(this.$2$6,L)},remove_userInteractionEnabled:function(L){this.$2$6=ss.delegateRemove(this.$2$6,L)},add_initialTextInputValueRestored:function(L){this.$2$7=ss.delegateCombine(this.$2$7,L)},remove_initialTextInputValueRestored:function(L){this.$2$7=ss.delegateRemove(this.$2$7,L)},add_suggestionListRemoved:function(L){this.$2$8=ss.delegateCombine(this.$2$8,L)},remove_suggestionListRemoved:function(L){this.$2$8=ss.delegateRemove(this.$2$8,L)},add_blurInputElementCalled:function(L){this.$2$9=ss.delegateCombine(this.$2$9,L)},remove_blurInputElementCalled:function(L){this.$2$9=ss.delegateRemove(this.$2$9,L)},get_visualID:function(){return this.$2},get_gotoMyLocationButtonEnabled:function(){return tab.FeatureParamsLookup.getBool(32)===true&&tab.BrowserSupport.get_isGeolocationSupported()},get_focusInHandler:function(){return this.$2$10},set_focusInHandler:function(L){this.$2$10=L},get_focusOutHandler:function(){return this.$2$11},set_focusOutHandler:function(L){this.$2$11=L},get_keypressHandler:function(){return this.$2$12},set_keypressHandler:function(L){this.$2$12=L},commitToSearchString:function(L){L=L.trim();this.sendGeographicSearchQuery(L,1,ss.mkdel(this,this.moveToTopGeographicCandidate))},getSuggestionsForSearchString:function(L){this.sendGeographicSearchQuery(L,5,ss.mkdel(this,this.processGeographicSuggestions))},moveMapToCandidateBounds:function(L){if(ss.isValue(this.$2$2)){this.$2$2(L)}if(ss.isValue(this.$2$3)){this.$2$3(L.mapLatLongRect)}tab.PaneClientCommands.boundingBoxPan(this.$2,L.mapLatLongRect)},moveMapToSuggestionListItem:function(L){var bK=L.get_data();this.moveMapToCandidateBounds(bK)},moveToTopGeographicCandidate:function(L){var bK=L.geographicSearchCandidateList;if(bK.length===0){}else{var bL=bK[0];this.moveMapToCandidateBounds(bL)}},processGeographicSuggestions:function(L){if(!ss.isValue(this.$2$1)){return}var bK=[];for(var bL=0;bL<L.geographicSearchCandidateList.length;bL++){bK.push(L.geographicSearchCandidateList[bL])}this.$2$1(L.geographicSearchSearchString,bK)},sendGeographicSearchQuery:function(L,bK,bL){var bM=tsConfig.workbookLocale||'en_us';tab.PaneClientCommands.geographicSearchQuery(this.$2,L,bM,bK,bL)},collapseSearchWidget:function(){this.raiseActionEvent(this.$2$4)},setVisible:function(L){this.raiseActionEvent$1(Boolean).call(this,this.$2$5,L)},enableUserInteraction:function(L){this.raiseActionEvent$1(Boolean).call(this,this.$2$6,L)},restoreInitialTextInputValue:function(){this.raiseActionEvent(this.$2$7)},removeSuggestionList:function(){this.raiseActionEvent(this.$2$8)},blurInputElement:function(){this.raiseActionEvent(this.$2$9)}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel]);ss.initClass(W,a,{});ss.initEnum(Y,a,{root:0,pane:1,bin:2,mark:3,lineSegmentUnionRect:4,trendLineSegment:5,userPane:6});ss.initClass(Z,a,{setDefaultLabelLookupValues:function(){this.c.set('label_index',tab.VisualColumnIterator.create([-1]))},addLabelInfo:function(L,bK){this.labelColumnIterators=tab.VisualColumnHelpers.parseColumns(L,bK.startIndex,tab.SceneDataUtil.getNumPaneItems(bK));this.transformColumnData(this.labelColumnIterators);var bL=this.labelColumnIterators.get('tuple_id');var bM=[];if(ss.isValue(bL)){var bN=new Array(this.markCount);for(var bO=0;bO<this.markCount;bO++){bN[bO]=-1}for(var bP=0;bP<bL.length;bP++){var bQ=this.tupleToIndexMap.get(bL.v[(bL.c?0:bP)]);if(ss.isValue(bQ)){bN[bQ]=bP}bM.push(bQ)}this.c.set('label_index',tab.VisualColumnIterator.create(bN))}bL=this.c.get('tuple_id');var bR=new Map;var bS=new Array(this.markCount);this.$d(bM,ss.mkdel(this,function(bX,bY){var bZ=Z.getMarkBoundingBox('label',bX,this,bY);bR.set(bL.v[(bL.c?0:bX)],bZ);bS[bX]=bZ}));var bT=this.$1(bS);this.markLabelWorldOffsets=bT.$1;this.markLabelInstanceOffsets=bT.$0;var bU;if(this.labelColumnIterators.has('pane_flags')){var bV=this.labelColumnIterators.get('pane_flags');bU=bV.v[(bV.c?0:0)]}else{bU=0}var bW=bU;this.truncateLabelToCell=tab.SceneDataUtil.isPaneFlagSet(bW,'clip-to-cell-x');this.parseTextInfo(L.textRunColumns,L.textStyleColumns,true);this.sceneInfo.$1(this,bR)},get_hasLabels:function(){return ss.isValue(this.labelColumnIterators)},get_hasSelection:function(){return this.sceneInfo.get_hasSelection()},get_hasBrushing:function(){return this.sceneInfo.get_hasBrushing()},get_lineDrawState:function(){if(this.$i===null){this.$i=new Q(this)}return this.$i},get_hasBackground:function(){var L=this.c.has('pane_has_background');if(L){var bK=this.c.get('pane_has_background');L=bK.v[(bK.c?0:0)]===true}return L},get_hasHalos:function(){var L=this.c.has('has_halos');if(L){var bK=this.c.get('has_halos');L=bK.v[(bK.c?0:0)]===true}return L},get_hasHaloHighlightColor:function(){return this.c.has('highlighted_halo_color')&&this.c.get('highlighted_halo_color').isValid},get_borderColor:function(){var L;if(this.c.has('border_color')){var bK=this.c.get('border_color');L=bK.v[(bK.c?0:0)]}else{L=null}return L},get_textStyleColumns:function(){return this.textStyleColumnIterators},get_mapExtentOrPaneRect:function(){return this.mapExtents||this.paneRect},get_clipLabelToCell:function(){return this.truncateLabelToCell},get_paneDescriptorKey:function(){return this.paneMarks.paneDescrKey},get_hasGlobalTransparency:function(){return this.globalAlpha<1},get_extents:function(){return this.domainExtents},get_paneFlags:function(){return this.$m},set_paneFlags:function(L){this.$m=L;this.$8()},getTextRunProperty:function(L,bK){if(ss.isNullOrUndefined(this.textRunColumnIterators)||!this.textRunColumnIterators.has(L)){return null}var bL=this.textRunColumnIterators.get(L);return bL.v[(bL.c?0:bK)]},markHasLabel:function(L){if(this.$j){if(!this.showLabels){return false}if(this.labelMode==='mlm-selection'&&this.getMarkState(L)!=='markStateSelected'){return false}if(this.labelMode==='mlm-highlight'&&this.getMarkState(L)!=='markStateHighlighted'){return false}}return this.c.get('label_index').gv(L)!==-1},getOneColorAlpha:function(L,bK,bL){var bM=null;this.$g=this.$g||new Map;if(!this.$g.has(L)){bM=tab.ColorModel.fromArgbInt(L);var bN=tab.SceneDataUtil.createColorCollection(bM,this.foggedBackgroundColor,this.fogBlendFactor);this.$g.set(L,bN)}var bO=this.$g.get(L);if(bK==='colorOverrideReplaceAlpha'){bM=bM||tab.ColorModel.fromArgbInt(L);return tab.ColorModel.fromColorModelPlusAlpha(bM,bL/255).toRgba()}return bO[bK]},$5:function(L,bK){var bL=this.c.get(bK).gv(L);if(this.$h.has(L)){var bM={};bM['colorOverrideFog']=bL['colorOverrideFog'];bM['colorOverrideNone']=bL['colorOverrideFog'];bM['colorOverrideOpaque']=bL['colorOverrideFog'];bL=bM}return bL},getMarkColors:function(L){var bK='color';if(this.forceOpaqueColors&&this.c.get('opaque_color').isValid){bK='opaque_color'}return this.$5(L,bK)},getBorderColors:function(L){return this.$5(L,'border_color')},getMarkGeometry:function(L){return this.sceneInfo.$7(this.pdMarksKey,L)},isMarkPropertyConstant:function(L){return this.c.get(L).c},computeDirtyMarks:function(L){this.$f=new Map;var bK=tab.RectXYUtil.completelyContains(L,this.paneRect);var bL=this.c.get('tuple_id');for(var bM=0;bM<this.markCount;bM++){var bN=bL.v[(bL.c?0:bM)];if(!this.isTupleVisible(bN)){continue}if(bK){this.$f.set(bM,true);continue}if(this.markType==='line'||this.markType==='area'){this.$f.set(bM,true)}else{var bO=this.$7(bN);var bP=this.getMarkInstanceOffsets(bM);if(tab.RectXYUtil.intersectsWithAny$1(L,bO,bP)){this.$f.set(bM,true)}}}},clearDirtyMarks:function(){this.$f=null},markNeedsDraw:function(L){return ss.isValue(this.$f)&&this.$f.has(L)},markLabelNeedsDraw:function(L,bK){if(this.getMarkState(L)==='markStateInvisible'){return false}var bL=this.getMarkLabelBounds(L);var bM=this.getMarkLabelInstanceOffsets(L);return tab.RectXYUtil.intersectsWithAny$1(bK,bL,bM)},refreshMarkState:function(){this.$k=this.sceneInfo.computeTupleStates(this.c.get('tuple_id'));this.$h=this.sceneInfo.computeFilteredMarks(this.c.get('tuple_id'));this.$l=new Map;for(var L=0;L<this.markCount;L++){if(this.$3(L)){this.$l.set(L,true)}}if(this.$9()){this.$i=new Q(this)}},getMarkState:function(L){if(ss.isValue(this.$k)&&this.$k.length>L){return this.$k[L]}return this.$2(L)},getMarkLabelState:function(L){if(this.$9()){var bK=this.get_lineDrawState().get_lineAttributes();for(var bL=0;bL<bK.length;bL++){var bM=bK[bL];if(bM.startIndex<=L&&L<=bM.endIndex){switch(bM.get_lineState()){case'lineStateHighlighted':{return(this.$a(L)?'markStateHighlighted':this.getMarkState(L))}case'lineStateSelected':{if(this.markType==='pie'&&!this.$a(L)){return this.getMarkState(L)}return'markStateSelected'}case'lineStateNormal':{return'markStateNormal'}}return'markStateNormal'}}}return this.getMarkState(L)},getMarkLabelProperty:function(L,bK){if(this.markType==='text'){return this.c.get(L).gv(bK)}var bL=this.c.get('label_index').gv(bK);if(bL===-1){return null}var bM=this.labelColumnIterators.get(L);return bM.v[(bM.c?0:bL)]},getAllMarkBounds:function(){var L=new Array(this.markCount);var bK=this.c.get('tuple_id');var bL=this.c.get('label_index');for(var bM=0;bM<this.markCount;bM++){var bN=bK.v[(bK.c?0:bM)];var bO=this.sceneInfo.getMarkBoundingBox(bN);var bP=((bL.v[(bL.c?0:bM)]===-1)?null:this.sceneInfo.$6(bN));L[bM]={item1:bO,item2:bP}}return L},getMarkBounds:function(L){var bK=this.c.get('tuple_id');return this.$7(bK.v[(bK.c?0:L)])},getMarkIndexFromTupleId:function(L){return this.tupleToIndexMap.get(L)},containsTuple:function(L){return this.tupleToIndexMap.has(L)},getMarkLabelBounds:function(L){var bK=this.sceneInfo;var bL=this.c.get('tuple_id');return bK.$6(bL.v[(bL.c?0:L)])},getInsetPaneClipRect:function(L,bK){var bL=2*bK;var bM=this.getUserPaneRectByIndex(L);return{x:bM.x+bK,y:bM.y+bK,w:bM.w-bL,h:bM.h-bL}},getUserPaneRectByMark:function(L){if(this.hasUserPanes){return this.$e.$8(L)}else{return{x:0,y:0,w:this.paneRect.w,h:this.paneRect.h}}},getUserPaneRectByIndex:function(L){if(this.hasUserPanes){return this.$e.$7(L)}else{return{x:0,y:0,w:this.paneRect.w,h:this.paneRect.h}}},getUserPaneRectByTupleId:function(L){if(this.hasUserPanes){return this.$e.$8(this.getMarkIndexFromTupleId(L))}else{return{x:0,y:0,w:this.paneRect.w,h:this.paneRect.h}}},getUserPaneMarkCount:function(L){if(!this.hasUserPanes){return this.markCount}else{return this.$e.$5(L)}},getUserPaneMarkRange:function(L){if(!this.hasUserPanes){return{firstMark:0,lastMark:this.markCount-1}}else{return this.$e.$6(L)}},getUserPaneIndexByMark:function(L){if(!this.hasUserPanes){return 0}else{return this.$e.$4(L)}},initStaticProperties:function(){var L=this.c.has('draw_border');if(L){var bK=this.c.get('draw_border');L=bK.v[(bK.c?0:0)]}this.drawBorder=L;var bL=this.c.has('wrap_domain');if(bL){var bM=this.c.get('wrap_domain');bL=bM.v[(bM.c?0:0)]}this.isWrappedDomain=bL;var bN;if(this.c.has('alpha')){var bO=this.c.get('alpha');bN=bO.v[(bO.c?0:0)]}else{bN=1}this.globalAlpha=bN;var bP;if(this.c.has('line_interp')){var bQ=this.c.get('line_interp');bP=bQ.v[(bQ.c?0:0)]}else{bP='lim-linear'}this.lineInterpolation=bP;var bR;if(this.c.has('line_mark_pos')){var bS=this.c.get('line_mark_pos');bR=bS.v[(bS.c?0:0)]}else{bR='lmp-left'}this.lineMarkerPosition=bR;var bT;if(this.c.has('min_bar_width')){var bU=this.c.get('min_bar_width');bT=bU.v[(bU.c?0:0)]}else{bT=0}this.minBarWidth=bT;var bV;if(this.c.has('min_bar_height')){var bW=this.c.get('min_bar_height');bV=bW.v[(bW.c?0:0)]}else{bV=0}this.minBarHeight=bV},$c:function(L){if(!this.hasUserPanes){var bK=this.getUserPaneRectByIndex(0);var bL=this.markCount;for(var bM=0;bM<bL;++bM){L(bM,bK)}}else{this.$e.$9(L)}},$d:function(L,bK){if(!this.hasUserPanes){var bL=this.getUserPaneRectByIndex(0);for(var bM=0;bM<L.length;bM++){var bN=L[bM];bK(bN,bL)}}else{this.$e.$a(L,bK)}},getMarkInstanceOffsets:function(L){if(!this.isWrappedDomain||ss.isNullOrUndefined(this.markInstanceOffsets)){return Z.$c}return this.markInstanceOffsets[L]},getMarkLabelInstanceOffsets:function(L){if(!this.isWrappedDomain||ss.isNullOrUndefined(this.markLabelInstanceOffsets)){return Z.$c}return this.markLabelInstanceOffsets[L]},getWorldInstanceOffsets:function(L,bK){if(!this.isWrappedDomain){return Z.$c}var bL=Math.ceil((this.paneRect.x-bK)/this.worldWidth);var bM=Math.floor((this.paneRect.x+this.paneRect.w-L)/this.worldWidth);var bN=bM-bL+1;var bO=new Array(bN);var bP=bL*this.worldWidth;for(var bQ=0;bQ<bN;bQ++,bP+=this.worldWidth){bO[bQ]=bP}return bO},getWorldOffsetBounds:function(L){var bK=[];var bL=this.getWorldInstanceOffsets(L.x,L.x+L.w);var bM=bL.length;for(var bN=0;bN<bM;bN++){var bO=bL[bN];if(bO!==0){var bP=tab.RectXYUtil.offsetRectXY(L,ss.Int32.trunc(bO)|0,0);bK.push(bP)}else{bK.push(L)}}return bK},isTupleSelected:function(L){return L!==0&&this.sceneInfo.$b(L)},isMarkSelected:function(L){var bK=this.c.get('tuple_id');return this.isTupleSelected(bK.v[(bK.c?0:L)])},isMarkImpliedSelected:function(L){var bK=this.c.get('tuple_id');var bL=bK.v[(bK.c?0:L)];return bL!==0&&this.sceneInfo.$a(bL)},isTupleHighlighted:function(L){return L!==0&&this.sceneInfo.$9(L)},isMarkHighlighted:function(L){var bK=this.c.get('tuple_id');var bL=bK.v[(bK.c?0:L)];return this.isTupleHighlighted(bL)},isTupleVisible:function(L){return L!==0&&this.sceneInfo.$c(L)},isLineSegmentVisible:function(L,bK){return this.getMarkState(L)!=='markStateInvisible'&&this.getMarkState(bK)!=='markStateInvisible'},isLineSegmentFiltered:function(L,bK){return this.$h.has(L)||this.$h.has(bK)},shouldStampThisShapeMark:function(L){if(this.$n){return true}if(ss.isNullOrUndefined(this.shapeMarkStampingDecision)){return false}if(L>=this.markCount){return false}return this.shapeMarkStampingDecision[L]},isMarkEndPrimitive:function(L){var bK=this.c.get('mark_flags').gv(L);return tab.SceneDataUtil.isMarkFlagSet(bK,'endprimitive')},isMarkDebug:function(L){var bK=this.c.get('mark_flags').gv(L);return tab.SceneDataUtil.isMarkFlagSet(bK,'debug')},shouldShowMarker:function(L){if(ss.isNullOrUndefined(this.$l)){return this.$3(L)}return this.$l.has(L)},$6:function(L,bK,bL){var bM=null;if(bK>=0&&!this.hasConstantColor&&this.markType==='text'){bM=this.getMarkColors(bK)}else if(ss.isValue(this.textStyleColumnIterators)&&this.textStyleColumnIterators.has('text_style_color')){var bN=this.textStyleColumnIterators.get('text_style_color');bM=bN.v[(bN.c?0:L)]}if(ss.isNullOrUndefined(bM)){return'black'}if(bK!==-1&&this.$h.has(bK)){bL='colorOverrideFog'}return bM[bL]},thisDomainToPixelX:function(L){return Z.domainToPixelX(L,this.domainExtents,this.paneRect)},thisDomainToPixelY:function(L){return Z.domainToPixelY(L,this.domainExtents,this.paneRect)},thisDomainToPixelWidth:function(L){return Z.domainToPixelWidth(L,this.domainExtents,this.paneRect)},thisDomainToPixelHeight:function(L){return Z.domainToPixelHeight(L,this.domainExtents,this.paneRect)},$9:function(){return this.markType==='line'||this.markType==='area'||this.markType==='pie'},$a:function(L){return this.getMarkLabelProperty('label_one_per_group',L)},$3:function(L){var bK=this.c.get('mark_flags').gv(L);return tab.SceneDataUtil.isMarkFlagSet(bK,'marked')||tab.SceneDataUtil.isMarkFlagSet(bK,'markediflabel')&&this.markHasLabel(L)&&!this.$a(L)},setUserPaneInfo:function(L){if(ss.isNullOrUndefined(L)){return}if(this.markType==='text'){return}this.$e=new by(L,this);this.userPaneCount=this.$e.$b;this.hasUserPanes=true},processColors:function(L){var bK=this.$b();if(ss.isNullOrUndefined(L)||!this.c.has('color_idx')){if(bK){this.$0()}return}var bL=tab.VisualColumnHelpers.buildColorTable(L,this.c,this.foggedBackgroundColor,this.fogBlendFactor);var bM=null;if(bK){bM=tab.VisualColumnHelpers.buildOpaqueColorTable(bL)}var bN=this.c.get('color_idx');var bO=bN.length;var bP=new Array(bO);var bQ=(bK?new Array(bO):null);for(var bR=0;bR<bO;bR++){var bS=bN.v[(bN.c?0:bR)];bP[bR]=bL[bS];if(bK){bQ[bR]=bM[bS]}}this.c.set('color',tab.VisualColumnIterator.create(bP));if(bK){this.c.set('opaque_color',tab.VisualColumnIterator.create(bQ))}this.c.delete('color_idx')},$0:function(){var L=this.c.get('color');if(ss.isValue(L)){var bK=new Array(L.length);for(var bL=0;bL<L.length;++bL){bK[bL]=tab.SceneDataUtil.createOpaqueColorCollection(L.v[(L.c?0:bL)])}this.c.set('opaque_color',tab.VisualColumnIterator.create(bK))}},buildTupleLookup:function(){this.tupleToIndexMap.clear();var L=this.c.get('tuple_id');if(!ss.isNullOrUndefined(L)){var bK=L.length;for(var bL=0;bL<bK;bL++){this.tupleToIndexMap.set(L.v[(L.c?0:bL)],bL)}}},$7:function(L){return this.sceneInfo.getMarkBoundingBox(L)},$b:function(){return this.markType==='line'&&this.get_hasGlobalTransparency()},transformColumnData:function(L){var bK=tab.VisualColumnHelpers.transformColumn(L.get('alpha'),function(ca){return ca/255});for(var bL=0;bL<Z.$2.length;bL++){var bM=Z.$2[bL];var bN={$:bK&&(bM==='color'&&!tab.FeatureFlags.isEnabled('RuntimeWebRenderFromFinalDatastore')||bM==='text_style_color')};var bO;if(bN.$){var bP=L.get('alpha');bO=bP.v[(bP.c?0:0)]}else{bO=1}var bQ={$:bO};tab.VisualColumnHelpers.transformColumn(L.get(bM),ss.mkdel({useAlpha:bN,colorAlpha:bQ,$this:this},function(ca){var cb=tab.ColorModel.fromArgbInt(ca);if(this.useAlpha.$){cb=new tab.ColorModel(cb.get_r(),cb.get_g(),cb.get_b(),this.colorAlpha.$*cb.get_a())}return tab.SceneDataUtil.createColorCollection(cb,this.$this.foggedBackgroundColor,this.$this.fogBlendFactor)}))}tab.VisualColumnHelpers.transformColumn(L.get('shape_id'),function(ca){return tab.SceneDataUtil.shapeMapping[ca]||ca});tab.VisualColumnHelpers.transformColumn(L.get('line_interp'),function(ca){return tab.SceneDataUtil.lineInterpolationMapping[ca]||ca});tab.VisualColumnHelpers.transformColumn(L.get('line_mark_pos'),function(ca){return tab.SceneDataUtil.lineMarkerPositionMapping[ca]||ca});if(ss.isValue(this.paneRect)&&ss.isValue(this.domainExtents)&&this.domainExtents.w!==0&&this.domainExtents.h!==0){Z.$b.forEach(ss.mkdel(this,function(ca,cb){var cc;var cd;var ce=cb+'_int';if(ss.contains(Z.$5,cb)){var cf=100*Math.max(1,this.paneRect.w);cc=this.domainExtents.w/cf;cd=this.domainExtents.x}else if(ss.contains(Z.$6,cb)){var cg=100*Math.max(1,this.paneRect.h);cc=this.domainExtents.h/cg;cd=this.domainExtents.y}else{cc=(Z.$b.get(cb).y-Z.$b.get(cb).x)/32767;cd=Z.$b.get(cb).x}var ch=tab.VisualColumnHelpers.transformColumn(L.get(ce),function(ci){return(ss.isValue(ci)?(ci*cc+cd):null)});if(ch){L.set(cb,L.get(ce));L.delete(ce)}}));var bR={x:0,y:0,w:this.paneRect.w,h:this.paneRect.h};for(var bS=0;bS<Z.$5.length;bS++){var bT=Z.$5[bS];tab.VisualColumnHelpers.transformColumn(L.get(bT),ss.mkdel(this,function(ca){return Z.domainToPixelX(ca,this.domainExtents,bR)}))}for(var bU=0;bU<Z.$4.length;bU++){var bV=Z.$4[bU];tab.VisualColumnHelpers.transformColumn(L.get(bV),ss.mkdel(this,function(ca){return Z.domainToPixelWidth(ca,this.domainExtents,this.paneRect)}))}for(var bW=0;bW<Z.$6.length;bW++){var bX=Z.$6[bW];tab.VisualColumnHelpers.transformColumn(L.get(bX),ss.mkdel(this,function(ca){return Z.domainToPixelY(ca,this.domainExtents,bR)}))}for(var bY=0;bY<Z.$3.length;bY++){var bZ=Z.$3[bY];tab.VisualColumnHelpers.transformColumn(L.get(bZ),ss.mkdel(this,function(ca){return Z.domainToPixelHeight(ca,this.domainExtents,this.paneRect)}))}}},$4:function(L,bK){var bL=new Map;if(ss.keyExists(L,'font')){var bM=L['font'];var bN=bM.dataValues.length;var bO=new Array(bN);for(var bP=0;bP<bN;++bP){bO[bP]=Z.$0(L,bP)}bL.set('font',tab.VisualColumnIterator.create(bO));var bQ=_.keys(L);for(var bR=0;bR<bQ.length;bR++){var bS=bQ[bR];if(!ss.contains(Z.$7,bS)){var bT=L[bS];bL.set(bS,tab.VisualColumnHelpers.createDataArray(bT,0,bT.dataValues.length))}}if(bK){var bU=this.c.get('alpha').gv(0);if(ss.isValue(bU)){bL.set('alpha',tab.VisualColumnIterator.create([bU*255]))}}this.transformColumnData(bL);tab.VisualColumnHelpers.transformColumn(bL.get('text_orientation'),function(bV){return Z.$d.get(bV)});tab.VisualColumnHelpers.transformColumn(bL.get('text_alignment'),function(bV){var bW='start';var bX=bV;if(bX===2){bW='end'}return bW})}return bL},prepareLeftRight:function(){var L=new Array(this.markCount);var bK=new Array(this.markCount);for(var bL=0;bL<this.markCount;++bL){L[bL]=-1;bK[bL]=-1}var bM=0;var bN=this.c.get('mark_flags');for(var bO=0;bO<this.markCount;bO++){var bP=bN.v[(bN.c?0:bO)];if(!tab.SceneDataUtil.isMarkFlagSet(bP,'end')){bK[bO]=bO+1;L[bO+1]=bO}if(tab.SceneDataUtil.isMarkFlagSet(bP,'closedprimitive')){bK[bO]=bM;L[bM]=bO}if(tab.SceneDataUtil.isMarkFlagSet(bP,'endprimitive')){bM=bO+1}}this.c.set('l_neighbor',tab.VisualColumnIterator.create(L));this.c.set('r_neighbor',tab.VisualColumnIterator.create(bK))},setupBoundingBoxes:function(){var L=this.c.get('tuple_id');var bK=new Map;var bL=new Array(this.markCount);this.$c(ss.mkdel(this,function(bV,bW){var bX=Z.getMarkBoundingBox(this.markType,bV,this,bW);bK.set(L.v[(L.c?0:bV)],bX);bL[bV]=bX}));if(this.markType==='pie'){var bM=new Q(this);var bN=bM.get_lineAttributes();for(var bO=0;bO<bN.length;bO++){var bP=bN[bO];var bQ=[];var bR=L.v[(L.c?0:bP.startIndex)];bQ.push(bR);var bS=tab.RectXYUtil.clone(bK.get(bR));for(var bT=bP.startIndex+1;bT<=bP.endIndex;++bT){bR=L.v[(L.c?0:bT)];bQ.push(bR);tab.RectXYUtil.unionInPlace(bS,bK.get(bR))}this.sceneInfo.$0(this,bS,bQ)}}var bU=this.$1(bL);this.markWorldOffsets=bU.$1;this.markInstanceOffsets=bU.$0;this.sceneInfo.$2(this,bK)},setupCustomShapePositions:function(){if(this.markType==='shape'&&this.sceneInfo.customShapes.length>0){var L=[];var bK=[];var bL=this.c.get('shape_id');var bM=this.c.get('x');var bN=this.c.get('y');var bO=this.c.get('size');for(var bP=0;bP<this.markCount;++bP){if(tab.SceneDataUtil.isCustomShape(bL.v[(bL.c?0:bP)])){var bQ=bO.v[(bO.c?0:bP)]/2;L[bP]=Math.round(bM.v[(bM.c?0:bP)]-bQ);bK[bP]=Math.round(bN.v[(bN.c?0:bP)]-bQ)}}if(L.length>0){this.c.set('left',tab.VisualColumnIterator.create(L));this.c.set('top',tab.VisualColumnIterator.create(bK))}}},setupShapeMarkStampingMap:function(){if(this.markCount<Z.shapeMarkStampingRatio){return}if(tab.BrowserSupport.get_isIE()){this.shapeMarkStampingDecision=null;if(!this.sceneInfo.get_isSingleUserPane()){return}if(this.clipCase!==0){return}}var L=this.isMarkPropertyConstant('color');var bK=this.isMarkPropertyConstant('size');var bL=this.isMarkPropertyConstant('shape_id');if(bL){var bM=this.c.get('shape_id').gv(0);if(!tab.SceneDataUtil.isSupportedStampShape(bM)){return}if(L&&bK){this.$n=true;return}}var bN=this.c.get('size');var bO=this.c.get('shape_id');var bP={};var bQ=new Array(this.markCount);for(var bR=0;bR<this.markCount;bR++){bQ[bR]=false;var bS=[];if(!bK){bS.push(bN.v[(bN.c?0:bR)])}if(!bL){var bT=bO.v[(bO.c?0:bR)];if(!tab.SceneDataUtil.isSupportedStampShape(bT)){continue}bS.push(bT)}if(!L){var bU=this.getMarkColors(bR);bS.push(bU['colorOverrideNone'])}var bV=bS.toString();if(!ss.keyExists(bP,bV)){bP[bV]=[]}bP[bV].push(bR)}var bW=false;var bX=0;var bY=_.keys(bP);for(var bZ=0;bZ<bY.length;bZ++){var ca=bY[bZ];var cb=bP[ca];if(cb.length>=Z.shapeMarkStampingRatio){for(var cc=0;cc<cb.length;cc++){var cd=cb[cc];bQ[cd]=true;bX++}bW=true}}if(bX===this.markCount){this.$n=true;this.shapeMarkStampingDecision=null}else if(bW){this.shapeMarkStampingDecision=bQ}else{this.shapeMarkStampingDecision=null}},parseTextInfo:function(L,bK,bL){if(ss.isValue(L)){this.textRunColumnIterators=new Map;var bM=_.keys(L);for(var bN=0;bN<bM.length;bN++){var bO=bM[bN];var bP=L[bO];this.textRunColumnIterators.set(bO,tab.VisualColumnHelpers.createDataArray(bP,0,bP.dataValues.length))}this.transformColumnData(this.textRunColumnIterators)}if(ss.isValue(bK)){this.textStyleColumnIterators=this.$4(bK,!bL)}},$1:function(L){var bK=new Map;var bL=null;if(!this.isWrappedDomain){bK.set(0,new Set);return new d(bK,bL)}var bM=L.length;bL=new Array(bM);for(var bN=0;bN<bM;bN++){var bO=L[bN];if(ss.isNullOrUndefined(bO)){continue}bL[bN]=this.getWorldInstanceOffsets(bO.x+this.paneRect.x,bO.x+bO.w+this.paneRect.x);var bP=bL[bN];for(var bQ=0;bQ<bP.length;bQ++){var bR=bP[bQ];if(!bK.has(bR)){bK.set(bR,new Set);for(var bS=0;bS<this.markCount;bS++){bK.get(bR).add(bS)}}bK.get(bR).delete(bN)}}var bT=new d(bK,bL);return bT},ensureLinePixelAlignment:function(){var L=this.c.get('size');var bK=this.c.get('x');var bL=this.c.get('y');var bM=this.c.get('r_neighbor');var bN=this.markCount;for(var bO=0;bO<bN;bO++){var bP=bM.v[(bM.c?0:bO)];if(bP!==-1){var bQ=L.v[(L.c?0:bO)];var bR=L.v[(L.c?0:bP)];if(tab.DoubleUtil.isApproximatelyEqual(bQ,bR)&&Math.round(bQ)%2===1){var bS=bK.v[(bK.c?0:bO)];var bT=bL.v[(bL.c?0:bO)];var bU={x:bS,y:bT};var bV=bK.v[(bK.c?0:bP)];var bW=bL.v[(bL.c?0:bP)];var bX={x:bV,y:bW};tab.CanvasRenderer.modifyLineEndpoints(bU,bX,bQ);bK.v[(bK.c?0:bO)]=bU.x;bL.v[(bL.c?0:bO)]=bU.y;if(bM.v[(bM.c?0:bP)]===-1){bK.v[(bK.c?0:bP)]=bX.x;bL.v[(bL.c?0:bP)]=bX.y}}}}},$8:function(){this.scaleMarksInX=tab.SceneDataUtil.isPaneFlagSet(this.$m,'enable-scale-x');this.scaleMarksInY=tab.SceneDataUtil.isPaneFlagSet(this.$m,'enable-scale-y');this.useCellClipForSelection=tab.SceneDataUtil.isPaneFlagSet(this.$m,'clip-to-cell-for-selection');this.paneHasCellsX=tab.SceneDataUtil.isPaneFlagSet(this.$m,'has-cells-x');this.paneHasCellsY=tab.SceneDataUtil.isPaneFlagSet(this.$m,'has-cells-y')},$2:function(L){var bK=this.c.get('tuple_id');var bL=[bK.v[(bK.c?0:L)]];var bM=this.sceneInfo.computeTupleStates(tab.VisualColumnIterator.create(bL));return bM[0]}});Z.$ctor1.prototype=Z.prototype;ss.initClass(ba,a,{drawReferenceLineAndTrendLineGroup:function(L,bK,bL,bM,bN){var bO=false;var bP=null;var bQ=null;var bR=null;for(var bS=0;bS<L.length;bS++){var bT=L[bS];var bU=bT.type==='draw-fill-rect'||bT.type==='draw-text';var bV=bK==='hover'||bK==='selected';var bW=true;if(bU&&bV){var bX=tab.ColorModel.fromColorCode(bL.get_shapeFillStyle());if(bX.get_a()<1){if(bK==='hover'){continue}bW=false}}var bY=bT.type==='draw-pen'||bT.type==='draw-solid-brush'||bT.type==='draw-text-props';if(bM||bY){if((bY||!bW)&&bO){bL.set_strokeStyle(bP.toString());bL.set_shapeFillStyle(bQ.toString());bL.set_textFillStyle(bR.toString());bO=false}if((ss.isValue(bN)||bK!=='normal')&&!bO&&!bY&&bW){bP=tab.ColorModel.fromColorCode(bL.get_strokeStyle());bQ=tab.ColorModel.fromColorCode(bL.get_shapeFillStyle());bR=tab.ColorModel.fromColorCode(bL.get_textFillStyle());var bZ=ba.$0(bP,bK,bT.type,bN);var ca=ba.$0(bQ,bK,bT.type,bN);var cb=ba.$0(bR,bK,bT.type,bN);bO=!ss.referenceEquals(bZ,bP.toString())||!ss.referenceEquals(ca,bQ.toString())||!ss.referenceEquals(cb,bR.toString());if(bO){bL.set_strokeStyle(bZ);bL.set_shapeFillStyle(ca);bL.set_textFillStyle(cb)}}this.renderVisualParts(bL,bT)}}if(bO){bL.set_strokeStyle(bP.toString());bL.set_shapeFillStyle(bQ.toString());bL.set_textFillStyle(bR.toString())}},renderScene:function(L){if(ss.isNullOrUndefined(L)){throw new ss.ArgumentNullException('paneTableVm','Cant render a null scene')}this.$s=L.get_scene();var bK=this.$s.scene;if(!ss.isValue(bK)){return}this.$p.setRenderOffsetNoTranslate(this.get_renderOffset());var bL=this.get_currentContext().get_numberSavedStates();var bM=L.get_mapServerModel().get_useFastMaps();if(!bM){this.$o(L.get_vizRegionMap(),L.get_drawFirstParts())}var bN=tab.RectXYUtil.offsetRect(this.get_currentContext().dirtyRect,this.get_renderOffset());var bO=3;bN=tab.RectXYUtil.outsetRect(bN,bO,bO);this.$s.prepareForDraw(bN);this.$k(bK.panes,bM);this.$s.cleanupFromDraw();this.$o(L.get_vizRegionMap(),L.get_drawLastParts());while(this.get_currentContext().get_numberSavedStates()>bL){this.get_currentContext().restore()}},renderViewportBorders:function(L){if(ss.isNullOrUndefined(L)){throw new ss.ArgumentNullException('paneTableVm','Cant render a null scene')}this.$s=L.get_scene();var bK=this.$s.scene;if(ss.isNullOrUndefined(bK)){return}var bL=this.$a(bK.panes);if(ss.isNullOrUndefined(bL)){return}var bM=[];var bN=this.get_currentCanvas().width-1;var bO=this.get_currentCanvas().height-1;var bP={x:0,y:0};var bQ={x:bN,y:0};var bR={x:0,y:bO};var bS={x:bN,y:bO};var bT=false;var bU=false;for(var bV=0;bV<bL.drawItems.length;bV++){var bW=bL.drawItems[bV];if(bW.type==='clip-rect'||bW.type==='transform'){continue}if(bW.type==='draw-polyline'){var bX=tab.MiscUtil.cloneObject(bW);if(bX.points[1]===bX.points[3]){if(bT){ba.$1(bX.points,bR,bS)}else{ba.$1(bX.points,bP,bQ)}bT=true}else{if(bU){ba.$1(bX.points,bQ,bS)}else{ba.$1(bX.points,bP,bR)}bU=true}bM.push(bX)}else{bM.push(bW)}}this.get_currentContext().save();this.$e(bM,null,'pane-borders');this.get_currentContext().restore()},renderAxisRulers:function(L,bK,bL){var bM=L.get_vizRegionMap()['axis-rules'];if(ss.isValue(bM)){var bN=function(bV,bW){var bX={type:'draw-polyline',points:new Array(4)};ba.$1(bX.points,bV,bW);return bX};var bO=tab.RenderUtil.calculatePixelRatio();var bP=this.get_currentCanvas().height-1;var bQ=[];var bR=bM.get_visualListPM().drawItems;for(var bS=0;bS<bR.length;bS++){var bT=bR[bS];if(bT.type==='draw-pen'){bQ.push(bT)}else if(bT.type==='draw-polyline'){var bU=bT;if(bU.points[0]===bU.points[2]){bQ.push(bN({x:0,y:-bL.y},{x:0,y:Math.round(bO*bK.h)-bL.y}))}else if(bU.points[1]===bU.points[3]){bQ.push(bN({x:-bL.x,y:bP},{x:Math.round(bO*bK.w)-bL.x,y:bP}))}}}this.get_currentContext().save();this.$e(bQ,null,'axis-rules');this.get_currentContext().restore()}},$a:function(L){for(var bK=0;bK<L.length;bK++){var bL=L[bK];for(var bM=0;bM<bL.drawPane.length;bM++){var bN=bL.drawPane[bM];if(bN.visualPart==='pane-borders'){return bN}}}return null},$o:function(L,bK){if(!ss.isValue(L)){return}for(var bL=0;bL<bK.length;bL++){var bM=bK[bL];var bN=L[bM];if(!ss.contains(bf.blackListVisualParts,bM)&&bM!=='axis-rules'){if(ss.isValue(bN)){this.get_currentContext().save();var bO=this.$s.get_imageDictionary();this.$p.renderVisualListHelper(bN,bO);this.get_currentContext().restore()}}}},$m:function(L,bK){if(!ss.isValue(L)){return}this.get_currentContext().save();this.$e(L.drawItems,bK,L.visualPart);this.get_currentContext().restore()},$f:function(L){for(var bK=0;bK<L.length;bK++){var bL=L[bK];if(!this.$c(bL)){continue}this.$q.renderGridLines(this.$r,this.$b(bL))}},$k:function(L,bK){if(!ss.isValue(L)){return}if(!bK){this.$n(L,'background')}this.$h(L);this.$n(L,'foreground')},$n:function(L,bK){for(var bL=0;bL<L.length;bL++){var bM=L[bL];if(!this.$c(bM)){continue}for(var bN=0;bN<bM.drawPane.length;bN++){var bO=bM.drawPane[bN];if(bK===this.$9(bO.visualPart)){this.$m(bO,this.$b(bM))}}}},$b:function(L){var bK=_.find(L.drawPane,function(bL){return bL.visualPart==='marks'});if(ss.isValue(bK)){return this.$s.getPaneDrawInfo(bK.paneMarks)}return null},$h:function(L){var bK=[];var bL=[];for(var bM=0;bM<L.length;bM++){var bN=L[bM];if(this.$c(bN)){bK.push(bN);var bO=null;for(var bP=0;bP<bN.drawPane.length;bP++){var bQ=bN.drawPane[bP];if(bQ.visualPart==='marks'){bO=this.$s.getPaneDrawInfo(bQ.paneMarks);break}}bL.push(bO)}}for(var bR=0;bR<ba.$5.length;bR++){var bS=ba.$5[bR];for(var bT=0;bT<ba.$4.length;bT++){var bU=ba.$4[bT];var bV=0;for(var bW=0;bW<bK.length;bW++){var bX=bK[bW];var bY=bL[bV];bV++;if(ss.isNullOrUndefined(bY)){continue}if(bU==='marks'||bU==='label'){for(var bZ=0;bZ<bX.drawPane.length;bZ++){var ca=bX.drawPane[bZ];if(ca.visualPart==='marks'){if(bU==='marks'){this.$j(bY,bS);break}else if(bU==='label'){if(bY.get_hasLabels()){this.$i(bY,bS);break}}}}}else{for(var cb=0;cb<bX.renderNodes.length;cb++){var cc=bX.renderNodes[cb];switch(cc.type){case'prediction-band':{var cd=new X(this.get_currentCanvas(),this.get_currentContext());cd.setRenderOffsetNoTranslate(this.get_renderOffset());cd.renderPredictionBand(bY,bS,cc,bU);break}case'prediction-whisker':{var ce=new X(this.get_currentCanvas(),this.get_currentContext());ce.setRenderOffsetNoTranslate(this.get_renderOffset());ce.renderPredictionWhisker(bY,bS,cc,bU);break}}}}}}}},$e:function(L,bK,bL){if(!ss.isValue(L)){return}var bM=this.$s.get_imageDictionary();if(bL!=='ref-lines'&&bL!=='ref-bands'&&bL!=='trend-lines'){var bN=null;if(bL==='decoration'){if(ss.isValue(bK)){bN=bK.mapExtents}}this.$p.renderDrawItems(L,null,bM,bN)}else{var bO=this.$s.selections.refLineSelection;var bP=!bO.isEmpty;var bQ=this.$s.selections.trendLineSelection;var bR=!bQ.isEmpty;var bS=this.$s.brushings.trendLineSelection;var bT=null;for(var bU=0;bU<L.length;bU++){var bV=L[bU];if(bV.type==='draw-group'){var bW=bV;var bX=false;var bY=false;switch(bL){case'ref-lines':{bX=bO.isObjectSelected(bW.objectId);bY=!bX&&(bP||bR);break}case'ref-bands':{bY=(bP||bR)&&!bO.isObjectSelected(bW.objectId);break}case'trend-lines':{if(bW.objectId>2147483647){if(!bS.isEmpty){continue}bX=false;bY=false}else{bX=bQ.isObjectSelected(bW.objectId);bY=!bX&&!bS.isObjectSelected(bW.objectId)&&(this.$s.get_hasBrushing()||this.$s.get_hasSelection())}break}}var bZ=(bX?'selected':'normal');if(bY&&ss.isNullOrUndefined(bT)){if(ss.isValue(bK)&&ss.isValue(bK.fogBlendFactor)&&ss.isValue(bK.foggedBackgroundColor)){bT={item1:bK.fogBlendFactor,item2:bK.foggedBackgroundColor}}else{var ca=tab.ColorModel.fromColorCode('rgba(255,255,255,255)');var cb=tab.SceneDataUtil.getFogBlendFactor(ca);var cc=tab.SceneDataUtil.applyFogToBackgroundColor(ca,cb);bT={item1:cb,item2:cc}}}this.drawReferenceLineAndTrendLineGroup(bW.drawItems,bZ,this.get_currentContext(),true,(bY?bT:null))}else{this.renderVisualParts(this.get_currentContext(),bV)}}}},renderVisualParts:function(L,bK){this.$p.renderDrawItemDefaultOptions(L,bK)},$c:function(L){return this.isRectVisible(tab.RecordCast.rectPresModelAsRectXY(L.paneRect))},$l:function(L,bK,bL,bM,bN,bO){this.get_currentContext().save();if(!L.skipClipping){this.get_currentContext().setClip(bO)}this.get_currentContext().translate(L.paneRect.x,L.paneRect.y);bN(L,bK,bL,bM);this.get_currentContext().restore()},$d:function(L,bK,bL){if(L.markCount===0){return}var bM=new X(this.get_currentCanvas(),this.get_currentContext());bM.setRenderOffsetNoTranslate(this.get_renderOffset());if(!L.hasUserPanes){this.$l(L,0,bM,bK,bL,L.get_mapExtentOrPaneRect());return}var bN=L.userPaneCount;var bO=L.paneRect.x;var bP=L.paneRect.y;for(var bQ=0;bQ<bN;++bQ){var bR=L.getUserPaneRectByIndex(bQ);bR=tab.RectXYUtil.offsetRectXY(bR,bO,bP);var bS=L.getUserPaneMarkCount(bQ);if(bS>0&&this.isRectVisible(bR)){this.$l(L,bQ,bM,bK,bL,bR)}}},$j:function(L,bK){this.$d(L,bK,ss.mkdel(this,this.$g))},$i:function(L,bK){this.$d(L,bK,function(bL,bM,bN,bO){bN.renderMarkLabels(bL,bM,bO)})},$g:function(L,bK,bL,bM){var bN=L.markType;switch(bN){case'shape':{{bL.renderShapeMark(L,bK,bM)}break}case'square':case'bar':{{bL.renderBarMark(L,bK,bM)}break}case'pie':{{bL.renderPieMark(L,bK,bM)}break}case'line':{{bL.renderLineMark(L,bK,bM)}break}case'area':{{bL.renderAreaMark(L,bK,bM)}break}case'text':{{bL.renderTextMarks(L,bK,bM)}break}case'multipolygon':{{bL.renderMultipolygonMark(L,bK,bM)}break}default:{break}}},$9:function(L){switch(L){case'background':case'decoration':case'ref-bands':case'cell-borders':{return'background'}case'mark-trails':case'marks':case'mark-labels':{return'marks'}case'borders':case'trend-lines':case'ref-lines':case'pane-borders':case'annotations':case'axis-rules':{return'foreground'}}return'background'}},tab.CanvasRenderer);ss.initClass(bb,a,{get_paneTableVM:function(){return this.get_viewModel()},get_paneTableRenderer:function(){return this.renderer},get_isContentOpaque:function(){return!this.get_paneTableVM().get_mapServerModel().get_useFastMaps()},get_backgroundFillColor:function(){return this.get_paneTableVM().get_visualModel().get_backgroundColor()},performRender:function(){var L={};L['viz']=this.get_paneTableVM().get_sheetId();{var bK=tabBootstrap.MetricsController.createContext('RNDRPT'.toString(),4,L);try{this.renderer.clear();this.get_paneTableRenderer().renderScene(this.get_paneTableVM())}finally{if(ss.isValue(bK)){bK.dispose()}}}},onViewModelPropertyChanged:function(L,bK){if(bK.get_propertyName()==='borderHighlight'){return}var bL=this.get_paneTableVM().getAndClearInvalidationRects();if(bL.length===0){this.invalidate(false)}else{var bM=tab.RectXYUtil.unionAll(bL);var bN=3;tab.RectXYUtil.outsetRectInPlace(bM,bN,bN);tab.RectXYUtil.offsetRectXYInPlace(bM,-this.get_scrollPos().x,-this.get_scrollPos().y);this.invalidateRect(bM,false)}},postRenderFinalPass:function(){this.get_paneTableRenderer().renderViewportBorders(this.get_paneTableVM());this.get_paneTableRenderer().renderAxisRulers(this.get_paneTableVM(),this.get_docSize(),this.get_scrollPos())}},ss.makeGenericType(bD,[bf]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[bf]),spiff.IScrollable,K]);ss.initClass(bc,a,{get_paneTableVM:function(){return this.get_viewModel()},get_lastTargetState:function(){return this.$O},get_backgroundFillColor:function(){return this.get_paneTableVM().get_visualModel().get_backgroundColor()},clearOverlays:function(){this.$u();this.$v();this.$t();this.$o();this.$S=false},hoverOverWhitespace:function(){this.$L=false},setScrollPosition:function(L){this.set_scrollPos(L);this.$I=[];this.invalidate(true)},setDragOverlayTuples:function(L){this.$u();this.$v();this.$o();if(this.$S){return}this.$P=L;var bK=bc.$0(this.$J,L);var bL=bK.length;if(bL>0){var bM=this.get_paneTableVM().get_scene();var bN=[];for(var bO=0;bO<bL;bO++){var bP=bK[bO];var bQ=this.$w(bP,bM);bN.push(bQ)}var bR=this.$T.get_shapeSelector();this.$R=bR.retrieveStateObject(this.$R);var bS=bR.getStateDiff(this.$R);var bT=bS.length;var bU=new Set;var bV=new Array(bT);for(var bW=0;bW<bT;bW++){var bX=bS[bW];var bY={x:0,y:0,w:0,h:0};for(var bZ=0;bZ<bL;bZ++){if(bU.has(bZ)){continue}var ca=bN[bZ];if(tab.RectXYUtil.intersectsWithAny(bX,ca)){bY=tab.RectXYUtil.union(tab.RectXYUtil.unionAll(ca),bY);bU.add(bZ)}}bV[bW]=(tab.RectXYUtil.isEmpty(bY)?bY:tab.RectXYUtil.outsetRect(bY,3,3))}bV=tab.RectXYUtil.reduceRectangles(bV);this.$I=bV;if(bc.$1){this.invalidate(false)}var cb=tab.RectXYUtil.unionAll(bV);cb=tab.RectXYUtil.offsetRect(cb,{x:-this.get_scrollPos().x,y:-this.get_scrollPos().y});this.invalidateRect(cb,true)}else{this.$I=[];this.clearDirty();this.$P=null}},setHoverOverlayTarget:function(L,bK){this.$O='hover';if(!this.$M.$1(L,bK)){this.$L=false}if(this.$M.$2(L,bK)||ss.isValue(this.$J)&&this.$J.length>0){return false}this.$p();var bL=this.$x(L,bK);this.$y(bL);this.$M.$3(L,bK,bL);this.$D();return true},setPressedOverlayTarget:function(L,bK){this.$L=true;this.$O='press';if(this.$Q.$2(L,bK)){return false}this.$p();var bL=this.$x(L,bK);this.$y(bL);this.$Q.$3(L,bK,bL);this.$D();return true},$C:function(L,bK){if(bK.get_propertyName()==='scene'||bK.get_propertyName()==='vizdata'){this.$H()}},performRender:function(){var L=tabBootstrap.MetricsController.createContext('Render Overlay Panetable',32,null);{if(this.$I.length>0||ss.isValue(this.$J)&&this.$J.length>0){this.$E()}else{this.renderer.clear();var bK=tab.RectXYUtil.offsetRect(this.get_dirtyRect(),{x:this.get_scrollPos().x,y:this.get_scrollPos().y});if(this.$M.$4()){if(this.$M.$8==='mark'){var bL=this.get_paneTableVM().get_scene().getPaneDrawInfoFromTupleId(this.$M.$5());if(!ss.isNullOrUndefined(bL)){this.$q(this.$M.$5(),bL,bK);ba.renderHoverOverlay(this.$M.$5(),bL,this.context)}}else{this.$G(this.$M)}}else if(this.$Q.$4()){if(this.$Q.$8==='mark'){var bM=this.get_paneTableVM().get_scene().getPaneDrawInfoFromTupleId(this.$Q.$5());if(!ss.isNullOrUndefined(bM)){this.$q(this.$Q.$5(),bM,bK);ba.renderPressedOverlay(this.$Q.$5(),bM,this.context)}}else{this.$G(this.$Q)}}}}L.dispose()},$s:function(L,bK,bL){var bM=tab.RectXYUtil.offsetRectXY(L,bK.paneRect.x,bK.paneRect.y);var bN=bK.mapExtents;if(ss.isValue(bN)){tab.RectXYUtil.intersectInPlace(bM,bN)}tab.RectXYUtil.intersectInPlace(bM,bL);this.context.setClip(bM);this.context.translate(bK.paneRect.x,bK.paneRect.y)},$q:function(L,bK,bL){var bM=bK.getUserPaneRectByTupleId(L);this.$s(bM,bK,bL)},$r:function(L,bK,bL){var bM=bK.getUserPaneRectByIndex(L);this.$s(bM,bK,bL)},$E:function(){var L=75;var bK=(new Date).getTime();if(ss.isNullOrUndefined(this.$P)){this.$P=this.$J}if(this.$I.length===0){var bL={x:this.get_scrollPos().x,y:this.get_scrollPos().y,w:this.get_effectiveViewSize().w,h:this.get_effectiveViewSize().h};this.$I.push(bL)}if(this.$P.length===0){this.renderer.clear();return}if(bc.$1){this.renderer.clear()}var bM={};var bN={};var bO={};var bP=this.get_paneTableVM().get_scene();for(var bQ=0;bQ<this.$P.length;bQ++){var bR=this.$P[bQ];var bS=bP.getPaneDrawInfoFromTupleId(bR);var bT=bS.paneDrawInfoKey;bM[bT]=ss.coalesce(bM[bT],new Set);bM[bT].add(bR);bN[bT]=bS;var bU=bP.getMarkBoundingBox(bR);var bV=bS.getWorldOffsetBounds(bU);bO[bR]=bV}var bW=0;var bX=this.$I.length;for(var bY=0;bY<bX;bY++){var bZ=this.$I[bY];this.context.clearRect(bZ.x,bZ.y,bZ.w,bZ.h);if(bc.$1){this.context.set_strokeStyle('rgb(255,0,0)');this.context.strokeRect(bZ.x,bZ.y,bZ.w,bZ.h)}var ca=new ss.ObjectEnumerator(bM);try{while(ca.moveNext()){var cb=ca.current();var cc=bN[cb.key];var cd=tab.RectXYUtil.intersect(bZ,cc.get_mapExtentOrPaneRect());if(tab.RectXYUtil.isEmpty(cd)){continue}var ce=false;var cf=cc.hasUserPanes;var cg=-1;var ch=false;var ci=tab.SetUtilities.getValues(ss.Int32).call(null,cb.value);for(var cj=0;cj<ci.length;cj++){var ck=ci[cj];if(bW>=L){if((new Date).getTime()-bK>145){ch=true;break}bW=0}++bW;if(!tab.RectXYUtil.intersectsWithAny(cd,bO[ck])){continue}var cl=0;if(cf){cl=cc.getUserPaneIndexByMark(cc.getMarkIndexFromTupleId(ck));if(cl!==cg){if(ce){this.context.restore();ce=false}cg=cl}}if(!ce){this.context.save();this.$r(cl,cc,bZ);ce=true}ba.renderHoverOverlay(ck,cc,this.context)}if(ce){this.context.restore()}if(ch){this.$S=true;this.renderer.clear();return}}}finally{ca.dispose()}}},$G:function(L){var bK=[];if(L.$7()==='hover'&&tsConfig.is_authoring){switch(L.$8){case'ref-line':{bK=this.get_paneTableVM().get_refLineVisualLists();break}case'trend-line':{bK=this.get_paneTableVM().get_trendLineVisualLists();break}}}for(var bL=0;bL<bK.length;bL++){var bM=bK[bL];var bN=[];ss.arrayAddRange(bN,bM.drawItems);this.$F(bN,L)}},$F:function(L,bK){var bL=bK.$7();var bM=bK.$5();this.context.save();var bN=this.renderer;var bO=ss.getEnumerator(L);try{while(bO.moveNext()){var bP=bO.current();if(bP.type==='draw-group'){var bQ=bP;var bR=true;if(this.$L){switch(bK.$8){case'ref-line':{bR=!this.get_paneTableVM().get_scene().selections.refLineSelection.isObjectSelected(bQ.objectId);break}case'trend-line':{bR=!this.get_paneTableVM().get_scene().selections.trendLineSelection.isObjectSelected(bQ.objectId);break}}}if(bR){bN.drawReferenceLineAndTrendLineGroup(bQ.drawItems,bL,this.context,bM===bQ.objectId,null)}}else{bN.renderVisualParts(this.context,bP)}}}finally{bO.dispose()}this.context.restore()},postRenderFinalPass:function(){},redrawFinished:function(){this.$J=this.$P;this.$P=null;this.$T.get_shapeSelector().updateLastState(this.$R);this.$I=[];if(this.$S){this.$t()}},$D:function(){if(this.$K||tab.MiscUtil.isNullOrEmpty(this.$N)){this.$K=false;this.invalidate(true)}else{var L=tab.RectXYUtil.unionAll(this.$N);ss.clear(this.$N);var bK={x:-this.get_scrollPos().x,y:-this.get_scrollPos().y};L=tab.RectXYUtil.offsetRect(L,bK);L=tab.RectXYUtil.outsetRect(L,3,3);this.invalidateRect(L,true)}},$o:function(){if(this.$K||!tab.MiscUtil.isNullOrEmpty(this.$N)){this.$D()}},$H:function(){if(!this.$z(this.$M)){this.$M.$0()}if(!this.$z(this.$Q)){this.$Q.$0()}if(ss.isValue(this.$J)){var L=new Set;for(var bK=0;bK<this.$J.length;bK++){var bL=this.$J[bK];if(this.$A(bL)){L.add(bL)}}this.$J=tab.SetUtilities.getValues(ss.Int32).call(null,L)}},$z:function(L){if(!L.$4()){return false}switch(L.$8){case'mark':{return this.$A(L.$5())}case'ref-line':{return this.$B(this.get_paneTableVM().get_refLineVisualLists(),L.$5())}case'trend-line':{return this.$B(this.get_paneTableVM().get_trendLineVisualLists(),L.$5())}case'unspecified':default:{return false}}},$A:function(L){var bK=this.get_paneTableVM().get_visualModel().get_vizDataModel();var bL=this.get_paneTableVM().get_scene();return ss.isValue(bK)&&bK.hasTupleId(L)&&!bL.isMarkFiltered(L)},$B:function(L,bK){for(var bL=0;bL<L.length;bL++){var bM=L[bL];var bN=bM.drawItems;for(var bO=0;bO<bN.length;bO++){var bP=bN[bO];if(bP.objectId===bK){return true}}}return false},$p:function(){this.$u();this.$v();this.$t()},$x:function(L,bK){if(bK==='mark'){return this.$w(L)}else{return null}},$y:function(L){if(ss.isNullOrUndefined(L)){this.$K=true;ss.clear(this.$N);return}for(var bK=0;bK<L.length;bK++){var bL=L[bK];this.$N.push(bL)}},$w:function(L,bK){bK=bK||this.get_paneTableVM().get_scene();var bL=bK.getMarkBoundingBox(L);var bM=this.get_paneTableVM().get_scene().getPaneDrawInfoFromTupleId(L);var bN=bM.getWorldOffsetBounds(bL);return bN},$u:function(){if(this.$M.$4()){this.$y(this.$M.$6());this.$M.$0()}},$v:function(){if(this.$Q.$4()){this.$y(this.$M.$6());this.$Q.$0()}},$t:function(){if(ss.isValue(this.$J)){var L=this.get_paneTableVM().get_scene();for(var bK=0;bK<this.$J.length;bK++){var bL=this.$J[bK];ss.arrayAddRange(this.$N,this.$w(bL,L))}this.$J=null}this.$P=null;this.$I=[];this.$R=null}},ss.makeGenericType(bD,[bf]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[bf]),spiff.IScrollable,K]);ss.initClass(bd,a,{},spiff.Template,[ss.IDisposable]);ss.initClass(be,a,{get_zoomToolbarContainerDiv:function(){return this.dom.view.get(0)},get_isMapSearchEnabled:function(){return this.get_paneTableVM().get_mapSearchEnabled()},get_shouldEnableZoomHomeToolbar:function(){return this.get_paneTableVM().shouldEnableZoomHomeToolbar()},get_vizHitTester:function(){return this.$3$1},set_vizHitTester:function(L){this.$3$1=L},get_sortIndicators:function(){return this.get_paneTableVM().get_sortIndicators()},get_tableViewPosition:function(){return tab.PointUtil.fromPosition(this.dom.domRoot.offset())},get_sheetid:function(){return this.get_paneTableVM().get_sheetId()},get_session:function(){return this.get_controller().get_viewSession()},get_numColumns:function(){return(ss.isValue(this.geometry)?this.geometry.pi.xWidths.length:0)},get_numRows:function(){return(ss.isValue(this.geometry)?this.geometry.pi.yHeights.length:0)},get_scrollPosition:function(){return this.$Y},set_scrollPosition:function(L){this.$Y=L;this.$t(this.$Y);this.$D()},get_controller:function(){var L=this.get_paneTableVM();var bK=L.get_viewController();return bK},get_visualId:function(){return this.get_paneTableVM().get_visualId()},get_isSameVisualID:function(){return ss.referenceEquals(this.get_visualId(),this.vizTooltip.get_visualIDPresModel())},get_paneTableVM:function(){return this.get_viewModel()},get_vizToolTip:function(){this.$e();return this.vizTooltip},get_tooltipMode:function(){return this.get_paneTableVM().get_visualModel().get_tooltipMode()},get_mapToolSelectionMode:function(){return this.get_paneTableVM().get_visualModel().get_defaultMapTool()},get_isTooltipAllowed:function(){return ss.isNullOrUndefined(tsConfig.allow_tooltip)||tsConfig.allow_tooltip},get_vizRegion:function(){return this.regions['viz']},set_vizRegion:function(L){this.regions['viz']=L},get_vizRegionDomNode:function(){return this.dom.view.children().first()},get_zoomToolbarOffset:null,get_zoomToolbarOperations:null,init:function(){this.$n();this.makeConnections();this.makeRegions();this.initEventHandlers();this.makeRegionContentProviders();if(tab.FeatureFlags.isEnabled('ReferenceLineDragDrop')){this.set_vizHitTester(tab.MiscUtil.dispose$1(this.get_vizHitTester()));if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){this.set_vizHitTester(new R(this,this.get_vizRegion()))}else{this.set_vizHitTester(new bo(this,this.get_vizRegion()))}}},dispose:function(){this.$O=true;if(ss.isValue(this.get_vizHitTester())){this.get_vizHitTester().dispose()}this.destroyInputHandlers();this.destroyRegions();this.disposables.dispose();this.visibleGeometry=null;this.disposeOfOverlays();if(ss.isValue(this.get_paneTableVM())){this.get_paneTableVM().remove_vizRegionMapChange(ss.mkdel(this,this.$F));if(ss.isValue(this.get_vizRegion())){var L=this.get_paneTableVM();var bK=this.get_vizRegion();L.remove_propertyChanged(ss.mkdel(bK,bK.$0))}}this.floatingZoomToolbarView.dispose();if(ss.isValue(this.$11)){this.$11.dispose()}if(ss.isValue(this.$M)){this.$M.dispose()}if(ss.isValue(this.$S)){this.$S.dispose()}if(ss.isValue(this.$T)){this.$T.dispose()}if(ss.isValue(this.vizTooltip)){this.vizTooltip.remove_tooltipClosed(ss.mkdel(this,this.onTooltipClosed));this.vizTooltip.remove_ubertipUpdated(ss.mkdel(this,this.maybeShowOverlayImages));this.vizTooltip.remove_ubertipCommandExecuted(ss.mkdel(this,this.onCommandExecuted));this.vizTooltip.remove_ubertipActionExecuted(ss.mkdel(this,this.onActionExecuted));this.vizTooltip.dispose()}if(ss.isValue(this.$V)){this.get_paneTableVM().remove_propertyChanged(ss.mkdel(this.$V,this.$V.$C));this.$V.dispose()}if(ss.isValue(this.mapsSearchView)){this.mapsSearchView.dispose()}ss.makeGenericType(spiff.BaseView$1,[tab.IPaneTableViewModel]).prototype.dispose.call(this)},$f:function(L,bK,bL){if(L.moveNext()&&!ss.staticEquals(L.current(),null)){L.current()(this,bK).done(ss.mkdel(this,function(bM){if(bM){bL.resolve(true);return}this.$f(L,bK,bL)}))}else{bL.resolve(false)}},initEventHandlers:function(){this.$a();this.makeInputHandlers();this.setupDrilling();this.setupSortIndicators();this.refreshScrollingAndDrilling()},callAsyncVizDragHandlers:function(L,bK){var bL=$.Deferred();if(tab.FeatureFlags.isEnabled('ReferenceLineDragDrop')){this.$f(ss.getEnumerator(be.$1),L,bL)}else{bL.resolve(false)}bL.done(ss.mkdel(this,function(bM){if(bM){this.get_vizToolTip().close();return}bK(L)}))},callVizDragHandlers:function(L,bK){if(tab.FeatureFlags.isEnabled('ReferenceLineDragDrop')){for(var bL=0;bL<be.$6.length;bL++){if(be.$6[bL](this,L)){this.get_vizToolTip().close();return}}}bK(L)},getVizDragApproval:function(L){if(ss.isValue(L)){for(var bK=0;bK<be.$5.length;bK++){if(be.$5[bK](L)){return true}}}return false},zoomHome:function(){tab.PanZoomCommands.requestRestoreFixedAxes(this.get_visualId());if(ss.isValue(this.mapsSearchView)){this.get_paneTableVM().get_mapsSearchViewModel().collapseSearchWidget();this.get_paneTableVM().get_mapsSearchViewModel().restoreInitialTextInputValue()}},doTiledViewerRefreshImages:function(L){this.refreshImages(L)},setPointerToolMode:function(L,bK){this.isPointerToolLocked=bK;if(this.isPointerToolLocked){this.get_vizRegion().setLockedPointerToolMode(L)}this.get_vizRegion().setPointerToolMode(L)},defaultPointerToolMode:function(){if(ss.isValue(this.get_vizRegion())){return this.get_vizRegion().get_defaultPointerToolMode()}return'rectangular-selection'},resetPointerToolMode:function(){var L=this.floatingZoomToolbarView.resetPointerToolbarMode();if(!L&&ss.isValue(this.get_vizRegion())){this.get_vizRegion().resetPointerToolMode()}},connectTooltipEventHandlers:function(){var L=this.get_vizToolTip();L.add_tooltipClosed(ss.mkdel(this,this.onTooltipClosed));L.add_ubertipUpdated(ss.mkdel(this,this.maybeShowOverlayImages));L.add_ubertipCommandExecuted(ss.mkdel(this,this.onCommandExecuted));L.add_ubertipActionExecuted(ss.mkdel(this,this.onActionExecuted))},updateRegionBackgroundColor:function(){var L=this.get_paneTableVM().get_visualModel();var bK=[L.get_backgroundColor(),L.get_paneBGColor(),L.get_headerBGColor()];if(ss.isValue(this.$J)&&_.isEqual(this.$J,bK)){return}this.$J=bK;var bL=this.listAllRegions();var bM=tab.ApplicationModel.get_instance().get_isLocalRenderMode();var bN=_.keys(bL);for(var bO=0;bO<bN.length;bO++){var bP=bN[bO];var bQ=bL[bP];if(ss.isNullOrUndefined(bQ)){continue}var bR=bK[0];if(bP==='viz'){bR=bK[1]}else if(ss.contains(be.$4,bP)){bR=bK[2]}bQ.css('background-color',bR);if(!bM){var bS=$('.tvimagesContainer',bQ);bS.css('background-color',bR)}}this.dom.topLeftSpacer.css('background-color',bK[2]);this.dom.topRightSpacer.css('background-color',bK[2]);this.dom.bottomLeftSpacer.css('background-color',bK[2]);this.dom.bottomRightSpacer.css('background-color',bK[2])},$m:function(L,bK){var bL=this.listNonVizRegions();var bM=_.keys(bL);for(var bN=0;bN<bM.length;bN++){var bO=bM[bN];var bP=bL[bO];var bQ=this.makeTiledWindow(bP,this.get_session(),this.get_controller(),ss.mkdel(this,this.$h),null);this.regions[bO].set_contentProvider(bQ)}this.get_vizRegion().set_contentProvider(this.makeTiledWindow(L,this.get_session(),this.get_controller(),ss.mkdel(this,this.$h),bK))},makeRegionContentProvidersHelper:function(L,bK){if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){this.get_paneTableVM().add_vizRegionMapChange(ss.mkdel(this,this.$F));var bL='transparent';var bM=new bb(this.get_paneTableVM(),this.getDomNodeForContentRegion(L),bL);var bN=$('.tvimagesContainer',L);bN.get(0).appendChild(bM.element.get(0));this.get_vizRegion().set_contentProvider(bM);var bO=this.get_paneTableVM();var bP=this.get_vizRegion();bO.add_propertyChanged(ss.mkdel(bP,bP.$0));this.$F();this.$V=new bc(this.get_paneTableVM(),this.getDomNodeForContentRegion(L),this.get_vizRegion());this.get_paneTableVM().add_propertyChanged(ss.mkdel(this.$V,this.$V.$C));bN.get(0).appendChild(this.$V.element.get(0))}else{this.$m(L,bK)}this.updateRegionBackgroundColor()},makeTiledWindowHelper:function(L,bK,bL,bM,bN,bO){var bP=new bv(this.getDomNodeForContentRegion(L),bK,bL,bM,bO);if(ss.isValue(bN)){bP.add_loadComplete(bN);this.disposables.add$1(new tab.CallOnDispose(function(){bP.remove_loadComplete(bN)}))}return bP},listNonVizRegions:function(){var L={};L['yheader']=this.dom.yLabel;L['leftaxis']=this.dom.leftAxis;L['rightaxis']=this.dom.rightAxis;L['xheader']=this.dom.xLabel;L['bottomaxis']=this.dom.bottomAxis;L['topaxis']=this.dom.topAxis;return L},listAllRegions:function(){var L=this.listNonVizRegions();L['viz']=this.dom.view;return L},destroyRegions:function(){var L=ss.getEnumerator(Object.keys(this.regions));try{while(L.moveNext()){var bK=L.current();if(ss.isValue(this.regions[bK])){this.regions[bK].destroy()}}}finally{L.dispose()}},checkForHoverOverlay:null,isUserDragging:null,onTooltipClosed:function(){},$y:function(L){if(ss.keyExists(L.commandParams,'tupleId')){var bK=parseInt(L.commandParams['tupleId'].toString(),10);var bL=this.get_paneTableVM().get_scene().getPaneDrawInfoFromTupleId(bK);if(ss.isNullOrUndefined(bL)){return false}}if(ss.keyExists(L.commandParams,'selection')){var bM=L.commandParams['selection'];if(ss.isValue(bM)){try{var bN=JSON.parse(bM);if(bN.selectionType==='tuples'){for(var bO=0;bO<bN.objectIds.length;bO++){var bP=bN.objectIds[bO];var bQ=this.get_paneTableVM().get_scene().getPaneDrawInfoFromTupleId(bP);if(ss.isNullOrUndefined(bQ)){return false}}}}catch(bR){return false}}}return true},onCommandExecuted:function(L,bK){if(ss.isNullOrUndefined(bK)||ss.isNullOrUndefined(bK.command)){return}if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()&&ss.isValue(bK.command.command)&&!this.$y(bK.command.command)){return}if(bK.command.get_commandType()===7){this.get_session().executeCommand(bK.command)}else{tab.UberTipClientCommands.executeUbertipCommand(bK.command)}},onActionExecuted:function(L,bK){if(ss.isNullOrUndefined(bK)||ss.isNullOrUndefined(bK.action)){return}if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()&&ss.isValue(bK.action.command)&&!this.$y(bK.action.command)){return}var bL=function(){L.hideSpinner()};var bM=function(bN){L.hideSpinner()};this.get_session().executeAction(bK.action,bM,bL)},doDoubleTap:function(L,bK,bL){if(!tsConfig.allow_filter){return}if(L.get_regionPart()!=='viz'||!this.allowPanZoomOnDoubleTap()){return}if(this.get_paneTableVM().get_isMapWithBaseLayer()&&bL<1&&!tab.MapUtil.allowZoomAtCurrentLevel(this.get_paneTableVM().get_mapServerModel().get_zoom(),1/bL)){return}this.get_controller().incrementCacheVersion();var bM=tab.DeferLayoutImpl.get_instance();bM.setDeferLayoutUpdates(true);var bN=this.resolvePane(L.toLocalCoordsEvent(bK,false));L.zoomPoint(bN,L.toLocalCoordsEvent(bK,false),bL,true,bM);this.get_vizToolTip().close();this.disposeOfOverlays()},$o:function(L,bK){if(!ss.referenceEquals(L,this.get_controller().get_sheetName())){return}this.checkForHoverOverlay();if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){this.get_vizRegion().reset()}},dragOverride:function(L,bK){if(this.isUserDragging()){return}this.callVizDragHandlers(L,bK)},dragOverrideAsync:function(L,bK){if(this.isUserDragging()){return}this.callAsyncVizDragHandlers(L,bK)},clearSelection:function(){tab.SelectionClientCommands.clearAllSelections(this.get_visualId())},refreshImages:function(L){this.$X+=1;var bK=ss.getEnumerator(Object.keys(this.regions));try{while(bK.moveNext()){var bL=bK.current();this.regions[bL].refreshImages(L)}}finally{bK.dispose()}this.$N.$0(L,this.get_session(),this.$h())},$I:function(L,bK){var bL={item1:bK,item2:L};var bM=ss.isValue(this.$K)&&_.isEqual(bL,this.$K);if(!bM){this.$K=bL}return bM},$l:function(L){var bK={};$.extend(true,bK,L);this.geometry=bK;var bL=bK.ri.length;for(var bM=0;bM<bL;bM++){bK[bK.ri[bM].r]=bK.ri[bM]}return bK},$9:function(L,bK,bL){var bM=[L.yheader,L.rightaxis,L.leftaxis,L.viz];for(var bN=0;bN<bM.length;bN++){var bO=bM[bN];if(ss.isValue(bO)){bO.h+=bL}}var bP=[L.xheader,L.bottomaxis,L.topaxis,L.viz];for(var bQ=0;bQ<bP.length;bQ++){var bR=bP[bQ];if(ss.isValue(bR)){bR.w+=bK}}},$w:function(L,bK){var bL=0;if(ss.isValue(L.title)&&this.dom.title.css('display')!=='none'){this.titleHeight=L.title.h;var bM={l:0,t:L.title.y,w:L.title.w+bK.get_scrollWidth(),h:L.title.h};var bN=tab.DomUtil.getMarginBoxJQ(this.dom.title);if(!_.isEqual(bM,bN)){tab.DomUtil.setAbsolutePositionBox(this.dom.title,bM);this.$11.handleNewTextRegion();bL=L.title.h+L.title.y}}return bL},$q:function(L,bK){var bL=0;if(ss.isValue(this.$M)&&this.dom.caption.css('display')!=='none'){var bM;if(ss.isValue(L.caption)){bL=L.caption.h+8+bK.get_scrollHeight();bM={l:L.caption.x,t:L.caption.y-bK.get_heightScrollOffset(),w:L.caption.w,h:L.caption.h}}else{bM={l:0,t:0,w:0,h:0}}var bN=tab.DomUtil.getMarginBoxJQ(this.dom.caption);if(!_.isEqual(bM,bN)){tab.DomUtil.setAbsolutePositionBox(this.dom.caption,bM);this.$M.handleNewTextRegion()}}return bL},$s:function(L,bK){if(this.$I(L,bK)){this.refreshScrollingAndDrilling();return}this.$N.$1();this.$X+=1;var bL=this.$l(L);var bM=new bk(bL,bK.w,bK.h);var bN=tab.ApplicationModel.get_instance().get_isLocalRenderMode();var bO=((bN&&ss.isValue(bL.bottomaxis))?1:0);var bP=((bN&&ss.isValue(bL.rightaxis))?1:0);if(bN){this.$9(bL,bP,bO)}this.titleHeight=0;var bQ=bM.get_overallHeight();var bR=this.$w(bL,bM);bQ=Math.max(bQ,bR);var bS=this.$q(bL,bM);bQ-=bS;var bT=bM.getVisibleGeometry(bL,bK.w,bO,bP);this.visibleGeometry=bT;this.$u(bT,bL);this.setGeometryForWebScrollbars(bM,bQ);this.refreshScrollingAndDrilling();this.setRegionResizersForWeb();this.refreshTooltipIfNeeded()},$u:function(L,bK){var bL=null;if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){var bM=this.get_paneTableVM().get_vizRegionMap()['background'];if(ss.isValue(bM)){bL=bM.get_visualListPM().drawItems}}this.$r(L.uleftArea,bL,this.dom.topLeftSpacer,'uleft');if(ss.isValue(bK.uleft)){this.tlspacerAreaY=$.extend({},L.uleftArea);if(ss.isValue(bK.di)&&bK.uleft.h>=40){this.tlspacerAreaY.t=bK.uleft.y+bK.uleft.h-40;this.tlspacerAreaY.h=40}this.tlspacerAreaX=null;if(ss.isValue(bK.di)&&ss.isValue(bK.di.xy)&&ss.isValue(bK.di.xy[0])){var bN=18;var bO=bK.xheader;if(ss.isValue(bO)&&bO.h>bK.di.xs){var bP=bK.di.xy.length;for(var bQ=0;bQ<bP;bQ++){if(bK.di.xy[bQ][1]>0){this.tlspacerAreaX={l:this.tlspacerAreaY.l+this.tlspacerAreaY.w-bN,t:bK.uleft.y,w:bN,h:bK.uleft.h};this.tlspacerAreaY.w=this.tlspacerAreaX.l;break}}}}}else{this.tlspacerAreaY=null;this.tlspacerAreaX=null}this.$v(bK.yheader,this.dom.yLabel,'yheader',bK.ts,L.yheaderArea);this.$v(bK.leftaxis,this.dom.leftAxis,'leftaxis',bK.ts,L.leftaxisArea);this.$v(bK.rightaxis,this.dom.rightAxis,'rightaxis',bK.ts,L.rightaxisArea);this.$v(bK.xheader,this.dom.xLabel,'xheader',bK.ts,L.xheaderArea);this.$v(bK.bottomaxis,this.dom.bottomAxis,'bottomaxis',bK.ts,L.bottomaxisArea);this.$v(bK.topaxis,this.dom.topAxis,'topaxis',bK.ts,L.topaxisArea);this.$r(L.urightArea,bL,this.dom.topRightSpacer,'uright');this.$r(L.lleftArea,bL,this.dom.bottomLeftSpacer,'lleft');this.blspacerArea=L.lleftArea;this.$r(L.lrightArea,bL,this.dom.bottomRightSpacer,'lright');this.$v(bK.viz,this.dom.view,'viz',bK.ts,L.vizArea)},$r:function(L,bK,bL,bM){if(ss.isValue(L)){tab.DomUtil.setAbsolutePositionBox(bL,L);this.setRegionGeometryHelper(bL,L);bL.show();this.$N.$2(bL,bM,bK)}else{bL.hide()}},$v:function(L,bK,bL,bM,bN){if(ss.isValue(L)){tab.DomUtil.setAbsolutePositionBox(bK,bN);this.setRegionGeometryHelper(bK,bN);bK.show();this.regions[bL].setGeometry(L,bN,bM);if(bL==='viz'&&ss.isValue(this.$V)){this.$V.set_actualViewSize({w:bN.w,h:bN.h});this.$V.reset(L,bM)}}else{bK.hide()}},resolvePane:function(L){var bK,bL;var bM=this.geometry.pi;var bN={x:L.x,y:L.y};var bO={canDragH:bM.hasXQAxis,canDragV:bM.hasYQAxis,x:0,y:0,w:0,h:0};bL=bM.xWidths.length;for(bK=0;bK<bL;bK++){if(bN.x<bO.x+bM.xWidths[bK]){bO.tx=bK;bO.w=bM.xWidths[bK];break}bO.x=bO.x+bM.xWidths[bK]}bL=bM.yHeights.length;for(bK=0;bK<bL;bK++){if(bN.y<bO.y+bM.yHeights[bK]){bO.ty=bK;bO.h=bM.yHeights[bK];break}bO.y=bO.y+bM.yHeights[bK]}return bO},allowPanZoom:null,allowPanZoomOnDoubleTap:null,isVizLargerThanScreen:function(){if(ss.isValue(this.geometry)&&ss.isValue(this.geometry.viz)){var L=this.geometry.viz.w;var bK=this.geometry.viz.h;var bL=this.get_vizRegion();var bM=bL.get_contentProvider();if(ss.isNullOrUndefined(bM)){return false}var bN=bM.get_effectiveViewSize().w;var bO=bM.get_effectiveViewSize().h;return L>bN||bK>bO}return false},isOneVisiblePane:function(){if(ss.isValue(this.geometry)&&ss.isValue(this.geometry.viz)){var L,bK;var bL=this.geometry.viz.w;var bM=this.geometry.viz.h;var bN=this.geometry.pi.xWidths;var bO=this.geometry.pi.yHeights;bK=bN.length;for(L=0;L<bK;L++){if(Math.abs(bL-bN[L])>1){return false}}bK=bO.length;for(L=0;L<bK;L++){if(Math.abs(bM-bO[L])>1){return false}}}return true},maybeShowOverlayImages:null,createOverlayImageFromDataUri:function(L){var bK=new tab.OverlayImage(this.dom.view.find('.tvimagesContainer').get(0),'data:image/png;base64,'+L);return bK},createOverlayImageFromFile:function(L){var bK=new tab.OverlayImage(this.dom.view.find('.tvimagesContainer').get(0),this.get_session().formatSessionTempfileReference(L,false,false));return bK},updateOverlayTarget:function(L,bK,bL){if(!tab.ApplicationModel.get_instance().get_isLocalRenderMode()){return}switch(bK){case'press':{this.$V.setPressedOverlayTarget(L,bL);break}case'hover':{this.$V.setHoverOverlayTarget(L,bL);break}default:{break}}},updateOverlayForLastTargetState:function(L,bK){this.updateOverlayTarget(L,this.$V.get_lastTargetState(),bK)},hoverOverWhitespace:function(){this.$V.hoverOverWhitespace()},updateHoveredCategoricalHeaders:function(L,bK,bL){var bM=this.get_paneTableVM().get_vizRegionMap()[bL];if(ss.isNullOrUndefined(bM)){return}switch(bK){case'press':{bM.set_hoveredCategoricalNode(null);break}case'hover':{bM.set_hoveredCategoricalNode(L);break}default:{break}}},showOverlayImages:function(L,bK){if(ss.isValue(bK)&&ss.isValue(L)&&bK.length>0){this.disposeOfOverlayImages();for(var bL=1;bL<bK.length;++bL){var bM=L.clone();this.$U.push(bM);bM.show(bK[bL])}this.$U.push(L);L.show(bK[0])}},setRegionGeometryHelper:null,getDomNodeForContentRegion:null,clickTitle:function(L){},clickCaption:function(L){},makeConnections:function(){},makeMapsSearchViewConnections:null,makeRegions:null,makeInputHandlers:null,makeRegionContentProviders:null,setupDrilling:function(){},refreshScrollingAndDrilling:null,refreshTooltipIfNeeded:function(){},setupSortIndicators:function(){},destroyInputHandlers:null,setGeometryForWebScrollbars:function(L,bK){},setRegionResizersForWeb:function(){},makeTooltipLegacyMode:null,makeTooltip:function(){if(this.get_isTooltipAllowed()&&this.get_tooltipMode()==='smooth'){return new bx(this.get_paneTableVM().get_tooltipContextProvider(),this.get_visualId(),this.dom.view)}else if(this.get_isTooltipAllowed()&&this.get_tooltipMode()==='sticky'){return this.makeTooltipLegacyMode(this.get_paneTableVM().get_tooltipContextProvider())}else{return new bw(this.get_paneTableVM().get_tooltipContextProvider(),this.get_visualId())}},onHoverOverlay:function(L,bK){if(this.isUserDragging()){return}if(this.wasPressOverlayJustUpdated){this.wasPressOverlayJustUpdated=false;return}if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()&&L.get_regionPart()==='viz'){if(!this.isAnimationOccurring&&(L.isSelectingToolActive()||!L.get_isDragTracking()&&L.get_currentPointerToolMode()==='pan-map')){var bL=L.toLocalCoordsEvent(bK,false);var bM={x:bK.pageX,y:bK.pageY};this.lastVizHoverPoint=bL;if(this.get_vizToolTip().isHoverAllowed(bM)){this.hitTestAndSetHoverOverMarkOrVisualPartHelper(true)}}else{this.lastVizHoverPoint=null}}},hitTestAndSetHoverOverMarkOrVisualPartHelper:function(L){var bK=this.get_vizRegion();var bL=bK.hitTestSingleMarksAndVisualParts(this.lastVizHoverPoint);this.onHoverOverVisualPart(bK,bL.get_hitType()!==0);if(bL.get_hitType()===0){this.hoverOverWhitespace()}if(bL.get_shouldRenderOverlay()){if(!L){this.updateOverlayForLastTargetState(bL.get_id(),bL.get_overlayTargetType())}else{this.updateOverlayTarget(bL.get_id(),'hover',bL.get_overlayTargetType())}}else{this.disposeOfOverlayImages()}},onHoverOverVisualPart:null,onHoverTooltip:function(L,bK){if(this.isUserDragging()){return}if(tab.CommandController.get().get_legacySession().get_waitHandler().isBusy()){return}var bL=this.get_vizToolTip();if(bL.get_isTooltipShown()&&bL.shownTooltipIsStatic()){return}var bM=L.toLocalCoordsEvent(bK,false);var bN=tab.PointUtil.add(bM,L.getLocalOffsetPoint(false));if(!tab.ApplicationModel.get_instance().get_isLocalRenderMode()){var bO=be.guessTooltipTargetTypeFromRegion(L.get_regionPart());bL.hoverOverCoordinates(bN,bM,bO,L.get_regionPart());return}var bP=false;if(L.get_regionPart()==='viz'){this.$c();L.get_shapeSelector().setSingleSelectPoint(bM);var bQ=this.get_vizRegion();var bR=bQ.hitTestSingleMarksAndVisualParts(bM);bP=bR.get_hitType()!==0;this.onHoverOverVisualPart(bQ,bP);if(bP){switch(bR.get_hitObjectType()){case 5:case 6:{var bS=this.get_paneTableVM().get_scene().getMarkBoundingBox(bR.get_id());bM=be.$0(bM,bS);var bT=this.get_paneTableVM().get_visualModel().get_selectionsModel();var bU=bT.tupleSelection.isObjectSelected(bR.get_id());var bV=this.get_paneTableVM().get_scene().getPaneDrawInfoFromTupleId(bR.get_id());var bW=bV.get_paneDescriptorKey();bL.hoverOverObject(bN,tab.PointUtil.add(bM,{x:this.geometry.viz.x,y:this.geometry.viz.y}),bM,bR.get_id(),bU,bW,'mark',L.get_regionPart());break}case 3:case 4:case 2:{this.$12=window.setTimeout(function(){bL.hoverOverCoordinates(bN,bM,'visualparts',L.get_regionPart())},120);break}default:{break}}}}else if(ss.isValue(L.get_contentProvider())){var bX=L.hitTestNodes(bM);if(ss.isValue(bX)){var bY=tab.SelectionUtils.nodeSelectionFromDrawGroup(bX);var bZ=tab.BrushingComputer.getTuplesAssociatedWithSelectedNodes(this.get_paneTableVM().get_visualModel(),[bY]);bL.hoverOverHeader(bN,bM,'header',L.get_regionPart(),bZ);bP=true}}if(!bP){bL.hoverOverWhitespace(bN,L.get_regionPart())}},$c:function(){if(ss.isValue(this.$12)){window.clearTimeout(ss.unbox(this.$12));this.$12=null}},makeTiledWindow:null,shouldInformTooltipOfLocalTapOnViz:null,disposeOfOverlays:function(){this.disposeOfOverlayImages()},disposeOfOverlayImages:function(){for(var L=0;L<this.$U.length;L++){var bK=this.$U[L];if(ss.isValue(bK)){bK.dispose()}}ss.clear(this.$U);if(ss.isValue(this.$V)){this.$V.clearOverlays()}this.$W=tab.MiscUtil.clearTimeout(this.$W)},$t:function(L){if(ss.isValue(this.$V)){this.$V.setScrollPosition(L)}},checkForDragOverlays:function(){if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){if(ss.isValue(this.$W)){return}var L=(new Date).getTime()-this.$R;if(L>=30){this.$d()}else{this.$W=window.setTimeout(ss.mkdel(this,this.$d),30-L)}}},$d:function(){this.$W=null;var L=E.getIdsFromHitTestResults(this.get_vizRegion().hitTestMarksAgainstSelectionShape(),true);this.$V.setDragOverlayTuples(L);this.$R=(new Date).getTime()},updateRegionContentProvider:function(L,bK){this.regions[L].set_contentProvider(bK)},isSelectActionOnVizAllowed:function(L){return true},handleLocalTap:function(L,bK,bL,bM){var bN=false;if(this.isSelectActionOnVizAllowed(bK)){if(L.get_regionPart()==='viz'){var bO=ss.mkdel(this,function(bS){if(this.shouldInformTooltipOfLocalTapOnViz(bS)){this.$j(bS,L,bL,bM)}});var bP=L.doSelectFromPoint(bM,bK,bO);bN=bP.get_hitType()!==0}else if(ss.isValue(L.get_contentProvider())){var bQ=L.hitTestNodes(bM);if(ss.isValue(bQ)){var bR=ss.mkdel(this,function(){this.get_vizToolTip().singleSelectCoordinates(bL,bM,L.get_regionPart(),'header')});L.selectNode(bM,bQ,bK,bR);bN=true}else{tab.SelectionClientCommands.clearAllSelections(this.get_visualId())}}if(!bN){this.get_vizToolTip().hoverOverWhitespace(bL,L.get_regionPart())}}},$j:function(L,bK,bL,bM){var bN=null;if(ss.isValue(this.get_paneTableVM())&&ss.isValue(this.get_paneTableVM().get_scene())&&L.get_tooltipTargetType()==='mark'){var bO=this.get_paneTableVM().get_scene().getPaneDrawInfoFromTupleId(L.get_id());bN=bO.get_paneDescriptorKey()}var bP=tab.ActionUtils.couldSheetFilterActionsModifyItself(this.get_visualId().worksheet);if(bP){this.get_vizToolTip().singleSelectCoordinates(bL,bM,bK.get_regionPart(),L.get_tooltipTargetType())}else{this.get_vizToolTip().singleSelectComplete(bL,tab.PointUtil.add(bM,{x:this.geometry.viz.x,y:this.geometry.viz.y}),bM,L.get_id(),bN,L.get_tooltipTargetType(),bK.get_regionPart())}},$i:function(){var L=this.get_paneTableVM().get_visualModel();if(ss.isNullOrUndefined(L)){return}var bK=L.get_geometryModel().pm;this.$p(bK)},$p:function(L){i.$1(L,this.get_paneTableVM(),this.dom)},handleNewVisual:function(){if(this.get_paneTableVM().isInvalidSheet()){$('<div/>').text(tab.Strings.BaseClientInvalidSheet(this.get_paneTableVM().get_sheetId())).addClass('wcInvalidSheet').appendTo(this.get_template().domRoot).get(0);return}if(this.$O){return}var L=this.get_paneTableVM().get_visualModel();if(ss.isNullOrUndefined(L)){return}this.get_vizRegion().$3();this.$G(L);this.$B(L);this.$z();this.updateTooltipMode(L);var bK=L.get_geometryModel().pm;{this.$s(bK,L.get_containerGeometry())}this.$H(L);this.floatingZoomToolbarView.setToolMode(this.defaultPointerToolMode(),true);this.updateRegionBackgroundColor();this.$E();this.$C();this.$p(bK);this.isAnimationOccurring=false},$H:function(L){this.updateMapsSearchView();if(L.get_isMap()&&L.get_vizNavigationSetting()==='fixed'&&(this.get_vizRegion().isPanToolActive()||this.get_vizRegion().isZoomToolActive())){this.setPointerToolMode(L.get_defaultMapTool(),true)}this.get_vizRegion().updateDefaultToolMode();this.floatingZoomToolbarView.updateZoomToolbar(L.get_floatingToolbarVisibility());if(tab.FeatureFlags.isEnabled('TouchSmoothTooltips')){this.get_paneTableVM().get_floatingToolbarContainerVM().shouldEnablePanAndZoom(this.allowPanZoom());this.get_paneTableVM().get_floatingToolbarContainerVM().updateZoomHomeState(!this.get_paneTableVM().shouldEnableZoomHomeToolbar())}},updateMapsSearchView:function(){if(this.get_paneTableVM().get_mapSearchEnabled()){if(ss.isNullOrUndefined(this.get_paneTableVM().get_mapsSearchViewModel())||ss.isNullOrUndefined(this.mapsSearchView)){this.$b();this.buildMapsSearchView()}this.addMapsSearchViewToDomIfNeeded()}else{this.removeMapsSearchViewFromDomIfNeeded()}},$b:function(){this.get_paneTableVM().set_mapsSearchViewModel(new V(this.get_paneTableVM().get_visualId()));this.get_paneTableVM().get_mapsSearchViewModel().add_onMoveMapToBounds(ss.mkdel(this,this.handleMoveMapToBounds));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_paneTableVM().get_mapsSearchViewModel().remove_onMoveMapToBounds(ss.mkdel(this,this.handleMoveMapToBounds))})))},buildMapsSearchView:function(){this.mapsSearchView=tab.ObjectRegistry.newView(U).call(null,[this.get_paneTableVM().get_mapsSearchViewModel()]);this.makeMapsSearchViewConnections();this.get_paneTableVM().get_mapsSearchViewModel().collapseSearchWidget();this.mapsSearchView.addClass('tabSuppressVizTooltipsAndOverlays')},addMapsSearchViewToDomIfNeeded:function(){if(!this.$Q){this.mapsSearchView.addToDom(this.dom.view);this.$Q=true}},removeMapsSearchViewFromDomIfNeeded:function(){if(ss.isValue(this.mapsSearchView)){if(this.$Q){var L=this.mapsSearchView.element[0].parentNode;if(ss.isValue(L)){L.removeChild(this.mapsSearchView.element[0]);this.$Q=false}}this.get_paneTableVM().get_mapsSearchViewModel().collapseSearchWidget();this.get_paneTableVM().get_mapsSearchViewModel().setVisible(false)}},handlePropertyChanged:function(L,bK){switch(bK.get_propertyName()){case'vizNavigationSetting':{this.$a();this.makeInputHandlers();break}case'borderHighlight':{this.dom.borders.toggleClass('tvBorderHighlight',this.get_paneTableVM().get_highlightBorder());break}default:{break}}},updateTooltipMode:function(L){if(ss.isValue(this.vizTooltip)&&L.get_tooltipMode()!==this.vizTooltip.get_currentTooltipMode()){this.vizTooltip.close();this.vizTooltip.dispose();this.vizTooltip=null}},$G:function(L){if(this.get_paneTableVM().get_hasTitle()){if(ss.isValue(this.$11)){return}this.dom.title.css('display','');var bK=new tab.TextRegionViewModel(L.get_titleModel());bK.options=new tab.TextRegionOptions(!tsConfig.is_authoring);var bL=bK;this.$11=new tab.TextRegionView(bL);this.$10='title'+this.$g();this.$11.element.attr('id',this.$10);this.$11.addToDom(this.dom.title)}else if(ss.isValue(this.$11)){this.dom.title.css('display','none');this.$11.get_viewModel().dispose();this.$11=null}},$B:function(L){if(this.get_paneTableVM().get_hasCaption()){if(ss.isValue(this.$M)){return}this.dom.caption.css('display','');var bK=new tab.TextRegionViewModel(L.get_captionModel());bK.options=new tab.TextRegionOptions(!tsConfig.is_authoring);var bL=bK;this.$M=new tab.TextRegionView(bL);this.$L='caption'+this.$g();this.$M.element.attr('id',this.$L);this.$M.addToDom(this.dom.caption)}else if(ss.isValue(this.$M)){this.dom.caption.css('display','none');this.$M.get_viewModel().dispose();this.$M=null;this.$L=''}},$A:function(){if(ss.isNullOrUndefined(this.$P)){var L='instructions'+this.$g();this.$P=$('<div/>').attr('id',L).css('display','none');this.$P.appendTo(this.dom.enclosingDiv)}var bK=tab.Strings.AccessibilityClearSelectionInstructions+' '+(be.isViewDataAccessEnabled()?tab.Strings.AccessibilityViewDataInstructions:tab.Strings.AccessibilityViewDataDisabled);this.$P.text(bK)},$z:function(){this.dom.view.attr('tabindex','0').attr('role','img').attr('aria-describedby',ss.coalesce(this.$L,'')+' '+(ss.isValue(this.$P)?this.$P[0].id:''));if(this.get_paneTableVM().get_hasTitle()){this.dom.view.removeAttr('aria-label').attr('aria-labelledby',this.$10)}else{this.dom.view.removeAttr('aria-labelledby').attr('aria-label',tab.Strings.AccessibilityDataVisualizationTitleAttr)}},$x:function(){var L=this.dom.view;L.focus(ss.mkdel(this,function(bK){tab.SelectionClientCommands.setActiveZone(this.get_paneTableVM().get_zonePresModel().zoneId,null);this.$A()}));L.keydown(ss.mkdel(this,function(bK){if(bK.which===13&&be.isViewDataAccessEnabled()&&ss.referenceEquals(bK.target,bK.currentTarget)){bK.preventDefault();bK.stopPropagation();tab.ToolbarServerCommands.exportData()}else if(bK.which===27){bK.preventDefault();bK.stopPropagation();this.clearSelection()}}))},$g:function(){return tab.ModelUtils.findContentDashboard().getViewId(this.get_sheetid())},$E:function(){if(this.get_paneTableVM().get_isMap()){var L=ss.isNullOrUndefined(this.get_paneTableVM().get_mapScaleViewModel())||ss.isNullOrUndefined(this.$T);if(L&&ss.isValue(this.get_paneTableVM().get_mapServerModel())){this.get_paneTableVM().set_mapScaleViewModel(new tab.MapScaleViewModel(this.get_paneTableVM().get_mapServerModel().get_mapScaleInfoModel()));this.$T=tab.ObjectRegistry.newView(ss.makeGenericType(spiff.ReactHostView$3,[tab.MapScaleViewModel,tab.MapScaleComponent,Object])).call(null,[this.get_paneTableVM().get_mapScaleViewModel()]);this.$T.addToDom(this.dom.view)}}else if(ss.isValue(this.$T)){this.$T.dispose();this.$T=null}},$C:function(){var L=this.get_paneTableVM().get_mapServerModel();if(ss.isValue(L)&&L.get_hasPresModel()&&L.get_isAttributionVisible()){if(ss.isNullOrUndefined(this.$S)){this.$S=new S;this.$S.attributionBackground.css('background-color',L.get_attributionBGColor());this.$S.attributionLink.text(L.get_attributionText());this.$S.attributionLink.css('color',L.get_attributionTextColor());this.$S.attributionLink.css('font-size',L.get_attributionTextSize());this.$S.attributionLink.attr('href',L.get_attributionUrl());this.$S.attributionLink.attr('target','_blank');this.dom.view.append(this.$S.domRoot);this.$D()}}else if(ss.isValue(this.$S)){this.$S.dispose();this.$S=null}},$D:function(){if(ss.isValue(this.$S)){var L=1;var bK=1;var bL=this.get_vizRegion().get_contentProvider().get_effectiveViewSize();var bM=this.get_vizRegion().get_contentProvider().get_docSize();var bN=Math.min(0,bL.h+this.$Y.y-bM.h);bN+=L;var bO=Math.min(0,-this.$Y.x);bO+=bK;this.$S.domRoot.css('bottom',bN+'px');this.$S.domRoot.css('left',bO+'px')}},$k:function(){var L=this.get_paneTableVM().get_cacheUrlInfo();this.refreshImages(L)},$F:function(){if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){var L=this.listNonVizRegions();this.get_vizRegion().$1();var bK=ss.getEnumerator(Object.keys(this.get_paneTableVM().get_vizRegionMap()));try{while(bK.moveNext()){var bL=bK.current();var bM=tab.ModelUtils.visualPartToRegionMap[bL];if(ss.isValue(bM)&&ss.isValue(this.regions[bM])){var bN=this.regions[bM].get_contentProvider();if(!ss.isNullOrUndefined(bN)&&!ss.referenceEquals(bN.get_viewModel(),this.get_paneTableVM().get_vizRegionMap()[bL])){bN.destroy();bN=null}if(ss.isNullOrUndefined(bN)){var bO=L[bM];if(ss.isValue(bO)){var bP=this.get_paneTableVM().get_vizRegionMap()[bL];var bQ=new bt(bP,this.getDomNodeForContentRegion(bO),this.get_paneTableVM());bO.find('.tvimagesContainer').append(bQ.element);this.updateRegionContentProvider(bM,bQ);bQ.invalidate(false);this.$K=null}}else{this.regions[bM].$1()}}}}finally{bK.dispose()}var bR=ss.getEnumerator(Object.keys(tab.ModelUtils.visualPartToRegionMap));try{while(bR.moveNext()){var bS=bR.current();var bT=tab.ModelUtils.visualPartToRegionMap[bS];if(!ss.keyExists(this.get_paneTableVM().get_vizRegionMap(),bS)&&ss.isValue(this.regions[bT])&&ss.isValue(this.regions[bT].get_contentProvider())){this.regions[bT].get_contentProvider().destroy();this.regions[bT].set_contentProvider(null)}}}finally{bR.dispose()}}},$h:function(){return this.$Z+'Z'+this.$X},handleMoveMapToBounds:function(L){if(ss.isValue(this.get_vizRegion())&&tab.FeatureParamsLookup.getBool(19)){this.get_vizRegion().moveMapToBounds(L)}},$a:function(){var L={tap:ss.mkdel(this,function(bL){bL.stopPropagation();bL.preventDefault();this.clearSelection()})};var bK=ss.mkdel(this,function(bL){this.disposables.add$1(new spiff.TableauEventHandler.$ctor1(bL.get(0),L))});bK(this.dom.topLeftSpacer);bK(this.dom.topRightSpacer);bK(this.dom.bottomLeftSpacer);bK(this.dom.bottomRightSpacer);bK(this.dom.title);bK(this.dom.caption)},$n:function(){tab.ViewController.add_selectionChanged(ss.mkdel(this,this.$o));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){tab.ViewController.remove_selectionChanged(ss.mkdel(this,this.$o))})))},onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this);var L=ss.mkdict(['top','0px','left','0px','right','0px','bottom','0px']);this.get_template().domRoot.css(L);this.handleNewVisual();if(this.get_paneTableVM().get_visualModel().get_isVisualValid()){this.$k()}},checkForSuppressTooltipsAndOverlays:function(L){var bK=$(L);var bL=bK.hasClass('tabSuppressVizTooltipsAndOverlays')||bK.parents('.tabSuppressVizTooltipsAndOverlays').length>0;if(bL){this.disposeOfOverlayImages();var bM=this.get_vizToolTip();bM.clearTooltipWithFakeHover()}this.get_vizToolTip().suppress(bL)},$e:function(){if(ss.isNullOrUndefined(this.vizTooltip)||!this.get_isSameVisualID()){this.vizTooltip=this.makeTooltip();this.connectTooltipEventHandlers()}}},ss.makeGenericType(spiff.BaseView$1,[tab.IPaneTableViewModel]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[tab.IPaneTableViewModel]),tab.IPaneTableView,N]);ss.initClass(bf,a,{add_vizRegionMapChange:function(L){this.$2$1=ss.delegateCombine(this.$2$1,L)},remove_vizRegionMapChange:function(L){this.$2$1=ss.delegateRemove(this.$2$1,L)},add_newPaneTable:function(L){this.$2$2=ss.delegateCombine(this.$2$2,L)},remove_newPaneTable:function(L){this.$2$2=ss.delegateRemove(this.$2$2,L)},add_textUpdated:function(L){this.$2$3=ss.delegateCombine(this.$2$3,L)},remove_textUpdated:function(L){this.$2$3=ss.delegateRemove(this.$2$3,L)},add_differentMarkBrushing:function(L){this.$2$4=ss.delegateCombine(this.$2$4,L)},remove_differentMarkBrushing:function(L){this.$2$4=ss.delegateRemove(this.$2$4,L)},add_differentMarkSelection:function(L){this.$2$5=ss.delegateCombine(this.$2$5,L)},remove_differentMarkSelection:function(L){this.$2$5=ss.delegateRemove(this.$2$5,L)},get_isMap:function(){return this.$t.get_isMap()},get_isMapWithBaseLayer:function(){return this.get_isMap()&&this.get_mapServerModel().get_hasPresModel()},get_mapSearchEnabled:function(){return tsConfig.allow_filter&&this.get_isMap()&&this.get_visualModel().get_geoSearchVisibility()==='on'&&!tab.ApplicationModel.get_instance().get_isOffline()},get_tooltipContextProvider:function(){return(tab.ApplicationModel.get_instance().get_isLocalRenderMode()?new tab.TooltipContextProvider(this.get_visualModel().get_selectionsModel()):null)},get_scene:function(){return this.$r},get_vizRegionMap:function(){return this.$u},get_refLineVisualLists:function(){return this.$j().get_refLineVisualLists()},get_trendLineVisualLists:function(){return this.$j().get_trendLineVisualLists()},get_drawFirstParts:function(){return this.$j().get_drawFirstParts()},get_drawLastParts:function(){return this.$j().get_drawLastParts()},get_zonePresModel:function(){return this.$t.get_zone().pm},get_viewController:function(){return this.$2$6},set_viewController:function(L){this.$2$6=L},get_sheetId:function(){return this.get_visualModel().get_worksheetName()},get_sortIndicators:function(){return this.$t.get_sortIndicatorsModel().get_sortIndicatorsPresModel()},get_selectionsModel:function(){return this.$t.get_selectionsModel()},get_cacheUrlInfo:function(){return this.$t.get_cacheUrlInfo()},get_hasTitle:function(){return this.get_zonePresModel().zoneCommon.hasTitle},get_hasCaption:function(){return this.get_zonePresModel().hasCaption},get_visualModel:function(){return this.$t},$j:function(){return this.$t.get_sceneModel()},get_visualId:function(){return this.$t.get_visualId()},get_mapServerModel:function(){return this.get_visualModel().get_mapServerModel()},get_mapsSearchViewModel:function(){return this.$p},set_mapsSearchViewModel:function(L){this.$p=L},get_mapScaleViewModel:function(){return this.$o},set_mapScaleViewModel:function(L){this.$o=L},get_floatingToolbarContainerVM:function(){return this.$2$7},set_floatingToolbarContainerVM:function(L){this.$2$7=L},get_highlightBorder:function(){return this.borderHighlighted},set_highlightBorder:function(L){if(this.borderHighlighted===L){return}this.borderHighlighted=L;this.notifyPropertyChanged('borderHighlight')},dispose:function(){if(ss.isValue(this.$p)){this.$p.dispose()}if(ss.isValue(this.$o)){this.$o.dispose()}if(ss.isValue(this.$t)){if(ss.isValue(this.$t.get_selectionsModel().tupleSelection)){this.$t.get_selectionsModel().remove_newSelections(ss.mkdel(this,this.$c))}this.$t.get_impliedSelectionModel().remove_newSelection(ss.mkdel(this,this.$c));if(ss.isValue(this.$t.get_brushingsModel().tupleSelection)){this.$t.get_brushingsModel().remove_newSelections(ss.mkdel(this,this.$3))}if(ss.isValue(this.$t.get_sceneModel())){this.$t.get_sceneModel().remove_newSceneModel(ss.mkdel(this,this.$b))}if(ss.isValue(this.$t.get_labelsModel())){this.$t.get_labelsModel().remove_newSceneModel(ss.mkdel(this,this.$b))}this.$t.remove_newHiddenTuples(ss.mkdel(this,this.$8));this.$t.remove_newFilteredTuples(ss.mkdel(this,this.$7));this.$t.remove_brushingFromActionChanged(ss.mkdel(this,this.$4));this.$t.remove_colorDictionaryChanged(ss.mkdel(this,this.$5));this.$t.remove_vizNavigationSettingChanged(ss.mkdel(this,this.$e));this.$t.remove_newVisual(ss.mkdel(this,this.$d));this.$t.remove_newVisual(ss.mkdel(this,this.$a));this.$t.remove_emptyHighlightFogAllChanged(ss.mkdel(this,this.$6));this.$l=tab.MiscUtil.dispose$1(this.$l)}var L=new ss.ObjectEnumerator(this.$u);try{while(L.moveNext()){var bK=L.current();bK.value.dispose()}}finally{L.dispose()}spiff.BaseViewModel.prototype.dispose.call(this)},getAndClearInvalidationRects:function(){var L=this.$n;this.$n=[];return L},$9:function(){this.notifyPropertyChanged('images')},$e:function(){this.notifyPropertyChanged('vizNavigationSetting')},$c:function(){var L=this.$t.get_selectionsModel().computeSelectionsDiff(this.$s,this.$m,this.$t.get_impliedSelectionModel());if(!ss.staticEquals(this.$2$5,null)&&bf.$0(L,this.$t.get_selectionsModel(),this.$t.get_impliedSelectionModel())){this.$2$5()}this.$s=this.$t.get_selectionsModel().createSelectionsToken();this.$m=this.$t.get_impliedSelectionModel().createSelectionToken();this.$h(L,'selection')},$3:function(){var L=this.$t.get_brushingsModel().computeSelectionsDiff(this.$k,null,null);if(!ss.staticEquals(this.$2$4,null)&&bf.$0(L,this.$t.get_brushingsModel(),null)){this.$2$4()}this.$k=this.$t.get_brushingsModel().createSelectionsToken();this.$r.setEmptyHighlightFogAll(this.$t.get_emptyHighlightFogAll());this.$h(L,'brushing')},$h:function(L,bK){if(!L.get_invalidateViz()){if(L.get_objectIds().length===0){return}var bL=this.$r.getMarksInvalidationRects(L.get_objectIds());this.$2(bL)}this.notifyPropertyChanged(bK)},$4:function(){this.$r.setIsTargetOfBrushingAction(this.$t.get_isBrushedFromAction());this.notifyPropertyChanged('brushing')},$6:function(){this.$r.setEmptyHighlightFogAll(this.$t.get_emptyHighlightFogAll());this.$q=true},$8:function(){var L=tab.SelectionsModel.computeTupleDictionaryDifference(this.$t.get_hiddenTuples(),this.$r.get_hiddenTuples());if(L.length===0){return}var bK=this.$r.getMarksInvalidationRects(L);this.$2(bK);this.$r.set_hiddenTuples(this.$t.get_hiddenTuples());this.notifyPropertyChanged('scene')},$7:function(){var L=tab.SelectionsModel.computeTupleDictionaryDifference(this.$t.get_filteredTuples(),this.$r.get_filteredTuples());if(L.length===0){return}var bK=this.$r.getMarksInvalidationRects(L);this.$2(bK);this.$r.set_filteredTuples(this.$t.get_filteredTuples());this.notifyPropertyChanged('scene')},$5:function(){this.$q=true},$2:function(L){ss.arrayAddRange(this.$n,L)},$b:function(){if(!tab.ApplicationModel.get_instance().get_isLocalRenderMode()){return}var L=false;var bK=ss.getEnumerator(Object.keys(this.$j().get_visualListModels()));try{while(bK.moveNext()){var bL=bK.current();var bM=this.$j().get_visualListModels()[bL];var bN=this.$u[bL];if(ss.isValue(bN)&&ss.referenceEquals(bN.get_visualList(),bM)){}else{tab.MiscUtil.dispose$1(this.$u[bL]);delete this.$u[bL];if(ss.contains(bf.blackListVisualParts,bL)){this.$u[bL]=new bz(bM,this.get_visualId(),tab.ModelUtils.visualPartToRegionMap[bL],this.$t.get_selectionsModel(),this.$t.get_brushingsModel())}else{this.$u[bL]=new bz(bM,this.get_visualId(),tab.ModelUtils.visualPartToRegionMap[bL],null,null)}L=true}}}finally{bK.dispose()}var bO=Object.keys(this.$u);var bP=ss.getEnumerator(bO);try{while(bP.moveNext()){var bQ=bP.current();if(!ss.keyExists(this.$j().get_visualListModels(),bQ)){tab.MiscUtil.dispose$1(this.$u[bQ]);delete this.$u[bQ];L=true}}}finally{bP.dispose()}var bR=this.$j().get_backgroundColor().toString();var bS=ss.getEnumerator(Object.keys(this.$u));try{while(bS.moveNext()){var bT=bS.current();this.$u[bT].set_defaultBackgroundColor(bR)}}finally{bS.dispose()}if(L){this.$g()}this.$q=true},$d:function(){if(this.$q){this.$i();this.notifyPropertyChanged('scene')}this.$q=false},$g:function(){if(ss.isValue(this.$2$1)){this.$2$1()}},$i:function(){bf.updateSceneInfoFromVisualModel(this.$r,this.$t);if(this.$r.customShapes.length>0){this.$l=this.$l||new bp(ss.mkdel(this,function(){this.notifyPropertyChanged('images')}));this.$l.initialize(this.$r.customShapes)}if(ss.isValue(this.$t)&&ss.isValue(this.$t.pm)&&ss.isValue(this.$t.pm.imageDictionary)){this.$r.updateImageMap(this.$t.pm.imageDictionary,ss.mkdel(this,function(){this.$9()}))}},isInvalidSheet:function(){return _.any(this.$t.get_invalidSheets(),ss.mkdel(this,function(L){return _.isEqual(this.get_visualId(),L)}))},$a:function(){this.raiseActionEvent(this.$2$2)},shouldEnableZoomHomeToolbar:function(){return this.get_visualModel().get_hasModifiedAxes()},$f:function(){if(!ss.staticEquals(this.$2$3,null)){this.$2$3()}}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel,tab.IPaneTableViewModel]);ss.initClass(bg,a,{get_hitTestingBox:function(){return((this.$k.length===0)?{x:0,y:0,w:0,h:0}:tab.RectXYUtil.nonemptyify(this.$g(true)))},get_autoScrollAdjustment:function(){return((tab.ApplicationModel.get_instance().get_isLocalRenderMode()||tsConfig.is_mobile)?this.get_autoScrollOffset():{x:0,y:0})},isSingleSelect:function(){return this.$k.length===0},$g:function(L){var bK=(L?this.$l:this.$k);var bL=bK[0].x;var bM=bL;var bN=bK[0].y;var bO=bN;for(var bP=0;bP<bK.length;bP++){var bQ=bK[bP];if(bQ.x<bL){bL=bQ.x}else if(bQ.x>bM){bM=bQ.x}if(bQ.y<bN){bN=bQ.y}else if(bQ.y>bO){bO=bQ.y}}return{x:bL,y:bN,w:bM-bL,h:bO-bN}},updateSpecificShape:function(L){if(this.$k.length===0){var bK=this.get_dragStart().x-this.get_connectNodePos().x;var bL=this.get_dragStart().y-this.get_connectNodePos().y;this.$d(bK,bL)}var bM=L.x;var bN=L.y;this.$d(bM,bN)},renderShape:function(){if(ss.isNullOrEmptyString(this.$p)){return}this.get_dom().find('svg path').attr('d',this.$p);this.$i=tab.MiscUtil.clearTimeout(this.$i);this.$i=window.setTimeout(ss.mkdel(this,function(){this.$f()}),300);this.get_dom().css('display','')},$f:function(){this.$i=tab.MiscUtil.clearTimeout(this.$i);this.get_dom().find('svg path').attr('d',this.$p+'Z')},show:function(){this.$e();this.renderShape();this.get_dom().find('.selectionShape').show()},hide:function(){this.get_dom().find('.selectionShape').hide()},shapeAreaHit:function(L,bK,bL,bM){var bN=bL.get_objectId();var bO=bK.markType;var bP=D.rectangleAreaHit(bK,bL.get_boundingBox(),L,bN,bM,bO);if(!bP){return false}var bQ=0;var bR=0;if(bM.get_transformType()===3){bQ=bM.get_translateX();bR=bM.get_translateY()}var bS=this.$h(bQ,bR);return D.polyAreaHit(bK,bL.get_boundingBox(),bS,bN,bM,bO)},sendSelectionCommand:function(L,bK,bL,bM){tab.SelectionClientCommands.selectPolyRegionAndDoUbertip(L,this.get_hitTestingBox(),this.$l,bK,bL,bM)},retrieveStateObject:function(L){return(this.isStateObjectTypeCorrect(L)?L:new bh)},saveCurrentState:function(L){if(this.isStateObjectTypeCorrect(L)){var bK=L;bK.saveCurrentState(this.$l)}},isStateObjectTypeCorrect:function(L){if(ss.isValue(L)){if(ss.referenceEquals(ss.getInstanceType(L),bh)){return true}}return false},$e:function(){ss.clear(this.$k);ss.clear(this.$l);ss.clearKeys(this.$j);this.$p='';this.$n=null;this.$o=null},$d:function(L,bK){var bL=2;var bM=1;if(this.$m&&ss.isValue(this.$n)&&ss.isValue(this.$o)){if(Math.abs(L-ss.unbox(this.$n))<bL&&Math.abs(bK-ss.unbox(this.$o))<bL){return}}var bN=L+this.get_drawOffsets().x+this.get_autoScrollAdjustment().x;var bO=bK+this.get_drawOffsets().y+this.get_autoScrollAdjustment().y;var bP=L+this.get_totalScrollOffset().x;var bQ=bK+this.get_totalScrollOffset().y;var bR=false;var bS=false;var bT=false;var bU=this.$l.length;if(this.$m){if(bU>1){var bV=this.$l[bU-1];var bW=this.$l[bU-2];var bX=Math.abs(bP-bW.x);var bY=Math.abs(bP-bV.x);var bZ=Math.abs(bQ-bW.y);var ca=Math.abs(bQ-bV.y);bR=bZ<=bM&&ca<=bM;if(bR){bR=bg.$0(bP,bV.x,bW.x)}else{bS=bX<=bM&&bY<=bM;if(bS){bS=bg.$0(bQ,bV.y,bW.y)}else{bT=bX*ca===bZ*bY&&bg.$0(bP,bV.x,bW.x)}}}}var cb=bU-1;if(bR){this.$k[cb].x=bN;this.$l[cb].x=bP}else if(bS){this.$k[cb].y=bO;this.$l[cb].y=bQ}else if(bT){this.$k[cb].x=bN;this.$k[cb].y=bO;this.$l[cb].x=bP;this.$l[cb].y=bQ}else{this.$k.push({x:bN,y:bO});this.$l.push({x:bP,y:bQ})}this.$p='';var cc=this.get_autoScrollAdjustment();var cd='M';for(var ce=0;ce<this.$k.length;ce++){var cf=this.$k[ce];this.$p+=cd+(cf.x-cc.x)+','+(cf.y-cc.y);cd='L'}this.$n=L;this.$o=bK},$h:function(L,bK){var bL=0;var bM=this.$l.length;var bN=L.toString()+':'+bK.toString();var bO=this.$j[bN];if(ss.isNullOrUndefined(bO)){bO=new Array(bM*2);this.$j[bN]=bO}else{bL=ss.Int32.div(bO.length,2);if(this.$m){bL-=1}bO.length=bM*2}var bP=Math.round(L);var bQ=Math.round(bK);for(var bR=bL,bS=bL*2;bR<bM;bR++,bS+=2){var bT=this.$l[bR];bO[bS]=bT.x-bP;bO[bS+1]=bT.y-bQ}return bO}},bq);ss.initClass(bh,a,{saveCurrentState:function(L){if(L.length<this.$1){}this.$0=ss.arrayClone(L)},updateLastState:function(){this.$1=Math.max(0,this.$0.length-1)},getStateDiff:function(){if(this.$0.length===0){return[]}var L=this.$0[0].y;var bK=L;var bL=this.$0[0].x;var bM=bL;for(var bN=this.$1,bO=this.$0.length;bN<bO;bN++){L=Math.min(L,this.$0[bN].y);bK=Math.max(bK,this.$0[bN].y);bL=Math.min(bL,this.$0[bN].x);bM=Math.max(bM,this.$0[bN].x)}var bP=new Array(1);bP[0]=tab.RectXYUtil.nonemptyify({x:bL,y:L,w:bM-bL,h:bK-L});return bP}},br);ss.initClass(bi,a,{get_hitTestingBox:function(){return tab.RectXYUtil.nonemptyify(this.$e)},isSingleSelect:function(){return this.$d.w<=1&&this.$d.h<=1},updateSpecificShape:function(L){var bK=this.get_dragStart().x-this.get_connectNodePos().x;var bL=this.get_dragStart().y-this.get_connectNodePos().y;var bM=Math.round(Math.min(L.x,bK));var bN=Math.round(Math.max(L.x,bK));var bO=Math.round(Math.min(L.y,bL));var bP=Math.round(Math.max(L.y,bL));var bQ=bN-bM;var bR=bP-bO;this.$d={x:bM+this.get_drawOffsets().x,y:bO+this.get_drawOffsets().y,w:bQ,h:bR};this.$e={x:bM+this.get_totalScrollOffset().x,y:bO+this.get_totalScrollOffset().y,w:bQ,h:bR}},renderShape:function(){var L={l:this.$d.x,t:this.$d.y,w:this.$d.w,h:this.$d.h};tab.DomUtil.setMarginBoxJQ(this.get_dom(),L);this.get_dom().css('display','')},show:function(){this.get_dom().addClass('tvdrag_marquee')},hide:function(){this.get_dom().removeClass('tvdrag_marquee')},shapeAreaHit:function(L,bK,bL,bM){return D.rectangleAreaHit(bK,bL.get_boundingBox(),L,bL.get_objectId(),bM,bK.markType)},sendSelectionCommand:function(L,bK,bL,bM){tab.SelectionClientCommands.selectRectRegionAndDoUbertip(L,this.get_hitTestingBox(),bK,bL,bM)},retrieveStateObject:function(L){return(this.isStateObjectTypeCorrect(L)?L:new bj)},saveCurrentState:function(L){if(this.isStateObjectTypeCorrect(L)){var bK=L;bK.saveCurrentState(this.get_hitTestingBox())}},isStateObjectTypeCorrect:function(L){if(ss.isValue(L)){if(ss.referenceEquals(ss.getInstanceType(L),bj)){return true}}return false}},bq);ss.initClass(bj,a,{saveCurrentState:function(L){this.$0=tab.RectXYUtil.clone(L)},updateLastState:function(){this.$1=this.$0},getStateDiff:function(){if(!tab.RectXYUtil.isEmpty(this.$1)){return tab.RectXYUtil.getChangedRects(this.$1,this.$0)}var L=new Array(1);L[0]=this.$0;return L}},br);ss.initClass(bk,a,{get_neededWidth:function(){return this.$2},get_neededHeight:function(){return this.$1},get_scrollableWidth:function(){return this.$a},get_scrollableHeight:function(){return this.$9},get_scrollXLeft:function(){return this.$7},get_scrollYTop:function(){return this.$8},get_widthScrollOffset:function(){return this.$d},get_heightScrollOffset:function(){return this.$0},get_viewWidth:function(){return this.$c},get_viewHeight:function(){return this.$b},get_scrollWidth:function(){return this.$6},get_scrollHeight:function(){return this.$5},get_overallWidth:function(){return this.$4},get_overallHeight:function(){return this.$3},getVisibleGeometry:function(L,bK,bL,bM){var bN={};bN.uleftArea=null;if(ss.isValue(L.uleft)){bN.uleftArea={l:L.uleft.x,t:L.uleft.y,w:Math.min(L.uleft.w,bK-this.get_scrollWidth()),h:L.uleft.h}}bN.yheaderArea=null;if(ss.isValue(L.yheader)){bN.yheaderArea={l:L.yheader.x,t:L.yheader.y,w:Math.min(L.yheader.w,bK-this.get_scrollWidth()),h:this.get_viewHeight()+bL}}bN.leftaxisArea=null;if(ss.isValue(L.leftaxis)){bN.leftaxisArea={l:L.leftaxis.x,t:L.leftaxis.y,w:L.leftaxis.w,h:this.get_viewHeight()+bL}}bN.rightaxisArea=null;if(ss.isValue(L.rightaxis)){bN.rightaxisArea={l:L.rightaxis.x-this.get_widthScrollOffset(),t:L.rightaxis.y,w:L.rightaxis.w,h:this.get_viewHeight()+bL}}bN.xheaderArea=null;if(ss.isValue(L.xheader)){bN.xheaderArea={l:L.xheader.x,t:L.xheader.y,w:this.get_viewWidth()+bM,h:L.xheader.h}}bN.bottomaxisArea=null;if(ss.isValue(L.bottomaxis)){bN.bottomaxisArea={l:L.bottomaxis.x,t:L.bottomaxis.y-this.get_heightScrollOffset(),w:this.get_viewWidth()+bM,h:L.bottomaxis.h}}bN.topaxisArea=null;if(ss.isValue(L.topaxis)){bN.topaxisArea={l:L.topaxis.x,t:L.topaxis.y,w:this.get_viewWidth()+bM,h:L.topaxis.h}}bN.urightArea=null;if(ss.isValue(L.uright)){bN.urightArea={l:L.uright.x-this.get_widthScrollOffset(),t:L.uright.y,w:Math.min(L.uright.w,bK-this.get_scrollWidth()),h:L.uright.h}}bN.lleftArea=null;if(ss.isValue(L.lleft)){bN.lleftArea={l:L.lleft.x,t:L.lleft.y-this.get_heightScrollOffset(),w:L.lleft.w,h:L.lleft.h}}bN.lrightArea=null;if(ss.isValue(L.lright)){bN.lrightArea={l:L.lright.x-this.get_widthScrollOffset(),t:L.lright.y-this.get_heightScrollOffset(),w:L.lright.w,h:L.lright.h}}bN.vizArea=null;if(ss.isValue(L.viz)){bN.vizArea={l:L.viz.x,t:L.viz.y,w:this.get_viewWidth()+bM,h:this.get_viewHeight()+bL}}return bN}});ss.initClass(bl,a,{});ss.initClass(bm,a,{get_hasSelection:function(){return ss.isValue(this.selections)&&this.selections.get_hasPaneTableObjectSelection()},get_hasBrushing:function(){return this.$n||ss.isValue(this.brushings)&&this.brushings.get_hasPaneTableObjectSelection()||ss.isValue(this.$m)&&!this.$m.isEmpty||this.$h},get_imageDictionary:function(){return this.$k},get_hiddenTuples:function(){return this.$l},set_hiddenTuples:function(L){this.$l=L||new Map},get_isSingleUserPane:function(){return this.scene.panes.length===1&&ss.isNullOrUndefined(this.sceneUserPaneInfo)},get_filteredTuples:function(){return this.$i},set_filteredTuples:function(L){this.$i=L||new Map},setSceneData:function(L,bK,bL,bM,bN,bO,bP){this.$p.clear();this.$j.clear();this.$o.clear();this.$r.clear();this.$q.clear();this.sceneUserPaneInfo=null;this.scene=L;if(tab.FeatureFlags.isEnabled('PageCardImprovements')){this.$f=L.currentPage;this.$g=L.pageCount}this.set_hiddenTuples(bO);this.set_filteredTuples(bP);if(ss.isValue(L)&&ss.isValue(L.pdMarksMap)){this.customShapes=bm.extractCustomShapes(L);if(ss.isValue(L.panes)){if(ss.isValue(L.userPaneInfo)){this.sceneUserPaneInfo=new bn(L.userPaneInfo)}this.$d(L);for(var bQ=0;bQ<L.panes.length;bQ++){var bR=L.panes[bQ];for(var bS=0;bS<bR.drawPane.length;bS++){var bT=bR.drawPane[bS];if(ss.isValue(bT.paneMarks)){var bU=bT.paneMarks;var bV=bU.paneDescrKey;var bW=this.scene.pdMarksMap[bV];var bX=bm.getPaneMarksKey(bU);var bY=new Z.$ctor1(bV,this,bR,bU,bW,bN,bX);this.$r.set(bX,bY)}}}}}if(ss.isValue(bK)){this.selections=bK;this.$m=bL}if(ss.isValue(bM)){this.brushings=bM}this.colorModel=J.extractInteractionColors(this.scene)},getMarkBoundingBox:function(L){if(this.$p.has(L)){return this.$p.get(L)}else{return bm.$1}},$7:function(L,bK){if(this.$q.has(L)&&bK>=0&&bK<this.$q.get(L).length){return this.$q.get(L)[bK]}return null},computeFilteredMarks:function(L){var bK=new Set;var bL=this.$i.size;if(bL===0){return bK}for(var bM=0;bM<L.length;bM++){var bN=L.v[(L.c?0:bM)];if(this.$i.has(bN.toString())){bK.add(bM);if(bK.size===bL){break}}}return bK},computeTupleStates:function(L){var bK=this.get_hasSelection();var bL=this.selections;var bM=(ss.isValue(bL)?bL.tupleSelection:null);var bN=new Set;if(ss.isValue(bM)){tab.SetUtilities.addAll(ss.Int32).call(null,bN,bM.get_ids())}var bO=this.get_hasBrushing();var bP=this.brushings;var bQ=(ss.isValue(bP)?bP.tupleSelection:null);var bR=new Set;if(ss.isValue(bQ)){tab.SetUtilities.addAll(ss.Int32).call(null,bR,bQ.get_ids())}var bS=new Set;if(ss.isValue(this.$m)){tab.SetUtilities.addAll(ss.Int32).call(null,bS,this.$m.get_ids())}var bT=0;if(!ss.isNullOrUndefined(L)){bT=L.length}var bU=new Array(bT);for(var bV=0;bV<bT;bV++){var bW=L.v[(L.c?0:bV)];var bX='markStateNormal';if(this.$l.has(bW.toString())){bX='markStateInvisible'}else if(bK&&bN.has(bW)){bX='markStateSelected'}else if(bO&&(bR.has(bW)||bS.has(bW))){bX='markStateHighlighted'}bU[bV]=bX}return bU},prepareForDraw:function(L){this.$4(L);this.$e()},cleanupFromDraw:function(){this.$3()},$6:function(L){if(this.$o.has(L)){return this.$o.get(L)}else{return bm.$1}},getMarksInvalidationRects:function(L){var bK=[];for(var bL=0;bL<L.length;bL++){var bM=L[bL];var bN=this.$8(bM);for(var bO=0;bO<bN.length;bO++){var bP=bN[bO];bK.push(bP)}}return bK},$8:function(L){var bK=false;var bL=[];for(var bM=0;bM<this.scene.panes.length;bM++){var bN=this.scene.panes[bM];if(bN.renderNodes.length>0){bK=true;break}}var bO=this.getPaneDrawInfoFromTupleId(L);if(ss.isNullOrUndefined(bO)){return bL}var bP=bO.markType;if(bK){bL.push(bO.paneRect)}else if(bP==='area'||bP==='line'){bL.push(bO.paneRect)}else{var bQ=this.$5(L);var bR=bO.getWorldOffsetBounds(bQ);for(var bS=0;bS<bR.length;bS++){var bT=bR[bS];bL.push(bT)}var bU=this.$6(L);if(!tab.RectXYUtil.isNull(bU)){var bV=bO.getWorldOffsetBounds(bU);for(var bW=0;bW<bV.length;bW++){var bX=bV[bW];bL.push(bX)}}}return bL},updateImageMap:function(L,bK){if(ss.isValue(L)&&ss.isValue(L.imageMap)){var bL=new ss.ObjectEnumerator(L.imageMap);try{while(bL.moveNext()){var bM=bL.current();var bN=bM.key;if(!this.$k.has(bN)){var bO=bM.value;var bP={$:document.createElement('img')};bP.$.src='data:image/jpeg;base64,'+bO;this.$k.set(bN,bP.$);var bQ={$:null};bQ.$=ss.mkdel({imgElt:bP,imageFinishedLoad:bQ},function(){if(ss.isValue(bK)){bK()}this.imgElt.$.removeEventListener('load',this.imageFinishedLoad.$,false)});bP.$.addEventListener('load',bQ.$,false)}}}finally{bL.dispose()}this.$k.forEach(ss.mkdel(this,function(bR,bS){if(!ss.keyExists(L.imageMap,bS)){this.$k.delete(bS)}}))}},$b:function(L){return this.get_hasSelection()&&this.selections.tupleSelection.isObjectSelected(L)},$9:function(L){return this.get_hasBrushing()&&(ss.isValue(this.brushings)&&this.brushings.tupleSelection.isObjectSelected(L)||this.$a(L))},$a:function(L){return ss.isValue(this.$m)&&this.$m.isObjectSelected(L)},$c:function(L){return!this.$l.has(L.toString())},isMarkFiltered:function(L){return this.$i.has(L.toString())},setLabelInfo:function(L){if(ss.isValue(L)&&ss.isValue(L.panes)){for(var bK=0;bK<L.panes.length;bK++){var bL=L.panes[bK];for(var bM=0;bM<bL.drawPane.length;bM++){var bN=bL.drawPane[bM];if(ss.isValue(bN.paneMarks)){var bO=bN.paneMarks;var bP=bm.getPaneMarksKey(bO);if(ss.isValue(this.$r.has(bP))){var bQ=this.$r.get(bP);var bR=bO.paneDescrKey;var bS=L.pdMarksMap[bR];bQ.addLabelInfo(bS,bO)}}}}}},getPaneDrawInfo:function(L){var bK=null;if(ss.isValue(L)){bK=this.$r.get(bm.getPaneMarksKey(L))}return bK},getPaneDrawInfoFromKey:function(L){return this.$r.get(L)},getPaneDrawInfoFromTupleId:function(L){var bK=null;tab.MapUtility.forEachWithInterrupt(String,Z).call(null,this.$r,function(bL){if(bL.containsTuple(L)){bK=bL;throw new tab.LoopBreakException}});return bK},setIsTargetOfBrushingAction:function(L){this.$n=L},setEmptyHighlightFogAll:function(L){this.$h=L},$2:function(L,bK){bm.$0(L,bK,this.$p)},$1:function(L,bK){bm.$0(L,bK,this.$o)},$0:function(L,bK,bL){tab.RectXYUtil.offsetRectXYInPlace(bK,L.paneRect.x,L.paneRect.y);for(var bM=0;bM<bL.length;bM++){var bN=bL[bM];this.$j.set(bN,bK)}},$d:function(L){if(!ss.isValue(L)||!ss.isValue(L.pdMarksMap)){return}var bK=Object.keys(L.pdMarksMap);var bL=ss.getEnumerator(bK);try{while(bL.moveNext()){var bM=bL.current();var bN=L.pdMarksMap[bM];var bO=bN.markGeometries;if(!ss.isValue(bO)){continue}var bP=bN.intMap['pane_flags'];var bQ=tab.SceneDataUtil.isPaneFlagSet(bP,'enable-scale-x')&&tab.SceneDataUtil.isPaneFlagSet(bP,'enable-scale-y');var bR=null;var bS=null;var bT=false;if(bQ){for(var bU=0;bU<L.panes.length;bU++){var bV=L.panes[bU];for(var bW=0;bW<bV.drawPane.length;bW++){var bX=bV.drawPane[bW];var bY=bX.paneMarks;if(ss.isValue(bY)&&ss.referenceEquals(bY.paneDescrKey,bM)){bR=tab.RecordCast.doubleRectPresModelAsDoubleRectXY(bY.domainExtents);bS={x:0,y:0,w:bY.pixelExtents.w,h:bY.pixelExtents.h};bT=true;break}}if(bT){break}}}var bZ=bO.length;var ca=new Array(bZ);for(var cb=0;cb<bZ;cb++){var cc=bO[cb];ca[cb]=null;if(tab.MiscUtil.isNullOrEmpty$1(cc)){continue}var cd=JSON.parse(cc);if(x.isGeometryPresModelFeatureEmpty(cd)){continue}cd=tab.RleDecoder.decode(cd);if(bQ&&bT){x.domainToPixelGeometry(cd,bR,bS,true)}ca[cb]=cd}this.$q.set(bM,ca)}}finally{bL.dispose()}},$5:function(L){var bK=this.$j.get(L);if(ss.isNullOrUndefined(bK)){bK=this.getMarkBoundingBox(L)}return bK},$4:function(L){this.$r.forEach(function(bK){bK.computeDirtyMarks(L)})},$3:function(){this.$r.forEach(function(L){L.clearDirtyMarks()})},$e:function(){this.$r.forEach(function(L){L.refreshMarkState()})}});ss.initClass(bn,a,{});bn.$0.prototype=bn.prototype;ss.initClass(bo,a,{hitTest:function(L,bK){var bL=new tab.HitTestSceneCmd;bL.c['pt1']=tab.PointUtil.toPresModel(L);bL.c['visualIdPresModel']=this.region.get_visualId();bL.invoke().done(ss.mkdel(this,function(bM){var bN=bM.$$c['sceneElements'];if(ss.isValue(bN)&&bN.length>0){var bO=new tab.SceneElementModel(bN[0]);var bP=bO.get_paneId();var bQ=this.makePaneSpecId(bP.get_columnIndex(),bP.get_rowIndex());var bR=new E(bO);this.setCurrent(new bE(this.region,bQ,bP.get_columnIndex(),bP.get_rowIndex(),L,bK,bR))}else{this.setCurrent(null)}}))}},bF,[ss.IDisposable,tab.IVizHitTester]);ss.initClass(bp,a,{dispose:function(){this.$2=null;tab.ApplicationModel.get_instance().get_shapeManager().remove_shapeLoaded(ss.mkdel(this,this.onShapeLoaded))},initialize:function(L){this.$3.clear();for(var bK=0;bK<L.length;bK++){var bL=L[bK];this.$0(bL)}this.$1()},$0:function(L){if(tab.SceneDataUtil.isCustomShape(L)&&!tab.ApplicationModel.get_instance().get_shapeManager().hasShape(L)){this.$3.add(L)}},onShapeLoaded:function(L){if(!this.$3.has(L)){return}this.$3.delete(L);this.$1()},$1:function(){if(this.$3.size===0&&ss.isValue(this.$2)){this.$2()}}},null,[ss.IDisposable]);ss.initClass(bs,a,{});ss.initClass(bt,a,{get_displayListRenderer:function(){return this.renderer},get_visualListVM:function(){return this.get_viewModel()},get_backgroundFillColor:function(){return this.$o.get_visualModel().get_backgroundColor()},performRender:function(){var L=tabBootstrap.MetricsController.createContext('RNDRRG'.toString(),32,null);try{this.get_displayListRenderer().clear();this.get_displayListRenderer().renderVisualList(this.get_visualListVM(),this.$o.get_scene().get_imageDictionary())}finally{if(ss.isValue(L)){L.dispose()}}},postRenderFinalPass:function(){this.get_displayListRenderer().renderCanvasBorders(this.get_visualListVM())},onViewModelPropertyChanged:function(L,bK){if(bK.get_propertyName()==='HoverNode'){var bL={x:-this.get_scrollPos().x,y:-this.get_scrollPos().y};this.invalidateRect(this.get_visualListVM().dirtyRect(bL),true)}else{ss.makeGenericType(bD,[bz]).prototype.onViewModelPropertyChanged.call(this,L,bK)}}},ss.makeGenericType(bD,[bz]),[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[bz]),spiff.IScrollable,K]);ss.initClass(bu,a,{get_isDragTracking:function(){return false},get_name:function(){return this.get_regionPart().toString()},get_regionPart:function(){return this.$8},get_visualId:function(){return this.paneTableViewModel.get_visualId()},get_sheetid:function(){return this.$b},get_contentProvider:function(){return this.regionContent},set_contentProvider:function(L){if(ss.isValue(this.regionContent)){this.regionContent.remove_loadComplete(ss.mkdel(this,this.onRegionContentLoadComplete))}this.regionContent=L;if(ss.isValue(this.regionContent)){this.regionContent.add_loadComplete(ss.mkdel(this,this.onRegionContentLoadComplete))}},get_defaultPointerToolMode:function(){return this.$1$1},set_defaultPointerToolMode:function(L){this.$1$1=L},get_currentModifierKeyToolMode:function(){return this.$1$2},set_currentModifierKeyToolMode:function(L){this.$1$2=L},get_currentToolbarToolMode:function(){return this.currentToolbarToolMode},set_currentToolbarToolMode:function(L){if(tsConfig.allow_filter){this.currentToolbarToolMode=L}},get_currentPointerToolMode:function(){return((this.get_currentModifierKeyToolMode()==='no-tools')?this.get_currentToolbarToolMode():this.get_currentModifierKeyToolMode())},get_sceneInfo:function(){if(this.$8!=='viz'){return null}var L=ss.safeCast(this.regionContent,bb);if(ss.isNullOrUndefined(L)){return null}var bK=L.get_viewModel();return bK.get_scene()},get_visualListVM:function(){var L=this.get_contentProvider();return L.get_viewModel()},get_shapeSelector:function(){return this.$a},get_visualObjectBoundsComputerAndHitTester:function(){return this.$c},sendSelectionCommand:function(L,bK,bL,bM){this.get_shapeSelector().sendSelectionCommand(L,bK,bL,bM)},turnOnWindowLogging:function(){if(!ss.isValue(bu.windowLog)){bu.windowLog=tab.Logger.getLoggerWithName('WindowAppender')}},reset:function(){this.backgroundMap.removeMarkOverlay();this.setViewportBorderVisibility(false);this.hideDomDrag();this.$d=tab.MiscUtil.dispose$1(this.$d)},destroy:function(){this.disposables.dispose();this.allowPanZoom=null;if(ss.isValue(this.regionContent)){this.regionContent.remove_loadComplete(ss.mkdel(this,this.onRegionContentLoadComplete));this.regionContent.destroy()}if(ss.isValue(this.paneTableViewModel.get_mapServerModel())){this.paneTableViewModel.get_mapServerModel().remove_tileSourceChanged(ss.mkdel(this,this.$2))}this.backgroundMap.$6();this.backgroundMap.dispose()},setGeometry:function(L,bK,bL){if(ss.isValue(this.regionContent)){this.regionContent.set_actualViewSize({w:bK.w,h:bK.h});this.regionContent.reset(L,bL);this.backgroundMap.$b(L.w,L.h);this.$9={x:0,y:0,w:L.w,h:L.h}}},refreshImages:function(L){if(ss.isValue(this.regionContent)){this.regionContent.refreshImages(L)}},onZoomBoxMouseMove:function(L){this.onSelectorMouseMove(L,this.domPanZoomRect)},onMarqueeMouseMove:function(L){this.onSelectorMouseMove(L,this.$a)},onSelectorMouseMove:function(L,bK){L.preventDefault();bK.recordScrollingOffsets({x:this.scroller.get_scrollPos().x,y:this.scroller.get_scrollPos().y});var bL=bK.get_connectNodePos();var bM=L.get_gestureInfo().pageX-bL.x;var bN=L.get_gestureInfo().pageY-bL.y;var bO=((bM<0)?bM:((bM>bL.w)?(bM-bL.w):0));var bP=((bN<0)?bN:((bN>bL.h)?(bN-bL.h):0));var bQ=this.determineScrollDirection(0,bO);var bR=this.determineScrollDirection(1,bP);var bS=((Math.max(Math.abs(bO),Math.abs(bP))>15)?'fast':'slow');if(bQ!==0||bR!==0){this.startScrolling(bQ,bR,bS);bK.constrainShape(L.get_gestureInfo())}else{this.stopScrolling();bK.updateAndRenderShape(L.get_gestureInfo())}},onDoubleTapAxis:function(L){var bK=this.toLocalCoordsEvent(L,false);if(!tab.ApplicationModel.get_instance().get_isLocalRenderMode()||ss.isNullOrUndefined(this.get_contentProvider())){tab.EditAxisDialogCommands.showEditAxisDialogInServerRenderedMode(this.get_visualId(),bK,this.get_regionPart());return}var bL=true;var bM=this.hitTestNodes(bK);if(ss.isNullOrUndefined(bM)){return}if(this.get_regionPart()==='bottomaxis'){bL=tab.SelectionUtils.isQuantitative(bM)}if(bL){tab.EditAxisDialogCommands.showEditAxisDialogInBrowserRenderedMode(bM.node)}},debugWindowLog:function(L){if(ss.isValue(bu.windowLog)){}},toLocalCoords:function(L,bK){var bL=this.getLocalOffsetPoint(bK);var bM={x:L.x-bL.x,y:L.y-bL.y};return bM},toLocalCoordsRect:function(L,bK){var bL=this.getLocalOffset(bK);var bM={x:bL.x,y:bL.y};var bN={x:L.x-bM.x,y:L.y-bM.y,w:L.w,h:L.h};return bN},toLocalCoordsEvent:function(L,bK){var bL={x:L.get_gestureInfo().pageX,y:L.get_gestureInfo().pageY};return this.toLocalCoords(bL,bK)},getLocalOffset:function(L){var bK=tab.DomUtil.getRectXY(this.connectNode);if(L||ss.isNullOrUndefined(this.regionContent)){return bK}bK.x-=this.regionContent.get_scrollPos().x;bK.y-=this.regionContent.get_scrollPos().y;return bK},getLocalOffsetPoint:function(L){var bK=this.getLocalOffset(L);var bL={x:bK.x,y:bK.y};return bL},getPaneDrawInfoFromSelectionAnchor:function(L){var bK=this.get_visualObjectBoundsComputerAndHitTester().$2(L,this.get_sceneInfo());if(bK.length===0){return null}return this.get_sceneInfo().getPaneDrawInfoFromKey(bK[0])},hitTestVisualPartsHelper:function(L,bK){return(E.hasExactHit(bK)?[]:this.get_visualObjectBoundsComputerAndHitTester().$4(L,this.paneTableViewModel))},hitTestMarksAgainstSelectionShape:function(){return this.get_visualObjectBoundsComputerAndHitTester().$3(null,false,this.$a,this.get_sceneInfo())},selectNode:function(L,bK,bL,bM){var bN=this.get_visualListVM();bN.selectNode(L,bK,bL,bM)},hitTestNodes:function(L){var bK=this.get_visualListVM();var bL=_.find(bK.get_groupItemNodes(),function(bM){var bN=bM.extentsX||0;var bO=bM.extentsY||0;var bP={x:bN,y:bO,w:bM.extentsWidth,h:bM.extentsHeight};return tab.RectXYUtil.inRect(bP,L)});return bL},doSelectFromPoint:function(L,bK,bL){var bM=this.hitTestSingleMarksAndVisualParts(L);switch(bM.get_tooltipTargetType()){case'mark':{tab.SelectionClientCommands.selectMarksLocal([bM.get_id()],this.get_visualId(),bK,false,function(){bL(bM)});break}case'visualparts':{var bN={x:L.x,y:L.y,w:1,h:1};tab.SelectionClientCommands.selectRectRegionAndDoUbertip(this.$8,bN,bK,this.get_visualId(),function(){bL(bM)});break}default:{if(bM.get_hitType()!==0){bL(bM)}if(bK==='simple'){tab.SelectionClientCommands.clearAllSelections(this.get_visualId())}break}}return bM},hitTestSingleMarksAndVisualParts:function(L){var bK={x:L.x,y:L.y,w:1,h:1};var bL=this.$c.$3(bK,true,this.$a,this.get_sceneInfo());var bM=this.hitTestVisualPartsHelper(bK,bL);var bN=E.tieBreakHits(bL,bM);return bN},doSelectMarkAndUbertipFromSelectionShape:function(L,bK){var bL=E.getIdsFromHitTestResults(this.hitTestMarksAgainstSelectionShape(),false);tab.SelectionClientCommands.selectMarksLocal(bL,this.get_visualId(),L,true,bK);return bL},moveMapToBounds:function(L){if(this.paneTableViewModel.get_visualModel().get_shouldUpdate()){this.backgroundMap.splatOverlayToMapForTransition(bu.getCanvasElement(this.connectNode));this.setViewportBorderVisibility(true);this.backgroundMap.moveToBounds(L)}},setPointerToolMode:function(L){if(ss.isNullOrUndefined(L)){L=this.get_defaultPointerToolMode()}this.setMode(L)},updateDefaultToolMode:function(){this.set_defaultPointerToolMode(this.determineDefaultToolMode())},determineDefaultToolMode:function(){return this.lockedToolbarToolMode},isPanToolActive:function(){return this.get_currentPointerToolMode()==='pan-map'},isSelectingToolActive:function(){return this.get_currentPointerToolMode()==='rectangular-selection'||this.get_currentPointerToolMode()==='lasso-selection'||this.get_currentPointerToolMode()==='radial-selection'},isZoomToolActive:function(){return this.get_currentPointerToolMode()==='area-zoom'||this.get_currentPointerToolMode()==='zoom-out'},setLockedPointerToolMode:function(L){this.lockedToolbarToolMode=L},isExistingSelection:function(){var L=tab.ModelUtils.getVisualModelFromVisualId(this.get_visualId()).get_selectionsModel().tupleSelection;return L.get_ids().length!==0},$0:function(L,bK){if(bK.get_propertyName()==='scene'||bK.get_propertyName()==='vizdata'){this.get_visualObjectBoundsComputerAndHitTester().$0()}},$1:function(){this.get_contentProvider().set_scrollPos({x:0,y:0})},suppressTooltips:function(){},zoomPoint:function(L,bK,bL,bM,bN){if(this.resetIsWaitingOnTransition){return}this.waitingOnPanZoomServerResponse='waitingOnServer';this.suppressTooltips();var bO=(L.canDragH?bL:1);var bP=(L.canDragV?bL:1);var bQ=bK;var bR=1/bL;if(bM){tab.PanZoomCommands.zoomDoubleClick(bK,bQ,bL>1,bN,bR,this.$b)}else if(bL>1){tab.PanZoomCommands.zoomIn(bK,bQ,bR,this.$b)}else{tab.PanZoomCommands.zoomOut(bK,bQ,bR,this.$b)}var bS=((bL>1)?1:-1);this.backgroundMap.zoomOnPoint(bK,bS);if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()||this.paneTableViewModel.get_visualModel().get_cacheUrlInfo().useUrl){this.$d=new spiff.Glass;this.$d.show();this.animateZoomOnPoint(L,bK,bO,bP)}},makeDomDrag:function(){this.domPanZoomRect.createDomAndAppend(this.connectNode);this.domDragImage=$('<div></div>');this.addHiddenDiv(this.domDragImage,'tvdrag_image',this.domPanZoomRect.get_dom());this.domDragMask=$('<div></div>');this.addHiddenDiv(this.domDragMask,'tvdrag_mask',this.domPanZoomRect.get_dom())},hideDomDrag:function(){if(this.$8!=='viz'||!this.$5){return}this.domDragMask.css('display','none');this.domDragImage.css('display','none');this.domPanZoomRect.get_dom().css('display','none');this.get_shapeSelector().get_dom().css('display','none');this.domDragImage.html('');this.$5=false},showDomDragImage:function(L){this.$5=true;this.setViewportBorderVisibility(true);if(this.backgroundMap.get_enabled()){this.backgroundMap.splatOverlayToMapForTransition(bu.getCanvasElement(this.connectNode))}else{var bK=(tab.ApplicationModel.get_instance().get_isLocalRenderMode()?this.scroller.get_scrollPos():{x:0,y:0});var bL={l:L.x-bK.x+1,t:L.y-bK.y+1,w:L.w+1-2,h:L.h+1-2};var bM=this.$7.clone();if(ss.isInstanceOfType(this.regionContent,bb)){var bN=bu.getCanvasElement(bM);var bO=tab.CanvasRenderer.getRenderContext(bN,'transparent');this.regionContent.copyContent(bO)}bM.removeClass();bM.addClass('tvdrag_imageContainer');this.domDragImage.append(bM);this.domDragImage.css('display','');var bP=1;tab.DomUtil.setMarginBoxJQ(bM,{l:-bL.l-bP,t:-bL.t-bP,w:tab.DoubleUtil.roundToInt(bM.width())-2,h:tab.DoubleUtil.roundToInt(bM.height())-2});tab.DomUtil.setMarginBoxJQ(this.domDragImage,{l:bK.x+bP,t:bK.y+bP,w:bL.w-2,h:bL.h-2});this.domDragMask.css('background-color',this.getPanZoomFillColor());this.domDragMask.css('display','');tab.DomUtil.setMarginBoxJQ(this.domPanZoomRect.get_dom(),bL);this.domPanZoomRect.get_dom().css('display','')}},getCenterPoint:function(L){var bK=Math.floor(L.w/2)+L.x;var bL=Math.floor(L.h/2)+L.y;return{x:bK,y:bL}},addHiddenDiv:function(L,bK,bL){L.addClass(bK);L.css('display','none');bL.append(L)},animateZoomOnPoint:function(L,bK,bL,bM){var bN=((bL<1)?-1:((bL>1)?1:0));var bO=((bM<1)?-1:((bM>1)?1:0));var bP={x:bN,y:bO};var bQ=this.getCenterPoint(L);var bR=Math.floor((bQ.x-bK.x)*bP.x*bL);var bS=Math.floor((bQ.y-bK.y)*bP.y*bM);var bT={scale:1,scaleX:1,scaleY:1,translateX:0,translateY:0,transformOrigin:null,time:0};bT.translateX=bR;bT.translateY=bS;bT.scaleX=bL;bT.scaleY=bM;bT.time=777;this.showDomDragImage(L);this.animateZoomWithCSSTransitions(bT)},mapIsBrowserRendered:function(){return this.backgroundMap.get_enabled()},animateAnchorZoomLeaflet:function(L,bK,bL){this.showDomDragImage(L);if(this.mapIsBrowserRendered()){this.backgroundMap.animateAnchorZoom(bL,bK)}},animateAnchorZoom:function(L,bK,bL){var bM=1/bL;var bN=((L.x>0)?(bK.x%L.x):bK.x);var bO=((L.y>0)?(bK.y%L.y):bK.y);var bP={x:bN,y:bO};var bQ={scaleX:bM,scaleY:bM,time:500,scale:1,translateX:0,translateY:0,transformOrigin:null};this.showDomDragImage(L);bQ.transformOrigin=bP;this.animateZoomWithCSSTransitions(bQ)},getPointLatLong:function(L){return this.backgroundMap.getPointLatLong(L)},animateZoomWithCSSTransitions:function(L){var bK=this.domDragImage.get(0);this.resetIsWaitingOnData=true;this.resetIsWaitingOnTransition=true;window.setTimeout(ss.mkdel(this,function(){tableau.util.transform(bK,L);this.$6=true;var bL=500;window.setTimeout(ss.mkdel(this,function(){this.resetIsWaitingOnTransition=false;if(!this.resetIsWaitingOnData){this.reset()}}),bL)}),50)},stopScrolling:null,startScrolling:null,determineScrollDirection:null,onRegionContentLoadComplete:function(L,bK){if(this.waitingOnPanZoomServerResponse==='waitingOnServer'){this.waitingOnPanZoomServerResponse='normal'}if(this.$8==='viz'){if(!this.isScrolling&&this.$5){this.hideDomDrag()}if(this.$6){tableau.util.transform(this.domDragImage.get(0),null);this.$6=false}}},getPanZoomFillColor:function(){var L='rgb(255,255,255)';if(this.$8==='viz'){if(this.paneTableViewModel.get_mapServerModel().get_hasPresModel()){L=this.paneTableViewModel.get_mapServerModel().get_mapBGFillColor()}else if(ss.isValue(this.paneTableViewModel.get_scene().scene)){L=this.paneTableViewModel.get_scene().scene.bgColor}}return L},$2:function(){if(this.backgroundMap.get_enabled()){this.backgroundMap.$6()}this.$3()},$3:function(){if(this.$8!=='viz'){return}this.setViewportBorderVisibility(false);var L=this.paneTableViewModel.get_mapServerModel();if(L.get_hasPresModel()){if(L.get_useFastMaps()&&!this.backgroundMap.get_enabled()){this.backgroundMap.$3(this.backgroundDiv,this.paneTableViewModel.get_mapServerModel());if(ss.isValue(this.$9)&&!tab.RectXYUtil.isEmpty(this.$9)){this.backgroundMap.$b(this.$9.w,this.$9.h)}}}else{this.backgroundMap.$6()}var bK=this.getPanZoomFillColor();if(!ss.referenceEquals(this.$4,bK)){this.backgroundDiv.css('backgroundColor',bK);this.$4=bK}},resetPointerToolMode:function(){this.setPointerToolMode(this.get_defaultPointerToolMode())},setViewportBorderVisibility:function(L){this.paneTableViewModel.set_highlightBorder(L)},setMode:function(L){this.set_currentToolbarToolMode(L);this.updateSelectorShape(L)},updateSelectorShape:function(L){if(ss.isValue(this.$a)){if(ss.isValue(this.$a.get_dom())){this.$a.get_dom().remove()}this.$a=null}switch(L){case'lasso-selection':{this.$a=new bg(this.$9,tab.ApplicationModel.get_instance().get_isLocalRenderMode());break}case'radial-selection':{var bK=this.paneTableViewModel.get_mapServerModel();this.$a=new m(this.$9,bK.get_radialSelectionDistanceInfoModel());break}case'rectangular-selection':default:{this.$a=new bi;break}}this.$a.createDomAndAppend(this.connectNode)},isToolDefault:function(L){return L===this.get_defaultPointerToolMode()}});ss.initClass(bv,a,{add_loadComplete:function(L){this.$1$1=ss.delegateCombine(this.$1$1,L)},remove_loadComplete:function(L){this.$1$1=ss.delegateRemove(this.$1$1,L)},get_actualViewSize:function(){return{w:this.$8.clientWidth,h:this.$8.clientHeight}},set_actualViewSize:function(L){},get_effectiveViewSize:function(){return this.get_actualViewSize()},get_scrollPos:function(){return{x:this.get_left(),y:this.get_top()}},set_scrollPos:function(L){this.set_left(L.x);this.set_top(L.y);this.$2(false)},get_canScrollX:function(){return this.get_docSize().w>this.get_effectiveViewSize().w},get_canScrollY:function(){return this.get_docSize().h>this.get_effectiveViewSize().h},get_docSize:function(){return{w:this.$b.w,h:this.$b.h}},get_left:function(){return this.$f},set_left:function(L){this.$f=L;if(this.$h){this.$8.scrollLeft=L}},get_top:function(){return this.$m},set_top:function(L){this.$m=L;if(this.$h){this.$8.scrollTop=L}},destroy:function(){this.$9.destroy();if(this.$j>0){this.$g.decrementWait();tab.ImageTileTracker.decrementPendingCount();this.$j=0}this.$c=null;this.$n=null},refreshImages:function(L){if(!ss.isValue(this.$b)||tab.SizeUtil.isEmpty(tab.RecordCast.regionRectAsSize(this.$b))){return}if(ss.isNullOrUndefined(L)){return}this.$7=L;this.$1();this.$2(!tab.ProgressiveLoader.get_progressiveLoadEnabled()||!this.$a);this.$a=false},reset:function(L,bK){var bL=this.$b;var bM=this.$i;this.$b=L;this.$i=bK;if(ss.isNullOrUndefined(this.$b)||tab.SizeUtil.isEmpty(tab.RecordCast.regionRectAsSize(this.$b))){return}if(ss.isValue(bL)&&bL.w===this.$b.w&&bL.h===this.$b.h&&bM.w===this.$i.w&&bM.h===this.$i.h){return}var bN=this.get_top();var bO=this.get_left();this.$k=Math.ceil(this.$b.w/this.$i.w);this.$l=Math.ceil(this.$b.h/this.$i.h);this.$d.width(this.$b.w);this.$d.height(this.$b.h);this.set_top(Math.min(bN,Math.max(0,this.$b.h-this.$8.offsetHeight)));this.set_left(Math.min(bO,Math.max(0,this.$b.w-this.$8.offsetWidth)))},setXPos:function(L){this.set_scrollPos({x:L,y:this.get_scrollPos().y})},setYPos:function(L){this.set_scrollPos({x:this.get_scrollPos().x,y:L})},$0:function(L){var bK=$(L);if(!!bK.prop('_deferredClear')){bK.prop('_deferredClear',null);bK.empty()}},$2:function(L){if(!ss.isValue(L)){L=false}if(!ss.isValue(this.$b)||tab.SizeUtil.isEmpty(tab.RecordCast.regionRectAsSize(this.$b))){return}if(!ss.isValue(this.$7)){return}var bK=this.get_left();var bL=bK+this.$8.clientWidth;var bM=this.get_top();var bN=bM+this.$8.clientHeight;var bO=Math.max(Math.floor(bK/this.$i.w),0);var bP=Math.min(Math.ceil(bL/this.$i.w),this.$k);var bQ=Math.max(Math.floor(bM/this.$i.h),0);var bR=Math.min(Math.ceil(bN/this.$i.h),this.$l);this.$9.clear();if(!ss.isValue(this.$g)){return}var bS=this.$j;this.$j=Math.max((bP-bO)*(bR-bQ),0);if(bS<=0&&this.$j>0){if(L){this.$g.incrementWait(false)}tab.ImageTileTracker.incrementPendingCount()}var bT='';var bU=0;if(ss.isValue(this.$c)){bT=this.$c()}if(ss.isValue(this.$n)){bU=this.$n.get_cacheVersion()}var bV=false;for(var bW=bO;bW<bP;bW++){var bX=Math.min(this.$i.w,this.$b.w-bW*this.$i.w);for(var bY=bQ;bY<bR;++bY){var bZ=Math.min(this.$i.h,this.$b.h-bY*this.$i.h);var ca=bY*this.$k+bW;var cb={l:bW*this.$i.w,t:bY*this.$i.h,w:bX,h:bZ};var cc=this.$g.formatTileURL(this.$7,this.$b.r,bW,bY,'',bT);if(ss.isValue(this.$e[ca])&&this.$e[ca].$0(cc,bU)){if(L){this.$6()}var cd=this.$e[ca].$2();var ce=cd.width!==cb.w||cd.height!==cb.h;if(ce){$(cd).css(ss.mkdict(['left',cb.l+'px','top',cb.t+'px']));tab.RenderUtil.ensureImageEltSize(cd,cb)}}else{bV=true;this.$e[ca]=this.$e[ca]||new j;var cf=new G(this.$e[ca].$2(),ca,cc,cb,bU);this.$9.addImage(cf)}}}if(!bV){this.$d.each(ss.mkdel(this,function(cg,ch){this.$0(ch)}))}},$1:function(){this.$e=[];this.$d.prop('_deferredClear',true)},$6:function(){if(this.$j>0){this.$j--;if(this.$j===0){this.$g.decrementWait();tab.ImageTileTracker.decrementPendingCount()}}},$3:function(L,bK){this.$6();if(ss.isValue(bK.get_image().get_imageNode())){var bL=bK.get_image().get_imageNode();tab.RenderUtil.ensureImageEltSize(bL,bK.get_image().get_bounds());var bM=bK.get_image().get_index();var bN=this.$n.get_cacheVersion();if(!ss.isValue(this.$e[bM])){return}if((!ss.isValue(this.$e[bM].$2())||!ss.referenceEquals($(this.$e[bM].$2()).attr('src'),$(bL).attr('src')))&&bK.get_image().get_version()===bN){this.$e[bM].$3(bL);this.$e[bM].$1=bN;var bO=bL;var bP=0;var bQ=this.$d.length;this.$d.each(ss.mkdel(this,function(bR,bS){this.$0(bS);bS.appendChild(bO);if(bP<bQ-1){bO=bO.cloneNode(false)}bP++}))}}},$4:function(L,bK){this.$6()},$5:function(L,bK){if(ss.isValue(this.$1$1)){this.$1$1(this,ss.EventArgs.Empty)}}},null,[spiff.IScrollable,K]);ss.initClass(bw,a,{get_multiSelectCompleteBehavior:function(){return'disabled'},get_currentTooltipMode:function(){return'none'},getSingleSelectBehaviorCallback:function(L){return function(){}},buildBehaviorsDictionary:function(){var L=new tab.DisabledTooltipBehavior;this.tooltipBehaviors['disabled']=L},suppressHoverIfNecesary:function(){}},tab.TooltipBaseMode);ss.initClass(bx,a,{get_ubertipShouldEnforceButtonOrdering:function(){return true},get_currentTooltipMode:function(){return'smooth'},dispose:function(){var L=this.tooltipBehaviors['smooth'];L.remove_onMouseStop(ss.mkdel(this,this.$x));this.get_tooltip().remove_prePosition(ss.mkdel(this,this.prepareForPositioning));this.get_tooltip().remove_positionCalculated(ss.mkdel(this,this.handleUbertipButtons));this.get_tooltip().remove_showed(ss.mkdel(this,this.handleUbertipButtons));this.get_tooltip().remove_closed(ss.mkdel(this,this.$y));this.$t();tab.TooltipBaseMode.prototype.dispose.call(this)},buildBehaviorsDictionary:function(){var L=tab.ObjectRegistry.newLegacyTooltipBehavior(tab.ITooltipBehavior).call(null,tab.ITooltipBehavior,this.get_tooltip());var bK=new tab.SmoothTooltipBehavior(this.get_tooltip());this.tooltipBehaviors['sticky']=L;this.tooltipBehaviors['smooth']=bK},getSingleSelectBehaviorCallback:function(L){return ss.mkdel(this,function(){this.get_currentBehavior().singleSelectComplete(L);if(this.get_tooltip().get_isShown()){this.triggerUbertipButtonUpdate()}if(!this.isCurrentObjectSelected()){this.switchTooltipMode('smooth');this.$u()}})},shouldShowCommandButtons:function(){var L=tab.TooltipBaseMode.prototype.shouldShowCommandButtons.call(this);var bK=this.get_ubertip().get_model();if(!L||ss.isNullOrUndefined(bK)){return L}var bL=bK.tupleId===0;if(!bL){L=this.isCurrentObjectSelected()}return L},getSingleSelectBehavior:function(L){return'sticky'},getHoverBehavior:function(L){var bK=this.get_defaultBehaviorType();if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){if(L==='header'||L==='visualparts'){bK='sticky'}else if(L==='mark'){bK='smooth'}else{}}else if(L==='header'){bK='sticky'}else{bK='smooth'}return bK},onPanOrDragStart:function(L){this.$t();tab.TooltipBaseMode.prototype.onPanOrDragStart.call(this,L)},onDragEnd:function(L){this.get_tooltip().close();this.$s();tab.TooltipBaseMode.prototype.onDragEnd.call(this,L)},onBehaviorSwitch:function(){if(this.get_currentBehaviorType()==='smooth'){this.$s()}else{this.$t()}},$y:function(){this.get_ubertip().hideMenuActionsAndCommandButtons(true)},$v:function(L){if(this.readyForHover&&this.get_currentBehaviorType()==='smooth'&&this.get_isTooltipShown()){this.get_currentBehavior().onMouseMove(L)}},$w:function(L){if(this.get_currentBehaviorType()==='sticky'&&this.get_tooltip().isInSafeZone({x:L.pageX,y:L.pageY},false)){return}if(this.get_isTooltipShown()){this.get_tooltip().close()}},$x:function(L){if(ss.isNullOrUndefined(this.get_ubertip().get_model())){return}var bK=false;var bL=this.isCurrentObjectSelected();if(bL){bK=this.switchTooltipMode('sticky')}this.$u();if(bK&&this.get_tooltip().get_isShown()){this.triggerUbertipButtonUpdate()}},$u:function(){if(!this.get_tooltip().get_isShown()&&ss.isValue(this.get_tooltip().get_lastLocation())&&this.get_currentBehaviorType()==='sticky'&&tab.TooltipBaseMode.isUbertipHtmlEmpty(this.get_ubertip().get_model())&&this.get_ubertip().hasActionsOrSummaryOrCommands()){this.get_tooltip().show(this.get_tooltip().get_body().children()[0],this.get_tooltip().get_lastLocation())}else if(this.get_tooltip().get_isShown()&&this.get_currentBehaviorType()==='smooth'&&tab.TooltipBaseMode.isUbertipHtmlEmpty(this.get_ubertip().get_model())){this.get_tooltip().close()}},$s:function(){if(this.$z){return}this.$A.on(this.$B,ss.mkdel(this,this.$v));this.$A.on(this.$C,ss.mkdel(this,this.$w));this.$z=true},$t:function(){if(!this.$z){return}this.$A.off(this.$B);this.$A.off(this.$C);this.$z=false}},tab.TooltipBaseMode);ss.initClass(by,a,{$3:function(L,bK,bL){var bM={x:0,y:0,w:L.w,h:L.h};if(bK>=0&&this.$g.$1){var bN=this.$g.$3[bK];var bO=this.$g.$3[bK+1];bM.x+=bN;bM.w=bO-bN}if(bL>=0&&this.$g.$2){var bP=this.$g.$4[bL];var bQ=this.$g.$4[bL+1];bM.y+=bP;bM.h=bQ-bP}return bM},$7:function(L){return this.$h[L]},$8:function(L){var bK=this.$e[L];return this.$h[bK]},$4:function(L){return this.$e[L]},$5:function(L){return this.$d[L+1]-this.$d[L]},$6:function(L){return{firstMark:this.$d[L],lastMark:this.$d[L+1]-1}},$2:function(L){var bK=L.c.get('user_pane_col');var bL=L.c.get('user_pane_row');var bM=L.paneRect;var bN=L.markCount;var bO=0;var bP=-1;var bQ=-1;var bR=ss.isNullOrUndefined(bL);var bS=ss.isNullOrUndefined(bK);if(!bR||!bS){for(var bT=0;bT<bN;++bT){var bU=(bS?-1:bK.v[(bK.c?0:bT)]);var bV=(bR?-1:bL.v[(bL.c?0:bT)]);if(bU!==bP||bV!==bQ){this.$1(bT,bO,bU,bV,bM);bP=bU;bQ=bV;bO+=1}}}this.$d[bO]=bN;this.$0(bO);return bO},$0:function(L){if(L===0){return}var bK=L-1;var bL=this.$d[bK];var bM=this.$d[L];for(var bN=bL;bN<bM;++bN){this.$e[bN]=bK}},$1:function(L,bK,bL,bM,bN){if(ss.isValue(this.$c)){this.$c[bK]=bL}if(ss.isValue(this.$f)){this.$f[bK]=bM}this.$h[bK]=this.$3(bN,bL,bM);this.$d[bK]=L;this.$0(bK)},$9:function(L){for(var bK=0;bK<this.$b;++bK){var bL=this.$7(bK);var bM=this.$6(bK);var bN=bM.firstMark;var bO=bM.lastMark;for(var bP=bN;bP<=bO;++bP){L(bP,bL)}}},$a:function(L,bK){var bL=-1;var bM=null;for(var bN=0;bN<L.length;bN++){var bO=L[bN];var bP=this.$e[bO];if(bP!==bL){bL=bP;bM=this.$7(bP)}bK(bO,bM)}}});ss.initClass(bz,a,{get_visualList:function(){return this.$6},get_groupItemNodes:function(){return this.$6.get_groupItemNodes()},get_visualListPM:function(){return this.$6.get_visualListPresModel()},get_defaultBackgroundColor:function(){return this.$5},set_defaultBackgroundColor:function(L){this.$5=L},get_hoveredCategoricalNode:function(){return this.$4},set_hoveredCategoricalNode:function(L){if(!ss.referenceEquals(this.$4,L)){this.$7=this.$4;this.$4=L;this.notifyPropertyChanged('HoverNode')}},dirtyRect:function(L){var bK={x:0,y:0,w:0,h:0};var bL=[this.$7,this.$4];for(var bM=0;bM<bL.length;bM++){var bN=bL[bM];if(ss.isValue(bN)){var bO={x:bN.extentsX,y:bN.extentsY,w:bN.extentsWidth,h:bN.extentsHeight};bK=tab.RectXYUtil.union(bK,bO)}}return tab.RectXYUtil.offsetRect(bK,L)},isHovered:function(L){return ss.referenceEquals(L,this.$4)},isSelected:function(L){return ss.isValue(this.$9)&&this.$9.isNodeSelected(L)},isBrushed:function(L){return ss.isValue(this.$3)&&this.$3.isNodeSelected(L)},selectNode:function(L,bK,bL,bM){tab.SelectionClientCommands.selectNode(this.$8,L,bL,this.$6,bK,this.$a,bM)},handleModelChange:function(){this.notifyPropertyChanged('visualList')},$2:function(){this.notifyPropertyChanged('selection')},dispose:function(){this.$6.remove_newVisualList(ss.mkdel(this,this.handleModelChange));if(ss.isValue(this.$9)){this.$9.remove_newSelection(ss.mkdel(this,this.$2))}if(ss.isValue(this.$3)){this.$3.remove_newSelection(ss.mkdel(this,this.$2))}spiff.BaseViewModel.prototype.dispose.call(this)}},spiff.BaseViewModel,[ss.IDisposable,tab.IViewModel]);ss.initClass(bA,a,{$0:function(){this.$6=null;this.$5=null},computeBoundsOfSelectedMarks:function(L,bK){var bL=L.get_selectionsModel().tupleSelection;var bM={x:0,y:0,w:0,h:0};var bN=bL.get_ids();for(var bO=0;bO<bN.length;bO++){var bP=bN[bO];var bQ=bK.getMarkBoundingBox(bP);bM=tab.RectXYUtil.union(bM,bQ)}return bM},computeBoundsOfSelectedNodes:function(L,bK){var bL=L.get_selectionsModel().nodeSelection;var bM={x:0,y:0,w:0,h:0};var bN=bK;if(ss.isNullOrUndefined(bN)){return bM}var bO=bN.get_groupItemNodes();for(var bP=0;bP<bO.length;bP++){var bQ=bO[bP];if(!bL.isNodeSelected(bQ)){continue}var bR=bQ.extentsX||0;var bS=bQ.extentsY||0;var bT={x:bR,y:bS,w:bQ.extentsWidth,h:bQ.extentsHeight};bM=tab.RectXYUtil.union(bM,bT)}return bM},computeBoundsOfSelectedRefLines:function(L,bK){var bL=L.get_selectionsModel().refLineSelection;var bM={x:0,y:0,w:0,h:0};if(bL.isEmpty){return bM}for(var bN=0;bN<bK.length;bN++){var bO=bK[bN];for(var bP=0;bP<bO.drawItems.length;bP++){var bQ=bO.drawItems[bP];var bR=bQ;if(!bL.isObjectSelected(bR.objectId)){continue}for(var bS=0;bS<bR.drawItems.length;bS++){var bT=bR.drawItems[bS];if(bT.type!=='draw-polyline'&&bT.type!=='draw-fill-rect'){continue}var bU=bT;if(bU.points.length<4){continue}var bV={x:bU.points[0],y:bU.points[1]};var bW={x:bU.points[2],y:bU.points[3]};var bX=tab.RectXYUtil.rectXYFromCorners(bV,bW);bX=tab.RectXYUtil.nonemptyify(bX);bM=tab.RectXYUtil.union(bM,bX)}}}return bM},computeBoundsOfSelectedTrendLines:function(L,bK){var bL=L.get_selectionsModel().trendLineSelection;var bM={x:0,y:0,w:0,h:0};if(bL.isEmpty){return bM}var bN=this.ensureAndReturnLineHitTestStructures(bK);var bO=new Array;for(var bP=0;bP<bN.length;bP++){var bQ=bN[bP];bO.push(bQ)}while(bO.length!==0){var bR=bO.pop();if(bR.get_nodeType()===4||bR.get_nodeType()===0){var bS=bR.get_children();for(var bT=0;bT<bS.length;bT++){var bU=bS[bT];bO.push(bU)}}else if(bR.get_nodeType()===5){if(bL.isObjectSelected(bR.get_objectId())){bM=tab.RectXYUtil.union(bM,bR.get_boundingBox())}}}return bM},ensureAndReturnLineHitTestStructures:function(L){if(ss.isNullOrUndefined(this.$6)){this.$6=[];var bK=L.get_trendLineVisualLists();if(ss.isValue(bK)){for(var bL=0;bL<bK.length;bL++){var bM=bK[bL];var bN=bM.drawItems;var bO=1;for(var bP=0;bP<bN.length;bP++){var bQ=bN[bP];if(bQ.type==='draw-group'){var bR=bQ;for(var bS=0;bS<bR.drawItems.length;bS++){var bT=bR.drawItems[bS];switch(bT.type){case'draw-pen':{var bU=bT;if(ss.isValue(bU.strokeWidth)){bO=bU.strokeWidth}break}case'draw-path':{var bV=bT;var bW=F.buildTrendLineHitTestStructure(bV,bO,bR.objectId);this.$6.push(bW);break}default:{break}}}}}}}}return this.$6},$4:function(L,bK){var bL;var bM=tabBootstrap.MetricsController.createContext('HitTestVisualParts',16,null);{var bN=[];var bO=[];var bP=bK.get_refLineVisualLists();if(ss.isValue(bP)){bN=bB.hitTestRefLines(bP,L,true);if(bN.length!==0&&bN[0].get_hitType()!==0){}}if(!E.hasExactHit(bN)){var bQ=this.ensureAndReturnLineHitTestStructures(bK);bO=bB.hitTestTrendLines(bQ,L,true);if(bO.length!==0&&bO[0].get_hitType()!==0){}}var bR=E.tieBreakHits(bN,bO);bL=((bR.get_hitType()===0)?[]:[bR])}bM.dispose();return bL},$1:function(L){if(ss.isNullOrUndefined(this.$5)){var bK=F.buildLinearHitTestStructure(L);this.$5=new D(bK)}return this.$5},$2:function(L,bK){var bL=this.$1(bK);var bM={x:L.x,y:L.y,w:1,h:1};var bN=bL.hitTestPanes(bM);return bN},$3:function(L,bK,bL,bM){var bN;{var bO=tabBootstrap.MetricsController.createContext('HitTestMarks',16,null);try{var bP=this.$1(bM);bN=(ss.isNullOrUndefined(L)?bL.hitTest(bP,bK,bM):bP.hitTest(L,bK,bM))}finally{if(ss.isValue(bO)){bO.dispose()}}}if(bN.length>0){}return bN}});ss.initClass(bB,a,{});ss.initEnum(bC,a,{normal:'normal',hover:'hover',press:'press',highlighted:'highlighted',selected:'selected'},true);ss.initClass(bE,a,{get_instanceId:function(){return this.$1$1},set_instanceId:function(L){this.$1$1=L},get_region:function(){return this.$1$2},set_region:function(L){this.$1$2=L},get_visualId:function(){return this.get_region().get_visualId()},get_sheetId:function(){return this.get_region().get_sheetid()},get_regionPart:function(){return this.get_region().get_regionPart()},get_paneId:function(){return this.$1$3},set_paneId:function(L){this.$1$3=L},get_paneColumnIndex:function(){return this.$1$4},set_paneColumnIndex:function(L){this.$1$4=L},get_paneRowIndex:function(){return this.$1$5},set_paneRowIndex:function(L){this.$1$5=L},get_regionCoordinates:function(){return this.$1$6},set_regionCoordinates:function(L){this.$1$6=L},get_pageCoordinates:function(){return this.$1$7},set_pageCoordinates:function(L){this.$1$7=L},get_result:function(){return this.$0}},null,[tab.IVizHitInfo]);ss.initClass(bG,a,{createPaneTableView:null,createPaneTableViewModel:function(L){return new bf(L)},addVizDragHandler:function(L){be.addVizDragHandler(L)},addAsyncVizDragHandler:function(L){be.addAsyncVizDragHandler(L)},addVizDragApprover:function(L){be.addVizDragApprover(L)}},null,[tab.IVizZoneModule]);ss.initClass(bH,a,{get_workerID:function(){return this.$1},get_image:function(){return this.$0}},ss.EventArgs);ss.initClass(bI,a,{get_workerID:function(){return this.$0}},ss.EventArgs);ss.initClass(bJ,a,{});(function(){e.$0="<div class='tabMapsSearchContainer'><div class='tabMapsSearchView'></div></div>"})();(function(){h.$0="<div><div class='tabLeafletMapHolder' /><div class='tabLeftBarnDoor' /><div class='tabRightBarnDoor' /></div>"})();(function(){J.defaultHighlightBgColor=new tab.ColorModel(245,245,171,1);J.defaultSelectionBgColor=new tab.ColorModel(140,196,211,1);J.defaultHighlightTextColor=new tab.ColorModel(0,0,0,1);J.defaultSelectionTextColor=new tab.ColorModel(0,0,0,1);var L=new J;L.highlightBgColor=J.defaultHighlightBgColor;L.selectionBgColor=J.defaultSelectionBgColor;L.highlightTextColor=J.defaultHighlightTextColor;L.selectionTextColor=J.defaultSelectionTextColor;J.defaultColors=L})();(function(){o.$8='rgb(0,0,0)';o.$7='rgb(245,245,245)';o.$b=['x-labels','bottom-axis','top-axis'];o.$c=['y-labels','left-axis','right-axis'];o.$a=new tab.FifoCache(20);o.$9=true})();(function(){k.$0="<canvas class='tabCanvas'></canvas>"})();(function(){x.halfPI=0.5*Math.PI;x.onePI=Math.PI;x.oneAndHalfPI=1.5*Math.PI;x.twoPI=2*Math.PI;x.$a=Math.PI*0.15})();(function(){E.$0=ss.mkdict(['no-hit',0,'area-hit',1,'near-hit',2,'exact-hit',3]);E.$1=ss.mkdict(['ref-lines',3,'trend-lines',2,'ref-bands',3,'marks',5,'mark-labels',6])})();(function(){X.$e=0.400000005960464;X.$f='rgb(255,255,255)'})();(function(){m.$5='tvdrag_svg_div';m.$8='circle_radius';m.$0='circle_crosshair';m.$1=4;m.$3='tabDistanceReadout';m.$4="<div class='tabDistanceReadout'></div>";m.$6="<line class='circle_crosshair' x1='0' y1='0' x2='0' y2='0'></line>";m.$2="<line class='circle_crosshair' x1='0' y1='0' x2='0' y2='0'></line><line class='circle_crosshair' x1='0' y1='0' x2='0' y2='0'></line>";m.$9="<line class='circle_radius'x1='0' y1='0' x2='0' y2='0'></line>";m.$7="<div>\n                                                <svg class='selectionShape'>\n                                                    <circle class='tvdrag_svg_marquee'></circle><line class='circle_crosshair' x1='0' y1='0' x2='0' y2='0'></line><line class='circle_crosshair' x1='0' y1='0' x2='0' y2='0'></line><line class='circle_radius'x1='0' y1='0' x2='0' y2='0'></line></svg><div class='tabDistanceReadout'></div></div>"})();(function(){q.$0=2})();(function(){V.$0=5})();(function(){y.$4=50;y.$7=110.574;y.$8=111.32;y.$2=90;y.$1=180;y.$5=6000;y.$3=8;y.$6="<div class='tabGotoMyLocationButtonContainer'></div>"})();(function(){U.widgetClassName='tabMapsSearchView';U.$0='tabMapsSearchViewCollapsed';U.$1='tabMapsSearchContainerCollapsed';U.widgetClassNameTranslucent='tabMapsSearchViewTranslucent';U.suggestionDisplayClassName='tabMapsSearchViewSuggestionDisplayName';U.suggestionActiveSearchTextClassName='tabMapsSearchViewSuggestionActiveSearchText';U.suggestionParentClassName='tabMapsSearchViewSuggestionParentName';U.queryDelayTimerMs=200;U.suppressVizTooltipsAndOverlays='tabSuppressVizTooltipsAndOverlays';tab.ObjectRegistry.registerType(U,U).call(null)})();(function(){v.$0="<div class='FloatingZoomToolbar'></div>"})();(function(){Z.shapeMarkStampingRatio=32;Z.$a='_int';Z.$8=32767;Z.$9=100;Z.$7=['font','font_size','font_style','font_weight'];Z.$2=['color','border_color','halo_color','selected_halo_color','highlighted_halo_color','selected_multi_prim_halo_color','text_style_color','background_color'];Z.$5=['x','x1','x_prev','x_next','cell_x'];Z.$4=['clip_width'];Z.$6=['y','y1','y_prev','y_next','cell_y'];Z.$3=['clip_height'];Z.$c=null;Z.$d=null;Z.$b=null})();(function(){bm.$1={x:0,y:0,w:0,h:0}})();(function(){C.$1=null;C.$0=0})();(function(){bJ.$0=0.05})();(function(){O.$4=100;O.$2='/css/leaflet.css';O.$5=2;O.$9=10;O.$a=0.01;O.$7=8;O.$3='leaflet-touching';O.$6={item1:90,item2:0};O.$8={item1:-90,item2:0}})();(function(){bE.$0=0})();(function(){bF.hitTestDelay=250;bF.maxHitTestDistance=20})();(function(){S.$0="<div class='tabMapAttribution'><div class='tabMapAttributionBackground' /><a class='tabMapAttributionLink'></a></div>"})();(function(){bz.propertyHoverNode='HoverNode'})();(function(){var L=[];L.push('left-axis');L.push('right-axis');L.push('y-labels');L.push('x-labels');L.push('top-axis');L.push('bottom-axis');L.push('title');L.push('caption');bf.blackListVisualParts=L;bf.zoomToolbarTopOffset=10;bf.vizNavigationSettingPropertyName='vizNavigationSetting';bf.borderHighlightPropertyName='borderHighlight'})();(function(){bl.$0=null;tab.ModuleManager.register(M).call(null,'RuntimeUI',null).andMarkAsAlreadyLoadedInGlobalNamespace()})();(function(){ba.$3='rgba(0,0,0,1)';ba.$2='rgba(255,255,255,255)';ba.$5=['normalUnderPass','normalOnPass','highlightedUnderPass','highlightedOnPass','selectedUnderPass','selectedOnPass'];ba.$4=['background','underMark','marks','underLabel','label','foreground']})();(function(){bc.$2=3;bc.$3=145;bc.$1=false})();(function(){bd.$0="<div class='tvViewportBorder tvLeftBorder' /><div class='tvViewportBorder tvRightBorder' /><div class='tvViewportBorder tvTopBorder' /><div class='tvViewportBorder tvBottomBorder' />"})();(function(){bx.$2=0})();(function(){be.suppressVizTooltipsAndOverlays='tabSuppressVizTooltipsAndOverlays';be.titleClass='tab-tvTitle';be.scrollableXRegions=['xheader','bottomaxis','topaxis','viz'];be.scrollableYRegions=['yheader','leftaxis','rightaxis','viz'];be.$4=['yheader','xheader','leftaxis','rightaxis','bottomaxis','topaxis','uleft','uright'];be.axisRegions=['leftaxis','rightaxis','bottomaxis','topaxis'];be.$2=8;be.$3=30;be.$1=[];be.$6=[];be.$5=[]})();(function(){bg.$5='M';bg.$4='L';bg.$1='Z';bg.$2='tvdrag_svg_div';bg.$3="<div><svg class='selectionShape'><path class='tvdrag_svg_marquee'></path></svg></div>";bg.$6=300})();(function(){bi.$1='<div></div>';bi.$0='tvdrag';bi.$2='tvdrag_marquee'})();(function(){bB.visualPartNearHitTestExpansionPixels=7})();(function(){bu.windowLog=null;bu.paneBorderMaskSize=2;bu.canvasBorderPixels=1;bu.zoomAnimationTime=777;bu.minZoomAnimationTime=500;bu.zoomToAnchorAnimationTime=500})()})();;
/*! BEGIN SpiffUIWeb */
(function(){'dont use strict';var a={};global.spiff=global.spiff||{};ss.initAssembly(a,'spiffuiweb');var b=function(){};b.__typeName='spiff.ChangeSpotlightedItemMode';global.spiff.ChangeSpotlightedItemMode=b;var c=function(i){spiff.ComboBoxView.call(this,i,new spiff.ComboBoxTemplate)};c.__typeName='spiff.ComboBoxViewWeb';global.spiff.ComboBoxViewWeb=c;var d=function(){this.$w=null;this.$v=null;this.$3$1=null;this.$3$2=null;this.$3$3=null;spiff.CompositeSearchWidget.call(this,new spiff.CompositeSearchWidgetTemplate);this.compositeSearchWidgetTemplate.get_textInputView().get_inputElement().keydown(ss.mkdel(this,this.$u));this.set_spotlightedItemLogic(null)};d.__typeName='spiff.CompositeSearchWidgetWeb';global.spiff.CompositeSearchWidgetWeb=d;var e=function(){};e.__typeName='spiff.ICompositeSearchWidgetSpotlightedItemLogic';global.spiff.ICompositeSearchWidgetSpotlightedItemLogic=e;var f=function(i){this.$v=0;this.$w=0;spiff.MenuView.call(this,i,new g);this.updateMenu();this.menuViewModel.add_menuItemFocusChanged(ss.mkdel(this,this.$n));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.menuViewModel.remove_menuItemFocusChanged(ss.mkdel(this,this.$n))})));this.menuDisposables.add$1(spiff.EventUtil.bindWithDispose(this.element,'keypress',ss.mkdel(this,this.$t)));this.menuDisposables.add$1(spiff.EventUtil.bindWithDispose(this.element,'keydown',ss.mkdel(this,this.$s)))};f.__typeName='spiff.MenuViewWeb';f.$0=function(i){return i.prop('scrollHeight')>i.prop('clientHeight')+1};global.spiff.MenuViewWeb=f;var g=function(){spiff.MenuTemplate.call(this)};g.__typeName='spiff.MenuViewWebTemplate';global.spiff.MenuViewWebTemplate=g;var h=function(i){spiff.UberPopupView.call(this,i,new spiff.UberPopupTemplate)};h.__typeName='spiff.UberPopupViewWeb';global.spiff.UberPopupViewWeb=h;ss.initEnum(b,a,{moveUp:0,moveDown:1,moveToFirst:2,moveToLast:3,moveToListItem:4});ss.initClass(c,a,{},spiff.ComboBoxView,[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[spiff.ComboBoxViewModel])]);ss.initClass(d,a,{add_spotlightedListItemChanged:function(i){this.$3$1=ss.delegateCombine(this.$3$1,i)},remove_spotlightedListItemChanged:function(i){this.$3$1=ss.delegateRemove(this.$3$1,i)},add_tabKeyPressed:function(i){this.$3$2=ss.delegateCombine(this.$3$2,i)},remove_tabKeyPressed:function(i){this.$3$2=ss.delegateRemove(this.$3$2,i)},get_spotlightedItemLogic:function(){return this.$3$3},set_spotlightedItemLogic:function(i){this.$3$3=i},resetSpotlightedItem:function(){var i=this.$w;this.$w=null;this.$t(i)},$t:function(i){if(ss.referenceEquals(i,this.$w)){return}this.$v=(ss.isValue(this.$w)?this.get_listViewModel().get_collection()[this.$w]:null);if(ss.isValue(this.$w)){this.get_listViewModel().spotlightItemAtIndex(ss.unbox(this.$w))}else{this.get_listViewModel().clearSpotlighting()}if(ss.staticEquals(this.$3$1,null)){return}this.$3$1(this.$v)},handleRemoveList:function(){this.resetSpotlightedItem();spiff.CompositeSearchWidget.prototype.handleRemoveList.call(this)},changeSpotlightedListItem:function(i,j){if(ss.isNullOrUndefined(this.get_listViewModel())||this.get_listViewModel().get_collection().length===0||i===4&&ss.isNullOrUndefined(j)){this.resetSpotlightedItem();return}var k=null;var l=this.$w;if(i===4){k=ss.indexOf(this.get_listViewModel().get_collection(),j);this.$w=k}if(ss.isNullOrUndefined(this.get_spotlightedItemLogic())){return}this.$w=this.get_spotlightedItemLogic().calculateNewSpotlightedItemIndex(l,i,k);this.$t(l)},$u:function(i){switch(i.which){case 38:{if(ss.isValue(this.get_listViewModel())){i.preventDefault();this.changeSpotlightedListItem(0,null)}break}case 40:{if(ss.isValue(this.get_listViewModel())){i.preventDefault();this.changeSpotlightedListItem(1,null)}break}case 36:{if(ss.isValue(this.get_listViewModel())&&ss.isValue(this.$w)){i.preventDefault();this.changeSpotlightedListItem(2,null)}break}case 35:{if(ss.isValue(this.get_listViewModel())&&ss.isValue(this.$w)){i.preventDefault();this.changeSpotlightedListItem(3,null)}break}case 9:{if(!ss.staticEquals(this.$3$2,null)){i.preventDefault();this.$3$2()}break}}}},spiff.CompositeSearchWidget,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initInterface(e,a,{calculateNewSpotlightedItemIndex:null});ss.initClass(f,a,{onAddedToDom:function(){spiff.Widget.prototype.onAddedToDom.call(this);this.dom.domRoot.focus()},showSubmenu:function(i,j,k){$('body').append(k.domRoot);spiff.SpiffBrowserViewport.getViewport(ss.mkdel(this,function(l){this.$u(l,j,k);k.domRoot.show()}))},buildMenu:function(i,j){spiff.MenuView.prototype.buildMenu.call(this,i,j);i.domRoot.on('mouseenter'+this.get_eventNamespace(),'.tabMenuItem',ss.mkdel(this,this.$p))},$u:function(i,j,k){var l=tab.DoubleUtil.roundToInt(k.domRoot.outerWidth(false));var m=tab.DoubleUtil.roundToInt(k.domRoot.outerHeight(false));var n=tab.DoubleUtil.roundToInt(j.outerWidth(false));var o=tab.PointUtil.fromPosition(tab.DomUtil.getPageOffset(j));var p=o.x+n;var q=o.y-parseInt(k.domRoot.children('.tabMenuContent').css('padding-top'));var r=i.getVisibleRoom({x:p,y:q});var s=null;if(r.roomBelow>=m){}else if(r.roomAbove+r.roomBelow>m){q-=ss.Int32.trunc(m-r.roomBelow)}else{var t=5;q-=ss.Int32.trunc(r.roomAbove);s=r.roomAbove-5+r.roomBelow}if(r.roomRight<l){p-=l+n}var u={};u['top']=q+'px';u['left']=p+'px';u['max-height']=(ss.isValue(s)?(s+'px'):'');u['z-index']=tab.DomUtil.getComputedZIndex(j[0]);k.domRoot.css(u)},shown:function(i){spiff.MenuView.prototype.shown.call(this,i);var j=this.menuViewModel.get_focusedItem();var k=this.menuViewModel.get_menu().menuItems;if(ss.isValue(j)){this.$r(j)}else if(ss.isValue(k)){for(var l=0;l<k.length;l++){if(k[l].enabled){this.menuViewModel.set_focusedItem(k[l]);break}}}},onSized:function(){var i=this.dom.domRoot;if(f.$0(i)){i.css('overflow-y','scroll')}else{i.css('overflow-y','hidden')}},$p:function(i){if(i.pageX===this.$v&&i.pageY===this.$w){return}this.$v=i.pageX+0;this.$w=i.pageY+0;var j=$(i.currentTarget);var k=spiff.MenuView.getMenuItem(j);this.$q(spiff.MenuView.getMenuItemLevel(j));if(ss.isValue(k)){this.menuViewModel.set_focusedItem(k);if(ss.isValue(k.subMenu)){this.activateSubmenu(k,j)}}},$q:function(i){if(i<1){this.menuViewModel.hide();return}for(var j=this.menuStack.length-1;j>=i;j--){var k={$:this.menuStack[j]};k.$.domRoot.fadeOut(50,ss.mkdel({subMenu:k},function(){this.subMenu.$.dispose()}));ss.removeAt(this.menuStack,j)}},$s:function(i){var j=0,k,l,m;$sm1:for(;;){switch(j){case 0:{k=this.menuViewModel.get_focusedItem();l=this.menuViewModel.findMenuForMenuItem(k)||this.menuViewModel.get_menu();if(ss.isNullOrUndefined(l)){return}if(i.which===32||i.which===13){if(ss.isNullOrUndefined(k)){return}if(ss.isValue(k.subMenu)){this.$m()}else{this.menuViewModel.clickMenuItem(k)}j=1;continue $sm1}else if(i.which===36){this.menuViewModel.iterateFocus(1,-1);j=1;continue $sm1}else if(i.which===35){this.menuViewModel.iterateFocus(-1,l.menuItems.length);j=1;continue $sm1}else if(i.which===40){this.menuViewModel.iterateFocus(1,null);j=1;continue $sm1}else if(i.which===38){this.menuViewModel.iterateFocus(-1,null);j=1;continue $sm1}else if(i.which===39){this.$m();j=1;continue $sm1}else if(i.which===27){if(this.menuStack.length<=1){this.menuViewModel.hide()}else{j=2;continue $sm1}j=1;continue $sm1}else if(i.which===37){j=2;continue $sm1}else{return}j=1;continue $sm1}case 2:{if(!ss.referenceEquals(l,this.menuViewModel.get_menu())){m=this.getElementForMenuItem(k);if(ss.isNullOrUndefined(m)){return}this.$q(spiff.MenuView.getMenuItemLevel(m)-1);this.menuViewModel.set_focusedItem(this.menuViewModel.findItemContainingSubMenu(l))}j=1;continue $sm1}case 1:{i.preventDefault();i.stopPropagation();j=-1;break $sm1}default:{break $sm1}}}},$t:function(i){if(i.which>=97&&i.which<=122||i.which>=65&&i.which<=90||i.which>=48&&i.which<=57||i.which>127){this.menuViewModel.focusByNamePrefix(String.fromCharCode(i.which))}},$m:function(){if(ss.isValue(this.menuViewModel.get_focusedItem())&&ss.isValue(this.menuViewModel.get_focusedItem().subMenu)){var i=this.getElementForMenuItem(this.menuViewModel.get_focusedItem());if(ss.isValue(i)){this.activateSubmenu(this.menuViewModel.get_focusedItem(),i);var j=((this.menuViewModel.get_focusedItem().subMenu.menuItems.length>0)?this.menuViewModel.get_focusedItem().subMenu.menuItems[0]:null);if(ss.isValue(j)){this.menuViewModel.set_focusedItem(j)}}}},$n:function(i,j){var k=this.getElementForMenuItem(i);if(ss.isNullOrUndefined(k)){return}k.toggleClass('tabMenuFocusedItem',j);if(!j){return}this.$o(i);if(k.is(':visible')){var l=this.getMenuElementForMenuItem(i);if(ss.isNullOrUndefined(l)){return}var m=tab.DoubleUtil.roundToInt(k.position().top);if(m<0){l.scrollTop(tab.DoubleUtil.roundToInt(l.scrollTop())+m)}else{var n=tab.DoubleUtil.roundToInt(l.height());var o=m+tab.DoubleUtil.roundToInt(k.outerHeight());if(n<o){l.scrollTop(tab.DoubleUtil.roundToInt(l.scrollTop())+(o-n))}}}},$r:function(i){var j=this.getElementForMenuItem(i);j.toggleClass('tabMenuFocusedItem',true);var k=this.dom.domRoot;k.scrollTop(tab.DoubleUtil.roundToInt(k.scrollTop())+tab.DoubleUtil.roundToInt(j.position().top)-ss.Int32.div(tab.DoubleUtil.roundToInt(j.height()),2));this.$o(i)},$o:function(i){var j=this.getElementForMenuItem(i);if(i.isTextInput){this.element.removeAttr('aria-activedescendant');j.find('input').focus()}else{var k='tab-'+i.id;j.attr('id',k);this.element.attr('aria-activedescendant',k).focus()}}},spiff.MenuView,[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[spiff.MenuViewModel])]);ss.initClass(g,a,{},spiff.MenuTemplate,[ss.IDisposable]);ss.initClass(h,a,{get_uberPopupShadowHeight:function(){return 2}},spiff.UberPopupView,[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[spiff.UberPopupViewModel])]);(function(){tab.ObjectRegistry.registerType(spiff.ComboBoxView,c).call(null)})();(function(){tab.ObjectRegistry.registerType(spiff.CompositeSearchWidget,d).call(null)})();(function(){tab.ObjectRegistry.registerType(spiff.MenuView,f).call(null)})();(function(){tab.ObjectRegistry.registerType(spiff.UberPopupView,h).call(null)})()})();;
/*! BEGIN UIWeb */
(function(){'dont use strict';var a={};global.tab=global.tab||{};ss.initAssembly(a,'vqluiweb');var b=function(g,h){tab.ApplicationViewModel.call(this,g,h);$(window).on(this.createNamespacedEventName('resize'),ss.mkdel(this,function(){this.resize(false)}))};b.__typeName='tab.ApplicationViewModelWeb';global.tab.ApplicationViewModelWeb=b;var c=function(g){this.$y=null;this.$A=null;this.$z=null;tab.DataHighlighterView.call(this,g,new tab.DataHighlighterViewTemplate);this.$y=this.get_compositeSearchWidget();this.$y.add_listItemMouseEnter(ss.mkdel(this,this.$t));this.$y.add_listItemMouseMove(ss.mkdel(this,this.$u));this.$y.add_spotlightedListItemChanged(ss.mkdel(this,this.$x));this.$y.add_tabKeyPressed(ss.mkdel(this,this.$s));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.$y.remove_listItemMouseEnter(ss.mkdel(this,this.$t));this.$y.remove_listItemMouseMove(ss.mkdel(this,this.$u));this.$y.remove_spotlightedListItemChanged(ss.mkdel(this,this.$x));this.$y.remove_tabKeyPressed(ss.mkdel(this,this.$s))})));this.$y.set_spotlightedItemLogic(this)};c.__typeName='tab.DataHighlighterViewWeb';global.tab.DataHighlighterViewWeb=c;var d=function(g){this.$3=false;this.$5='vertical';this.$4=false;this.$7=null;this.$6=0;this.$1$1=false;this.$3=g;this.forgetInputDevice()};d.__typeName='tab.ScrollAdjuster';global.tab.ScrollAdjuster=d;var e=function(){};e.__typeName='tab.ScrollAdjusterUtil';e.getProperty=function(g,h){var i=g[h];return ss.coalesce(i,0)};e.adjustVerticalScrollDeltaForTouchpad=function(g){if(g%tab.MapUtil.defaultWheelDeltaIncrement!==0){var h=Math.abs(g);var i=ss.Int32.div(h,tab.MapUtil.defaultWheelDeltaIncrement)+1;if(g<0){i*=-1}g=tab.MapUtil.defaultWheelDeltaIncrement*i}return g};global.tab.ScrollAdjusterUtil=e;var f=function(g,h){this.$0=null;this.$1=null;this.$0=g.get(0);this.$1=h.get(0)};f.__typeName='tab.WebScroller';global.tab.WebScroller=f;ss.initClass(b,a,{destroy:function(){$(window).off(this.createNamespacedEventName('resize'));tab.ApplicationViewModel.prototype.destroy.call(this)}},tab.ApplicationViewModel,[tab.IWidget,tab.IAppendableView,ss.IDisposable,tab.IClient,tab.IApiStorytellingClient]);ss.initClass(c,a,{$x:function(g){this.$z=g;if(ss.isValue(this.$z)){var h=this.$z.get_data();this.get_viewModel().highlightItems([h.objectId])}else if(this.currentListPopulationMode===2){this.get_viewModel().restoreSearchResultsHighlighting()}else{this.get_viewModel().clearHighlighting()}},$r:function(g){if(ss.isNullOrUndefined(g.get_data())){return}this.$y.changeSpotlightedListItem(4,g);if(ss.isNullOrUndefined(this.$A)){var h=$(document).find('.tabDataHighlighterViewSearchResultList');this.$A=spiff.EventUtil.bindWithDispose(h,'mouseleave',ss.mkdel(this,this.$v));this.disposables.add$1(this.$A)}},$t:function(g){this.$r(g)},$u:function(g){this.$r(g)},$v:function(g){this.$y.resetSpotlightedItem();this.$w()},removeList:function(){this.$w();tab.DataHighlighterView.prototype.removeList.call(this)},$w:function(){if(ss.isNullOrUndefined(this.$A)){return}this.$A.dispose();this.$A=null},handleEnterKeyPress:function(){if(ss.isValue(this.$z)){this.handleListItemSelected(this.$z);return}tab.DataHighlighterView.prototype.handleEnterKeyPress.call(this)},handleListItemSelected:function(g){this.removeList();tab.DataHighlighterView.prototype.handleListItemSelected.call(this,g)},$s:function(){var g;if(ss.isNullOrUndefined(this.$z)){var h=this.$y.get_listViewModel();if(ss.isNullOrUndefined(h)||h.get_collection().length===0){return}var i=this.get_compositeSearchWidget().get_textInputView().get_text().trim().length;if(i===0){this.removeList();return}g=h.get_collection()[0].get_data()}else{g=this.$z.get_data()}this.get_compositeSearchWidget().setSearchText(g.text);this.dataHighlighterViewModel.sendSearchQuery(g.text,false)},populateAndDisplayList:function(g,h){tab.DataHighlighterView.prototype.populateAndDisplayList.call(this,g,h);this.$y.resetSpotlightedItem()},calculateNewSpotlightedItemIndex:function(g,h,i){var j=this.get_compositeSearchWidget().get_listViewModel().get_collection().length-(this.notShownResultsListItemIsVisible?2:1);if(h===4){if(ss.Nullable$1.gt(i,j)){i=j}return i}if(ss.isNullOrUndefined(g)){return 0}var k=g;switch(h){case 1:{k=ss.Nullable$1.add(k,1);if(ss.Nullable$1.gt(k,j)){k=j}break}case 0:{k=ss.Nullable$1.sub(k,1);if(ss.Nullable$1.lt(k,0)){k=null}break}case 2:{k=0;break}case 3:{k=j;break}}return k}},tab.DataHighlighterView,[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[tab.DataHighlighterViewModel]),spiff.IListItemContentCreator,spiff.ICompositeSearchWidgetSpotlightedItemLogic]);ss.initClass(d,a,{get_isFromTouchpad:function(){return this.$1$1},set_isFromTouchpad:function(g){this.$1$1=g},forgetInputDevice:function(){this.set_isFromTouchpad(false);this.$4=false;this.$6=0;this.$7=null},normalizeScrollWheelDeltas:function(g){var h,i;var j=e.getProperty(g,'wheelDeltaY');var k=e.getProperty(g,'wheelDeltaX');var l=e.getProperty(g,'deltaY');var m=e.getProperty(g,'deltaX');var n=e.getProperty(g,'detail');if(n!==0){var o=g['axis'];var p=g['HORIZONTAL_AXIS'];i=(ss.referenceEquals(o,p)?0:n);h=(ss.referenceEquals(o,p)?n:0)}else if(j!==0||k!==0){if(tab.BrowserSupport.get_isSafari()&&tab.BrowserSupport.get_safariVersion()>=7){var q=Math.abs(k);var r=Math.abs(j);var s=Math.max(q,r);if(this.get_isFromTouchpad()){if(s%3===0){k=ss.Int32.div(k,3);j=ss.Int32.div(j,3)}}else if(s%12===0){k=((k<0)?-120:120);j=((j<0)?-120:120)}}i=-j;h=-k}else if(l!==0||m!==0){var t=(this.get_isFromTouchpad()?3:40);if(tab.BrowserSupport.get_isMac()){t*=3;if(Math.abs(l)>0&&Math.abs(l)<1||Math.abs(m)>0&&Math.abs(m)<1){t*=10}}else{this.$1()}i=t*l;h=t*m}else{i=-g['wheelDelta'];h=0}this.$0(i,l);return((this.get_isFromTouchpad()&&this.$3)?this.$2(h,i):{x:h,y:i})},$1:function(){if(this.$4){return}if(ss.staticEquals(this.$7,null)){this.$7=new Date}else{var g=this.$6>10;if(g||new Date-this.$7>100){this.set_isFromTouchpad(g);this.$4=true}}this.$6++},$0:function(g,h){if(this.$4){return}if(!tab.BrowserSupport.get_isFF()){var i=Math.abs(g);if(i>0){this.$4=true;if(i<12){this.set_isFromTouchpad(true)}}}else{var j=Math.abs(h);if(j>0){this.$4=true;if(tab.BrowserSupport.get_isMac()){this.set_isFromTouchpad(Math.abs(h)>=1)}}}},$2:function(g,h){var i=((g!==0&&h!==0)?this.$5:((g===0)?'vertical':'horizontal'));if(this.$5==='vertical'){g=0}if(this.$5==='horizontal'){h=0}this.$5=i;return{x:g,y:h}}});ss.initClass(e,a,{});ss.initClass(f,a,{get_canScrollX:function(){return this.get_maxScroll().x>0},get_canScrollY:function(){return this.get_maxScroll().y>0},get_scrollPos:function(){var g=(ss.isNullOrUndefined(this.$0)?0:$(this.$0).scrollLeft());var h=(ss.isNullOrUndefined(this.$1)?0:tab.DoubleUtil.roundToInt($(this.$1).scrollTop()));return{x:g,y:h}},get_maxScroll:function(){return{x:(ss.isNullOrUndefined(this.$0)?0:(this.$0.scrollWidth-this.$0.offsetWidth)),y:(ss.isNullOrUndefined(this.$1)?0:(this.$1.scrollHeight-this.$1.offsetHeight))}},get_visibleArea:function(){return{w:(ss.isNullOrUndefined(this.$0)?0:this.$0.offsetWidth),h:(ss.isNullOrUndefined(this.$1)?0:this.$1.offsetHeight)}},scrollX:function(g){if(this.get_canScrollX()){this.$0.scrollLeft+=g}},scrollY:function(g){if(this.get_canScrollY()){this.$1.scrollTop+=g}},setScrollTarget:function(g){},refresh:function(){}},null,[spiff.IScroller]);(function(){tab.ObjectRegistry.registerType(tab.DataHighlighterView,c).call(null)})();(function(){d.$4=120;d.$5=12;d.$7=3;d.$6=40;d.$8=3;d.$2=3;d.$3=10;d.$1=10;d.$0=100})()})();;
/*! BEGIN VizZoneWeb */
(function(){'dont use strict';var a={};global.tab=global.tab||{};ss.initAssembly(a,'vqlvizzoneweb');var b=function(){};b.__typeName='tab.$0';var c=function(){this.$0=null;this.$1=0};c.__typeName='tab.$1';var d=function(u,v,w,x,y,z){this.$4=null;this.$2=null;this.$3=0;this.$0=null;this.$5=null;this.$1=false;this.$4=u;this.$2=v;this.$3=w;this.$0=x;this.$5=y;this.$1=z};d.__typeName='tab.$2';var e=function(u,v,w){this.$1=0;this.$2=0;this.$0=0;this.$1=u;this.$2=v;this.$0=w};e.__typeName='tab.$3';var f=function(){};f.__typeName='tab.CursorKey';global.tab.CursorKey=f;var g=function(u,v){this.$s=null;this.$t=null;this.$u=null;this.$m=null;this.$n=null;this.$v=null;this.$p=false;this.$q=null;this.$o=null;this.$r=null;this.$x=null;this.$w=null;o.call(this,$(document.createElement('div')),$(v));this.$v=u;this.$s=this.$v.get_inputHandlers();this.element.addClass('tab-tiledViewerDrill');this.$m=$("<span class='tab-tvLevelDrillDown tab-levelDrillingIcon tvDrillDown' />").appendTo(this.element);this.$t=new spiff.Button(this.$m);this.$t.add_press(ss.mkdel(this,this.$c));this.$n=$("<span class='tab-tvLevelDrillUp tab-levelDrillingIcon tvDrillUp' />").appendTo(this.element);this.$u=new spiff.Button(this.$n);this.$u.add_press(ss.mkdel(this,this.$d));v.appendChild(this.element.get(0));this.$f();this.turnDrillWidgetsOff()};g.__typeName='tab.Drilling';global.tab.Drilling=g;var h=function(u){this.$0=null;this.$0=u};h.__typeName='tab.FloatingZoomToolbarOperationsWeb';global.tab.FloatingZoomToolbarOperationsWeb=h;var i=function(u,v,w,x,y){tab.FloatingZoomToolbar.call(this,u,v,w,x,y);this.init()};i.__typeName='tab.FloatingZoomToolbarWeb';i.$0=function(u){return u+'\n'+tab.Strings.SelectionToolsLockTooltip};global.tab.FloatingZoomToolbarWeb=i;var j=function(u){this.$0=null;this.$0=u};j.__typeName='tab.HoverApi';global.tab.HoverApi=j;var k=function(u){this.$j=null;this.$i=null;this.$k=null;this.$c=new tab.DisposableHolder;this.$b=null;this.$f=null;this.$g=false;this.$h=null;this.$e=false;this.$d=false;tab.Param.verifyValue(u,'tooltip');this.$j=u;this.$i=[];this.$k=k.$0()};k.__typeName='tab.LegacyTooltipBehavior';k.$0=function(){k.$6++;return'mousemove.LegacyTooltipBehavior'+k.$6.toString()};global.tab.LegacyTooltipBehavior=k;var l=function(u){this.$u=null;tab.MapsSearchView.call(this,u,tab.MapsSearchView.newMapsSearchViewTemplate());this.get_compositeSearchWidget().get_textInputView().get_inputElement().mouseup(ss.mkdel(this,this.$r));var v=this.get_compositeSearchWidget();v.add_spotlightedListItemChanged(ss.mkdel(this,this.$q));v.add_tabKeyPressed(ss.mkdel(this,this.$s));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){v.remove_spotlightedListItemChanged(ss.mkdel(this,this.$q));v.remove_tabKeyPressed(ss.mkdel(this,this.$s))})));v.set_spotlightedItemLogic(this)};l.__typeName='tab.MapsSearchViewWeb';global.tab.MapsSearchViewWeb=l;var m=function(){this.scrollX=null;this.scrollY=null;this.yLabelResizer=null;this.xLabelResizer=null;this.topAxisResizer=null;this.rightAxisResizer=null;this.bottomAxisResizer=null;this.leftAxisResizer=null;tab.PaneTableTemplate.call(this,$("<div class='tab-tiledViewer placeholder'><div class='tab-clip'><h2 class='tab-tvTitle tvimagesNS'></h2><div class='tab-tvTLSpacer tvimagesNS'><img></img></div><div class='tab-tvTRSpacer tvimagesNS'><img></img></div><div class='tab-tvBLSpacer tvimagesNS'><img></img></div><div class='tab-tvBRSpacer tvimagesNS'><img></img></div><div class='tab-tvYLabel tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvLeftAxis tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvRightAxis tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvXLabel tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvBottomAxis tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvTopAxis tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvView tvimagesNS'><div class='tvScrollContainer'><div class='tvBackgroundContainer'></div><div class='tvimagesContainer'></div></div><div class='tvViewportBorders'></div></div><div class='tab-tvCaption tvimagesNS'></div><div class='tab-tvScrollX tvimages'><div class='tvimagesContainer'></div></div><div class='tab-tvScrollY tvimages'><div class='tvimagesContainer'></div></div></div></div>"));var u=ss.mkdel(this,this.getElementBySelector);this.scrollX=u('.tab-tvScrollX');this.scrollY=u('.tab-tvScrollY')};m.__typeName='tab.PaneTableTemplateWeb';global.tab.PaneTableTemplateWeb=m;var n=function(u){this.$27={};this.$1Z=null;this.$23=false;this.$26=false;this.$21=null;this.$2j=null;this.$2d=null;this.$24=null;this.$2i=null;this.$2g=null;this.$2h=null;this.$2f=null;this.$25=null;this.$28=false;this.$2e=null;this.$22=null;this.$2l=null;this.$2k=null;this.$29=false;this.$2b=0;this.$1Y=null;this.$2a=null;this.$2c=0;this.$20=null;tab.PaneTableView.call(this,u,new m);this.$1Z=this.dom;this.$1U();this.$29=false;var v={tap:ss.mkdel(this,function(w){if(ss.referenceEquals(w.currentTarget,w.target)){this.clearSelection()}})};this.disposables.add$1(new spiff.TableauEventHandler.$ctor1(this.dom.enclosingDiv.get(0),v));this.init()};n.__typeName='tab.PaneTableViewWeb';n.$0=function(u,v){return u.x>v.pageX||u.x+u.w<=v.pageX||u.y>v.pageY||u.y+u.h<=v.pageY};n.$1=function(){};global.tab.PaneTableViewWeb=n;var o=function(u,v){this.$6=0;this.$8=null;this.$7=null;spiff.Widget.call(this,u);this.$6=o.$0.length;o.$0.push(this);this.$8=v};o.__typeName='tab.SortDrillBase';global.tab.SortDrillBase=o;var p=function(u,v){this.$x=null;this.$t=null;this.$v=null;this.$w=null;this.$y=null;this.$u=null;this.$z=null;this.$B=null;this.$A=null;o.call(this,$(document.createElement('div')),$(v));this.$w=u;this.element.addClass('tab-tiledViewerSort');this.$v=this.$a();this.$x=spiff.LabelButton.newNativeButton();this.$x.element.addClass('tab-tvSortIndicator');this.$x.element.css('border','0');this.$x.element.css('position','absolute');this.$x.element.css('padding','0px');this.element.append(this.$x.element);this.$t=this.$x.element;$(v).find('.tab-tiledViewerSort').remove();v.appendChild(this.element.get(0));this.$9();this.$n();this.$t.css('display','none')};p.__typeName='tab.Sorting';global.tab.Sorting=p;var q=function(){this.geometry=null;this.visibleGeometry=null;this.sortIndicators=null;this.posTVx=0;this.posTVy=0;this.dom=null;this.sheetid=null;this.layoutSession=null;this.session=null;this.inputHandlers=null;this.tlspacerAreaX=null;this.tlspacerAreaY=null;this.blspacerArea=null;this.regions=null;this.titleHeight=0};q.__typeName='tab.TiledViewerModel';global.tab.TiledViewerModel=q;var r=function(u,v,w,x,y,z,A,B){this.$N=false;this.$T={item1:false,item2:'no-tools'};this.$X=null;this.$Q=null;this.$P=null;this.$V=null;this.$W=null;this.$O=null;this.$S=false;this.$U=false;this.$R=false;tab.TiledViewerRegion.call(this,u,v,z,A,B);this.$Q=w;if(this.get_regionPart()==='viz'){r.$2();tab.ModifierKeyState.add_modifierKeysChanged(ss.mkdel(this,this.$q));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){tab.ModifierKeyState.remove_modifierKeysChanged(ss.mkdel(this,this.$q))})));this.set_defaultPointerToolMode(this.determineDefaultToolMode());this.currentToolbarToolMode=this.get_defaultPointerToolMode();this.resetPointerToolMode()}this.$N=true;this.scroller=new tab.WebScroller(x,y)};r.__typeName='tab.TiledViewerRegionWeb';r.$2=function(){if(ss.isValue(r.$6)){return}var u='default';r.$6={};r.$6['zoomIn']=(tab.BrowserSupport.get_isIE()?'crosshair':('url('+tableau.util.assetUrl('cursors/zoomin.png',true)+') 8 7, '+u));r.$6['zoomOut']=(tab.BrowserSupport.get_isIE()?'crosshair':('url('+tableau.util.assetUrl('cursors/zoomout.png',true)+') 8 7, '+u));r.$6['panDrag']=(tab.BrowserSupport.get_isIE()?'move':('url('+tableau.util.assetUrl('cursors/pandrag.png',true)+') 9 9, '+u));r.$6['rectSelect']=(tab.BrowserSupport.get_isIE()?'crosshair':('url('+tableau.util.assetUrl('cursors/rectdrag.png',true)+') 2 2, '+u));r.$6['lassoSelect']=(tab.BrowserSupport.get_isIE()?'crosshair':('url('+tableau.util.assetUrl('cursors/lassodrag.png',true)+') 2 2, '+u));r.$6['radialSelect']=(tab.BrowserSupport.get_isIE()?'crosshair':('url('+tableau.util.assetUrl('cursors/radialdrag.png',true)+') 2 2, '+u));r.$6['rectExtended']=(tab.BrowserSupport.get_isIE()?'crosshair':('url('+tableau.util.assetUrl('cursors/rectdragextended.png',true)+') 2 2, '+u));r.$6['lassoExtended']=(tab.BrowserSupport.get_isIE()?'crosshair':('url('+tableau.util.assetUrl('cursors/lassodragextended.png',true)+') 2 2, '+u));r.$6['radialExtended']=(tab.BrowserSupport.get_isIE()?'crosshair':('url('+tableau.util.assetUrl('cursors/radialdragextended.png',true)+') 2 2, '+u));r.$6['dragSelect']='crosshair';r.$6['select']='pointer';r.$6['defaultKey']='default'};r.$0=function(u){return u.shiftKey&&!spiff.EventUtil.isCtrlKey(u)};r.$1=function(u){return!u.altKey&&u.shiftKey&&spiff.EventUtil.isCtrlKey(u)};global.tab.TiledViewerRegionWeb=r;var s=function(u,v){tab.TooltipBaseLegacyMode.call(this,u,v);this.get_tooltip().add_showed(ss.mkdel(this,this.showCommandAreaAndActions))};s.__typeName='tab.TooltipLegacyMode';global.tab.TooltipLegacyMode=s;var t=function(){tab.VizZoneFactory.call(this)};t.__typeName='tab.VizZoneWebFactory';global.tab.VizZoneWebFactory=t;ss.initEnum(b,a,{$3:0,$1:1,$2:2,$0:3});ss.initClass(c,a,{});ss.initClass(d,a,{});ss.initClass(e,a,{});ss.initEnum(f,a,{zoomIn:'zoomIn',zoomOut:'zoomOut',panDrag:'panDrag',rectSelect:'rectSelect',lassoSelect:'lassoSelect',radialSelect:'radialSelect',rectExtended:'rectExtended',lassoExtended:'lassoExtended',radialExtended:'radialExtended',dragSelect:'dragSelect',select:'select',defaultKey:'defaultKey'},true);ss.initClass(o,a,{get_enabled:function(){return ss.isValue(this.$7)},set_enabled:function(u){if(this.get_widgetFeatureEnabled()){if(u){if(ss.isNullOrUndefined(this.$7)){this.$7=spiff.EventUtil.bindWithDispose(this.$8,'mousemove',ss.mkdel(this,function(v){this.onMouseMove(v)}))}}else{this.$7=tab.MiscUtil.dispose$1(this.$7)}}},get_widgetFeatureEnabled:null,dispose:function(){ss.remove(o.$0,this);this.element.remove();this.$7=tab.MiscUtil.dispose$1(this.$7);spiff.Widget.prototype.dispose.call(this)},isOtherActiveInRect:function(u){for(var v=0;v<o.$0.length;v++){if(v!==this.$6){var w=o.$0[v];if(w.isActiveInRect(u)){return true}}}return false},isActiveInRect:function(u){return false},onMouseMove:null,getSIRegionFromName:function(u,v){var w,x;var y=ss.replaceAllString(v,'Area','');var z=u.get_sortIndicators();var A=z.sortIndicatorRegions;for(w=0,x=A.length;w<x;w++){if(ss.referenceEquals(A[w].sortRegion.toString(),y)){return A[w]}}return null},showNodeAt:function(u,v,w){$(u).css('top',v+'px');$(u).css('left',w+'px');$(u).css('display','')},getWidgetPos:function(u,v,w){if(u==='level'){if(w==='y'){return{x:v.l+ss.Int32.div(v.w,2)-4,y:v.t+2}}else{return{x:v.l+2,y:v.t+ss.Int32.div(v.h,2)-4}}}else{return{x:v['x']+2,y:v['y']+2}}},hideNode:function(u){$(u).css('display','none')},regionHitTest:function(u,v){var w=u;var x=new ss.ObjectEnumerator(w);try{while(x.moveNext()){var y=x.current();if(ss.isValue(y.value)&&tab.RectUtil.inRect(y.value,v)){return y.key}}}finally{x.dispose()}return null},clone:function(u){if(ss.isNullOrUndefined(u)){return u}return this.mixin(new Object,u)},mixin:function(u,v){var w=v;var x=new ss.ObjectEnumerator(w);try{while(x.moveNext()){var y=x.current();var z=u[y.key];if(ss.isNullOrUndefined(z)||!ss.referenceEquals(z,w[y.key])){u[y.key]=w[y.key]}}}finally{x.dispose()}return u}},spiff.Widget,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(g,a,{get_widgetFeatureEnabled:function(){return tsConfig.allow_filter},dispose:function(){o.prototype.dispose.call(this);this.$v=null;this.$t.dispose();this.$u.dispose()},onUpdate:function(){if(!ss.staticEquals(this.$w,null)){this.$w();this.$w=null}this.$p=false;this.$r=this.$v.geometry;this.$x=this.$v.visibleGeometry},onMouseMove:function(u){this.$a(u)},isActiveInRect:function(u){if($(this.$m.get(0)).css('display')!=='none'||$(this.$n.get(0)).css('display')!=='none'){if(ss.isValue(this.$o)&&tab.RectXYUtil.intersectsWith(this.$o,u)){return true}}return false},turnDrillWidgetsOff:function(){var u=['bottomaxis','xheader','yheader'];for(var v=0;v<u.length;v++){var w=u[v];if(ss.isValue(this.$s[w])){this.$s[w].unsuppressHover()}}this.hideNode(this.$m.get(0));this.hideNode(this.$n.get(0));this.$q=new c},$f:function(){this.set_enabled(true)},$a:function(u){var v=new Object;var w=false;var x=false;var y=false;var z=false;var A=false;var B=false;var C=false;var D=true;if(this.$p){return}if(u.button>0){return}if(ss.isNullOrUndefined(this.$r)||ss.isNullOrUndefined(this.$r.di)||ss.referenceEquals(this.$r.di,v)||!tsConfig.allow_filter){return}var E=this.$v.get_tableViewPosition();var F={x:u.pageX-E.x,y:u.pageY-E.y};if(ss.isValue(this.$x.xheaderArea)){w=tab.RectUtil.inRect(this.$x.xheaderArea,F)}if(ss.isValue(this.$x.leftaxisArea)){C=tab.RectUtil.inRect(this.$x.leftaxisArea,F)}var G=this.$v.tlspacerAreaX;var H=this.$v.tlspacerAreaY;if(w&&ss.isValue(G)&&ss.isValue(H)&&ss.isValue(this.$x.uleftArea)){H.w=G.l;D=false}if(ss.isValue(this.$x.bottomaxisArea)&&!w){x=tab.RectUtil.inRect(this.$x.bottomaxisArea,F)}if(ss.isValue(this.$x.yheaderArea)&&!w&&!x){y=tab.RectUtil.inRect(this.$x.yheaderArea,F)}if(ss.isValue(H)&&!w&&!x&&ss.isValue(this.$x.yheaderArea)){z=tab.RectUtil.inRect(H,F)}if(ss.isValue(G)&&!z&&!y&&!x&&ss.isValue(this.$x.xheaderArea)){A=tab.RectUtil.inRect(G,F)}var I=this.$v.blspacerArea;if(ss.isValue(I)&&!z&&!A){B=tab.RectUtil.inRect(I,F)}if(!w&&!y&&!x&&!z&&!A&&!B&&!C){this.turnDrillWidgetsOff()}else if(A){D=false;this.$j(F)}else if(w){D=false;this.$j(F)}else if(y){this.$k(F)}else if(x||B){this.$i()}else if(C){this.$h()}else if(z){this.$k(F)}if(D&&ss.isValue(H)&&ss.isValue(this.$x.uleftArea)){H.w=this.$x.uleftArea.w}},$c:function(){this.$b('down')},$d:function(){this.$b('up')},$b:function(u){this.$p=true;if(tsConfig.allow_filter&&!ss.isNullOrUndefined(this.$q.$0)){var v=((this.$q.$0.toString()==='yheader')?'rows-shelf':'columns-shelf');var w=false;if(u==='up'){w=true}tab.FilterClientCommands.levelDrill(this.$v.get_visualId(),this.$q.$1,v,w)}this.turnDrillWidgetsOff()},$j:function(u){var v=this.$r.di.xs+this.$v.titleHeight;var w=this.$9(u.y,v,this.$r.di.xy);if(w.$0>=0&&w.$0<this.$r.di.xy.length){this.$l('x',w,this.$r.di.xy)}else{this.turnDrillWidgetsOff()}},$h:function(){if(ss.isNullOrUndefined(this.$x.leftaxisArea)){return}var u=this.$r.di.yx.length-1;if(u<0){return}var v=Math.min(this.$x.leftaxisArea.l,17);var w={l:this.$x.leftaxisArea.l-v,t:this.$x.leftaxisArea.t,w:this.$x.leftaxisArea.w+v,h:this.$x.leftaxisArea.h};this.$e(w,this.$r.di.yx[u][1],'y');this.$q.$1=u;this.$q.$0='yheader'},$k:function(u){var v=this.$9(u.x,this.$r.di.ys,this.$r.di.yx);var w=v.$0;if(w>=0&&w<this.$r.di.yx.length){if(this.$r.di.yx[v.$0][1]<3){this.$l('y',v,this.$r.di.yx)}}},$i:function(){if(ss.isNullOrUndefined(this.$x.bottomaxisArea)){return}var u=this.$r.di.xy.length-1;var v=Math.min(this.$x.bottomaxisArea.l,20);var w=null;if(v===0){w={l:this.$x.bottomaxisArea.l+17,t:this.$x.bottomaxisArea.t,w:this.$x.bottomaxisArea.w+17,h:this.$x.bottomaxisArea.h}}else{w={l:this.$x.bottomaxisArea.l-v,t:this.$x.bottomaxisArea.t,w:this.$x.bottomaxisArea.w+v,h:this.$x.bottomaxisArea.h}}this.$e(w,this.$r.di.xy[u][1],'x');this.$q.$1=u;this.$q.$0='bottomaxis'},$l:function(u,v,w){var x;var y=0;if(u==='x'){if(ss.isValue(this.$x.uleftArea)){y=Math.min(this.$x.xheaderArea.l,17)}x={l:this.$x.xheaderArea.l-y,t:v.$1,w:this.$x.xheaderArea.w+y,h:v.$2-v.$1}}else{if(ss.isValue(this.$x.uleftArea)){y=Math.min(this.$x.yheaderArea.t,17)}x={l:v.$1,t:this.$x.yheaderArea.t-y,w:v.$2-v.$1,h:this.$x.yheaderArea.h+y}}this.$e(x,w[v.$0][1],u);this.$q.$1=v.$0;this.$q.$0=u+'header'},$g:function(u,v,w){var x=this.getWidgetPos('level',v,w);var y=tab.DoubleUtil.roundToInt(this.$m.outerHeight());var z=tab.DoubleUtil.roundToInt(this.$m.outerWidth());this.$o={x:x.x,y:x.y,w:z,h:y};if(this.isOtherActiveInRect(this.$o)){return}this.showNodeAt(u,x.y,x.x)},$e:function(u,v,w){switch(v){case 0:{this.hideNode(this.$m.get(0));this.hideNode(this.$n.get(0));break}case 1:{this.$g(this.$m.get(0),u,w);this.hideNode(this.$n.get(0));break}case 2:{this.$g(this.$n.get(0),u,w);this.hideNode(this.$m.get(0));break}case 3:{var x=null;if(w==='x'){this.$g(this.$m.get(0),u,w);x={l:u.l-17,t:u.t,w:u.w+17,h:u.h};this.$g(this.$n.get(0),x,w)}else if(w==='y'){x={l:u.l+10,t:u.t,w:u.w+17,h:u.h};this.$g(this.$m.get(0),x,w);this.$g(this.$n.get(0),u,w)}break}}},$9:function(u,v,w){var x=-1;var y=v-1;var z=-1;if(ss.isNullOrUndefined(w)){return new e(-1,-1,-1)}while(y<u&&z<w.length-1){z+=1;x=y;y+=w[z][0]}if(y<u){return new e(-1,-1,-1)}return new e(x,y,z)}},o,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(h,a,{zoomHome:function(){this.$0.zoomHome()},zoomIn:function(){this.$0.$1W(2)},zoomOut:function(){this.$0.$1W(0.5)},setPointerToolMode:function(u,v){this.$0.setPointerToolMode(u,v)},setAppendMode:function(u){},anyButtonTouched:function(){},defaultPointerToolMode:function(){return this.$0.defaultPointerToolMode()}});ss.initClass(i,a,{clickZoomHome:function(){tab.FloatingZoomToolbar.prototype.clickZoomHome.call(this);if(this.toolbarType==='homeOnlyToolbar'){this.setActiveState(false)}},$l:function(u){var v=i.$0(tab.Strings.PanZoomSelectToolsRadialSelectionTooltip);this.radialSelectButton=this.addToggleButton(u,'buttonRadialSelect',v)},$m:function(u){var v=i.$0(tab.Strings.PanZoomSelectToolsRectangularSelectionTooltip);this.rectSelectButton=this.addToggleButton(u,'buttonRectSelect',v)},$j:function(u){var v=i.$0(tab.Strings.PanZoomSelectToolsLassoSelectionTooltip);this.lassoSelectButton=this.addToggleButton(u,'buttonLassoSelect',v)},$k:function(u){var v=i.$0(tab.Strings.PanZoomSelectToolsPanTooltip);this.panButton=this.addToggleButton(u,'buttonPan',v)},createButtons:function(){this.createButtonContainer();if(this.toolbarType==='fullToolbar'){this.zoomInButton=this.addButton(this.buttonContainer,'buttonZoomIn',tab.Strings.PanZoomSelectToolsZoomInTooltip);this.zoomOutButton=this.addButton(this.buttonContainer,'buttonZoomOut',tab.Strings.PanZoomSelectToolsZoomOutTooltip);this.zoomHomeButton=this.addButton(this.buttonContainer,'buttonZoomHome',tab.Strings.PanZoomSelectToolsZoomHomeTooltip);this.addSpacer();this.flyOutButton=this.addButton(this.buttonContainer,'buttonFlyOut','');this.createButtonFlyOut();this.$i()}else if(this.toolbarType==='disablePanZoomToolbar'){if(this.geoSearchEnabled){this.zoomHomeButton=this.addButton(this.buttonContainer,'buttonZoomHome',tab.Strings.PanZoomSelectToolsZoomHomeTooltip)}this.$m(this.buttonContainer);this.$l(this.buttonContainer);this.$j(this.buttonContainer)}else{this.zoomHomeButton=this.addButton(this.buttonContainer,'buttonZoomHome',tab.Strings.PanZoomSelectToolsZoomHomeTooltip)}this.setupEventHandling()},$i:function(){if(this.toolbarType==='fullToolbar'){var u=i.$0((tab.BrowserSupport.get_isMac()?tab.Strings.PanZoomSelectToolsZoomAreaTooltipMac:tab.Strings.PanZoomSelectToolsZoomAreaTooltip));this.zoomAreaButton=this.addToggleButton(this.flyOutButtons,'buttonZoomArea',u);this.$k(this.flyOutButtons);this.$m(this.flyOutButtons);this.$l(this.flyOutButtons);this.$j(this.flyOutButtons)}},setupEventHandling:function(){tab.FloatingZoomToolbar.prototype.setupEventHandling.call(this);if(this.toolbarType==='fullToolbar'){this.disposables.add$1(this.zoomInButton.onClick(ss.mkdel(this,function(){this.api.zoomIn()})));this.disposables.add$1(this.zoomOutButton.onClick(ss.mkdel(this,function(){this.api.zoomOut()})));this.disposables.add$1(this.zoomAreaButton.onClick(ss.mkdel(this,function(){this.setToolMode('area-zoom',true);if(tsConfig.is_authoring){tab.FloatingToolbarClientCommands.setDefaultMapToolSelectionCommand('area-zoom')}})));this.disposables.add$1(this.zoomAreaButton.onShiftClick(ss.mkdel(this,function(){this.setToolMode('area-zoom',true)})));this.flyOutContainer.mouseout(ss.mkdel(this,this.$o));var u=this.flyOutButton.element;u.mouseout(ss.mkdel(this,this.$n));u.mouseenter(ss.mkdel(this,this.toggleFlyout))}if(this.geoSearchEnabled||this.toolbarType!=='disablePanZoomToolbar'){this.zoomHomeButton.add_hover(ss.mkdel(this,this.$p));this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.zoomHomeButton.remove_hover(ss.mkdel(this,this.$p))})))}},$p:function(){if(!this.canZoomHome){this.zoomHomeButton.element.removeClass(this.zoomHomeButton.get_hoverClass())}},$o:function(u){var v=this.flyOutContainer.offset();if(v.top>=u.pageY){this.updateFlyOutVisibility(false);return}var w=tab.DoubleUtil.roundToInt(v.left)+tab.DoubleUtil.roundToInt(this.flyOutContainer.width());var x=tab.DoubleUtil.roundToInt(v.top)+tab.DoubleUtil.roundToInt(this.flyOutContainer.height());if(u.pageX>=w||u.pageY>=x){this.updateFlyOutVisibility(false)}},$n:function(u){var v=this.flyOutButton.element.offset();if(v.left>=u.pageX||v.top>=u.pageY){this.updateFlyOutVisibility(false);return}var w=tab.DoubleUtil.roundToInt(v.top)+tab.DoubleUtil.roundToInt(this.flyOutButton.element.height());if(u.pageY>=w){this.updateFlyOutVisibility(false)}}},tab.FloatingZoomToolbar,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(j,a,{dispose:function(){this.$0=null},unsuppressHover:function(u){var v=this.$0.get_inputHandlers()[u.get_regionPart()];if(ss.isValue(v)){v.unsuppressHover()}var w=this.$0.get_responsiveMouseHandler();if(ss.isValue(w)){w.unsuppressHover()}},suppressHover:function(u){var v=this.$0.get_inputHandlers()[u.get_regionPart()];if(ss.isValue(v)){v.suppressHover()}var w=this.$0.get_responsiveMouseHandler();if(ss.isValue(w)){w.suppressHover()}}},null,[ss.IDisposable]);ss.initClass(k,a,{attach:function(){this.$j.add_showed(ss.mkdel(this,this.$7));this.$j.add_closed(ss.mkdel(this,this.$5));this.$j.add_disposed(ss.mkdel(this,this.$a));var u={};spiff.EventHandleSpecExtensions.setHandler(u,'hover',ss.mkdel(this,this.$8));this.$c.add$1(new spiff.TableauEventHandler.$ctor1(this.$j.element[0],u));$(window.document.documentElement).on(this.$k,ss.mkdel(this,this.$6))},detach:function(){this.$0();this.$c.dispose();if(ss.isValue(this.$j)){this.$j.remove_showed(ss.mkdel(this,this.$7));this.$j.remove_closed(ss.mkdel(this,this.$5));this.$j.remove_disposed(ss.mkdel(this,this.$a))}this.$9()},dispose:function(){this.detach()},disposeTooltip:function(){this.dispose()},shownTooltipIsSticky:function(){return true},isHoverAllowed:function(u){return!(this.$j.get_isShown()&&this.$j.isInSafeZone(u,!this.$d))},shouldShowCommandButtons:function(){return true},handleUbertipMenuToggle:function(u){this.$e=u},handleUbertipMenuClose:function(){this.$j.close()},hoverOverObject:function(u,v,w,x){this.showTooltip(u)},hoverOverWhitespace:function(u){if(this.$j.get_isShown()&&!this.$j.isInSafeZone(u,false)){this.$j.close()}},multiSelectComplete:function(u){this.showTooltip(u)},singleSelectComplete:function(u){this.showTooltip(u)},selectionMoved:function(u){},repositionWithinRegion:function(u){},onPanningOrDragging:function(){if(this.$j.get_isShown()){this.$j.close()}},onScroll:function(){if(this.$j.get_isShown()){this.$j.close()}},mouseDown:function(u,v){this.$j.close()},showTooltip:function(u){if(spiff.DragDropManager.get_isDragging()){return}if(this.$j.get_isShown()&&tab.PointUtil.equals(this.$j.get_location(),u)){return}if(this.$j.get_isShown()&&this.$j.isInSafeZone(u,false)){return}this.$j.show(this.$j.get_body().children()[0],u)},$7:function(){this.$0();this.$g=false;this.$d=false;this.$h=new Date;this.$j.set_lastLocation({x:this.$j.get_calculatedShownArgs().origX,y:this.$j.get_calculatedShownArgs().origY});this.$1(10000)},$5:function(){this.$j.element.off('.LegacyTooltipBehavior');this.$j.set_lastLocation(null);this.$0();this.$h=null;this.$d=false},$6:function(u){var v=this.$j.get_lastLocation();this.$j.set_lastLocation({x:u.pageX,y:u.pageY});if(ss.isNullOrUndefined(v)||!this.$j.get_isShown()){return}if(this.$4(this.$j.get_lastLocation())){this.$d=true;return}if(!this.$e&&!this.$j.isInSafeZone(this.$j.get_lastLocation(),!this.$d)){this.$j.close();return}var w=tab.PointUtil.distance(v,this.$j.get_lastLocation());var x=new Date-this.$h;if(w>10&&x>500){this.$g=true;if(ss.isValue(this.$b)){ss.remove(this.$i,ss.unbox(this.$b));this.$b=tab.MiscUtil.clearTimeout(this.$b)}this.$2()}else if(this.$g){if(!ss.isValue(this.$b)){this.$b=this.$1(1200)}}},$2:function(){this.$f=tab.MiscUtil.clearTimeout(this.$f);this.$f=window.setTimeout(ss.mkdel(this,function(){if(ss.isNullOrUndefined(this.$b)){this.$b=this.$1(1200)}}),250)},$9:function(){$(window.document.documentElement).off(this.$k)},$4:function(u){if(ss.isNullOrUndefined(u)){return false}var v=this.$3();return tab.RectUtil.inRect(v,u)},$3:function(){var u=this.$j.element.position();var v={l:tab.DoubleUtil.roundToInt(u.left),t:tab.DoubleUtil.roundToInt(u.top),w:tab.DoubleUtil.roundToInt(this.$j.element.width()),h:tab.DoubleUtil.roundToInt(this.$j.element.height())};return v},$1:function(u){var v=window.setTimeout(ss.mkdel(this,function(){if(this.$4(this.$j.get_lastLocation())){return}this.$j.close()}),u);this.$i.push(v);return v},$8:function(u){if(this.$4(this.$j.get_lastLocation())){return}this.$0()},$a:function(u,v){this.dispose()},$0:function(){for(var u=0;u<this.$i.length;u++){var v=this.$i[u];window.clearTimeout(v)}ss.clear(this.$i);this.$b=tab.MiscUtil.clearTimeout(this.$b);this.$f=tab.MiscUtil.clearTimeout(this.$f)}},null,[tab.ITooltipBehavior,ss.IDisposable]);ss.initClass(l,a,{updateSearchTextValue:function(u){this.$t(u,true)},$t:function(u,v){tab.MapsSearchView.prototype.updateSearchTextValue.call(this,u);if(v===true){this.selectAllSearchText()}},$r:function(u){if(this.get_compositeSearchWidget().get_textInputView().get_text().length===0){return}var v=this.get_compositeSearchWidget().get_textInputView().get_inputElement().prop('selectionStart');var w=this.get_compositeSearchWidget().get_textInputView().get_inputElement().prop('selectionEnd');if(ss.isValue(v)&&ss.isValue(w)&&!ss.referenceEquals(v,w)){return}this.selectAllSearchText()},$q:function(u){this.$u=u;if(ss.isValue(u)){var v=u.get_data();this.$t(v,false)}},handleEnterKeyPress:function(){if(ss.isValue(this.$u)){this.mapsSearchViewModel.moveMapToCandidateBounds(this.$u.get_data());this.get_compositeSearchWidget().removeList();return}tab.MapsSearchView.prototype.handleEnterKeyPress.call(this)},$s:function(){if(ss.isNullOrUndefined(this.get_compositeSearchWidget().get_listViewModel())||ss.isValue(this.queryDelayTimer)||ss.isValue(this.$u)){return}var u=this.get_compositeSearchWidget();u.changeSpotlightedListItem(2,null)},handleSearchButtonClick:function(){tab.MapsSearchView.prototype.handleSearchButtonClick.call(this);if(this.mapsSearchViewModel.get_gotoMyLocationButtonEnabled()){this.setGeoLocationButtonVisibility(!this.get_isCollapsed())}},handleCollapseSearchWidget:function(){tab.MapsSearchView.prototype.handleCollapseSearchWidget.call(this);if(this.mapsSearchViewModel.get_gotoMyLocationButtonEnabled()){this.setGeoLocationButtonVisibility(!this.get_isCollapsed())}},calculateNewSpotlightedItemIndex:function(u,v,w){if(v===4){return w}var x=this.get_compositeSearchWidget().get_listViewModel().get_collection().length-1;if(ss.isNullOrUndefined(u)){switch(v){case 1:case 2:{return 0}case 0:case 3:{return x}}}var y=u;switch(v){case 1:{y=ss.Nullable$1.add(y,1);if(ss.Nullable$1.gt(y,x)){y=0}break}case 0:{y=ss.Nullable$1.sub(y,1);if(ss.Nullable$1.lt(y,0)){y=x}break}case 2:{y=0;break}case 3:{y=x;break}}return y}},tab.MapsSearchView,[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[tab.MapsSearchViewModel]),spiff.IListItemContentCreator,spiff.ICompositeSearchWidgetSpotlightedItemLogic]);ss.initClass(m,a,{},tab.PaneTableTemplate,[ss.IDisposable]);ss.initClass(n,a,{get_inputHandlers:function(){return this.$27},get_domWeb:function(){return this.$1Z},get_responsiveMouseHandler:function(){return this.$2e},$1X:function(){return this.getWebRegion('viz')},get_zoomToolbarOffset:function(){var u=41;var v=10;if(this.get_paneTableVM().get_mapSearchEnabled()){v+=u}return v},get_zoomToolbarOperations:function(){return new h(this)},$1W:function(u){if(this.get_paneTableVM().get_isMapWithBaseLayer()&&u<1&&!tab.MapUtil.allowZoomAtCurrentLevel(this.get_paneTableVM().get_mapServerModel().get_zoom(),1/u)){return}var v=this.resolvePane({x:1,y:1});this.disposeOfOverlays();this.$1X().$L(v,u)},initEventHandlers:function(){var u=null;var v=null;var w=ss.thisFix(ss.mkdel(this,function(){u=tab.MiscUtil.dispose$1(u);v=tab.MiscUtil.dispose$1(v);tab.PaneTableView.prototype.initEventHandlers.call(this)}));var x=this.dom.domRoot[0];u=spiff.EventUtil.addEventListenerWithDispose(x,'mouseenter',w,true);v=spiff.EventUtil.addEventListenerWithDispose(x,'touchstart',w,true);this.disposables.add$1(u);this.disposables.add$1(v)},getDomNodeForContentRegion:function(u){return u.get(0)},connectTooltipEventHandlers:function(){tab.PaneTableView.prototype.connectTooltipEventHandlers.call(this);this.get_vizToolTip().add_mouseExitedTooltip(ss.mkdel(this,this.$1I))},makeConnections:function(){this.$1Z.scrollX.scroll(ss.mkdel(this,function(u){this.$1O()}));this.$1Z.scrollY.scroll(ss.mkdel(this,function(u){this.$1P()}));this.dom.domRoot.on(tab.BrowserSupport.get_mouseWheelEvent(),ss.mkdel(this,this.$1K));this.dom.domRoot.mouseout(ss.mkdel(this,this.onMouseOut));this.dom.domRoot.mousemove(ss.mkdel(this,this.onMouseMove));this.dom.view.mouseover(ss.mkdel(this,this.onViewMouseOver));this.dom.view.mouseout(ss.mkdel(this,this.onViewMouseOut));this.dom.view.mousemove(ss.mkdel(this,this.onViewMouseMove));this.dom.domRoot.attr('tabindex','-1');this.disposables.add$1(spiff.EventUtil.bindWithDispose(this.dom.domRoot,'keyup',ss.mkdel(this,this.$1H)))},makeMapsSearchViewConnections:function(){if(ss.isValue(this.mapsSearchView)){this.get_paneTableVM().get_mapsSearchViewModel().set_focusInHandler(ss.mkdel(this,function(u){this.checkForSuppressTooltipsAndOverlays(u.target)}));this.get_paneTableVM().get_mapsSearchViewModel().set_focusOutHandler(ss.mkdel(this,function(u){this.checkForSuppressTooltipsAndOverlays(u.relatedTarget)}));this.get_paneTableVM().get_mapsSearchViewModel().set_keypressHandler(ss.mkdel(this,function(u){this.checkForSuppressTooltipsAndOverlays(u.target)}))}},makeRegions:function(){var u=this.listNonVizRegions();var v=this.makeHoverApi();ss.clearKeys(this.regions);var w=function(){return false};var x=_.keys(u);for(var y=0;y<x.length;y++){var z=x[y];var A=u[z];this.regions[z]=new r(z,A.get(0),v,this.$1Z.scrollX,this.$1Z.scrollY,w,this.get_sheetid(),this.get_paneTableVM())}var B=ss.mkdel(this,this.allowPanZoom);this.set_vizRegion(new r('viz',this.get_vizRegionDomNode().get(0),v,this.$1Z.scrollX,this.$1Z.scrollY,B,this.get_sheetid(),this.get_paneTableVM()))},getWebRegion:function(u){return ss.safeCast(this.regions[u],r)},makeTooltipLegacyMode:function(u){return new s(u,this.get_visualId())},cancelHover:function(){},makeInputHandlers:function(){var u=ss.getEnumerator(Object.keys(this.$27));try{while(u.moveNext()){var v=u.current();this.$27[v]=tab.MiscUtil.dispose$1(this.$27[v])}}finally{u.dispose()}ss.clearKeys(this.$27);var w=this.listNonVizRegions();var x=_.keys(w);for(var y=0;y<x.length;y++){var z=x[y];var A=w[z];var B=this.makeMouseSpec(this.getWebRegion(z));this.$27[z]=new spiff.TableauEventHandler.$ctor1(A.get(0),B)}this.$1V();var C=this.get_vizRegionDomNode();if(tab.FeatureFlags.isEnabled('ReferenceLineDragDrop')){var D={hoverDelay:20,hover:ss.mkdel(this,function(H){this.get_vizHitTester().update(H)})};var E=ss.mkdel(this,function(H){this.onHitTestUpdated(this.$1X(),H)});this.get_vizHitTester().add_updated(E);this.disposables.add$1(new tab.CallOnDispose(ss.mkdel(this,function(){this.get_vizHitTester().remove_updated(E)})));this.$2j=new spiff.TableauEventHandler.$ctor1(C.get(0),D);this.disposables.add$1(this.$2j)}var F={};spiff.EventHandleSpecExtensions.setHandler(F,'dragStart',function(H){});this.$21=new spiff.TableauEventHandler.$ctor1(document.body,F);this.disposables.add$1(this.$21);if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){var G={hover:ss.mkdel(this,function(H){this.onHoverOverlay(this.$1X(),H)}),hoverDelay:0};this.$2e=new spiff.TableauEventHandler.$ctor1(C.get(0),G);this.disposables.add$1(this.$2e)}this.$1z();C.addClass('tvmodeRectSelect')},$1V:function(){this.$27['viz']=tab.MiscUtil.dispose$1(this.$27['viz']);var u=this.makeMouseSpec(this.$1X());this.$27['viz']=new spiff.TableauEventHandler.$ctor1(this.get_vizRegionDomNode().get(0),u)},updateTooltipMode:function(u){tab.PaneTableView.prototype.updateTooltipMode.call(this,u);if(ss.isNullOrUndefined(this.vizTooltip)){this.$1V()}},$1z:function(){var u=this.listNonVizRegions();var v=ss.mkdel(this,function(w){var x={hover:ss.mkdel(this,function(y){this.$1G(this.getWebRegion(w),y)}),hoverDelay:0,firstTouch:ss.mkdel(this,function(y){this.$1M(this.getWebRegion(w))})};this.disposables.add$1(new spiff.TableauEventHandler.$ctor1(u[w].get(0),x));u[w].mouseout(ss.mkdel(this,function(y){this.$1J(w)}))});v('xheader');v('yheader');v('topaxis');v('bottomaxis')},makeHoverApi:function(){if(ss.isNullOrUndefined(this.$25)){this.$25=new j(this);this.disposables.add$1(this.$25)}return this.$25},makeMouseSpec:function(u){var v={hover:ss.mkdel(this,function(y){this.onHoverTooltip(u,y)}),hoverDelay:(tab.ApplicationModel.get_instance().get_isLocalRenderMode()?120:150)};var w=this.get_paneTableVM().get_visualModel().get_tooltipMode();if(w!=='sticky'){if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()&&u.get_regionPart()==='viz'){v.hoverDelay=0}else{var x=tab.FeatureParamsLookup.getInt(12);v.hoverDelay=ss.coalesce(x,120)}}v.firstTouch=ss.mkdel(this,function(y){this.$1F(u,y)});v.tap=ss.mkdel(this,function(y){this.$1N(u,y)});if(tab.FeatureFlags.isEnabled('EditAxisDialog')&&tsConfig.is_authoring&&ss.contains(tab.PaneTableView.axisRegions,u.get_regionPart())){v.doubleTap=ss.mkdel(u,u.onDoubleTapAxis)}if(u.get_regionPart()==='viz'){v.dragStart=ss.mkdel(this,function(y){this.dragOverride(y,ss.mkdel(this,function(z){this.$1E(u,y)}))});if(tsConfig.allow_filter){v.doubleTap=ss.mkdel(this,function(y){this.$1B(u,y)});v.press=function(y){n.$1()};v.cancelPotentialDoubleTap=ss.mkdel(this,function(y){this.$1A()});v.pressDragStart=ss.mkdel(this,function(y){this.dragOverride(y,ss.mkdel(this,function(z){this.$1L(u,y)}))})}}return v},makeRegionContentProviders:function(){var u=ss.mkdel(this,function(v,w){this.get_vizRegion().reset()});this.makeRegionContentProvidersHelper(this.get_vizRegionDomNode(),u);this.$2h=this.makeTiledWindow(this.$1Z.scrollY,null,null,null,null);this.$2g=this.makeTiledWindow(this.$1Z.scrollX,null,null,null,null)},makeTiledWindow:function(u,v,w,x,y){return this.makeTiledWindowHelper(u,v,w,x,y,true)},shouldInformTooltipOfLocalTapOnViz:function(u){return true},refreshScrollingAndDrilling:function(){var u=this.$2d;this.$2d=null;if(typeof(u)==='function'){u()}if(ss.isValue(this.$24)){this.$24.onUpdate()}if(ss.isValue(this.$2i)){this.$2i.onUpdate()}},destroyRegions:function(){tab.PaneTableView.prototype.destroyRegions.call(this);this.$2h.destroy();this.$2g.destroy()},destroyInputHandlers:function(){var u=ss.getEnumerator(Object.keys(this.$27));try{while(u.moveNext()){var v=u.current();this.$27[v].dispose();this.$27[v]=null}}finally{u.dispose()}ss.clearKeys(this.$27);if(ss.isValue(this.vizTooltip)){this.vizTooltip.remove_mouseExitedTooltip(ss.mkdel(this,this.$1I))}this.$1Q()},refreshImages:function(u){tab.PaneTableView.prototype.refreshImages.call(this,u);this.$2h.refreshImages(u);this.$2g.refreshImages(u)},onTooltipClosed:function(){tab.PaneTableView.prototype.onTooltipClosed.call(this);this.disposeOfOverlayImages();this.$1l(false)},$1I:function(u){var v=tab.DomUtil.getRectXY(this.dom.view);if(v.x>u.x||v.x+v.w<=u.x||v.y>u.y||v.y+v.h<=u.y){this.disposeOfOverlays();if(this.get_vizToolTip().get_isTooltipShown()){this.get_vizToolTip().clearTooltipWithFakeHover()}}},onViewMouseOver:function(u){this.$28=true;this.floatingZoomToolbarView.showFloatingZoomToolbar(true);if(ss.isValue(this.mapsSearchView)&&this.get_paneTableVM().get_mapSearchEnabled()){this.get_paneTableVM().get_mapsSearchViewModel().setVisible(true)}this.checkForSuppressTooltipsAndOverlays(u.target)},$1x:function(u){var v=tab.DomUtil.getRectXY(this.dom.domRoot);return n.$0(v,u)},$1y:function(u){var v=tab.DomUtil.getRectXY(this.dom.view);return n.$0(v,u)},isPointOutsideOfRelevantVizRegions:function(u){if(!this.$1y(u)){return false}if(!n.$0(tab.DomUtil.getRectXY(this.dom.yLabel),u)){return false}if(!n.$0(tab.DomUtil.getRectXY(this.dom.xLabel),u)){return false}if(!n.$0(tab.DomUtil.getRectXY(this.dom.caption),u)){return false}if(!n.$0(tab.DomUtil.getRectXY(this.dom.leftAxis),u)){return false}if(!n.$0(tab.DomUtil.getRectXY(this.dom.rightAxis),u)){return false}if(!n.$0(tab.DomUtil.getRectXY(this.dom.bottomAxis),u)){return false}if(!n.$0(tab.DomUtil.getRectXY(this.dom.topAxis),u)){return false}return true},onMouseOut:function(u){if(this.$1x(u)){if(ss.isValue(this.$2i)){this.$2i.onMouseOutOfParentPaneTableView()}if(ss.isValue(this.$24)){this.$24.turnDrillWidgetsOff()}}if(this.isPointOutsideOfRelevantVizRegions(u)){this.get_vizToolTip().clearTooltipWithFakeHover();this.$1m()}},$1m:function(){if(!this.$23){this.disposeOfOverlayImages()}},onMouseMove:function(u){var v=this.get_vizToolTip();if(v.get_isTooltipShown()&&!v.shownTooltipIsStatic()&&this.$1y(u)){var w=tab.DomUtil.getRectXY(this.dom.view);v.hoverOverWhitespace({x:w.x,y:w.y},'viz')}},onViewMouseOut:function(u){this.$28=false;var v=this.get_vizToolTip();if(this.$1y(u)){this.floatingZoomToolbarView.showFloatingZoomToolbar(false);if(ss.isValue(this.mapsSearchView)){this.get_paneTableVM().get_mapsSearchViewModel().setVisible(false)}if(v.get_isTooltipShown()&&!v.shownTooltipIsStatic()){var w=tab.DomUtil.getRectXY(this.dom.view);v.hoverOverWhitespace({x:w.x,y:w.y},'viz')}}if(!v.get_isTooltipShown()){this.$1m()}this.checkForSuppressTooltipsAndOverlays(u.relatedTarget);this.get_vizToolTip().onMouseLeaveTheView()},onViewMouseMove:function(u){this.$28=true;this.checkForSuppressTooltipsAndOverlays(u.target)},setupSortIndicators:function(){this.$2i=new p(this,this.dom.domRoot.get(0));this.disposables.add$1(this.$2i)},setupDrilling:function(){this.$24=new g(this,this.dom.domRoot.get(0));this.disposables.add$1(this.$24)},setRegionGeometryHelper:function(u,v){if(ss.isValue(u)&&u.children().first().hasClass('tvScrollContainer')){tab.DomUtil.setAbsolutePositionBox(u.children().first(),{l:0,t:0,w:v.w,h:v.h})}},setGeometryForWebScrollbars:function(u,v){var w=null,x=null;if(ss.isValue(u.get_scrollWidth())&&u.get_scrollWidth()>0){var y=Math.max(tab.Metrics.get_minScrollHeight(),u.get_viewHeight());tab.DomUtil.setAbsolutePositionBox(this.$1Z.scrollY,{l:u.get_overallWidth(),t:u.get_scrollYTop(),w:u.get_scrollWidth(),h:y});this.$1Z.scrollY.css('display','')}else{this.$1Z.scrollY.css('display','none')}if(ss.isValue(u.get_scrollHeight())&&u.get_scrollHeight()>0){var z=Math.max(tab.Metrics.get_minScrollWidth(),u.get_viewWidth());tab.DomUtil.setAbsolutePositionBox(this.$1Z.scrollX,{l:u.get_scrollXLeft(),t:v,w:z,h:u.get_scrollHeight()});this.$1Z.scrollX.css('display','')}else{this.$1Z.scrollX.css('display','none')}var A=this.$1Z.scrollY.css('display')!=='none';var B=this.$1Z.scrollX.css('display')!=='none';var C=!!(B^A);this.$2f=new tab.ScrollAdjuster(C);if(A){w={x:0,y:0,w:1,h:u.get_scrollableHeight(),r:null}}this.$2h.reset(w,this.geometry.ts);if(B){x={x:0,y:0,w:u.get_scrollableWidth(),h:1,r:null}}this.$2g.reset(x,this.geometry.ts)},maybeShowOverlayImages:function(u){if(!tab.ApplicationModel.get_instance().get_isLocalRenderMode()){var v=null;if(ss.isValue(u)&&ss.isValue(u.overlayImage)){v=this.createOverlayImageFromDataUri(u.overlayImage)}else if(ss.isValue(u.overlayImageKey)){v=this.createOverlayImageFromFile(u.overlayImageKey)}this.showOverlayImages(v,u.overlayAnchors)}},setRegionResizersForWeb:function(){this.$1T();this.$1S()},$1T:function(){if(tsConfig.is_authoring&&tab.FeatureFlags.isEnabled('WebAuthoringResizeHeaders')){this.$1r();var u=tab.DomUtil.getRectXY(this.dom.topLeftSpacer).h+tab.DomUtil.getRectXY(this.dom.yLabel).h+tab.DomUtil.getRectXY(this.dom.bottomLeftSpacer).h;if(u>0){this.get_domWeb().yLabelResizer=$("<div class='tab-tvYLeftRegionResizer'></div>");this.$1k(this.dom.yLabel,this.get_domWeb().yLabelResizer);var v=-tab.DomUtil.getRectXY(this.dom.topLeftSpacer).h;var w=-tab.RegionResizer.getHeaderResizerMinimumRunDistance(tab.DomUtil.getRectXY(this.dom.yLabel).w);spiff.DragDropManager.attachDragSource(this.get_domWeb().yLabelResizer,tab.RegionResizer.getRegionResizerViewModel(this.get_visualId(),'yheader',this.get_domWeb().yLabelResizer,v,u,w,2147483647))}var x=tab.DomUtil.getRectXY(this.dom.topLeftSpacer).w+tab.DomUtil.getRectXY(this.dom.xLabel).w+tab.DomUtil.getRectXY(this.dom.topRightSpacer).w;if(x>0){this.get_domWeb().xLabelResizer=$("<div class='tab-tvXTopRegionResizer'></div>");this.$1k(this.dom.xLabel,this.get_domWeb().xLabelResizer);var y=-tab.DomUtil.getRectXY(this.dom.topLeftSpacer).w;var z=-tab.RegionResizer.getHeaderResizerMinimumRunDistance(tab.DomUtil.getRectXY(this.dom.xLabel).h);spiff.DragDropManager.attachDragSource(this.get_domWeb().xLabelResizer,tab.RegionResizer.getRegionResizerViewModel(this.get_visualId(),'xheader',this.get_domWeb().xLabelResizer,y,x,z,2147483647))}}},$1k:function(u,v){var w=u.clone().empty().removeClass().addClass('tab-tvRegionResizerContainer').append(v);u.parent().append(w)},$1r:function(){if(ss.isValue(this.get_domWeb().yLabelResizer)){spiff.DragDropManager.removeDragSource(this.get_domWeb().yLabelResizer);this.get_domWeb().yLabelResizer.parent().remove();this.get_domWeb().yLabelResizer=null}if(ss.isValue(this.get_domWeb().xLabelResizer)){spiff.DragDropManager.removeDragSource(this.get_domWeb().xLabelResizer);this.get_domWeb().xLabelResizer.parent().remove();this.get_domWeb().xLabelResizer=null}},$1S:function(){if(tsConfig.is_authoring&&tab.FeatureFlags.isEnabled('WebAuthoringResizeAxes')){this.$1q();var u=tab.DomUtil.getRectXY(this.dom.topLeftSpacer).w;var v=tab.DomUtil.getRectXY(this.dom.topRightSpacer).w;var w=tab.DomUtil.getRectXY(this.dom.topLeftSpacer).h;var x=tab.DomUtil.getRectXY(this.dom.bottomLeftSpacer).h;var y=tab.DomUtil.getRectXY(this.dom.view);var z=y.w;var A=y.h;var B=w+A+x;var C=u+z+v;var D=tab.DomUtil.getRectXY(this.dom.topAxis).w;var E=tab.DomUtil.getRectXY(this.dom.rightAxis).h;var F=tab.DomUtil.getRectXY(this.dom.bottomAxis).w;var G=tab.DomUtil.getRectXY(this.dom.leftAxis).h;var H=D>0&&F>0;var I=E>0&&G>0;if(D>0){var J=u+D+v;this.get_domWeb().topAxisResizer=$("<div class='tab-tvXTopRegionResizer'></div>");this.$1k(this.dom.topAxis,this.get_domWeb().topAxisResizer);var K=-u;var L=tab.DomUtil.getRectXY(this.dom.topAxis).h;var M=-tab.RegionResizer.getAxisResizerMinimumRunDistance(L);var N=tab.RegionResizer.getAxisResizerMaximumRunDistance(A,B,L,H);spiff.DragDropManager.attachDragSource(this.get_domWeb().topAxisResizer,tab.RegionResizer.getRegionResizerViewModel(this.get_visualId(),'topaxis',this.get_domWeb().topAxisResizer,K,J,M,N))}if(E>0){var O=w+E+x;this.get_domWeb().rightAxisResizer=$("<div class='tab-tvYRightRegionResizer'></div>");this.$1k(this.dom.rightAxis,this.get_domWeb().rightAxisResizer);var P=-w;var Q=tab.DomUtil.getRectXY(this.dom.rightAxis).w;var R=-tab.RegionResizer.getAxisResizerMaximumRunDistance(z,C,Q,I);var S=tab.RegionResizer.getAxisResizerMinimumRunDistance(Q);spiff.DragDropManager.attachDragSource(this.get_domWeb().rightAxisResizer,tab.RegionResizer.getRegionResizerViewModel(this.get_visualId(),'rightaxis',this.get_domWeb().rightAxisResizer,P,O,R,S))}if(F>0){var T=u+F+v;this.get_domWeb().bottomAxisResizer=$("<div class='tab-tvXBottomRegionResizer'></div>");this.$1k(this.dom.bottomAxis,this.get_domWeb().bottomAxisResizer);var U=-u;var V=tab.DomUtil.getRectXY(this.dom.bottomAxis).h;var W=-tab.RegionResizer.getAxisResizerMaximumRunDistance(A,B,V,H);var X=tab.RegionResizer.getAxisResizerMinimumRunDistance(V);spiff.DragDropManager.attachDragSource(this.get_domWeb().bottomAxisResizer,tab.RegionResizer.getRegionResizerViewModel(this.get_visualId(),'bottomaxis',this.get_domWeb().bottomAxisResizer,U,T,W,X))}if(G>0){var Y=w+G+x;this.get_domWeb().leftAxisResizer=$("<div class='tab-tvYLeftRegionResizer'></div>");this.$1k(this.dom.leftAxis,this.get_domWeb().leftAxisResizer);var Z=-w;var ba=tab.DomUtil.getRectXY(this.dom.leftAxis).w;var bb=-tab.RegionResizer.getAxisResizerMinimumRunDistance(ba);var bc=tab.RegionResizer.getAxisResizerMaximumRunDistance(z,C,ba,I);spiff.DragDropManager.attachDragSource(this.get_domWeb().leftAxisResizer,tab.RegionResizer.getRegionResizerViewModel(this.get_visualId(),'leftaxis',this.get_domWeb().leftAxisResizer,Z,Y,bb,bc))}}},$1q:function(){if(ss.isValue(this.get_domWeb().topAxisResizer)){spiff.DragDropManager.removeDragSource(this.get_domWeb().topAxisResizer);this.get_domWeb().topAxisResizer.parent().remove();this.get_domWeb().topAxisResizer=null}if(ss.isValue(this.get_domWeb().rightAxisResizer)){spiff.DragDropManager.removeDragSource(this.get_domWeb().rightAxisResizer);this.get_domWeb().rightAxisResizer.parent().remove();this.get_domWeb().rightAxisResizer=null}if(ss.isValue(this.get_domWeb().bottomAxisResizer)){spiff.DragDropManager.removeDragSource(this.get_domWeb().bottomAxisResizer);this.get_domWeb().bottomAxisResizer.parent().remove();this.get_domWeb().bottomAxisResizer=null}if(ss.isValue(this.get_domWeb().leftAxisResizer)){spiff.DragDropManager.removeDragSource(this.get_domWeb().leftAxisResizer);this.get_domWeb().leftAxisResizer.parent().remove();this.get_domWeb().leftAxisResizer=null}},$1U:function(){this.$2k={x:0,y:0};this.$2c=0;this.$1Y=null;this.$2b=0;this.$2a=null;if(ss.isValue(this.$2f)){this.$2f.forgetInputDevice()}},$1K:function(u){var v=null;if(ss.isValue(u['originalEvent'])){v=u['originalEvent']}var w=this.$2f.normalizeScrollWheelDeltas(v);if(this.isOneVisiblePane()&&this.get_paneTableVM().get_isMap()&&this.allowPanZoom()){if(this.$2f.get_isFromTouchpad()){w.y=tab.ScrollAdjusterUtil.adjustVerticalScrollDeltaForTouchpad(w.y);this.$2c++;if(this.$2c%tab.MapUtil.touchEventSamplingRate!==0){u.preventDefault();return}}if(this.$29){u.preventDefault();return}this.$2k.y+=w.y;if(!this.$1y(u)){var x=this.$1X();var y=this.$1v(x,v);this.$1i(y,x,u);return}}var z=tab.DoubleUtil.roundToInt(this.$1Z.scrollY.scrollTop());var A=this.$1Z.scrollX.scrollLeft();this.$1Z.scrollY.scrollTop(z+w.y);this.$1Z.scrollX.scrollLeft(A+w.x);var B=tab.DoubleUtil.roundToInt(this.$1Z.scrollY.scrollTop());var C=this.$1Z.scrollX.scrollLeft();if(z!==B){this.$1t(B);u.preventDefault()}if(A!==C){this.$1s(C);u.preventDefault()}this.get_vizToolTip().onScroll();this.disposeOfOverlays()},$1i:function(u,v,w){var x=null;if(ss.isNullOrUndefined(this.$1Y)){if(v.mapIsBrowserRendered()){x=v.getPointLatLong(u);x.done(ss.mkdel(this,function(C){this.$2a=C}))}this.$1Y=u}if(v.mapIsBrowserRendered()){this.$2b=ss.Int32.div(this.$2k.y,tab.MapUtil.defaultWheelDeltaIncrement)*tab.MapUtil.minimumZoomLevelIncrement}var y=this.get_paneTableVM().get_mapServerModel();var z=(y.get_hasPresModel()?y.get_zoom():1);var A=tab.MapUtil.calculateZoomFactor(this.$2k.y);if(v.mapIsBrowserRendered()&&!tab.MapUtil.allowZoomAtCurrentLevelLeaflet(z,this.$2b)||!tab.MapUtil.allowZoomAtCurrentLevel(z,A)){this.$2b=z;A=tab.MapUtil.getZoomFactorForDesiredZoomLevel(z,0);this.$2k.y=tab.MapUtil.getScrollDeltaForZoomFactor(A)}this.$1n();this.$2l=window.setTimeout(ss.mkdel(this,function(){this.$29=true;tab.PanZoomCommands.zoomWithAnchorPoint(v.get_regionPart(),this.$1Y,A,ss.mkdel(this,function(){this.$29=false}),this.get_sheetid());this.$1U()}),500);var B=ss.mkdel(this,function(C){this.$1j(v,z,A,C)});if(!this.$29){if(ss.isValue(x)){x.done(function(C){B(C)})}else{B(this.$2a)}w.preventDefault()}},$1j:function(u,v,w,x){this.isAnimationOccurring=true;var y=this.resolvePane(this.$1Y);if(u.mapIsBrowserRendered()){var z=v-this.$2b;u.animateAnchorZoomLeaflet(y,x,z)}else{u.animateAnchorZoom(y,this.$1Y,w)}this.disposeOfOverlays()},$1v:function(u,v){var w=ss.round(v['clientX']);var x=ss.round(v['clientY']);var y={x:w,y:x};var z=u.toLocalCoords(y,false);return z},$1P:function(){this.get_vizToolTip().onScroll();this.$1t(tab.DoubleUtil.roundToInt(this.$1Z.scrollY.scrollTop()))},$1t:function(u){for(var v=0;v<tab.PaneTableView.scrollableYRegions.length;v++){var w=tab.PaneTableView.scrollableYRegions[v];this.getWebRegion(w).setYPos(u)}var x={x:this.$1Z.scrollX.scrollLeft(),y:u};this.set_scrollPosition(x)},$1s:function(u){for(var v=0;v<tab.PaneTableView.scrollableXRegions.length;v++){var w=tab.PaneTableView.scrollableXRegions[v];this.getWebRegion(w).setXPos(u)}var x={x:u,y:tab.DoubleUtil.roundToInt(this.$1Z.scrollY.scrollTop())};this.set_scrollPosition(x)},$1O:function(){this.get_vizToolTip().onScroll();this.$1s(this.$1Z.scrollX.scrollLeft())},$1H:function(u){if(this.$1X().get_isDragTracking()){return}if(!ss.referenceEquals(u.target,this.element.get(0))&&!ss.referenceEquals(u.target,this.dom.view.get(0))&&!ss.referenceEquals(u.target,this.dom.view.find('.tvimagesContainer').get(0))){return}var v;switch(u.which){case 68:{v='lasso-selection';break}case 83:{v='radial-selection';break}case 65:{v='rectangular-selection';break}default:{return}}if(v===this.$1X().get_currentPointerToolMode()){v=this.defaultPointerToolMode()}var w=this.floatingZoomToolbarView.setToolMode(v,true);if(!w){this.setPointerToolMode(v,true)}},checkForHoverOverlay:function(){this.$1l(true)},$1l:function(u){if(ss.isValue(this.lastVizHoverPoint)&&this.$28){this.hitTestAndSetHoverOverMarkOrVisualPartHelper(u)}else{this.disposeOfOverlayImages()}},$1G:function(u,v){if(this.isUserDragging()||!tab.ApplicationModel.get_instance().get_isLocalRenderMode()||ss.isNullOrUndefined(u.get_contentProvider())){return}var w=u.toLocalCoordsEvent(v,false);var x=u.hitTestNodes(w);if(ss.isValue(x)){x=(tab.SelectionUtils.isCategoricalAndTupleAssociatedHeader(x.node)?x:null)}var y=tab.ModelUtils.regionToVisualPartMap[u.get_regionPart()];this.updateHoveredCategoricalHeaders(x,'hover',y)},$1M:function(u){if(!tab.ApplicationModel.get_instance().get_isLocalRenderMode()||ss.isNullOrUndefined(u.get_contentProvider())){return}var v=tab.ModelUtils.regionToVisualPartMap[u.get_regionPart()];this.updateHoveredCategoricalHeaders(null,'press',v)},$1J:function(u){var v=tab.ModelUtils.regionToVisualPartMap[u];var w=this.get_paneTableVM().get_vizRegionMap()[v];if(ss.isValue(w)){w.set_hoveredCategoricalNode(null)}},isUserDragging:function(){return spiff.DragDropManager.get_isDragging()||r.isDragTrackingInAnyRegion},onHoverOverVisualPart:function(u,v){var w=u;w.setMouseOverMarkOrVisualPart(v)},$1F:function(u,v){if(ss.isValue(this.mapsSearchView)){this.get_paneTableVM().get_mapsSearchViewModel().removeSuggestionList()}if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()&&u.get_regionPart()==='viz'){var w=u.toLocalCoordsEvent(v,false);var x=this.$1X().hitTestSingleMarksAndVisualParts(w);if(x.get_shouldRenderOverlay()){this.wasPressOverlayJustUpdated=true;this.updateOverlayTarget(x.get_id(),'press',x.get_overlayTargetType())}}},$1u:function(){var u=this.get_paneTableVM().get_selectionsModel().get_allLegendSelections();for(var v=0;v<u.length;v++){var w=u[v];if(!w.isEmpty){return true}}return false},isSelectActionOnVizAllowed:function(u){return u==='simple'||!this.$1u()},onHitTestUpdated:function(u,v){this.$1p();if(this.getVizDragApproval(v)){var w=u.toLocalCoords(v.get_pageCoordinates(),false);this.$1o(w)}},$1o:function(u){var v=$('<div class="tabDragIcon" ></div>');if(tab.BrowserSupport.get_isIE()){v.css('cursor','alias')}else{v.css('cursor','-webkit-grab');v.css('cursor','-moz-grab');v.css('cursor','grab')}v.css('position','absolute');var w=20;v.css('top',u.y-w+'px');v.css('left',u.x-w+'px');v.css('height',40+'px');v.css('width',40+'px');var x=this.makeMouseSpec(this.$1X());this.get_vizRegionDomNode().append(v);this.$22=new spiff.TableauEventHandler.$ctor1(v.get(0),x)},disposeOfOverlays:function(){this.$1p();tab.PaneTableView.prototype.disposeOfOverlays.call(this)},$1p:function(){this.$22=tab.MiscUtil.dispose$1(this.$22);this.get_vizRegionDomNode().children('.tabDragIcon').remove()},$1N:function(u,v){if(this.$26){this.$26=false;return}v.stopPropagation();this.get_vizToolTip().onTap();if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){this.disposeOfOverlays()}if(v.originalEvent['button']>1){return}var w=u.toLocalCoordsEvent(v,false);var x=tab.PointUtil.add(w,u.getLocalOffsetPoint(false));var y;if(u.get_regionPart()==='viz'){y=tab.ResolveSelectAction.fromNormalizedEvent(v,false,true)}else{y=tab.ResolveSelectAction.fromNormalizedEvent(v)}if(this.allowPanZoom()&&u.isZoomToolActive()){var z=this.resolvePane(u.toLocalCoordsEvent(v,false));u.$K(v,z);return}if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){this.handleLocalTap(u,y,x,w)}else{var A=ss.mkdel(this,function(){if(!tsConfig.allow_select){this.makeHoverApi().unsuppressHover(u)}var C=tab.PaneTableView.guessTooltipTargetTypeFromRegion(u.get_regionPart());this.get_vizToolTip().singleSelectCoordinates(x,w,u.get_regionPart(),C)});var B={x:w.x,y:w.y,w:0,h:0};tab.SelectionClientCommands.selectRectRegionAndDoUbertip(u.get_regionPart(),B,y,this.get_paneTableVM().get_visualId(),A);this.dom.domRoot.focus()}},$1B:function(u,v){if(!this.isPointerToolLocked){this.resetPointerToolMode()}var w=((v.shiftKey&&!spiff.EventUtil.isCtrlKey(v))?0.5:2);this.doDoubleTap(u,v,w)},$1E:function(u,v){var w=this.resolvePane(u.toLocalCoordsEvent(v,false));this.$1w();if(!tsConfig.allow_filter){this.setPointerToolMode(u.get_currentPointerToolMode(),false)}else{switch(u.get_currentPointerToolMode()){case'pan-map':case'area-zoom':case'zoom-out':{var x=!v.shiftKey;this.setPointerToolMode(u.get_currentPointerToolMode(),x);break}}}this.$1R(u);if(ss.isValue(this.$24)){this.$24.set_enabled(false)}if(ss.isValue(this.$2i)){this.$2i.set_enabled(false)}if(ss.isValue(this.mapsSearchView)){this.get_paneTableVM().get_mapsSearchViewModel().enableUserInteraction(false)}this.floatingZoomToolbarView.enableUserInteraction(false);u.$k(v,w)},$1C:function(u){var v=this.$1X();v.$j(u);if(v.isSelectingToolActive()){this.checkForDragOverlays();this.$23=true}},$1D:function(u){this.$26=u.type==='mousedown';this.get_vizToolTip().onDragEnd(null);this.disposeOfOverlays();this.$23=false;this.$1X().$i(u,this.get_vizToolTip());this.$1Q();if(!this.isPointerToolLocked){this.resetPointerToolMode()}if(ss.isValue(this.$24)){this.$24.set_enabled(true)}if(ss.isValue(this.$2i)){this.$2i.set_enabled(true)}if(ss.isValue(this.mapsSearchView)){this.get_paneTableVM().get_mapsSearchViewModel().enableUserInteraction(true)}this.floatingZoomToolbarView.enableUserInteraction(true)},$1L:function(u,v){var w=this.resolvePane(u.toLocalCoordsEvent(v,false));this.$1w();if(!tsConfig.allow_filter){this.setPointerToolMode(u.get_currentPointerToolMode(),false)}else{switch(u.get_currentPointerToolMode()){case'pan-map':{var x=!v.shiftKey;this.setPointerToolMode(u.get_currentPointerToolMode(),x);break}case'zoom-out':case'area-zoom':{break}}}u.$k(v,w);this.$1R(u)},$1A:function(){if(!this.isPointerToolLocked){this.resetPointerToolMode()}},$1R:function(u){this.lastVizHoverPoint=null;this.get_vizToolTip().onPanOrDragStart(null);this.$1p();if(!u.isSelectingToolActive()){this.disposeOfOverlays()}},$1Q:function(){var u={};spiff.EventHandleSpecExtensions.removeHandler(u,'dragMove');spiff.EventHandleSpecExtensions.removeHandler(u,'dragEnd');if(ss.isValue(this.$21)){this.$21.update(u)}this.$20=tab.MiscUtil.dispose$1(this.$20)},$1w:function(){var u={};spiff.EventHandleSpecExtensions.setHandler(u,'dragMove',ss.mkdel(this,this.$1C));spiff.EventHandleSpecExtensions.setHandler(u,'dragEnd',ss.mkdel(this,this.$1D));this.$21.update(u);tab.WindowHelper.clearSelection();tab.MiscUtil.dispose$1(this.$20);this.$20=new spiff.Glass;this.$20.show();var v=this.$1X();v.setCursor(v.determineDragSelectionCursor(),this.$20.element)},$1n:function(){this.$2l=tab.MiscUtil.clearTimeout(this.$2l)},allowPanZoom:function(){return this.$1h('other')},allowPanZoomOnDoubleTap:function(){return this.$1h('doubleTap')},$1h:function(u){if(!tsConfig.allow_filter){return false}if(this.get_paneTableVM().get_visualModel().get_vizNavigationSetting()==='fixed'){return false}if(ss.isNullOrUndefined(this.geometry)){return false}var v=this.geometry.pi;switch(u){case'doubleTap':{var w=v.hasXQAxis&&v.hasYQAxis;if(tab.FeatureFlags.isEnabled('DisableDoubleClick')){var x=this.floatingZoomToolbarView.get_toolBarIsOffOrHome();if(!this.get_paneTableVM().get_isMap()&&w&&x){return false}}return w}case'other':default:{return v.hasXQAxis||v.hasYQAxis}}}},tab.PaneTableView,[tab.IWidget,tab.IAppendableView,ss.IDisposable,ss.makeGenericType(tab.IView$1,[tab.IPaneTableViewModel]),tab.IPaneTableView,tab.IZoomToolbarContainer]);ss.initClass(p,a,{get_widgetFeatureEnabled:function(){return ss.isValue(this.$z)&&tsConfig.allow_filter},dispose:function(){this.$w=null;this.$x.element.remove();this.$x.dispose();o.prototype.dispose.call(this)},onUpdate:function(){if(!ss.staticEquals(this.$A,null)){this.$A();this.$A=null}this.$B=this.$w.visibleGeometry;this.$z=this.$w.get_sortIndicators()},onMouseOutOfParentPaneTableView:function(){this.$e()},$e:function(){if(!this.$g()){return}var u=new RegExp('(sortInd\\w+)?','g');this.$t.get(0).className=this.$t.get(0).className.replace(u,'');this.$t.css('display','none');this.$y=null;if(tab.FeatureFlags.isEnabled('IntuitiveSorting')){this.$v.css('display','none')}},onMouseMove:function(u){this.$f(u)},isActiveInRect:function(u){if(ss.isValue(this.$y)&&this.$y.$1&&tab.RectXYUtil.intersectsWith(u,this.$u)){return true}return false},$a:function(){if(!tab.FeatureFlags.isEnabled('IntuitiveSorting')){return null}var u=spiff.LabelButton.newNativeButton();u.element.addClass('sortDropdownSolid');u.element.css('border','0');u.element.css('position','absolute');u.element.css('padding','0px');u.element.click(ss.mkdel(this,this.$k));u.element.hide();this.element.append(u.element);return u.element},$n:function(){this.$z=this.$w.get_sortIndicators();this.set_enabled(true)},$9:function(){this.$t.click(ss.mkdel(this,this.$h));this.$t.mouseover(ss.mkdel(this,this.$j));this.$t.mouseout(ss.mkdel(this,this.$i))},$f:function(u){if(u.button>0){return}if(ss.isNullOrUndefined(this.$z)||!tsConfig.allow_filter){return}var v=this.$w.get_tableViewPosition();var w={x:u.pageX-v.x,y:u.pageY-v.y};var x=this.$w.get_domWeb().scrollX.get(0);var y=this.$w.get_domWeb().scrollY.get(0);var z={x:x.scrollLeft,y:y.scrollTop};var A=this.$B;var B=this.regionHitTest(this.$B,w);if(ss.isValue(B)){this.$m(this.getSIRegionFromName(this.$w,B),A[B],w,z)}else{this.$e()}},$r:function(u,v,w){var x;var y=u.sortIndicatorItems[v];var z=this.$y;if(!u.isHorizontal){x=((y.sortOrder==='asc')?'Left':'Right')}else{x=((y.sortOrder==='asc')?'Up':'Down')}var A=(y.isSorted?'Solid':'Hollow');this.$y=new d(u,y,v,x,A,w);if(ss.isNullOrUndefined(z)||!ss.referenceEquals(z.$0,x)||!ss.referenceEquals(z.$5,A)||z.$1!==w){this.$s()}},$s:function(){if(ss.isNullOrUndefined(this.$y)){return}var u='';if(tab.FeatureFlags.isEnabled('IntuitiveSorting')){var v=this.$y.$2;if(ss.isValue(v)&&v.sortBy==='alpha'){u='Alphabetic'}}var w='sortInd'+u+this.$y.$5+this.$y.$0+(this.$y.$1?'Active':'');var x=new RegExp('(sortInd\\w+)?','g');this.$t.get(0).className=this.$t.get(0).className.replace(x,'');this.$t.addClass(w)},$q:function(){if(!this.$g()){return}var u=this.$y.$2;var v=this.$y.$4;if(!u.isSorted){u.isSorted=true;u.sortOrder=v.defSortOrder}else if(u.sortOrder===v.defSortOrder){u.sortOrder=((v.defSortOrder==='asc')?'desc':'asc')}else{u.sortOrder=v.defSortOrder;u.isSorted=false}this.$r(v,this.$y.$3,this.$y.$1)},$j:function(u){if(this.isOtherActiveInRect(this.$u)){return}if(this.$g()&&!this.$y.$1){this.$y.$1=true;this.$s()}u.stopPropagation()},$i:function(u){if(!this.$g()){return}var v=$(this.$t.get(0)).offset();var w=tab.DoubleUtil.roundToInt($(this.$t.get(0)).outerHeight());var x=tab.DoubleUtil.roundToInt($(this.$t.get(0)).outerWidth());if(v.left>u.pageX||v.left+x<=u.pageX||v.top>u.pageY||v.top+w<=u.pageY){this.$y.$1=false;this.$s();u.stopPropagation()}},$h:function(u){spiff.EventUtil.stopEvent(u);var v=this.$c();var w=this.$b(u);this.$q();this.$t.addClass('clicked');this.$A=ss.mkdel(this,function(){this.$t.removeClass('clicked')});if(tab.FeatureFlags.isEnabled('IntuitiveSorting')){this.$d();return}tab.SortServerCommands.sortFromIndicator(w,v,this.$w.get_visualId())},$d:function(){tab.CommandUtils.executeSimpleCommand(this.$y.$2.sortIndicatorCommand,'immediately')},$k:function(u){spiff.EventUtil.stopEvent(u);this.$o(this.$v)},$b:function(u){var v=this.$w.get_tableViewPosition();var w=v.x;var x=v.y;var y={x:u.pageX-w,y:u.pageY-x};var z=this.regionHitTest(this.$B,y);if(ss.isNullOrUndefined(z)){return null}var A=this.getSIRegionFromName(this.$w,z);var B=A.regionRect;var C=this.$B;y.y+=B.y-C[z].t;y.x+=B.x-C[z].l;return y},$c:function(){var u=this.$w.get_domWeb().scrollX.get(0);var v=this.$w.get_domWeb().scrollY.get(0);return{x:u.scrollLeft,y:v.scrollTop}},$o:function(u){var v=this.$y.$2.sortIndicatorMenu;if(ss.isNullOrUndefined(v)){return}var w=tab.WidgetUtil.menuViewModelFromCommands(v,ss.mkdel(this,this.$l),null);if(ss.isValue(w)){w.show(new spiff.ShowMenuOptions(u,false))}},$l:function(u){tab.WidgetUtil.commandMenuItemClicked(u)},$p:function(u,v,w,x){if(this.isOtherActiveInRect(w)){return}var y=false;if(tab.FeatureFlags.isEnabled('IntuitiveSorting')){var z=u.sortIndicatorItems[v];if(ss.isValue(z.sortIndicatorMenu)){var A=z.sortIndicatorMenu['commandItems'.toString()];if(A.length>0){var B=this.$v.outerWidth(true);w.x-=tab.DoubleUtil.roundToInt(B);y=true}}}this.$u=w;this.$r(u,v,x);this.showNodeAt(this.$t.get(0),w.y,w.x);if(y){var C=this.$t.outerWidth(true);this.showNodeAt(this.$v.get(0),w.y,w.x+tab.DoubleUtil.roundToInt(C))}},$g:function(){return ss.isValue(this.$y)},$m:function(u,v,w,x){if(ss.isNullOrUndefined(u)){this.$e();return}if(ss.isValue(this.$y)&&ss.isValue(this.$y.$4)&&u.sortRegion!==this.$y.$4.sortRegion){this.$e()}var y={x:w.x,y:w.y};var z=u.regionRect;y.y+=z.y-v.t;y.x+=z.x-v.l;if(u.canScrollY){y.y+=x.y}if(u.canScrollX){y.x+=x.x}var A=u.sortIndicatorItems;for(var B=0,C=A.length;B<C;B++){if(ss.isNullOrUndefined(A[B].itemRect)){continue}if(ss.isNullOrUndefined(A[B].buttonRect)){continue}var D=tab.RecordCast.rectPresModelAsRectXY(A[B].itemRect);if(tab.RectXYUtil.inRect(D,y)){var E=tab.RecordCast.rectPresModelAsRectXY(A[B].buttonRect);var F=this.clone(E);F.y-=y.y-w.y;F.x-=y.x-w.x;var G={x:F.x+2,y:F.y+2};var H={x:F.x+F.w-2,y:F.y+F.h-2};if(tab.RectUtil.inRect(v,G)&&tab.RectUtil.inRect(v,H)){this.$p(u,B,F,tab.RectXYUtil.inRect(F,y));return}}}}},o,[tab.IWidget,tab.IAppendableView,ss.IDisposable]);ss.initClass(q,a,{});ss.initClass(r,a,{$M:function(){return this.$R},get_isDragTracking:function(){return this.$S},$D:function(u){this.$S=u;r.isDragTrackingInAnyRegion=u},destroy:function(){this.$Q=null;tab.TiledViewerRegion.prototype.destroy.call(this)},setXPos:function(u){if(ss.isValue(this.regionContent)){this.regionContent.setXPos(u);this.backgroundMap.setScrollX(u)}},setYPos:function(u){if(ss.isValue(this.regionContent)){this.regionContent.setYPos(u);this.backgroundMap.setScrollY(u)}},reset:function(){this.resetIsWaitingOnData=false;if(this.$T.item1){this.$T={item1:false,item2:this.$T.item2};this.set_currentModifierKeyToolMode('no-tools');this.setMode(this.$T.item2)}if(this.resetIsWaitingOnTransition){return}tab.TiledViewerRegion.prototype.reset.call(this);if(this.isScrolling){this.wasScrolling=false;return}if(!this.$N){return}this.$Q.unsuppressHover(this)},setMouseOverMarkOrVisualPart:function(u){if(this.$U!==u){this.$U=u;this.$C()}},$k:function(u,v){this.$P(u,v)},$A:function(u,v){this.$F(this.get_shapeSelector());this.$E(u)},$J:function(u,v){this.$F(this.domPanZoomRect);this.$E(u);this.domPanZoomRect.set_pi(v)},$j:function(u){if(this.get_isDragTracking()){this.$V(u)}},$i:function(u,v){this.updateDefaultToolMode();if(this.get_isDragTracking()){this.$W(u,v)}},$K:function(u,v){var w=this.toLocalCoordsEvent(u,false);if(!this.isZoomToolActive()){}var x=((this.get_currentPointerToolMode()==='zoom-out')?0.5:2);this.zoomPoint(v,w,x,false,null)},$l:function(u){var v=Math.floor(u.w/2)+u.x;var w=Math.floor(u.h/2)+u.y;return{x:v,y:w}},$L:function(u,v){this.zoomPoint(u,this.getCenterPoint(u),v,false,null)},$r:function(){},$H:function(u){if(ss.isValue(u)){u.hide()}},$F:function(u){if(ss.isValue(u)){u.show()}},setMode:function(u){if(this.resetIsWaitingOnData){this.$T={item1:true,item2:u};return}tab.TiledViewerRegion.prototype.setMode.call(this,u);this.$C();switch(u){case'no-tools':{this.$V=ss.mkdel(this,this.$s);this.$W=ss.mkdel(this,this.$s);this.$P=ss.mkdel(this,this.$s);this.$O=ss.mkdel(this,this.$s);break}case'rectangular-selection':case'lasso-selection':case'radial-selection':{this.$V=ss.mkdel(this,this.onMarqueeMouseMove);this.$W=ss.mkdel(this,this.$s);this.$P=ss.mkdel(this,this.$A);this.$O=ss.mkdel(this,this.$z);break}case'pan-map':{this.$V=ss.mkdel(this,this.$t);this.$W=ss.mkdel(this,this.$u);this.$P=ss.mkdel(this,this.$v);this.$O=ss.mkdel(this,this.$s);break}case'area-zoom':case'zoom-out':{this.$V=ss.mkdel(this,this.onZoomBoxMouseMove);this.$W=ss.mkdel(this,this.$x);this.$P=ss.mkdel(this,this.$J);this.$O=ss.mkdel(this,this.$I);break}}},$o:function(u){return!u.shiftKey&&spiff.EventUtil.isCtrlKey(u)&&this.isSelectingToolActive()},$p:function(u){return u.altKey&&(this.isZoomToolActive()||u.shiftKey&&spiff.EventUtil.isCtrlKey(u))},$q:function(u){var v=u;if(v.altKey&&!v.ctrlKey&&!tab.BrowserSupport.get_isMac()){v.preventDefault()}if(!tsConfig.allow_filter){return}var w=this.get_currentModifierKeyToolMode();var x=this.$R;this.$R=this.$o(v);if(!this.get_isDragTracking()){if(this.allowPanZoom()){if(r.$0(v)){this.set_currentModifierKeyToolMode('pan-map')}else if(r.$1(v)){this.set_currentModifierKeyToolMode('area-zoom')}else if(this.$p(v)){this.set_currentModifierKeyToolMode('zoom-out')}else{this.set_currentModifierKeyToolMode('no-tools')}}else{this.set_currentModifierKeyToolMode('no-tools')}}if(w!==this.get_currentModifierKeyToolMode()||x!==this.$R){this.$C()}},startScrolling:function(u,v,w){this.stopScrolling();if(!(u!==0&&this.scroller.get_canScrollX()||v!==0&&this.scroller.get_canScrollY())){return}if(!ss.isValue(this.$X)){this.$n(u,v,w)}var x=((w==='fast')?15:200);this.$X=window.setInterval(ss.mkdel(this,function(){this.$n(u,v,w)}),x);this.isScrolling=true},stopScrolling:function(){if(ss.isValue(this.$X)){window.clearInterval(ss.unbox(this.$X))}this.$X=null;this.wasScrolling=this.isScrolling;this.isScrolling=false},$n:function(u,v,w){var x=0;var y=0;if(u!==0){x=this.$h(0,u);this.scroller.scrollX(x)}if(v!==0){y=this.$h(1,v);this.scroller.scrollY(y)}this.get_shapeSelector().shapeScrolled(x,y);this.get_shapeSelector().get_dom().css('display','');if(x===0&&u!==0||y===0&&v!==0){var z=((x===0)?0:u);var A=((y===0)?0:v);this.startScrolling(z,A,w)}},$h:function(u,v){var w=((u===0)?this.scroller.get_scrollPos().x:this.scroller.get_scrollPos().y);var x=((u===0)?this.scroller.get_maxScroll().x:this.scroller.get_maxScroll().y);var y=v*15;var z=Math.max(0,Math.min(w+y,x));return z-w},determineScrollDirection:function(u,v){var w=((u===0)?this.scroller.get_scrollPos().x:this.scroller.get_scrollPos().y);var x=((u===0)?this.scroller.get_maxScroll().x:this.scroller.get_maxScroll().y);var y=((v<0)?-1:((v>0)?1:0));if(y===-1&&w===0||y===1&&w>=x){y=0}return y},suppressTooltips:function(){this.$Q.suppressHover(this)},setCursor:function(u,v){v.css('cursor',u)},$B:function(u){this.setCursor(u,this.connectNode)},$m:function(){var u=this.get_currentPointerToolMode();if(u==='no-tools'){u=this.get_defaultPointerToolMode()}return u},$C:function(){var u=this.$m();switch(u){case'area-zoom':{this.$B(r.$6['zoomIn']);break}case'zoom-out':{this.$B(r.$6['zoomOut']);break}default:{this.$B((this.$U?r.$6['select']:r.$6['defaultKey']));break}}},determineDragSelectionCursor:function(){var u=this.$m();switch(u){case'area-zoom':{return r.$6['zoomIn']}case'zoom-out':{return r.$6['zoomOut']}case'lasso-selection':{return(this.$M()?r.$6['lassoExtended']:r.$6['lassoSelect'])}case'radial-selection':{return(this.$M()?r.$6['radialExtended']:r.$6['radialSelect'])}case'rectangular-selection':{return(this.$M()?r.$6['rectExtended']:r.$6['rectSelect'])}case'pan-map':{return r.$6['panDrag']}default:{return r.$6['defaultKey']}}},$E:function(u){if(u.originalEvent['button']>1){return}if(this.get_isDragTracking()){return}this.$D(true);u.preventDefault();this.$Q.suppressHover(this);var v=u.get_gestureInfo();this.domPanZoomRect.set_pi(null);this.domPanZoomRect.dragStarted(v.startX,v.startY,this.getLocalOffset(true));this.get_shapeSelector().dragStarted(v.startX,v.startY,this.getLocalOffset(true));this.$C()},$G:function(u,v){if(!this.get_isDragTracking()){return}this.$D(false);this.$H(v);this.stopScrolling();this.$C()},$x:function(u,v){this.$w(u,v,this.domPanZoomRect)},$s:function(u,v){this.$w(u,v,this.get_shapeSelector())},$w:function(u,v,w){if(!this.get_isDragTracking()){return}var x=u.originalEvent;if(x['button']>1){return}this.$G(u,w);this.$Q.suppressHover(this);this.$O(u,v)},$t:function(u){spiff.EventUtil.stopEvent(u);var v=u.get_gestureInfo();var w=v.pageX-this.domPanZoomRect.get_dragStart().x;var x=v.pageY-this.domPanZoomRect.get_dragStart().y;if(ss.isNullOrUndefined(this.domPanZoomRect.get_pi())||!this.domPanZoomRect.get_pi().canDragH){w=0}if(ss.isNullOrUndefined(this.domPanZoomRect.get_pi())||!this.domPanZoomRect.get_pi().canDragV){x=0}var y=1;w+=y;x+=y;tab.DomUtil.setMarginBoxJQ(this.domDragImage,{l:w,t:x,w:tab.DoubleUtil.roundToInt(this.domDragImage.width()),h:tab.DoubleUtil.roundToInt(this.domDragImage.height())});this.backgroundMap.panTo(v.deltaX,v.deltaY)},$u:function(u,v){if(!this.get_isDragTracking()){return}if(u.originalEvent['button']>1){return}spiff.EventUtil.stopEvent(u);this.$G(u,null);var w=u.get_gestureInfo();this.$Q.suppressHover(this);var x=this.toLocalCoords(this.domPanZoomRect.get_dragStart(),false);var y={x:w.pageX-this.domPanZoomRect.get_dragStart().x,y:w.pageY-this.domPanZoomRect.get_dragStart().y};if(ss.isNullOrUndefined(this.domPanZoomRect.get_pi())||!this.domPanZoomRect.get_pi().canDragH){y.x=0}if(ss.isNullOrUndefined(this.domPanZoomRect.get_pi())||!this.domPanZoomRect.get_pi().canDragV){y.y=0}this.$y(u,x,y)},$y:function(u,v,w){this.waitingOnPanZoomServerResponse='waitingOnServer';this.resetIsWaitingOnTransition=false;var x=ss.mkdel(this,function(){this.reset()});tab.PanZoomCommands.pan(this.get_regionPart(),v,w,x,this.get_sheetid())},$v:function(u,v){if(this.waitingOnPanZoomServerResponse!=='normal'){return}this.$E(u);this.domPanZoomRect.set_pi(v);this.resetIsWaitingOnTransition=true;this.resetIsWaitingOnData=true;this.showDomDragImage(v)},$z:function(u,v){if(!tsConfig.allow_select){this.$Q.unsuppressHover(this);return}var w=this.get_shapeSelector().get_tooltipAnchor();var x=this.get_regionPart();var y=tab.PointUtil.add(w,this.getLocalOffsetPoint(false));var z=this.get_shapeSelector().get_hitTestingBox();var A=ss.mkdel(this,function(){v.multiSelectComplete(y,z,x);this.$Q.unsuppressHover(this)});var B=tab.ResolveSelectAction.fromNormalizedEvent(u,true);if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()){var C=this.doSelectMarkAndUbertipFromSelectionShape(B,A);if(tab.MiscUtil.isNullOrEmpty(C)||!tsConfig.allow_tooltip){this.$Q.unsuppressHover(this)}}else{this.get_shapeSelector().sendSelectionCommand(x,B,this.get_visualId(),A)}},$I:function(u,v){var w=tab.DomUtil.getRectXY(this.domPanZoomRect.get_dom());var x=this.toLocalCoordsRect(w,false);this.waitingOnPanZoomServerResponse='waitingOnServer';var y=this.domPanZoomRect.get_pi();if(x.w<4&&x.h<4){this.$K(u,y)}var z=this.getCenterPoint(y);if(!this.isZoomToolActive()){}if(this.get_currentPointerToolMode()==='zoom-out'){var A=this.paneTableViewModel.get_mapServerModel();if(A.get_hasPresModel()&&!tab.MapUtil.allowZoomAtCurrentLevel(A.get_mapServerPresModel().mapRequestZoom,2)){return}var B=0.5;this.$L(y,B);return}else{this.backgroundMap.zoomRect(x);var C=2;var D=1/C;tab.PanZoomCommands.zoomIn(x,z,D,this.get_sheetid())}var E=this.$l(x);var F=x.w;var G=x.h;var H=y.w/F;var I=y.h/G;if(y.canDragH&&y.canDragV){var J=Math.min(H,I);var K=this.paneTableViewModel.get_mapServerModel();if(K.get_hasPresModel()){J=tab.ZoomComputer.resolveDesiredScale(K.get_mapServerPresModel(),J)}H=I=J}else if(!y.canDragV){I=1;E.y=z.y}else if(!y.canDragH){H=1;E.x=z.x}else{return}if(tab.ApplicationModel.get_instance().get_isLocalRenderMode()||this.paneTableViewModel.get_visualModel().get_cacheUrlInfo().useUrl){this.animateZoomOnPoint(y,E,H,I)}}},tab.TiledViewerRegion);ss.initClass(s,a,{onMoving:function(){this.get_tooltip().close()},onDragEnd$1:function(){this.get_tooltip().close()},buildBehaviorsDictionary:function(){var u=new k(this.get_tooltip());this.tooltipBehaviors['sticky']=u},dispose:function(){this.get_tooltip().remove_showed(ss.mkdel(this,this.showCommandAreaAndActions));tab.TooltipBaseMode.prototype.dispose.call(this)}},tab.TooltipBaseLegacyMode);ss.initClass(t,a,{createPaneTableView:function(u){return new n(u)}},tab.VizZoneFactory,[tab.IVizZoneModule]);(function(){o.$0=[]})();(function(){g.$1=17;g.$2=10;g.$0=20})();(function(){tab.ObjectRegistry.registerType(tab.FloatingZoomToolbar,i).call(null)})();(function(){k.$1='.LegacyTooltipBehavior';k.$2=500;k.$3=250;k.$4=10000;k.$5=1200;k.$6=0;tab.ObjectRegistry.registerType(tab.ITooltipBehavior,k).call(null)})();(function(){tab.ObjectRegistry.registerType(tab.MapsSearchView,l).call(null)})();(function(){m.htmlTemplate="<div class='tab-tiledViewer placeholder'><div class='tab-clip'><h2 class='tab-tvTitle tvimagesNS'></h2><div class='tab-tvTLSpacer tvimagesNS'><img></img></div><div class='tab-tvTRSpacer tvimagesNS'><img></img></div><div class='tab-tvBLSpacer tvimagesNS'><img></img></div><div class='tab-tvBRSpacer tvimagesNS'><img></img></div><div class='tab-tvYLabel tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvLeftAxis tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvRightAxis tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvXLabel tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvBottomAxis tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvTopAxis tvimagesNS'><div class='tvimagesContainer'></div></div><div class='tab-tvView tvimagesNS'><div class='tvScrollContainer'><div class='tvBackgroundContainer'></div><div class='tvimagesContainer'></div></div><div class='tvViewportBorders'></div></div><div class='tab-tvCaption tvimagesNS'></div><div class='tab-tvScrollX tvimages'><div class='tvimagesContainer'></div></div><div class='tab-tvScrollY tvimages'><div class='tvimagesContainer'></div></div></div></div>"})();(function(){r.isDragTrackingInAnyRegion=false;r.$3=15;r.$4=15;r.$5=200;r.$6=null})();(function(){tab.ObjectRegistry.registerType(tab.TooltipBaseLegacyMode,s).call(null)})();(function(){p.sortingElementClassName='tab-tiledViewerSort'})();(function(){n.$2=500})()})();